(self.webpackChunktestaskk=self.webpackChunktestaskk||[]).push([[179],{922:(Da,_e,_t)=>{"use strict";var Me={};function K(r){return"function"==typeof r}function J(r){const t=r(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}_t.r(Me),_t.d(Me,{Decoder:()=>wN,Encoder:()=>NOe,PacketType:()=>Cs,protocol:()=>BOe});const H=J(r=>function(t){r(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,n)=>`${n+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Z(r,e){if(r){const t=r.indexOf(e);0<=t&&r.splice(t,1)}}class fe{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(K(i))try{i()}catch(s){e=s instanceof H?s.errors:[s]}const{_finalizers:n}=this;if(n){this._finalizers=null;for(const s of n)try{be(s)}catch(o){e=null!=e?e:[],o instanceof H?e=[...e,...o.errors]:e.push(o)}}if(e)throw new H(e)}}add(e){var t;if(e&&e!==this)if(this.closed)be(e);else{if(e instanceof fe){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Z(t,e)}remove(e){const{_finalizers:t}=this;t&&Z(t,e),e instanceof fe&&e._removeParent(this)}}fe.EMPTY=(()=>{const r=new fe;return r.closed=!0,r})();const Ee=fe.EMPTY;function me(r){return r instanceof fe||r&&"closed"in r&&K(r.remove)&&K(r.add)&&K(r.unsubscribe)}function be(r){K(r)?r():r.unsubscribe()}const j={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},re={setTimeout(r,e,...t){const{delegate:i}=re;return(null==i?void 0:i.setTimeout)?i.setTimeout(r,e,...t):setTimeout(r,e,...t)},clearTimeout(r){const{delegate:e}=re;return((null==e?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};function V(r){re.setTimeout(()=>{const{onUnhandledError:e}=j;if(!e)throw r;e(r)})}function q(){}const N=Ae("C",void 0,void 0);function Ae(r,e,t){return{kind:r,value:e,error:t}}let Fe=null;function dt(r){if(j.useDeprecatedSynchronousErrorHandling){const e=!Fe;if(e&&(Fe={errorThrown:!1,error:null}),r(),e){const{errorThrown:t,error:i}=Fe;if(Fe=null,t)throw i}}else r()}class Rt extends fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,me(e)&&e.add(this)):this.destination=Xi}static create(e,t,i){return new ve(e,t,i)}next(e){this.isStopped?mt(function he(r){return Ae("N",r,void 0)}(e),this):this._next(e)}error(e){this.isStopped?mt(function te(r){return Ae("E",void 0,r)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mt(N,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function Bt(r,e){return nt.call(r,e)}class Hi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){ct(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){ct(i)}else ct(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ct(t)}}}class ve extends Rt{constructor(e,t,i){let n;if(super(),K(e)||!e)n={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=i?i:void 0};else{let s;this&&j.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),n={next:e.next&&Bt(e.next,s),error:e.error&&Bt(e.error,s),complete:e.complete&&Bt(e.complete,s)}):n=e}this.destination=new Hi(n)}}function ct(r){j.useDeprecatedSynchronousErrorHandling?function st(r){j.useDeprecatedSynchronousErrorHandling&&Fe&&(Fe.errorThrown=!0,Fe.error=r)}(r):V(r)}function mt(r,e){const{onStoppedNotification:t}=j;t&&re.setTimeout(()=>t(r,e))}const Xi={closed:!0,next:q,error:function B(r){throw r},complete:q},kt="function"==typeof Symbol&&Symbol.observable||"@@observable";function vn(r){return r}let qe=(()=>{class r{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new r;return i.source=this,i.operator=t,i}subscribe(t,i,n){const s=function di(r){return r&&r instanceof Rt||function Ni(r){return r&&K(r.next)&&K(r.error)&&K(r.complete)}(r)&&me(r)}(t)?t:new ve(t,i,n);return dt(()=>{const{operator:o,source:l}=this;s.add(o?o.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Ue(i))((n,s)=>{const o=new ve({next:l=>{try{t(l)}catch(a){s(a),o.unsubscribe()}},error:s,complete:n});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[kt](){return this}pipe(...t){return function ji(r){return 0===r.length?vn:1===r.length?r[0]:function(t){return r.reduce((i,n)=>n(i),t)}}(t)(this)}toPromise(t){return new(t=Ue(t))((i,n)=>{let s;this.subscribe(o=>s=o,o=>n(o),()=>i(s))})}}return r.create=e=>new r(e),r})();function Ue(r){var e;return null!==(e=null!=r?r:j.Promise)&&void 0!==e?e:Promise}const It=J(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zs=(()=>{class r extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Jo(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new It}next(t){dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:n,observers:s}=this;return i||n?Ee:(this.currentObservers=null,s.push(t),new fe(()=>{this.currentObservers=null,Z(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:n,isStopped:s}=this;i?t.error(n):s&&t.complete()}asObservable(){const t=new qe;return t.source=this,t}}return r.create=(e,t)=>new Jo(e,t),r})();class Jo extends Zs{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Ee}}function bn(r){return e=>{if(function wn(r){return K(null==r?void 0:r.lift)}(e))return e.lift(function(t){try{return r(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Es(r,e,t,i,n){return new Pr(r,e,t,i,n)}class Pr extends Rt{constructor(e,t,i,n,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(l){try{t(l)}catch(a){e.error(a)}}:super._next,this._error=n?function(l){try{n(l)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Lo(r,e){return bn((t,i)=>{let n=0;t.subscribe(Es(i,s=>{i.next(r.call(e,s,n++))}))})}function Oo(r){return this instanceof Oo?(this.v=r,this):new Oo(r)}function ch(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=t.apply(r,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(p){i[p]&&(n[p]=function(g){return new Promise(function(f,m){s.push([p,g,f,m])>1||l(p,g)})})}function l(p,g){try{!function a(p){p.value instanceof Oo?Promise.resolve(p.value.v).then(c,d):u(s[0][2],p)}(i[p](g))}catch(f){u(s[0][3],f)}}function c(p){l("next",p)}function d(p){l("throw",p)}function u(p,g){p(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Ku(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=r[Symbol.asyncIterator];return e?e.call(r):(r=function Xt(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(o){return new Promise(function(l,a){!function n(s,o,l,a){Promise.resolve(a).then(function(c){s({value:c,done:l})},o)}(l,a,(o=r[s](o)).done,o.value)})}}}const Ev=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function $g(r){return K(null==r?void 0:r.then)}function Qu(r){return K(r[kt])}function Xu(r){return Symbol.asyncIterator&&K(null==r?void 0:r[Symbol.asyncIterator])}function Kg(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ju=function dA(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mS(r){return K(null==r?void 0:r[Ju])}function vS(r){return ch(this,arguments,function*(){const t=r.getReader();try{for(;;){const{value:i,done:n}=yield Oo(t.read());if(n)return yield Oo(void 0);yield yield Oo(i)}}finally{t.releaseLock()}})}function yS(r){return K(null==r?void 0:r.getReader)}function Zu(r){if(r instanceof qe)return r;if(null!=r){if(Qu(r))return function hA(r){return new qe(e=>{const t=r[kt]();if(K(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(Ev(r))return function $h(r){return new qe(e=>{for(let t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}(r);if($g(r))return function uA(r){return new qe(e=>{r.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,V)})}(r);if(Xu(r))return xS(r);if(mS(r))return function pA(r){return new qe(e=>{for(const t of r)if(e.next(t),e.closed)return;e.complete()})}(r);if(yS(r))return function gA(r){return xS(vS(r))}(r)}throw Kg(r)}function xS(r){return new qe(e=>{(function fA(r,e){var t,i,n,s;return function bt(r,e,t,i){return new(t||(t=Promise))(function(s,o){function l(d){try{c(i.next(d))}catch(u){o(u)}}function a(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):function n(s){return s instanceof t?s:new t(function(o){o(s)})}(d.value).then(l,a)}c((i=i.apply(r,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ku(r);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){n={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(n)throw n.error}}e.complete()})})(r,e).catch(t=>e.error(t))})}function uc(r,e,t,i=0,n=!1){const s=e.schedule(function(){t(),n?r.add(this.schedule(null,i)):this.unsubscribe()},i);if(r.add(s),!n)return s}function Tv(r,e,t=1/0){return K(e)?Tv((i,n)=>Lo((s,o)=>e(i,s,n,o))(Zu(r(i,n))),t):("number"==typeof e&&(t=e),bn((i,n)=>function mA(r,e,t,i,n,s,o,l){const a=[];let c=0,d=0,u=!1;const p=()=>{u&&!a.length&&!c&&e.complete()},g=m=>c<i?f(m):a.push(m),f=m=>{s&&e.next(m),c++;let v=!1;Zu(t(m,d++)).subscribe(Es(e,x=>{null==n||n(x),s?g(x):e.next(x)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;a.length&&c<i;){const x=a.shift();o?uc(e,o,()=>f(x)):f(x)}p()}catch(x){e.error(x)}}))};return r.subscribe(Es(e,g,()=>{u=!0,p()})),()=>{null==l||l()}}(i,n,r,t)))}const zC=new qe(r=>r.complete());function jC(r){return r[r.length-1]}function CS(r){return function yA(r){return r&&K(r.schedule)}(jC(r))?r.pop():void 0}function wS(r,e=0){return bn((t,i)=>{t.subscribe(Es(i,n=>uc(i,r,()=>i.next(n),e),()=>uc(i,r,()=>i.complete(),e),n=>uc(i,r,()=>i.error(n),e)))})}function Rv(r,e=0){return bn((t,i)=>{i.add(r.schedule(()=>t.subscribe(i),e))})}function Mm(r,e){if(!r)throw new Error("Iterable cannot be null");return new qe(t=>{uc(t,e,()=>{const i=r[Symbol.asyncIterator]();uc(t,e,()=>{i.next().then(n=>{n.done?t.complete():t.next(n.value)})},0,!0)})})}function Av(r,e){return e?function _A(r,e){if(null!=r){if(Qu(r))return function wA(r,e){return Zu(r).pipe(Rv(e),wS(e))}(r,e);if(Ev(r))return function GC(r,e){return new qe(t=>{let i=0;return e.schedule(function(){i===r.length?t.complete():(t.next(r[i++]),t.closed||this.schedule())})})}(r,e);if($g(r))return function kv(r,e){return Zu(r).pipe(Rv(e),wS(e))}(r,e);if(Xu(r))return Mm(r,e);if(mS(r))return function bA(r,e){return new qe(t=>{let i;return uc(t,e,()=>{i=r[Ju](),uc(t,e,()=>{let n,s;try{({value:n,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(n)},0,!0)}),()=>K(null==i?void 0:i.return)&&i.return()})}(r,e);if(yS(r))return function bS(r,e){return Mm(vS(r),e)}(r,e)}throw Kg(r)}(r,e):Zu(r)}function qC(r,e,...t){return!0===e?(r(),null):!1===e?null:e(...t).pipe(function _S(r){return r<=0?()=>zC:bn((e,t)=>{let i=0;e.subscribe(Es(t,n=>{++i<=r&&(t.next(n),r<=i&&t.complete())}))})}(1)).subscribe(()=>r())}function er(r){for(let e in r)if(r[e]===er)return e;throw Error("Could not find renamed property on target object.")}function WC(r,e){for(const t in e)e.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(r[t]=e[t])}function Vs(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Vs).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const e=r.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function UC(r,e){return null==r||""===r?null===e?"":e:null==e||""===e?r:r+" "+e}const DA=er({__forward_ref__:er});function jn(r){return r.__forward_ref__=jn,r.toString=function(){return Vs(this())},r}function yn(r){return SS(r)?r():r}function SS(r){return"function"==typeof r&&r.hasOwnProperty(DA)&&r.__forward_ref__===jn}class hi extends Error{constructor(e,t){super(function KC(r,e){return`NG0${Math.abs(r)}${e?": "+e:""}`}(e,t)),this.code=e}}function Zi(r){return"string"==typeof r?r:null==r?"":String(r)}function ra(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Zi(r)}function Fm(r,e){const t=e?` in ${e}`:"";throw new hi(-201,`No provider for ${ra(r)} found${t}`)}function Ea(r,e){null==r&&function mr(r,e,t,i){throw new Error(`ASSERTION ERROR: ${r}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,r,null,"!=")}function xn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function yt(r){return{providers:r.providers||[],imports:r.imports||[]}}function XC(r){return TS(r,De)||TS(r,ui)}function TS(r,e){return r.hasOwnProperty(e)?r[e]:null}function $(r){return r&&(r.hasOwnProperty(Qe)||r.hasOwnProperty(us))?r[Qe]:null}const De=er({\u0275prov:er}),Qe=er({\u0275inj:er}),ui=er({ngInjectableDef:er}),us=er({ngInjectorDef:er});var ai=(()=>((ai=ai||{})[ai.Default=0]="Default",ai[ai.Host=1]="Host",ai[ai.Self=2]="Self",ai[ai.SkipSelf=4]="SkipSelf",ai[ai.Optional=8]="Optional",ai))();let vr;function Ts(r){const e=vr;return vr=r,e}function gc(r,e,t){const i=XC(r);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ai.Optional?null:void 0!==e?e:void Fm(Vs(r),"Injector")}function Yc(r){return{toString:r}.toString()}var fc=(()=>((fc=fc||{})[fc.OnPush=0]="OnPush",fc[fc.Default=1]="Default",fc))(),Yh=(()=>{return(r=Yh||(Yh={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Yh;var r})();const Pue="undefined"!=typeof globalThis&&globalThis,Lue="undefined"!=typeof window&&window,Oue="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yr=Pue||"undefined"!=typeof global&&global||Lue||Oue,Fv={},Tr=[],AS=er({\u0275cmp:er}),FA=er({\u0275dir:er}),PA=er({\u0275pipe:er}),VH=er({\u0275mod:er}),Gp=er({\u0275fac:er}),JC=er({__NG_ELEMENT_ID__:er});let Bue=0;function Lr(r){return Yc(()=>{const t={},i={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===fc.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Tr,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Yh.Emulated,id:"c",styles:r.styles||Tr,_:null,setInput:null,schemas:r.schemas||null,tView:null},n=r.directives,s=r.features,o=r.pipes;return i.id+=Bue++,i.inputs=GH(r.inputs,t),i.outputs=GH(r.outputs),s&&s.forEach(l=>l(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(HH):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(zH):null,i})}function HH(r){return $a(r)||function Xg(r){return r[FA]||null}(r)}function zH(r){return function Pm(r){return r[PA]||null}(r)}const jH={};function wt(r){return Yc(()=>{const e={type:r.type,bootstrap:r.bootstrap||Tr,declarations:r.declarations||Tr,imports:r.imports||Tr,exports:r.exports||Tr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(jH[r.id]=r.type),e})}function GH(r,e){if(null==r)return Fv;const t={};for(const i in r)if(r.hasOwnProperty(i)){let n=r[i],s=n;Array.isArray(n)&&(s=n[1],n=n[0]),t[n]=i,e&&(e[n]=s)}return t}const Qt=Lr;function Qc(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function $a(r){return r[AS]||null}function hh(r,e){const t=r[VH]||null;if(!t&&!0===e)throw new Error(`Type ${Vs(r)} does not have '\u0275mod' property.`);return t}function ep(r){return Array.isArray(r)&&"object"==typeof r[1]}function Xh(r){return Array.isArray(r)&&!0===r[1]}function BA(r){return 0!=(8&r.flags)}function LS(r){return 2==(2&r.flags)}function OS(r){return 1==(1&r.flags)}function Jh(r){return null!==r.template}function Gue(r){return 0!=(512&r[2])}function Nm(r,e){return r.hasOwnProperty(Gp)?r[Gp]:null}class Uue{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function tp(){return WH}function WH(r){return r.type.prototype.ngOnChanges&&(r.setInput=Kue),$ue}function $ue(){const r=$H(this),e=null==r?void 0:r.current;if(e){const t=r.previous;if(t===Fv)r.previous=e;else for(let i in e)t[i]=e[i];r.current=null,this.ngOnChanges(e)}}function Kue(r,e,t,i){const n=$H(r)||function Yue(r,e){return r[UH]=e}(r,{previous:Fv,current:null}),s=n.current||(n.current={}),o=n.previous,l=this.declaredInputs[t],a=o[l];s[l]=new Uue(a&&a.currentValue,e,o===Fv),r[i]=e}tp.ngInherit=!0;const UH="__ngSimpleChanges__";function $H(r){return r[UH]||null}let jA;function Bo(r){return!!r.listen}const KH={createRenderer:(r,e)=>function GA(){return void 0!==jA?jA:"undefined"!=typeof document?document:void 0}()};function fl(r){for(;Array.isArray(r);)r=r[0];return r}function gh(r,e){return fl(e[r.index])}function qA(r,e){return r.data[e]}function Sd(r,e){const t=e[r];return ep(t)?t:t[0]}function YH(r){return 4==(4&r[2])}function WA(r){return 128==(128&r[2])}function Jg(r,e){return null==e?null:r[e]}function QH(r){r[18]=0}function UA(r,e){r[5]+=e;let t=r,i=r[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const en={lFrame:s8(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function XH(){return en.bindingsEnabled}function Dt(){return en.lFrame.lView}function ws(){return en.lFrame.tView}function Bl(){let r=JH();for(;null!==r&&64===r.type;)r=r.parent;return r}function JH(){return en.lFrame.currentTNode}function ip(r,e){const t=en.lFrame;t.currentTNode=r,t.isParent=e}function $A(){return en.lFrame.isParent}function KA(){en.lFrame.isParent=!1}function NS(){return en.isInCheckNoChangesMode}function VS(r){en.isInCheckNoChangesMode=r}function Vv(){return en.lFrame.bindingIndex++}function ppe(r,e){const t=en.lFrame;t.bindingIndex=t.bindingRootIndex=r,YA(e)}function YA(r){en.lFrame.currentDirectiveIndex=r}function t8(){return en.lFrame.currentQueryIndex}function XA(r){en.lFrame.currentQueryIndex=r}function fpe(r){const e=r[1];return 2===e.type?e.declTNode:1===e.type?r[6]:null}function i8(r,e,t){if(t&ai.SkipSelf){let n=e,s=r;for(;!(n=n.parent,null!==n||t&ai.Host||(n=fpe(s),null===n||(s=s[15],10&n.type))););if(null===n)return!1;e=n,r=s}const i=en.lFrame=n8();return i.currentTNode=e,i.lView=r,!0}function HS(r){const e=n8(),t=r[1];en.lFrame=e,e.currentTNode=t.firstChild,e.lView=r,e.tView=t,e.contextLView=r,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function n8(){const r=en.lFrame,e=null===r?null:r.child;return null===e?s8(r):e}function s8(r){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=e),e}function r8(){const r=en.lFrame;return en.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const o8=r8;function zS(){const r=r8();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function vc(){return en.lFrame.selectedIndex}function Zg(r){en.lFrame.selectedIndex=r}function No(){const r=en.lFrame;return qA(r.tView,r.selectedIndex)}function jS(r,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=r.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:a,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(r.contentHooks||(r.contentHooks=[])).push(-t,o),l&&((r.contentHooks||(r.contentHooks=[])).push(t,l),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(t,l)),a&&(r.viewHooks||(r.viewHooks=[])).push(-t,a),c&&((r.viewHooks||(r.viewHooks=[])).push(t,c),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(t,c)),null!=d&&(r.destroyHooks||(r.destroyHooks=[])).push(t,d)}}function GS(r,e,t){l8(r,e,3,t)}function qS(r,e,t,i){(3&r[2])===t&&l8(r,e,t,i)}function JA(r,e){let t=r[2];(3&t)===e&&(t&=2047,t+=1,r[2]=t)}function l8(r,e,t,i){const s=null!=i?i:-1,o=e.length-1;let l=0;for(let a=void 0!==i?65535&r[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(l=e[a],null!=i&&l>=i)break}else e[a]<0&&(r[18]+=65536),(l<s||-1==s)&&(Spe(r,t,e,a),r[18]=(4294901760&r[18])+a+2),a++}function Spe(r,e,t,i){const n=t[i]<0,s=t[i+1],l=r[n?-t[i]:t[i]];if(n){if(r[2]>>11<r[18]>>16&&(3&r[2])===e){r[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class nw{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function WS(r,e,t){const i=Bo(r);let n=0;for(;n<t.length;){const s=t[n];if("number"==typeof s){if(0!==s)break;n++;const o=t[n++],l=t[n++],a=t[n++];i?r.setAttribute(e,l,a,o):e.setAttributeNS(o,l,a)}else{const o=s,l=t[++n];eM(o)?i&&r.setProperty(e,o,l):i?r.setAttribute(e,o,l):e.setAttribute(o,l),n++}}return n}function a8(r){return 3===r||4===r||6===r}function eM(r){return 64===r.charCodeAt(0)}function US(r,e){if(null!==e&&0!==e.length)if(null===r||0===r.length)r=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const n=e[i];"number"==typeof n?t=n:0===t||c8(r,t,n,null,-1===t||2===t?e[++i]:null)}}return r}function c8(r,e,t,i,n){let s=0,o=r.length;if(-1===e)o=-1;else for(;s<r.length;){const l=r[s++];if("number"==typeof l){if(l===e){o=-1;break}if(l>e){o=s-1;break}}}for(;s<r.length;){const l=r[s];if("number"==typeof l)break;if(l===t){if(null===i)return void(null!==n&&(r[s+1]=n));if(i===r[s+1])return void(r[s+2]=n)}s++,null!==i&&s++,null!==n&&s++}-1!==o&&(r.splice(o,0,e),s=o+1),r.splice(s++,0,t),null!==i&&r.splice(s++,0,i),null!==n&&r.splice(s++,0,n)}function d8(r){return-1!==r}function Hv(r){return 32767&r}function zv(r,e){let t=function Rpe(r){return r>>16}(r),i=e;for(;t>0;)i=i[15],t--;return i}let tM=!0;function $S(r){const e=tM;return tM=r,e}let kpe=0;function rw(r,e){const t=nM(r,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(r.injectorIndex=e.length,iM(i.data,r),iM(e,null),iM(i.blueprint,null));const n=KS(r,e),s=r.injectorIndex;if(d8(n)){const o=Hv(n),l=zv(n,e),a=l[1].data;for(let c=0;c<8;c++)e[s+c]=l[o+c]|a[o+c]}return e[s+8]=n,s}function iM(r,e){r.push(0,0,0,0,0,0,0,0,e)}function nM(r,e){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===e[r.injectorIndex+8]?-1:r.injectorIndex}function KS(r,e){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let t=0,i=null,n=e;for(;null!==n;){const s=n[1],o=s.type;if(i=2===o?s.declTNode:1===o?n[6]:null,null===i)return-1;if(t++,n=n[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function YS(r,e,t){!function Ape(r,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(JC)&&(i=t[JC]),null==i&&(i=t[JC]=kpe++);const n=255&i;e.data[r+(n>>5)]|=1<<n}(r,e,t)}function p8(r,e,t){if(t&ai.Optional)return r;Fm(e,"NodeInjector")}function g8(r,e,t,i){if(t&ai.Optional&&void 0===i&&(i=null),0==(t&(ai.Self|ai.Host))){const n=r[9],s=Ts(void 0);try{return n?n.get(e,i,t&ai.Optional):gc(e,i,t&ai.Optional)}finally{Ts(s)}}return p8(i,e,t)}function f8(r,e,t,i=ai.Default,n){if(null!==r){const s=function Lpe(r){if("string"==typeof r)return r.charCodeAt(0)||0;const e=r.hasOwnProperty(JC)?r[JC]:void 0;return"number"==typeof e?e>=0?255&e:Fpe:e}(t);if("function"==typeof s){if(!i8(e,r,i))return i&ai.Host?p8(n,t,i):g8(e,t,i,n);try{const o=s(i);if(null!=o||i&ai.Optional)return o;Fm(t)}finally{o8()}}else if("number"==typeof s){let o=null,l=nM(r,e),a=-1,c=i&ai.Host?e[16][6]:null;for((-1===l||i&ai.SkipSelf)&&(a=-1===l?KS(r,e):e[l+8],-1!==a&&y8(i,!1)?(o=e[1],l=Hv(a),e=zv(a,e)):l=-1);-1!==l;){const d=e[1];if(v8(s,l,d.data)){const u=Ppe(l,e,t,o,i,c);if(u!==m8)return u}a=e[l+8],-1!==a&&y8(i,e[1].data[l+8]===c)&&v8(s,l,e)?(o=d,l=Hv(a),e=zv(a,e)):l=-1}}}return g8(e,t,i,n)}const m8={};function Fpe(){return new jv(Bl(),Dt())}function Ppe(r,e,t,i,n,s){const o=e[1],l=o.data[r+8],d=QS(l,o,t,null==i?LS(l)&&tM:i!=o&&0!=(3&l.type),n&ai.Host&&s===l);return null!==d?ow(e,o,d,l):m8}function QS(r,e,t,i,n){const s=r.providerIndexes,o=e.data,l=1048575&s,a=r.directiveStart,d=s>>20,p=n?l+d:r.directiveEnd;for(let g=i?l:l+d;g<p;g++){const f=o[g];if(g<a&&t===f||g>=a&&f.type===t)return g}if(n){const g=o[a];if(g&&Jh(g)&&g.type===t)return a}return null}function ow(r,e,t,i){let n=r[t];const s=e.data;if(function Ipe(r){return r instanceof nw}(n)){const o=n;o.resolving&&function EA(r,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${r}`:"";throw new hi(-200,`Circular dependency in DI detected for ${r}${t}`)}(ra(s[t]));const l=$S(o.canSeeViewProviders);o.resolving=!0;const a=o.injectImpl?Ts(o.injectImpl):null;i8(r,i,ai.Default);try{n=r[t]=o.factory(void 0,s,r,i),e.firstCreatePass&&t>=i.directiveStart&&function _pe(r,e,t){const{ngOnChanges:i,ngOnInit:n,ngDoCheck:s}=e.type.prototype;if(i){const o=WH(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(r,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r,o)}n&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-r,n),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r,s))}(t,s[t],e)}finally{null!==a&&Ts(a),$S(l),o.resolving=!1,o8()}}return n}function v8(r,e,t){return!!(t[e+(r>>5)]&1<<r)}function y8(r,e){return!(r&ai.Self||r&ai.Host&&e)}class jv{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return f8(this._tNode,this._lView,e,i,t)}}function Nl(r){return Yc(()=>{const e=r.prototype.constructor,t=e[Gp]||sM(e),i=Object.prototype;let n=Object.getPrototypeOf(r.prototype).constructor;for(;n&&n!==i;){const s=n[Gp]||sM(n);if(s&&s!==t)return s;n=Object.getPrototypeOf(n)}return s=>new s})}function sM(r){return SS(r)?()=>{const e=sM(yn(r));return e&&e()}:Nm(r)}const Wv="__prop__metadata__";function Ope(r,e,t,i){return Yc(()=>{const n=function oM(r){return function(...t){if(r){const i=r(...t);for(const n in i)this[n]=i[n]}}}(e);function s(...o){if(this instanceof s)return n.apply(this,o),this;const l=new s(...o);return function a(c,d){const u=c.constructor,p=u.hasOwnProperty(Wv)?u[Wv]:Object.defineProperty(u,Wv,{value:{}})[Wv];p[d]=p.hasOwnProperty(d)&&p[d]||[],p[d].unshift(l),i&&i(c,d,...o)}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=r,s.annotationCls=s,s})}class Ui{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=xn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}class Npe{}const Rs=Ope("ContentChild",(r,e={})=>Object.assign({selector:r,first:!0,isViewQuery:!1,descendants:!0},e),Npe);function fh(r,e){void 0===e&&(e=r);for(let t=0;t<r.length;t++){let i=r[t];Array.isArray(i)?(e===r&&(e=r.slice(0,t)),fh(i,e)):e!==r&&e.push(i)}return e}function np(r,e){r.forEach(t=>Array.isArray(t)?np(t,e):e(t))}function C8(r,e,t){e>=r.length?r.push(t):r.splice(e,0,t)}function XS(r,e){return e>=r.length-1?r.pop():r.splice(e,1)[0]}function cw(r,e){const t=[];for(let i=0;i<r;i++)t.push(e);return t}const dw={},ZS="ngTempTokenPath",Kpe=/\n/gm,I8="__source",Qpe=er({provide:String,useValue:er});let hw;function D8(r){const e=hw;return hw=r,e}function Xpe(r,e=ai.Default){if(void 0===hw)throw new hi(203,"");return null===hw?gc(r,void 0,e):hw.get(r,e&ai.Optional?null:void 0,e)}function Ji(r,e=ai.Default){return(function es(){return vr}()||Xpe)(yn(r),e)}const T8=Ji;function hM(r){const e=[];for(let t=0;t<r.length;t++){const i=yn(r[t]);if(Array.isArray(i)){if(0===i.length)throw new hi(900,"");let n,s=ai.Default;for(let o=0;o<i.length;o++){const l=i[o],a=Jpe(l);"number"==typeof a?-1===a?n=l.token:s|=a:n=l}e.push(Ji(n,s))}else e.push(Ji(i))}return e}function Jpe(r){return r.__NG_DI_FLAG__}const $8="__ngContext__";function Ya(r,e){r[$8]=e}function wM(r){const e=function vw(r){return r[$8]||null}(r);return e?Array.isArray(e)?e:e.lView:null}function _M(r){return r.ngOriginalError}function qge(r,...e){r.error(...e)}class yw{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=function Gge(r){return r&&r.ngErrorLogger||qge}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&_M(e);for(;t&&_M(t);)t=_M(t);return t||null}}const efe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yr))();function rp(r){return r instanceof Function?r():r}var Dd=(()=>((Dd=Dd||{})[Dd.Important=1]="Important",Dd[Dd.DashCase=2]="DashCase",Dd))();function IM(r,e){return undefined(r,e)}function xw(r){const e=r[3];return Xh(e)?e[3]:e}function DM(r){return iz(r[13])}function EM(r){return iz(r[4])}function iz(r){for(;null!==r&&!Xh(r);)r=r[4];return r}function Xv(r,e,t,i,n){if(null!=i){let s,o=!1;Xh(i)?s=i:ep(i)&&(o=!0,i=i[0]);const l=fl(i);0===r&&null!==t?null==n?az(e,t,l):Vm(e,t,l,n||null,!0):1===r&&null!==t?Vm(e,t,l,n||null,!0):2===r?function fz(r,e,t){const i=lI(r,e);i&&function gfe(r,e,t,i){Bo(r)?r.removeChild(e,t,i):e.removeChild(t)}(r,i,e,t)}(e,l,o):3===r&&e.destroyNode(l),null!=s&&function vfe(r,e,t,i,n){const s=t[7];s!==fl(t)&&Xv(e,r,i,s,n);for(let l=10;l<t.length;l++){const a=t[l];Cw(a[1],a,r,e,i,s)}}(e,r,s,t,n)}}function RM(r,e,t){if(Bo(r))return r.createElement(e,t);{const i=null!==t?function Zue(r){const e=r.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===i?r.createElement(e):r.createElementNS(i,e)}}function sz(r,e){const t=r[9],i=t.indexOf(e),n=e[3];1024&e[2]&&(e[2]&=-1025,UA(n,-1)),t.splice(i,1)}function kM(r,e){if(r.length<=10)return;const t=10+e,i=r[t];if(i){const n=i[17];null!==n&&n!==r&&sz(n,i),e>0&&(r[t-1][4]=i[4]);const s=XS(r,10+e);!function ofe(r,e){Cw(r,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function rz(r,e){if(!(256&e[2])){const t=e[11];Bo(t)&&t.destroyNode&&Cw(r,e,t,3,null,null),function cfe(r){let e=r[13];if(!e)return AM(r[1],r);for(;e;){let t=null;if(ep(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==r;)ep(e)&&AM(e[1],e),e=e[3];null===e&&(e=r),ep(e)&&AM(e[1],e),t=e&&e[4]}e=t}}(e)}}function AM(r,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function pfe(r,e){let t;if(null!=r&&null!=(t=r.destroyHooks))for(let i=0;i<t.length;i+=2){const n=e[t[i]];if(!(n instanceof nw)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=n[s[o]],a=s[o+1];try{a.call(l)}finally{}}else try{s.call(n)}finally{}}}}(r,e),function ufe(r,e){const t=r.cleanup,i=e[7];let n=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],l="function"==typeof o?o(e):fl(e[o]),a=i[n=t[s+2]],c=t[s+3];"boolean"==typeof c?l.removeEventListener(t[s],a,c):c>=0?i[n=c]():i[n=-c].unsubscribe(),s+=2}else{const o=i[n=t[s+1]];t[s].call(o)}if(null!==i){for(let s=n+1;s<i.length;s++)i[s]();e[7]=null}}(r,e),1===e[1].type&&Bo(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Xh(e[3])){t!==e[3]&&sz(t,e);const i=e[19];null!==i&&i.detachView(r)}}}function oz(r,e,t){return function lz(r,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const n=r.data[i.directiveStart].encapsulation;if(n===Yh.None||n===Yh.Emulated)return null}return gh(i,t)}(r,e.parent,t)}function Vm(r,e,t,i,n){Bo(r)?r.insertBefore(e,t,i,n):e.insertBefore(t,i,n)}function az(r,e,t){Bo(r)?r.appendChild(e,t):e.appendChild(t)}function cz(r,e,t,i,n){null!==i?Vm(r,e,t,i,n):az(r,e,t)}function lI(r,e){return Bo(r)?r.parentNode(e):e.parentNode}function dz(r,e,t){return uz(r,e,t)}let uz=function hz(r,e,t){return 40&r.type?gh(r,t):null};function cI(r,e){if(null!==e){const t=e.type;if(3&t)return gh(e,r);if(4&t)return FM(-1,r[e.index]);if(8&t){const i=e.child;if(null!==i)return cI(r,i);{const n=r[e.index];return Xh(n)?FM(-1,n):fl(n)}}if(32&t)return IM(e,r)()||fl(r[e.index]);{const i=gz(r,e);return null!==i?Array.isArray(i)?i[0]:cI(xw(r[16]),i):cI(r,e.next)}}return null}function gz(r,e){return null!==e?r[16][6].projection[e.projection]:null}function FM(r,e){const t=10+r+1;if(t<e.length){const i=e[t],n=i[1].firstChild;if(null!==n)return cI(i,n)}return e[7]}function PM(r,e,t,i,n,s,o){for(;null!=t;){const l=i[t.index],a=t.type;if(o&&0===e&&(l&&Ya(fl(l),i),t.flags|=4),64!=(64&t.flags))if(8&a)PM(r,e,t.child,i,n,s,!1),Xv(e,r,n,l,s);else if(32&a){const c=IM(t,i);let d;for(;d=c();)Xv(e,r,n,d,s);Xv(e,r,n,l,s)}else 16&a?mz(r,e,i,t,n,s):Xv(e,r,n,l,s);t=o?t.projectionNext:t.next}}function Cw(r,e,t,i,n,s){PM(t,i,r.firstChild,e,n,s,!1)}function mz(r,e,t,i,n,s){const o=t[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Xv(e,r,n,a[c],s);else PM(r,e,a,o[3],n,s,!0)}function vz(r,e,t){Bo(r)?r.setAttribute(e,"style",t):e.style.cssText=t}function LM(r,e,t){Bo(r)?""===t?r.removeAttribute(e,"class"):r.setAttribute(e,"class",t):e.className=t}function yz(r,e,t){let i=r.length;for(;;){const n=r.indexOf(e,t);if(-1===n)return n;if(0===n||r.charCodeAt(n-1)<=32){const s=e.length;if(n+s===i||r.charCodeAt(n+s)<=32)return n}t=n+1}}const xz="ng-template";function xfe(r,e,t){let i=0;for(;i<r.length;){let n=r[i++];if(t&&"class"===n){if(n=r[i],-1!==yz(n.toLowerCase(),e,0))return!0}else if(1===n){for(;i<r.length&&"string"==typeof(n=r[i++]);)if(n.toLowerCase()===e)return!0;return!1}}return!1}function Cz(r){return 4===r.type&&r.value!==xz}function Cfe(r,e,t){return e===(4!==r.type||t?r.value:xz)}function wfe(r,e,t){let i=4;const n=r.attrs||[],s=function Sfe(r){for(let e=0;e<r.length;e++)if(a8(r[e]))return e;return r.length}(n);let o=!1;for(let l=0;l<e.length;l++){const a=e[l];if("number"!=typeof a){if(!o)if(4&i){if(i=2|1&i,""!==a&&!Cfe(r,a,t)||""===a&&1===e.length){if(Zh(i))return!1;o=!0}}else{const c=8&i?a:e[++l];if(8&i&&null!==r.attrs){if(!xfe(r.attrs,c,t)){if(Zh(i))return!1;o=!0}continue}const u=bfe(8&i?"class":a,n,Cz(r),t);if(-1===u){if(Zh(i))return!1;o=!0;continue}if(""!==c){let p;p=u>s?"":n[u+1].toLowerCase();const g=8&i?p:null;if(g&&-1!==yz(g,c,0)||2&i&&c!==p){if(Zh(i))return!1;o=!0}}}}else{if(!o&&!Zh(i)&&!Zh(a))return!1;if(o&&Zh(a))continue;o=!1,i=a|1&i}}return Zh(i)||o}function Zh(r){return 0==(1&r)}function bfe(r,e,t,i){if(null===e)return-1;let n=0;if(i||!t){let s=!1;for(;n<e.length;){const o=e[n];if(o===r)return n;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=e[++n];for(;"string"==typeof l;)l=e[++n];continue}if(4===o)break;if(0===o){n+=4;continue}}n+=s?1:2}return-1}return function Ife(r,e){let t=r.indexOf(4);if(t>-1)for(t++;t<r.length;){const i=r[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,r)}function wz(r,e,t=!1){for(let i=0;i<e.length;i++)if(wfe(r,e[i],t))return!0;return!1}function Dfe(r,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(r.length===i.length){for(let n=0;n<r.length;n++)if(r[n]!==i[n])continue e;return!0}}return!1}function bz(r,e){return r?":not("+e.trim()+")":e}function Efe(r){let e=r[0],t=1,i=2,n="",s=!1;for(;t<r.length;){let o=r[t];if("string"==typeof o)if(2&i){const l=r[++t];n+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?n+="."+o:4&i&&(n+=" "+o);else""!==n&&!Zh(o)&&(e+=bz(s,n),n=""),i=o,s=s||!Zh(i);t++}return""!==n&&(e+=bz(s,n)),e}const ln={};function Jv(r){_z(ws(),Dt(),vc()+r,NS())}function _z(r,e,t,i){if(!i)if(3==(3&e[2])){const s=r.preOrderCheckHooks;null!==s&&GS(e,s,t)}else{const s=r.preOrderHooks;null!==s&&qS(e,s,0,t)}Zg(t)}function Pz(r,e){const t=r.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const n=t[i],s=t[i+1];if(-1!==s){const o=r.data[s];XA(n),o.contentQueries(2,e[s],s)}}}function ww(r,e,t,i,n,s,o,l,a,c){const d=e.blueprint.slice();return d[0]=n,d[2]=140|i,QH(d),d[3]=d[15]=r,d[8]=t,d[10]=o||r&&r[10],d[11]=l||r&&r[11],d[12]=a||r&&r[12]||null,d[9]=c||r&&r[9]||null,d[6]=s,d[16]=2==e.type?r[16]:d,d}function Zv(r,e,t,i,n){let s=r.data[e];if(null===s)s=function $M(r,e,t,i,n){const s=JH(),o=$A(),a=r.data[e]=function Wfe(r,e,t,i,n,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:n,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,n);return null===r.firstChild&&(r.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(r,e,t,i,n),function upe(){return en.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=n;const o=function iw(){const r=en.lFrame,e=r.currentTNode;return r.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ip(s,!0),s}function ey(r,e,t,i){if(0===t)return-1;const n=e.length;for(let s=0;s<t;s++)e.push(i),r.blueprint.push(i),r.data.push(null);return n}function bw(r,e,t){HS(e);try{const i=r.viewQuery;null!==i&&iF(1,i,t);const n=r.template;null!==n&&Lz(r,e,n,1,t),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Pz(r,e),r.staticViewQueries&&iF(2,r.viewQuery,t);const s=r.components;null!==s&&function jfe(r,e){for(let t=0;t<e.length;t++)cme(r,e[t])}(e,s)}catch(i){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),i}finally{e[2]&=-5,zS()}}function ty(r,e,t,i){const n=e[2];if(256==(256&n))return;HS(e);const s=NS();try{QH(e),function ZH(r){return en.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==t&&Lz(r,e,t,2,i);const o=3==(3&n);if(!s)if(o){const c=r.preOrderCheckHooks;null!==c&&GS(e,c,null)}else{const c=r.preOrderHooks;null!==c&&qS(e,c,0,null),JA(e,0)}if(function lme(r){for(let e=DM(r);null!==e;e=EM(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const n=t[i],s=n[3];0==(1024&n[2])&&UA(s,1),n[2]|=1024}}}(e),function ome(r){for(let e=DM(r);null!==e;e=EM(e))for(let t=10;t<e.length;t++){const i=e[t],n=i[1];WA(i)&&ty(n,i,n.template,i[8])}}(e),null!==r.contentQueries&&Pz(r,e),!s)if(o){const c=r.contentCheckHooks;null!==c&&GS(e,c)}else{const c=r.contentHooks;null!==c&&qS(e,c,1),JA(e,1)}!function Hfe(r,e){const t=r.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const n=t[i];if(n<0)Zg(~n);else{const s=n,o=t[++i],l=t[++i];ppe(o,s),l(2,e[s])}}}finally{Zg(-1)}}(r,e);const l=r.components;null!==l&&function zfe(r,e){for(let t=0;t<e.length;t++)ame(r,e[t])}(e,l);const a=r.viewQuery;if(null!==a&&iF(2,a,i),!s)if(o){const c=r.viewCheckHooks;null!==c&&GS(e,c)}else{const c=r.viewHooks;null!==c&&qS(e,c,2),JA(e,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,UA(e[3],-1))}finally{zS()}}function Gfe(r,e,t,i){const n=e[10],s=!NS(),o=YH(e);try{s&&!o&&n.begin&&n.begin(),o&&bw(r,e,i),ty(r,e,t,i)}finally{s&&!o&&n.end&&n.end()}}function Lz(r,e,t,i,n){const s=vc(),o=2&i;try{Zg(-1),o&&e.length>20&&_z(r,e,20,NS()),t(i,n)}finally{Zg(s)}}function Bz(r){const e=r.tView;return null===e||e.incompleteFirstPass?r.tView=pI(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):e}function pI(r,e,t,i,n,s,o,l,a,c){const d=20+i,u=d+n,p=function qfe(r,e){const t=[];for(let i=0;i<e;i++)t.push(i<r?null:ln);return t}(d,u),g="function"==typeof c?c():c;return p[1]={type:r,blueprint:p,template:t,queries:null,viewQuery:l,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:a,consts:g,incompleteFirstPass:!1}}function Hz(r,e,t,i){const n=Qz(e);null===t?n.push(i):(n.push(t),r.firstCreatePass&&Xz(r).push(i,n.length-1))}function zz(r,e,t){for(let i in r)if(r.hasOwnProperty(i)){const n=r[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,n):t[i]=[e,n]}return t}function Gz(r,e,t,i,n,s){const o=s.hostBindings;if(o){let l=r.hostBindingOpCodes;null===l&&(l=r.hostBindingOpCodes=[]);const a=~e.index;(function Xfe(r){let e=r.length;for(;e>0;){const t=r[--e];if("number"==typeof t&&t<0)return t}return 0})(l)!=a&&l.push(a),l.push(i,n,o)}}function qz(r,e){null!==r.hostBindings&&r.hostBindings(1,e)}function Wz(r,e){e.flags|=2,(r.components||(r.components=[])).push(e.index)}function ime(r,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=r;Jh(e)&&(t[""]=r)}}function Uz(r,e,t){r.flags|=1,r.directiveStart=e,r.directiveEnd=e+t,r.providerIndexes=e}function $z(r,e,t,i,n){r.data[i]=n;const s=n.factory||(n.factory=Nm(n.type)),o=new nw(s,Jh(n),null);r.blueprint[i]=o,t[i]=o,Gz(r,e,0,i,ey(r,t,n.hostVars,ln),n)}function nme(r,e,t){const i=gh(e,r),n=Bz(t),s=r[10],o=gI(r,ww(r,n,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));r[e.index]=o}function op(r,e,t,i,n,s){const o=gh(r,e);!function XM(r,e,t,i,n,s,o){if(null==s)Bo(r)?r.removeAttribute(e,n,t):e.removeAttribute(n);else{const l=null==o?Zi(s):o(s,i||"",n);Bo(r)?r.setAttribute(e,n,l,t):t?e.setAttributeNS(t,n,l):e.setAttribute(n,l)}}(e[11],o,s,r.value,t,i,n)}function sme(r,e,t,i,n,s){const o=s[e];if(null!==o){const l=i.setInput;for(let a=0;a<o.length;){const c=o[a++],d=o[a++],u=o[a++];null!==l?i.setInput(t,u,c,d):t[d]=u}}}function rme(r,e){let t=null,i=0;for(;i<e.length;){const n=e[i];if(0!==n)if(5!==n){if("number"==typeof n)break;r.hasOwnProperty(n)&&(null===t&&(t=[]),t.push(n,r[n],e[i+1])),i+=2}else i+=2;else i+=4}return t}function ame(r,e){const t=Sd(e,r);if(WA(t)){const i=t[1];80&t[2]?ty(i,t,i.template,t[8]):t[5]>0&&JM(t)}}function JM(r){for(let i=DM(r);null!==i;i=EM(i))for(let n=10;n<i.length;n++){const s=i[n];if(1024&s[2]){const o=s[1];ty(o,s,o.template,s[8])}else s[5]>0&&JM(s)}const t=r[1].components;if(null!==t)for(let i=0;i<t.length;i++){const n=Sd(t[i],r);WA(n)&&n[5]>0&&JM(n)}}function cme(r,e){const t=Sd(e,r),i=t[1];(function dme(r,e){for(let t=e.length;t<r.blueprint.length;t++)e.push(r.blueprint[t])})(i,t),bw(i,t,t[8])}function gI(r,e){return r[13]?r[14][4]=e:r[13]=e,r[14]=e,e}function ZM(r){for(;r;){r[2]|=64;const e=xw(r);if(Gue(r)&&!e)return r;r=e}return null}function tF(r,e,t){const i=e[10];i.begin&&i.begin();try{ty(r,e,r.template,t)}catch(n){throw Zz(e,n),n}finally{i.end&&i.end()}}function Yz(r){!function eF(r){for(let e=0;e<r.components.length;e++){const t=r.components[e],i=wM(t),n=i[1];Gfe(n,i,n.template,t)}}(r[8])}function iF(r,e,t){XA(0),e(r,t)}const gme=(()=>Promise.resolve(null))();function Qz(r){return r[7]||(r[7]=[])}function Xz(r){return r.cleanup||(r.cleanup=[])}function Zz(r,e){const t=r[9],i=t?t.get(yw,null):null;i&&i.handleError(e)}function e7(r,e,t,i,n){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],a=e[o],c=r.data[o];null!==c.setInput?c.setInput(a,n,i,l):a[l]=n}}function fI(r,e,t){let i=t?r.styles:null,n=t?r.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?s=l:1==s?n=UC(n,l):2==s&&(i=UC(i,l+": "+e[++o]+";"))}t?r.styles=i:r.stylesWithoutHost=i,t?r.classes=n:r.classesWithoutHost=n}const nF=new Ui("INJECTOR",-1);class t7{get(e,t=dw){if(t===dw){const i=new Error(`NullInjectorError: No provider for ${Vs(e)}!`);throw i.name="NullInjectorError",i}return t}}const sF=new Ui("Set Injector scope."),_w={},vme={};let rF;function i7(){return void 0===rF&&(rF=new t7),rF}function n7(r,e=null,t=null,i){const n=s7(r,e,t,i);return n._resolveInjectorDefTypes(),n}function s7(r,e=null,t=null,i){return new yme(r,t,e||i7(),i)}class yme{constructor(e,t,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&np(t,l=>this.processProvider(l,e,t)),np([e],l=>this.processInjectorType(l,[],s)),this.records.set(nF,iy(void 0,this));const o=this.records.get(sF);this.scope=null!=o?o.value:null,this.source=n||("object"==typeof e?null:Vs(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=dw,i=ai.Default){this.assertNotDestroyed();const n=D8(this),s=Ts(void 0);try{if(!(i&ai.SkipSelf)){let l=this.records.get(e);if(void 0===l){const a=function Dme(r){return"function"==typeof r||"object"==typeof r&&r instanceof Ui}(e)&&XC(e);l=a&&this.injectableDefInScope(a)?iy(oF(e),_w):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&ai.Self?i7():this.parent).get(e,t=i&ai.Optional&&t===dw?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ZS]=o[ZS]||[]).unshift(Vs(e)),n)throw o;return function Zpe(r,e,t,i){const n=r[ZS];throw e[I8]&&n.unshift(e[I8]),r.message=function ege(r,e,t,i=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let n=Vs(e);if(Array.isArray(e))n=e.map(Vs).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let l=e[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):Vs(l)))}n=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${n}]: ${r.replace(Kpe,"\n  ")}`}("\n"+r.message,n,t,i),r.ngTokenPath=n,r[ZS]=null,r}(o,e,"R3InjectorError",this.source)}throw o}finally{Ts(s),D8(n)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,n)=>e.push(Vs(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new hi(205,!1)}processInjectorType(e,t,i){if(!(e=yn(e)))return!1;let n=$(e);const s=null==n&&e.ngModule||void 0,o=void 0===s?e:s,l=-1!==i.indexOf(o);if(void 0!==s&&(n=$(s)),null==n)return!1;if(null!=n.imports&&!l){let d;i.push(o);try{np(n.imports,u=>{this.processInjectorType(u,t,i)&&(void 0===d&&(d=[]),d.push(u))})}finally{}if(void 0!==d)for(let u=0;u<d.length;u++){const{ngModule:p,providers:g}=d[u];np(g,f=>this.processProvider(f,p,g||Tr))}}this.injectorDefTypes.add(o);const a=Nm(o)||(()=>new o);this.records.set(o,iy(a,_w));const c=n.providers;if(null!=c&&!l){const d=e;np(c,u=>this.processProvider(u,d,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let n=ny(e=yn(e))?e:yn(e&&e.provide);const s=function Cme(r,e,t){return o7(r)?iy(void 0,r.useValue):iy(r7(r),_w)}(e);if(ny(e)||!0!==e.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=iy(void 0,_w,!0),o.factory=()=>hM(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,s)}hydrate(e,t){return t.value===_w&&(t.value=vme,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Ime(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=yn(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function oF(r){const e=XC(r),t=null!==e?e.factory:Nm(r);if(null!==t)return t;if(r instanceof Ui)throw new hi(204,!1);if(r instanceof Function)return function xme(r){const e=r.length;if(e>0)throw cw(e,"?"),new hi(204,!1);const t=function RS(r){const e=r&&(r[De]||r[ui]);if(e){const t=function AA(r){if(r.hasOwnProperty("name"))return r.name;const e=(""+r).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(r);return null!==t?()=>t.factory(r):()=>new r}(r);throw new hi(204,!1)}function r7(r,e,t){let i;if(ny(r)){const n=yn(r);return Nm(n)||oF(n)}if(o7(r))i=()=>yn(r.useValue);else if(function bme(r){return!(!r||!r.useFactory)}(r))i=()=>r.useFactory(...hM(r.deps||[]));else if(function wme(r){return!(!r||!r.useExisting)}(r))i=()=>Ji(yn(r.useExisting));else{const n=yn(r&&(r.useClass||r.provide));if(!function Sme(r){return!!r.deps}(r))return Nm(n)||oF(n);i=()=>new n(...hM(r.deps))}return i}function iy(r,e,t=!1){return{factory:r,value:e,multi:t?[]:void 0}}function o7(r){return null!==r&&"object"==typeof r&&Qpe in r}function ny(r){return"function"==typeof r}let pi=(()=>{class r{static create(t,i){var n;if(Array.isArray(t))return n7({name:""},i,t,"");{const s=null!==(n=t.name)&&void 0!==n?n:"";return n7({name:s},t.parent,t.providers,s)}}}return r.THROW_IF_NOT_FOUND=dw,r.NULL=new t7,r.\u0275prov=xn({token:r,providedIn:"any",factory:()=>Ji(nF)}),r.__NG_ELEMENT_ID__=-1,r})();function Pme(r,e){jS(wM(r)[1],Bl())}function Gt(r){let e=function y7(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),t=!0;const i=[r];for(;e;){let n;if(Jh(r))n=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new hi(903,"");n=e.\u0275dir}if(n){if(t){i.push(n);const o=r;o.inputs=cF(r.inputs),o.declaredInputs=cF(r.declaredInputs),o.outputs=cF(r.outputs);const l=n.hostBindings;l&&Nme(r,l);const a=n.viewQuery,c=n.contentQueries;if(a&&Ome(r,a),c&&Bme(r,c),WC(r.inputs,n.inputs),WC(r.declaredInputs,n.declaredInputs),WC(r.outputs,n.outputs),Jh(n)&&n.data.animation){const d=r.data;d.animation=(d.animation||[]).concat(n.data.animation)}}const s=n.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(r),l===Gt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Lme(r){let e=0,t=null;for(let i=r.length-1;i>=0;i--){const n=r[i];n.hostVars=e+=n.hostVars,n.hostAttrs=US(n.hostAttrs,t=US(t,n.hostAttrs))}}(i)}function cF(r){return r===Fv?{}:r===Tr?[]:r}function Ome(r,e){const t=r.viewQuery;r.viewQuery=t?(i,n)=>{e(i,n),t(i,n)}:e}function Bme(r,e){const t=r.contentQueries;r.contentQueries=t?(i,n,s)=>{e(i,n,s),t(i,n,s)}:e}function Nme(r,e){const t=r.hostBindings;r.hostBindings=t?(i,n)=>{e(i,n),t(i,n)}:e}let mI=null;function sy(){if(!mI){const r=yr.Symbol;if(r&&r.iterator)mI=r.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(mI=i)}}}return mI}function Qa(r,e,t){return!Object.is(r[e],t)&&(r[e]=t,!0)}function Kp(r,e,t,i){const n=Dt();return Qa(n,Vv(),e)&&(ws(),op(No(),n,r,e,t,i)),Kp}function Te(r,e=ai.Default){const t=Dt();return null===t?Ji(r,e):f8(Bl(),t,yn(r),e)}function rf(r,e,t){const i=Dt();return Qa(i,Vv(),e)&&function Ed(r,e,t,i,n,s,o,l){const a=gh(e,t);let d,c=e.inputs;!l&&null!=c&&(d=c[i])?(e7(r,t,d,i,n),LS(e)&&function Kfe(r,e){const t=Sd(e,r);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function $fe(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(i),n=null!=o?o(n,e.value||"",i):n,Bo(s)?s.setProperty(a,i,n):eM(i)||(a.setProperty?a.setProperty(i,n):a[i]=n))}(ws(),No(),i,r,e,i[11],t,!1),rf}function fF(r,e,t,i,n){const o=n?"class":"style";e7(r,t,e.inputs[o],o,i)}function zm(r,e,t,i){const n=Dt(),s=ws(),o=20+r,l=n[11],a=n[o]=RM(l,e,function bpe(){return en.lFrame.currentNamespace}()),c=s.firstCreatePass?function f0e(r,e,t,i,n,s,o){const l=e.consts,c=Zv(e,r,2,n,Jg(l,s));return function QM(r,e,t,i){let n=!1;if(XH()){const s=function eme(r,e,t){const i=r.directiveRegistry;let n=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];wz(t,o.selectors,!1)&&(n||(n=[]),YS(rw(t,e),r,o.type),Jh(o)?(Wz(r,t),n.unshift(o)):n.push(o))}return n}(r,e,t),o=null===i?null:{"":-1};if(null!==s){n=!0,Uz(t,r.data.length,s.length);for(let d=0;d<s.length;d++){const u=s[d];u.providersResolver&&u.providersResolver(u)}let l=!1,a=!1,c=ey(r,e,s.length,null);for(let d=0;d<s.length;d++){const u=s[d];t.mergedAttrs=US(t.mergedAttrs,u.hostAttrs),$z(r,t,e,c,u),ime(c,u,o),null!==u.contentQueries&&(t.flags|=8),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=128);const p=u.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t.index),l=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t.index),a=!0),c++}!function Ufe(r,e){const i=e.directiveEnd,n=r.data,s=e.attrs,o=[];let l=null,a=null;for(let c=e.directiveStart;c<i;c++){const d=n[c],u=d.inputs,p=null===s||Cz(e)?null:rme(u,s);o.push(p),l=zz(u,c,l),a=zz(d.outputs,c,a)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=l,e.outputs=a}(r,t)}o&&function tme(r,e,t){if(e){const i=r.localNames=[];for(let n=0;n<e.length;n+=2){const s=t[e[n+1]];if(null==s)throw new hi(-301,!1);i.push(e[n],s)}}}(t,i,o)}return t.mergedAttrs=US(t.mergedAttrs,t.attrs),n}(e,t,c,Jg(l,o)),null!==c.attrs&&fI(c,c.attrs,!1),null!==c.mergedAttrs&&fI(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,n,0,e,t,i):s.data[o];ip(c,!0);const d=c.mergedAttrs;null!==d&&WS(l,a,d);const u=c.classes;null!==u&&LM(l,a,u);const p=c.styles;return null!==p&&vz(l,a,p),64!=(64&c.flags)&&function aI(r,e,t,i){const n=oz(r,i,e),s=e[11],l=dz(i.parent||e[6],i,e);if(null!=n)if(Array.isArray(t))for(let a=0;a<t.length;a++)cz(s,n,t[a],l,!1);else cz(s,n,t,l,!1)}(s,n,a,c),0===function rpe(){return en.lFrame.elementDepthCount}()&&Ya(a,n),function ope(){en.lFrame.elementDepthCount++}(),OS(c)&&(function KM(r,e,t){!XH()||(function Jfe(r,e,t,i){const n=t.directiveStart,s=t.directiveEnd;r.firstCreatePass||rw(t,e),Ya(i,e);const o=t.initialInputs;for(let l=n;l<s;l++){const a=r.data[l],c=Jh(a);c&&nme(e,t,a);const d=ow(e,r,l,t);Ya(d,e),null!==o&&sme(0,l-n,d,a,0,o),c&&(Sd(t.index,e)[8]=d)}}(r,e,t,gh(t,e)),128==(128&t.flags)&&function Zfe(r,e,t){const i=t.directiveStart,n=t.directiveEnd,o=t.index,l=function gpe(){return en.lFrame.currentDirectiveIndex}();try{Zg(o);for(let a=i;a<n;a++){const c=r.data[a],d=e[a];YA(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&qz(c,d)}}finally{Zg(-1),YA(l)}}(r,e,t))}(s,n,c),function Oz(r,e,t){if(BA(e)){const n=e.directiveEnd;for(let s=e.directiveStart;s<n;s++){const o=r.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,n)),null!==i&&function YM(r,e,t=gh){const i=e.localNames;if(null!==i){let n=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],l=-1===o?t(e,r):r[o];r[n++]=l}}}(n,c),zm}function fy(){let r=Bl();$A()?KA():(r=r.parent,ip(r,!1));const e=r;!function lpe(){en.lFrame.elementDepthCount--}();const t=ws();return t.firstCreatePass&&(jS(t,r),BA(r)&&t.queries.elementEnd(r)),null!=e.classesWithoutHost&&function Epe(r){return 0!=(16&r.flags)}(e)&&fF(t,e,Dt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Tpe(r){return 0!=(32&r.flags)}(e)&&fF(t,e,Dt(),e.stylesWithoutHost,!1),fy}function mF(r,e,t,i){return zm(r,e,t,i),fy(),mF}function xI(r){return!!r&&"function"==typeof r.then}const H7=function V7(r){return!!r&&"function"==typeof r.subscribe};function Jc(r,e,t,i){const n=Dt(),s=ws(),o=Bl();return function j7(r,e,t,i,n,s,o,l){const a=OS(i),d=r.firstCreatePass&&Xz(r),u=e[8],p=Qz(e);let g=!0;if(3&i.type||l){const v=gh(i,e),x=l?l(v):v,w=p.length,b=l?I=>l(fl(I[i.index])):i.index;if(Bo(t)){let I=null;if(!l&&a&&(I=function y0e(r,e,t,i){const n=r.cleanup;if(null!=n)for(let s=0;s<n.length-1;s+=2){const o=n[s];if(o===t&&n[s+1]===i){const l=e[7],a=n[s+2];return l.length>a?l[a]:null}"string"==typeof o&&(s+=2)}return null}(r,e,n,i.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,g=!1;else{s=xF(i,e,u,s,!1);const k=t.listen(x,n,s);p.push(s,k),d&&d.push(n,b,w,w+1)}}else s=xF(i,e,u,s,!0),x.addEventListener(n,s,o),p.push(s),d&&d.push(n,b,w,o)}else s=xF(i,e,u,s,!1);const f=i.outputs;let m;if(g&&null!==f&&(m=f[n])){const v=m.length;if(v)for(let x=0;x<v;x+=2){const P=e[m[x]][m[x+1]].subscribe(s),W=p.length;p.push(s,P),d&&d.push(n,i.index,W,-(W+1))}}}(s,n,n[11],o,r,e,!!t,i),Jc}function G7(r,e,t,i){try{return!1!==t(i)}catch(n){return Zz(r,n),!1}}function xF(r,e,t,i,n){return function s(o){if(o===Function)return i;const l=2&r.flags?Sd(r.index,e):e;0==(32&e[2])&&ZM(l);let a=G7(e,0,i,o),c=s.__ngNextListenerFn__;for(;c;)a=G7(e,0,c,o)&&a,c=c.__ngNextListenerFn__;return n&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function C0e(r,e){let t=null;const i=function _fe(r){const e=r.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(r);for(let n=0;n<e.length;n++){const s=e[n];if("*"!==s){if(null===i?wz(r,s,!0):Dfe(i,s))return n}else t=n}return t}function my(r){const e=Dt()[16][6];if(!e.projection){const i=e.projection=cw(r?r.length:1,null),n=i.slice();let s=e.child;for(;null!==s;){const o=r?C0e(s,r):0;null!==o&&(n[o]?n[o].projectionNext=s:i[o]=s,n[o]=s),s=s.next}}}function vy(r,e=0,t){const i=Dt(),n=ws(),s=Zv(n,20+r,16,null,t||null);null===s.projection&&(s.projection=e),KA(),64!=(64&s.flags)&&function mfe(r,e,t){mz(e[11],0,e,t,oz(r,t,e),dz(t.parent||e[6],t,e))}(n,i,s)}const jm=void 0;var rve=["en",[["a","p"],["AM","PM"],jm],[["AM","PM"],jm,jm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jm,"{1} 'at' {0}",jm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sve(r){const t=Math.floor(Math.abs(r)),i=r.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let xy={};function xc(r){const e=function lve(r){return r.toLowerCase().replace(/_/g,"-")}(r);let t=P9(e);if(t)return t;const i=e.split("-")[0];if(t=P9(i),t)return t;if("en"===i)return rve;throw new Error(`Missing locale data for the locale "${r}".`)}function P9(r){return r in xy||(xy[r]=yr.ng&&yr.ng.common&&yr.ng.common.locales&&yr.ng.common.locales[r]),xy[r]}var oi=(()=>((oi=oi||{})[oi.LocaleId=0]="LocaleId",oi[oi.DayPeriodsFormat=1]="DayPeriodsFormat",oi[oi.DayPeriodsStandalone=2]="DayPeriodsStandalone",oi[oi.DaysFormat=3]="DaysFormat",oi[oi.DaysStandalone=4]="DaysStandalone",oi[oi.MonthsFormat=5]="MonthsFormat",oi[oi.MonthsStandalone=6]="MonthsStandalone",oi[oi.Eras=7]="Eras",oi[oi.FirstDayOfWeek=8]="FirstDayOfWeek",oi[oi.WeekendRange=9]="WeekendRange",oi[oi.DateFormat=10]="DateFormat",oi[oi.TimeFormat=11]="TimeFormat",oi[oi.DateTimeFormat=12]="DateTimeFormat",oi[oi.NumberSymbols=13]="NumberSymbols",oi[oi.NumberFormats=14]="NumberFormats",oi[oi.CurrencyCode=15]="CurrencyCode",oi[oi.CurrencySymbol=16]="CurrencySymbol",oi[oi.CurrencyName=17]="CurrencyName",oi[oi.Currencies=18]="Currencies",oi[oi.Directionality=19]="Directionality",oi[oi.PluralCase=20]="PluralCase",oi[oi.ExtraData=21]="ExtraData",oi))();const bI="en-US";let L9=bI;function IF(r,e,t,i,n){if(r=yn(r),Array.isArray(r))for(let s=0;s<r.length;s++)IF(r[s],e,t,i,n);else{const s=ws(),o=Dt();let l=ny(r)?r:yn(r.provide),a=r7(r);const c=Bl(),d=1048575&c.providerIndexes,u=c.directiveStart,p=c.providerIndexes>>20;if(ny(r)||!r.multi){const g=new nw(a,n,Te),f=EF(l,e,n?d:d+p,u);-1===f?(YS(rw(c,o),s,l),DF(s,r,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),t.push(g),o.push(g)):(t[f]=g,o[f]=g)}else{const g=EF(l,e,d+p,u),f=EF(l,e,d,d+p),m=g>=0&&t[g],v=f>=0&&t[f];if(n&&!v||!n&&!m){YS(rw(c,o),s,l);const x=function rye(r,e,t,i,n){const s=new nw(r,t,Te);return s.multi=[],s.index=e,s.componentProviders=0,rj(s,n,i&&!t),s}(n?sye:nye,t.length,n,i,a);!n&&v&&(t[f].providerFactory=x),DF(s,r,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),t.push(x),o.push(x)}else DF(s,r,g>-1?g:f,rj(t[n?f:g],a,!n&&i));!n&&i&&v&&t[f].componentProviders++}}}function DF(r,e,t,i){const n=ny(e),s=function _me(r){return!!r.useClass}(e);if(n||s){const a=(s?yn(e.useClass):e).prototype.ngOnDestroy;if(a){const c=r.destroyHooks||(r.destroyHooks=[]);if(!n&&e.multi){const d=c.indexOf(t);-1===d?c.push(t,[i,a]):c[d+1].push(i,a)}else c.push(t,a)}}}function rj(r,e,t){return t&&r.componentProviders++,r.multi.push(e)-1}function EF(r,e,t,i){for(let n=t;n<i;n++)if(e[n]===r)return n;return-1}function nye(r,e,t,i){return TF(this.multi,[])}function sye(r,e,t,i){const n=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=ow(t,t[1],this.providerFactory.index,i);s=l.slice(0,o),TF(n,s);for(let a=o;a<l.length;a++)s.push(l[a])}else s=[],TF(n,s);return s}function TF(r,e){for(let t=0;t<r.length;t++)e.push((0,r[t])());return e}function ps(r,e=[]){return t=>{t.providersResolver=(i,n)=>function iye(r,e,t){const i=ws();if(i.firstCreatePass){const n=Jh(r);IF(t,i.data,i.blueprint,n,!0),IF(e,i.data,i.blueprint,n,!1)}}(i,n?n(r):r,e)}}class oj{}class aye{resolveComponentFactory(e){throw function lye(r){const e=Error(`No component factory found for ${Vs(r)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=r,e}(e)}}let EI=(()=>{class r{}return r.NULL=new aye,r})();function cye(){return wy(Bl(),Dt())}function wy(r,e){return new mi(gh(r,e))}let mi=(()=>{class r{constructor(t){this.nativeElement=t}}return r.__NG_ELEMENT_ID__=cye,r})();function dye(r){return r instanceof mi?r.nativeElement:r}class Aw{}let _i=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function uye(){const r=Dt(),t=Sd(Bl().index,r);return function hye(r){return r[11]}(ep(t)?t:r)}(),r})(),pye=(()=>{class r{}return r.\u0275prov=xn({token:r,providedIn:"root",factory:()=>null}),r})();class TI{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gye=new TI("13.2.7"),RF={};function RI(r,e,t,i,n=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(fl(s)),Xh(s))for(let l=10;l<s.length;l++){const a=s[l],c=a[1].firstChild;null!==c&&RI(a[1],a,c,i)}const o=t.type;if(8&o)RI(r,e,t.child,i);else if(32&o){const l=IM(t,e);let a;for(;a=l();)i.push(a)}else if(16&o){const l=gz(e,t);if(Array.isArray(l))i.push(...l);else{const a=xw(e[16]);RI(a[1],a,l,i,!0)}}t=n?t.projectionNext:t.next}return i}class Mw{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return RI(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Xh(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(kM(e,i),XS(t,i))}this._attachedToViewContainer=!1}rz(this._lView[1],this._lView)}onDestroy(e){Hz(this._lView[1],this._lView,null,e)}markForCheck(){ZM(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){tF(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ume(r,e,t){VS(!0);try{tF(r,e,t)}finally{VS(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new hi(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function afe(r,e){Cw(r,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new hi(902,"");this._appRef=e}}class fye extends Mw{constructor(e){super(e),this._view=e}detectChanges(){Yz(this._view)}checkNoChanges(){!function pme(r){VS(!0);try{Yz(r)}finally{VS(!1)}}(this._view)}get context(){return null}}class aj extends EI{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$a(e);return new kF(t,this.ngModule)}}function cj(r){const e=[];for(let t in r)r.hasOwnProperty(t)&&e.push({propName:r[t],templateName:t});return e}class kF extends oj{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Tfe(r){return r.map(Efe).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return cj(this.componentDef.inputs)}get outputs(){return cj(this.componentDef.outputs)}create(e,t,i,n){const s=(n=n||this.ngModule)?function vye(r,e){return{get:(t,i,n)=>{const s=r.get(t,RF,n);return s!==RF||i===RF?s:e.get(t,i,n)}}}(e,n.injector):e,o=s.get(Aw,KH),l=s.get(pye,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=i?function Vz(r,e,t){if(Bo(r))return r.selectRootElement(e,t===Yh.ShadowDom);let i="string"==typeof e?r.querySelector(e):e;return i.textContent="",i}(a,i,this.componentDef.encapsulation):RM(o.createRenderer(null,this.componentDef),c,function mye(r){const e=r.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),u=this.componentDef.onPush?576:528,p=function v7(r,e){return{components:[],scheduler:r||efe,clean:gme,playerHandler:e||null,flags:0}}(),g=pI(0,null,null,1,0,null,null,null,null,null),f=ww(null,g,p,u,null,null,o,a,l,s);let m,v;HS(f);try{const x=function f7(r,e,t,i,n,s){const o=t[1];t[20]=r;const a=Zv(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(fI(a,c,!0),null!==r&&(WS(n,r,c),null!==a.classes&&LM(n,r,a.classes),null!==a.styles&&vz(n,r,a.styles)));const d=i.createRenderer(r,e),u=ww(t,Bz(e),null,e.onPush?64:16,t[20],a,i,d,s||null,null);return o.firstCreatePass&&(YS(rw(a,t),o,e.type),Wz(o,a),Uz(a,t.length,1)),gI(t,u),t[20]=u}(d,this.componentDef,f,o,a);if(d)if(i)WS(a,d,["ng-version",gye.full]);else{const{attrs:w,classes:b}=function Rfe(r){const e=[],t=[];let i=1,n=2;for(;i<r.length;){let s=r[i];if("string"==typeof s)2===n?""!==s&&e.push(s,r[++i]):8===n&&t.push(s);else{if(!Zh(n))break;n=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);w&&WS(a,d,w),b&&b.length>0&&LM(a,d,b.join(" "))}if(v=qA(g,20),void 0!==t){const w=v.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const I=t[b];w.push(null!=I?Array.from(I):null)}}m=function m7(r,e,t,i,n){const s=t[1],o=function Qfe(r,e,t){const i=Bl();r.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),$z(r,i,e,ey(r,e,1,null),t));const n=ow(e,r,i.directiveStart,i);Ya(n,e);const s=gh(i,e);return s&&Ya(s,e),n}(s,t,e);if(i.components.push(o),r[8]=o,n&&n.forEach(a=>a(o,e)),e.contentQueries){const a=Bl();e.contentQueries(1,o,a.directiveStart)}const l=Bl();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Zg(l.index),Gz(t[1],l,0,l.directiveStart,l.directiveEnd,e),qz(e,o)),o}(x,this.componentDef,f,p,[Pme]),bw(g,f,null)}finally{zS()}return new xye(this.componentType,m,wy(v,f),f,v)}}class xye extends class oye{}{constructor(e,t,i,n,s){super(),this.location=i,this._rootLView=n,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new fye(n),this.componentType=e}get injector(){return new jv(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class by{}const _y=new Map;class uj extends by{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new aj(this);const i=hh(e);this._bootstrapComponents=rp(i.bootstrap),this._r3Injector=s7(e,t,[{provide:by,useValue:this},{provide:EI,useValue:this.componentFactoryResolver}],Vs(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=pi.THROW_IF_NOT_FOUND,i=ai.Default){return e===pi||e===by||e===nF?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class AF extends class wye{}{constructor(e){super(),this.moduleType=e,null!==hh(e)&&function bye(r){const e=new Set;!function t(i){const n=hh(i,!0),s=n.id;null!==s&&(function dj(r,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${r} - ${Vs(e)} vs ${Vs(e.name)}`)}(s,_y.get(s),i),_y.set(s,i));const o=rp(n.imports);for(const l of o)e.has(l)||(e.add(l),t(l))}(r)}(e)}create(e){return new uj(this.moduleType,e)}}function MF(r){return e=>{setTimeout(r,void 0,e)}}const Ho=class Hye extends Zs{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var n,s,o;let l=e,a=t||(()=>null),c=i;if(e&&"object"==typeof e){const u=e;l=null===(n=u.next)||void 0===n?void 0:n.bind(u),a=null===(s=u.error)||void 0===s?void 0:s.bind(u),c=null===(o=u.complete)||void 0===o?void 0:o.bind(u)}this.__isAsync&&(a=MF(a),l&&(l=MF(l)),c&&(c=MF(c)));const d=super.subscribe({next:l,error:a,complete:c});return e instanceof fe&&e.add(d),d}};function zye(){return this._results[sy()]()}class FF{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=sy(),i=FF.prototype;i[t]||(i[t]=zye)}get changes(){return this._changes||(this._changes=new Ho)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const n=fh(e);(this._changesDetected=!function Vpe(r,e,t){if(r.length!==e.length)return!1;for(let i=0;i<r.length;i++){let n=r[i],s=e[i];if(t&&(n=t(n),s=t(s)),s!==n)return!1}return!0}(i._results,n,t))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Yp=(()=>{class r{}return r.__NG_ELEMENT_ID__=qye,r})();const jye=Yp,Gye=class extends jye{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=ww(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),bw(t,i,e),new Mw(i)}};function qye(){return kI(Bl(),Dt())}function kI(r,e){return 4&r.type?new Gye(e,r,wy(r,e)):null}let $t=(()=>{class r{}return r.__NG_ELEMENT_ID__=Wye,r})();function Wye(){return Cj(Bl(),Dt())}const Uye=$t,yj=class extends Uye{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return wy(this._hostTNode,this._hostLView)}get injector(){return new jv(this._hostTNode,this._hostLView)}get parentInjector(){const e=KS(this._hostTNode,this._hostLView);if(d8(e)){const t=zv(e,this._hostLView),i=Hv(e);return new jv(t[1].data[i+8],t)}return new jv(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=xj(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const n=e.createEmbeddedView(t||{});return this.insert(n,i),n}createComponent(e,t,i,n,s){const o=e&&!function aw(r){return"function"==typeof r}(e);let l;if(o)l=t;else{const u=t||{};l=u.index,i=u.injector,n=u.projectableNodes,s=u.ngModuleRef}const a=o?e:new kF($a(e)),c=i||this.parentInjector;if(!s&&null==a.ngModule){const p=(o?c:this.parentInjector).get(by,null);p&&(s=p)}const d=a.create(c,n,void 0,s);return this.insert(d.hostView,l),d}insert(e,t){const i=e._lView,n=i[1];if(function spe(r){return Xh(r[3])}(i)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const u=i[3],p=new yj(u,u[6],u[3]);p.detach(p.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function dfe(r,e,t,i){const n=10+i,s=t.length;i>0&&(t[n-1][4]=e),i<s-10?(e[4]=t[n],C8(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function hfe(r,e){const t=r[9];e[16]!==e[3][3][16]&&(r[2]=!0),null===t?r[9]=[e]:t.push(e)}(o,e);const l=e[19];null!==l&&l.insertView(r),e[2]|=128}(n,i,o,s);const l=FM(s,o),a=i[11],c=lI(a,o[7]);return null!==c&&function lfe(r,e,t,i,n,s){i[0]=n,i[6]=e,Cw(r,i,t,1,n,s)}(n,o[6],a,i,c,l),e.attachToViewContainerRef(),C8(PF(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=xj(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=kM(this._lContainer,t);i&&(XS(PF(this._lContainer),t),rz(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=kM(this._lContainer,t);return i&&null!=XS(PF(this._lContainer),t)?new Mw(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function xj(r){return r[8]}function PF(r){return r[8]||(r[8]=[])}function Cj(r,e){let t;const i=e[r.index];if(Xh(i))t=i;else{let n;if(8&r.type)n=fl(i);else{const s=e[11];n=s.createComment("");const o=gh(r,e);Vm(s,lI(s,o),n,function ffe(r,e){return Bo(r)?r.nextSibling(e):e.nextSibling}(s,o),!1)}e[r.index]=t=function Kz(r,e,t,i){return new Array(r,!0,!1,e,null,0,i,t,null,null)}(i,e,n,r),gI(e,t)}return new yj(t,r,e)}class LF{constructor(e){this.queryList=e,this.matches=null}clone(){return new LF(this.queryList)}setDirty(){this.queryList.setDirty()}}class OF{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);n.push(this.queries[o.indexInDeclarationView].clone())}return new OF(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ij(e,t).matches&&this.queries[t].setDirty()}}class wj{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class BF{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const n=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,n);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new BF(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class NF{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new NF(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const s=i[n];this.matchTNodeWithReadOption(e,t,Yye(t,s)),this.matchTNodeWithReadOption(e,t,QS(t,e,s,!1,!1))}else i===Yp?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,QS(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===mi||n===$t||n===Yp&&4&t.type)this.addMatch(t.index,-2);else{const s=QS(t,e,n,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Yye(r,e){const t=r.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Xye(r,e,t,i){return-1===t?function Qye(r,e){return 11&r.type?wy(r,e):4&r.type?kI(r,e):null}(e,r):-2===t?function Jye(r,e,t){return t===mi?wy(e,r):t===Yp?kI(e,r):t===$t?Cj(e,r):void 0}(r,e,i):ow(r,r[1],t,e)}function bj(r,e,t,i){const n=e[19].queries[i];if(null===n.matches){const s=r.data,o=t.matches,l=[];for(let a=0;a<o.length;a+=2){const c=o[a];l.push(c<0?null:Xye(e,s[c],o[a+1],t.metadata.read))}n.matches=l}return n.matches}function VF(r,e,t,i){const n=r.queries.getByIndex(t),s=n.matches;if(null!==s){const o=bj(r,e,n,t);for(let l=0;l<s.length;l+=2){const a=s[l];if(a>0)i.push(o[l/2]);else{const c=s[l+1],d=e[-a];for(let u=10;u<d.length;u++){const p=d[u];p[17]===p[3]&&VF(p[1],p,c,i)}if(null!==d[9]){const u=d[9];for(let p=0;p<u.length;p++){const g=u[p];VF(g[1],g,c,i)}}}}}return i}function ut(r){const e=Dt(),t=ws(),i=t8();XA(i+1);const n=Ij(t,i);if(r.dirty&&YH(e)===(2==(2&n.metadata.flags))){if(null===n.matches)r.reset([]);else{const s=n.crossesNgTemplate?VF(t,e,i,[]):bj(t,e,n,i);r.reset(s,dye),r.notifyOnChanges()}return!0}return!1}function Lw(r,e,t){const i=ws();i.firstCreatePass&&(Sj(i,new wj(r,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),_j(i,Dt(),e)}function vt(r,e,t,i){const n=ws();if(n.firstCreatePass){const s=Bl();Sj(n,new wj(e,t,i),s.index),function exe(r,e){const t=r.contentQueries||(r.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(r.queries.length-1,e)}(n,r),2==(2&t)&&(n.staticContentQueries=!0)}_j(n,Dt(),t)}function pt(){return function Zye(r,e){return r[19].queries[e].queryList}(Dt(),t8())}function _j(r,e,t){const i=new FF(4==(4&t));Hz(r,e,i,i.destroy),null===e[19]&&(e[19]=new OF),e[19].queries.push(new LF(i))}function Sj(r,e,t){null===r.queries&&(r.queries=new BF),r.queries.track(new NF(e,t))}function Ij(r,e){return r.queries.getByIndex(e)}function FI(...r){}const jj=new Ui("Application Initializer");let WF=(()=>{class r{constructor(t){this.appInits=t,this.resolve=FI,this.reject=FI,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const s=this.appInits[n]();if(xI(s))t.push(s);else if(H7(s)){const o=new Promise((l,a)=>{s.subscribe({complete:l,error:a})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(n=>{this.reject(n)}),0===t.length&&i(),this.initialized=!0}}return r.\u0275fac=function(t){return new(t||r)(Ji(jj,8))},r.\u0275prov=xn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Bw=new Ui("AppId",{providedIn:"root",factory:function Gj(){return`${UF()}${UF()}${UF()}`}});function UF(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qj=new Ui("Platform Initializer"),PI=new Ui("Platform ID"),yxe=new Ui("appBootstrapListener");let xxe=(()=>{class r{log(t){console.log(t)}warn(t){console.warn(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();const of=new Ui("LocaleId",{providedIn:"root",factory:()=>T8(of,ai.Optional|ai.SkipSelf)||function Cxe(){return"undefined"!=typeof $localize&&$localize.locale||bI}()}),wxe=new Ui("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Sxe=(()=>Promise.resolve(0))();function $F(r){"undefined"==typeof Zone?Sxe.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ta{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&t,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function Ixe(){let r=yr.requestAnimationFrame,e=yr.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&e){const t=r[Zone.__symbol__("OriginalDelegate")];t&&(r=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Txe(r){const e=()=>{!function Exe(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(yr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,YF(r),r.isCheckStableRunning=!0,KF(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),YF(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,n,s,o,l)=>{try{return Wj(r),t.invokeTask(n,s,o,l)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||r.shouldCoalesceRunChangeDetection)&&e(),Uj(r)}},onInvoke:(t,i,n,s,o,l,a)=>{try{return Wj(r),t.invoke(n,s,o,l,a)}finally{r.shouldCoalesceRunChangeDetection&&e(),Uj(r)}},onHasTask:(t,i,n,s)=>{t.hasTask(n,s),i===n&&("microTask"==s.change?(r._hasPendingMicrotasks=s.microTask,YF(r),KF(r)):"macroTask"==s.change&&(r.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,n,s)=>(t.handleError(n,s),r.runOutsideAngular(()=>r.onError.emit(s)),!1)})}(n)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ta.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ta.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+n,e,Dxe,FI,FI);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Dxe={};function KF(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function YF(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Wj(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Uj(r){r._nesting--,KF(r)}class Rxe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}}let QF=(()=>{class r{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ta.assertNotInAngularZone(),$F(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$F(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,n){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:n})}whenStable(t,i,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,n){return[]}}return r.\u0275fac=function(t){return new(t||r)(Ji(Ta))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})(),$j=(()=>{class r{constructor(){this._applications=new Map,XF.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return XF.findTestabilityInTree(this,t,i)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();class kxe{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let su,XF=new kxe;const Kj=new Ui("AllowMultipleToken");function Yj(r,e,t=[]){const i=`Platform: ${e}`,n=new Ui(i);return(s=[])=>{let o=Qj();if(!o||o.injector.get(Kj,!1))if(r)r(t.concat(s).concat({provide:n,useValue:!0}));else{const l=t.concat(s).concat({provide:n,useValue:!0},{provide:sF,useValue:"platform"});!function Pxe(r){if(su&&!su.destroyed&&!su.injector.get(Kj,!1))throw new hi(400,"");su=r.get(Xj);const e=r.get(qj,null);e&&e.forEach(t=>t())}(pi.create({providers:l,name:i}))}return function Lxe(r){const e=Qj();if(!e)throw new hi(401,"");return e}()}}function Qj(){return su&&!su.destroyed?su:null}let Xj=(()=>{class r{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const l=function Oxe(r,e){let t;return t="noop"===r?new Rxe:("zone.js"===r?void 0:r)||new Ta({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),a=[{provide:Ta,useValue:l}];return l.run(()=>{const c=pi.create({providers:a,parent:this.injector,name:t.moduleType.name}),d=t.create(c),u=d.injector.get(yw,null);if(!u)throw new hi(402,"");return l.runOutsideAngular(()=>{const p=l.onError.subscribe({next:g=>{u.handleError(g)}});d.onDestroy(()=>{JF(this._modules,d),p.unsubscribe()})}),function Bxe(r,e,t){try{const i=t();return xI(i)?i.catch(n=>{throw e.runOutsideAngular(()=>r.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>r.handleError(i)),i}}(u,l,()=>{const p=d.injector.get(WF);return p.runInitializers(),p.donePromise.then(()=>(function hve(r){Ea(r,"Expected localeId to be defined"),"string"==typeof r&&(L9=r.toLowerCase().replace(/_/g,"-"))}(d.injector.get(of,bI)||bI),this._moduleDoBootstrap(d),d))})})}bootstrapModule(t,i=[]){const n=Jj({},i);return function Mxe(r,e,t){const i=new AF(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,n))}_moduleDoBootstrap(t){const i=t.injector.get(Zj);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(n=>i.bootstrap(n));else{if(!t.instance.ngDoBootstrap)throw new hi(403,"");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new hi(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(t){return new(t||r)(Ji(pi))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();function Jj(r,e){return Array.isArray(e)?e.reduce(Jj,r):Object.assign(Object.assign({},r),e)}let Zj=(()=>{class r{constructor(t,i,n,s,o){this._zone=t,this._injector=i,this._exceptionHandler=n,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new qe(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),a=new qe(c=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{Ta.assertNotInAngularZone(),$F(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Ta.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),u.unsubscribe()}});this.isStable=function SA(...r){const e=CS(r),t=function CA(r,e){return"number"==typeof jC(r)?r.pop():e}(r,1/0),i=r;return i.length?1===i.length?Zu(i[0]):function vA(r=1/0){return Tv(vn,r)}(t)(Av(i,e)):zC}(l,a.pipe(function IA(r={}){const{connector:e=(()=>new Zs),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:n=!0}=r;return s=>{let o=null,l=null,a=null,c=0,d=!1,u=!1;const p=()=>{null==l||l.unsubscribe(),l=null},g=()=>{p(),o=a=null,d=u=!1},f=()=>{const m=o;g(),null==m||m.unsubscribe()};return bn((m,v)=>{c++,!u&&!d&&p();const x=a=null!=a?a:e();v.add(()=>{c--,0===c&&!u&&!d&&(l=qC(f,n))}),x.subscribe(v),o||(o=new ve({next:w=>x.next(w),error:w=>{u=!0,p(),l=qC(g,t,w),x.error(w)},complete:()=>{d=!0,p(),l=qC(g,i),x.complete()}}),Av(m).subscribe(o))})(s)}}()))}bootstrap(t,i){if(!this._initStatus.done)throw new hi(405,"");let n;n=t instanceof oj?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const s=function Fxe(r){return r.isBoundToModule}(n)?void 0:this._injector.get(by),l=n.create(pi.NULL,[],i||n.selector,s),a=l.location.nativeElement,c=l.injector.get(QF,null),d=c&&l.injector.get($j);return c&&d&&d.registerApplication(a,c),l.onDestroy(()=>{this.detachView(l.hostView),JF(this.components,l),d&&d.unregisterApplication(a)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new hi(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;JF(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yxe,[]).concat(this._bootstrapListeners).forEach(n=>n(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(t){return new(t||r)(Ji(Ta),Ji(pi),Ji(yw),Ji(EI),Ji(WF))},r.\u0275prov=xn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function JF(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}let tG=!0;const eCe=Yj(null,"core",[{provide:PI,useValue:"unknown"},{provide:Xj,deps:[pi]},{provide:$j,deps:[]},{provide:xxe,deps:[]}]);let tCe=(()=>{class r{constructor(t){}}return r.\u0275fac=function(t){return new(t||r)(Ji(Zj))},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),NI=null;function qm(){return NI}const Zc=new Ui("DocumentToken"),fG={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ed=(()=>((ed=ed||{})[ed.Decimal=0]="Decimal",ed[ed.Percent=1]="Percent",ed[ed.Currency=2]="Currency",ed[ed.Scientific=3]="Scientific",ed))(),el=(()=>((el=el||{})[el.Format=0]="Format",el[el.Standalone=1]="Standalone",el))(),ts=(()=>((ts=ts||{})[ts.Narrow=0]="Narrow",ts[ts.Abbreviated=1]="Abbreviated",ts[ts.Wide=2]="Wide",ts[ts.Short=3]="Short",ts))(),_o=(()=>((_o=_o||{})[_o.Short=0]="Short",_o[_o.Medium=1]="Medium",_o[_o.Long=2]="Long",_o[_o.Full=3]="Full",_o))(),Gi=(()=>((Gi=Gi||{})[Gi.Decimal=0]="Decimal",Gi[Gi.Group=1]="Group",Gi[Gi.List=2]="List",Gi[Gi.PercentSign=3]="PercentSign",Gi[Gi.PlusSign=4]="PlusSign",Gi[Gi.MinusSign=5]="MinusSign",Gi[Gi.Exponential=6]="Exponential",Gi[Gi.SuperscriptingExponent=7]="SuperscriptingExponent",Gi[Gi.PerMille=8]="PerMille",Gi[Gi.Infinity=9]="Infinity",Gi[Gi.NaN=10]="NaN",Gi[Gi.TimeSeparator=11]="TimeSeparator",Gi[Gi.CurrencyDecimal=12]="CurrencyDecimal",Gi[Gi.CurrencyGroup=13]="CurrencyGroup",Gi))();function VI(r,e){return yh(xc(r)[oi.DateFormat],e)}function HI(r,e){return yh(xc(r)[oi.TimeFormat],e)}function zI(r,e){return yh(xc(r)[oi.DateTimeFormat],e)}function vh(r,e){const t=xc(r),i=t[oi.NumberSymbols][e];if(void 0===i){if(e===Gi.CurrencyDecimal)return t[oi.NumberSymbols][Gi.Decimal];if(e===Gi.CurrencyGroup)return t[oi.NumberSymbols][Gi.Group]}return i}function n3(r,e){return xc(r)[oi.NumberFormats][e]}function mG(r){if(!r[oi.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[oi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yh(r,e){for(let t=e;t>-1;t--)if(void 0!==r[t])return r[t];throw new Error("Locale data API: locale data undefined")}function s3(r){const[e,t]=r.split(":");return{hours:+e,minutes:+t}}const wCe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vw={},bCe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zl=(()=>((zl=zl||{})[zl.Short=0]="Short",zl[zl.ShortGMT=1]="ShortGMT",zl[zl.Long=2]="Long",zl[zl.Extended=3]="Extended",zl))(),$i=(()=>(($i=$i||{})[$i.FullYear=0]="FullYear",$i[$i.Month=1]="Month",$i[$i.Date=2]="Date",$i[$i.Hours=3]="Hours",$i[$i.Minutes=4]="Minutes",$i[$i.Seconds=5]="Seconds",$i[$i.FractionalSeconds=6]="FractionalSeconds",$i[$i.Day=7]="Day",$i))(),Mn=(()=>((Mn=Mn||{})[Mn.DayPeriods=0]="DayPeriods",Mn[Mn.Days=1]="Days",Mn[Mn.Months=2]="Months",Mn[Mn.Eras=3]="Eras",Mn))();function vG(r,e,t,i){let n=function ACe(r){if(CG(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[n,s=1,o=1]=r.split("-").map(l=>+l);return jI(n,s-1,o)}const t=parseFloat(r);if(!isNaN(r-t))return new Date(t);let i;if(i=r.match(wCe))return function MCe(r){const e=new Date(0);let t=0,i=0;const n=r[8]?e.setUTCFullYear:e.setFullYear,s=r[8]?e.setUTCHours:e.setHours;r[9]&&(t=Number(r[9]+r[10]),i=Number(r[9]+r[11])),n.call(e,Number(r[1]),Number(r[2])-1,Number(r[3]));const o=Number(r[4]||0)-t,l=Number(r[5]||0)-i,a=Number(r[6]||0),c=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return s.call(e,o,l,a,c),e}(i)}const e=new Date(r);if(!CG(e))throw new Error(`Unable to convert "${r}" into a date`);return e}(r);e=Qp(t,e)||e;let l,o=[];for(;e;){if(l=bCe.exec(e),!l){o.push(e);break}{o=o.concat(l.slice(1));const d=o.pop();if(!d)break;e=d}}let a=n.getTimezoneOffset();i&&(a=xG(i,a),n=function kCe(r,e,t){const i=t?-1:1,n=r.getTimezoneOffset();return function RCe(r,e){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+e),r}(r,i*(xG(e,n)-n))}(n,i,!0));let c="";return o.forEach(d=>{const u=function TCe(r){if(o3[r])return o3[r];let e;switch(r){case"G":case"GG":case"GGG":e=Br(Mn.Eras,ts.Abbreviated);break;case"GGGG":e=Br(Mn.Eras,ts.Wide);break;case"GGGGG":e=Br(Mn.Eras,ts.Narrow);break;case"y":e=yl($i.FullYear,1,0,!1,!0);break;case"yy":e=yl($i.FullYear,2,0,!0,!0);break;case"yyy":e=yl($i.FullYear,3,0,!1,!0);break;case"yyyy":e=yl($i.FullYear,4,0,!1,!0);break;case"Y":e=UI(1);break;case"YY":e=UI(2,!0);break;case"YYY":e=UI(3);break;case"YYYY":e=UI(4);break;case"M":case"L":e=yl($i.Month,1,1);break;case"MM":case"LL":e=yl($i.Month,2,1);break;case"MMM":e=Br(Mn.Months,ts.Abbreviated);break;case"MMMM":e=Br(Mn.Months,ts.Wide);break;case"MMMMM":e=Br(Mn.Months,ts.Narrow);break;case"LLL":e=Br(Mn.Months,ts.Abbreviated,el.Standalone);break;case"LLLL":e=Br(Mn.Months,ts.Wide,el.Standalone);break;case"LLLLL":e=Br(Mn.Months,ts.Narrow,el.Standalone);break;case"w":e=r3(1);break;case"ww":e=r3(2);break;case"W":e=r3(1,!0);break;case"d":e=yl($i.Date,1);break;case"dd":e=yl($i.Date,2);break;case"c":case"cc":e=yl($i.Day,1);break;case"ccc":e=Br(Mn.Days,ts.Abbreviated,el.Standalone);break;case"cccc":e=Br(Mn.Days,ts.Wide,el.Standalone);break;case"ccccc":e=Br(Mn.Days,ts.Narrow,el.Standalone);break;case"cccccc":e=Br(Mn.Days,ts.Short,el.Standalone);break;case"E":case"EE":case"EEE":e=Br(Mn.Days,ts.Abbreviated);break;case"EEEE":e=Br(Mn.Days,ts.Wide);break;case"EEEEE":e=Br(Mn.Days,ts.Narrow);break;case"EEEEEE":e=Br(Mn.Days,ts.Short);break;case"a":case"aa":case"aaa":e=Br(Mn.DayPeriods,ts.Abbreviated);break;case"aaaa":e=Br(Mn.DayPeriods,ts.Wide);break;case"aaaaa":e=Br(Mn.DayPeriods,ts.Narrow);break;case"b":case"bb":case"bbb":e=Br(Mn.DayPeriods,ts.Abbreviated,el.Standalone,!0);break;case"bbbb":e=Br(Mn.DayPeriods,ts.Wide,el.Standalone,!0);break;case"bbbbb":e=Br(Mn.DayPeriods,ts.Narrow,el.Standalone,!0);break;case"B":case"BB":case"BBB":e=Br(Mn.DayPeriods,ts.Abbreviated,el.Format,!0);break;case"BBBB":e=Br(Mn.DayPeriods,ts.Wide,el.Format,!0);break;case"BBBBB":e=Br(Mn.DayPeriods,ts.Narrow,el.Format,!0);break;case"h":e=yl($i.Hours,1,-12);break;case"hh":e=yl($i.Hours,2,-12);break;case"H":e=yl($i.Hours,1);break;case"HH":e=yl($i.Hours,2);break;case"m":e=yl($i.Minutes,1);break;case"mm":e=yl($i.Minutes,2);break;case"s":e=yl($i.Seconds,1);break;case"ss":e=yl($i.Seconds,2);break;case"S":e=yl($i.FractionalSeconds,1);break;case"SS":e=yl($i.FractionalSeconds,2);break;case"SSS":e=yl($i.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=qI(zl.Short);break;case"ZZZZZ":e=qI(zl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=qI(zl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=qI(zl.Long);break;default:return null}return o3[r]=e,e}(d);c+=u?u(n,t,a):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function jI(r,e,t){const i=new Date(0);return i.setFullYear(r,e,t),i.setHours(0,0,0),i}function Qp(r,e){const t=function aCe(r){return xc(r)[oi.LocaleId]}(r);if(Vw[t]=Vw[t]||{},Vw[t][e])return Vw[t][e];let i="";switch(e){case"shortDate":i=VI(r,_o.Short);break;case"mediumDate":i=VI(r,_o.Medium);break;case"longDate":i=VI(r,_o.Long);break;case"fullDate":i=VI(r,_o.Full);break;case"shortTime":i=HI(r,_o.Short);break;case"mediumTime":i=HI(r,_o.Medium);break;case"longTime":i=HI(r,_o.Long);break;case"fullTime":i=HI(r,_o.Full);break;case"short":const n=Qp(r,"shortTime"),s=Qp(r,"shortDate");i=GI(zI(r,_o.Short),[n,s]);break;case"medium":const o=Qp(r,"mediumTime"),l=Qp(r,"mediumDate");i=GI(zI(r,_o.Medium),[o,l]);break;case"long":const a=Qp(r,"longTime"),c=Qp(r,"longDate");i=GI(zI(r,_o.Long),[a,c]);break;case"full":const d=Qp(r,"fullTime"),u=Qp(r,"fullDate");i=GI(zI(r,_o.Full),[d,u])}return i&&(Vw[t][e]=i),i}function GI(r,e){return e&&(r=r.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),r}function ru(r,e,t="-",i,n){let s="";(r<0||n&&r<=0)&&(n?r=1-r:(r=-r,s=t));let o=String(r);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function yl(r,e,t=0,i=!1,n=!1){return function(s,o){let l=function SCe(r,e){switch(r){case $i.FullYear:return e.getFullYear();case $i.Month:return e.getMonth();case $i.Date:return e.getDate();case $i.Hours:return e.getHours();case $i.Minutes:return e.getMinutes();case $i.Seconds:return e.getSeconds();case $i.FractionalSeconds:return e.getMilliseconds();case $i.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,s);if((t>0||l>-t)&&(l+=t),r===$i.Hours)0===l&&-12===t&&(l=12);else if(r===$i.FractionalSeconds)return function _Ce(r,e){return ru(r,3).substr(0,e)}(l,e);const a=vh(o,Gi.MinusSign);return ru(l,e,a,i,n)}}function Br(r,e,t=el.Format,i=!1){return function(n,s){return function ICe(r,e,t,i,n,s){switch(t){case Mn.Months:return function hCe(r,e,t){const i=xc(r),s=yh([i[oi.MonthsFormat],i[oi.MonthsStandalone]],e);return yh(s,t)}(e,n,i)[r.getMonth()];case Mn.Days:return function dCe(r,e,t){const i=xc(r),s=yh([i[oi.DaysFormat],i[oi.DaysStandalone]],e);return yh(s,t)}(e,n,i)[r.getDay()];case Mn.DayPeriods:const o=r.getHours(),l=r.getMinutes();if(s){const c=function mCe(r){const e=xc(r);return mG(e),(e[oi.ExtraData][2]||[]).map(i=>"string"==typeof i?s3(i):[s3(i[0]),s3(i[1])])}(e),d=function vCe(r,e,t){const i=xc(r);mG(i);const s=yh([i[oi.ExtraData][0],i[oi.ExtraData][1]],e)||[];return yh(s,t)||[]}(e,n,i),u=c.findIndex(p=>{if(Array.isArray(p)){const[g,f]=p,m=o>=g.hours&&l>=g.minutes,v=o<f.hours||o===f.hours&&l<f.minutes;if(g.hours<f.hours){if(m&&v)return!0}else if(m||v)return!0}else if(p.hours===o&&p.minutes===l)return!0;return!1});if(-1!==u)return d[u]}return function cCe(r,e,t){const i=xc(r),s=yh([i[oi.DayPeriodsFormat],i[oi.DayPeriodsStandalone]],e);return yh(s,t)}(e,n,i)[o<12?0:1];case Mn.Eras:return function uCe(r,e){return yh(xc(r)[oi.Eras],e)}(e,i)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(n,s,r,e,t,i)}}function qI(r){return function(e,t,i){const n=-1*i,s=vh(t,Gi.MinusSign),o=n>0?Math.floor(n/60):Math.ceil(n/60);switch(r){case zl.Short:return(n>=0?"+":"")+ru(o,2,s)+ru(Math.abs(n%60),2,s);case zl.ShortGMT:return"GMT"+(n>=0?"+":"")+ru(o,1,s);case zl.Long:return"GMT"+(n>=0?"+":"")+ru(o,2,s)+":"+ru(Math.abs(n%60),2,s);case zl.Extended:return 0===i?"Z":(n>=0?"+":"")+ru(o,2,s)+":"+ru(Math.abs(n%60),2,s);default:throw new Error(`Unknown zone width "${r}"`)}}}function yG(r){return jI(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function r3(r,e=!1){return function(t,i){let n;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();n=1+Math.floor((o+s)/7)}else{const s=yG(t),o=function ECe(r){const e=jI(r,0,1).getDay();return jI(r,0,1+(e<=4?4:11)-e)}(s.getFullYear()),l=s.getTime()-o.getTime();n=1+Math.round(l/6048e5)}return ru(n,r,vh(i,Gi.MinusSign))}}function UI(r,e=!1){return function(t,i){return ru(yG(t).getFullYear(),r,vh(i,Gi.MinusSign),e)}}const o3={};function xG(r,e){r=r.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(t)?e:t}function CG(r){return r instanceof Date&&!isNaN(r.valueOf())}const FCe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function a3(r,e,t,i,n,s,o=!1){let l="",a=!1;if(isFinite(r)){let c=function VCe(r){let i,n,s,o,l,e=Math.abs(r)+"",t=0;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(n<0&&(n=s),n+=+e.slice(s+1),e=e.substring(0,s)):n<0&&(n=e.length),s=0;"0"===e.charAt(s);s++);if(s===(l=e.length))i=[0],n=1;else{for(l--;"0"===e.charAt(l);)l--;for(n-=s,i=[],o=0;s<=l;s++,o++)i[o]=Number(e.charAt(s))}return n>22&&(i=i.splice(0,21),t=n-1,n=1),{digits:i,exponent:t,integerLen:n}}(r);o&&(c=function NCe(r){if(0===r.digits[0])return r;const e=r.digits.length-r.integerLen;return r.exponent?r.exponent+=2:(0===e?r.digits.push(0,0):1===e&&r.digits.push(0),r.integerLen+=2),r}(c));let d=e.minInt,u=e.minFrac,p=e.maxFrac;if(s){const w=s.match(FCe);if(null===w)throw new Error(`${s} is not a valid digit info`);const b=w[1],I=w[3],k=w[5];null!=b&&(d=d3(b)),null!=I&&(u=d3(I)),null!=k?p=d3(k):null!=I&&u>p&&(p=u)}!function HCe(r,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=r.digits,n=i.length-r.integerLen;const s=Math.min(Math.max(e,n),t);let o=s+r.integerLen,l=i[o];if(o>0){i.splice(Math.max(r.integerLen,o));for(let u=o;u<i.length;u++)i[u]=0}else{n=Math.max(0,n),r.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let u=1;u<o;u++)i[u]=0}if(l>=5)if(o-1<0){for(let u=0;u>o;u--)i.unshift(0),r.integerLen++;i.unshift(1),r.integerLen++}else i[o-1]++;for(;n<Math.max(0,s);n++)i.push(0);let a=0!==s;const c=e+r.integerLen,d=i.reduceRight(function(u,p,g,f){return f[g]=(p+=u)<10?p:p-10,a&&(0===f[g]&&g>=c?f.pop():a=!1),p>=10?1:0},0);d&&(i.unshift(d),r.integerLen++)}(c,u,p);let g=c.digits,f=c.integerLen;const m=c.exponent;let v=[];for(a=g.every(w=>!w);f<d;f++)g.unshift(0);for(;f<0;f++)g.unshift(0);f>0?v=g.splice(f,g.length):(v=g,g=[0]);const x=[];for(g.length>=e.lgSize&&x.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)x.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&x.unshift(g.join("")),l=x.join(vh(t,i)),v.length&&(l+=vh(t,n)+v.join("")),m&&(l+=vh(t,Gi.Exponential)+"+"+m)}else l=vh(t,Gi.Infinity);return l=r<0&&!a?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf,l}function c3(r,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=r.split(";"),n=i[0],s=i[1],o=-1!==n.indexOf(".")?n.split("."):[n.substring(0,n.lastIndexOf("0")+1),n.substring(n.lastIndexOf("0")+1)],l=o[0],a=o[1]||"";t.posPre=l.substr(0,l.indexOf("#"));for(let d=0;d<a.length;d++){const u=a.charAt(d);"0"===u?t.minFrac=t.maxFrac=d+1:"#"===u?t.maxFrac=d+1:t.posSuf+=u}const c=l.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const d=n.length-t.posPre.length-t.posSuf.length,u=s.indexOf("#");t.negPre=s.substr(0,u).replace(/'/g,""),t.negSuf=s.substr(u+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function d3(r){const e=parseInt(r);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+r);return e}function DG(r,e){e=encodeURIComponent(e);for(const t of r.split(";")){const i=t.indexOf("="),[n,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(n.trim()===e)return decodeURIComponent(s)}return null}let AG=(()=>{class r{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,n="symbol",s,o){if(!function g3(r){return!(null==r||""===r||r!=r)}(t))return null;o=o||this._locale,"boolean"==typeof n&&(n=n?"symbol":"code");let l=i||this._defaultCurrencyCode;"code"!==n&&(l="symbol"===n||"symbol-narrow"===n?function yCe(r,e,t="en"){const i=function gCe(r){return xc(r)[oi.Currencies]}(t)[r]||fG[r]||[],n=i[1];return"narrow"===e&&"string"==typeof n?n:i[0]||r}(l,"symbol"===n?"wide":"narrow",o):n);try{return function BCe(r,e,t,i,n){const o=c3(n3(e,ed.Currency),vh(e,Gi.MinusSign));return o.minFrac=function CCe(r){let e;const t=fG[r];return t&&(e=t[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,a3(r,o,e,Gi.CurrencyGroup,Gi.CurrencyDecimal,n).replace("\xa4",t).replace("\xa4","").trim()}(function f3(r){if("string"==typeof r&&!isNaN(Number(r)-parseFloat(r)))return Number(r);if("number"!=typeof r)throw new Error(`${r} is not a number`);return r}(t),o,l,i,s)}catch(a){throw function ou(r,e){return new hi(2100,"")}()}}}return r.\u0275fac=function(t){return new(t||r)(Te(of,16),Te(wxe,16))},r.\u0275pipe=Qc({name:"currency",type:r,pure:!0}),r})();let Kt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})();class PG{}class m3 extends class _we extends class sCe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function nCe(r){NI||(NI=r)}(new m3)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Swe(){return zw=zw||document.querySelector("base"),zw?zw.getAttribute("href"):null}();return null==t?null:function Iwe(r){KI=KI||document.createElement("a"),KI.setAttribute("href",r);const e=KI.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zw=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return DG(document.cookie,e)}}let KI,zw=null;const LG=new Ui("TRANSITION_ID"),Ewe=[{provide:jj,useFactory:function Dwe(r,e,t){return()=>{t.get(WF).donePromise.then(()=>{const i=qm(),n=e.querySelectorAll(`style[ng-transition="${r}"]`);for(let s=0;s<n.length;s++)i.remove(n[s])})}},deps:[LG,Zc,pi],multi:!0}];class v3{static init(){!function Axe(r){XF=r}(new v3)}addToWindow(e){yr.getAngularTestability=(i,n=!0)=>{const s=e.findTestabilityInTree(i,n);if(null==s)throw new Error("Could not find testability for element.");return s},yr.getAllAngularTestabilities=()=>e.getAllTestabilities(),yr.getAllAngularRootElements=()=>e.getAllRootElements(),yr.frameworkStabilizers||(yr.frameworkStabilizers=[]),yr.frameworkStabilizers.push(i=>{const n=yr.getAllAngularTestabilities();let s=n.length,o=!1;const l=function(a){o=o||a,s--,0==s&&i(o)};n.forEach(function(a){a.whenStable(l)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:i?qm().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Twe=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();const YI=new Ui("EventManagerPlugins");let QI=(()=>{class r{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(n=>n.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,n){return this._findPluginFor(i).addEventListener(t,i,n)}addGlobalEventListener(t,i,n){return this._findPluginFor(i).addGlobalEventListener(t,i,n)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const n=this._plugins;for(let s=0;s<n.length;s++){const o=n[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(Ji(YI),Ji(Ta))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();class OG{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const n=qm().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,i)}}let BG=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(n=>{this._stylesSet.has(n)||(this._stylesSet.add(n),i.add(n))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})(),jw=(()=>{class r extends BG{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,n){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,n.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(NG),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,n)=>{this._addStylesToHost(t,n,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(NG))}}return r.\u0275fac=function(t){return new(t||r)(Ji(Zc))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();function NG(r){qm().remove(r)}const y3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},x3=/%COMP%/g;function XI(r,e,t){for(let i=0;i<e.length;i++){let n=e[i];Array.isArray(n)?XI(r,n,t):(n=n.replace(x3,r),t.push(n))}return t}function zG(r){return e=>{if("__ngUnwrap__"===e)return r;!1===r(e)&&(e.preventDefault(),e.returnValue=!1)}}let JI=(()=>{class r{constructor(t,i,n){this.eventManager=t,this.sharedStylesHost=i,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new C3(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Yh.Emulated:{let n=this.rendererByCompId.get(i.id);return n||(n=new Pwe(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,n)),n.applyToHost(t),n}case 1:case Yh.ShadowDom:return new Lwe(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const n=XI(i.id,i.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(Ji(QI),Ji(jw),Ji(Bw))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();class C3{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(y3[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const s=y3[n];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=y3[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(Dd.DashCase|Dd.Important)?e.style.setProperty(t,i,n&Dd.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Dd.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zG(i)):this.eventManager.addEventListener(e,t,zG(i))}}class Pwe extends C3{constructor(e,t,i,n){super(e),this.component=i;const s=XI(n+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Awe(r){return"_ngcontent-%COMP%".replace(x3,r)}(n+"-"+i.id),this.hostAttr=function Mwe(r){return"_nghost-%COMP%".replace(x3,r)}(n+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Lwe extends C3{constructor(e,t,i,n){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=XI(n.id,n.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Owe=(()=>{class r extends OG{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,n){return t.addEventListener(i,n,!1),()=>this.removeEventListener(t,i,n)}removeEventListener(t,i,n){return t.removeEventListener(i,n)}}return r.\u0275fac=function(t){return new(t||r)(Ji(Zc))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();const GG=["alt","control","meta","shift"],Nwe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qG={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vwe={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Hwe=(()=>{class r extends OG{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,i,n){const s=r.parseEventName(i),o=r.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qm().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=r._normalizeKey(i.pop());let o="";if(GG.forEach(a=>{const c=i.indexOf(a);c>-1&&(i.splice(c,1),o+=a+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=n,l.fullKey=o,l}static getEventFullKey(t){let i="",n=function zwe(r){let e=r.key;if(null==e){if(e=r.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===r.location&&qG.hasOwnProperty(e)&&(e=qG[e]))}return Nwe[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),GG.forEach(s=>{s!=n&&Vwe[s](t)&&(i+=s+".")}),i+=n,i}static eventCallback(t,i,n){return s=>{r.getEventFullKey(s)===t&&n.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(Ji(Zc))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();const Wwe=Yj(eCe,"browser",[{provide:PI,useValue:"browser"},{provide:qj,useValue:function jwe(){m3.makeCurrent(),v3.init()},multi:!0},{provide:Zc,useFactory:function qwe(){return function epe(r){jA=r}(document),document},deps:[]}]),Uwe=[{provide:sF,useValue:"root"},{provide:yw,useFactory:function Gwe(){return new yw},deps:[]},{provide:YI,useClass:Owe,multi:!0,deps:[Zc,Ta,PI]},{provide:YI,useClass:Hwe,multi:!0,deps:[Zc]},{provide:JI,useClass:JI,deps:[QI,jw,Bw]},{provide:Aw,useExisting:JI},{provide:BG,useExisting:jw},{provide:jw,useClass:jw,deps:[Zc]},{provide:QF,useClass:QF,deps:[Ta]},{provide:QI,useClass:QI,deps:[YI,Ta]},{provide:PG,useClass:Twe,deps:[]}];let WG=(()=>{class r{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:r,providers:[{provide:Bw,useValue:t.appId},{provide:LG,useExisting:Bw},Ewe]}}}return r.\u0275fac=function(t){return new(t||r)(Ji(r,12))},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:Uwe,imports:[Kt,tCe]}),r})();"undefined"!=typeof window&&window;const Gw="ej2_instances";let nbe=0;function ZI(r,e){const t=e;return t.unshift(void 0),new(Function.prototype.bind.apply(r,t))}function M(r,e){let t=e;const i=r.replace(/\[/g,".").replace(/\]/g,"").split(".");for(let n=0;n<i.length&&!Et(t);n++)t=t[i[n]];return t}function Ne(r,e,t){const i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=t||{};let o,s=n;const l=i.length;let a;for(o=0;o<l;o++)a=i[o],o+1===l?s[a]=void 0===e?{}:e:h(s[a])&&(s[a]={}),s=s[a];return n}function _3(r,e){delete r[e]}const eD="undefined"!=typeof window?window:{};function td(r){return!h(r)&&r.constructor==={}.constructor}function bs(r,e){return r[e]}function Nr(r,e){if(!h(e)){const t=r,i=e,n=Object.keys(e),s="deepMerge";for(const o of n)h(t[s])||-1===t[s].indexOf(o)||!td(i[o])&&!Array.isArray(i[o])?t[o]=i[o]:O(t[o],t[o],i[o],!0)}}function O(r,e,t,i){const n=r&&"object"==typeof r?r:{};let s=arguments.length;i&&(s-=1);for(let o=1;o<s;o++){if(!arguments[o])continue;let l=arguments[o];Object.keys(l).forEach(a=>{const c=n[a],d=l[a];let u;const p=Array.isArray(d)&&Array.isArray(c)&&d.length!==c.length,g=!ii()||!(c instanceof Event||p);i&&g&&(td(d)||Array.isArray(d))?td(d)?(u=c||{},Array.isArray(u)&&u.hasOwnProperty("isComplexArray")?O(u,{},d,i):n[a]=O(u,{},d,i)):(u=ii()?c&&Object.keys(d).length:c||[],n[a]=O([],u,d,i)):n[a]=d})}return n}function h(r){return null==r}function Et(r){return void 0===r}function Gn(r){return r+"_"+nbe++}function Xp(r,e){let t;return function(){const i=arguments,n=()=>(t=null,r.apply(this,i));clearTimeout(t),t=setTimeout(n,e)}}function tD(r,e){return r===e||!(r===document||!r)&&tD(r.parentNode,e)}function Iy(r){try{throw new Error(r)}catch(e){throw e.message+"\n"+e.stack}}function KG(r,e){const t=document.createElement("div"),i=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),n=[].slice.call(document.getElementsByTagName("body")[0].querySelectorAll("link, style"));if(n.length)for(let l=0,a=n.length;l<a;l++)i.push(n[l]);let s="";h(e)&&(e=window.open("","print","height=452,width=1024,tabbar=no")),t.appendChild(r.cloneNode(!0));for(let l=0,a=i.length;l<a;l++)s+=i[l].outerHTML;e.document.write("<!DOCTYPE html> <html><head>"+s+"</head><body>"+t.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),e.document.close(),e.focus();const o=setInterval(()=>{e.ready&&(e.print(),e.close(),clearInterval(o))},500);return e}function $e(r){const e=r+"";return e.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?e:e+"px"}function ii(){return false}function YG(r){return Node,r}function jl(r,e){let t="string"==typeof r?document.querySelector(r):r;if(t[Gw])for(const i of t[Gw])if(i instanceof e)return i;return null}const lbe={latn:{_digits:"0123456789",_type:"numeric"}},QG={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},XG=[0,1,2,3,4,5,6,7,8,9];let Yr=(()=>{class r{static getMainObject(t,i){return M("main."+i,t)}static getNumberingSystem(t){return M("supplemental.numberingSystems",t)||this.numberingSystems}static reverseObject(t,i){const n=i||Object.keys(t),s={};for(const o of n)s.hasOwnProperty(t[o])||(s[t[o]]=o);return s}static getSymbolRegex(t){const i=t.map(n=>n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")).join("|");return new RegExp(i,"g")}static getSymbolMatch(t){const i=Object.keys(QG),n={};for(const s of i)n[t[s]]=QG[s];return n}static constructRegex(t){const i=t.length;let n="";for(let s=0;s<i;s++)n+=s!==i-1?t[s]+"|":t[s];return n}static convertValueParts(t,i,n){return t.replace(i,s=>n[s])}static getDefaultNumberingSystem(t){const i={};return i.obj=M("numbers",t),i.nSystem=M("defaultNumberingSystem",i.obj),i}static getCurrentNumericOptions(t,i,n,s){const o={},l=this.getDefaultNumberingSystem(t);if(!Et(l.nSystem)||s){const a=s?M("obj.mapperDigits",l):M(l.nSystem+"._digits",i);Et(a)||(o.numericPair=this.reverseObject(a,XG),o.numberParseRegex=new RegExp(this.constructRegex(a),"g"),o.numericRegex="["+a[0]+"-"+a[9]+"]",n&&(o.numericRegex=a[0]+"-"+a[9],o.symbolNumberSystem=M(s?"numberSymbols":"symbols-numberSystem-"+l.nSystem,l.obj),o.symbolMatch=this.getSymbolMatch(o.symbolNumberSystem),o.numberSystem=l.nSystem))}return o}static getNumberMapper(t,i,n){const s={mapper:{}},o=this.getDefaultNumberingSystem(t);if(!Et(o.nSystem)){s.numberSystem=o.nSystem,s.numberSymbols=M("symbols-numberSystem-"+o.nSystem,o.obj),s.timeSeparator=M("timeSeparator",s.numberSymbols);const l=M(o.nSystem+"._digits",i);if(!Et(l))for(const a of XG)s.mapper[a]=l[a]}return s}}return r.nPair="numericPair",r.nRegex="numericRegex",r.numberingSystems=lbe,r})();const abe={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};var qw;!function(r){const e=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];r.getHijriDate=function t(n){let s=n.getDate(),o=n.getMonth(),l=n.getFullYear(),a=o+1,c=l;a<3&&(c-=1,a+=12);let d=Math.floor(c/100),u=d-Math.floor(d/4)-2;const p=Math.floor(365.25*(c+4716))+Math.floor(30.6001*(a+1))+s-u-1524;d=Math.floor((p-1867216.25)/36524.25),u=d-Math.floor(d/4)+1;const g=p+u+1524;let f=Math.floor((g-122.1)/365.25);const m=Math.floor(365.25*f),v=Math.floor((g-m)/30.6001);s=g-m-Math.floor(30.6001*v),o=Math.floor((g-m)/20.6001),o>13&&(f+=1,o-=12),o-=1,l=f-4716;const x=p-24e5,w=10631/30;let b=p-1948084;const I=Math.floor(b/10631);b-=10631*I;const k=Math.floor((b-.1335)/w),P=30*I+k;b-=Math.floor(k*w+.1335);let W=Math.floor((b+28.5001)/29.5);13===W&&(W=12);const oe=b-Math.floor(29.5001*W-29);let ae=0;for(;ae<e.length&&!(e[ae]>x);ae++);const xe=ae+16260,z=Math.floor((xe-1)/12);let Re=z+1,ye=xe-12*z,le=x-e[ae-1]+1;return(le+"").length>2&&(le=oe,ye=W,Re=P),{year:Re,month:ye,date:le}},r.toGregorian=function i(n,s,o){const m=Math.floor(o+e[12*(n-1)+1+(s-1)-16260-1]-1+24e5+.5);let v=Math.floor((m-1867216.25)/36524.25);v=m+1+v-Math.floor(v/4);const x=v+1524,w=Math.floor((x-122.1)/365.25),b=Math.floor(365.25*w),I=Math.floor((x-b)/30.6001),k=x-b-Math.floor(30.6001*I);let P=I-(I>13.5?13:1);const W=w-(P>2.5?4716:4715);return W<=0&&P--,new Date(W+"/"+P+"/"+k)}}(qw||(qw={}));const dbe=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,JG="stand-alone",hbe=["sun","mon","tue","wed","thu","fri","sat"],ZG={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},ube={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"};class eq{static dateFormat(e,t,i){const n=Ei.getDependables(i,e,t.calendar),o=(M("parserObject.numbers",n),n.dateObject),l={isIslamic:Ei.islamicRegex.test(t.calendar)};let a=t.format||Ei.getResultantPattern(t.skeleton,n.dateObject,t.type,!1,"");if(l.dateSeperator=Ei.getDateSeparator(n.dateObject),Et(a))Iy("Format options or type given must be invalid");else{a=Ei.ConvertDateToWeekFormat(a),l.pattern=a,l.numMapper=Yr.getNumberMapper(n.parserObject,Yr.getNumberingSystem(i));const c=a.match(dbe)||[];for(const d of c){const u=d.length;let p=d[0];switch("K"===p&&(p="h"),p){case"E":case"c":l.weekday=n.dateObject[Ei.days][JG][Ei.monthIndex[u]];break;case"M":case"L":l.month=n.dateObject[Ei.month][JG][Ei.monthIndex[u]];break;case"a":l.designator=M("dayPeriods.format.wide",o);break;case"G":l.era=M("eras."+(u<=3?"eraAbbr":4===u?"eraNames":"eraNarrow"),n.dateObject);break;case"z":l.timeZone=M("dates.timeZoneNames",n.parserObject)}}}return c=>isNaN(c.getDate())?null:this.intDateFormatter(c,l)}static intDateFormatter(e,t){let n="";const s=t.pattern.match(Ei.dateParseRegex),o=this.getCurrentDateValue(e,t.isIslamic);for(const l of s){const a=l.length;let c=l[0];"K"===c&&(c="h");let d,p,g,u="",f="";switch(c){case"M":case"L":d=o.month,a>2?n+=t.month[d]:p=!0;break;case"E":case"c":n+=t.weekday[hbe[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(p=!0,"d"===c)d=o.date;else if("f"===c){p=!1,g=!0,u=e[ZG[c]]().toString(),u=u.substring(0,a);const I=u.length;if(a!==I){if(a>3)continue;for(let k=0;k<a-I;k++)u="0"+u.toString()}f+=u}else d=e[ZG[c]]();"h"===c&&(d=d%12||12);break;case"y":g=!0,f+=o.year,2===a&&(f=f.substr(f.length-2));break;case"a":let m=e.getHours()<12?"am":"pm";n+=t.designator[m];break;case"G":let v=e.getFullYear()<0?0:1,x=t.era[v];h(x)&&(x=t.era[v?0:1]),n+=x||"";break;case"'":n+="''"===l?"'":l.replace(/'/g,"");break;case"z":let w=e.getTimezoneOffset(),b=a<4?"+H;-H":t.timeZone.hourFormat;b=b.replace(/:/g,t.numMapper.timeSeparator),0===w?n+=t.timeZone.gmtZeroFormat:(g=!0,f=this.getTimeZoneValue(w,b)),f=t.timeZone.gmtFormat.replace(/\{0\}/,f);break;case":":n+=t.numMapper.numberSymbols.timeSeparator;break;case"/":n+=t.dateSeperator;break;case"W":p=!0,d=Ei.getWeekOfYear(e);break;default:n+=l}p&&(g=!0,f=this.checkTwodigitNumber(d,a)),g&&(n+=Yr.convertValueParts(f,Ei.latnParseRegex,t.numMapper.mapper))}return n}static getCurrentDateValue(e,t){return t?qw.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}}static checkTwodigitNumber(e,t){const i=e+"";return 2===t&&2!==i.length?"0"+i:i}static getTimeZoneValue(e,t){let n=t.split(";")[e>0?1:0];const s=Math.abs(e);return n.replace(/HH?|mm/g,o=>{const l=o.length,a=-1!==o.indexOf("H");return this.checkTwodigitNumber(Math.floor(a?s/60:s%60),l)})}}const tq={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},Dy=["infinity","nan","group","decimal","exponential"];class iq{static numberFormatter(e,t,i){const n=O({},t);let s={};const o={};let l;const a=Ei.getDependables(i,e,"",!0);o.numberMapper=Yr.getNumberMapper(a.parserObject,Yr.getNumberingSystem(i),!0),o.currencySymbol=Ei.getCurrencySymbol(a.numericObject,n.currency||$w,t.altSymbol),o.percentSymbol=o.numberMapper.numberSymbols.percentSign,o.minusSymbol=o.numberMapper.numberSymbols.minusSign;const d=o.numberMapper.numberSymbols;if(t.format&&!Ei.formatRegex.test(t.format))s=Ei.customFormat(t.format,o,a.numericObject);else{O(n,Ei.getProperNumericSkeleton(t.format||"N")),n.isCurrency="currency"===n.type,n.isPercent="percent"===n.type,l=Ei.getSymbolPattern(n.type,o.numberMapper.numberSystem,a.numericObject,n.isAccount),n.groupOne=this.checkValueRange(n.maximumSignificantDigits,n.minimumSignificantDigits,!0),this.checkValueRange(n.maximumFractionDigits,n.minimumFractionDigits,!1,!0),Et(n.fractionDigits)||(n.minimumFractionDigits=n.maximumFractionDigits=n.fractionDigits),Et(n.useGrouping)&&(n.useGrouping=!0),n.isCurrency&&(l=l.replace(/\u00A4/g,Ei.defaultCurrency));{const f=l.split(";");s.nData=Ei.getFormatData(f[1]||"-"+f[0],!0,o.currencySymbol),s.pData=Ei.getFormatData(f[0],!1,o.currencySymbol),n.useGrouping&&(n.groupSeparator=d[Dy[2]],n.groupData=this.getGroupingDetails(f[0]))}if(Et(n.minimumFractionDigits)&&(n.minimumFractionDigits=s.nData.minimumFraction),Et(n.maximumFractionDigits)){const f=s.nData.maximumFraction;n.maximumFractionDigits=Et(f)&&n.isPercent?0:f}const p=n.minimumFractionDigits,g=n.maximumFractionDigits;!Et(p)&&!Et(g)&&p>g&&(n.maximumFractionDigits=p)}return O(s.nData,n),O(s.pData,n),u=>isNaN(u)?d[Dy[1]]:isFinite(u)?this.intNumberFormatter(u,s,o):d[Dy[0]]}static getGroupingDetails(e){const t={},i=e.match(Ei.negativeDataRegex);if(i&&i[4]){const n=i[4],s=n.lastIndexOf(",");if(-1!==s){const o=n.split(".")[0];t.primary=o.length-s-1;const l=n.lastIndexOf(",",s-1);-1!==l&&(t.secondary=s-1-l)}}return t}static checkValueRange(e,t,i,n){const s=n?"f":"s";let o=0;const l=tq["l"+s];let a=tq["m"+s];if(Et(e)||(this.checkRange(e,l,n),o++),Et(t)||(this.checkRange(t,a,n),o++),2===o){if(!(e<t))return!0;Iy(a+"specified must be less than the"+l)}else i&&1===o&&Iy("Both"+a+"and"+a+"must be present");return!1}static checkRange(e,t,i){const n=i?[0,20]:[1,21];(e<n[0]||e>n[1])&&Iy(t+"value must be within the range"+n[0]+"to"+n[1])}static intNumberFormatter(e,t,i){let n;if(!Et(t.nData.type)){e<0?(e*=-1,n=t.nData):n=0===e&&t.zeroData||t.pData;let s="";return n.isPercent&&(e*=100),n.groupOne?s=this.processSignificantDigits(e,n.minimumSignificantDigits,n.maximumSignificantDigits):(s=this.processFraction(e,n.minimumFractionDigits,n.maximumFractionDigits),n.minimumIntegerDigits&&(s=this.processMinimumIntegers(s,n.minimumIntegerDigits))),"scientific"===n.type&&(s=e.toExponential(n.maximumFractionDigits),s=s.replace("e",i.numberMapper.numberSymbols[Dy[4]])),s=s.replace(".",i.numberMapper.numberSymbols[Dy[3]]),n.useGrouping&&(s=this.groupNumbers(s,n.groupData.primary,n.groupSeparator||",",i.numberMapper.numberSymbols[Dy[3]]||".",n.groupData.secondary)),s=Yr.convertValueParts(s,Ei.latnParseRegex,i.numberMapper.mapper),"N/A"===n.nlead?n.nlead:n.nlead+s+n.nend}}static processSignificantDigits(e,t,i){let s,n=e+"";return n.length<t?e.toPrecision(t):(n=e.toPrecision(i),s=+n,s+"")}static groupNumbers(e,t,i,n,s){let o=!h(s)&&0!==s;const l=e.split(n),a=l[0];let c=a.length,d="";for(;c>t;)d=a.slice(c-t,c)+(d.length?i+d:""),c-=t,o&&(t=s,o=!1);return l[0]=a.slice(0,c)+(d.length?i:"")+d,l.join(n)}static processFraction(e,t,i){const n=(e+"").split(".")[1],s=n?n.length:0;if(t&&s<t){let o="";if(0!==s){o+=e;for(let l=0;l<t-s;l++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!h(i)&&(s>i||0===i)?e.toFixed(i):e+""}static processMinimumIntegers(e,t){const i=e.split(".");let n=i[0];const s=n.length;if(s<t){for(let o=0;o<t-s;o++)n="0"+n;i[0]=n}return i.join(".")}}const nq="stand-alone",mbe=/^[0-9]*$/,sq={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},xbe=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,Cbe=/,/g,wbe=["minusSign","infinity"];class Ww{constructor(e){this.ranArray=[],this.boundedEvents={},!h(e)&&(this.context=e)}on(e,t,i,n){if(h(t))return;const s=i||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:s}]:h(n)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:s}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[e].push({handler:t,context:s,id:n}))}off(e,t,i){if(this.notExist(e))return;const n=M(e,this.boundedEvents);if(t){for(let s=0;s<n.length;s++)if(i){if(n[s].id===i){n.splice(s,1);const o=this.ranArray.indexOf(i);-1!==o&&this.ranArray.splice(o,1);break}}else if(t===n[s].handler){n.splice(s,1);break}}else delete this.boundedEvents[e]}notify(e,t,i,n){if(this.notExist(e))return void(i&&i.call(this,t));t&&(t.name=e);const o=M(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(o,t,i,n,0);for(const l of o)l.handler.call(l.context,t);i&&i.call(this,t)}blazorCallback(e,t,i,n,s){const o=s===e.length-1;if(s<e.length){const l=e[s],a=l.handler.call(l.context,t);if(a&&"function"==typeof a.then){if(!i)return a;a.then(c=>{if(c="string"==typeof c&&this.isJson(c)?JSON.parse(c,this.dateReviver):c,O(t,t,c,!0),!i||!o)return this.blazorCallback(e,t,i,n,s+1);i.call(l.context,t)}).catch(c=>{n&&n.call(l.context,"string"==typeof c&&this.isJson(c)?JSON.parse(c,this.dateReviver):c)})}else{if(!i||!o)return this.blazorCallback(e,t,i,n,s+1);i.call(l.context,t)}}}dateReviver(e,t){return ii&&"string"==typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t}isJson(e){try{JSON.parse(e)}catch(t){return!1}return!0}destroy(){this.boundedEvents=this.context=void 0}notExist(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0}isHandlerPresent(e,t){for(const i of e)if(i.handler===t)return!0;return!1}}const Wm=new Ww;const xl={};let Uw="en-US",$w="USD";const I3=["numericObject","dateObject"];class Nn{constructor(e){e&&(this.culture=e)}getDateFormat(e){return eq.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},xl)}getNumberFormat(e){return e&&!e.currency&&(e.currency=$w),iq.numberFormatter(this.getCulture(),e||{},xl)}getDateParser(e){return class ybe{static dateParser(e,t,i){const n=Ei.getDependables(i,e,t.calendar),s=Yr.getCurrentNumericOptions(n.parserObject,Yr.getNumberingSystem(i),!1,!1);let c,o={},l=t.format||Ei.getResultantPattern(t.skeleton,n.dateObject,t.type,!1,""),a="";if(Et(l))Iy("Format options or type given must be invalid");else{l=Ei.ConvertDateToWeekFormat(l),o={isIslamic:Ei.islamicRegex.test(t.calendar),pattern:l,evalposition:{},culture:e};const d=l.match(Ei.dateParseRegex)||[],u=d.length;let p=0,g=0,f=!1;const m=s.numericRegex;let v=Yr.getNumberMapper(n.parserObject,Yr.getNumberingSystem(i));for(let x=0;x<u;x++){const w=d[x],b=w.length,I="K"===w[0]?"h":w[0];let k,P,W=ube[I];const oe=2===b?"":"?";switch(f&&(p=g,f=!1),I){case"E":case"c":let ae;ae=n.dateObject[Ei.days][nq][Ei.monthIndex[b]];let xe=Yr.reverseObject(ae);a+="("+Object.keys(xe).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(P=!0,("M"===I||"L"===I)&&b>2){let ce;ce=n.dateObject.months[nq][Ei.monthIndex[b]],o[W]=Yr.reverseObject(ce),a+="("+Object.keys(o[W]).join("|")+")"}else if("f"===I){if(b>3)continue;k=!0,a+="("+m+m+"?"+m+"?)"}else k=!0,a+="("+m+m+oe+")";"h"===I&&(o.hour12=!0);break;case"W":a+="("+m+(1===b?"?":"")+m+")";break;case"y":P=k=!0,a+=2===b?"("+m+m+")":"("+m+"{"+b+",})";break;case"a":P=!0;let Re=M("dayPeriods.format.wide",n.dateObject);o[W]=Yr.reverseObject(Re),a+="("+Object.keys(o[W]).join("|")+")";break;case"G":P=!0,o[W]=Yr.reverseObject(M("eras."+(b<=3?"eraAbbr":4===b?"eraNames":"eraNarrow"),n.dateObject)),a+="("+Object.keys(o[W]).join("|")+"?)";break;case"z":P=0!==(new Date).getTimezoneOffset(),o[W]=M("dates.timeZoneNames",n.parserObject);let ge=o[W];c=b<4;let Y=c?"+H;-H":ge.hourFormat;Y=Y.replace(/:/g,v.timeSeparator),a+="("+this.parseTimeZoneRegx(Y,ge,m)+")?",f=!0,g=c?6:12;break;case"'":a+="("+w.replace(/'/g,"")+")?";break;default:a+="([\\D])"}P&&(o.evalposition[W]={isNumber:k,pos:x+1+p,hourOnly:c}),x===u-1&&!h(a)&&(o.parserRegex=new RegExp("^"+a+"$","i"))}}return d=>{const u=this.internalDateParse(d,o,s);if(h(u)||!Object.keys(u).length)return null;if(o.isIslamic){let p={},g=u.year;const f=u.day,m=u.month,v=g?g+"":"",x=2===v.length;(!g||!m||!f||x)&&(p=qw.getHijriDate(new Date)),x&&(g=parseInt((p.year+"").slice(0,2)+v,10));const w=qw.toGregorian(g||p.year,m||p.month,f||p.date);u.year=w.getFullYear(),u.month=w.getMonth()+1,u.day=w.getDate()}return this.getDateObject(u)}}static getDateObject(e,t){const i=t||new Date;i.setMilliseconds(0);const n=["hour","minute","second","milliseconds","month","day"];let s=e.year;const o=e.designator,l=e.timeZone;Et(s)||((s+"").length<=2&&(s+=100*Math.floor(i.getFullYear()/100)),i.setFullYear(s));for(const a of n){let c=e[a];if(Et(c)&&"day"===a&&i.setDate(1),!Et(c))if("month"===a){if(c-=1,c<0||c>11)return new Date("invalid");const d=i.getDate();i.setDate(1),i[sq[a]](c);const u=new Date(i.getFullYear(),c+1,0).getDate();i.setDate(d<u?d:u)}else{if("day"===a){const d=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(c<1||c>d)return null}i[sq[a]](c)}}if(!Et(o)){const a=i.getHours();"pm"===o?i.setHours(a+(12===a?0:12)):12===a&&i.setHours(0)}if(!Et(l)){const a=l-i.getTimezoneOffset();0!==a&&i.setMinutes(i.getMinutes()+a)}return i}static internalDateParse(e,t,i){const n=e.match(t.parserRegex),s={hour:0,minute:0,second:0};if(h(n))return null;{const o=Object.keys(t.evalposition);for(const l of o){const a=t.evalposition[l];let c=n[a.pos];if(a.isNumber)s[l]=this.internalNumberParser(c,i);else if("timeZone"!==l||Et(c))c="month"!==l||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?c:c[0].toUpperCase()+c.substring(1).toLowerCase(),s[l]=t[l][c];else{const d=a.pos;let u;const p=n[d+1],g=!Et(p);a.hourOnly?u=60*this.getZoneValue(g,p,n[d+4],i):(u=60*this.getZoneValue(g,p,n[d+7],i),u+=this.getZoneValue(g,n[d+4],n[d+10],i)),h(u)||(s[l]=u)}}t.hour12&&(s.hour12=!0)}return s}static internalNumberParser(e,t){return e=Yr.convertValueParts(e,t.numberParseRegex,t.numericPair),mbe.test(e)?+e:null}static parseTimeZoneRegx(e,t,i){const n=t.gmtFormat;let s;const o="("+i+")("+i+")";let l;return s=e.replace("+","\\+"),s=-1!==e.indexOf("HH")?s.replace(/HH|mm/g,"("+o+")"):s.replace(/H|m/g,"("+o+"?)"),l=s.split(";").map(a=>n.replace("{0}",a)),s=l.join("|")+"|"+t.gmtZeroFormat,s}static getZoneValue(e,t,i,n){const s=e?t:i;if(!s)return 0;const o=this.internalNumberParser(s,n);return e?-o:o}}.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},xl)}getNumberParser(e){return class bbe{static numberParser(e,t,i){const n=Ei.getDependables(i,e,"",!0),s={custom:!0};let o;Ei.formatRegex.test(t.format)||!t.format?(O(s,Ei.getProperNumericSkeleton(t.format||"N")),s.custom=!1,s.fractionDigits||t.maximumFractionDigits&&(s.maximumFractionDigits=t.maximumFractionDigits)):O(s,Ei.customFormat(t.format,null,null));M("numbers",n.parserObject);let a;if(o=Yr.getCurrentNumericOptions(n.parserObject,Yr.getNumberingSystem(i),!0,!1),s.symbolRegex=Yr.getSymbolRegex(Object.keys(o.symbolMatch)),s.infinity=o.symbolNumberSystem[wbe[1]],a=Ei.getSymbolPattern(s.type,o.numberSystem,n.numericObject,s.isAccount),a){a=a.replace(/\u00A4/g,Ei.defaultCurrency);const c=a.split(";");s.nData=Ei.getFormatData(c[1]||"-"+c[0],!0,""),s.pData=Ei.getFormatData(c[0],!0,"")}return c=>this.getParsedNumber(c,s,o)}static getParsedNumber(e,t,i){let n,s,o,l,a,c;if(-1!==e.indexOf(t.infinity))return 1/0;{e=Yr.convertValueParts(e,t.symbolRegex,i.symbolMatch),0===(e=-1!==(e=Yr.convertValueParts(e,i.numberParseRegex,i.numericPair)).indexOf("-")?e.replace("-.","-0."):e).indexOf(".")&&(e="0"+e);const d=e.match(xbe);if(h(d))return NaN;l=d[1],o=d[2];const u=d[5];return a=d[6],n=t.custom?l===t.nData.nlead&&a===t.nData.nend:-1!==l.indexOf(t.nData.nlead)&&-1!==a.indexOf(t.nData.nend),s=n?t.nData.isPercent:t.pData.isPercent,o=o.replace(Cbe,""),u&&(o+=u),c=+o,("percent"===t.type||s)&&(c/=100),(t.custom||t.fractionDigits)&&(c=parseFloat(c.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(c=this.convertMaxFracDigits(o,t,c,n)),n&&(c*=-1),c}}static convertMaxFracDigits(e,t,i,n){let s=e.split(".");return s[1]&&s[1].length>t.maximumFractionDigits&&(i=+i.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),i}}.numberParser(this.getCulture(),e||{format:"N"},xl)}formatNumber(e,t){return this.getNumberFormat(t)(e)}formatDate(e,t){return this.getDateFormat(t)(e)}parseDate(e,t){return this.getDateParser(t)(e)}parseNumber(e,t){return this.getNumberParser(t)(e)}getDatePattern(e,t){return Ei.getActualDateTimeFormat(this.getCulture(),e,xl,t)}getNumberPattern(e,t){return Ei.getActualNumberFormat(this.getCulture(),e,xl,t)}getFirstDayOfWeek(){return Ei.getWeekData(this.getCulture(),xl)}getCulture(){return this.culture||Uw}}function rq(r){Uw=r,Wm.notify("notifyExternalChange",{locale:Uw})}function Kw(r,e){let t=Ei.getDependables(xl,r,"",!0)[I3[0]];const i=Ei.getDependables(xl,r,"")[I3[1]],n=M("defaultNumberingSystem",t),s=M("symbols-numberSystem-"+n,t),o=Ei.getSymbolPattern(e||"decimal",n,t,!1);return O(s,Ei.getFormatData(o,!0,"",!0),{dateSeparator:Ei.getDateSeparator(i)})}function af(r){return Ei.getDependables(xl,"",r,!1)[I3[1]]}const oq={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};var Ei;!function(r){r.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0#\ ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;const e=/[0-9]/g;r.defaultCurrency="$";const t=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,n={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r.dateConverterMapper=/dddd|ddd/gi,r.islamicRegex=/^islamic/;const o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};r.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,r.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,r.curWithoutNumberRegex=/(c|a)$/gi;const l={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function a(le,ge,Y,U,ce){let Be;const Ge=Y||"date";if(ce)Be=p({skeleton:le},ce).format||p({skeleton:"d"},"en-US").format;else{if(-1!==r.basicPatterns.indexOf(le)){if(Be=M(Ge+"Formats."+le,ge),"dateTime"===Ge){const jt=M("dateFormats."+le,ge),Wt=M("timeFormats."+le,ge);Be=Be.replace("{1}",jt).replace("{0}",Wt)}}else Be=M("dateTimeFormats.availableFormats."+le,ge);Et(Be)&&"yMd"===le&&(Be="M/d/y")}return Be}function c(le,ge,Y,U){const ce={},Be=Y||"gregorian";if(ce.parserObject=Yr.getMainObject(le,ge)||r.defaultObject,U)ce.numericObject=M("numbers",ce.parserObject);else{ce.dateObject=M("dates.calendars."+Be,ce.parserObject)}return ce}function d(le,ge,Y,U){return M(le+"Formats-numberSystem-"+ge+(U?".accounting":".standard"),Y)||(U?M(le+"Formats-numberSystem-"+ge+".standard",Y):"")}function u(le){le.match(r.dateConverterMapper);return le}function p(le,ge){const Y=le.format||le.skeleton;let U=M((ge||"en-US")+"."+Y,oq);return U||(U=M("en-US."+Y,oq)),U&&(U=u(U),le.format=U.replace(/tt/,"a")),le}function g(le){const ge=le.match(r.formatRegex),Y={},U=ge[1].toUpperCase();return Y.isAccount="A"===U,Y.type=r.patternMatcher[U],le.length>1&&(Y.fractionDigits=parseInt(ge[2],10)),Y}function f(le,ge,Y,U){const ce=U?{}:{nlead:"",nend:""},Be=le.match(r.customRegex);if(Be){U||(ce.nlead=m(Be[1],Y),ce.nend=m(Be[10],Y),ce.groupPattern=Be[4]);const Ge=Be[7];if(Ge&&ge){const jt=Ge.match(e);ce.minimumFraction=h(jt)?0:jt.length,ce.maximumFraction=Ge.length-1}}return ce}function m(le,ge){return le?le.replace(r.defaultCurrency,ge):""}function v(le,ge,Y){return M("currencies."+ge+(Y?"."+Y:".symbol"),le)||M("currencies."+ge+".symbol-alt-narrow",le)||"$"}function w(le,ge,Y){const U={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},ce=le.match(r.customRegex);if(h(ce)||""===ce[5]&&"N/A"!==le)return U.type=void 0,U;U.nlead=ce[1],U.nend=ce[10];let Be=ce[6];const Ge=!!Be.match(/\ $/g),jt=-1!==Be.replace(/\ $/g,"").indexOf(" ");U.useGrouping=-1!==Be.indexOf(",")||jt,Be=Be.replace(/,/g,"");const Wt=ce[7];if(-1!==Be.indexOf("0")&&(U.minimumIntegerDigits=Be.length-Be.indexOf("0")),h(Wt)||(U.minimumFractionDigits=Wt.lastIndexOf("0"),U.maximumFractionDigits=Wt.lastIndexOf("#"),-1===U.minimumFractionDigits&&(U.minimumFractionDigits=0),(-1===U.maximumFractionDigits||U.maximumFractionDigits<U.minimumFractionDigits)&&(U.maximumFractionDigits=U.minimumFractionDigits)),h(ge)?O(U,b([U.nlead,U.nend],"%","%")):(O(U,b([U.nlead,U.nend],"$",ge.currencySymbol)),U.isCurrency||O(U,b([U.nlead,U.nend],"%",ge.percentSymbol))),!h(Y)){const Mi=d(U.type,ge.numberMapper.numberSystem,Y,!1);U.useGrouping&&(U.groupSeparator=jt?" ":ge.numberMapper.numberSymbols[t[2]],U.groupData=iq.getGroupingDetails(Mi.split(";")[0])),U.nlead=U.nlead.replace(/'/g,""),U.nend=Ge?" "+U.nend.replace(/'/g,""):U.nend.replace(/'/g,"")}return U}function b(le,ge,Y){const U={nlead:le[0],nend:le[1]};for(let ce=0;ce<2;ce++){const Be=le[ce],Ge=Be.indexOf(ge);if(-1!==Ge&&(Ge<Be.indexOf("'")||Ge>Be.lastIndexOf("'"))){U[l[ce]]=Be.substr(0,Ge)+Y+Be.substr(Ge+1),U[l[ge]]=!0,U.type=U.isCurrency?"currency":"percent";break}}return U}function oe(le,ge,Y){le+=".";for(let U=0;U<ge;U++)le+="0";if(ge<Y){const U=Y-ge;for(let ce=0;ce<U;ce++)le+="#"}return le}function ae(le,ge){const Y=le.split(".");let U="";for(let ce=0;ce<ge;ce++)U+="0";return Y[1]?U+"."+Y[1]:U}function xe(le){const ge=le.split(".");let Y=ge[0];const U=3-Y.length%3;Y=(U&&1===U?"#":2===U?"##":"")+Y,le="";for(let Be=Y.length-1;Be>0;Be-=3)le=","+Y[Be-2]+Y[Be-1]+Y[Be]+le;return le=le.slice(1),ge[1]?le+"."+ge[1]:le}r.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,r.basicPatterns=["short","medium","long","full"],r.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},r.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},r.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},r.month="months",r.days="days",r.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},r.getResultantPattern=a,r.getDependables=c,r.getSymbolPattern=d,r.ConvertDateToWeekFormat=u,r.compareBlazorDateFormats=p,r.getProperNumericSkeleton=g,r.getFormatData=f,r.changeCurrencySymbol=m,r.getCurrencySymbol=v,r.customFormat=function x(le,ge,Y){const U={},ce=le.split(";"),Be=["pData","nData","zeroData"];for(let Ge=0;Ge<ce.length;Ge++)U[Be[Ge]]=w(ce[Ge],ge,Y);return h(U.nData)&&(U.nData=O({},U.pData),U.nData.nlead=h(ge)?"-"+U.nData.nlead:ge.minusSymbol+U.nData.nlead),U},r.customNumberFormat=w,r.isCurrencyPercent=b,r.getDateSeparator=function I(le){const ge=(M("dateFormats.short",le)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return ge?ge[1]:"/"},r.getActualDateTimeFormat=function k(le,ge,Y,U){const ce=c(Y,le,ge.calendar);let Be=ge.format||a(ge.skeleton,ce.dateObject,ge.type);if(U){if(Be=Be.replace(i,Ge=>n[Ge]),-1!==Be.indexOf("z")){const Ge=Be.match(/z/g).length;let jt;const Wt={timeZone:{}};Wt.numMapper=Yr.getNumberMapper(ce.parserObject,Yr.getNumberingSystem(Y)),Wt.timeZone=M("dates.timeZoneNames",ce.parserObject);const ri=(new Date).getTimezoneOffset();let Ai=Ge<4?"+H;-H":Wt.timeZone.hourFormat;Ai=Ai.replace(/:/g,Wt.numMapper.timeSeparator),0===ri?jt=Wt.timeZone.gmtZeroFormat:(jt=eq.getTimeZoneValue(ri,Ai),jt=Wt.timeZone.gmtFormat.replace(/\{0\}/,jt)),Be=Be.replace(/[z]+/,'"'+jt+'"')}Be=Be.replace(/ $/,"")}return Be},r.getActualNumberFormat=function W(le,ge,Y,U){const ce=c(Y,le,"",!0),Be={custom:!0};let jt;const Wt={},Mi=(ge.format||"").match(r.currencyFormatRegex),Ai=(r.formatRegex.test(ge.format)&&g(ge.format||"N"),{});if(Mi){Ai.numberMapper=Yr.getNumberMapper(ce.parserObject,Yr.getNumberingSystem(Y),!0);const ne=v(ce.numericObject,ge.currency||$w,ge.altSymbol);let we=d("currency",Ai.numberMapper.numberSystem,ce.numericObject,/a/i.test(ge.format));we=we.replace(/\u00A4/g,ne);const ot=we.split(";");Wt.hasNegativePattern=ot.length>1,Wt.nData=f(ot[1]||"-"+ot[0],!0,ne),Wt.pData=f(ot[0],!1,ne),!Mi[2]&&!ge.minimumFractionDigits&&!ge.maximumFractionDigits&&(jt=f(we.split(";")[0],!0,"",!0).minimumFraction)}let zt;if(r.formatRegex.test(ge.format)||!ge.format){if(O(Be,g(ge.format||"N")),Be.custom=!1,zt="###0",(Be.fractionDigits||ge.minimumFractionDigits||ge.maximumFractionDigits||jt)&&(Be.fractionDigits&&(ge.minimumFractionDigits=ge.maximumFractionDigits=Be.fractionDigits),zt=oe(zt,jt||Be.fractionDigits||ge.minimumFractionDigits||0,ge.maximumFractionDigits||0)),ge.minimumIntegerDigits&&(zt=ae(zt,ge.minimumIntegerDigits)),ge.useGrouping&&(zt=xe(zt)),"currency"===Be.type){const ne=zt;zt=Wt.pData.nlead+ne+Wt.pData.nend,Wt.hasNegativePattern&&(zt+=";"+Wt.nData.nlead+ne+Wt.nData.nend)}"percent"===Be.type&&(zt+=" %")}else zt=ge.format.replace(/'/g,'"');return Object.keys(Ai).length>0&&(zt=U?zt:function P(le,ge){if(-1!==le.indexOf(",")){let Y=le.split(",");le=Y[0]+M("numberMapper.numberSymbols.group",ge)+Y[1].replace(".",M("numberMapper.numberSymbols.decimal",ge))}else le=le.replace(".",M("numberMapper.numberSymbols.decimal",ge));return le}(zt,Ai)),zt},r.fractionDigitsPattern=oe,r.minimumIntegerPattern=ae,r.groupingPattern=xe,r.getWeekData=function z(le,ge){let Y="sun";const U=M("supplemental.weekData.firstDay",ge);let ce=le;return/en-/.test(ce)&&(ce=ce.slice(3)),ce=ce.slice(0,2).toUpperCase()+ce.substr(2),U&&(Y=U[ce]||U[ce.slice(0,2)]||"sun"),o[Y]},r.replaceBlazorCurrency=function Re(le,ge,Y){const U=function cbe(r){return M(r||"",abe)}(Y);if(ge!==U)for(const ce of le)ce.nend=ce.nend.replace(ge,U),ce.nlead=ce.nlead.replace(ge,U)},r.getWeekOfYear=function ye(le){const ge=new Date(le.getFullYear(),0,1);let U,Y=ge.getDay();Y=Y>=0?Y:Y+7;const ce=Math.floor((le.getTime()-ge.getTime()-6e4*(le.getTimezoneOffset()-ge.getTimezoneOffset()))/864e5)+1;if(Y<4){if(U=Math.floor((ce+Y-1)/7)+1,U>52){let Ge=new Date(le.getFullYear()+1,0,1).getDay();Ge=Ge>=0?Ge:Ge+7,U=Ge<4?1:53}}else U=Math.floor((ce+Y-1)/7);return U}}(Ei||(Ei={}));const lq=/^(.*?):[ \t]*([^\r\n]*)$/gm;class cf{constructor(e,t,i,n){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!h(i)||i):"object"==typeof e&&(this.options=e,Nr(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:n}send(e){this.data=h(e)?this.data:e;const t={cancel:!1,httpRequest:null};return new Promise((n,s)=>{this.httpRequest=new XMLHttpRequest,this.httpRequest.onreadystatechange=()=>{this.stateChange(n,s)},h(this.onLoad)||(this.httpRequest.onload=this.onLoad),h(this.onProgress)||(this.httpRequest.onprogress=this.onProgress),h(this.onAbort)||(this.httpRequest.onabort=this.onAbort),h(this.onError)||(this.httpRequest.onerror=this.onError),h(this.onUploadProgress)||(this.httpRequest.upload.onprogress=this.onUploadProgress),this.httpRequest.open(this.type,this.url,this.mode),!h(this.data)&&null!==this.contentType&&this.httpRequest.setRequestHeader("Content-Type",this.contentType||"application/json; charset=utf-8"),this.beforeSend&&(t.httpRequest=this.httpRequest,this.beforeSend(t)),t.cancel||this.httpRequest.send(h(this.data)?null:this.data)})}successHandler(e){return this.onSuccess&&this.onSuccess(e,this),e}failureHandler(e){return this.onFailure&&this.onFailure(this.httpRequest),e}stateChange(e,t){let i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(n){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())}getResponseHeader(e){let t,i;t={};let n=lq.exec(this.httpRequest.getAllResponseHeaders());for(;n;)t[n[1].toLowerCase()]=n[2],n=lq.exec(this.httpRequest.getAllResponseHeaders());return i=t[e.toLowerCase()],h(i)?null:i}}const _be=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,Sbe=/msie|trident/i,Ibe=/Trident\/7\./,Dbe=/(ipad|iphone|ipod touch)/i,Ebe=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,Tbe=/android/i,Rbe=/trident|windows phone|edge/i,kbe=/(version)[ /]([\w.]+)/i,cq={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});class A{static extractBrowserDetail(){const e={culture:{}},t=Object.keys(cq);let i=[];for(const n of t)if(i=A.userAgent.match(cq[n]),i){if(e.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),e.name="crios"===i[1].toLowerCase()?"chrome":e.name,e.version=i[2],e.culture.name=e.culture.language=navigator.language,A.userAgent.match(Ibe)){e.name="msie";break}const s=A.userAgent.match(kbe);"safari"===e.name&&s&&(e.version=s[2]);break}return e}static getEvent(e){const t={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return A.isPointer?t[e].isPointer:A.isTouch?t[e].isTouch+(A.isDevice?"":" "+t[e].isDevice):t[e].isDevice}static getTouchStartEvent(){return A.getEvent("start")}static getTouchEndEvent(){return A.getEvent("end")}static getTouchMoveEvent(){return A.getEvent("move")}static getTouchCancelEvent(){return A.getEvent("cancel")}static getValue(e,t){const i=window.browserDetails;return"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===A.isTouch&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),void 0===i[e]?i[e]=t.test(A.userAgent):i[e]}static set userAgent(e){A.uA=e,window.browserDetails={}}static get userAgent(){return A.uA}static get info(){return Et(window.browserDetails.info)?window.browserDetails.info=A.extractBrowserDetail():window.browserDetails.info}static get isIE(){return A.getValue("isIE",Sbe)}static get isTouch(){return Et(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch}static get isPointer(){return Et(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer}static get isMSPointer(){return Et(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer}static get isDevice(){return A.getValue("isDevice",_be)}static get isIos(){return A.getValue("isIos",Dbe)}static get isIos7(){return A.getValue("isIos7",Ebe)}static get isAndroid(){return A.getValue("isAndroid",Tbe)}static get isWebView(){return Et(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(Et(window.cordova)&&Et(window.PhoneGap)&&Et(window.phonegap)&&"object"!==window.forge)),window.browserDetails.isWebView}static get isWindows(){return A.getValue("isWindows",Rbe)}static get touchStartEvent(){return Et(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=A.getTouchStartEvent():window.browserDetails.touchStartEvent}static get touchMoveEvent(){return Et(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=A.getTouchMoveEvent():window.browserDetails.touchMoveEvent}static get touchEndEvent(){return Et(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=A.getTouchEndEvent():window.browserDetails.touchEndEvent}static get touchCancelEvent(){return Et(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=A.getTouchCancelEvent():window.browserDetails.touchCancelEvent}}A.uA="undefined"!=typeof navigator?navigator.userAgent:"";class C{static addOrGetEventData(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])}static add(e,t,i,n,s){const o=C.addOrGetEventData(e);let l;l=s?Xp(i,s):i,n&&(l=l.bind(n));const a=t.split(" ");for(let c=0;c<a.length;c++)o.push({name:a[c],listener:i,debounce:l}),A.isIE?e.addEventListener(a[c],l):e.addEventListener(a[c],l,{passive:!1});return l}static remove(e,t,i){const n=C.addOrGetEventData(e),s=t.split(" ");for(let o=0;o<s.length;o++){let a,l=-1;n&&0!==n.length&&n.some((c,d)=>c.name===s[o]&&c.listener===i&&(l=d,a=c.debounce,!0)),-1!==l&&n.splice(l,1),a&&e.removeEventListener(s[o],a)}}static clearEvents(e){let t,i;t=C.addOrGetEventData(e),i=O([],i,t);for(let n=0;n<i.length;n++)e.removeEventListener(i[n].name,i[n].debounce),t.shift()}static trigger(e,t,i){const n=C.addOrGetEventData(e);for(const s of n)s.name===t&&s.debounce.call(this,i)}}const Abe=/^svg|^path|^g/;function Xe(r,e){const t=Abe.test(r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);return void 0===e||(t.innerHTML=e.innerHTML?e.innerHTML:"",void 0!==e.className&&(t.className=e.className),void 0!==e.id&&(t.id=e.id),void 0!==e.styles&&t.setAttribute("style",e.styles),void 0!==e.attrs&&Le(t,e.attrs)),t}function _(r,e){const t=dq(e);for(const i of r)for(const n of t)if(td(i)){const s=M("attributes.className",i);h(s)?Ne("attributes.className",n,i):new RegExp("\\b"+n+"\\b","i").test(s)||Ne("attributes.className",s+" "+n,i)}else i.classList.contains(n)||i.classList.add(n);return r}function T(r,e){const t=dq(e);for(const i of r){const n=td(i);if(n?M("attributes.className",i):""!==i.className)for(const o of t)if(n){const a=M("attributes.className",i).split(" "),c=a.indexOf(o);-1!==c&&a.splice(c,1),Ne("attributes.className",a.join(" "),i)}else i.classList.remove(o)}return r}function dq(r){let e=[];return"string"==typeof r?e.push(r):e=r,e}function Vr(r){return""===r.style.visibility&&r.offsetWidth>0}function oo(r,e,t){const i=document.createDocumentFragment();for(const n of r)i.appendChild(n);return e.insertBefore(i,e.firstElementChild),t&&hq(e),r}function Jt(r,e,t){const i=document.createDocumentFragment();for(const n of r)i.appendChild(n);return e.appendChild(i),t&&hq(e),r}function hq(r){r.querySelectorAll("script").forEach(t=>{const i=document.createElement("script");i.text=t.innerHTML,document.head.appendChild(i),de(i)})}function de(r){const e=r.parentNode;if(e)return e.removeChild(r)}function X(r){const e=r.parentNode;C.clearEvents(r),e.removeChild(r)}function Le(r,e){const t=Object.keys(e),i=r;for(const n of t)if(td(i)){let s=n;"tabindex"===n&&(s="tabIndex"),i.attributes[s]=e[n]}else i.setAttribute(n,e[n]);return i}function G(r,e=document,t){return r=uq(r),e.querySelector(r)}function gt(r,e=document,t){return r=uq(r),e.querySelectorAll(r)}function uq(r){const e=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(r.match(/#[0-9]/g)||r.match(e)){const t=r.split(",");for(let i=0;i<t.length;i++){const n=t[i].split(" ");for(let s=0;s<n.length;s++)if(n[s].indexOf("#")>-1&&!n[s].match(/\[.*\]/)){const o=n[s].split("#");if(o[1].match(/^\d/)||o[1].match(e)){const l=n[s].split(".");l[0]=l[0].replace(/#/,"[id='")+"']",n[s]=l.join(".")}}t[i]=n.join(" ")}return t.join(",")}return r}function D(r,e){let t=r;if("function"==typeof t.closest)return t.closest(e);for(;t&&1===t.nodeType;){if(Um(t,e))return t;t=t.parentNode}return null}function lt(r,e){void 0!==e&&Object.keys(e).forEach(t=>{r.style[t]=e[t]})}function ze(r,e,t){_([r],e),T([r],t)}function Um(r,e){let t=r.matches||r.msMatchesSelector||r.webkitMatchesSelector;return t?t.call(r,e):-1!==[].indexOf.call(document.querySelectorAll(e),r)}const Mbe=new RegExp("]");class lu{constructor(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=()=>{},this.childChangedProperties={},this.modelObserver=new Ww(this),Et(t)||(this.element="string"==typeof t?document.querySelector(t):t,h(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Et(e)||this.setProperties(e,!0),this.isDestroyed=!1}setProperties(e,t){const i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,Nr(this,e),!0!==t&&(Nr(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i}static callChildDataBind(e,t){const i=Object.keys(e);for(const n of i)if(t[n]instanceof Array)for(const s of t[n])void 0!==s.dataBind&&s.dataBind();else t[n].dataBind()}clearChanges(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}}dataBind(){if(lu.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){const e=this.isProtectedOnChange,t=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,i),this.isProtectedOnChange=e}}serverDataBind(e){}saveChanges(e,t,i){this.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function sbe(r){let e;const t=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(t);let n="ej2"+function obe(r){let e="";for(let t=0;t<5;t++)e+=(t?",":"")+r[t];return e}(t),s=o=>{o.source===window&&"string"==typeof o.data&&o.data.length<=32&&o.data===n&&(r(),e())};return window.addEventListener("message",s,!1),window.postMessage(n,"*"),e=()=>{window.removeEventListener("message",s),r=s=n=void 0}}(this.dataBind.bind(this)))}addEventListener(e,t){this.modelObserver.on(e,t)}removeEventListener(e,t){this.modelObserver.off(e,t)}trigger(e,t,i,n){if(!0!==this.isDestroyed){const s=this.isProtectedOnChange;this.isProtectedOnChange=!1;let o=this.modelObserver.notify(e,t,i,n);if(Mbe.test(e)){const l=M(e,this);if(l)if(window.Blazor){const c=l.call(this,t);c&&"function"==typeof c.then?i?c.then(d=>{i&&(d="string"==typeof d&&this.modelObserver.isJson(d)?JSON.parse(d):d,i.call(this,d))}).catch(d=>{n&&(d="string"==typeof d&&this.modelObserver.isJson(d)?JSON.parse(d):d,n.call(this,d))}):o=c:i&&i.call(this,t)}else l.call(this,t),i&&i.call(this,t);else i&&i.call(this,t)}return this.isProtectedOnChange=s,o}}addInstance(){const e="e-"+this.getModuleName().toLowerCase();_([this.element],["e-lib",e]),h(this.element.ej2_instances)?Ne("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)}destroy(){this.element.ej2_instances=this.element.ej2_instances.filter(e=>e!==this),T([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&T([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0}}function la(r,e){let t,i;const n="string"==typeof r?document.getElementById(r):r;for(i=0;i<n.ej2_instances.length;i++)if(t=n.ej2_instances[i],"string"==typeof e){if(e===t.getModuleName())return t}else if(t instanceof e)return t}function iD(r,e,t,i){return(!r.properties.hasOwnProperty(e)||!(r.properties[e]instanceof i))&&(r.properties[e]=ZI(i,[r,e,t])),r.properties[e]}function Yw(r,e,t,i,n,s){const o=[],l=t?t.length:0;for(let a=0;a<l;a++){let c=i;if(s&&(c=i(t[a],r)),n){const d=ZI(c,[r,e,{},!0]);d.setProperties(t[a],!0),o.push(d)}else o.push(ZI(c,[r,e,t[a],!1]))}return o}function pq(r,e){return function(){return this.properties.hasOwnProperty(e)||(this.properties[e]=r),this.properties[e]}}function Fbe(r,e){return function(t){if(this.properties[e]!==t){let i=this.properties.hasOwnProperty(e)?this.properties[e]:r;this.saveChanges(e,t,i),this.properties[e]=t}}}function Pbe(r,e,t){return function(){return iD(this,e,r,t)}}function Lbe(r,e,t){return function(i){iD(this,e,r,t).setProperties(i)}}function Nbe(r,e,t){return function(){if(!this.properties.hasOwnProperty(e)){const n=Yw(this,e,r,t,!1);this.properties[e]=n}const i=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!this.properties[e].hasOwnProperty("push")&&!i&&["push","pop"].forEach(n=>{const s={value:jbe(n,e,0,this.properties[e]).bind(this),configurable:!0};Object.defineProperty(this.properties[e],n,s)}),this.properties[e].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[e],"isComplexArray",{value:!0}),this.properties[e]}}function Vbe(r,e,t){return function(i){this.isComplexArraySetter=!0;const n=Yw(this,e,r,t,!1),s=Yw(this,e,i,t,!0);this.isComplexArraySetter=!1,this.saveChanges(e,s,n),this.properties[e]=s}}function jbe(r,e,t,i){return function(...n){const s=this.propName?this.getParentKey()+"."+e+"-":e+"-";switch(r){case"push":for(let l=0;l<n.length;l++){Array.prototype[r].apply(i,[n[l]]);const a=gq(s+(i.length-1),n[l],!this.controlParent,r);this.serverDataBind(a,n[l],!1,r)}break;case"pop":Array.prototype[r].apply(i);let o=gq(s+i.length,null,!this.controlParent,r);this.serverDataBind(o,{ejsAction:"pop"},!1,r)}return i}}function gq(r,e,t,i){let n=r;return t&&(n={},n[r]=e,e&&"object"==typeof e)&&(n[r].ejsAction=i),n}function y(r){return(e,t)=>{const i={set:Fbe(r,t),get:pq(r,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),Ey(e,t,"prop",r)}}function gi(r,e){return(t,i)=>{const n={set:Lbe(r,i,e),get:Pbe(r,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),Ey(t,i,"complexProp",r,e)}}function Hr(r,e){return(t,i)=>{const n={set:Vbe(r,i,e),get:Nbe(r,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),Ey(t,i,"colProp",r,e)}}function E(){return(r,e)=>{const t={set:function(i){const n=this.properties[e];if(n!==i){const s=mq(this,e);!1===Et(n)&&s.context.removeEventListener(s.prefix,n),s.context.addEventListener(s.prefix,i),this.properties[e]=i}},get:pq(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(r,e,t),Ey(r,e,"event")}}function Pi(r){}function Ey(r,e,t,i,n){Et(r.propList)&&(r.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),r.propList[t+"s"].push({propertyName:e,defaultValue:i,type:n}),r.propList[t+"Names"].push(e)}function mq(r,e){if(!1===r.hasOwnProperty("parentObj"))return{context:r,prefix:e};{const t=M("propName",r);return t&&(e=t+"-"+e),mq(M("parentObj",r),e)}}var Ty,Jp=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let _s=Ty=class extends lu{constructor(e){super(e,void 0),this.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"}}animate(e,t){const i=this.getModel(t=t||{});if("string"==typeof e){const n=Array.prototype.slice.call(gt(e,document));for(const s of n)i.element=s,Ty.delayAnimation(i)}else i.element=e,Ty.delayAnimation(i)}static stop(e,t){e.style.animation="",e.removeAttribute("e-animate");const i=e.getAttribute("e-animation-id");if(i){const n=parseInt(i,10);cancelAnimationFrame(n),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)}static delayAnimation(e){e.delay?setTimeout(()=>{Ty.applyAnimation(e)},e.delay):Ty.applyAnimation(e)}static applyAnimation(e){e.timeStamp=0;let t=0,i=0,n=0;const s=e.duration;e.element.setAttribute("e-animate","true");const o=l=>{try{if(l){n=0===n?l:n,e.timeStamp=l+e.timeStamp-n,n=l,!t&&e.begin&&e.begin.call(this,e),t+=1;const a=e.timeStamp/t;e.timeStamp<s&&e.timeStamp+a<s&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(this,e),requestAnimationFrame(o)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(this,e))}else i=requestAnimationFrame(o),e.element.setAttribute("e-animation-id",i.toString())}catch(a){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(this,a)}};o()}getModel(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}}onPropertyChanged(e,t){}getModuleName(){return"animation"}destroy(){}};function Ys(r,e,t){const i=function Gbe(r){return{selector:r&&r.selector?r.selector:null,ignore:r&&r.ignore?r.ignore:null,rippleFlag:r&&r.rippleFlag,isCenterRipple:r&&r.isCenterRipple,duration:r&&r.duration?r.duration:350}}(e);return!1===i.rippleFlag||void 0===i.rippleFlag&&!dp?()=>{}:(r.setAttribute("data-ripple","true"),C.add(r,"mousedown",vq,{parent:r,rippleOptions:i}),C.add(r,"mouseup",yq,{parent:r,rippleOptions:i,done:t}),C.add(r,"mouseleave",Ry,{parent:r,rippleOptions:i}),A.isPointer&&C.add(r,"transitionend",Ry,{parent:r,rippleOptions:i}),()=>{r.removeAttribute("data-ripple"),C.remove(r,"mousedown",vq),C.remove(r,"mouseup",yq),C.remove(r,"mouseleave",Ry),C.remove(r,"transitionend",Ry)})}function vq(r){const e=r.target,t=this.rippleOptions.selector,i=t?D(e,t):e;if(!i||this.rippleOptions&&D(e,this.rippleOptions.ignore))return;const n=i.getBoundingClientRect(),s=r.pageX-document.body.scrollLeft,o=r.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),l=Math.max(Math.abs(s-n.left),Math.abs(s-n.right)),a=Math.max(Math.abs(o-n.top),Math.abs(o-n.bottom)),c=Math.sqrt(l*l+a*a);let d=2*c+"px",u=s-n.left-c,p=o-n.top-c;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(u=0,p=0,d="100%"),i.classList.add("e-ripple");const m=Xe("div",{className:"e-ripple-element",styles:"width: "+d+";height: "+d+";left: "+u+"px;top: "+p+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(m),window.getComputedStyle(m).getPropertyValue("opacity"),m.style.transform="scale(1)",i!==this.parent&&C.add(i,"mouseleave",Ry,{parent:this.parent,rippleOptions:this.rippleOptions})}function yq(r){xq(r,this)}function Ry(r){xq(r,this)}function xq(r,e){const t=e.rippleOptions.duration,i=r.target,n=e.rippleOptions.selector,s=n?D(i,n):i;if(!s||s&&-1===s.className.indexOf("e-ripple"))return;const o=gt(".e-ripple-element",s),l=o[o.length-1];l&&(l.style.opacity="0.5"),e.parent!==s&&C.remove(s,"mouseleave",Ry),setTimeout(()=>{l&&l.parentNode&&l.parentNode.removeChild(l),s.getElementsByClassName("e-ripple-element").length||s.classList.remove("e-ripple"),e.done&&e.done(r)},t)}Jp([y("FadeIn")],_s.prototype,"name",void 0),Jp([y(400)],_s.prototype,"duration",void 0),Jp([y("ease")],_s.prototype,"timingFunction",void 0),Jp([y(0)],_s.prototype,"delay",void 0),Jp([E()],_s.prototype,"progress",void 0),Jp([E()],_s.prototype,"begin",void 0),Jp([E()],_s.prototype,"end",void 0),Jp([E()],_s.prototype,"fail",void 0),_s=Ty=Jp([Pi],_s);let dp=!1;class Wbe{constructor(e){this.loadedModules=[],this.parent=e}inject(e,t){const i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(let n=0;n<i;n++){const s=e[n];for(const o of t){const l=s.member;if(o.prototype.getModuleName()===s.member&&!this.isModuleLoaded(l)){const a=ZI(o,s.args),c=this.getMemberName(l);Ne(c,s.isProperty?o:a,this.parent);const d=s;d.member=c,this.loadedModules.push(d)}}}}else this.clean()}clean(){for(const e of this.loadedModules)e.isProperty||M(e.member,this.parent).destroy();this.loadedModules=[]}clearUnusedModule(e){const t=e.map(n=>this.getMemberName(n.member)),i=this.loadedModules.filter(n=>-1===t.indexOf(n.member));for(const n of i)n.isProperty||M(n.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(n),1),_3(this.parent,n.member)}getMemberName(e){return e[0].toLowerCase()+e.substring(1)+"Module"}isModuleLoaded(e){for(const t of this.loadedModules)if(t.member===this.getMemberName(e))return!0;return!1}}class Nt{constructor(e,t,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=()=>{},this.callChildDataBind=M("callChildDataBind",lu),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=n,this.setProperties(i,!0)}updateChange(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)}updateTimeOut(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{const e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=()=>{clearTimeout(e)}}}clearChanges(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}}setProperties(e,t){!0===t?(Nr(this,e),this.updateChange(!1,this.propName),this.clearChanges()):Nr(this,e)}dataBind(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){const e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Ne(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Ne(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()}saveChanges(e,t,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(e,t,!0),this.oldProperties[e]=i,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())}serverDataBind(e,t,i,n){0}getParentKey(e){let t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);let n=this.parentObj[this.propName].length;n=e?n:n>0?n-1:0,t=-1!==t?"-"+t:"-"+n,i+=t}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i}}const Cq=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100];class wq{constructor(e){this.isValidated=!1,this.version="20.1",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats/i,this.errors={noLicense:'This application was built using a trial version of Syncfusion Essential Studio. Please include a valid license to permanently remove this license validation message. You can also obtain a free 30 day evaluation license to temporarily remove this message during the evaluation period. Please refer to this <a style="color:yellow;text-decoration:none;"href="https://help.syncfusion.com/common/essential-studio/licensing">help topic</a> for more information.',trailExpired:'Your Syncfusion trial license has expired. Please refer to this <a style="color:yellow;text-decoration:none;"href="https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#trial-expired">help topic</a> for more information.',versionMismatched:'The included Syncfusion license (v##LicenseVersion) is invalid for version ##Requireversion. Please refer to this <a style="color:yellow;text-decoration:none;" href="https://help.syncfusion.com/es/licensing/version-mismatch/">help topic</a> for more information.',platformMismatched:'The included Syncfusion license is invalid (Platform mismatch). Please refer to this <a style="color:yellow;text-decoration:none;" href="https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#platform-mismatch">help topic</a> for more information.',invalidKey:'The included Syncfusion license is invalid. Please refer to this <a style="color:yellow;text-decoration:none;" href="https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#invalid-key">help topic</a> for more information.'},this.manager=(()=>{let t=null;return{setKey:function i(s){t=s},getKey:function n(){return t}}})(),this.manager.setKey(e)}validate(){if(!this.isValidated&&eD&&!M(bq(Cq),eD)&&!M("Blazor",eD)){let e;if(this.manager&&this.manager.getKey()){let t=this.getInfoFromKey();if(t&&t.length){for(let i of t)if(!this.platform.test(i.platform)||i.invalidPlatform)e=this.errors.platformMismatched;else if(-1===i.version.indexOf(this.version))e=this.errors.versionMismatched,e=e.replace("##LicenseVersion",i.version),e=e.replace("##Requireversion",this.version+".x");else if(i.expiryDate){let n=new Date(i.expiryDate),s=new Date;if(!(n!==s&&n<s))break;e=this.errors.trailExpired}}else e=this.errors.invalidKey}else e=this.errors.noLicense;if(e&&"undefined"!=typeof document&&!h(document)){let t=Xe("div",{innerHTML:e+'<span style="position:absolute;right: 10px;top:27%;cursor:pointer;"onClick=this.parentElement.remove();><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><line x1="5" y1="5" x2="15" y2="15" stroke="yellow" stroke-width="2.5" stroke-miterlimit="10" stroke-linecap="round"></line><line x1="15" y1="5" x2="5" y2="15" stroke="yellow" stroke-width="2.5" stroke-linecap="round" stroke-miterlimit="10"></line></svg></span>',styles:'position:fixed;top:0;left:0;right:0;font-family:"Segoe UI";font-size:16px;background:repeating-linear-gradient(45deg,#d70f0f,#d70f0f 10px,#e12121 10px,#e12121 17px);color:#ffffff;z-index:999999999;text-align:center;padding:10px 50px 10px 25px;'});t.setAttribute("id","js-licensing"),document.body.appendChild(t)}this.isValidated=!0,Ne(bq(Cq),this.isValidated,eD)}}getDecryptedData(e){try{return atob(e)}catch(t){return""}}getInfoFromKey(){try{let t=this.manager.getKey().split(";"),i=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],n=[],s=[],o=!1;for(let l of t){let a=this.getDecryptedData(l);if(!a)continue;let c=0,d="";for(let u=0;u<a.length;u++,c++){c===i.length&&(c=0);let p=a.charCodeAt(u);d+=String.fromCharCode(p^i[c]>>16)}this.platform.test(d)?(n=d.split(";"),o=!1,n.length>3&&s.push({platform:n[0],version:n[1],expiryDate:n[2]})):d&&d.split(";").length>3&&(o=!0)}return o&&!s.length?[{invalidPlatform:o}]:s.length?s:null}catch(e){return null}}}let D3=new wq;function bq(r){let e="";for(let t of r)e+=String.fromCharCode(t);return e}var nD=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let T3,E3=0,_q=0,an=class extends lu{constructor(e,t){var r;super(e,t),this.randomId=function rbe(){if("undefined"==typeof window)return;let r=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(r)}(),this.isStringTemplate=!1,this.needsID=!1,this.isReactHybrid=!1,h(this.enableRtl)&&this.setProperties({enableRtl:false},!0),h(this.locale)&&this.setProperties({locale:Uw},!0),this.moduleLoader=new Wbe(this),this.localObserver=new Ww(this),Wm.on("notifyExternalChange",this.detectFunction,this,this.randomId),"undefined"!=typeof window&&"undefined"!=typeof document&&(r&&function Ube(r){D3=new wq(r)}(r),D3.validate()),Et(t)||this.appendTo()}requiredModules(){return[]}destroy(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),!this.refreshing&&(T([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),super.destroy(),this.moduleLoader.clean(),Wm.off("notifyExternalChange",this.detectFunction,this.randomId)))}refresh(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new Ww(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1}accessMount(){this.mount&&!this.isReactHybrid&&this.mount()}getRootElement(){return this.isReactHybrid?this.actualElement:this.element}getLocalData(){const e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)}appendTo(e){if(h(e)||"string"!=typeof e?h(e)||(this.element=e):this.element=G(e,document),!h(this.element)){const t="e-"+this.getModuleName().toLowerCase();_([this.element],["e-control",t]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));const i=M("ej2_instances",this.element);(!i||-1===i.indexOf(this))&&super.addInstance(),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}}renderComplete(e){this.isRendered=!0}dataBind(){this.injectModules(),super.dataBind()}on(e,t,i){if("string"==typeof e)this.localObserver.on(e,t,i);else for(const n of e)this.localObserver.on(n.event,n.handler,n.context)}off(e,t){if("string"==typeof e)this.localObserver.off(e,t);else for(const i of e)this.localObserver.off(i.event,i.handler)}notify(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)}getInjectedModules(){return this.injectedModules}static Inject(...e){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(let t=0;t<e.length;t++)-1===this.prototype.injectedModules.indexOf(e[t])&&this.prototype.injectedModules.push(e[t])}createElement(e,t,i){return Xe(e,t)}triggerStateChange(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})}injectModules(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)}detectFunction(e){const t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])}mergePersistData(){let e;e=window.localStorage.getItem(this.getModuleName()+this.element.id),h(e)||""===e||this.setProperties(JSON.parse(e),!0)}setPersistData(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())}renderReactTemplates(){}clearTemplate(e,t){}getUniqueID(e){return this.isHistoryChanged()&&(E3=0),T3=this.pageID(location.href),_q=history.length,e+"_"+T3+"_"+E3++}pageID(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return Math.abs(t)}isHistoryChanged(){return T3!==this.pageID(location.href)||_q!==history.length}addOnPersist(e){const t={};for(const i of e){let n;n=M(i,this),Et(n)||Ne(i,this.getActualProperties(n),t)}return JSON.stringify(t,(i,n)=>this.getActualProperties(n))}getActualProperties(e){return e instanceof Nt?M("properties",e):e}ignoreOnPersist(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))}iterateJsonProperties(e,t){const i={};for(const n of Object.keys(e))if(-1===t.indexOf(n)){const s=e[n];if("object"!=typeof s||s instanceof Array)i[n]=s;else{const o=t.filter(l=>new RegExp(n+".").test(l)).map(l=>l.replace(n+".",""));i[n]=this.iterateJsonProperties(this.getActualProperties(s),o)}}return i}};nD([y(!1)],an.prototype,"enablePersistence",void 0),nD([y()],an.prototype,"enableRtl",void 0),nD([y()],an.prototype,"locale",void 0),an=nD([Pi],an),"undefined"!=typeof window&&window.addEventListener("popstate",()=>{E3=0});var Qw,Rr=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const Kbe={left:0,top:0,bottom:0,right:0},R3={isDragged:!1};class k3 extends Nt{}Rr([y(0)],k3.prototype,"left",void 0),Rr([y(0)],k3.prototype,"top",void 0);let Yn=Qw=class extends lu{constructor(e,t){super(t,e),this.dragLimit=Qw.getDefaultPosition(),this.borderWidth=Qw.getDefaultPosition(),this.padding=Qw.getDefaultPosition(),this.diffX=0,this.prevLeft=0,this.prevTop=0,this.dragProcessStarted=!1,this.eleTop=0,this.tapHoldTimer=0,this.externalInitialize=!1,this.diffY=0,this.parentScrollX=0,this.parentScrollY=0,this.droppables={},this.bind()}bind(){this.toggleEvents(),A.isIE&&_([this.element],"e-block-touch"),this.droppables[this.scope]={}}static getDefaultPosition(){return O({},Kbe)}toggleEvents(e){let t;Et(this.handle)||(t=G(this.handle,this.element));let i=this.enableTapHold&&A.isDevice&&A.isTouch?this.mobileInitialize:this.initialize;e?C.remove(t||this.element,A.touchStartEvent,i):C.add(t||this.element,A.touchStartEvent,i,this)}mobileInitialize(e){let t=e.currentTarget;this.tapHoldTimer=setTimeout(()=>{this.externalInitialize=!0,this.removeTapholdTimer(),this.initialize(e,t)},this.tapHoldThreshold),C.add(document,A.touchMoveEvent,this.removeTapholdTimer,this),C.add(document,A.touchEndEvent,this.removeTapholdTimer,this)}removeTapholdTimer(){clearTimeout(this.tapHoldTimer),C.remove(document,A.touchMoveEvent,this.removeTapholdTimer),C.remove(document,A.touchEndEvent,this.removeTapholdTimer)}getScrollableParent(e,t){return h(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),h(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)}getScrollableValues(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")}initialize(e,t){if(this.currentStateTarget=e.target,this.isDragStarted())return;if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){let n=this.abort;"string"==typeof n&&(n=[n]);for(let s=0;s<n.length;s++)if(!h(D(e.target,n[s])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!Et(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");let i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){let n=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=i.pageX-(n.left+this.parentScrollX),this.relativeYPosition=i.pageY-(n.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(C.add(document,A.touchMoveEvent,this.intDragStart,this),C.add(document,A.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,C.trigger(document.documentElement,A.touchStartEvent,e)}intDragStart(e){this.removeTapholdTimer();let t=!Et(e.changedTouches);if(t&&1!==e.changedTouches.length)return;t&&e.preventDefault();let n,i=this.getCoordinates(e),s=getComputedStyle(this.element);this.margin={left:parseInt(s.marginLeft,10),top:parseInt(s.marginTop,10),right:parseInt(s.marginRight,10),bottom:parseInt(s.marginBottom,10)};let o=this.element;if(this.clone&&this.dragTarget){let d=D(e.target,this.dragTarget);h(d)||(o=d)}this.isReplaceDragEle&&(o=this.currentStateCheck(e.target,o)),this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e,this.isDragScroll);let l=this.initialPosition.x-i.pageX,a=this.initialPosition.y-i.pageY;if(Math.sqrt(l*l+a*a)>=this.distance||this.externalInitialize){let d=this.getHelperElement(e);if(!d||h(d))return;let u=this.helperElement=d;if(this.parentClientRect=this.calculateParentPosition(u.offsetParent),this.dragStart){let v={event:e,element:o,target:this.getProperTargetElement(e),bindEvents:null,dragElement:u};this.trigger("dragStart",v)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),n={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();let p=getComputedStyle(o),g=parseFloat(p.marginTop);this.clone&&0!==g&&(n.top+=g),this.eleTop=isNaN(parseFloat(p.top))?0:parseFloat(p.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(n.top-=this.parentScrollY,n.left-=this.parentScrollX);let f=this.getProcessedPositionValue({top:n.top-this.diffY+"px",left:n.left-this.diffX+"px"});this.dragElePosition={top:n.top,left:n.left},lt(u,this.getDragPosition({position:"absolute",left:f.left,top:f.top})),C.remove(document,A.touchMoveEvent,this.intDragStart),C.remove(document,A.touchEndEvent,this.intDestroy),this.bindDragEvents(u)}}bindDragEvents(e){Vr(e)?(C.add(document,A.touchMoveEvent,this.intDrag,this),C.add(document,A.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}elementInViewport(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)this.top+=(e=e.offsetParent).offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth}getProcessedPositionValue(e){return this.queryPositionInfo?this.queryPositionInfo(e):e}calculateParentPosition(e){if(h(e))return{left:0,top:0};let t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}}intDrag(e){if(!Et(e.changedTouches)&&1!==e.changedTouches.length)return;let t,i;this.clone&&e.changedTouches&&A.isDevice&&A.isTouch&&e.preventDefault(),this.position=this.getMousePosition(e,this.isDragScroll);let n=this.getDocumentWidthHeight("Height");n<this.position.top&&(this.position.top=n);let s=this.getDocumentWidthHeight("Width");if(s<this.position.left&&(this.position.left=s),this.drag){let P=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:P})}let o=this.checkTargetElement(e);if(o.target&&o.instance){let P=!0;this.hoverObject&&(this.hoverObject.instance!==o.instance?this.triggerOutFunction(e,o):P=!1),P&&(o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intOver(e,o.target),this.hoverObject=o)}else this.hoverObject&&this.triggerOutFunction(e,o);let l=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);let a=this.parentClientRect.left,c=this.parentClientRect.top,d=this.getCoordinates(e),u=d.pageX,p=d.pageY,g=this.position.left-this.diffX,f=this.position.top-this.diffY,m=getComputedStyle(l);if(this.dragArea){if(this.pageX!==u||this.skipDistanceCheck){let P=l.offsetWidth+(parseFloat(m.marginLeft)+parseFloat(m.marginRight));t=this.dragLimit.left>g&&g>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<g+P&&g>0?g-(g-this.dragLimit.right)+window.pageXOffset-P:g<0?this.dragLimit.left:g}if(this.pageY!==p||this.skipDistanceCheck){let P=l.offsetHeight+(parseFloat(m.marginTop)+parseFloat(m.marginBottom));i=this.dragLimit.top>f&&f>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<f+P&&f>0?f-(f-this.dragLimit.bottom)+window.pageYOffset-P:f<0?this.dragLimit.top:f}}else t=g,i=f;let w,b,v=c+this.borderWidth.top,x=a+this.borderWidth.left;this.dragProcessStarted&&(h(i)&&(i=this.prevTop),h(t)&&(t=this.prevLeft)),this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,w=i-v<0?this.dragLimit.top:i-v,b=t-x<0?this.dragElePosition.left:t-x):(w=i-v,b=t-x);let I=parseFloat(getComputedStyle(this.element).marginTop);if(I>0&&(this.clone&&(w+=I,f<0&&(I+f>=0?w=I+f:w-=I),w=this.dragLimit.bottom<w?this.dragLimit.bottom:w),i-v<0))if(f+I+(l.offsetHeight-v)>=0){let P=this.dragLimit.top+f-v;P+I+v<0?w-=I+v:w=P}else w-=I+v;if(this.enableScrollHandler&&!this.clone&&(w-=this.parentScrollY,b-=this.parentScrollX),this.helperElement.classList.contains("e-treeview")){let P=document.body,W=document.documentElement,oe=Math.max(P.offsetHeight,W.clientHeight,W.scrollHeight,W.offsetHeight),ae=Math.max(P.offsetWidth,W.clientWidth,W.scrollWidth,W.offsetWidth);w>oe&&(w=oe),b>ae&&(b=ae)}let k=this.getProcessedPositionValue({top:w+"px",left:b+"px"});lt(l,this.getDragPosition(k)),!this.elementInViewport(l)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=u,this.pageY=p}triggerOutFunction(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null}getDragPosition(e){let t=O({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t}getDocumentWidthHeight(e){let t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])}intDragStop(e){if(this.dragProcessStarted=!1,!Et(e.changedTouches)&&1!==e.changedTouches.length)return;if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){let n=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:n,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");let i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}intDestroy(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),C.remove(document,A.touchMoveEvent,this.intDragStart),C.remove(document,A.touchEndEvent,this.intDragStop),C.remove(document,A.touchEndEvent,this.intDestroy),C.remove(document,A.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)}onPropertyChanged(e,t){}getModuleName(){return"draggable"}isDragStarted(e){return e&&(R3.isDragged=!R3.isDragged),R3.isDragged}setDragArea(){let e,t,s,i=0,n=0;if(s="string"==typeof this.dragArea?G(this.dragArea):this.dragArea,s){let l=s.getBoundingClientRect();e=s.scrollWidth?s.scrollWidth:l.right-l.left,t=s.scrollHeight?s.scrollHeight:l.bottom-l.top;let a=["Top","Left","Bottom","Right"],c=getComputedStyle(s);for(let d=0;d<a.length;d++){let u=a[d],p=c["border"+u+"Width"],g=c["padding"+u],f=u.toLowerCase();this.borderWidth[f]=isNaN(parseFloat(p))?0:parseFloat(p),this.padding[f]=isNaN(parseFloat(g))?0:parseFloat(g)}i=l.top,n=l.left,this.dragLimit.left=n+this.borderWidth.left+this.padding.left,this.dragLimit.top=s.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=n+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}}getProperTargetElement(e){let i,t=this.getCoordinates(e),n=this.helperElement.style.pointerEvents||"";return tD(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",i=document.elementFromPoint(t.clientX,t.clientY),this.helperElement.style.pointerEvents=n):i=e.target,i}currentStateCheck(e,t){let i;return i=h(this.currentStateTarget)||this.currentStateTarget===e?h(t)?e:t:this.currentStateTarget,i}getMousePosition(e,t){let s,o,i=void 0!==e.srcElement?e.srcElement:e.target,n=this.getCoordinates(e),l=h(i.offsetParent);return t?(s=this.clone?n.pageX:n.pageX+(l?0:i.offsetParent.scrollLeft)-this.relativeXPosition,o=this.clone?n.pageY:n.pageY+(l?0:i.offsetParent.scrollTop)-this.relativeYPosition):(s=this.clone?n.pageX:n.pageX+window.pageXOffset-this.relativeXPosition,o=this.clone?n.pageY:n.pageY+window.pageYOffset-this.relativeYPosition),{left:s-(this.margin.left+this.cursorAt.left),top:o-(this.margin.top+this.cursorAt.top)}}getCoordinates(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e}getHelperElement(e){let t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=Xe("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t}setGlobalDroppables(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}}checkTargetElement(e){let t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!h(t.parentNode)){let n=D(t.parentNode,".e-droppable")||t.parentElement;n&&(i=this.getDropInstance(n))}return{target:t,instance:i}}getDropInstance(e){let i,n=e&&e.ej2_instances;if(n)for(let s of n)if("droppable"===s.getModuleName()){i=s;break}return i}destroy(){this.toggleEvents(!0),super.destroy()}};Rr([gi({},k3)],Yn.prototype,"cursorAt",void 0),Rr([y(!0)],Yn.prototype,"clone",void 0),Rr([y()],Yn.prototype,"dragArea",void 0),Rr([y()],Yn.prototype,"isDragScroll",void 0),Rr([y()],Yn.prototype,"isReplaceDragEle",void 0),Rr([y(!0)],Yn.prototype,"isPreventSelect",void 0),Rr([E()],Yn.prototype,"drag",void 0),Rr([E()],Yn.prototype,"dragStart",void 0),Rr([E()],Yn.prototype,"dragStop",void 0),Rr([y(1)],Yn.prototype,"distance",void 0),Rr([y()],Yn.prototype,"handle",void 0),Rr([y()],Yn.prototype,"abort",void 0),Rr([y()],Yn.prototype,"helper",void 0),Rr([y("default")],Yn.prototype,"scope",void 0),Rr([y("")],Yn.prototype,"dragTarget",void 0),Rr([y()],Yn.prototype,"axis",void 0),Rr([y()],Yn.prototype,"queryPositionInfo",void 0),Rr([y(!1)],Yn.prototype,"enableTailMode",void 0),Rr([y(!1)],Yn.prototype,"skipDistanceCheck",void 0),Rr([y(!0)],Yn.prototype,"preventDefault",void 0),Rr([y(!1)],Yn.prototype,"enableAutoScroll",void 0),Rr([y(!1)],Yn.prototype,"enableTapHold",void 0),Rr([y(750)],Yn.prototype,"tapHoldThreshold",void 0),Rr([y(!1)],Yn.prototype,"enableScrollHandler",void 0),Yn=Qw=Rr([Pi],Yn);var ky=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let id=class extends lu{constructor(e,t){super(t,e),this.mouseOver=!1,this.dragData={},this.dragStopCalled=!1,this.bind()}bind(){this.wireEvents()}wireEvents(){C.add(this.element,A.touchEndEvent,this.intDrop,this)}onPropertyChanged(e,t){}getModuleName(){return"droppable"}intOver(e,t){this.mouseOver||(this.trigger("over",{event:e,target:t,dragData:this.dragData[this.scope]}),this.mouseOver=!0)}intOut(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)}intDrop(e,t){if(!this.dragStopCalled)return;this.dragStopCalled=!1;let i=!0;const n=this.dragData[this.scope],s=!!n&&n.helper&&Vr(n.helper);let o;s&&(o=this.isDropArea(e,n.helper,t),this.accept&&(i=Um(n.helper,this.accept))),s&&this.drop&&o.canDrop&&i&&this.trigger("drop",{event:e,target:o.target,droppedElement:n.helper,dragData:n}),this.mouseOver=!1}isDropArea(e,t,i){const n={canDrop:!0,target:i||e.target},s="touchend"===e.type;if(s||n.target===t){t.style.display="none";const o=s?e.changedTouches[0]:e,l=document.elementFromPoint(o.clientX,o.clientY);n.canDrop=!1,n.canDrop=tD(l,this.element),n.canDrop&&(n.target=l),t.style.display=""}return n}destroy(){C.remove(this.element,A.touchEndEvent,this.intDrop),super.destroy()}};ky([y()],id.prototype,"accept",void 0),ky([y("default")],id.prototype,"scope",void 0),ky([E()],id.prototype,"drop",void 0),ky([E()],id.prototype,"over",void 0),ky([E()],id.prototype,"out",void 0),id=ky([Pi],id);var Xw,rD=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const Ybe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222};let tn=Xw=class extends lu{constructor(e,t){super(t,e),this.keyPressHandler=i=>{const n=i.altKey,s=i.ctrlKey,o=i.shiftKey,l=i.which,a=Object.keys(this.keyConfigs);for(const c of a){const d=this.keyConfigs[c].split(",");for(const u of d){const p=Xw.getKeyConfigData(u.trim());n===p.altKey&&s===p.ctrlKey&&o===p.shiftKey&&l===p.keyCode&&(i.action=c,this.keyAction&&this.keyAction(i))}}},this.bind()}destroy(){this.unwireEvents(),super.destroy()}onPropertyChanged(e,t){}bind(){this.wireEvents()}getModuleName(){return"keyboard"}wireEvents(){this.element.addEventListener(this.eventName,this.keyPressHandler)}unwireEvents(){this.element.removeEventListener(this.eventName,this.keyPressHandler)}static getKeyConfigData(e){if(e in this.configCache)return this.configCache[e];const t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return i.keyCode=t[t.length-1].length>1&&Number(t[t.length-1])?Number(t[t.length-1]):Xw.getKeyCode(t[t.length-1]),Xw.configCache[e]=i,i}static getKeyCode(e){return Ybe[e]||e.toUpperCase().charCodeAt(0)}};tn.configCache={},rD([y({})],tn.prototype,"keyConfigs",void 0),rD([y("keyup")],tn.prototype,"eventName",void 0),rD([E()],tn.prototype,"keyAction",void 0),tn=Xw=rD([Pi],tn);let is=(()=>{class r{constructor(t,i,n){this.controlName=t,this.localeStrings=i,this.setLocale(n||Uw)}setLocale(t){const i=this.intGetControlConstant(r.locale,t);this.currentLocale=i||this.localeStrings}static load(t){this.locale=O(this.locale,t,{},!0)}getConstant(t){return h(this.currentLocale[t])?this.localeStrings[t]||"":this.currentLocale[t]}intGetControlConstant(t,i){return t[i]?t[i][this.controlName]:null}}return r.locale={},r})();var Zp=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Sq extends Nt{}Zp([y(50)],Sq.prototype,"swipeThresholdDistance",void 0);const Qbe=/(Up|Down)/;let Qr=class extends lu{constructor(e,t){super(t,e),this.touchAction=!0,this.tapCount=0,this.startEvent=i=>{if(!0===this.touchAction){const n=this.updateChangeTouches(i);void 0!==i.changedTouches&&(this.touchAction=!1),this.isTouchMoved=!1,this.movedDirection="",this.startPoint=this.lastMovedPoint={clientX:n.clientX,clientY:n.clientY},this.startEventData=n,this.hScrollLocked=this.vScrollLocked=!1,this.tStampStart=Date.now(),this.timeOutTapHold=setTimeout(()=>{this.tapHoldEvent(i)},this.tapHoldThreshold),C.add(this.element,A.touchMoveEvent,this.moveEvent,this),C.add(this.element,A.touchEndEvent,this.endEvent,this),C.add(this.element,A.touchCancelEvent,this.cancelEvent,this)}},this.moveEvent=i=>{const n=this.updateChangeTouches(i);this.movedPoint=n,this.isTouchMoved=!(n.clientX===this.startPoint.clientX&&n.clientY===this.startPoint.clientY);let s={};this.isTouchMoved&&(clearTimeout(this.timeOutTapHold),this.calcScrollPoints(i),s=O(s,{},{startEvents:this.startEventData,originalEvent:i,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,scrollDirection:this.scrollDirection,velocity:this.getVelocity(n)}),this.trigger("scroll",s),this.lastMovedPoint={clientX:n.clientX,clientY:n.clientY})},this.cancelEvent=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap),this.tapCount=0,this.swipeFn(i),C.remove(this.element,A.touchCancelEvent,this.cancelEvent)},this.endEvent=i=>{this.swipeFn(i),this.isTouchMoved||"function"==typeof this.tap&&(this.trigger("tap",{originalEvent:i,tapCount:++this.tapCount}),this.timeOutTap=setTimeout(()=>{this.tapCount=0},this.tapThreshold)),this.modeclear()},this.swipeFn=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap);const n=this.updateChangeTouches(i);let s=n.clientX-this.startPoint.clientX,o=n.clientY-this.startPoint.clientY;s=Math.floor(s<0?-1*s:s),o=Math.floor(o<0?-1*o:s),this.isTouchMoved=s>1||o>1,this.endPoint=n,this.calcPoints(i);const l={originalEvent:i,startEvents:this.startEventData,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,swipeDirection:this.movedDirection,velocity:this.getVelocity(n)};if(this.isTouchMoved){let a;const c=this.swipeSettings.swipeThresholdDistance;a=O(a,this.defaultArgs,l);let d=!1;const u=this.element,p=this.isScrollable(u),g=Qbe.test(this.movedDirection);(c<this.distanceX&&!g||c<this.distanceY&&g)&&(d=!p||this.checkSwipe(u,g)),d&&this.trigger("swipe",a)}this.modeclear()},this.modeclear=()=>{this.modeClear=setTimeout(()=>{this.touchAction=!0},"function"!=typeof this.tap?0:20),this.lastTapTime=(new Date).getTime(),C.remove(this.element,A.touchMoveEvent,this.moveEvent),C.remove(this.element,A.touchEndEvent,this.endEvent),C.remove(this.element,A.touchCancelEvent,this.cancelEvent)},this.bind()}onPropertyChanged(e,t){}bind(){this.wireEvents(),A.isIE&&this.element.classList.add("e-block-touch")}destroy(){this.unwireEvents(),super.destroy()}wireEvents(){C.add(this.element,A.touchStartEvent,this.startEvent,this)}unwireEvents(){C.remove(this.element,A.touchStartEvent,this.startEvent)}getModuleName(){return"touch"}isScrollable(e){const t=getComputedStyle(e);return!!/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}tapHoldEvent(e){let t;this.tapCount=0,this.touchAction=!0,C.remove(this.element,A.touchMoveEvent,this.moveEvent),C.remove(this.element,A.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),C.remove(this.element,A.touchCancelEvent,this.cancelEvent)}calcPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"}calcScrollPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)}getVelocity(e){const t=e.clientX,i=e.clientY,n=Date.now(),s=t-this.startPoint.clientX,o=i-this.startPoint.clientX,l=n-this.tStampStart;return Math.sqrt(s*s+o*o)/l}checkSwipe(e,t){const i=["scroll","offset"],n=t?["Height","Top"]:["Width","Left"];return e[i[0]+n[0]]<=e[i[1]+n[0]]||0===e[i[0]+n[1]]||e[i[1]+n[0]]+e[i[0]+n[1]]>=e[i[0]+n[0]]}updateChangeTouches(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e}};Zp([E()],Qr.prototype,"tap",void 0),Zp([E()],Qr.prototype,"tapHold",void 0),Zp([E()],Qr.prototype,"swipe",void 0),Zp([E()],Qr.prototype,"scroll",void 0),Zp([y(350)],Qr.prototype,"tapThreshold",void 0),Zp([y(750)],Qr.prototype,"tapHoldThreshold",void 0),Zp([gi({},Sq)],Qr.prototype,"swipeSettings",void 0),Qr=Zp([Pi],Qr);const Xbe=new RegExp("\\n|\\r|\\s\\s+","g"),Jbe=new RegExp(/'|"/g),Zbe=new RegExp("if ?\\("),e1e=new RegExp("else if ?\\("),Iq=new RegExp("else"),t1e=new RegExp("for ?\\("),Dq=new RegExp("(/if|/for)"),i1e=new RegExp("\\((.*)\\)",""),A3=new RegExp("^[0-9]+$","g"),n1e=new RegExp("[\\w\"'.\\s+]+","g"),s1e=new RegExp('"(.*?)"',"g"),r1e=new RegExp("[\\w\"'@#$.\\s-+]+","g");let o1e=new RegExp("\\${([^}]*)}","g");const l1e=/^\..*/gm,M3=/\\/gi,a1e=/\\\\/gi,c1e=new RegExp("[\\w\"'@#$.\\s+]+","g"),d1e=/\window\./gm;function Ay(r,e,t,i,n){return!e||A3.test(r)||-1!==i.indexOf(r.split(".")[0])||n?r:t+"."+r}function F3(r,e,t,i){return e&&!A3.test(r)&&-1===i.indexOf(r.split(".")[0])?t+'["'+r:r}function Eq(r){return r.match(a1e)?r:r.replace(M3,"\\\\")}function Tq(r,e,t,i){if(r=r.trim(),/\window\./gm.test(r))return r;{const s=/'|"/gm;return/@|\$|#/gm.test(r)&&(r=F3(r,-1===t.indexOf(r),e,t)+'"]'),l1e.test(r)?function p1e(r,e,t,i){return!e||A3.test(r)||-1!==i.indexOf(r.split(".")[0])||/^\..*/gm.test(r)?r:t+"."+r}(r,!s.test(r)&&-1===t.indexOf(r),e,t):Ay(r,!s.test(r)&&-1===t.indexOf(r),e,t,i)}}const g1e=/^[\n\r.]+<tr|^<tr/,f1e=/^[\n\r.]+<svg|^<path|^<g/,xh={};function Rq(){return"-"+Math.random().toString(36).substr(2,5)}function ci(r,e,t){const i=P3.compile(r,e,t);return(n,s,o,l,a,c,d,u)=>{const p=i(n,s,o,d,u);return"string"==typeof p?f1e.test(p)?Xe("svg",{innerHTML:p}).childNodes:Xe(g1e.test(p)?"table":"div",{innerHTML:p}).childNodes:p}}function zo(r,e,t){const i=document.getElementById(r);if(i){const n=i.getElementsByClassName("blazor-inner-template");for(let s=0;s<n.length;s++){let o=" ";o=h(t)?n[s].getAttribute("data-templateId"):n[t].getAttribute("data-templateId");const l=document.getElementById(o);if(l){const a=l.childNodes.length;for(let c=0;c<a;c++)h(t)?n[s].appendChild(l.childNodes[0]):(n[t].appendChild(l.childNodes[0]),s=n.length)}}}}const P3={compile:(new class y1e{compile(e,t={},i){return function h1e(r,e,t){const i="data",n=function u1e(r,e,t,i){let n=0;const s=[],o=r.match(/class="([^"]+|)\s{2}/g);let l="";return o&&o.forEach(a=>{l=a.replace(/\s\s+/g," "),r=r.replace(a,l)}),r.replace(Xbe,"").replace(s1e,"'$1'").replace(o1e,(a,c,d,u)=>{const g=c.match(i1e);if(g){const f=g[1];if(e1e.test(c))c='";} '+c.replace(g[1],f.replace(n1e,m=>Ay(m=m.trim(),!Jbe.test(m)&&-1===s.indexOf(m),e,s,i)))+'{ \n str = str + "';else if(Zbe.test(c))c='"; '+c.replace(g[1],f.replace(r1e,m=>Tq(m,e,s,i)))+'{ \n str = str + "';else if(t1e.test(c)){const m=g[1].split(" of ");c='"; '+c.replace(g[1],v=>(s.push(m[0]),s.push(m[0]+"Index"),n+=1,"var i"+n+"=0; i"+n+" < "+Ay(m[1],!0,e,s,i)+".length; i"+n+"++"))+"{ \n "+m[0]+"= "+Ay(m[1],!0,e,s,i)+"[i"+n+"]; \n var "+m[0]+"Index=i"+n+'; \n str = str + "'}else{const m=c.split("(");let v=t&&t.hasOwnProperty(m[0])?"this.":"global";v=/\./.test(m[0])?"":v;const x=g[1].split(",");0!==g[1].length&&!/data/.test(x[0])&&!/window./.test(x[0])&&(g[1]="global"===v?e+"."+g[1]:g[1]);const w=/@|\$|#/gm,b=/\]\./gm;d1e.test(c)&&b.test(c)||w.test(c)?/@|\$|#|\]\./gm.test(c)&&(c='"+ '+("global"===v?"":v)+c.replace(g[1],f.replace(c1e,k=>Tq(k,e,s,i)))+'+ "'):c='" + '+("global"===v?"":v)+c.replace(f,Ay(g[1].replace(/,( |)data.|,/gi,","+e+".").replace(/,( |)data.window/gi,",window"),"global"!==v,e,s,i))+'+"'}}else Iq.test(c)?c='"; '+c.replace(Iq,'} else { \n str = str + "'):c.match(Dq)?c=c.replace(Dq,'"; \n } \n str = str + "'):/@|#|\$/gm.test(c)?(c.match(M3)&&(c=Eq(c)),c='"+'+F3(c,-1===s.indexOf(c),e,s)+'"]+"'):c=c.match(M3)?'"+'+F3(c=Eq(c),-1===s.indexOf(c),e,s)+'"]+"':'"+'+Ay(c.replace(/,/gi,"+"+e+"."),-1===s.indexOf(c),e,s,i)+'+"';return c})}(r,i,e,t);return new Function(i,'var str="'+n+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n    var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n    if(str.match(valueRegEx)){\n        var check = str.match(valueRegEx);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n    else if (str.match(/(?:href='')/) === null) {\n        if(str.match(hrefRegex)) {\n            var check = str.match(hrefRegex);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                if (check1) {\n                    var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                    change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                    str1 = str1.replace(check1, change);\n                }\n            }\n            str = str.replace(str, str1);\n        }\n    }\n     return str;").bind(e)}(e,t)}}).compile},x1e=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],C1e=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],kq=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"];class Xr{static beforeSanitize(){return{selectors:{tags:x1e,attributes:C1e}}}static sanitize(e){const t=this.beforeSanitize();return this.serializeValue(t,e)}static serializeValue(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();const i=this.wrapElement.innerHTML;return this.removeElement(),i.replace("&amp;","&")}static removeElement(){const e=this.wrapElement.children;for(let t=0;t<e.length;t++){const i=e[t].attributes;for(let n=0;n<i.length;n++)this.wrapElement.children[t].removeAttribute(i[n].localName)}}static removeXssTags(){const e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach(t=>{de(t)})}static removeJsEvents(){const e=this.wrapElement.querySelectorAll("["+kq.join("],[")+"]");e.length>0&&e.forEach(t=>{kq.forEach(i=>{t.hasAttribute(i)&&t.removeAttribute(i)})})}static removeXssAttrs(){this.removeAttrs.forEach((e,t)=>{const i=this.wrapElement.querySelectorAll(e.selector);i.length>0&&i.forEach(n=>{n.removeAttribute(e.attribute)})})}}function So(r){return function(e){!function w1e(r,e){e.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(i){(!r.prototype.hasOwnProperty(i)||t.isFormBase)&&(r.prototype[i]=t.prototype[i])})})}(e,r)}}function Aq(r,e,t){var i={};if(r&&r.length){for(var n=0,s=r;n<s.length;n++){var o=s[n];!0===t?(e.propCollection[o]=new Ho(!1),e[o]=e.propCollection[o]):i[o]=new Ho(!1)}!0!==t&&e.setProperties(i,!0)}}function Mq(r,e,t){var i=Object.keys(r.registeredTemplate);if(i.length)for(var n=e&&e.filter(function(b){return!/\./g.test(b)}),s=0,o=n&&n||i;s<o.length;s++){var l=o[s];if(t&&t.length)for(var a=0;a<t.length;a++)for(var c=0;c<r.registeredTemplate.template.length;c++)r.registeredTemplate.template[c].rootNodes[0]===t[a]&&(u=r.registeredTemplate[l])[c].destroy();else if(r.registeredTemplate[l])for(var p=0,g=r.registeredTemplate[l];p<g.length;p++){var u;if(!(u=g[p]).destroyed){if(u._view){var f=u._view.renderer.parentNode(u.rootNodes[0]);if(!h(f))for(c=0;c<u.rootNodes.length;c++)f.appendChild(u.rootNodes[c])}u.destroy()}}delete r.registeredTemplate[l]}for(var m=function(b){b.instance&&b.instance.clearTemplate(e&&e.filter(function(I){return!!new RegExp(b.name).test(I)}))},v=0,x=r.tagObjects;v<x.length;v++)m(x[v])}function ns(r,e,t){for(var i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=t||{},s=0;s<i.length;s++){var o=i[s];s+1===i.length?n[o]=void 0===e?{}:e:void 0===n[o]&&(n[o]={}),n=n[o]}return n}var b1e=/Ref$/,sd=function(){function r(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return r.prototype.ngOnInit=function(){this.registeredTemplate={};for(var e=0,t=this.tags;e<t.length;e++){var i=t[e],n=M("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);n&&this.tagObjects.push({instance:n,name:i})}for(var s=Object.keys(this),o=0;o<s.length;o++){var l=M(s[o],this);"object"==typeof l&&l&&l.elementRef&&(M(-1!==s[o].indexOf("Ref")?s[o]:s[o]+"Ref",this)||Ne(-1!==s[o].indexOf("Ref")?s[o]:s[o]+"Ref",l,this),M("viewContainerRef",this)&&!M("_viewContainerRef",l.elementRef.nativeElement)&&!M("propName",l.elementRef.nativeElement)&&(Ne("_viewContainerRef",M("viewContainerRef",this),l.elementRef.nativeElement),Ne("propName",s[o].replace("Ref",""),l.elementRef.nativeElement)))}for(var a=0,c=s=(s=Object.keys(this)).filter(function(m){return/Ref$/i.test(m)});a<c.length;a++){var u=c[a].replace("Ref","");Ne(u.replace("_","."),M(u,this),this.propCollection)}var p=Object.keys(this);if(this.directivePropList){for(var g=0;g<this.directivePropList.length;g++){var f=this.directivePropList[g];-1!==p.indexOf(f)&&(!1===M(f,this)||M(f,this))&&Ne(f,M(f,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},r.prototype.registerEvents=function(e){Aq(e,this,!0)},r.prototype.ngOnChanges=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var n=i[t];this.propCollection[n]=e[n].currentValue}this.isUpdated=!1,this.hasChanges=!0},r.prototype.clearTemplate=function(e){Mq(this,e)},r.prototype.getProperties=function(){for(var e=0,t=this.tagObjects;e<t.length;e++){var i=t[e];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},r.prototype.isChanged=function(){var e=this.hasChanges;if(!h(this.propCollection[this.property]))for(var i=Object.keys(this.propCollection[this.property][0]),n=0;n<i.length;n++)if(!h(this.propCollection[i[n]])){var s=M(i[n],this),o=this.propCollection[this.property][0][i[n]];!h(s)&&this.propCollection[i[n]]!==s&&o!==s&&(Ne(i[n],s,this.propCollection[this.property][0]),Ne(i[n],s,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}for(var l=0,a=this.tagObjects;l<a.length;l++)e=e||a[l].instance.hasChanges;return e||this.hasChanges},r.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges)for(var e=Object.keys(this),t=0,i=e=e.filter(function(o){return b1e.test(o)});t<i.length;t++){var s=i[t].replace("Ref","");Ne(s.replace("_","."),M(s,this),this.propCollection)}},r.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},r.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},r.prototype.ngOnDestroy=function(){this.directivePropList=[]},r}(),rd=function(){function r(e){this.list=[],this.hasChanges=!1,this.propertyName=e}return r.prototype.ngOnInit=function(){this.isInitChanges=!0},r.prototype.ngAfterContentInit=function(){var e=this,t=0;this.list=this.children.map(function(i){return i.dirIndex=t++,i.property=e.propertyName,i}),this.hasChanges=!0},r.prototype.getProperties=function(){for(var e=[],t=0,i=this.list;t<i.length;t++)e.push(i[t].getProperties());return e},r.prototype.isChanged=function(){var e=this,t=!1,i=0,n=!1,s=this.children.map(function(d){return d});if(this.list.length===this.children.length)for(var o=0;o<this.list.length;o++)this.list[o].propCollection.dataSource&&this.list[o].dataSource&&this.list[o].propCollection.dataSource!==this.list[o].dataSource&&(this.list[o].propCollection.dataSource=this.list[o].dataSource,this.list[o].hasChanges=!0),s[o].hasChanges&&(n=!0);this.hasNewChildren=!(this.list.length===this.children.length&&!n)||null,this.hasNewChildren&&(this.list=this.children.map(function(d){return d.dirIndex=i++,d.property=e.propertyName,d}));for(var l=0,a=this.list;l<a.length;l++)t=t||a[l].hasChanges;return!!this.list.length&&t},r.prototype.clearTemplate=function(e){for(var t=this,i=0,n=this.list;i<n.length;i++)n[i].clearTemplate(e&&e.map(function(o){return new RegExp(t.propertyName).test(o)?o.replace(t.propertyName+".",""):o}))},r.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=0;e<this.list.length;e++)M("childColumns",this.list[e])&&"columns"===M("property",this.list[e])&&Ne("columns",M("childColumns",this.list[e]).getProperties(),this.list[e].propCollection),this.list[e].isUpdated=!0},r.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},r.prototype.ngOnDestroy=function(){this.list=[]},r}(),nn=function(){function r(){this.isProtectedOnChange=!0,this.isFormInit=!0}return r.prototype.saveChanges=function(e,t,i){if(!this.isProtectedOnChange){this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate();var n=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(n)}}},r.prototype.ngOnInit=function(e){var t=e||this;t.registeredTemplate={},t.ngBoundedEvents={},t.isAngular=!0,t.isFormInit=!0,e&&(this.tags=e.tags),t.tags=this.tags||[],t.complexTemplate=this.complexTemplate||[],t.tagObjects=[],t.ngAttr=this.getAngularAttr(t.element),t.createElement=function(m,v){var x=t.srenderer?t.srenderer.createElement(m):Xe(m);return void 0===v||(x.innerHTML=v.innerHTML?v.innerHTML:"",void 0!==v.className&&(x.className=v.className),void 0!==v.id&&(x.id=v.id),void 0!==v.styles&&x.setAttribute("style",v.styles),void 0!==t.ngAttr&&x.setAttribute(t.ngAttr,""),void 0!==v.attrs&&Le(x,v.attrs)),x};for(var i=0,n=t.tags;i<n.length;i++){var s=n[i],o={instance:M("child"+s.substring(0,1).toUpperCase()+s.substring(1),t),name:s};t.tagObjects.push(o)}for(var l=Object.keys(t),a=0;a<l.length;a++){var c=M(l[a],t);"object"==typeof c&&c&&c.elementRef&&("object"==typeof c&&c&&c.elementRef&&-1!==l[a].indexOf("_")&&-1===l[a].indexOf("Ref")&&Ne(l[a]+"Ref",c,t),t.viewContainerRef&&!M("_viewContainerRef",c.elementRef.nativeElement)&&!M("propName",c.elementRef.nativeElement)&&(Ne("_viewContainerRef",t.viewContainerRef,c.elementRef.nativeElement),Ne("propName",l[a].replace("Ref",""),c.elementRef.nativeElement)))}for(var d=0,u=l=(l=Object.keys(t)).filter(function(m){return/Ref$/i.test(m)&&/\_/i.test(m)});d<u.length;d++){var g=u[d].replace("Ref",""),f={};Ne(g.replace("_","."),M(g,t),f),t.setProperties(f,!0)}},r.prototype.getAngularAttr=function(e){for(var n,t=e.attributes,i=t.length,s=0;s<i;s++)/_ngcontent/g.test(t[s].name)&&(n=t[s].name);return n},r.prototype.ngAfterViewInit=function(e){var t=e||this;/ejs-tab|ejs-accordion/g.test(t.ngEle.nativeElement.outerHTML)&&(t.ngEle.nativeElement.style.visibility="hidden");for(var n=Object.keys(t),s=0,o=n=n.filter(function(c){return/Ref$/i.test(c)});s<o.length;s++){var a=o[s].replace("Ref","");Ne(a.replace("_","."),M(a+"Ref",t),t)}setTimeout(function(){("undefined"!=typeof window&&t.element||t.getModuleName().includes("btn"))&&(t.appendTo(t.element),t.ngEle.nativeElement.style.visibility="")})},r.prototype.ngOnDestroy=function(e){var t=e||this;setTimeout(function(){"undefined"!=typeof window&&t.element.classList.contains("e-control")&&(t.destroy(),t.clearTemplate(null),t.ngBoundedEvents={},t.tagObjects={},t.ngEle=null)})},r.prototype.clearTemplate=function(e,t){Mq(this,e,t)},r.prototype.ngAfterContentChecked=function(e){for(var t=e||this,i=0,n=t.tagObjects;i<n.length;i++){var s=n[i];if(!Et(s.instance)&&(s.instance.isInitChanges||s.instance.hasChanges||s.instance.hasNewChildren))if(s.instance.isInitChanges){var o={},l=void 0;(a=M("instance.list",s))&&a.length&&(l=a[0].directivePropList);var c=!0;if(t.getModuleName&&"gantt"===t.getModuleName()&&(c=!1),l&&c&&-1===l.indexOf(s.instance.propertyName))for(var d=Object.keys(s.instance.list[0].propCollection),u=0;u<s.instance.list.length;u++){s.instance.list[u].propCollection[s.instance.propertyName]=[];for(var p={},g=0;g<d.length;g++)p[f=d[g]]=s.instance.list[u].propCollection[f];for(var m=0;m<s.instance.list[u].tags.length;m++){var v=s.instance.list[u].tags[m],x=M("child"+v.substring(0,1).toUpperCase()+v.substring(1),s.instance.list[u]);if(x){var w=s.instance.list[u]["child"+v.substring(0,1).toUpperCase()+v.substring(1)];if(w)for(var b=0;b<w.list.length;b++){var I=w.list[0].tags[0];if(I){var k=M("child"+I.substring(0,1).toUpperCase()+I.substring(1),w.list[b]);k&&w.list[b].tagObjects.push({instance:k,name:I})}}s.instance.list[u].tagObjects.push({instance:x,name:v})}}s.instance.list[u].propCollection[s.instance.propertyName].push(p)}o[s.name]=s.instance.getProperties(),t.setProperties(o,s.instance.isInitChanges)}else{(t[s.name].length!==s.instance.list.length||/diagram|tab/.test(t.getModuleName()))&&(t[s.name]=s.instance.list);for(var P=0,W=s.instance.list;P<W.length;P++){var a,oe=s.instance.list.indexOf(a=W[P]),ae=M(s.name,t)[oe],xe=Object.keys(ae);if(xe=xe.filter(function(le){return/Ref$/i.test(le)}),ae.properties&&0!==Object.keys(ae.properties).length)for(var z=0,Re=xe;z<Re.length;z++){var f;f=(f=Re[z]).replace(/Ref/,""),ae.properties[f]=ae.properties[f]?ae.properties[f]:ae.propCollection[f]}!Et(ae)&&!Et(ae.setProperties)&&(/diagram|DashboardLayout/.test(t.getModuleName())?ae.setProperties(a.getProperties(),!0):ae.setProperties(a.getProperties())),a.isUpdated=!0}}}},r.prototype.registerEvents=function(e){Aq(e,this)},r.prototype.twoWaySetter=function(e,t){var i=M(t,this.properties);i!==e&&(this.saveChanges(t,e,i),Ne(t,h(e)?null:e,this.properties),M(t+"Change",this).emit(e))},r.prototype.addTwoWay=function(e){for(var t=this,i=function(a){M(a,n),Object.defineProperty(n,a,{get:function(){return M(a,t.properties)},set:function(c){return t.twoWaySetter(c,a)}}),Ne(a+"Change",new Ho,n)},n=this,s=0,o=e;s<o.length;s++)i(o[s])},r.prototype.addEventListener=function(e,t){var i=M(e,this);Et(i)||(this.ngBoundedEvents[e]||(this.ngBoundedEvents[e]=new Map),this.ngBoundedEvents[e].set(t,i.subscribe(t)))},r.prototype.removeEventListener=function(e,t){Et(M(e,this))||this.ngBoundedEvents[e].get(t).unsubscribe()},r.prototype.trigger=function(e,t,i){var n=M(e,this),s=this.isProtectedOnChange;this.isProtectedOnChange=!1,t&&(t.name=e),Et(n)||n.next(t);var o=M("local"+e.charAt(0).toUpperCase()+e.slice(1),this);Et(o)||o.call(this,t),this.isProtectedOnChange=s,i&&(this.preventChange=this.isPreventChange,i.call(this,t)),this.isPreventChange=!1},r}(),aa=function(){function r(){}return r.prototype.propagateChange=function(e){},r.prototype.propagateTouch=function(){},r.prototype.localChange=function(e){var t=void 0===e.checked?e.value:e.checked;this.objCheck=td(t),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck?(this.duplicateValue=JSON.stringify(t),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==t&&(this.propagateChange(t),this.angularValue=t)):t!==this.angularValue&&void 0!==this.propagateChange&&void 0!==t&&(this.propagateChange(t),this.angularValue=t)},r.prototype.registerOnChange=function(e){this.propagateChange=e},r.prototype.registerOnTouched=function(e){this.propagateTouch=e},r.prototype.twoWaySetter=function(e,t){var i=this.oldValue||M(t,this.properties),n=this.inputElement||this.element;n&&i===e&&this.value===e&&(void 0===n.value||""===n.value)||(this.saveChanges(t,e,i),Ne(t,h(e)?null:e,this.properties),M(t+"Change",this).emit(e))},r.prototype.ngAfterViewInit=function(e){var t=e||this;if("undefined"!=typeof window){t.appendTo(t.element);var i=t.inputElement||t.element;i.addEventListener("focus",t.ngOnFocus.bind(t)),i.addEventListener("blur",t.ngOnBlur.bind(t))}this.isFormInit=!1},r.prototype.setDisabledState=function(e){this.enabled=!e,this.disabled=e},r.prototype.writeValue=function(e){void 0===this.checked?this.value=e:this.ngEle&&(this.checked="boolean"==typeof e?/ejs-radiobutton/g.test(this.ngEle.nativeElement.outerHTML)?e===this.value:e:e===this.value),this.angularValue=e,this.isUpdated=!0,this.preventChange=!this.isFormInit},r.prototype.ngOnFocus=function(e){!0!==this.skipFromEvent&&this.focus.emit(e)},r.prototype.ngOnBlur=function(e){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(e)},r.isFormBase=!0,r}(),_1e=function v1e(){return P3.compile}();function Ht(r){return function(e,t){var i={set:I1e(t),get:D1e(t,r),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i)}}function I1e(r){return function(e){void 0!==e&&(Ne(r+"Ref",e,this),"string"!=typeof e?(e.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,e.elementRef.nativeElement.propName=r):this.saveChanges&&(this.saveChanges(r,e,void 0),this.dataBind()))}}function D1e(r,e){return function(){return M(r+"Ref",this)||e}}!function m1e(r){P3.compile=r.compile}({compile:function S1e(r,e){if("string"==typeof r)return _1e(r,e);var t=r.elementRef.nativeElement._viewContainerRef,i=r.elementRef.nativeElement.propName;return function(n,s,o){var a=t||s.viewContainerRef,c=a.createEmbeddedView(r,{$implicit:n});c.markForCheck();var d=s&&s.registeredTemplate?s.registeredTemplate:M("currentInstance.registeredTemplate",a);return void 0===d[o=o&&s.registeredTemplate?o:i]&&(d[o]=[]),d[o].push(c),c.rootNodes}}});class Ze{constructor(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}setKey(e){return this.key=e,this}using(e){return this.dataManager=e,this}execute(e,t,i,n){return(e=e||this.dataManager)?e.executeQuery(this,t,i,n):Ie.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')}executeLocal(e){return(e=e||this.dataManager)?e.executeLocal(this):Ie.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')}clone(){let e=new Ze;return e.queries=this.queries.slice(0),e.key=this.key,e.isChild=this.isChild,e.dataManager=this.dataManager,e.fromTable=this.fromTable,e.params=this.params.slice(0),e.expands=this.expands.slice(0),e.sortedColumns=this.sortedColumns.slice(0),e.groupedColumns=this.groupedColumns.slice(0),e.subQuerySelector=this.subQuerySelector,e.subQuery=this.subQuery,e.fKey=this.fKey,e.isCountRequired=this.isCountRequired,e.distincts=this.distincts.slice(0),e.lazyLoad=this.lazyLoad.slice(0),e}from(e){return this.fromTable=e,this}addParams(e,t){return this.params.push("function"==typeof t?{key:e,fn:t}:{key:e,value:t}),this}distinct(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this}expand(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this}where(e,t,i,n,s){t=t?t.toLowerCase():null;let o=null;return"string"==typeof e?o=new qt(e,t,i,n,s):e instanceof qt&&(o=e),this.queries.push({fn:"onWhere",e:o}),this}search(e,t,i,n,s){return"string"==typeof t&&(t=[t]),(!i||"none"===i)&&(i="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:n,ignoreAccent:s,comparer:Ie.fnOperators[i]}}),this}sortBy(e,t,i){return this.sortByForeignKey(e,t,i)}sortByForeignKey(e,t,i,n){let o,l,s=h(n)?"ascending":n;if("string"==typeof e&&Ie.endsWith(e.toLowerCase()," desc")&&(e=e.replace(/ desc$/i,""),t="descending"),(!t||"string"==typeof t)&&(s=t?t.toLowerCase():"ascending",t=Ie.fnSort(t)),i){o=Ze.filterQueries(this.queries,"onSortBy");for(let a=0;a<o.length;a++)if(l=o[a].e.fieldName,"string"==typeof l){if(l===e)return this}else if(l instanceof Array)for(let c=0;c<l.length;c++)if(l[c]===e||e.toLowerCase()===l[c]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:t,direction:s}}),this}sortByDesc(e){return this.sortBy(e,"descending")}group(e,t,i){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:i||null}}),this}page(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this}range(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this}take(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this}skip(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this}select(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this}hierarchy(e,t){return this.subQuerySelector=t,this.subQuery=e,this}foreignKey(e){return this.fKey=e,this}requiresCount(){return this.isCountRequired=!0,this}aggregate(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this}static filterQueries(e,t){return e.filter(i=>i.fn===t)}static filterQueryLists(e,t){let i=e.filter(s=>-1!==t.indexOf(s.fn)),n={};for(let s=0;s<i.length;s++)n[i[s].fn]||(n[i[s].fn]=i[s].e);return n}}class qt{constructor(e,t,i,n=!1,s){return this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof e?(this.field=e,this.operator=t.toLowerCase(),this.value=i,this.ignoreCase=n,this.ignoreAccent=s,this.isComplex=!1,this.comparer=Ie.fnOperators.processOperator(this.operator)):(e instanceof qt&&i instanceof qt||i instanceof Array)&&(this.isComplex=!0,this.condition=t.toLowerCase(),this.predicates=[e],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}static and(...e){return qt.combinePredicates([].slice.call(e,0),"and")}and(e,t,i,n,s){return qt.combine(this,e,t,i,"and",n,s)}static or(...e){return qt.combinePredicates([].slice.call(e,0),"or")}or(e,t,i,n,s){return qt.combine(this,e,t,i,"or",n,s)}static fromJson(e){if(e instanceof Array){let i=[];for(let n=0,s=e.length;n<s;n++)i.push(this.fromJSONData(e[n]));return i}return this.fromJSONData(e)}validate(e){let i,n,t=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,Ie.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);i="and"===this.condition;for(let s=0;s<t.length;s++)if(n=t[s].validate(e),i){if(!n)return!1}else if(n)return!0;return i}toJson(){let e,t;if(this.isComplex){e=[],t=this.predicates;for(let i=0;i<t.length;i++)e.push(t[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}}static combinePredicates(e,t){if(1===e.length){if(!(e[0]instanceof Array))return e[0];e=e[0]}return new qt(e[0],t,e.slice(1))}static combine(e,t,i,n,s,o,l){return t instanceof qt?qt[s](e,t):"string"==typeof t?qt[s](e,new qt(t,i,n,o,l)):Ie.throwError("Predicate - "+s+" : invalid arguments")}static fromJSONData(e){let s,t=e.predicates||[],i=t.length,n=[];for(let o=0;o<i;o++)n.push(this.fromJSONData(t[o]));return s=e.isComplex?new qt(n[0],e.condition,n.slice(1)):new qt(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent),s}}const Fq={GroupGuid:"{271bbba0-1ee7}"};let Ie=(()=>{class r{static getValue(t,i){return"function"==typeof t?t.call(i||{}):t}static endsWith(t,i){return t.slice&&t.slice(-i.length)===i}static startsWith(t,i){return t.slice(0,i.length)===i}static fnSort(t){return"ascending"===(t=t?r.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending}static fnAscending(t,i){return h(t)&&h(i)||null==i?-1:"string"==typeof t?t.localeCompare(i):null==t?1:t-i}static fnDescending(t,i){return h(t)&&h(i)?-1:null==i?1:"string"==typeof t?-1*t.localeCompare(i):null==t?-1:i-t}static extractFields(t,i){let n={};for(let s=0;s<i.length;s++)n=this.setValue(i[s],this.getObject(i[s],t),n);return n}static select(t,i){let n=[];for(let s=0;s<t.length;s++)n.push(this.extractFields(t[s],i));return n}static group(t,i,n,s,o,l,a){s=s||1;let c=t,d="GroupGuid";if(c.GroupGuid===Fq[d]){for(let g=0;g<c.length;g++)if(h(o))c[g].items=this.group(c[g].items,i,n,c.level+1,null,l,a),c[g].count=c[g].items.length;else{let f=-1,m=o.filter(v=>v.key===c[g].key);f=o.indexOf(m[0]),c[g].items=this.group(c[g].items,i,n,c.level+1,o[f].items,l,a),c[g].count=o[f].count}return c.childLevels+=1,c}let u={},p=[];p.GroupGuid=Fq[d],p.level=s,p.childLevels=0,p.records=c;for(let g=0;g<c.length;g++){let f=this.getVal(c,g,i);if(h(l)||(f=l(f,i)),!u[f]&&(u[f]={key:f,count:0,items:[],aggregates:{},field:i},p.push(u[f]),!h(o))){let m=o.filter(v=>v.key===u[f].key);u[f].count=m[0].count}u[f].count=h(o)?u[f].count+=1:u[f].count,(!a||a&&n.length)&&u[f].items.push(c[g])}if(n&&n.length)for(let g=0;g<p.length;g++){let m,f={},v=n;for(let x=0;x<n.length;x++)if(m=r.aggregates[n[x].type],h(o))m&&(f[v[x].field+" - "+v[x].type]=m(p[g].items,v[x].field));else{let w=o.filter(b=>b.key===p[g].key);m&&(f[v[x].field+" - "+v[x].type]=m(w[0].items,v[x].field))}p[g].aggregates=f}if(a&&p.length&&n.length)for(let g=0;g<p.length;g++)p[g].items=[];return c.length&&p||c}static buildHierarchy(t,i,n,s,o){let l,c,a={};for(s.result&&(s=s.result),s.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),l=0;l<s.length;l++){let d=this.getObject(t,s[l]);c=a[d]||(a[d]=[]),c.push(s[l])}for(l=0;l<n.length;l++){let d=this.getObject(o||t,n[l]);n[l][i]=a[d]}}static getFieldList(t,i,n){if(void 0===n&&(n=""),null==i)return this.getFieldList(t,[],n);let s=t,o=Object.keys(t);for(let l of o)"object"!=typeof s[l]||s[l]instanceof Array?i.push(n+l):this.getFieldList(s[l],i,n+l+".");return i}static getObject(t,i){if(!t)return i;if(!i)return;if(-1===t.indexOf("."))return i[t];let n=i,s=t.split(".");for(let o=0;o<s.length&&null!=n;o++)n=n[s[o]];return n}static setValue(t,i,n){let a,d,s=t.toString().split("."),o=n||{},l=o,c=s.length;for(a=0;a<c;a++)d=s[a],a+1===c?l[d]=void 0===i?void 0:i:h(l[d])&&(l[d]={}),l=l[d];return o}static sort(t,i,n){if(t.length<=1)return t;let s=parseInt((t.length/2).toString(),10),o=t.slice(0,s),l=t.slice(s);return o=this.sort(o,i,n),l=this.sort(l,i,n),this.merge(o,l,i,n)}static ignoreDiacritics(t){return"string"!=typeof t?t:t.split("").map(s=>s in r.diacritics?r.diacritics[s]:s).join("")}static merge(t,i,n,s){let l,o=[];for(;t.length>0||i.length>0;)l=t.length>0&&i.length>0?s?s(this.getVal(t,0,n),this.getVal(i,0,n),t[0],i[0])<=0?t:i:t[0][n]<t[0][n]?t:i:t.length>0?t:i,o.push(l.shift());return o}static getVal(t,i,n){return n?this.getObject(n,t[i]):t[i]}static toLowerCase(t){return t?"string"==typeof t?t.toLowerCase():t.toString():0===t||!1===t?t.toString():""}static callAdaptorFunction(t,i,n,s){if(i in t){let o=t[i](n,s);h(o)||(n=o)}return n}static getAddParams(t,i,n){let s={};return r.callAdaptorFunction(t,"addParams",{dm:i,query:n,params:n.params,reqParams:s}),s}static isPlainObject(t){return!!t&&t.constructor===Object}static isCors(){let t=null;try{t=new window.XMLHttpRequest}catch(n){}return!!t&&"withCredentials"in t}static getGuid(t){let n;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(s,o)=>{if("crypto"in window&&"getRandomValues"in crypto){let l=new Uint8Array(1);window.crypto.getRandomValues(l),n=l[0]%16|0}else n=16*Math.random()|0;return"0123456789abcdef"[19===o?3&n|8:n]})}static isNull(t){return null==t}static getItemFromComparer(t,i,n){let s,o,l,a=0,c="string"==typeof r.getVal(t,0,i);if(t.length)for(;h(s)&&a<t.length;)s=r.getVal(t,a,i),l=t[a++];for(;a<t.length;a++)o=r.getVal(t,a,i),!h(o)&&(c&&(s=+s,o=+o),n(s,o)>0&&(s=o,l=t[a]));return l}static distinct(t,i,n){n=!h(n)&&n;let o,s=[],l={};return t.forEach((a,c)=>{o="object"==typeof t[c]?r.getVal(t,c,i):t[c],o in l||(s.push(n?t[c]:o),l[o]=1)}),s}static processData(t,i){let n=this.prepareQuery(t),s=new ie(i);t.requiresCounts&&n.requiresCount();let o=s.executeLocal(n),l={result:t.requiresCounts?o.result:o,count:o.count,aggregates:JSON.stringify(o.aggregates)};return t.requiresCounts?l:o}static prepareQuery(t){let i=new Ze;return t.select&&i.select(t.select),t.where&&r.parse.parseJson(t.where).filter(s=>{if(h(s.condition))i.where(s.field,s.operator,s.value,s.ignoreCase,s.ignoreAccent);else{let o=[];s.field?o.push(new qt(s.field,s.operator,s.value,s.ignoreCase,s.ignoreAccent)):o=o.concat(this.getPredicate(s.predicates)),"or"==s.condition?i.where(qt.or(o)):"and"==s.condition&&i.where(qt.and(o))}}),t.search&&r.parse.parseJson(t.search).filter(s=>i.search(s.key,s.fields,s.operator,s.ignoreCase,s.ignoreAccent)),t.aggregates&&t.aggregates.filter(n=>i.aggregate(n.type,n.field)),t.sorted&&t.sorted.filter(n=>i.sortBy(n.name,n.direction)),t.skip&&i.skip(t.skip),t.take&&i.take(t.take),t.group&&t.group.filter(n=>i.group(n)),i}static getPredicate(t){let i=[];for(let n=0;n<t.length;n++){let s=t[n];if(s.field)i.push(new qt(s.field,s.operator,s.value,s.ignoreCase,s.ignoreAccent));else{let o=[],l=this.getPredicate(s.predicates);for(const a of Object.keys(l))o.push(l[a]);i.push("or"==s.condition?qt.or(o):qt.and(o))}}return i}}return r.serverTimezoneOffset=null,r.timeZoneHandling=!0,r.throwError=e=>{try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},r.aggregates={sum:(e,t)=>{let n,i=0,s="number"!=typeof r.getVal(e,0,t);for(let o=0;o<e.length;o++)n=r.getVal(e,o,t),!isNaN(n)&&null!==n&&(s&&(n=+n),i+=n);return i},average:(e,t)=>r.aggregates.sum(e,t)/e.length,min:(e,t)=>{let i;return"function"==typeof t&&(i=t,t=null),r.getObject(t,r.getItemFromComparer(e,t,i||r.fnAscending))},max:(e,t)=>{let i;return"function"==typeof t&&(i=t,t=null),r.getObject(t,r.getItemFromComparer(e,t,i||r.fnDescending))},truecount:(e,t)=>new ie(e).executeLocal((new Ze).where(t,"equal",!0,!0)).length,falsecount:(e,t)=>new ie(e).executeLocal((new Ze).where(t,"equal",!1,!0)).length,count:(e,t)=>e.length},r.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},r.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},r.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},r.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},r.diacritics={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"},r.fnOperators={equal:(e,t,i,n)=>(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?r.toLowerCase(e)===r.toLowerCase(t):e===t),notequal:(e,t,i,n)=>(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),!r.fnOperators.equal(e,t,i)),lessthan:(e,t,i)=>i?r.toLowerCase(e)<r.toLowerCase(t):(h(e)&&(e=void 0),e<t),greaterthan:(e,t,i)=>i?r.toLowerCase(e)>r.toLowerCase(t):e>t,lessthanorequal:(e,t,i)=>i?r.toLowerCase(e)<=r.toLowerCase(t):(h(e)&&(e=void 0),e<=t),greaterthanorequal:(e,t,i)=>i?r.toLowerCase(e)>=r.toLowerCase(t):e>=t,contains:(e,t,i,n)=>(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?!h(e)&&!h(t)&&-1!==r.toLowerCase(e).indexOf(r.toLowerCase(t)):!h(e)&&!h(t)&&-1!==e.toString().indexOf(t)),notnull:e=>null!==e,isnull:e=>null===e,startswith:(e,t,i,n)=>(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.startsWith(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.startsWith(e,t)),endswith:(e,t,i,n)=>(n&&(e=r.ignoreDiacritics(e),t=r.ignoreDiacritics(t)),i?e&&t&&r.endsWith(r.toLowerCase(e),r.toLowerCase(t)):e&&t&&r.endsWith(e,t)),processSymbols:e=>{let t=r.operatorSymbols[e];return t?r.fnOperators[t]:r.throwError("Query - Process Operator : Invalid operator")},processOperator:e=>r.fnOperators[e]||r.fnOperators.processSymbols(e)},r.parse={parseJson:e=>("string"==typeof e?e=JSON.parse(e,r.parse.jsonReviver):e instanceof Array?r.parse.iterateAndReviveArray(e):"object"==typeof e&&null!==e&&r.parse.iterateAndReviveJson(e),e),iterateAndReviveArray:e=>{for(let t=0;t<e.length;t++)"object"==typeof e[t]&&null!==e[t]?r.parse.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(e[t])?r.parse.parseJson(e[t]):r.parse.jsonReviver("",e[t])},iterateAndReviveJson:e=>{let t,i=Object.keys(e);for(let n of i)r.startsWith(n,"__")||(t=e[n],"object"==typeof t?t instanceof Array?r.parse.iterateAndReviveArray(t):t&&r.parse.iterateAndReviveJson(t):e[n]=r.parse.jsonReviver(e[n],t))},jsonReviver:(e,t)=>{if("string"==typeof t){let i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),n=r.timeZoneHandling?r.serverTimezoneOffset:null;if(i)return r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),n,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){let s=t.indexOf("Z")>-1||t.indexOf("z")>-1,o=t.split(/[^0-9.]/);if(s)t=r.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)),r.serverTimezoneOffset,!1);else{let l=new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)),a=parseInt(o[6],10),c=parseInt(o[7],10);if(isNaN(a)&&isNaN(c))return l;t.indexOf("+")>-1?l.setHours(l.getHours()-a,l.getMinutes()-c):l.setHours(l.getHours()+a,l.getMinutes()+c),t=r.dateParse.toTimeZone(l,r.serverTimezoneOffset,!1)}null==r.serverTimezoneOffset&&(t=r.dateParse.addSelfOffset(t))}}return t},isJson:e=>"string"==typeof e[0]?e:r.parse.parseJson(e),isGuid:e=>null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e),replacer:(e,t)=>r.isPlainObject(e)?r.parse.jsonReplacer(e,t):e instanceof Array?r.parse.arrayReplacer(e):e instanceof Date?r.parse.jsonReplacer({val:e},t).val:e,jsonReplacer:(e,t)=>{let i,n=Object.keys(e);for(let s of n){if(i=e[s],!(i instanceof Date))continue;let o=i;null==r.serverTimezoneOffset?e[s]=r.dateParse.toTimeZone(o,null).toJSON():(o=new Date(+o+36e5*r.serverTimezoneOffset),e[s]=r.dateParse.toTimeZone(r.dateParse.addSelfOffset(o),null).toJSON())}return e},arrayReplacer:e=>{for(let t=0;t<e.length;t++)r.isPlainObject(e[t])?e[t]=r.parse.jsonReplacer(e[t]):e[t]instanceof Date&&(e[t]=r.parse.jsonReplacer({date:e[t]}).date);return e},jsonDateReplacer:(e,t)=>{if("value"===e&&t){if("string"==typeof t){let i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t);if(i)t=r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){let n=t.split(/[^0-9]/);t=r.dateParse.toTimeZone(new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10),parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10)),null,!0)}}if(t instanceof Date)return t=r.dateParse.addSelfOffset(t),null===r.serverTimezoneOffset?r.dateParse.toTimeZone(r.dateParse.addSelfOffset(t),null).toJSON():(t=r.dateParse.toTimeZone(t,t.getTimezoneOffset()/60*2-r.serverTimezoneOffset,!1)).toJSON()}return t}},r.dateParse={addSelfOffset:e=>new Date(+e-6e4*e.getTimezoneOffset()),toUTC:e=>new Date(+e+6e4*e.getTimezoneOffset()),toTimeZone:(e,t,i)=>{if(null===t)return e;let n=i?r.dateParse.toUTC(e):e;return new Date(+n-36e5*t)},toLocalTime:e=>{let t=e,i=-t.getTimezoneOffset(),n=i>=0?"+":"-",s=l=>{let a=Math.floor(Math.abs(l));return(a<10?"0":"")+a};return t.getFullYear()+"-"+s(t.getMonth()+1)+"-"+s(t.getDate())+"T"+s(t.getHours())+":"+s(t.getMinutes())+":"+s(t.getSeconds())+n+s(i/60)+":"+s(i%60)}},r})();const E1e={GroupGuid:"{271bbba0-1ee7}"};class oD{constructor(e){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=oD,this.dataSource=e,this.pvt={}}processResponse(e,t,i,n){return e}}class lD extends oD{processQuery(e,t){let o,l,u,i=e.dataSource.json.slice(0),n=i.length,s=!0,a={},c=0,d=[];for(let g=0;g<t.lazyLoad.length;g++)c++,a[t.lazyLoad[g].key]=t.lazyLoad[g].value;let p={};for(let g=0;g<t.queries.length;g++)l=t.queries[g],"onPage"!==l.fn&&"onGroup"!==l.fn||!t.lazyLoad.length?(o=this[l.fn].call(this,i,l.e,t),"onAggregates"===l.fn?p[l.e.field+" - "+l.e.type]=o:i=void 0!==o?o:i,("onPage"===l.fn||"onSkip"===l.fn||"onTake"===l.fn||"onRange"===l.fn)&&(s=!1),s&&(n=i.length)):("onGroup"===l.fn&&d.push(l.e),"onPage"===l.fn&&(u=l.e));if(c){let f=this.lazyLoadGroup({query:t,lazyLoad:a,result:i,group:d,page:u});i=f.result,n=f.count}return t.isCountRequired&&(i={result:i,count:n,aggregates:p}),i}lazyLoadGroup(e){let t=0,i=this.getAggregate(e.query),n=e.result;if(h(e.lazyLoad.onDemandGroupInfo)){n=Ie.group(n,e.group[0].fieldName,i,null,null,e.group[0].comparer,!0),t=n.length;let o=n;e.page&&(n=this.onPage(n,e.page,e.query)),this.formGroupResult(n,o)}else{let s=e.lazyLoad.onDemandGroupInfo;for(let l=s.where.length-1;l>=0;l--)n=this.onWhere(n,s.where[l]);e.group.length!==s.level&&(n=Ie.group(n,e.group[s.level].fieldName,i,null,null,e.group[0].comparer,!0)),t=n.length;let o=n;n=n.slice(s.skip),n=n.slice(0,s.take),e.group.length!==s.level&&this.formGroupResult(n,o)}return{result:n,count:t}}formGroupResult(e,t){if(e.length&&t.length){let i="GroupGuid",n="childLevels",s="level",o="records";e[i]=t[i],e[n]=t[n],e[s]=t[s],e[o]=t[o]}return e}getAggregate(e){let t=Ze.filterQueries(e.queries,"onAggregates"),i=[];if(t.length){let n;for(let s=0;s<t.length;s++)n=t[s].e,i.push({type:n.type,field:Ie.getValue(n.field,e)})}return i}batchRequest(e,t,i){let n,s=t.deletedRecords.length;for(n=0;n<t.addedRecords.length;n++)this.insert(e,t.addedRecords[n]);for(n=0;n<t.changedRecords.length;n++)this.update(e,i.key,t.changedRecords[n]);for(n=0;n<s;n++)this.remove(e,i.key,t.deletedRecords[n]);return t}onWhere(e,t){return e&&e.length?e.filter(i=>{if(t)return t.validate(i)}):e}onAggregates(e,t){let i=Ie.aggregates[t.type];return e&&i&&0!==e.length?i(e,t.field):null}onSearch(e,t){return e&&e.length?(0===t.fieldNames.length&&Ie.getFieldList(e[0],t.fieldNames),e.filter(i=>{for(let n=0;n<t.fieldNames.length;n++)if(t.comparer.call(i,Ie.getObject(t.fieldNames[n],i),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e}onSortBy(e,t,i){if(!e||!e.length)return e;let n,s=Ie.getValue(t.fieldName,i);if(!s)return e.sort(t.comparer);if(s instanceof Array){s=s.slice(0);for(let o=s.length-1;o>=0;o--)!s[o]||(n=t.comparer,Ie.endsWith(s[o]," desc")&&(n=Ie.fnSort("descending"),s[o]=s[o].replace(" desc","")),e=Ie.sort(e,s[o],n));return e}return Ie.sort(e,s,t.comparer)}onGroup(e,t,i){if(!e||!e.length)return e;let n=this.getAggregate(i);return Ie.group(e,Ie.getValue(t.fieldName,i),n,null,null,t.comparer)}onPage(e,t,i){let n=Ie.getValue(t.pageSize,i),s=(Ie.getValue(t.pageIndex,i)-1)*n;return e&&e.length?e.slice(s,s+n):e}onRange(e,t){return e&&e.length?e.slice(Ie.getValue(t.start),Ie.getValue(t.end)):e}onTake(e,t){return e&&e.length?e.slice(0,Ie.getValue(t.nos)):e}onSkip(e,t){return e&&e.length?e.slice(Ie.getValue(t.nos)):e}onSelect(e,t){return e&&e.length?Ie.select(e,Ie.getValue(t.fieldNames)):e}insert(e,t,i,n,s){return h(s)?e.dataSource.json.push(t):e.dataSource.json.splice(s,0,t)}remove(e,t,i,n){let o,s=e.dataSource.json;for("object"==typeof i&&!(i instanceof Date)&&(i=Ie.getObject(t,i)),o=0;o<s.length&&Ie.getObject(t,s[o])!==i;o++);return o!==s.length?s.splice(o,1):null}update(e,t,i,n){let o,l,s=e.dataSource.json;for(h(t)||(l=M(t,i)),o=0;o<s.length&&(h(t)||M(t,s[o])!==l);o++);return o<s.length?Nr(s[o],i):null}}class ca extends oD{processQuery(e,t,i){let a,c,n=this.getQueryRequest(t),s=Ze.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=t.params,l=e.dataSource.url,d=null,u=this.options,p={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in s?(a=s.onPage,c=Ie.getValue(a.pageIndex,t),d=Ie.getValue(a.pageSize,t),c=(c-1)*d):"onRange"in s&&(a=s.onRange,c=a.start,d=a.end-a.start);for(let v=0;v<n.sorts.length;v++)a=Ie.getValue(n.sorts[v].e.fieldName,t),p.sorts.push(Ie.callAdaptorFunction(this,"onEachSort",{name:a,direction:n.sorts[v].e.direction},t));i&&(a=this.getFiltersFrom(i,t),a&&p.filters.push(Ie.callAdaptorFunction(this,"onEachWhere",a.toJson(),t)));for(let v=0;v<n.filters.length;v++){let x=Ie.callAdaptorFunction(this,"onEachWhere",n.filters[v].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!h(n.filters[v].e.key)&&n.filters.length>1&&(x="("+x+")"),p.filters.push(x);let w="object"==typeof p.filters[v]?Object.keys(p.filters[v]):[];for(let b of w)Ie.isNull(p[b])&&delete p[b]}for(let v=0;v<n.searches.length;v++)a=n.searches[v].e,p.searches.push(Ie.callAdaptorFunction(this,"onEachSearch",{fields:a.fieldNames,operator:a.operator,key:a.searchKey,ignoreCase:a.ignoreCase},t));for(let v=0;v<n.groups.length;v++)p.groups.push(Ie.getValue(n.groups[v].e.fieldName,t));for(let v=0;v<n.aggregates.length;v++)a=n.aggregates[v].e,p.aggregates.push({type:a.type,field:Ie.getValue(a.field,t)});let g={};if(this.getRequestQuery(u,t,s,p,g),Ie.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:o,reqParams:g}),t.lazyLoad.length)for(let v=0;v<t.lazyLoad.length;v++)g[t.lazyLoad[v].key]=t.lazyLoad[v].value;let f=Object.keys(g);for(let v of f)(Ie.isNull(g[v])||""===g[v]||0===g[v].length)&&delete g[v];(!(u.skip in g)||!(u.take in g))&&null!==d&&(g[u.skip]=Ie.callAdaptorFunction(this,"onSkip",c,t),g[u.take]=Ie.callAdaptorFunction(this,"onTake",d,t));let m=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(g,Ie.parse.jsonDateReplacer),url:l,pvtData:m,type:"POST",contentType:"application/json; charset=utf-8"}:(a=this.convertToQueryString(g,t,e),a=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+a,{type:"GET",url:a.length?l.replace(/\/*$/,a):l,pvtData:m})}getRequestQuery(e,t,i,n,s){let l=s;l[e.from]=t.fromTable,e.apply&&t.distincts.length&&(l[e.apply]="onDistinct"in this?Ie.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(l[e.expand]="onExpand"in this&&"onSelect"in i?Ie.callAdaptorFunction(this,"onExpand",{selects:Ie.getValue(i.onSelect.fieldNames,t),expands:t.expands},t):t.expands),l[e.select]="onSelect"in i&&!t.distincts.length?Ie.callAdaptorFunction(this,"onSelect",Ie.getValue(i.onSelect.fieldNames,t),t):"",l[e.count]=t.isCountRequired?Ie.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",l[e.search]=n.searches.length?Ie.callAdaptorFunction(this,"onSearch",n.searches,t):"",l[e.skip]="onSkip"in i?Ie.callAdaptorFunction(this,"onSkip",Ie.getValue(i.onSkip.nos,t),t):"",l[e.take]="onTake"in i?Ie.callAdaptorFunction(this,"onTake",Ie.getValue(i.onTake.nos,t),t):"",l[e.where]=n.filters.length||n.searches.length?Ie.callAdaptorFunction(this,"onWhere",n.filters,t):"",l[e.sortBy]=n.sorts.length?Ie.callAdaptorFunction(this,"onSortBy",n.sorts,t):"",l[e.group]=n.groups.length?Ie.callAdaptorFunction(this,"onGroup",n.groups,t):"",l[e.aggregates]=n.aggregates.length?Ie.callAdaptorFunction(this,"onAggregates",n.aggregates,t):"",l.param=[]}convertToQueryString(e,t,i){return""}processResponse(e,t,i,n,s,o){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("application/json")){let g=Ie.timeZoneHandling;t&&!t.timeZoneHandling&&(Ie.timeZoneHandling=!1),e=Ie.parse.parseJson(e),Ie.timeZoneHandling=g}let l=s,a=l.pvtData||{},c=e?e.groupDs:[];if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];let d=JSON.parse(l.data);if(d&&"batch"===d.action&&e&&e.addedRecords)return o.addedRecords=e.addedRecords,o;e&&e.d&&(e=e.d);let u={};e&&"count"in e&&(u.count=e.count),u.result=e&&e.result?e.result:e;let p=!1;if(Array.isArray(e.result)&&e.result.length){let g="key",f="value",m="level";if(h(e.result[0][g])||(u.result=this.formRemoteGroupedData(u.result,1,a.groups.length-1)),i&&i.lazyLoad.length&&a.groups.length)for(let v=0;v<i.lazyLoad.length;v++)"onDemandGroupInfo"===i.lazyLoad[v][g]&&a.groups.length===i.lazyLoad[v][f][m]&&(p=!0)}return p||this.getAggregateResult(a,e,u,c,i),Ie.isNull(u.count)?u.result:{result:u.result,count:u.count,aggregates:u.aggregates}}formRemoteGroupedData(e,t,i){for(let a=0;a<e.length;a++)e[a].items.length&&Object.keys(e[a].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[a].items,t+1,i-1);let n="GroupGuid",l="records";return e[n]=E1e[n],e.level=t,e.childLevels=i,e[l]=e[0].items.length?this.getGroupedRecords(e,!h(e[0].items[l])):[],e}getGroupedRecords(e,t){let i=[];for(let s=0;s<e.length;s++)if(t)i=i.concat(e[s].items.records);else for(let o=0;o<e[s].items.length;o++)i.push(e[s].items[o]);return i}onGroup(e){return this.pvt.groups=e,e}onAggregates(e){this.pvt.aggregates=e}batchRequest(e,t,i,n,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(O({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i[void 0],key:i[void 0]},Ie.getAddParams(this,e,n)))}}beforeSend(e,t){}insert(e,t,i,n){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(O({},{value:t,table:i,action:"insert"},Ie.getAddParams(this,e,n)))}}remove(e,t,i,n,s){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(O({},{key:i,keyColumn:t,table:n,action:"remove"},Ie.getAddParams(this,e,s)))}}update(e,t,i,n,s){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(O({},{value:i,action:"update",keyColumn:t,key:Ie.getObject(t,i),table:n},Ie.getAddParams(this,e,s)))}}getFiltersFrom(e,t){let n,i=t.fKey,s=i,o=t.key,l=[];"object"!=typeof e[0]&&(s=null);for(let a=0;a<e.length;a++)n="object"==typeof e[0]?Ie.getObject(o||s,e[a]):e[a],l.push(new qt(i,"equal",n));return qt.or(l)}getAggregateResult(e,t,i,n,s){let o=t;if(t&&t.result&&(o=t.result),e&&e.aggregates&&e.aggregates.length){let d,c=e.aggregates,u=o,p={};t.aggregate&&(u=t.aggregate);for(let g=0;g<c.length;g++)d=Ie.aggregates[c[g].type],d&&(p[c[g].field+" - "+c[g].type]=d(u,c[g].field));i.aggregates=p}let a=Array.isArray(t.result)&&t.result.length&&!h(t.result[0].key);if(e&&e.groups&&e.groups.length&&!a){let c=e.groups;for(let d=0;d<c.length;d++){let u=null;h(n)||(n=Ie.group(n,c[d]));let p=Ze.filterQueries(s.queries,"onGroup")[d].e;o=Ie.group(o,c[d],e.aggregates,u,n,p.comparer)}i.result=o}return i}getQueryRequest(e){let t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=Ze.filterQueries(e.queries,"onSortBy"),t.groups=Ze.filterQueries(e.queries,"onGroup"),t.filters=Ze.filterQueries(e.queries,"onWhere"),t.searches=Ze.filterQueries(e.queries,"onSearch"),t.aggregates=Ze.filterQueries(e.queries,"onAggregates"),t}addParams(e){let t=e.reqParams;e.params.length&&(t.params={});for(let i of e.params){if(t[i.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[i.key]=i.value,i.fn&&(t[i.key]=i.fn.call(e.query,i.key,e.query,e.dm)),t.params[i.key]=t[i.key]}}}class au extends ca{constructor(e){super(),this.options=O({},this.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),O(this.options,e||{})}getModuleName(){return"ODataAdaptor"}onPredicate(e,t,i){let s,o,n="",l=e.value,a=typeof l,c=e.field?au.getField(e.field):null;if(l instanceof Date&&(l="datetime'"+Ie.parse.replacer(l)+"'"),"string"===a&&(l=l.replace(/'/g,"''"),e.ignoreCase&&(l=l.toLowerCase()),l=encodeURIComponent(l),l="'"+l+"'",i&&(c="cast("+c+", 'Edm.String')"),Ie.parse.isGuid(l)&&(o="guid"),e.ignoreCase&&(o||(c="tolower("+c+")"),l=l.toLowerCase())),s=Ie.odBiOperator[e.operator],s)return n+=c,n+=s,o&&(n+=o),n+l;if(s=h(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?Ie.odUniOperator[e.operator]:Ie.odv4UniOperator[e.operator],"substringof"===s){let d=l;l=c,c=d}return n+=s+"(",n+=c+",",o&&(n+=o),n+=l+")",n}addParams(e){super.addParams(e),delete e.reqParams.params}onComplexPredicate(e,t,i){let n=[];for(let s=0;s<e.predicates.length;s++)n.push("("+this.onEachWhere(e.predicates[s],t,i)+")");return n.join(" "+e.condition+" ")}onEachWhere(e,t,i){return e.isComplex?this.onComplexPredicate(e,t,i):this.onPredicate(e,t,i)}onWhere(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")}onEachSearch(e){e.fields&&0===e.fields.length&&Ie.throwError("Query() - Search : oData search requires list of field names to search");let t=this.pvt.search||[];for(let i=0;i<e.fields.length;i++)t.push(new qt(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.search=t}onSearch(e){return this.pvt.search=qt.or(this.pvt.search),""}onEachSort(e){let t=[];if(e.name instanceof Array)for(let i=0;i<e.name.length;i++)t.push(au.getField(e.name[i])+("descending"===e.direction?" desc":""));else t.push(au.getField(e.name)+("descending"===e.direction?" desc":""));return t.join(",")}onSortBy(e){return e.reverse().join(",")}onGroup(e){return this.pvt.groups=e,[]}onSelect(e){for(let t=0;t<e.length;t++)e[t]=au.getField(e[t]);return e.join(",")}onAggregates(e){return this.pvt.aggregates=e,""}onCount(e){return!0===e?"allpages":""}beforeSend(e,t,i){Ie.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")}processResponse(e,t,i,n,s,o){let l="odata.metadata";if(s&&"GET"===s.type&&!this.rootUrl&&e[l]){let m=e[l].split("/$metadata#");this.rootUrl=m[0],this.resourceTableName=m[1]}if(!h(e.d)){let m=i&&i.isCountRequired?e.d.results:e.d,v="__metadata";if(!h(m))for(let x=0;x<m.length;x++)h(m[x][v])||delete m[x][v]}let c=s&&s.pvtData,d=this.processBatchResponse(e,i,n,s,o);if(d)return d;let u=n&&s.getResponseHeader("DataServiceVersion"),p=null,g=u&&parseInt(u,10)||2;if(i&&i.isCountRequired){let m="__count";(e[m]||e["odata.count"])&&(p=e[m]||e["odata.count"]),e.d&&(e=e.d),(e[m]||e["odata.count"])&&(p=e[m]||e["odata.count"])}3===g&&e.value&&(e=e.value),e.d&&(e=e.d),g<3&&e.results&&(e=e.results);let f={};return f.count=p,f.result=e,this.getAggregateResult(c,e,f,null,i),Ie.isNull(p)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}}convertToQueryString(e,t,i){let n=[],s="table",o=e[s]||"";delete e[s],i.dataSource.requiresFormat&&(e.$format="json");let a=Object.keys(e);for(let c of a)n.push(c+"="+e[c]);return n=n.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!o?n:n.length?o+"?"+n:o||""}localTimeReplacer(e,t){for(let i of h(t)?[]:Object.keys(t))t[i]instanceof Date&&(t[i]=Ie.dateParse.toLocalTime(t[i]));return t}insert(e,t,i){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}}remove(e,t,i,n){let s;return s="string"!=typeof i||Ie.parse.isGuid(i)?`(${i})`:`('${i}')`,{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+s}}update(e,t,i,n,s,o){let l;return"PATCH"===this.options.updateType&&!h(o)&&(i=this.compareAndRemove(i,o,t)),l="string"!=typeof i[t]||Ie.parse.isGuid(i[t])?`(${i[t]})`:`('${i[t]}')`,{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+l,data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}}batchRequest(e,t,i,n,s){let o=i.guid=Ie.getGuid(this.options.batchPre),l=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;let a={url:i.url,key:i.key,cid:1,cSet:Ie.getGuid(this.options.changeSet)},c="--"+o+"\n";return c+="Content-Type: multipart/mixed; boundary="+a.cSet.replace("--","")+"\n",this.pvt.changeSet=0,c+=this.generateInsertRequest(t.addedRecords,a,e),c+=this.generateUpdateRequest(t.changedRecords,a,e,s?s.changedRecords:[]),c+=this.generateDeleteRequest(t.deletedRecords,a,e),c+=a.cSet+"--\n",c+="--"+o+"--",{type:"POST",url:l,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:c}}generateDeleteRequest(e,t,i){if(!e)return"";let n="";return n=this.generateBodyContent(e,t,{method:"DELETE ",url:(o,l,a)=>{let c=Ie.getObject(a,o[l]);return"number"==typeof c||Ie.parse.isGuid(c)?"("+c+")":c instanceof Date?"("+o[l][a].toJSON()+")":`('${c}')`},data:(o,l)=>""},i),n+"\n"}generateInsertRequest(e,t,i){if(!e)return"";let n="";return n=this.generateBodyContent(e,t,{method:"POST ",url:(o,l,a)=>"",data:(o,l)=>JSON.stringify(o[l])+"\n\n"},i),n}generateUpdateRequest(e,t,i,n){if(!e)return"";let s="";return e.forEach(l=>l=this.compareAndRemove(l,n.filter(a=>Ie.getObject(t.key,a)===Ie.getObject(t.key,l))[0],t.key)),s=this.generateBodyContent(e,t,{method:this.options.updateType+" ",url:(l,a,c)=>"number"==typeof l[a][c]||Ie.parse.isGuid(l[a][c])?"("+l[a][c]+")":l[a][c]instanceof Date?"("+l[a][c].toJSON()+")":`('${l[a][c]}')`,data:(l,a)=>JSON.stringify(l[a])+"\n\n"},i),s}static getField(e){return e.replace(/\./g,"/")}generateBodyContent(e,t,i,n){let s="";for(let o=0;o<e.length;o++)s+="\n"+t.cSet+"\n",s+=this.options.changeSetContent+"\n\n",s+=i.method,"POST "===i.method?s+=(n.dataSource.insertUrl||n.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n":"PUT "===i.method||"PATCH "===i.method?s+=(n.dataSource.updateUrl||n.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n":"DELETE "===i.method&&(s+=(n.dataSource.removeUrl||n.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n"),s+="Accept: "+this.options.accept+"\n",s+="Content-Id: "+this.pvt.changeSet+++"\n",s+=this.options.batchChangeSetContentType+"\n",h(e[o]["@odata.etag"])?s+="\n":(s+="If-Match: "+e[o]["@odata.etag"]+"\n\n",delete e[o]["@odata.etag"]),s+=i.data(e,o);return s}processBatchResponse(e,t,i,n,s){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(n&&this.options.batch&&Ie.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()){let l,a,o=i.getResponseHeader("Content-Type"),c=e+"";if(o=o.substring(o.indexOf("=batchresponse")+1),c=c.split(o),c.length<2)return{};c=c[1];let d=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(c);d&&c.replace(d[0],""),c=c.split(d?d[1]:"");for(let p=c.length;p>-1;p--)!/\bContent-ID:/i.test(c[p])||!/\bHTTP.+201/.test(c[p])||(l=parseInt(/\bContent-ID: (\d+)/i.exec(c[p])[1],10),s.addedRecords[l]&&(a=Ie.parse.parseJson(/^\{.+\}/m.exec(c[p])[0]),O({},s.addedRecords[l],this.processResponse(a))));return s}return null}compareAndRemove(e,t,i){return h(t)||Object.keys(e).forEach(n=>{n!==i&&"@odata.etag"!==n&&(Ie.isPlainObject(e[n])?(this.compareAndRemove(e[n],t[n]),0===Object.keys(e[n]).filter(o=>"@odata.etag"!==o).length&&delete e[n]):(e[n]===t[n]||e[n]&&t[n]&&e[n].valueOf()===t[n].valueOf())&&delete e[n])}),e}}class T1e extends au{getModuleName(){return"WebApiAdaptor"}insert(e,t,i){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}}remove(e,t,i,n){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}}update(e,t,i,n){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}}batchRequest(e,t,i){let n=i.guid=Ie.getGuid(this.options.batchPre),s=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;let o=[];for(let l=0,a=t.addedRecords.length;l<a;l++)t.addedRecords.forEach((c,d)=>{o.push("--"+n),o.push("Content-Type: application/http; msgtype=request",""),o.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||i.url)+" HTTP/1.1"),o.push("Content-Type: application/json; charset=utf-8"),o.push("Host: "+location.host),o.push("",c?JSON.stringify(c):"")});for(let l=0,a=t.changedRecords.length;l<a;l++)t.changedRecords.forEach((c,d)=>{o.push("--"+n),o.push("Content-Type: application/http; msgtype=request",""),o.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||i.url)+" HTTP/1.1"),o.push("Content-Type: application/json; charset=utf-8"),o.push("Host: "+location.host),o.push("",c?JSON.stringify(c):"")});for(let l=0,a=t.deletedRecords.length;l<a;l++)t.deletedRecords.forEach((c,d)=>{o.push("--"+n),o.push("Content-Type: application/http; msgtype=request",""),o.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||i.url)+((p,g,f)=>{let m=Ie.getObject(f,p[g]);return"number"==typeof m||Ie.parse.isGuid(m)?"/"+m:m instanceof Date?"/"+p[g][f].toJSON():`/'${m}'`})(t.deletedRecords,l,i.key)+" HTTP/1.1"),o.push("Content-Type: application/json; charset=utf-8"),o.push("Host: "+location.host),o.push("",c?JSON.stringify(c):"")});return o.push("--"+n+"--",""),{type:"POST",url:s,contentType:"multipart/mixed; boundary="+n,data:o.join("\r\n")}}beforeSend(e,t,i){t.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01")}processResponse(e,t,i,n,s,o){let a=s&&s.pvtData,c=null,d={};if(s&&"post"!==s.type.toLowerCase()){let u=n&&s.getResponseHeader("DataServiceVersion"),p=u&&parseInt(u,10)||2;i&&i.isCountRequired&&(Ie.isNull(e.Count)||(c=e.Count)),p<3&&e.Items&&(e=e.Items),d.count=c,d.result=e,this.getAggregateResult(a,e,d,null,i)}return d.result=d.result||e,Ie.isNull(c)?d.result:{result:d.result,count:d.count,aggregates:d.aggregates}}}class R1e extends ca{processQuery(e,t,i){let n=(new ca).processQuery(e,t,i),o=Ie.parse.parseJson(n.data),l={};if(o.param)for(let u=0;u<o.param.length;u++){let p=o.param[u],g=Object.keys(p)[0];l[g]=p[g]}return l.value=o,{data:JSON.stringify(l),url:n.url,pvtData:n.pvtData,type:"POST",contentType:"application/json; charset=utf-8"}}}class $m extends lD{constructor(){super(),Ne("beforeSend",ca.prototype.beforeSend,this)}insert(e,t,i,n,s){return this.pvt.position=s,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(O({},{value:t,table:i,action:"insert"},Ie.getAddParams(this,e,n)))}}remove(e,t,i,n,s){return super.remove(e,t,i),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(O({},{key:i,keyColumn:t,table:n,action:"remove"},Ie.getAddParams(this,e,s)))}}update(e,t,i,n,s){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(O({},{value:i,action:"update",keyColumn:t,key:i[t],table:n},Ie.getAddParams(this,e,s)))}}processResponse(e,t,i,n,s,o,l){let a;if(e="batch"===(s?JSON.parse(s.data):e).action?Ie.parse.parseJson(e):e,"add"===this.updateType&&super.insert(t,e,null,null,this.pvt.position),"update"===this.updateType&&super.update(t,this.updateKey,e),this.updateType=void 0,e.added)for(a=0;a<e.added.length;a++)super.insert(t,e.added[a]);if(e.changed)for(a=0;a<e.changed.length;a++)super.update(t,l.key,e.changed[a]);if(e.deleted)for(a=0;a<e.deleted.length;a++)super.remove(t,l.key,e.deleted[a]);return e}batchRequest(e,t,i,n,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(O({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i.url,key:i.key},Ie.getAddParams(this,e,n)))}}addParams(e){(new ca).addParams(e)}}class k1e extends ca{constructor(e){super(),this.options=O({},this.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),O(this.options,e||{})}getModuleName(){return"CustomDataAdaptor"}}class Pq extends ca{constructor(e,t,i){super(),this.isCrudAction=!1,this.isInsertAction=!1,h(e)||(this.cacheAdaptor=e),this.pageSize=i,this.guidId=Ie.getGuid("cacheAdaptor"),window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]}));let s=this.guidId;h(t)||setInterval(()=>{let o;o=Ie.parse.parseJson(window.localStorage.getItem(s));let l=[];for(let a=0;a<o.results.length;a++){let c=+new Date,d=+new Date(o.results[a].timeStamp);o.results[a].timeStamp=c-d,c-d>t&&l.push(a)}for(let a=0;a<l.length;a++)o.results.splice(l[a],1),o.keys.splice(l[a],1);window.localStorage.removeItem(s),window.localStorage.setItem(s,JSON.stringify(o))},t)}generateKey(e,t){let i=this.getQueryRequest(t),n=Ze.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),s=e,o="onPage";o in n&&(s+=n[o].pageIndex),i.sorts.forEach(l=>{s+=l.e.direction+l.e.fieldName}),i.groups.forEach(l=>{s+=l.e.fieldName}),i.searches.forEach(l=>{s+=l.e.searchKey});for(let l=0;l<i.filters.length;l++){let a=i.filters[l];if(a.e.isComplex){let c=t.clone();c.queries=[];for(let d=0;d<a.e.predicates.length;d++)c.queries.push({fn:"onWhere",e:a.e.predicates[d],filter:t.queries.filter});s+=a.e.condition+this.generateKey(e,c)}else s+=a.e.field+a.e.operator+a.e.value}return s}processQuery(e,t,i){let s,n=this.generateKey(e.dataSource.url,t);s=Ie.parse.parseJson(window.localStorage.getItem(this.guidId));let o=s?s.results[s.keys.indexOf(n)]:null;return null==o||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o}processResponse(e,t,i,n,s,o){if(this.isInsertAction||s&&this.cacheAdaptor.options.batch&&Ie.endsWith(s.url,this.cacheAdaptor.options.batch)&&"post"===s.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,n,s,o);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));let l=i?this.generateKey(t.dataSource.url,i):t.dataSource.url,a={};a=Ie.parse.parseJson(window.localStorage.getItem(this.guidId));let c=a.keys.indexOf(l);for(-1!==c&&(a.results.splice(c,1),a.keys.splice(c,1)),a.results[a.keys.push(l)-1]={keys:l,result:e.result,timeStamp:new Date,count:e.count};a.results.length>this.pageSize;)a.results.splice(0,1),a.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(a)),e}beforeSend(e,t,i){!h(this.cacheAdaptor.options.batch)&&Ie.endsWith(i.url,this.cacheAdaptor.options.batch)&&"post"===i.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)}update(e,t,i,n){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,i,n)}insert(e,t,i){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,i)}remove(e,t,i,n){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,i,n)}batchRequest(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}}class ie{constructor(e,t,i){let n;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],!e&&!this.dataSource&&(e=[]),i=i||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?n={json:e,offline:!0}:"object"==typeof e?(e.json||(e.json=[]),n={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof $m||e.adaptor instanceof k1e||e.url),requiresFormat:e.requiresFormat}):Ie.throwError("DataManager: Invalid arguments"),void 0===n.requiresFormat&&!Ie.isCors()&&(n.requiresFormat=!!h(n.crossDomain)||n.crossDomain),void 0===n.dataType&&(n.dataType="json"),this.dataSource=n,this.defaultQuery=t,n.url&&n.offline&&!n.json.length?(this.isDataAvailable=!1,this.adaptor=i||new au,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new Ze),this.ready.then(s=>{this.dataSource.offline=!0,this.isDataAvailable=!0,n.json=s.result,this.adaptor=new lD})):this.adaptor=n.offline?new lD:new au,!n.jsonp&&this.adaptor instanceof au&&(n.jsonp="callback"),this.adaptor=i||this.adaptor,n.enableCaching&&(this.adaptor=new Pq(this.adaptor,n.timeTillExpiration,n.cachingPageSize)),this}setDefaultQuery(e){return this.defaultQuery=e,this}executeLocal(e){!this.defaultQuery&&!(e instanceof Ze)&&Ie.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||Ie.throwError("DataManager - executeLocal() : Json data is required to execute");let t=this.adaptor.processQuery(this,e=e||this.defaultQuery);if(e.subQuery){let i=e.subQuery.fromTable,n=e.subQuery.lookups,s=e.isCountRequired?t.result:t;n&&n instanceof Array&&Ie.buildHierarchy(e.subQuery.fKey,i,s,n,e.subQuery.key);for(let o=0;o<s.length;o++)s[o][i]instanceof Array&&(s[o]=O({},{},s[o]),s[o][i]=this.adaptor.processResponse(e.subQuery.using(new ie(s[o][i].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(t,this,e)}executeQuery(e,t,i,n){let s="makeRequest";"function"==typeof e&&(n=i,i=t,t=e,e=null),e||(e=this.defaultQuery),e instanceof Ze||Ie.throwError("DataManager - executeQuery() : A query is required to execute");let o=new Ss,l={query:e};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!h(this.adaptor[s])||this.isCustomDataAdaptor(this.adaptor)){let a=this.adaptor.processQuery(this,e);h(this.adaptor[s])?!h(a.url)||this.isCustomDataAdaptor(this.adaptor)?this.makeRequest(a,o,l,e):(l=ie.getDeferedArgs(e,a,l),o.resolve(l)):this.adaptor[s](a,o,l,e)}else ie.nextTick(()=>{let a=this.executeLocal(e);l=ie.getDeferedArgs(e,a,l),o.resolve(l)});return(t||i)&&o.promise.then(t,i),n&&o.promise.then(n,n),o.promise}static getDeferedArgs(e,t,i){return e.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i}static nextTick(e){(window.setImmediate||window.setTimeout)(e,0)}extendRequest(e,t,i){return O({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},e)}makeRequest(e,t,i,n){let s=!!n.subQuerySelector,o=u=>{i.error=u,t.reject(i)},l=(u,p,g,f,m,v,x)=>{i.xhr=g,i.count=p?parseInt(p.toString(),10):0,i.result=u,i.request=f,i.aggregates=v,i.actual=m,i.virtualSelectRecords=x,t.resolve(i)},a=(u,p)=>{let g=new Ss,f={parent:i};n.subQuery.isChild=!0;let m=this.adaptor.processQuery(this,n.subQuery,u?this.adaptor.processResponse(u):p),v=this.makeRequest(m,g,f,n.subQuery);return s||g.then(x=>{u&&(Ie.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,u,x,n.subQuery.key),l(u,x.count,x.xhr))},o),v},d=this.extendRequest(e,(u,p)=>{if(this.isGraphQLAdaptor(this.adaptor)&&!h(u.errors))return o(u.errors);this.isCustomDataAdaptor(this.adaptor)&&(p=O({},this.ajaxReqOption,p)),-1===p.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&this.dateParse&&(u=Ie.parse.parseJson(u));let g=this.adaptor.processResponse(u,this,n,p.httpRequest,p),f=0,m=null,x=u.virtualSelectRecords;n.isCountRequired&&(f=g.count,m=g.aggregates,g=g.result),n.subQuery?s||a(g,p):l(g,f,p.httpRequest,p.type,u,m,x)},o);if(this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=d,this.adaptor.options.getData({data:d.data,onSuccess:d.onSuccess,onFailure:d.onFailure});else{let u=new cf(d);u.beforeSend=()=>{this.beforeSend(u.httpRequest,u)},d=u.send(),d.catch(p=>!0),this.requests.push(u)}if(s){let u,p=n.subQuerySelector.call(this,{query:n.subQuery,parent:n});p&&p.length?(u=Promise.all([d,a(null,p)]),u.then((...g)=>{let f=g[0],m=this.adaptor.processResponse(f[0],this,n,this.requests[0].httpRequest,this.requests[0]),v=0;n.isCountRequired&&(v=m.count,m=m.result);let x=this.adaptor.processResponse(f[1],this,n.subQuery,this.requests[1].httpRequest,this.requests[1]);v=0,n.subQuery.isCountRequired&&(v=x.count,x=x.result),Ie.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,m,x,n.subQuery.key),s=!1,l(m,v,this.requests[0].httpRequest)})):s=!1}return d}beforeSend(e,t){this.adaptor.beforeSend(this,e,t);let n,i=this.dataSource.headers;for(let s=0;i&&s<i.length;s++){n=[];let o=Object.keys(i[s]);for(let l of o)n.push(l),e.setRequestHeader(l,i[s][l])}}saveChanges(e,t,i,n,s){i instanceof Ze&&(n=i,i=null);let o={url:i,key:t||this.dataSource.key},l=this.adaptor.batchRequest(this,e,o,n||new Ze,s),a="doAjaxRequest";if(this.dataSource.offline)return l;if(h(this.adaptor[a])){if(this.isCustomDataAdaptor(this.adaptor))return this.doAjaxRequest(l,this.adaptor.options.batchUpdate);{let c=new Ss,d=new cf(l);return d.beforeSend=()=>{this.beforeSend(d.httpRequest,d)},d.onSuccess=(u,p)=>{this.isGraphQLAdaptor(this.adaptor)&&(h(u.errors)||d.onFailure(JSON.stringify(u.errors))),c.resolve(this.adaptor.processResponse(u,this,null,p.httpRequest,p,e,o))},d.onFailure=u=>{c.reject([{error:u}])},d.send().catch(u=>!0),c.promise}}return this.adaptor[a](l)}insert(e,t,i,n){t instanceof Ze&&(i=t,t=null);let s=this.adaptor.insert(this,e,t,i,n),o="doAjaxRequest";return this.dataSource.offline?s:h(this.adaptor[o])?this.doAjaxRequest(s,this.adaptor.options.addRecord):this.adaptor[o](s)}remove(e,t,i,n){"object"==typeof t&&(t=Ie.getObject(e,t)),i instanceof Ze&&(n=i,i=null);let s=this.adaptor.remove(this,e,t,i,n),o="doAjaxRequest";return this.dataSource.offline?s:h(this.adaptor[o])?this.doAjaxRequest(s,this.adaptor.options.deleteRecord):this.adaptor[o](s)}update(e,t,i,n,s){i instanceof Ze&&(n=i,i=null);let o=this.adaptor.update(this,e,t,i,n,s),l="doAjaxRequest";return this.dataSource.offline?o:h(this.adaptor[l])?this.doAjaxRequest(o,this.adaptor.options.updateRecord):this.adaptor[l](o)}isCustomDataAdaptor(e){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()}isGraphQLAdaptor(e){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()}successFunc(e,t){if(this.isGraphQLAdaptor(this.adaptor)){let i=JSON.parse(e);h(i.errors)||this.failureFunc(JSON.stringify(i.errors))}this.isCustomDataAdaptor(this.adaptor)&&(t=O({},this.ajaxReqOption,t));try{Ie.parse.parseJson(e)}catch(i){e=[]}e=this.adaptor.processResponse(Ie.parse.parseJson(e),this,null,t.httpRequest,t),this.ajaxDeffered.resolve(e)}failureFunc(e){this.ajaxDeffered.reject([{error:e}])}doAjaxRequest(e,t){if(e=O({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.ajaxDeffered=new Ss,this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{let i=new cf(e);i.beforeSend=()=>{this.beforeSend(i.httpRequest,i)},i.onSuccess=this.successFunc.bind(this),i.onFailure=this.failureFunc.bind(this),i.send().catch(n=>!0)}return this.ajaxDeffered.promise}}class Ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}function L3(r,e,t,i,n,s){let o=i;if(i.tagName===e){const l=M("ej2_instances",i);o=r("input",{attrs:{type:t}});const a=["change","cssClass","label","labelPosition","id"];for(let c=0,d=i.attributes.length;c<d;c++)-1===a.indexOf(i.attributes[c].nodeName)&&o.setAttribute(i.attributes[c].nodeName,i.attributes[c].nodeValue);Le(i,{class:n,role:s,"aria-checked":"false"}),i.appendChild(o),Ne("ej2_instances",l,o),_3(i,"ej2_instances")}return o}function A1e(r){let e;const t=r.childNodes;for(let i=0;i<t.length;i++)if(e=t[i],3===e.nodeType)return e;return null}function tl(r,e=!1,t={}){const i=r("div",{className:"e-checkbox-wrapper e-css"});if(t.cssClass&&_([i],t.cssClass.split(" ")),t.enableRtl&&i.classList.add("e-rtl"),e){const s=r("span",{className:"e-ripple-container"});Ys(s,{isCenterRipple:!0,duration:400}),i.appendChild(s)}const n=r("span",{className:"e-frame e-icons"});if(t.checked&&n.classList.add("e-check"),i.appendChild(n),t.label){const s=r("span",{className:"e-label"});t.disableHtmlEncode?s.textContent=t.label:s.innerHTML=t.label,i.appendChild(s)}return i}function Jw(r,e){if(e){const t=document.createEvent("MouseEvents");t.initEvent(r.type,!1,!0),e.dispatchEvent(t)}}function Lq(r,e){r.element.getAttribute("ejs-for")&&e.appendChild(r.createElement("input",{attrs:{name:r.name||r.element.name,value:"false",type:"hidden"}}))}var cu=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};new Ww;let ks=(()=>{let r=class extends an{constructor(t,i){super(t,i)}preRender(){}render(){this.initialize(),this.removeRippleEffect=Ys(this.element,{selector:".e-btn"}),this.renderComplete()}initialize(){if(this.cssClass&&_([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content){const t=this.enableHtmlSanitizer?Xr.sanitize(this.content):this.content;this.element.innerHTML=t}this.setIconCss(),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled?this.controlStatus(this.disabled):this.wireEvents()}controlStatus(t){this.element.disabled=t}setIconCss(){if(this.iconCss){const t=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(t.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");const i=this.element.childNodes[0];!i||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(t):this.element.insertBefore(t,i)}}wireEvents(){this.isToggle&&C.add(this.element,"click",this.btnClickHandler,this)}unWireEvents(){this.isToggle&&C.remove(this.element,"click",this.btnClickHandler)}btnClickHandler(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")}destroy(){let t=["e-primary","e-rtl","e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),super.destroy(),T([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));const i=this.element.querySelector("span.e-btn-icon");i&&de(i),this.unWireEvents(),dp&&this.removeRippleEffect()}getModuleName(){return"btn"}getPersistData(){return this.addOnPersist([])}static Inject(){}onPropertyChanged(t,i){let n=this.element.querySelector("span.e-btn-icon");for(const s of Object.keys(t))switch(s){case"isPrimary":t.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(t.disabled);break;case"iconCss":n?t.iconCss?(n.className="e-btn-icon "+t.iconCss,this.element.textContent.trim()&&n.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):de(n):this.setIconCss();break;case"iconPosition":T([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),n=this.element.querySelector("span.e-btn-icon"),n&&de(n),this.setIconCss();break;case"cssClass":i.cssClass&&T([this.element],i.cssClass.split(" ")),t.cssClass&&_([this.element],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl");break;case"content":A1e(this.element)||this.element.classList.remove("e-icon-btn"),this.enableHtmlSanitizer&&(t.content=Xr.sanitize(t.content)),this.element.innerHTML=t.content,this.setIconCss();break;case"isToggle":t.isToggle?C.add(this.element,"click",this.btnClickHandler,this):(C.remove(this.element,"click",this.btnClickHandler),T([this.element],["e-active"]))}}click(){this.element.click()}focusIn(){this.element.focus()}};return cu([y("Left")],r.prototype,"iconPosition",void 0),cu([y("")],r.prototype,"iconCss",void 0),cu([y(!1)],r.prototype,"disabled",void 0),cu([y(!1)],r.prototype,"isPrimary",void 0),cu([y("")],r.prototype,"cssClass",void 0),cu([y("")],r.prototype,"content",void 0),cu([y(!1)],r.prototype,"isToggle",void 0),cu([y()],r.prototype,"locale",void 0),cu([y(!1)],r.prototype,"enableHtmlSanitizer",void 0),cu([E()],r.prototype,"created",void 0),r=cu([Pi],r),r})();var Td=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const O3="e-check",Oq="e-checkbox-disabled",Zw="e-frame",B3="e-stop",N3="e-label",aD="e-ripple-container",V3="e-ripple-check",H3="e-ripple-stop",z3="e-rtl",j3="e-checkbox-wrapper",P1e=["title","class","style","disabled","readonly","name","value"];let Gl=class extends an{constructor(e,t){super(e,t),this.isFocused=!1,this.isMouseClick=!1,this.clickTriggered=!1,this.validCheck=!0}changeState(e){let t,i;const n=this.getWrapper().getElementsByClassName(Zw)[0];dp&&(i=this.getWrapper().getElementsByClassName(aD)[0]),"check"===e?(n.classList.remove(B3),n.classList.add(O3),i&&(i.classList.remove(H3),i.classList.add(V3)),t="true",this.element.checked=!0,this.element.required&&this.validCheck?(this.element.checked=!1,this.validCheck=!1):this.element.required&&(this.validCheck=!0)):"uncheck"===e?(T([n],[O3,B3]),i&&T([i],[V3,H3]),t="false",this.element.checked=!1,this.element.required&&this.validCheck?(this.element.checked=!0,this.validCheck=!1):this.element.required&&(this.validCheck=!0)):(n.classList.remove(O3),n.classList.add(B3),i&&(i.classList.remove(V3),i.classList.add(H3)),t="mixed",this.element.indeterminate=!0),this.getWrapper().setAttribute("aria-checked",t)}clickHandler(e){if("INPUT"===e.target.tagName&&this.clickTriggered)return void(this.clickTriggered=!1);("SPAN"===e.target.tagName||"LABEL"===e.target.tagName)&&(this.clickTriggered=!0),this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);const t={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",t),e.stopPropagation()}destroy(){let e=this.getWrapper();super.destroy(),this.wrapper&&(e=this.wrapper,this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(this.getWrapper()&&e.parentNode&&e.parentNode.insertBefore(this.element,e),de(e),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(t=>{this.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML=""))}focusHandler(){this.isFocused=!0}focusOutHandler(){const e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1}getModuleName(){return"checkbox"}getPersistData(){return this.addOnPersist(["checked","indeterminate"])}getWrapper(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null}initialize(){h(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&"boolean"==typeof this.value&&!0===this.value&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check"),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()}initWrapper(){let e=this.element.parentElement;e.classList.contains(j3)||(e=this.createElement("div",{className:j3,attrs:{"aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));const t=this.createElement("label",{attrs:{for:this.element.id}}),i=this.createElement("span",{className:"e-icons "+Zw});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(z3),this.cssClass&&_([e],this.cssClass.split(" ")),e.appendChild(t),t.appendChild(this.element),Lq(this,t),t.appendChild(i),dp){const n=this.createElement("span",{className:aD});"Before"===this.labelPosition?t.appendChild(n):t.insertBefore(n,i),Ys(n,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}labelMouseDownHandler(e){this.isMouseClick=!0,Jw(e,this.getWrapper().getElementsByClassName(aD)[0])}labelMouseUpHandler(e){this.isMouseClick=!0;const t=this.getWrapper().getElementsByClassName(aD)[0];if(t){const i=t.querySelectorAll(".e-ripple-element");for(let n=0;n<i.length-1;n++)t.removeChild(t.childNodes[n]);Jw(e,t)}}onPropertyChanged(e,t){const i=this.getWrapper();for(const n of Object.keys(e))switch(n){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(Oq),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&T([i],t.cssClass.split(" ")),e.cssClass&&_([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?i.classList.add(z3):i.classList.remove(z3);break;case"label":this.setText(e.label);break;case"labelPosition":{const s=i.getElementsByClassName(N3)[0],o=i.getElementsByTagName("label")[0];de(s),"After"===e.labelPosition?o.appendChild(s):o.insertBefore(s,i.getElementsByClassName(Zw)[0]);break}case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&"object"==typeof e.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}}preRender(){let e=this.element;this.tagName=this.element.tagName,e=L3(this.createElement,"EJS-CHECKBOX","checkbox",e,j3,"checkbox"),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=Gn("e-"+this.getModuleName()))}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()}setDisabled(){const e=this.getWrapper();this.element.disabled=!0,e.classList.add(Oq),e.setAttribute("aria-disabled","true")}setText(e){const t=this.getWrapper();if(!t)return;let i=t.getElementsByClassName(N3)[0];if(i)i.textContent=e;else{e=this.enableHtmlSanitizer?Xr.sanitize(e):e,i=this.createElement("span",{className:N3,innerHTML:e});const n=t.getElementsByTagName("label")[0];"Before"===this.labelPosition?n.insertBefore(i,t.getElementsByClassName(Zw)[0]):n.appendChild(i)}}changeHandler(e){e.stopPropagation()}formResetHandler(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue}unWireEvents(){const e=this.wrapper;C.remove(e,"click",this.clickHandler),C.remove(this.element,"keyup",this.keyUpHandler),C.remove(this.element,"focus",this.focusHandler),C.remove(this.element,"focusout",this.focusOutHandler);const t=e.getElementsByTagName("label")[0];C.remove(t,"mousedown",this.labelMouseDownHandler),C.remove(t,"mouseup",this.labelMouseUpHandler);const i=D(this.element,"form");i&&C.remove(i,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&C.remove(this.element,"change",this.changeHandler)}wireEvents(){const e=this.getWrapper();C.add(e,"click",this.clickHandler,this),C.add(this.element,"keyup",this.keyUpHandler,this),C.add(this.element,"focus",this.focusHandler,this),C.add(this.element,"focusout",this.focusOutHandler,this);const t=e.getElementsByTagName("label")[0];C.add(t,"mousedown",this.labelMouseDownHandler,this),C.add(t,"mouseup",this.labelMouseUpHandler,this);const i=D(this.element,"form");i&&C.add(i,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&C.add(this.element,"change",this.changeHandler,this)}updateVueArrayModel(e){if(this.isVue&&"object"==typeof this.value){const t=this.element.value;if(t&&this.value){if(!e){const i=this.value.indexOf(t);return this.checked?i<0&&this.value.push(t):i>-1&&this.value.splice(i,1),this.value}for(let i=0;i<this.value.length;i++)t===this.value[i]&&(this.changeState("check"),this.setProperties({checked:!0},!0))}}return this.validCheck?this.element.checked:!this.element.checked}updateHtmlAttributeToWrapper(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(P1e.indexOf(e)>-1){const t=this.getWrapper();"class"===e?_([t],this.htmlAttributes[e].split(" ")):"title"===e?t.setAttribute(e,this.htmlAttributes[e]):"style"===e?this.getWrapper().getElementsByClassName(Zw)[0].setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}click(){this.element.click()}focusIn(){this.element.focus()}};Td([E()],Gl.prototype,"change",void 0),Td([E()],Gl.prototype,"created",void 0),Td([y(!1)],Gl.prototype,"checked",void 0),Td([y("")],Gl.prototype,"cssClass",void 0),Td([y(!1)],Gl.prototype,"disabled",void 0),Td([y(!1)],Gl.prototype,"indeterminate",void 0),Td([y("")],Gl.prototype,"label",void 0),Td([y("After")],Gl.prototype,"labelPosition",void 0),Td([y("")],Gl.prototype,"name",void 0),Td([y("")],Gl.prototype,"value",void 0),Td([y(!1)],Gl.prototype,"enableHtmlSanitizer",void 0),Td([y({})],Gl.prototype,"htmlAttributes",void 0),Gl=Td([Pi],Gl);var G3,wh=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const q3="e-label",Bq="e-ripple-container",W3="e-rtl",U3="e-radio-wrapper",L1e=["title","class","style","disabled","readonly","name","value"];let da=G3=class extends an{constructor(e,t){super(e,t),this.isFocused=!1}changeHandler(e){this.checked=!0,this.dataBind();let t=this.element.getAttribute("value");t=this.isVue&&t?this.element.value:this.value,this.trigger("change",{value:t,event:e}),"EJS-RADIOBUTTON"===this.tagName&&e.stopPropagation()}updateChange(){let e,t;const i=this.getRadioGroup();for(let n=0;n<i.length;n++)e=i[n],e!==this.element&&(t=jl(e,G3),t.checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(t.angularValue=this.value))}destroy(){const e=this.wrapper;super.destroy(),e&&(this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(e.parentNode&&e.parentNode.insertBefore(this.element,e),de(e),this.element.checked=!1,["name","value","disabled"].forEach(t=>{this.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML=""))}focusHandler(){this.isFocused=!0}focusOutHandler(){const e=this.getLabel();e&&e.classList.remove("e-focus")}getModuleName(){return"radio"}getSelectedValue(){let e;const t=this.getRadioGroup();for(let i=0,n=t.length;i<n;i++)if(e=t[i],e.checked)return e.value;return""}getRadioGroup(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')}getPersistData(){return this.addOnPersist(["checked"])}getWrapper(){return this.element?this.element.parentElement:null}getLabel(){return this.element?this.element.nextElementSibling:null}initialize(){h(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);const e=this.element.getAttribute("value");this.isVue&&e&&e===this.value&&(this.checked=!0),(this.isVue?this.value&&!e:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()}initWrapper(){let e,t=this.element.parentElement;t.classList.contains(U3)||(t=this.createElement("div",{className:U3}),this.element.parentNode.insertBefore(t,this.element));const i=this.createElement("label",{attrs:{for:this.element.id}});t.appendChild(this.element),t.appendChild(i),dp&&(e=this.createElement("span",{className:Bq}),i.appendChild(e),Ys(e,{duration:400,isCenterRipple:!0})),t.classList.add("e-wrapper"),this.enableRtl&&i.classList.add(W3),this.cssClass&&_([t],this.cssClass.split(" ")),this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getLabel().classList.add("e-focus")}labelRippleHandler(e){Jw(e,this.getLabel().getElementsByClassName(Bq)[0])}formResetHandler(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&Le(this.element,{checked:"true"})}onPropertyChanged(e,t){const i=this.getWrapper(),n=this.getLabel();for(const s of Object.keys(e))switch(s){case"checked":e.checked&&this.updateChange(),this.element.checked=e.checked;break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&T([i],t.cssClass.split(" ")),e.cssClass&&_([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?n.classList.add(W3):n.classList.remove(W3);break;case"label":this.setText(e.label);break;case"labelPosition":"Before"===e.labelPosition?n.classList.add("e-right"):n.classList.remove("e-right");break;case"name":this.element.setAttribute("name",e.name);break;case"value":if(!h(this.htmlAttributes)&&this.htmlAttributes.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttribute()}}preRender(){let e=this.element;if(this.formElement=D(this.element,"form"),this.tagName=this.element.tagName,e=L3(this.createElement,"EJS-RADIOBUTTON","radio",e,U3,"radio"),this.element=e,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=Gn("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){const t=this.element.getAttribute("formcontrolname");t&&(this.setProperties({name:t},!0),this.element.setAttribute("name",t))}}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.wrapper=this.getWrapper()}setDisabled(){this.element.disabled=!0}setText(e){const t=this.getLabel();let i=t.getElementsByClassName(q3)[0];i?i.textContent=e:(e=this.enableHtmlSanitizer?Xr.sanitize(e):e,i=this.createElement("span",{className:q3,innerHTML:e}),t.appendChild(i)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")}updateHtmlAttribute(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(L1e.indexOf(e)>-1){const t=this.element.parentElement;"class"===e?_([t],this.htmlAttributes[e].split(" ")):"title"===e||"style"===e?t.setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}unWireEvents(){const e=this.wrapper;C.remove(this.element,"change",this.changeHandler),C.remove(this.element,"focus",this.focusHandler),C.remove(this.element,"focusout",this.focusOutHandler),C.remove(this.element,"keyup",this.keyUpHandler);const t=e.getElementsByTagName("label")[0];t&&(C.remove(t,"mousedown",this.labelRippleHandler),C.remove(t,"mouseup",this.labelRippleHandler)),this.formElement&&C.remove(this.formElement,"reset",this.formResetHandler)}wireEvents(){const e=this.getLabel();C.add(this.element,"change",this.changeHandler,this),C.add(this.element,"keyup",this.keyUpHandler,this),C.add(this.element,"focus",this.focusHandler,this),C.add(this.element,"focusout",this.focusOutHandler,this);const t=e.getElementsByClassName(q3)[0];t&&(C.add(t,"mousedown",this.labelRippleHandler,this),C.add(t,"mouseup",this.labelRippleHandler,this)),this.formElement&&C.add(this.formElement,"reset",this.formResetHandler,this)}click(){this.element.click()}focusIn(){this.element.focus()}};wh([E()],da.prototype,"change",void 0),wh([E()],da.prototype,"created",void 0),wh([y(!1)],da.prototype,"checked",void 0),wh([y("")],da.prototype,"cssClass",void 0),wh([y(!1)],da.prototype,"disabled",void 0),wh([y("")],da.prototype,"label",void 0),wh([y("After")],da.prototype,"labelPosition",void 0),wh([y("")],da.prototype,"name",void 0),wh([y("")],da.prototype,"value",void 0),wh([y(!1)],da.prototype,"enableHtmlSanitizer",void 0),wh([y({})],da.prototype,"htmlAttributes",void 0),da=G3=wh([Pi],da);var hp=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const Nq="e-switch-disabled",cD="e-ripple-container",Vq="e-ripple-check",$3="e-rtl",K3="e-switch-wrapper",Hq="e-switch-active";let bh=class extends an{constructor(e,t){super(e,t),this.isFocused=!1,this.isDrag=!1}changeState(e){let t,i;const n=this.getWrapper(),s=n.querySelector(".e-switch-inner"),o=n.querySelector(".e-switch-handle");dp&&(i=n.getElementsByClassName(cD)[0]),e?(_([s,o],Hq),t="true",this.element.checked=!0,this.checked=!0,i&&_([i],[Vq])):(T([s,o],Hq),t="false",this.element.checked=!1,this.checked=!1,i&&T([i],[Vq])),n.setAttribute("aria-checked",t)}clickHandler(e){this.isDrag=!1,this.focusOutHandler(),this.changeState(!this.checked),this.element.focus(),this.trigger("change",{checked:this.element.checked,event:e})}destroy(){super.destroy(),this.disabled||this.unWireEvents(),function M1e(r,e,t){"INPUT"===t?(e.parentNode.insertBefore(r.element,e),de(e),r.element.checked=!1,["name","value","disabled"].forEach(i=>{r.element.removeAttribute(i)})):(["role","aria-checked","class"].forEach(i=>{e.removeAttribute(i)}),e.innerHTML="")}(this,this.getWrapper(),this.tagName)}focusHandler(){this.isFocused=!0}focusOutHandler(){this.getWrapper().classList.remove("e-focus")}getModuleName(){return"switch"}getPersistData(){return this.addOnPersist(["checked"])}getWrapper(){return this.element.parentElement}initialize(){h(this.initialSwitchCheckedValue)&&(this.initialSwitchCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState(!0),this.disabled&&this.setDisabled(),(this.onLabel||this.offLabel)&&this.setLabel(this.onLabel,this.offLabel)}initWrapper(){let e=this.element.parentElement;e.classList.contains(K3)||(e=this.createElement("div",{className:K3,attrs:{"aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));const t=this.createElement("span",{className:"e-switch-inner"}),i=this.createElement("span",{className:"e-switch-on"}),n=this.createElement("span",{className:"e-switch-off"}),s=this.createElement("span",{className:"e-switch-handle"});if(e.appendChild(this.element),Lq(this,e),t.appendChild(i),t.appendChild(n),e.appendChild(t),e.appendChild(s),dp){const o=this.createElement("span",{className:cD});s.appendChild(o),Ys(o,{duration:400,isCenterRipple:!0})}e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add($3),this.cssClass&&_([e],this.cssClass.split(" "))}onPropertyChanged(e,t){const i=this.getWrapper();for(const n of Object.keys(e))switch(n){case"checked":this.changeState(e.checked);break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(Nq),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"value":this.element.setAttribute("value",e.value);break;case"name":this.element.setAttribute("name",e.name);break;case"onLabel":case"offLabel":this.setLabel(e.onLabel,e.offLabel);break;case"enableRtl":e.enableRtl?i.classList.add($3):i.classList.remove($3);break;case"cssClass":t.cssClass&&T([i],t.cssClass.split(" ")),e.cssClass&&_([i],e.cssClass.split(" "))}}preRender(){const e=this.element;this.formElement=D(this.element,"form"),this.tagName=this.element.tagName,function F1e(r,e,t,i,n){i=L3(r.createElement,e,"checkbox",i,t,n),r.element=i,"checkbox"!==r.element.getAttribute("type")&&r.element.setAttribute("type","checkbox"),r.element.id||(r.element.id=Gn("e-"+n))}(this,"EJS-SWITCH",K3,e,this.getModuleName())}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}rippleHandler(e){Jw(e,this.getWrapper().getElementsByClassName(cD)[0]),"mousedown"===e.type&&e.currentTarget.classList.contains("e-switch-wrapper")&&1===e.which&&(this.isDrag=!0,this.isFocused=!1)}rippleTouchHandler(e){const t=this.getWrapper().getElementsByClassName(cD)[0];if(t){const i=document.createEvent("MouseEvents");i.initEvent(e,!1,!0),t.dispatchEvent(i)}}setDisabled(){const e=this.getWrapper();this.element.disabled=!0,e.classList.add(Nq),e.setAttribute("aria-disabled","true")}setLabel(e,t){const i=this.getWrapper();e&&(i.querySelector(".e-switch-on").textContent=e),t&&(i.querySelector(".e-switch-off").textContent=t)}switchFocusHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}switchMouseUp(e){const t=e.target;"touchmove"===e.type&&e.preventDefault(),"touchstart"===e.type&&(this.isDrag=!0,this.rippleTouchHandler("mousedown")),this.isDrag&&("mouseup"===e.type&&t.className.indexOf("e-switch")<0||"touchend"===e.type)&&(this.clickHandler(e),this.rippleTouchHandler("mouseup"),e.preventDefault())}formResetHandler(){this.checked=this.initialSwitchCheckedValue,this.element.checked=this.initialSwitchCheckedValue}toggle(){this.clickHandler()}wireEvents(){const e=this.getWrapper();this.delegateMouseUpHandler=this.switchMouseUp.bind(this),this.delegateKeyUpHandler=this.switchFocusHandler.bind(this),C.add(e,"click",this.clickHandler,this),C.add(this.element,"focus",this.focusHandler,this),C.add(this.element,"focusout",this.focusOutHandler,this),C.add(this.element,"mouseup",this.delegateMouseUpHandler,this),C.add(this.element,"keyup",this.delegateKeyUpHandler,this),C.add(e,"mousedown mouseup",this.rippleHandler,this),C.add(e,"touchstart touchmove touchend",this.switchMouseUp,this),this.formElement&&C.add(this.formElement,"reset",this.formResetHandler,this)}unWireEvents(){const e=this.getWrapper();C.remove(e,"click",this.clickHandler),C.remove(this.element,"focus",this.focusHandler),C.remove(this.element,"focusout",this.focusOutHandler),C.remove(this.element,"mouseup",this.delegateMouseUpHandler),C.remove(this.element,"keyup",this.delegateKeyUpHandler),C.remove(e,"mousedown mouseup",this.rippleHandler),C.remove(e,"touchstart touchmove touchend",this.switchMouseUp),this.formElement&&C.remove(this.formElement,"reset",this.formResetHandler)}click(){this.element.click()}focusIn(){this.element.focus()}};hp([E()],bh.prototype,"change",void 0),hp([E()],bh.prototype,"created",void 0),hp([y(!1)],bh.prototype,"checked",void 0),hp([y("")],bh.prototype,"cssClass",void 0),hp([y(!1)],bh.prototype,"disabled",void 0),hp([y("")],bh.prototype,"name",void 0),hp([y("")],bh.prototype,"onLabel",void 0),hp([y("")],bh.prototype,"offLabel",void 0),hp([y("")],bh.prototype,"value",void 0),bh=hp([Pi],bh);var ql=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const Vi={chipSet:"e-chip-set",chip:"e-chip",avatar:"e-chip-avatar",text:"e-chip-text",icon:"e-chip-icon",delete:"e-chip-delete",deleteIcon:"e-dlt-btn",multiSelection:"e-multi-selection",singleSelection:"e-selection",active:"e-active",chipWrapper:"e-chip-avatar-wrap",iconWrapper:"e-chip-icon-wrap",focused:"e-focused",disabled:"e-disabled",rtl:"e-rtl"};let il=class extends an{constructor(e,t){super(e,t),this.multiSelectedChip=[]}preRender(){}chipType(){return this.chips&&this.chips.length&&this.chips.length>0}render(){this.type=this.chips.length?"chipset":this.text||this.element.innerText?"chip":"chipset",this.setAttributes(),this.createChip(),this.setRtl(),this.select(this.selectedChips,void 0),this.wireEvent(!1),this.rippleFunction=Ys(this.element,{selector:".e-chip"}),this.renderComplete()}createChip(){this.innerText=this.element.innerText&&0!==this.element.innerText.length?this.element.innerText.trim():this.element.innerText,this.element.innerHTML="",this.chipCreation("chip"===this.type?[this.innerText?this.innerText:this.text]:this.chips)}setAttributes(){"chip"===this.type?(this.element.tabIndex=0,this.element.setAttribute("role","option")):(this.element.classList.add(Vi.chipSet),this.element.setAttribute("role","listbox"),"Multiple"===this.selection?(this.element.classList.add(Vi.multiSelection),this.element.setAttribute("aria-multiselectable","true")):"Single"===this.selection?(this.element.classList.add(Vi.singleSelection),this.element.setAttribute("aria-multiselectable","false")):this.element.setAttribute("aria-multiselectable","false"))}setRtl(){this.element.classList[this.enableRtl?"add":"remove"](Vi.rtl)}chipCreation(e){let t=[];for(let i=0;i<e.length;i++){const n=this.getFieldValues(e[i]),s=this.elementCreation(n),o=(Vi.chip+" "+(n.enabled?" ":Vi.disabled)+" "+(n.avatarIconCss||n.avatarText?Vi.chipWrapper:n.leadingIconCss?Vi.iconWrapper:" ")+" "+n.cssClass).split(" ").filter(l=>l);if(this.chipType()){const l=this.createElement("DIV",{className:o.join(" "),attrs:{tabIndex:"0",role:"option","aria-label":n.text,"aria-selected":"false"}});n.value&&l.setAttribute("data-value",n.value.toString()),Jt(s,l),t.push(l)}else t=s,_([this.element],o),this.element.setAttribute("aria-label",n.text),n.value&&this.element.setAttribute("data-value",n.value.toString())}Jt(t,this.element)}getFieldValues(e){const t="false"!==this.enabled.toString();return{text:"object"==typeof e?e.text?e.text.toString():this.text.toString():this.chipType()?e.toString():this.innerText?this.innerText:this.text.toString(),cssClass:"object"==typeof e&&e.cssClass?e.cssClass.toString():this.cssClass.toString(),leadingIconCss:"object"==typeof e&&e.leadingIconCss?e.leadingIconCss.toString():this.leadingIconCss.toString(),avatarIconCss:"object"==typeof e&&e.avatarIconCss?e.avatarIconCss.toString():this.avatarIconCss.toString(),avatarText:"object"==typeof e&&e.avatarText?e.avatarText.toString():this.avatarText.toString(),trailingIconCss:"object"==typeof e&&e.trailingIconCss?e.trailingIconCss.toString():this.trailingIconCss.toString(),enabled:"object"==typeof e?h(e.enabled)?t:"false"!==e.enabled.toString():t,value:"object"==typeof e&&e.value?e.value.toString():null,leadingIconUrl:"object"==typeof e&&e.leadingIconUrl?e.leadingIconUrl.toString():this.leadingIconUrl,trailingIconUrl:"object"==typeof e&&e.trailingIconUrl?e.trailingIconUrl.toString():this.trailingIconUrl}}elementCreation(e){const t=[];if(e.avatarText||e.avatarIconCss){const n=(Vi.avatar+" "+e.avatarIconCss).trim(),s=this.createElement("span",{className:n});s.innerText=e.avatarText,t.push(s)}else if(e.leadingIconCss){const n=(Vi.icon+" "+e.leadingIconCss).trim(),s=this.createElement("span",{className:n});t.push(s)}else if(e.leadingIconUrl){const n=(Vi.avatar+" image-url").trim(),s=this.createElement("span",{className:n});s.style.backgroundImage="url("+e.leadingIconUrl+")",t.push(s)}const i=this.createElement("span",{className:Vi.text});if(i.innerText=e.text,t.push(i),e.trailingIconCss||this.chipType()&&this.enableDelete){const n=(Vi.delete+" "+(e.trailingIconCss?e.trailingIconCss:Vi.deleteIcon)).trim(),s=this.createElement("span",{className:n});t.push(s)}else if(e.trailingIconUrl){const n="trailing-icon-url".trim(),s=this.createElement("span",{className:n});s.style.backgroundImage="url("+e.trailingIconUrl+")",t.push(s)}return t}find(e){let t;const i=e instanceof HTMLElement?e:this.element.querySelectorAll("."+Vi.chip)[e];return i&&this.chipType()&&(t={text:void 0,index:void 0,element:void 0,data:void 0},t.index=Array.prototype.slice.call(this.element.querySelectorAll("."+Vi.chip)).indexOf(i),t.text="object"==typeof this.chips[t.index]?this.chips[t.index].text?this.chips[t.index].text.toString():"":this.chips[t.index].toString(),t.data=this.chips[t.index],t.element=i),t}add(e){if("chip"!==this.type){const t=e instanceof Array?e:[e];this.chips.push(...t),this.chipCreation(t)}}select(e,t){this.onSelect(e,!1,t)}multiSelection(e){const t=this.element.querySelectorAll(".e-chip");for(let i=0;i<e.length;i++)if("string"==typeof e[i]){for(let n=0;n<t.length;n++)if(e[i]!==n&&e[i]===t[n].attributes[5].value){this.multiSelectedChip.push(n);break}}else this.multiSelectedChip.push(e[i])}onSelect(e,t,i){let n,s,o;if(this.chipType()&&"None"!==this.selection){if(t){const a=this.element.querySelectorAll("."+Vi.chip);for(let c=0;c<a.length;c++)a[c].setAttribute("aria-selected","false"),a[c].classList.remove(Vi.active)}const l=e instanceof Array?e:[e];for(let a=0;a<l.length;a++){let c=l[a]instanceof HTMLElement?l[a]:this.element.querySelectorAll("."+Vi.chip)[l[a]];if("index"!==i)for(let d=0;d<this.chips.length;d++){s=this.element.querySelectorAll("."+Vi.chip)[d];const u=this.getFieldValues(this.chips[d]);"value"===i?null!==u.value&&(o=s.dataset.value):"text"===i&&(o=s.innerText),o===l[a].toString()&&(n=d,c=this.element.querySelectorAll("."+Vi.chip)[n])}c instanceof HTMLElement&&this.selectionHandler(c)}}}remove(e){if(this.chipType()){const t=e instanceof Array?e:[e],i=[],n=this.element.querySelectorAll("."+Vi.chip);t.forEach(s=>{const o=s instanceof HTMLElement?s:n[s];o instanceof HTMLElement&&i.push(o)}),i.forEach(s=>{const o=this.element.querySelectorAll("."+Vi.chip),l=Array.prototype.slice.call(o).indexOf(s);this.deleteHandler(s,l)})}}getSelectedChips(){let e;if(this.chipType()&&"None"!==this.selection){const t={texts:[],Indexes:[],data:[],elements:[]},i=this.element.querySelectorAll("."+Vi.active);for(let s=0;s<i.length;s++){const o=i[s];t.elements.push(o);const l=Array.prototype.slice.call(this.element.querySelectorAll("."+Vi.chip)).indexOf(o);t.Indexes.push(l),t.data.push(this.chips[l]);const a="object"==typeof this.chips[l]?this.chips[l].text?this.chips[l].text.toString():null:this.chips[l].toString();t.texts.push(a)}const n={text:t.texts[0],index:t.Indexes[0],data:t.data[0],element:t.elements[0]};e=h(n.index)?void 0:"Multiple"===this.selection?t:n}return e}wireEvent(e){e?(C.remove(this.element,"click",this.clickHandler),C.remove(this.element,"focusout",this.focusOutHandler),C.remove(this.element,"keydown",this.keyHandler),C.remove(this.element,"keyup",this.keyHandler)):(C.add(this.element,"click",this.clickHandler,this),C.add(this.element,"focusout",this.focusOutHandler,this),C.add(this.element,"keydown",this.keyHandler,this),C.add(this.element,"keyup",this.keyHandler,this))}keyHandler(e){e.target.classList.contains(Vi.chip)&&("keydown"===e.type?13===e.keyCode||32===e.keyCode?this.clickHandler(e):46===e.keyCode&&this.enableDelete&&this.clickHandler(e,!0):9===e.keyCode&&this.focusInHandler(e.target))}focusInHandler(e){e.classList.contains(Vi.focused)||e.classList.add(Vi.focused)}focusOutHandler(e){const t=D(e.target,"."+Vi.chip),i=this.chipType()?this.element.querySelector("."+Vi.focused):this.element.classList.contains(Vi.focused)?this.element:null;t&&i&&i.classList.remove(Vi.focused)}clickHandler(e,t=!1){const i=D(e.target,"."+Vi.chip);if(i){let n;if(this.chipType())n=this.find(i);else{const s=Array.prototype.slice.call(this.element.querySelectorAll("."+Vi.chip)).indexOf(i);n={text:this.innerText?this.innerText:this.text,element:i,data:this.text,index:s}}n.event=e,n.cancel=!1,this.trigger("beforeClick",n,s=>{s.cancel||this.clickEventHandler(s.element,e,t)})}}clickEventHandler(e,t,i){if(this.chipType()){const n=this.find(e);n.event=t,(t.target.classList.contains(Vi.deleteIcon)?t.target:i?e.querySelector("."+Vi.deleteIcon):void 0)&&this.enableDelete?(n.cancel=!1,this.trigger("delete",n,l=>{if(!l.cancel){this.deleteHandler(l.element,l.index),this.selectionHandler(e),n.selected=l.element.classList.contains(Vi.active),this.trigger("click",n);const c=this.element.querySelectorAll("."+Vi.chip)[l.index];c&&(c.focus(),this.focusInHandler(c))}})):"None"!==this.selection?(this.selectionHandler(e),n.selected=e.classList.contains(Vi.active),this.trigger("click",n)):(this.focusInHandler(e),this.trigger("click",n))}else this.focusInHandler(e),this.trigger("click",{text:this.innerText?this.innerText:this.text,element:e,data:this.text,event:t})}selectionHandler(e){if("Single"===this.selection){const t=this.element.querySelector("."+Vi.active);t&&t!==e&&(t.classList.remove(Vi.active),t.setAttribute("aria-selected","false")),this.setProperties({selectedChips:null},!0)}else this.setProperties({selectedChips:[]},!0);e.classList.contains(Vi.active)?(e.classList.remove(Vi.active),e.setAttribute("aria-selected","false")):(e.classList.add(Vi.active),e.setAttribute("aria-selected","true")),this.updateSelectedChips()}updateSelectedChips(){const e=this.element.querySelectorAll(".e-chip"),t=[],i=[];let s,n=null;for(let o=0;o<e.length;o++){const l=this.element.querySelectorAll(".e-chip")[o];if("true"===l.getAttribute("aria-selected")){if(s=l.getAttribute("data-value"),"Single"===this.selection&&l.classList.contains("e-active")){n=s||o;break}n=s?i.push(s):t.push(o)}}this.setProperties({selectedChips:"Single"===this.selection?n:s?i:t},!0)}deleteHandler(e,t){const i=this.find(e);this.chips.splice(t,1),this.setProperties({chips:this.chips},!0),de(e),this.trigger("deleted",i)}destroy(){T([this.element],[Vi.chipSet,Vi.chip,Vi.rtl,Vi.multiSelection,Vi.singleSelection,Vi.disabled,Vi.chipWrapper,Vi.iconWrapper,Vi.active,Vi.focused].concat(this.cssClass.toString().split(" ").filter(e=>e))),this.removeMultipleAttributes(["tabindex","role","aria-label","aria-multiselectable"],this.element),this.wireEvent(!0),this.rippleFunction(),super.destroy(),this.element.innerHTML="",this.element.innerText=this.innerText}removeMultipleAttributes(e,t){e.forEach(i=>{t.removeAttribute(i)})}getPersistData(){return this.addOnPersist([])}getModuleName(){return"chip-list"}onPropertyChanged(e,t){let i;for(const n of Object.keys(e))switch(n){case"chips":case"text":case"avatarText":case"avatarIconCss":case"leadingIconCss":case"trailingIconCss":case"selection":case"enableDelete":case"enabled":this.refresh();break;case"cssClass":this.chipType()?this.refresh():(T([this.element],t.cssClass.toString().split(" ").filter(s=>s)),_([this.element],e.cssClass.toString().split(" ").filter(s=>s)));break;case"selectedChips":T(this.element.querySelectorAll(".e-active"),"e-active"),"Multiple"===this.selection?(this.multiSelectedChip=[],this.multiSelection(e.selectedChips),this.onSelect(this.multiSelectedChip,!0,i),this.updateSelectedChips()):this.onSelect(e.selectedChips,!0,i);break;case"enableRtl":this.setRtl()}}};ql([y([])],il.prototype,"chips",void 0),ql([y("")],il.prototype,"text",void 0),ql([y("")],il.prototype,"avatarText",void 0),ql([y("")],il.prototype,"avatarIconCss",void 0),ql([y("")],il.prototype,"leadingIconCss",void 0),ql([y("")],il.prototype,"trailingIconCss",void 0),ql([y("")],il.prototype,"leadingIconUrl",void 0),ql([y("")],il.prototype,"trailingIconUrl",void 0),ql([y("")],il.prototype,"cssClass",void 0),ql([y(!0)],il.prototype,"enabled",void 0),ql([y([])],il.prototype,"selectedChips",void 0),ql([y("None")],il.prototype,"selection",void 0),ql([y(!1)],il.prototype,"enableDelete",void 0),ql([E()],il.prototype,"created",void 0),ql([E()],il.prototype,"click",void 0),ql([E()],il.prototype,"beforeClick",void 0),ql([E()],il.prototype,"delete",void 0),ql([E()],il.prototype,"deleted",void 0),il=ql([Pi],il);let up,Km,dD,eb,Qm,Rd,Y3=!1;function Ym(r,e){let t=!1;const i={left:0,top:0},n=r;if(!r||!e)return i;for(h(e.offsetParent)&&"fixed"===e.style.position&&(t=!0);(e.offsetParent||t)&&r&&e.offsetParent!==r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,r=r.offsetParent;for(r=n;(e.offsetParent||t)&&r&&e.offsetParent!==r;)i.left-=r.scrollLeft,i.top-=r.scrollTop,r=r.parentElement;return i}function jo(r,e,t,i,n){return Km=void 0,Km=n,Y3=!!i,r?(e||(e="left"),t||(t="top"),eb=r.ownerDocument,dD=r,function O1e(r,e,t){switch(up=dD.getBoundingClientRect(),e+r){case"topcenter":eg(Z3(),t),tg(hD(),t);break;case"topright":eg(J3(),t),tg(hD(),t);break;case"centercenter":eg(Z3(),t),tg(X3(),t);break;case"centerright":eg(J3(),t),tg(X3(),t);break;case"centerleft":eg(uD(),t),tg(X3(),t);break;case"bottomcenter":eg(Z3(),t),tg(Q3(),t);break;case"bottomright":eg(J3(),t),tg(Q3(),t);break;case"bottomleft":eg(uD(),t),tg(Q3(),t);break;default:eg(uD(),t),tg(hD(),t)}return t}(e.toLowerCase(),t.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function eg(r,e){e.left=r}function tg(r,e){e.top=r}function zq(){return eb.documentElement.scrollTop||eb.body.scrollTop}function jq(){return eb.documentElement.scrollLeft||eb.body.scrollLeft}function Q3(){return Y3?up.bottom:up.bottom+zq()}function X3(){return hD()+up.height/2}function hD(){return Y3?up.top:up.top+zq()}function uD(){return up.left+jq()}function J3(){const r=dD&&dD.classList.contains("e-date-range-wrapper")?Km?Km.width:0:Km&&up.width>=Km.width?Km.width:0;return up.right+jq()-r}function Z3(){return uD()+up.width/2}function eP(r,e=null,t={X:!1,Y:!1},i){if(!t.Y&&!t.X)return{left:0,top:0};const n=r.getBoundingClientRect();if(Rd=e,Qm=r.ownerDocument,i||(i=jo(r,"left","top")),t.X){const s=Rd?$q():Jq(),o=nP(),l=sP(),a=o-i.left,c=i.left+n.width-l;n.width>s?i.left=a>0&&c<=0?l-n.width:c>0&&a<=0?o:a>c?l-n.width:o:a>0?i.left+=a:c>0&&(i.left-=c)}if(t.Y){const s=Rd?Kq():Xq(),o=iP(),l=rP(),a=o-i.top,c=i.top+n.height-l;n.height>s?i.top=a>0&&c<=0?l-n.height:c>0&&a<=0?o:a>c?l-n.height:o:a>0?i.top+=a:c>0&&(i.top-=c)}return i}function df(r,e=null,t,i){const n=jo(r,"left","top");t&&(n.left=t),i&&(n.top=i);const s=[];Rd=e,Qm=r.ownerDocument;const o=r.getBoundingClientRect(),a=n.left,c=n.left+o.width,u=Uq(n.top,n.top+o.height),p=Gq(a,c);return u.topSide&&s.push("top"),p.rightSide&&s.push("right"),p.leftSide&&s.push("left"),u.bottomSide&&s.push("bottom"),s}function B1e(r,e,t,i,n,s,o=null,l={X:!0,Y:!0},a){if(!(e&&r&&n&&s&&(l.X||l.Y)))return;const c={TL:null,TR:null,BL:null,BR:null},d={TL:null,TR:null,BL:null,BR:null};let u;if("none"===window.getComputedStyle(r).display){const g=r.style.visibility;r.style.visibility="hidden",r.style.display="block",u=r.getBoundingClientRect(),r.style.removeProperty("display"),r.style.visibility=g}else u=r.getBoundingClientRect();const p={posX:n,posY:s,offsetX:t,offsetY:i,position:{left:0,top:0}};Rd=o,Qm=e.ownerDocument,function V1e(r,e,t,i,n){t.position=jo(r,t.posX,t.posY,i,n),e.TL=jo(r,"left","top",i,n),e.TR=jo(r,"right","top",i,n),e.BR=jo(r,"left","bottom",i,n),e.BL=jo(r,"right","bottom",i,n)}(e,c,p,a,u),tP(d,p,u),l.X&&qq(e,d,c,p,u,!0),l.Y&&c.TL.top>-1&&Wq(e,d,c,p,u,!0),function N1e(r,e,t){let i=0,n=0;if(null!=r.offsetParent&&("absolute"===getComputedStyle(r.offsetParent).position||"relative"===getComputedStyle(r.offsetParent).position)){const s=jo(r.offsetParent,"left","top",!1,t);i=s.left,n=s.top}r.style.top=e.position.top+e.offsetY-n+"px",r.style.left=e.position.left+e.offsetX-i+"px"}(r,p,u)}function tP(r,e,t){r.TL={top:e.position.top+e.offsetY,left:e.position.left+e.offsetX},r.TR={top:r.TL.top,left:r.TL.left+t.width},r.BL={top:r.TL.top+t.height,left:r.TL.left},r.BR={top:r.TL.top+t.height,left:r.TL.left+t.width}}function Gq(r,e){let t=!1,i=!1;return r-gD()<nP()&&(t=!0),e>sP()&&(i=!0),{leftSide:t,rightSide:i}}function qq(r,e,t,i,n,s){const o=Gq(e.TL.left,e.TR.left);t.TL.left-gD()<=nP()&&(o.leftSide=!1),t.TR.left>sP()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&(i.posX="right"===i.posX?"left":"right",i.offsetX=i.offsetX+n.width,i.offsetX=-1*i.offsetX,i.position=jo(r,i.posX,i.posY,!1),tP(e,i,n),s&&qq(r,e,t,i,n,!1))}function Wq(r,e,t,i,n,s){const o=Uq(e.TL.top,e.BL.top);t.TL.top-pD()<=iP()&&(o.topSide=!1),t.BL.top>=rP()&&r.getBoundingClientRect().bottom<window.innerHeight&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&(i.posY="top"===i.posY?"bottom":"top",i.offsetY=i.offsetY+n.height,i.offsetY=-1*i.offsetY,i.position=jo(r,i.posX,i.posY,!1,n),tP(e,i,n),s&&Wq(r,e,t,i,n,!1))}function Uq(r,e){let t=!1,i=!1;return r-pD()<iP()&&(t=!0),e>rP()&&(i=!0),{topSide:t,bottomSide:i}}function $q(){return Rd.getBoundingClientRect().width}function Kq(){return Rd.getBoundingClientRect().height}function Yq(){return Rd.getBoundingClientRect().left}function Qq(){return Rd.getBoundingClientRect().top}function iP(){return Rd?Qq():0}function nP(){return Rd?Yq():0}function sP(){return Rd?gD()+Yq()+$q():gD()+Jq()}function rP(){return Rd?pD()+Qq()+Kq():pD()+Xq()}function pD(){return Qm.documentElement.scrollTop||Qm.body.scrollTop}function gD(){return Qm.documentElement.scrollLeft||Qm.body.scrollLeft}function Xq(){return window.innerHeight}function Jq(){const r=window.innerWidth;let e=document.documentElement.getBoundingClientRect();return r-(r-(h(document.documentElement)?0:e.width))}var nl=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Zq=(()=>{class r extends Nt{}return nl([y("left")],r.prototype,"X",void 0),nl([y("top")],r.prototype,"Y",void 0),r})();const Wl_OPEN="e-popup-open",Wl_CLOSE="e-popup-close";let wc=(()=>{let r=class extends an{constructor(t,i){super(i,t)}onPropertyChanged(t,i){for(const n of Object.keys(t))switch(n){case"width":lt(this.element,{width:$e(t.width)});break;case"height":lt(this.element,{height:$e(t.height)});break;case"zIndex":lt(this.element,{zIndex:t.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":let s=t.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+s).toString()+"px";break;case"offsetY":let o=t.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+o).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==t.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}getModuleName(){return"popup"}resolveCollision(){this.checkCollision()}getPersistData(){return this.addOnPersist([])}destroy(){this.element.classList.remove("e-popup","e-rtl",Wl_OPEN,Wl_CLOSE),this.element.classList.contains("e-popup-open")&&this.unwireEvents(),super.destroy()}render(){this.element.classList.add("e-popup");const t={};1e3!==this.zIndex&&(t.zIndex=this.zIndex),"auto"!==this.width&&(t.width=$e(this.width)),"auto"!==this.height&&(t.height=$e(this.height)),lt(this.element,t),this.fixedParent=!1,this.setEnableRtl(),this.setContent()}wireEvents(){A.isDevice&&C.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()}wireScrollEvents(){if(this.getRelateToElement())for(const t of this.getScrollableParent(this.getRelateToElement()))C.add(t,"scroll",this.scrollRefresh,this)}unwireEvents(){A.isDevice&&C.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()}unwireScrollEvents(){if(this.getRelateToElement())for(const t of this.getScrollableParent(this.getRelateToElement()))C.remove(t,"scroll",this.scrollRefresh)}getRelateToElement(){const t=""===this.relateTo||h(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:t},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo}scrollRefresh(t){if("reposition"===this.actionOnScroll?!h(this.element)&&!(this.element.offsetParent===t.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==t.target.parentElement)&&this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){const i=this.isElementOnViewport(this.getRelateToElement(),t.target);i||this.targetInvisibleStatus?i&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}}isElementOnViewport(t,i){const n=this.getScrollableParent(t);for(let s=0;s<n.length;s++)if(!this.isElementVisible(t,n[s]))return!1;return!0}isElementVisible(t,i){const n=this.checkGetBoundingClientRect(t);if(!n.height||!n.width)return!1;if(h(this.checkGetBoundingClientRect(i))){const s=window,o={top:s.scrollY,left:s.scrollX,right:s.scrollX+s.outerWidth,bottom:s.scrollY+s.outerHeight},l=jo(t),a={top:l.top,left:l.left,right:l.left+n.width,bottom:l.top+n.height},c={top:o.bottom-a.top,left:o.right-a.left,bottom:a.bottom-o.top,right:a.right-o.left};return c.top>0&&c.left>0&&c.right>0&&c.bottom>0}{const s=i.getBoundingClientRect();return!(n.bottom<s.top||n.bottom>s.bottom||n.right>s.right||n.left<s.left)}}preRender(){}setEnableRtl(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}setContent(){if(!h(this.content))if(this.element.innerHTML="","string"==typeof this.content)this.element.textContent=this.content;else{const t=this.getRelateToElement(),i=this.content.props;(!t.classList.contains("e-dropdown-btn")||h(i))&&this.element.appendChild(this.content)}}orientationOnChange(){setTimeout(()=>{this.refreshPosition()},200)}refreshPosition(t,i){h(t)||this.checkFixedParent(t),this.reposition(),i||this.checkCollision()}reposition(){let t,i;const n=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)t={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){let s;const o=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(s=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),t="string"==typeof this.position.X?{left:i.left,top:this.position.Y}:{left:this.position.X,top:i.top},this.element.style.display=o,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=s)}else if(n){const s=this.element.style.display;this.element.style.display="block",t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=s}else t={left:0,top:0};h(t)||(this.element.style.left=t.left+"px",this.element.style.top=t.top+"px")}checkGetBoundingClientRect(t){let i;try{return i=t.getBoundingClientRect(),i}catch(n){return null}}getAnchorPosition(t,i,n,s,o){const l=this.checkGetBoundingClientRect(i),a=this.checkGetBoundingClientRect(t);if(h(l)||h(a))return null;const c=t;let d={left:0,top:0};switch(i.offsetParent&&"BODY"===i.offsetParent.tagName&&"BODY"===t.tagName?d=jo(t):(i.classList.contains("e-dlg-modal")&&"BODY"!==c.tagName&&(i=i.parentElement),d=Ym(c,i)),n.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?d.left+=window.innerWidth/2-l.width/2:d.left+="container"===this.targetType?a.width/2-l.width/2:a.width/2;break;case"right":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?d.left+=window.innerWidth-l.width:d.left+="container"===this.targetType?a.width-l.width:a.width}switch(n.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?d.top+=window.innerHeight/2-l.height/2:d.top+="container"===this.targetType?a.height/2-l.height/2:a.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&"BODY"===c.tagName&&"container"===this.targetType?d.top+=window.innerHeight-l.height:d.top+="container"===this.targetType?a.height-l.height:a.height}return d.left+=s,d.top+=o,d}callFlip(t){const i=this.getRelateToElement();B1e(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,t,this.fixedParent)}callFit(t){if(0!==df(this.element,this.viewPortElement).length)if(h(this.viewPortElement)){const i=eP(this.element,this.viewPortElement,t);t.X&&(this.element.style.left=i.left+"px"),t.Y&&(this.element.style.top=i.top+"px")}else{const i=this.checkGetBoundingClientRect(this.element),n=this.checkGetBoundingClientRect(this.viewPortElement);if(h(i)||h(n))return null;t&&!0===t.Y&&(n.top>i.top?this.element.style.top="0px":n.bottom<i.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(i.bottom-n.bottom)+"px")),t&&!0===t.X&&(n.right<i.right?this.element.style.left=parseInt(this.element.style.left,10)-(i.right-n.right)+"px":n.left>i.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(n.left-i.left)+"px"))}}checkCollision(){const t=this.collision.X,i=this.collision.Y;"none"===t&&"none"===i||("flip"===t&&"flip"===i?this.callFlip({X:!0,Y:!0}):"fit"===t&&"fit"===i?this.callFit({X:!0,Y:!0}):("flip"===t?this.callFlip({X:!0,Y:!1}):"flip"===i&&this.callFlip({Y:!0,X:!1}),"fit"===t?this.callFit({X:!0,Y:!1}):"fit"===i&&this.callFit({X:!1,Y:!0})))}show(t,i){if(this.wireEvents(),1e3===this.zIndex||!h(i)){const n=h(i)?this.element:i;this.zIndex=hf(n),lt(this.element,{zIndex:this.zIndex})}t=h(t)||"object"!=typeof t?this.showAnimation:t,("none"!==this.collision.X||"none"!==this.collision.Y)&&(T([this.element],Wl_CLOSE),_([this.element],Wl_OPEN),this.checkCollision(),T([this.element],Wl_OPEN),_([this.element],Wl_CLOSE)),h(t)?(T([this.element],Wl_CLOSE),_([this.element],Wl_OPEN),this.trigger("open")):(t.begin=()=>{this.isDestroyed||(T([this.element],Wl_CLOSE),_([this.element],Wl_OPEN))},t.end=()=>{this.isDestroyed||this.trigger("open")},new _s(t).animate(this.element))}hide(t){t=h(t)||"object"!=typeof t?this.hideAnimation:t,h(t)?(T([this.element],Wl_OPEN),_([this.element],Wl_CLOSE),this.trigger("close")):(t.end=()=>{this.isDestroyed||(T([this.element],Wl_OPEN),_([this.element],Wl_CLOSE),this.trigger("close"))},new _s(t).animate(this.element)),this.unwireEvents()}getScrollableParent(t){return this.checkFixedParent(t),oP(t,this.fixedParent)}checkFixedParent(t){let i=t.parentElement;for(;i&&"HTML"!==i.tagName;){const n=getComputedStyle(i);"fixed"===n.position&&!h(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top)?$e(window.scrollY-parseInt(this.element.style.top)):$e(parseInt(this.element.style.top)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!h(this.element)&&h(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}}};return nl([y("auto")],r.prototype,"height",void 0),nl([y("auto")],r.prototype,"width",void 0),nl([y(null)],r.prototype,"content",void 0),nl([y("container")],r.prototype,"targetType",void 0),nl([y(null)],r.prototype,"viewPortElement",void 0),nl([y({X:"none",Y:"none"})],r.prototype,"collision",void 0),nl([y("")],r.prototype,"relateTo",void 0),nl([gi({},Zq)],r.prototype,"position",void 0),nl([y(0)],r.prototype,"offsetX",void 0),nl([y(0)],r.prototype,"offsetY",void 0),nl([y(1e3)],r.prototype,"zIndex",void 0),nl([y(!1)],r.prototype,"enableRtl",void 0),nl([y("reposition")],r.prototype,"actionOnScroll",void 0),nl([y(null)],r.prototype,"showAnimation",void 0),nl([y(null)],r.prototype,"hideAnimation",void 0),nl([E()],r.prototype,"open",void 0),nl([E()],r.prototype,"close",void 0),nl([E()],r.prototype,"targetExitViewport",void 0),r=nl([Pi],r),r})();function oP(r,e){const t=getComputedStyle(r),i=[],n=/(auto|scroll)/;let s=r.parentElement;for(;s&&"HTML"!==s.tagName;){const o=getComputedStyle(s);!("absolute"===t.position&&"static"===o.position)&&n.test(o.overflow+o.overflowY+o.overflowX)&&i.push(s),s=s.parentElement}return e||i.push(document),i}function hf(r){let e=r.parentElement;const t=[];for(;e&&"BODY"!==e.tagName;){const l=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index"),a=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");"auto"!==l&&"static"!==a&&t.push(l),e=e.parentElement}const i=[];for(let l=0;l<document.body.children.length;l++)if(!r.isEqualNode(document.body.children[l])){const a=document.defaultView.getComputedStyle(document.body.children[l],null).getPropertyValue("z-index"),c=document.defaultView.getComputedStyle(document.body.children[l],null).getPropertyValue("position");"auto"!==a&&"static"!==c&&i.push(a)}i.push("999");const n=[];if(!h(r.parentElement)&&"BODY"!==r.parentElement.tagName){const l=[].slice.call(r.parentElement.children);for(let a=0;a<l.length;a++)if(!r.isEqualNode(l[a])){const c=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("z-index"),d=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("position");"auto"!==c&&"static"!==d&&n.push(c)}}const s=t.concat(i,n),o=Math.max.apply(Math,s)+1;return o>2147483647?2147483647:o}const lP=["north-west","north","north-east","west","east","south-west","south","south-east"],fD="e-resize-handle",Xm="e-focused-handle",eW=["e-restrict-left"],tW="e-resize-viewport",z1e=["north","west","east","south"];let Hs,pp,My,uf,dP,ig,Qn,pf,gf,aP=0,cP=0,iW=0,nW=0,tb=0,ib=0,nb=null,hP=null,uP=null,mD=!0,sW=0,pP=!0;function G1e(r){gP();const e=Xe("span",{attrs:{unselectable:"on",contenteditable:"false"}});e.setAttribute("class","e-dialog-border-resize e-"+r),"south"===r&&(e.style.height="2px",e.style.width="100%",e.style.bottom="0px",e.style.left="0px"),"north"===r&&(e.style.height="2px",e.style.width="100%",e.style.top="0px",e.style.left="0px"),"east"===r&&(e.style.height="100%",e.style.width="2px",e.style.right="0px",e.style.top="0px"),"west"===r&&(e.style.height="100%",e.style.width="2px",e.style.left="0px",e.style.top="0px"),Hs.appendChild(e)}function rW(r){let e;return h(r)||(e="string"==typeof r?document.querySelector(r):r),e}function oW(r){h(r)&&(r=this);const e=Hs.querySelectorAll("."+fD);for(let i=0;i<e.length;i++)pp=e[i],C.add(pp,"mousedown",aW,r),C.add(pp,"msie"===A.info.name?"pointerdown":"touchstart",cW,r);const t=Hs.querySelectorAll(".e-dialog-border-resize");if(!h(t))for(let i=0;i<t.length;i++)pp=t[i],C.add(pp,"mousedown",aW,r),C.add(pp,"msie"===A.info.name?"pointerdown":"touchstart",cW,r)}function lW(r){return r.indexOf("mouse")>-1?"mouse":"touch"}function aW(r){if(r.preventDefault(),Hs=r.target.parentElement,gP(),tb=r.pageX,ib=r.pageY,r.target.classList.add(Xm),!h(nb)&&(gf=this,!0===nb(r,gf)))return;this.targetEle&&Hs&&Hs.querySelector(".e-dlg-resizable")&&(Qn=null,ig=this.targetEle.clientWidth,uf=this.targetEle.clientHeight);const e=h(Qn)?document:Qn;C.add(e,"mousemove",sb,this),C.add(document,"mouseup",vD,this);for(let t=0;t<eW.length;t++)mD=!Hs.classList.contains(eW[t])}function vD(r){const e="msie"===A.info.name?"pointermove":"touchmove",t="msie"===A.info.name?"pointerup":"touchend",i=h(Qn)?document:Qn,n="msie"===A.info.name?"pointerdown":"touchstart";C.remove(i,"mousemove",sb),C.remove(i,e,sb),C.remove(i,n,sb),h(document.body.querySelector("."+Xm))||document.body.querySelector("."+Xm).classList.remove(Xm),h(uP)||(gf=this,uP(r,gf)),C.remove(document,"mouseup",vD),C.remove(document,t,vD)}function gP(){aP=parseFloat(getComputedStyle(Hs,null).getPropertyValue("width").replace("px","")),cP=parseFloat(getComputedStyle(Hs,null).getPropertyValue("height").replace("px","")),iW=Hs.getBoundingClientRect().left,nW=Hs.getBoundingClientRect().top}function cW(r){Hs=r.target.parentElement,gP();const e=r.touches?r.changedTouches[0]:r;if(tb=e.pageX,ib=e.pageY,!h(nb)&&(gf=this,!0===nb(r,gf)))return;const t="msie"===A.info.name?"pointermove":"touchmove",i="msie"===A.info.name?"pointerup":"touchend",n=h(Qn)?document:Qn;C.add(n,t,sb,this),C.add(document,i,vD)}function sb(r){if(r.target.classList.contains(fD)&&r.target.classList.contains(Xm)?pp=r.target:h(document.body.querySelector("."+Xm))||(pp=document.body.querySelector("."+Xm)),!h(pp)){let e="";for(let t=0;t<lP.length;t++)pp.classList.contains("e-"+lP[t])&&(e=lP[t]);switch(h(hP)||(gf=this,hP(r,gf)),e){case"south":fP(r);break;case"north":mP(r);break;case"west":vP(r);break;case"east":yP(r);break;case"south-east":fP(r),yP(r);break;case"south-west":fP(r),vP(r);break;case"north-east":mP(r),yP(r);break;case"north-west":mP(r),vP(r)}}}function ff(r){return r.getBoundingClientRect()}function fP(r){const e=document.documentElement.clientHeight;let t=!1;const n=(r.touches?r.changedTouches[0]:r).pageY,s=ff(Hs);let o;h(Qn)||(o=ff(Qn)),h(Qn)?h(Qn)&&(e-n>=0||s.top<0)&&(t=!0):t=!0;let l=cP+(n-ib);l=l>My?l:My;let a=0;h(Qn)||(a=o.top);const c=h(Qn)?0:Qn.offsetHeight-Qn.clientHeight;let d=s.top-a-c/2;if(d=d<0?0:d,s.top>0&&d+l>uf){if(t=!1,Hs.classList.contains(tW))return;return void(Hs.style.height=uf-parseInt(d.toString(),10)+"px")}let u=0;if(t){s.top<0&&e+(s.height+s.top)>0&&(u=s.top,l+u<=30&&(l=s.height-(s.height+s.top)+30)),l+s.top>=uf&&(Hs.style.height=s.height+(e-(s.height+s.top))+"px");const p=h(Qn)?u:d;l>=My&&l+p<=uf&&(Hs.style.height=l+"px")}}function mP(r){let t,e=!1;const i="mouse"===lW(r.type)?r.pageY:r.touches[0].pageY,n=ff(Hs);h(Qn)||(t=ff(Qn)),(!h(Qn)&&n.top-t.top>0||h(Qn)&&i>0)&&(e=!0);const s=cP-(i-ib);if(e&&s>=My&&s<=uf){let o=0;h(Qn)||(o=t.top);let l=nW-o+(i-ib);l=l>0?l:1,Hs.style.height=s+"px",Hs.style.top=l+"px"}}function vP(r){const e=document.documentElement.clientWidth;let i,t=!1;h(Qn)||(i=ff(Qn));const n="mouse"===lW(r.type)?r.pageX:r.touches[0].pageX,s=ff(Hs),o=h(Qn)?0:Qn.offsetWidth-Qn.clientWidth;let l=h(Qn)?0:i.left,a=h(Qn)?0:i.width;h(pf)&&(h(Qn)?pf=e:(pf=s.left-l-o/2+s.width,pf+=a-o-pf)),(!h(Qn)&&Math.floor(s.left-i.left+s.width+(i.right-s.right))-o<=ig||h(Qn)&&n>=0)&&(t=!0);let c=aP-(n-tb);if(mD&&(c=c>pf?pf:c),t&&c>=dP&&c<=ig){let d=0;h(Qn)||(d=i.left);let u=iW-d+(n-tb);u=u>0?u:1,c!==sW&&pP&&(Hs.style.width=c+"px"),mD&&(Hs.style.left=u+"px",pP=1!==u)}sW=c}function yP(r){const e=document.documentElement.clientWidth;let i,t=!1;h(Qn)||(i=ff(Qn));const s=(r.touches?r.changedTouches[0]:r).pageX,o=ff(Hs);(!h(Qn)&&(o.left-i.left+o.width<=ig||o.right-i.left>=o.width)||h(Qn)&&e-s>0)&&(t=!0);const l=aP+(s-tb);let a=0;if(h(Qn)||(a=i.left),o.left-a+l>ig){if(t=!1,Hs.classList.contains(tW))return;Hs.style.width=ig-(o.left-a)+"px"}t&&l>=dP&&l<=ig&&(Hs.style.width=l+"px")}function dW(){const r=Hs.querySelectorAll("."+fD);for(let t=0;t<r.length;t++)de(r[t]);const e=Hs.querySelectorAll(".e-dialog-border-resize");if(!h(e))for(let t=0;t<e.length;t++)de(e[t])}var _n=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class rb extends Nt{}_n([y(!0)],rb.prototype,"isFlat",void 0),_n([y()],rb.prototype,"buttonModel",void 0),_n([y("Button")],rb.prototype,"type",void 0),_n([E()],rb.prototype,"click",void 0);class yD extends Nt{}_n([y("Fade")],yD.prototype,"effect",void 0),_n([y(400)],yD.prototype,"duration",void 0),_n([y(0)],yD.prototype,"delay",void 0);const xD="e-dialog",xP="e-rtl",CP="e-dlg-header-content",hW="e-dlg-header",ob="e-footer-content",wP="e-dlg-modal",uW="e-icon-dlg-close",gp="e-dlg-target",du="e-scroll-disabled",pW="e-device",CD="e-dlg-fullscreen",gW="e-dlg-closeicon-btn",fW="e-popup-open",bP="Information",mW="e-scroll-disabled",vW="e-alert-dialog",yW="e-confirm-dialog",_P="e-dlg-resizable",wD="e-restrict-left",xW="e-resize-viewport",SP="user action";let qi=class extends an{constructor(e,t){super(e,t),this.dlgClosedBy=SP}render(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=$e(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()}preRender(){if(this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=t=>{this.dlgClosedBy="close icon",this.hide(t)},this.dlgOverlayClickEventHandler=t=>{this.dlgClosedBy="overlayClick",t.preventFocus=!1,this.trigger("overlayClick",t,i=>{i.preventFocus||this.focusContent(),this.dlgClosedBy=SP})},this.l10n=new is("dialog",{close:"Close"},this.locale),this.checkPositionData(),h(this.target)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=t}}isNumberValue(e){return/^[-+]?\d*\.?\d+$/.test(e)}checkPositionData(){if(!h(this.position)){if(!h(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=t}if(!h(this.position.Y)&&"number"!=typeof this.position.Y&&this.isNumberValue(this.position.Y)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=t}}}getEle(e,t){let i;for(let n=0;n<e.length;n++)if(e[n].classList.contains(t)){i=e[n];break}return i}getMinHeight(){let e="0px",t="0px";h(this.element.querySelector("."+CP))||(e=getComputedStyle(this.headerContent).height);const i=this.getEle(this.element.children,ob);h(i)||(t=getComputedStyle(i).height);const n=parseInt(e.slice(0,e.indexOf("p")),10),s=parseInt(t.slice(0,t.indexOf("p")),10);return function q1e(r){My=r}(n+30+(isNaN(s)?0:s)),n+30+s}onResizeStart(e,t){return t.trigger("resizeStart",e),e.cancel}onResizing(e,t){t.trigger("resizing",e)}onResizeComplete(e,t){t.trigger("resizeStop",e)}setResize(){if(this.enableResize){if(this.isBlazorServerRender()&&!h(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(_P);const e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth;let i="";for(let n=0;n<this.resizeHandles.length;n++){if("All"===this.resizeHandles[n]){i="south north east west north-east north-west south-east south-west";break}{let s="";switch(this.resizeHandles[n].toString()){case"SouthEast":s="south-east";break;case"SouthWest":s="south-west";break;case"NorthEast":s="north-east";break;case"NorthWest":s="north-west";break;default:s=this.resizeHandles[n].toString()}i+=s.toLocaleLowerCase()+" "}}this.enableRtl&&"south-east"===i.trim()?i="south-west":this.enableRtl&&"south-west"===i.trim()&&(i="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(wD):this.isModal&&this.target===document.body&&this.element.classList.add(xW),function j1e(r){nb=r.resizeBegin,hP=r.resizing,uP=r.resizeComplete,Hs=rW(r.element),Qn=rW(r.boundary);const e=r.direction.split(" ");for(let t=0;t<e.length;t++)if(z1e.indexOf(e[t])>=0&&e[t])G1e(e[t]);else if(""!==e[t].trim()){const i=Xe("div",{className:"e-icons "+fD+" e-"+e[t]});Hs.appendChild(i)}My=r.minHeight,dP=r.minWidth,ig=r.maxWidth,uf=r.maxHeight,r.proxy&&r.proxy.element&&r.proxy.element.classList.contains("e-dialog")?oW(r.proxy):oW()}({element:this.element,direction:i,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else dW(),this.unWireWindowResizeEvent(),this.element.classList.remove(this.isModal?wD:xW),this.element.classList.remove(_P)}getFocusElement(e){const i=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:i[i.length-1]}}keyDown(e){if(9===e.keyCode&&this.isModal){let s;h(this.btnObj)||(s=this.btnObj[this.btnObj.length-1]),h(this.btnObj)&&!h(this.ftrTemplateContent)&&(s=this.getFocusElement(this.ftrTemplateContent)),h(this.btnObj)&&h(this.ftrTemplateContent)&&!h(this.contentEle)&&(s=this.getFocusElement(this.contentEle)),!h(s)&&document.activeElement===s.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),h(s)||s.element.focus())}const t=document.activeElement,i=["input","textarea"].indexOf(t.tagName.toLowerCase())>-1;let n=!1;if(i||(n=t.hasAttribute("contenteditable")&&"true"===t.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape&&(this.dlgClosedBy="escape",document.querySelector(".e-popup-open:not(.e-dialog)")||this.hide(e)),13===e.keyCode&&!e.ctrlKey&&"textarea"!==t.tagName.toLowerCase()&&i&&!h(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===t.tagName.toLowerCase()||n)&&!h(this.primaryButtonEle)){let s;this.buttons.some((l,a)=>{s=a;let c=l.buttonModel;return!h(c)&&!0===c.isPrimary})&&"function"==typeof this.buttons[s].click&&setTimeout(()=>{this.buttons[s].click.call(this,e)})}}initialize(){h(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||_([this.element],xD),A.isDevice&&_([this.element],pW),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()}initRender(){if(this.initialRender=!0,this.isBlazorServerRender()||Le(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&h(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&h(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""!==this.header&&!h(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||h(this.footerTemplate)?h(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&!h(this.buttons[0].buttonModel)&&""===this.footerTemplate&&this.setButton(),this.allowDragging&&!h(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(Le(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&h(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(let e=0,t=this.dlgContainer.children;e<t.length;e++)t[e].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=t[e])}if(!0!==this.element.classList.contains(vW)&&!0!==this.element.classList.contains(yW)&&!h(this.element.parentElement)){const e=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),e.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}h(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new wc(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:e=>{const t={container:this.isModal?this.dlgContainer:this.element,element:this.element,target:this.target,preventFocus:!1};this.enableResize&&this.resetResizeIcon(),this.trigger("open",t,i=>{i.preventFocus||this.focusContent()})},close:e=>{this.isModal&&_([this.dlgOverlay],"e-fade"),this.unBindEvent(this.element),this.isModal&&(this.dlgContainer.style.display="none"),this.trigger("close",this.closeArgs);const t=document.activeElement;!h(t)&&!h(t.blur)&&t.blur(),!h(this.storeActiveElement)&&!h(this.storeActiveElement.focus)&&this.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(_([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1}resetResizeIcon(){const e=this.getMinHeight();if(this.targetEle.offsetHeight<e){const i=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));h(i)||(i.style.bottom="-"+e.toString()+"px")}}setOverlayZindex(e){let t;t=h(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()}positionChange(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()}setPopupPosition(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})}setAllowDragging(){this.dragObj=new Yn(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:t=>{this.trigger("dragStart",t,i=>{})},dragStop:t=>{this.isModal&&(h(this.position)||this.dlgContainer.classList.remove("e-dlg-"+this.position.X+"-"+this.position.Y),this.element.style.position="relative"),this.trigger("dragStop",t),this.element.classList.remove(wD)},drag:t=>{this.trigger("drag",t)}}),h(this.targetEle)||(this.dragObj.dragArea=this.targetEle)}setButton(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(let t=0;t<this.buttons.length;t++){const i=h(this.buttons[t].type)?"button":this.buttons[t].type.toLowerCase(),n=this.createElement("button",{attrs:{type:i}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}let e;for(let t=0,i=this.element.children;t<i.length;t++)i[t].classList.contains(ob)&&(e=i[t].querySelectorAll("button"));for(let t=0;t<this.buttons.length;t++)this.isBlazorServerRender()||(this.btnObj[t]=new ks(this.buttons[t].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+ob)),!h(this.ftrTemplateContent)&&e.length>0&&("function"==typeof this.buttons[t].click&&C.add(e[t],"click",this.buttons[t].click,this),"object"==typeof this.buttons[t].click&&C.add(e[t],"click",this.buttonClickHandler.bind(this,t),this)),!this.isBlazorServerRender()&&!h(this.ftrTemplateContent)&&(this.btnObj[t].appendTo(this.ftrTemplateContent.children[t]),this.buttons[t].isFlat&&this.btnObj[t].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])}buttonClickHandler(e){this.trigger("buttons["+e+"].click",{})}setContent(){Le(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!h(this.content)&&""!==this.content||!this.initialRender)&&("string"!=typeof this.content&&this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),h(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(!this.isBlazorServerRender()&&A.isIE&&""===this.element.style.width&&!h(this.width)&&(this.element.style.width=$e(this.width)),this.setMaxHeight())}setTemplate(e,t,i){let n,s,o;s=t.classList.contains(hW)?this.element.id+"header":t.classList.contains(ob)?this.element.id+"footerTemplate":this.element.id+"content",h(e.outerHTML)?("string"==typeof e||"string"!=typeof e)&&("string"==typeof e&&(e=this.sanitizeHelper(e)),n=ci(e),o=e):t.appendChild(e);const l=[];if(!h(n)){const a=!0;for(const c of n({},this,i,s,a))l.push(c);Jt([].slice.call(l),t)}}sanitizeHelper(e){if(this.enableHtmlSanitizer){const t=Xr.beforeSanitize();O(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!h(t.helper)?e=t.helper(e):t.cancel||(e=Xr.serializeValue(t,e))}return e}setMaxHeight(){if(!this.allowMaxHeight)return;const e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!h(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,A.isIE&&"auto"===this.height&&!h(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}setEnableRTL(){this.isBlazorServerRender()||(this.enableRtl?_([this.element],xP):T([this.element],xP)),h(this.element.querySelector(".e-resize-handle"))||(dW(),this.setResize())}setTargetContent(){if(h(this.content)||""===this.content){const e=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||e)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(t=>{8!==t.nodeType&&this.innerContentElement.appendChild(t)}))}}setHeader(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:hW}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),Le(this.element,{"aria-labelledby":this.element.id}),this.element.insertBefore(this.headerContent,this.element.children[0])}setFooterTemplate(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:ob}),""===this.footerTemplate||h(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)}createHeaderContent(){h(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:CP}))}renderCloseIcon(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:gW,attrs:{type:"button"}}),this.closeIconBtnObj=new ks({cssClass:"e-flat",iconCss:uW+" e-icons"}),this.closeIconTitle(),h(this.headerContent)?(this.createHeaderContent(),oo([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):oo([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))}closeIconTitle(){this.l10n.setLocale(this.locale);const e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)}setCSSClass(e){this.cssClass&&_([this.element],this.cssClass.split(" ")),e&&T([this.element],e.split(" "))}setIsModal(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove(fW),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),_([this.element],wP),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)}getValidFocusNode(e){let t;for(let i=0;i<e.length;i++){if(t=e[i],(t.clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;t=null}return t}focusableElements(e){if(!h(e)){const i=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(i)}return null}getAutoFocusNode(e){let t=e.querySelector("."+gW);const n=e.querySelectorAll("[autofocus]");let s=this.getValidFocusNode(n);if(h(s)){if(s=this.focusableElements(this.contentEle),!h(s))return s;if(!h(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=s;return t}disableElement(e,t){const i=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(i)for(;e;e=e.parentNode)if(e instanceof Element&&i.call(e,t))return e;return null}focusContent(){const e=this.getAutoFocusNode(this.element),t=h(e)?this.element:e,i=A.userAgent;(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0)&&this.element.focus(),t.focus(),this.bindEvent(this.element)}bindEvent(e){C.add(e,"keydown",this.keyDown,this)}unBindEvent(e){C.remove(e,"keydown",this.keyDown)}updateSanitizeContent(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))}isBlazorServerRender(){return!1}getModuleName(){return"dialog"}onPropertyChanged(e,t){if(this.element.classList.contains(xD))for(const i of Object.keys(e))switch(i){case"content":h(this.content)||""===this.content?h(this.contentEle)||(de(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),h(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?(!this.isBlazorServerRender()||h(this.element.querySelector(".e-dlg-content")))&&this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"==typeof this.content?(this.clearTemplate(["content"]),de(this.contentEle),this.contentEle=null,this.setContent()):"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||h(this.header)?this.headerEle&&(de(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||h(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||h(this.footerTemplate)){if(!this.ftrTemplateContent)return;de(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||h(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(uW).length>0?this.showCloseIcon||""!==this.header&&!h(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():de(this.closeIcon):(de(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":lt(this.element,{height:$e(e.height)});break;case"width":lt(this.element,{width:$e(e.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":{const n=this.buttons.length;!h(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&(de(this.ftrTemplateContent),this.ftrTemplateContent=null);for(let s=0;s<n;s++)h(this.buttons[s].buttonModel)||(this.footerTemplate="",this.setButton());break}case"allowDragging":this.allowDragging&&!h(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){const n=h(t.position.X)?this.position.X:t.position.X,s=h(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+n+"-"+s)&&this.dlgContainer.classList.remove("e-dlg-"+n+"-"+s)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}}setTarget(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()}updateIsModal(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)h(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",h(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(T([this.element],wP),T([document.body],[gp,du]),de(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&C.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}setzIndex(e,t){const i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=hf(e),this.isProtectedOnChange=i,t&&(this.popupObj.zIndex=this.zIndex)}windowResizeHandler(){(function W1e(r){ig=r})(this.targetEle.clientWidth),function U1e(r){uf=r}(this.targetEle.clientHeight),this.setMaxHeight()}getPersistData(){return this.addOnPersist([])}destroy(){if(this.isDestroyed)return;const e=[xP,wP,_P,wD,CD,pW],t=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(T([this.targetEle],[gp,du]),!h(this.element)&&this.element.classList.contains(CD)&&T([document.body],[gp,du]),this.isModal&&T([h(this.targetEle)?document.body:this.targetEle],du),this.unWireEvents(),!h(this.btnObj))for(let i=0;i<this.btnObj.length;i++)this.btnObj[i].destroy();if(h(this.dragObj)||this.dragObj.destroy(),!h(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),T([this.element],e),!h(this.cssClass)&&""!==this.cssClass&&T([this.element],this.cssClass.split(" ")),!h(this.refElement)&&!h(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),de(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(de(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),de(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!h(this.element.children))for(let i=0;i<=this.element.children.length;i++)i-=i,de(this.element.children[i]);for(let i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.isBlazorServerRender()?this.isDestroyed=!0:super.destroy(),this.isReact&&this.clearTemplate()}wireWindowResizeEvent(){window.addEventListener("resize",this.windowResizeHandler.bind(this))}unWireWindowResizeEvent(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))}wireEvents(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&C.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&C.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}unWireEvents(){if(this.showCloseIcon&&C.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&C.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!h(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(let e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&C.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)}refreshPosition(){this.popupObj.refreshPosition()}getDimension(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}show(e){if(this.element.classList.contains(xD)){if(!this.element.classList.contains(fW)||!h(e)){h(e)||this.fullScreen(e);const t={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",t,i=>{if(!i.cancel){this.element.style.maxHeight!==t.maxHeight&&(this.allowMaxHeight=!1,this.element.style.maxHeight=t.maxHeight),this.storeActiveElement=document.activeElement,this.element.tabIndex=-1,this.isModal&&!h(this.dlgOverlay)&&(this.dlgOverlay.style.display="block",this.dlgContainer.style.display="flex",T([this.dlgOverlay],"e-fade"),h(this.targetEle)?_([document.body],[gp,du]):(this.dlgContainer.style.position=this.targetEle===document.body?"fixed":"absolute",this.dlgOverlay.style.position="absolute",this.element.style.position="relative",_([this.targetEle],[gp,du])));const n={name:this.animationSettings.effect+"In",duration:this.animationSettings.duration,delay:this.animationSettings.delay},s=this.isModal?this.element.parentElement:this.element;this.calculatezIndex&&(this.setzIndex(s,!0),lt(this.element,{zIndex:this.zIndex}),this.isModal&&this.setOverlayZindex(this.zIndex)),"None"===this.animationSettings.effect?this.popupObj.show():this.popupObj.show(n),this.dialogOpen=!0;const o=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!0,this.preventVisibility=!0,this.isProtectedOnChange=o}})}this.isReact&&this.renderReactTemplates()}}hide(e){if(this.element.classList.contains(xD)&&this.preventVisibility){const t={cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=t,this.trigger("beforeClose",t,i=>{if(!i.cancel){this.isModal&&(h(this.targetEle)||T([this.targetEle],[gp,du])),document.body.classList.contains(gp)&&document.body.classList.contains(du)&&T([document.body],[gp,du]);const n={name:this.animationSettings.effect+"Out",duration:this.animationSettings.duration,delay:this.animationSettings.delay};"None"===this.animationSettings.effect?this.popupObj.hide():this.popupObj.hide(n),this.dialogOpen=!1;const s=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!1,this.preventVisibility=!1,this.isProtectedOnChange=s}this.dlgClosedBy=SP})}}fullScreen(e){if(e){_([this.element],CD),this.element.style.top=document.scrollingElement.scrollTop+"px";const n=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=h(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=n,_([document.body],[gp,du]),this.allowDragging&&!h(this.dragObj)&&this.dragObj.destroy()}else T([this.element],CD),T([document.body],[gp,du]),this.allowDragging&&!h(this.headerContent)&&this.setAllowDragging();return e}getButtons(e){return h(e)?this.btnObj:this.btnObj[e]}};var lb;_n([y("")],qi.prototype,"content",void 0),_n([y(!0)],qi.prototype,"enableHtmlSanitizer",void 0),_n([y(!1)],qi.prototype,"showCloseIcon",void 0),_n([y(!1)],qi.prototype,"isModal",void 0),_n([y("")],qi.prototype,"header",void 0),_n([y(!0)],qi.prototype,"visible",void 0),_n([y(!1)],qi.prototype,"enableResize",void 0),_n([y(["South-East"])],qi.prototype,"resizeHandles",void 0),_n([y("auto")],qi.prototype,"height",void 0),_n([y("")],qi.prototype,"minHeight",void 0),_n([y("100%")],qi.prototype,"width",void 0),_n([y("")],qi.prototype,"cssClass",void 0),_n([y(1e3)],qi.prototype,"zIndex",void 0),_n([y(null)],qi.prototype,"target",void 0),_n([y("")],qi.prototype,"footerTemplate",void 0),_n([y(!1)],qi.prototype,"allowDragging",void 0),_n([Hr([{}],rb)],qi.prototype,"buttons",void 0),_n([y(!0)],qi.prototype,"closeOnEscape",void 0),_n([gi({},yD)],qi.prototype,"animationSettings",void 0),_n([gi({X:"center",Y:"center"},Zq)],qi.prototype,"position",void 0),_n([E()],qi.prototype,"created",void 0),_n([E()],qi.prototype,"open",void 0),_n([E()],qi.prototype,"beforeSanitizeHtml",void 0),_n([E()],qi.prototype,"beforeOpen",void 0),_n([E()],qi.prototype,"close",void 0),_n([E()],qi.prototype,"beforeClose",void 0),_n([E()],qi.prototype,"dragStart",void 0),_n([E()],qi.prototype,"dragStop",void 0),_n([E()],qi.prototype,"drag",void 0),_n([E()],qi.prototype,"overlayClick",void 0),_n([E()],qi.prototype,"resizeStart",void 0),_n([E()],qi.prototype,"resizing",void 0),_n([E()],qi.prototype,"resizeStop",void 0),_n([E()],qi.prototype,"destroyed",void 0),qi=_n([Pi],qi),function(r){function i(d,u){const p=new qi(d);return p.appendTo(u),p}function o(d,u){return d.header=h(u.title)?bP:u.title,d.content=h(u.content)?"":u.content,d.isModal=!!h(u.isModal)||u.isModal,d.showCloseIcon=!h(u.showCloseIcon)&&u.showCloseIcon,d.allowDragging=!h(u.isDraggable)&&u.isDraggable,d.closeOnEscape=!h(u.closeOnEscape)&&u.closeOnEscape,d.position=h(u.position)?{X:"center",Y:"top"}:u.position,d.animationSettings=h(u.animationSettings)?{effect:"Fade",duration:400,delay:0}:u.animationSettings,d.cssClass=h(u.cssClass)?"":u.cssClass,d.zIndex=h(u.zIndex)?1e3:u.zIndex,d.open=h(u.open)?null:u.open,d}function c(d,u,p){const g=p;return h(u.text)||(g.buttonModel.content=u.text),h(u.icon)||(g.buttonModel.iconCss=u.icon),h(u.cssClass)||(g.buttonModel.cssClass=u.cssClass),h(u.click)||(g.click=u.click),g}r.alert=function e(d){const u=Xe("div",{className:vW});let p;return document.body.appendChild(u),p=i("string"==typeof d?{content:d,position:{X:"center",Y:"top"},isModal:!0,header:bP,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function n(d){let u={buttons:[]};return u=o(u,d),u=function l(d,u){const p=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return h(u.okButton)?d.buttons=p:d.buttons[0]=c(0,u.okButton,p[0]),d}(u,d),u}(d),u),p.close=()=>{d&&d.close&&d.close.apply(p),p.destroy(),p.element.classList.contains("e-dlg-modal")?(p.element.parentElement.remove(),p.target.classList.remove(mW)):p.element.remove()},p},r.confirm=function t(d){const u=Xe("div",{className:yW});let p;return document.body.appendChild(u),p=i("string"==typeof d?{position:{X:"center",Y:"top"},content:d,isModal:!0,header:bP,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function s(d){let u={buttons:[]};return u=o(u,d),u=function a(d,u){const p={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},g={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return d.buttons[0]=h(u.okButton)?p:c(0,u.okButton,p),d.buttons[1]=h(u.cancelButton)?g:c(0,u.cancelButton,g),d}(u,d),u}(d),u),p.close=()=>{d&&d.close&&d.close.apply(p),p.destroy(),p.element.classList.contains("e-dlg-modal")?(p.element.parentElement.remove(),p.target.classList.remove(mW)):p.element.remove()},p}}(lb||(lb={}));var zs=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const IP="e-tooltip",DP="e-tooltip-wrap",wW="e-tip-content",ab="e-arrow-tip",bW="e-arrow-tip-outer",bD="e-arrow-tip-inner",cb="e-tip-bottom",EP="e-tip-top",_W="e-tip-left",TP="e-tip-right",RP="e-popup",_D="e-popup-open",kP="e-popup-close",SW="e-tooltip-popup-container";class AP extends Nt{}zs([y({effect:"FadeIn",duration:150,delay:0})],AP.prototype,"open",void 0),zs([y({effect:"FadeOut",duration:150,delay:0})],AP.prototype,"close",void 0);let vs=class extends an{constructor(e,t){super(e,t),this.mouseMoveEvent=null,this.mouseMoveTarget=null,this.containerElement=null,this.isBodyContainer=!0}initialize(){this.formatPosition(),_([this.element],IP)}formatPosition(){0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?[this.tooltipPositionY,this.tooltipPositionX]=this.position.split(/(?=[A-Z])/):[this.tooltipPositionX,this.tooltipPositionY]=this.position.split(/(?=[A-Z])/)}renderArrow(){this.setTipClass(this.position);const e=this.createElement("div",{className:ab+" "+this.tipClass});e.appendChild(this.createElement("div",{className:bW+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:bD+" "+this.tipClass})),this.tooltipEle.appendChild(e)}setTipClass(e){this.tipClass=0===e.indexOf("Right")?_W:0===e.indexOf("Bottom")?EP:0===e.indexOf("Left")?TP:cb}renderPopup(e){const t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove("e-lib"),this.popupObj=new wc(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})}getTooltipPosition(e){this.tooltipEle.style.display="block";const t=jo(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),i=this.calculateTooltipOffset(this.position),n=this.calculateElementPosition(t,i),l=this.collisionFlipFit(e,n[0],n[1]);return this.tooltipEle.style.display="",l}windowResize(){this.reposition(this.findTarget())}reposition(e){if(this.popupObj&&e){const t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}}openPopupHandler(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs)}closePopupHandler(){this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs)}calculateTooltipOffset(e){const t={top:0,left:0},i=this.tooltipEle.offsetWidth,n=this.tooltipEle.offsetHeight,s=G("."+ab,this.tooltipEle),o=s?s.offsetWidth:0,l=s?s.offsetHeight:0;let a=this.showTipPointer?0:8;const c=l/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),d=o/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(a+=2),e){case"RightTop":t.left+=o+a,t.top-=n-c;break;case"RightCenter":t.left+=o+a,t.top-=n/2;break;case"RightBottom":t.left+=o+a,t.top-=c;break;case"BottomRight":t.top+=l+a,t.left-=d;break;case"BottomCenter":t.top+=l+a,t.left-=i/2;break;case"BottomLeft":t.top+=l+a,t.left-=i-d;break;case"LeftBottom":t.left-=o+i+a,t.top-=c;break;case"LeftCenter":t.left-=o+i+a,t.top-=n/2;break;case"LeftTop":t.left-=o+i+a,t.top-=n-c;break;case"TopLeft":t.top-=n+l+a,t.left-=i-d;break;case"TopRight":t.top-=n+l+a,t.left-=d;break;default:t.top-=n+l+a,t.left-=i/2}return t.left+=this.offsetX,t.top+=this.offsetY,t}updateTipPosition(e){const t=gt("."+ab+",."+bW+",."+bD,this.tooltipEle);T(t,[cb,EP,_W,TP]),this.setTipClass(e),_(t,this.tipClass)}adjustArrow(e,t,i,n){if(!1===this.showTipPointer)return;let s,o;this.updateTipPosition(t),this.tooltipEle.style.display="block";const l=this.tooltipEle.clientWidth,a=this.tooltipEle.clientHeight,c=G("."+ab,this.tooltipEle),d=G("."+bD,this.tooltipEle),u=c.offsetWidth,p=c.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===cb||this.tipClass===EP){if(this.tipClass===cb?(o="99.9%",d.style.top="-"+(p-2)+"px"):(o=-(p-1)+"px",d.style.top="-"+(p-6)+"px"),e){const g="Center"!==i||l>e.offsetWidth||this.mouseTrail;s=g&&"Left"===i||!g&&"End"===this.tipPointerPosition?l-u-2+"px":g&&"Right"===i||!g&&"Start"===this.tipPointerPosition?"2px":l/2-u/2+"px"}}else{this.tipClass===TP?(s="99.9%",d.style.left="-"+(u-2)+"px"):(s=-(u-1)+"px",d.style.left=u-2-u+"px");const g="Center"!==n||a>e.offsetHeight||this.mouseTrail;o=g&&"Top"===n||!g&&"End"===this.tipPointerPosition?a-p-2+"px":g&&"Bottom"===n||!g&&"Start"===this.tipPointerPosition?"2px":a/2-p/2+"px"}c.style.top=o,c.style.left=s}renderContent(e){const t=G("."+wW,this.tooltipEle);if(this.cssClass&&_([this.tooltipEle],this.cssClass.split(" ")),e&&!h(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),h(this.content))e&&!h(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"==typeof this.content){this.enableHtmlSanitizer&&this.setProperties({content:Xr.sanitize(this.content)},!0);const s=ci(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t);if(s){if(this.enableHtmlParse){const o=s.length;for(var i=0;i<o;i++)Jt(s,t)}else t.textContent=this.content;this.enableHtmlParse?Jt(s,t):t.textContent=this.content}}else{const s=ci(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t);s&&Jt(s,t),this.renderReactTemplates()}}renderCloseIcon(){if(!this.isSticky)return;const e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),C.add(e,A.touchStartEvent,this.onStickyClose,this)}addDescribedBy(e,t){const i=(e.getAttribute("aria-describedby")||"").split(/\s+/);i.indexOf(t)<0&&i.push(t),Le(e,{"aria-describedby":i.join(" ").trim(),"data-tooltip-id":t})}removeDescribedBy(e){const t=e.getAttribute("data-tooltip-id"),i=(e.getAttribute("aria-describedby")||"").split(/\s+/),n=i.indexOf(t);-1!==n&&i.splice(n,1),e.removeAttribute("data-tooltip-id");const s=i.join(" ").trim();s?e.setAttribute("aria-describedby",s):e.removeAttribute("aria-describedby")}tapHoldHandler(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)}touchEndHandler(e){this.isSticky||(this.autoCloseTimer=setTimeout(()=>{this.close()},1500))}targetClick(e){let t;t=this.target?D(e.target,this.target):this.element,!h(t)&&(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))}targetHover(e){let t;if(t=this.target?D(e.target,this.target):this.element,h(t)||null!==t.getAttribute("data-tooltip-id")&&0===this.closeDelay)return;const i=[].slice.call(gt('[data-tooltip-id= "'+this.ctrlId+'_content"]',document));for(const n of i)this.restoreElement(n);this.showTooltip(t,this.animation.open,e)}mouseMoveBeforeOpen(e){this.mouseMoveEvent=e}mouseMoveBeforeRemove(){this.mouseMoveTarget&&C.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)}showTooltip(e,t,i){clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,C.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:this.tooltipEle,isInteracted:!h(i)},this.trigger("beforeRender",this.tooltipEventArgs,(s=>{this.beforeRenderCallback(s,e,i,t)}).bind(this))}beforeRenderCallback(e,t,i,n){e.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,h(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?Gn(this.element.getAttribute("id")):Gn("tooltip"),this.tooltipEle=this.createElement("div",{className:DP+" "+RP+" e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+$e(this.width)+";height:"+$e(this.height)+";position:absolute;"}),this.tooltipBeforeRender(t,this),this.tooltipAfterRender(t,i,n,this)):t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),_s.stop(this.tooltipEle),this.reposition(t),this.tooltipAfterRender(t,i,n,this)))}appendContainer(e){"string"==typeof this.container?"body"===this.container?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=G(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer="BODY"===this.containerElement.tagName),this.isBodyContainer||_([this.containerElement],SW),this.containerElement.appendChild(e.tooltipEle)}tooltipBeforeRender(e,t){e&&(A.isDevice&&_([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=$e(t.width)),t.tooltipEle.appendChild(t.createElement("div",{className:wW})),this.appendContainer(t),T([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),_([t.tooltipEle],_D),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),_s.stop(t.tooltipEle),t.reposition(e))}tooltipAfterRender(e,t,i,n){if(e){T([n.tooltipEle],_D),_([n.tooltipEle],kP),n.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:n.tooltipEle,isInteracted:!h(t)},n.needTemplateReposition()&&!n.mouseTrail&&(n.tooltipEle.style.display="none");const s=o=>{n.beforeOpenCallback(o,e,i,t)};n.trigger("beforeOpen",n.tooltipEventArgs,s.bind(n))}}beforeOpenCallback(e,t,i,n){if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(t);else{let s={name:i.effect,duration:i.duration,delay:i.delay,timingFunction:"easeOut"};"None"===i.effect&&(s=void 0),this.openDelay>0?this.showTimer=setTimeout(()=>{this.mouseTrail&&C.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this),this.popupObj&&(this.popupObj.show(s,t),this.mouseMoveEvent&&this.mouseTrail&&this.onMouseMove(this.mouseMoveEvent))},this.openDelay):this.popupObj&&this.popupObj.show(s,t)}n&&this.wireMouseEvents(n,t)}needTemplateReposition(){return!h(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef}checkCollision(e,t,i){const n={left:t,top:i,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},s=df(this.tooltipEle,this.checkCollideTarget(),t,i);return s.length>0&&(n.horizontal=s.indexOf("left")>=0?"Right":s.indexOf("right")>=0?"Left":this.tooltipPositionX,n.vertical=s.indexOf("top")>=0?"Bottom":s.indexOf("bottom")>=0?"Top":this.tooltipPositionY),n}calculateElementPosition(e,t){return[this.isBodyContainer?e.left+t.left:e.left-this.containerElement.offsetLeft+t.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+t.top:e.top-this.containerElement.offsetTop+t.top+window.pageYOffset+this.containerElement.scrollTop]}collisionFlipFit(e,t,i){const n=this.checkCollision(e,t,i);let s=n.position;this.tooltipPositionY!==n.vertical&&(s=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?n.vertical+this.tooltipPositionX:this.tooltipPositionX+n.vertical),this.tooltipPositionX!==n.horizontal&&(0===s.indexOf("Left")&&(n.vertical="LeftTop"===s||"LeftCenter"===s?"Top":"Bottom",s=n.vertical+"Left"),0===s.indexOf("Right")&&(n.vertical="RightTop"===s||"RightCenter"===s?"Top":"Bottom",s=n.vertical+"Right"),n.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:s},this.trigger("beforeCollision",this.tooltipEventArgs);const o=n.vertical,l=n.horizontal;if(n.position!==s){const d=jo(e,l,o,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,s,l,o);const u=this.calculateTooltipOffset(s);u.top-=this.getOffSetPosition("TopBottom",s,this.offsetY),u.left-=this.getOffSetPosition("RightLeft",s,this.offsetX),n.position=s;const p=this.calculateElementPosition(d,u);n.left=p[0],n.top=p[1]}else this.adjustArrow(e,s,l,o);const a={left:n.left,top:n.top},c=this.isBodyContainer?eP(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:!1},a).left:a.left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===s.indexOf("Bottom")||0===s.indexOf("Top"))){const d=G("."+ab,this.tooltipEle);let u=parseInt(d.style.left,10)-(c-n.left);u<0?u=0:u+d.offsetWidth>this.tooltipEle.clientWidth&&(u=this.tooltipEle.clientWidth-d.offsetWidth),d.style.left=u.toString()+"px"}return this.tooltipEle.style.display="",a.left=c,a}getOffSetPosition(e,t,i){return-1!==e.indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!==e.indexOf(t.split(/(?=[A-Z])/)[0])?2*i:0}checkCollideTarget(){return!this.windowCollision&&this.target?this.element:null}hideTooltip(e,t,i){this.closeDelay>0?(clearTimeout(this.hideTimer),clearTimeout(this.showTimer),this.hideTimer=setTimeout(()=>{this.closeDelay&&this.tooltipEle&&this.isTooltipOpen||this.tooltipHide(e,t,i)},this.closeDelay)):this.tooltipHide(e,t,i)}tooltipHide(e,t,i){let n;n=t?this.target?i||t.target:this.element:G('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:n,event:t||null,element:this.tooltipEle,isInteracted:!h(t)},this.trigger("beforeClose",this.tooltipEventArgs,s=>{s.cancel?this.isHidden=!1:(this.mouseMoveBeforeRemove(),this.popupHide(e,n))})}popupHide(e,t){t&&this.restoreElement(t),this.isHidden=!0;let i={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(i=void 0),this.popupObj&&this.popupObj.hide(i)}restoreElement(e){this.unwireMouseEvents(e),h(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)}clear(){this.tooltipEle&&(T([this.tooltipEle],kP),_([this.tooltipEle],_D)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&X(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)}tooltipHover(e){this.tooltipEle&&(this.isTooltipOpen=!0)}tooltipMouseOut(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())}onMouseOut(e){const t=e.relatedTarget;if(t&&!this.mouseTrail){const i=D(t,`.${DP}.e-lib.${RP}`);i?C.add(i,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()}tooltipElementMouseOut(e){this.hideTooltip(this.animation.close,e,this.findTarget()),C.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()}onStickyClose(e){this.close()}onMouseMove(e){let t=0,i=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY),_s.stop(this.tooltipEle),T([this.tooltipEle],kP),_([this.tooltipEle],_D),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);const n=this.calculateTooltipOffset(this.position),l=this.checkCollision(e.target,t+n.left+this.offsetX,i+n.top+this.offsetY);if(this.tooltipPositionX!==l.horizontal||this.tooltipPositionY!==l.vertical){const a=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?l.vertical+l.horizontal:l.horizontal+l.vertical;l.position=a,this.adjustArrow(e.target,l.position,l.horizontal,l.vertical);const c=this.calculateTooltipOffset(l.position);l.left=t+c.left-this.offsetX,l.top=i+c.top-this.offsetY}this.tooltipEle.style.left=l.left+"px",this.tooltipEle.style.top=l.top+"px"}keyDown(e){this.tooltipEle&&27===e.keyCode&&this.close()}touchEnd(e){this.tooltipEle&&null===D(e.target,"."+IP)&&!this.isSticky&&this.close()}scrollHandler(e){this.tooltipEle&&(D(e.target,`.${DP}.e-lib.${RP}`)||this.close())}render(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()}preRender(){this.tipClass=cb,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0}wireEvents(e){const t=this.getTriggerList(e);for(const i of t){if("Custom"===i)return;"Focus"===i&&this.wireFocusEvents(),"Click"===i&&C.add(this.element,A.touchStartEvent,this.targetClick,this),"Hover"===i&&(A.isDevice?(this.touchModule=new Qr(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),C.add(this.element,A.touchEndEvent,this.touchEndHandler,this)):C.add(this.element,"mouseover",this.targetHover,this))}C.add(document,"touchend",this.touchEnd,this),C.add(document,"scroll wheel",this.scrollHandler,this),C.add(window,"resize",this.windowResize,this),C.add(document,"keydown",this.keyDown,this)}getTriggerList(e){return"Auto"===e&&(e=A.isDevice?"Hover":"Hover Focus"),e.split(" ")}wireFocusEvents(){if(h(this.target))C.add(this.element,"focus",this.targetHover,this);else{const e=[].slice.call(gt(this.target,this.element));for(const t of e)C.add(t,"focus",this.targetHover,this)}}wireMouseEvents(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&C.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&C.add(t,"mouseleave",this.onMouseOut,this),this.closeDelay&&(C.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),C.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&C.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))}unwireEvents(e){const t=this.getTriggerList(e);for(const i of t){if("Custom"===i)return;"Focus"===i&&this.unwireFocusEvents(),"Click"===i&&C.remove(this.element,A.touchStartEvent,this.targetClick),"Hover"===i&&(A.isDevice?(this.touchModule&&this.touchModule.destroy(),C.remove(this.element,A.touchEndEvent,this.touchEndHandler)):C.remove(this.element,"mouseover",this.targetHover))}C.remove(document,"touchend",this.touchEnd),C.remove(document,"scroll wheel",this.scrollHandler),C.remove(window,"resize",this.windowResize),C.remove(document,"keydown",this.keyDown)}unwireFocusEvents(){if(h(this.target))C.remove(this.element,"focus",this.targetHover);else{const e=[].slice.call(gt(this.target,this.element));for(const t of e)C.remove(t,"focus",this.targetHover)}}unwireMouseEvents(e){if(!this.isSticky){const t=this.getTriggerList(this.opensOn);for(const i of t)"Focus"===i&&C.remove(e,"blur",this.onMouseOut),"Hover"===i&&!A.isDevice&&C.remove(e,"mouseleave",this.onMouseOut);this.closeDelay&&(C.remove(e,"mouseenter",this.tooltipHover),C.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&C.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)}findTarget(){return G('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)}getModuleName(){return"tooltip"}getPersistData(){return this.addOnPersist([])}onPropertyChanged(e,t){const i=this.findTarget();for(const n of Object.keys(e))switch(n){case"width":this.tooltipEle&&i&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=$e(e.width),this.reposition(i));break;case"height":this.tooltipEle&&i&&(this.tooltipEle.style.height=$e(e.height),this.reposition(i));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&i){const s=G("."+bD,this.tooltipEle);s.style.top=s.style.left=null,this.reposition(i)}break;case"tipPointerPosition":this.tooltipEle&&i&&this.reposition(i);break;case"offsetX":if(this.tooltipEle){const s=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+s).toString()+"px"}break;case"offsetY":if(this.tooltipEle){const s=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+s).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&T([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&_([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?_([this.tooltipEle],"e-rtl"):T([this.tooltipEle],"e-rtl"));break;case"container":h(this.containerElement)||T([this.containerElement],SW),this.container=e.container,this.tooltipEle&&i&&(this.appendContainer(this),this.reposition(i))}}open(e,t){h(t)&&(t=this.animation.open),h(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)}close(e){e||(e=this.animation.close),this.hideTooltip(e)}refresh(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)}destroy(){super.destroy(),this.tooltipEle&&X(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),T([this.element],IP),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null}};zs([y("auto")],vs.prototype,"width",void 0),zs([y("auto")],vs.prototype,"height",void 0),zs([y()],vs.prototype,"content",void 0),zs([y("body")],vs.prototype,"container",void 0),zs([y()],vs.prototype,"target",void 0),zs([y("TopCenter")],vs.prototype,"position",void 0),zs([y(0)],vs.prototype,"offsetX",void 0),zs([y(0)],vs.prototype,"offsetY",void 0),zs([y(!0)],vs.prototype,"showTipPointer",void 0),zs([y(!0)],vs.prototype,"enableHtmlParse",void 0),zs([y(!1)],vs.prototype,"windowCollision",void 0),zs([y("Auto")],vs.prototype,"tipPointerPosition",void 0),zs([y("Auto")],vs.prototype,"opensOn",void 0),zs([y(!1)],vs.prototype,"mouseTrail",void 0),zs([y(!1)],vs.prototype,"isSticky",void 0),zs([gi({},AP)],vs.prototype,"animation",void 0),zs([y(0)],vs.prototype,"openDelay",void 0),zs([y(0)],vs.prototype,"closeDelay",void 0),zs([y()],vs.prototype,"cssClass",void 0),zs([y(!1)],vs.prototype,"enableHtmlSanitizer",void 0),zs([E()],vs.prototype,"beforeRender",void 0),zs([E()],vs.prototype,"beforeOpen",void 0),zs([E()],vs.prototype,"afterOpen",void 0),zs([E()],vs.prototype,"beforeClose",void 0),zs([E()],vs.prototype,"afterClose",void 0),zs([E()],vs.prototype,"beforeCollision",void 0),zs([E()],vs.prototype,"created",void 0),zs([E()],vs.prototype,"destroyed",void 0),vs=zs([Pi],vs);const ha={},db="e-spin-show",hb="e-spin-hide",DW="e-spin-material",EW="e-spin-fabric",TW="e-spin-fluent",RW="e-spin-tailwind",y_e="e-spin-bootstrap",kW="e-spin-bootstrap4",AW="e-spin-bootstrap5",MW="e-spin-high-contrast",ID="e-spinner-pane",MP="e-spinner-inner",DD="e-path-circle",ED="e-spin-template";function bc(r,e){if(!r.target)return;let t;const i=h(e)?Xe:e;let n=function V_e(r,e){const t=e("div",{}),i=e("div",{});return t.classList.add(ID),i.classList.add(MP),r.appendChild(t),t.appendChild(i),{wrap:t,inner_wrap:i}}(r.target,i);if(h(r.cssClass)||n.wrap.classList.add(r.cssClass),h(r.template)&&h(null)){const s=h(r.type)?function k_e(r){return window.getComputedStyle(r,":after").getPropertyValue("content").replace(/['"]+/g,"")}(n.wrap):r.type;t=function B_e(r,e){let t;switch(e){case"Material":case"Fabric":case"Tailwind":case"Tailwind-dark":case"Fluent":default:t=30;break;case"Bootstrap4":case"Bootstrap5":t=36}return r=r?parseFloat(r+""):t,"Bootstrap"===e?r:r/2}(h(r.width)?void 0:r.width,s),function FW(r,e,t,i){const n=e.querySelector("."+MP),s=n.querySelector("svg");switch(h(s)||n.removeChild(s),r){case"Material":!function b_e(r,e,t){const i=mf();ha[i]={timeOut:0,type:"Material",radius:e},PP(r,i,0,DW),LP(e,r,"Material",DW)}(n,t);break;case"Fabric":!function D_e(r,e,t){const i=mf();ha[i]={timeOut:0,type:"Fabric",radius:e},RD(r,i,EW),kD(e,r,EW)}(n,t);break;case"Fluent":!function E_e(r,e,t){const i=mf();ha[i]={timeOut:0,type:"Fluent",radius:e},RD(r,i,TW),kD(e,r,TW)}(n,t);break;case"Bootstrap":!function A_e(r,e,t){const i=mf();ha[i]={timeOut:0,type:"Bootstrap",radius:e},function M_e(r,e,t){const i=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=64,s=32,o=2;i.setAttribute("id",e),i.setAttribute("class",y_e),i.setAttribute("viewBox","0 0 "+n+" "+n),r.insertBefore(i,r.firstChild);for(let l=0;l<=7;l++){const a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("class",DD+"_"+l),a.setAttribute("r",o+""),a.setAttribute("transform","translate("+s+","+s+")"),i.appendChild(a)}}(r,i),function F_e(r,e){const t=r.querySelector("svg.e-spin-bootstrap"),i=0,n=0,s=24;t.style.width=t.style.height=e+"px";let o=90;for(let l=0;l<=7;l++){const a=OP(i,n,s,o),c=t.querySelector("."+DD+"_"+l);c.setAttribute("cx",a.x+""),c.setAttribute("cy",a.y+""),o=o>=360?0:o,o+=45}}(r,e)}(n,t);break;case"HighContrast":!function R_e(r,e,t){const i=mf();ha[i]={timeOut:0,type:"HighContrast",radius:e},RD(r,i,MW),kD(e,r,MW)}(n,t);break;case"Bootstrap4":!function __e(r,e,t){const i=mf();ha[i]={timeOut:0,type:"Bootstrap4",radius:e},PP(r,i,0,kW),LP(e,r,"Bootstrap4",kW)}(n,t);break;case"Bootstrap5":!function S_e(r,e,t){const i=mf();ha[i]={timeOut:0,type:"Bootstrap5",radius:e},PP(r,i,0,AW),LP(e,r,"Bootstrap5",AW)}(n,t);break;case"Tailwind":case"Tailwind-dark":!function T_e(r,e,t){const i=mf();ha[i]={timeOut:0,type:"Tailwind",radius:e},RD(r,i,RW),kD(e,r,RW)}(n,t)}}(s,n.wrap,t),h(r.label)||function w_e(r,e,t){const i=t("div",{});i.classList.add("e-spin-label"),i.innerHTML=e,r.appendChild(i)}(n.inner_wrap,r.label,i)}else{const s=h(r.template)?null:r.template;n.wrap.classList.add(ED),function O_e(r,e,t){h(t)||r.classList.add(t),r.querySelector(".e-spinner-inner").innerHTML=e}(n.wrap,s,null)}n.wrap.classList.add(hb),n=null}function P_e(r,e){const t=[],i=r,n=e;let s=!1,o=1;return function l(a){t.push(a),(a!==n||1===o)&&(a<=i&&a>1&&!s?a=parseFloat((a-.2).toFixed(2)):1===a?(a=7,a=parseFloat((a+.2).toFixed(2)),s=!0):a<8&&s?8===(a=parseFloat((a+.2).toFixed(2)))&&(s=!1):a<=8&&!s&&(a=parseFloat((a-.2).toFixed(2))),++o,l(a))}(i),t}function mf(){let r="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<5;t++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}function RD(r,e,t,i){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id",e),n.setAttribute("class",t);const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",DD);const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class","e-path-arc"),r.insertBefore(n,r.firstChild),n.appendChild(s),n.appendChild(o)}function PP(r,e,t,i){const n=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class",i),n.setAttribute("id",e),s.setAttribute("class",DD),r.insertBefore(n,r.firstChild),n.appendChild(s)}function PW(r){(function H_e(r,e,t,i,n,s,o){const l=++o.globalInfo[o.uniqueID].previousId,a=(new Date).getTime(),c=e-r,d=function z_e(r){return parseFloat(r)}(2*o.globalInfo[o.uniqueID].radius+""),u=LW(d),p=-90*(o.globalInfo[o.uniqueID].count||0);!function g(m){const v=Math.max(0,Math.min((new Date).getTime()-a,i));(function f(m,v){if(!h(v.querySelector("svg.e-spin-material"))&&!h(v.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))){const w=v.querySelector("svg.e-spin-material").querySelector("path.e-path-circle");w.setAttribute("stroke-dashoffset",OW(d,u,m,s)+""),w.setAttribute("transform","rotate("+p+" "+d/2+" "+d/2+")")}})(t(v,r,c,i),m.container),l===m.globalInfo[m.uniqueID].previousId&&v<i?ha[m.uniqueID].timeOut=setTimeout(g.bind(null,m),1):PW(m)}(o)})(1,149,G_e,1333,0,75,r),r.globalInfo[r.uniqueID].count=++r.globalInfo[r.uniqueID].count%4}function LP(r,e,t,i){const n=2*r,s=e.querySelector("svg."+i),o=s.querySelector("path.e-path-circle"),l=LW(n),a=n/2+"px";s.setAttribute("viewBox","0 0 "+n+" "+n),s.style.width=s.style.height=n+"px",s.style.transformOrigin=a+" "+a+" "+a,o.setAttribute("d",function j_e(r,e){const t=r/2,i=e/2;return"M"+t+","+i+"A"+(t-i)+","+(t-i)+" 0 1 1 "+i+","+t}(n,l)),"Material"===t&&(o.setAttribute("stroke-width",l+""),o.setAttribute("stroke-dasharray",(n-l)*Math.PI*.75+""),o.setAttribute("stroke-dashoffset",OW(n,l,1,75)+""))}function LW(r){return.1*r}function OW(r,e,t,i){return(r-e)*Math.PI*(3*i/100-t/100)}function G_e(r,e,t,i){const n=(r/=i)*r,s=n*r;return e+t*(6*s*n+-15*n*n+10*s)}function kD(r,e,t){const i=r,n=r,s=2*r,a=e.querySelector("."+t),c=a.querySelector(".e-path-circle"),d=a.querySelector(".e-path-arc"),u=s/2+"px";c.setAttribute("d",function W_e(r,e,t){return["M",r,e,"m",-t,0,"a",t,t,0,1,0,2*t,0,"a",t,t,0,1,0,2*-t,0].join(" ")}(i,n,r)),d.setAttribute("d",function q_e(r,e,t,i,n){const s=OP(r,e,t,n),o=OP(r,e,t,i);return["M",s.x,s.y,"A",t,t,0,0,0,o.x,o.y].join(" ")}(i,n,r,315,45)),a.setAttribute("viewBox","0 0 "+s+" "+s),a.style.transformOrigin=u+" "+u+" "+u,a.style.width=a.style.height=s+"px"}function OP(r,e,t,i){const n=(i-90)*Math.PI/180;return{x:r+t*Math.cos(n),y:e+t*Math.sin(n)}}function Go(r){BW(r,!1),r=null}function BW(r,e){let t;if(r&&(t=r.classList.contains(ID)?r:r.querySelector("."+ID)),r&&t){const i=t.querySelector("."+MP);let n;if(n=e?!t.classList.contains(ED)&&!t.classList.contains(hb):!t.classList.contains(ED)&&!t.classList.contains(db),n){const s=t.querySelector("svg");if(h(s))return;const o=s.getAttribute("id");switch(ha[o].isAnimate=!e,ha[o].type){case"Material":e?clearTimeout(ha[o].timeOut):function I_e(r,e,t){const i={};ha[e].timeOut=0,i[e]=function N_e(r,e,t,i){return{radius:e,count:t,previousId:i}}(0,t,0,0),PW({uniqueID:e,container:r,globalInfo:i,timeOutVar:0})}(i,o,ha[o].radius);break;case"Bootstrap":e?clearTimeout(ha[o].timeOut):function L_e(r){const t=r.querySelector("svg.e-spin-bootstrap").getAttribute("id");for(let n=1;n<=8;n++)i(r.getElementsByClassName("e-path-circle_"+(8===n?0:n))[0],n,0,P_e(n,n),t);function i(n,s,o,l,a){let c=0;!function d(u){ha[a].isAnimate&&(++c,n.setAttribute("r",u+""),c>=l.length&&(c=0),ha[a].timeOut=setTimeout(d.bind(null,l[c]),18))}(s)}}(i)}}e?ze(t,[hb],[db]):ze(t,[db],[hb]),r=null}}function qo(r){BW(r,!0),r=null}var Py=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};function ub(r,e){const t=O({},r);for(const i of Object.keys(t))e.indexOf(i)<0&&_3(t,i);return t}function Y_e(r,e){const t=40===e?0:r.childElementCount-1;let n,i=t;const s=r.querySelector(".e-selected");s&&s.classList.remove("e-selected");for(let o=0,l=r.children.length;o<l;o++)r.children[o].classList.contains("e-focused")&&(n=r.children[o],i=o,n.classList.remove("e-focused"),40===e?i++:i--,i===(40===e?r.childElementCount:-1)&&(i=t));n=r.children[i],i=NW(r,n,i,e),-1!==i&&(_([r.children[i]],"e-focused"),r.children[i].focus())}function NW(r,e,t,i,n=0){if((e.classList.contains("e-separator")||e.classList.contains("e-disabled"))&&(t===(40===i?r.childElementCount-1:0)?t=40===i?0:r.childElementCount-1:40===i?t++:t--),(e=r.children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")){if(++n===r.childElementCount)return-1;t=NW(r,e,t,i,n)}return t}let BP=(()=>{class r extends Nt{}return Py([y("")],r.prototype,"iconCss",void 0),Py([y("")],r.prototype,"id",void 0),Py([y(!1)],r.prototype,"separator",void 0),Py([y("")],r.prototype,"text",void 0),Py([y("")],r.prototype,"url",void 0),Py([y(!1)],r.prototype,"disabled",void 0),r})();var Ra=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Cl=class extends an{constructor(e,t){super(e,t),this.isPopupCreated=!0}preRender(){}getPersistData(){return this.addOnPersist([])}toggle(){this.canOpen()?this.openPopUp():this.closePopup()}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}addItems(e,t){let i,n=this.items.length;for(let s=0,o=this.items.length;s<o;s++)if(t===this.items[s].text){n=s;break}for(let s=e.length-1;s>=0;s--)i=new BP(this,"items",e[s],!0),this.items.splice(n,0,i);this.canOpen()||this.createItems()}removeItems(e,t){let i=!1;for(let n=0,s=e.length;n<s;n++)for(let o=0,l=this.items.length;o<l;o++)if(e[n]===(t?this.items[o].id:this.items[o].text)){this.items.splice(o,1),i=!0;break}i&&this.getULElement()&&this.createItems()}createPopup(){const e=this.createElement("div",{className:"e-dropdown-popup",id:this.element.id+"-popup"});document.body.appendChild(e),this.dropDown=new wc(e,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),Le(this.element,{"aria-haspopup":this.items.length||this.target?"true":"false","aria-expanded":"false","aria-owns":this.getPopUpElement().id,type:"button","aria-label":this.element.textContent+" dropdownbutton"}),this.cssClass&&_([e],this.cssClass.split(" ")),this.isPopupCreated=!0}getTargetElement(){return"string"==typeof this.target?G(this.target):this.target}createItems(e){const t=this.items,i=this.hasIcon(this.items,"iconCss");let n,s,o,l,a=this.getULElement();a?a.innerHTML="":a=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(let c=0;c<t.length;c++){s=t[c];const d=s.text;o=this.createElement("li",{className:s.separator?"e-item e-separator":"e-item",attrs:{role:"menuItem",tabindex:"-1"},id:s.id?s.id:Gn("e-"+this.getModuleName()+"-item")}),this.enableHtmlSanitizer?o.textContent=s.url?"":d:o.innerHTML=s.url?"":d,s.url&&(o.appendChild(this.createAnchor(s)),o.classList.add("e-url")),s.iconCss?(n=this.createElement("span",{className:"e-menu-icon "+s.iconCss}),s.url?o.childNodes[0].appendChild(n):o.insertBefore(n,o.childNodes[0])):i&&!s.separator&&o.classList.add("e-blank-icon"),s.disabled&&o.classList.add("e-disabled"),l={item:s,element:o},this.trigger("beforeItemRender",l),a.appendChild(o)}e&&this.getPopUpElement().appendChild(a),i&&function Q_e(r){const e=[].slice.call(r.getElementsByClassName("e-blank-icon"));if(!e.length)return;let t=r.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");if(h(t))return;t.classList.contains("e-url")&&(t=t.querySelector(".e-menu-url"));const i=t.querySelector(".e-menu-icon");let n;const s=r.classList.contains("e-rtl");n=s?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};let o=`${parseInt(getComputedStyle(i).fontSize,10)+parseInt(getComputedStyle(i)[n.margin],10)+parseInt(getComputedStyle(t).paddingLeft,10)}px`;e.forEach(l=>{l.classList.contains("e-url")?l.querySelector(".e-menu-url").style[n.padding]=o:l.style[n.padding]=o})}(this.getPopUpElement())}hasIcon(e,t){for(let i=0,n=e.length;i<n;i++)if(e[i][t])return!0;return!1}createAnchor(e){const t=this.enableHtmlSanitizer?Xr.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t,attrs:{href:e.url}})}initialize(){this.button=new ks({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=Gn("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.target&&!this.isColorPicker()||!this.createPopupOnClick?this.createPopup():this.isPopupCreated=!1}isColorPicker(){if(!this.element)return!1;const e=this.element.previousSibling;return!!(e&&e.classList&&e.classList.contains("e-split-colorpicker"))}appendArrowSpan(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf("e-vertical")>-1?"bottom":"right")+" e-caret"}))}setActiveElem(e){this.activeElem=e}getModuleName(){return"dropdown-btn"}canOpen(){let e=!1;return this.isPopupCreated&&(e=this.getPopUpElement().classList.contains("e-popup-close")),e}destroy(){if(super.destroy(),"dropdown-btn"===this.getModuleName()){let e;this.element.querySelector("span.e-caret")&&de(this.element.querySelector("span.e-caret")),this.cssClass&&(e=this.cssClass.split(" ")),this.button.destroy(),e&&T([this.element],e),T(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach(i=>{this.element.removeAttribute(i)}),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents()}}destroyPopup(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){const e=document.getElementById(this.getPopUpElement().id);e&&(T([e],["e-popup-open","e-popup-close"]),de(e))}C.remove(this.getPopUpElement(),"click",this.clickHandler),C.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&(this.dropDown=void 0)}this.isPopupCreated=!1}getPopUpElement(){let e=null;return this.dropDown&&(e=this.dropDown.element),e}getULElement(){let e=null;return this.getPopUpElement()&&(e=this.getPopUpElement().children[0]),e}wireEvents(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||C.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),C.add(this.element,"click",this.clickHandler,this),C.add(this.element,"keydown",this.keyBoardHandler,this)}popupWireEvents(){const e=this.getPopUpElement();this.createPopupOnClick&&C.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),e&&(C.add(e,"click",this.clickHandler,this),C.add(e,"keydown",this.keyBoardHandler,this)),this.rippleFn=Ys(e,{selector:".e-item"})}popupUnWireEvents(){const e=this.getPopUpElement();this.createPopupOnClick&&C.remove(document,"mousedown touchstart",this.delegateMousedownHandler),e&&e.parentElement&&(C.remove(e,"click",this.clickHandler),C.remove(e,"keydown",this.keyBoardHandler))}keyBoardHandler(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}}upDownKeyHandler(e){this.target&&(38===e.keyCode||40===e.keyCode)||(e.preventDefault(),Y_e(this.getULElement(),e.keyCode))}keyEventHandler(e){this.target&&(13===e.keyCode||9===e.keyCode)||e.target&&e.target.className.indexOf("e-edit-template")>-1&&32===e.keyCode||(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))}getLI(e){return"LI"===e.tagName?e:D(e,"li")}mousedownHandler(e){const t=e.target;this.dropDown&&!this.canOpen()&&!D(t,'[id="'+this.getPopUpElement().id+'"]')&&!D(t,'[id="'+this.element.id+'"]')&&this.closePopup(e)}clickHandler(e){const t=e.target;if(D(t,'[id="'+this.element.id+'"]'))!this.createPopupOnClick||this.target&&!this.isColorPicker()?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(e):this.closePopup(e):this.isPopupCreated?this.closePopup(e,this.activeElem[0]):(this.createPopup(),this.openPopUp(e));else if(D(t,'[id="'+this.getPopUpElement().id+'"]')){let i,n,s;const o=this.getLI(t);o&&(n=Array.prototype.indexOf.call(this.getULElement().children,o),s=this.items[n],s&&(i={element:o,item:s},this.trigger("select",i)),this.closePopup(e,this.activeElem[0]))}}openPopUp(e=null){const t=this.getPopUpElement();if(this.target)if(this.activeElem.length>1){let s=la(this.activeElem[0],"split-btn");s.isReact&&t.childNodes.length<1&&(s.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates())}else this.isReact&&t.childNodes.length<1&&(this.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates());else this.createItems(!0);const i=this.getULElement();this.popupWireEvents(),this.trigger("beforeOpen",{element:i,items:this.items,event:e,cancel:!1},s=>{if(!s.cancel){const o=this.getULElement();this.dropDown.show(null,this.element),_([this.element],"e-active"),this.element.setAttribute("aria-expanded","true"),o.focus(),this.trigger("open",{element:o,items:this.items})}})}closePopup(e=null,t){const n={element:this.getULElement(),items:this.items,event:e,cancel:!1};let s=this.getPopUpElement();s&&C.remove(s,"keydown",this.keyBoardHandler),this.trigger("beforeClose",n,o=>{if(!o.cancel){this.popupUnWireEvents();const l=this.getULElement(),a=l.querySelector(".e-selected");a&&a.classList.remove("e-selected"),this.dropDown.hide(),T(this.activeElem,"e-active"),this.element.setAttribute("aria-expanded","false"),t&&t.focus(),this.trigger("close",{element:l,items:this.items}),!this.target&&l&&de(l),(!this.target||this.isColorPicker())&&this.createPopupOnClick&&this.destroyPopup(),this.target&&(this.isPopupCreated=!this.createPopupOnClick)}})}unWireEvents(){this.createPopupOnClick||C.remove(document,"mousedown touchstart",this.delegateMousedownHandler),C.remove(this.element,"click",this.clickHandler),C.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&(C.remove(this.getPopUpElement(),"click",this.clickHandler),C.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler))}onPropertyChanged(e,t){let n;this.button.setProperties(ub(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.isPopupCreated&&(n=this.getPopUpElement(),this.dropDown.setProperties(ub(e,["enableRtl"])));for(const s of Object.keys(e))switch(s){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":e.cssClass.indexOf("e-vertical")>-1&&ze(this.element.querySelector("span.e-caret"),["e-icon-bottom"],["e-icon-right"]),this.isPopupCreated&&(t.cssClass&&T([n],t.cssClass.split(" ")),e.cssClass&&_([n],e.cssClass.split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":e.createPopupOnClick?this.destroyPopup():this.createPopup()}}focusIn(){this.element.focus()}};Ra([y("")],Cl.prototype,"content",void 0),Ra([y("")],Cl.prototype,"cssClass",void 0),Ra([y(!1)],Cl.prototype,"disabled",void 0),Ra([y("")],Cl.prototype,"iconCss",void 0),Ra([y("Left")],Cl.prototype,"iconPosition",void 0),Ra([y(!1)],Cl.prototype,"enableHtmlSanitizer",void 0),Ra([Hr([],BP)],Cl.prototype,"items",void 0),Ra([y(!1)],Cl.prototype,"createPopupOnClick",void 0),Ra([y("")],Cl.prototype,"target",void 0),Ra([E()],Cl.prototype,"beforeItemRender",void 0),Ra([E()],Cl.prototype,"beforeOpen",void 0),Ra([E()],Cl.prototype,"beforeClose",void 0),Ra([E()],Cl.prototype,"close",void 0),Ra([E()],Cl.prototype,"open",void 0),Ra([E()],Cl.prototype,"select",void 0),Ra([E()],Cl.prototype,"created",void 0),Cl=Ra([Pi],Cl);var ka=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const AD="e-rtl",NP="EJS-SPLITBUTTON";let Ul=class extends Cl{constructor(e,t){super(e,t)}preRender(){let e=this.element;if(e.tagName===NP){const t=M("ej2_instances",e),i=this.createElement("button",{attrs:{type:"button"}}),n=this.createElement(NP,{className:"e-"+this.getModuleName()+"-wrapper"});for(let s=0,o=e.attributes.length;s<o;s++)i.setAttribute(e.attributes[s].nodeName,e.attributes[s].nodeValue);e.parentNode.insertBefore(n,e),de(e),e=i,n.appendChild(e),Ne("ej2_instances",t,e),this.wrapper=n,this.element=e}this.element.id||(this.element.id=Gn("e-"+this.getModuleName()))}render(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()}renderControl(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()}addItems(e,t){super.addItems(e,t),this.secondaryBtnObj.items=this.items}removeItems(e,t){super.removeItems(e,t),this.secondaryBtnObj.items=this.items}initWrapper(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(AD),this.cssClass&&_([this.wrapper],this.cssClass.split(" "))}createPrimaryButton(){this.primaryBtnObj=new ks({cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled}),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)}createSecondaryButton(){const e=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(e);const t={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick};t.beforeItemRender=i=>{this.createPopupOnClick&&(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.trigger("beforeItemRender",i)},t.open=i=>{this.trigger("open",i)},t.close=i=>{this.trigger("close",i)},t.select=i=>{this.trigger("select",i)},t.beforeOpen=i=>{const n=new MD;return this.trigger("beforeOpen",i,s=>{n.resolve(s)}),n},t.beforeClose=i=>{const n=new MD;return this.trigger("beforeClose",i,s=>{n.resolve(s)}),n},this.secondaryBtnObj=new Cl(t),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(e),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")}setAria(){Le(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})}getModuleName(){return"split-btn"}toggle(){this.secondaryBtnObj.toggle()}destroy(){let e=[AD];if(this.cssClass&&(e=e.concat(this.cssClass.split(" "))),this.element){const t=document.getElementById(this.element.id);t&&t.parentElement===this.wrapper&&(this.wrapper.tagName===NP?(this.wrapper.innerHTML="",T([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),T([this.wrapper],this.cssClass.split(" "))):(T([this.element],e),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(i=>{this.element.removeAttribute(i)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),X(this.wrapper)),this.unWireEvents())}this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),super.destroy(),this.element.getAttribute("class")||this.element.removeAttribute("class")}wireEvents(){C.add(this.element,"click",this.primaryBtnClickHandler,this),new tn(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})}unWireEvents(){C.remove(this.element,"click",this.primaryBtnClickHandler),jl(this.element,tn).destroy()}primaryBtnClickHandler(){this.trigger("click",{element:this.element})}btnKeyBoardHandler(e){"altdownarrow"===e.action&&this.clickHandler(e)}onPropertyChanged(e,t){let i=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(ub(e,i)),i=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(ub(e,i));for(const n of Object.keys(e))switch(n){case"cssClass":t.cssClass&&T([this.wrapper],t.cssClass.split(" ")),_([this.wrapper],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?_([this.wrapper],AD):T([this.wrapper],AD)}}focusIn(){this.element.focus()}};ka([y("")],Ul.prototype,"content",void 0),ka([y("")],Ul.prototype,"cssClass",void 0),ka([y(!1)],Ul.prototype,"disabled",void 0),ka([y("")],Ul.prototype,"iconCss",void 0),ka([y("Left")],Ul.prototype,"iconPosition",void 0),ka([y(!1)],Ul.prototype,"createPopupOnClick",void 0),ka([Hr([],BP)],Ul.prototype,"items",void 0),ka([y("")],Ul.prototype,"target",void 0),ka([E()],Ul.prototype,"beforeItemRender",void 0),ka([E()],Ul.prototype,"beforeOpen",void 0),ka([E()],Ul.prototype,"beforeClose",void 0),ka([E()],Ul.prototype,"click",void 0),ka([E()],Ul.prototype,"close",void 0),ka([E()],Ul.prototype,"open",void 0),ka([E()],Ul.prototype,"select",void 0),ka([E()],Ul.prototype,"created",void 0),Ul=ka([Pi],Ul);class MD{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)}}var lo=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const VP="e-hide-spinner",VW="e-progress",pb="e-progress-active",Jm="e-btn-content";class FD extends Nt{}lo([y(null)],FD.prototype,"template",void 0),lo([y(16)],FD.prototype,"width",void 0),lo([y("Left")],FD.prototype,"position",void 0);class PD extends Nt{}lo([y(400)],PD.prototype,"duration",void 0),lo([y("None")],PD.prototype,"effect",void 0),lo([y("ease")],PD.prototype,"easing",void 0);let $l=class extends ks{constructor(e,t){super(e,t),this.step=1}preRender(){super.preRender()}render(){super.render(),this.init(),this.wireEvents(),this.setAria(),this.renderComplete()}start(e){this.isPaused=!1,this.startProgress(e||this.percent,this.progressTime)}stop(){this.isPaused=!0,cancelAnimationFrame(this.timerId)}progressComplete(){this.isPaused=!1,this.finishProgress()}getModuleName(){return"progress-btn"}destroy(){let e=[VP,pb,"e-round-corner","e-"+super.getModuleName(),"e-spin-"+this.spinSettings.position.toLowerCase()];super.destroy(),this.unWireEvents(),this.element.innerHTML="",this.cssClass&&(e=e.concat(this.cssClass.split(" "))),T([this.element],e),(this.element.getAttribute("class")?["aria-label","aria-valuemin","aria-valuemax","aria-valuenow"]:["aria-label","aria-valuemin","aria-valuemax","aria-valuenow","class"]).forEach(i=>{this.element.removeAttribute(i)}),this.disabled&&this.element.removeAttribute("disabled")}init(){this.element.classList.add("e-"+super.getModuleName()),this.setContent(),this.createSpinner(),this.enableProgress&&this.createProgress()}createSpinner(){const e=this.createElement("span",{className:"e-spinner"});this.setSpinPosition(e),bc({target:e,width:this.spinSettings.width||16,template:this.spinSettings.template},this.createElement)}getSpinner(){return this.element.getElementsByClassName("e-spinner")[0]}getProgress(){return this.element.getElementsByClassName(VW)[0]}setSpinPosition(e){const t=this.spinSettings.position||"Left";"Left"===t||"Top"===t?this.element.insertBefore(e,this.element.getElementsByClassName(Jm)[0]):this.element.appendChild(e),this.element.classList.add("e-spin-"+t.toLowerCase())}createProgress(){this.element.appendChild(this.createElement("span",{className:VW}))}setContent(){let e;e=this.element.innerHTML,this.enableHtmlSanitizer&&(e=Xr.sanitize(this.element.innerHTML)),this.element.innerHTML="",this.element.appendChild(this.createElement("span",{className:Jm,innerHTML:e}))}setContentIcon(e){const t=this.createElement("span",{className:Jm,innerHTML:e});if(this.iconCss){const i=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(i.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");const n=t.childNodes[0];!n||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?t.appendChild(i):t.insertBefore(i,n)}this.element.appendChild(t)}clickHandler(){this.element.classList.contains(pb)||this.startProgress()}startProgress(e,t){const i=this.element.classList,n=i.contains("e-vertical");i.add(pb),i.contains(VP)||Go(this.element),this.startAnimate(Date.now(),t||0,t?Date.now()-1*this.duration/100:Date.now(),e||0,0,this.step,0,n),this.startContAnimate()}startAnimate(e,t,i,n,s,o,l,a){try{const c=e-i,d=this.duration*o/100,u=c?c<d?c-d:c%d:0;this.progressTime=t=t+c-u,i=e-u,n+=(c-u)/this.duration*100;const p={percent:s=(t-l)%d==0||100===n?n:s,currentDuration:t,step:o};this.eIsVertical=a,this.trigger(0===n?"begin":100===n||t===this.duration?"end":"progress",p,g=>{this.successCallback(g,n,s,t,l,u,i)})}catch(c){cancelAnimationFrame(this.timerId),this.trigger("fail",c)}}successCallback(e,t,i,n,s,o,l){let a=t,c=i;const d=o,u=n;let p=s;const g=l,f=this.eIsVertical;a!==e.percent&&e.percent!==c&&(a=e.percent),this.percent=a,this.step=e.step,((u-p)%(this.duration*e.step/100)==0||100===a)&&(this.timerId=requestAnimationFrame(()=>{this.enableProgress&&(this.getProgress().style[f?"height":"width"]=a+"%"),this.element.setAttribute("aria-valuenow",a.toString())}),c=a,p=u),this.isPaused||(this.interval=u<this.duration&&a<100?window.setTimeout(()=>{this.startAnimate(Date.now(),u,g,a,c,e.step,p,f)},this.duration/100-d):window.setTimeout(()=>{this.progressTime=this.percent=0,this.enableProgress&&(this.getProgress().style[f?"height":"width"]="0%"),this.element.setAttribute("aria-valuenow","0"),this.hideSpin()},100))}startContAnimate(){const e=this.element.getElementsByClassName(Jm)[0];"None"!==this.animationSettings.effect?new _s({}).animate(e,{duration:this.animationSettings.duration,name:"Progress"+this.animationSettings.effect,timingFunction:this.animationSettings.easing,begin:()=>{"Center"===this.spinSettings.position&&this.setSpinnerSize()},end:()=>{e.classList.add("e-animate-end")}}):"Center"===this.spinSettings.position&&this.setSpinnerSize()}finishProgress(){const e=this.element.classList,t=e.contains("e-vertical");e.add(pb);for(let s=this.percent;s<100;s++)s+=10,s>100&&(s=100),this.enableProgress&&(this.getProgress().style[t?"height":"width"]=this.percent<100?s+"%":"100%");this.element.setAttribute("aria-valuenow","0"),this.hideSpin();const n={step:this.step,currentDuration:this.progressTime,percent:100};clearTimeout(this.interval),this.trigger("end",n),this.progressTime=this.percent=0}setSpinnerSize(){const e=this.element.getElementsByClassName(Jm)[0],t=this.getSpinner();t.style.width=Math.max(t.offsetWidth,e.offsetWidth)+"px",t.style.height=Math.max(t.offsetHeight,e.offsetHeight)+"px",e.classList.add("e-cont-animate")}hideSpin(){const e=this.element.getElementsByClassName(Jm)[0];if(this.element.classList.contains(VP)||qo(this.element),this.element.classList.remove(pb),"None"!==this.animationSettings.effect&&e.classList.remove("e-animate-end"),"Center"===this.spinSettings.position){const t=this.getSpinner();e.classList.remove("e-cont-animate"),t.style.width="auto",t.style.height="auto"}}setIconSpan(){const e=this.element.getElementsByClassName(Jm)[0],t=this.element.getElementsByClassName("e-btn-icon")[0];!e.childNodes[0]||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?e.appendChild(t):e.insertBefore(t,e.childNodes[0])}setAria(){Le(this.element,{"aria-label":this.element.textContent+" progress","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0"})}wireEvents(){C.add(this.element,"click",this.clickHandler,this)}unWireEvents(){C.remove(this.element,"click",this.clickHandler)}onPropertyChanged(e,t){const i=this.element;let n=!1;this.element.querySelector(".e-spinner-pane").classList.contains("e-spin-show")&&(n=!0),super.onPropertyChanged(e,t);for(const o of Object.keys(e))switch(o){case"content":this.setContent(),this.createSpinner(),n&&(Go(this.element),n=!1),this.enableProgress&&this.createProgress(),i.setAttribute("aria-label",i.textContent+" progress");break;case"iconCss":t.iconCss||this.setIconSpan();break;case"iconPosition":this.setIconSpan();break;case"enableProgress":e.enableProgress?this.createProgress():X(this.getProgress());break;case"spinSettings":e.spinSettings.position&&(i.classList.remove("e-spin-"+t.spinSettings.position.toLowerCase()),this.setSpinPosition(this.getSpinner())),(e.spinSettings.template||e.spinSettings.width)&&(i.removeChild(this.getSpinner()),this.createSpinner())}}focusIn(){this.element.focus()}};lo([y(!1)],$l.prototype,"enableProgress",void 0),lo([y(2e3)],$l.prototype,"duration",void 0),lo([y("Left")],$l.prototype,"iconPosition",void 0),lo([y("")],$l.prototype,"iconCss",void 0),lo([y(!1)],$l.prototype,"disabled",void 0),lo([y(!1)],$l.prototype,"isPrimary",void 0),lo([y("")],$l.prototype,"cssClass",void 0),lo([y("")],$l.prototype,"content",void 0),lo([y(!1)],$l.prototype,"isToggle",void 0),lo([y(!1)],$l.prototype,"enableHtmlSanitizer",void 0),lo([gi({},FD)],$l.prototype,"spinSettings",void 0),lo([gi({},PD)],$l.prototype,"animationSettings",void 0),lo([E()],$l.prototype,"created",void 0),lo([E()],$l.prototype,"begin",void 0),lo([E()],$l.prototype,"progress",void 0),lo([E()],$l.prototype,"end",void 0),lo([E()],$l.prototype,"fail",void 0),$l=lo([Pi],$l);var ke;!function(r){let e,t=!0;function n(ne){s(ne.floatLabelType,ne.element),ne.element.addEventListener("focus",function(){const we=m(this);(we.classList.contains("e-input-group")||we.classList.contains("e-outline")||we.classList.contains("e-filled"))&&we.classList.add("e-input-focus")}),ne.element.addEventListener("blur",function(){const we=m(this);(we.classList.contains("e-input-group")||we.classList.contains("e-outline")||we.classList.contains("e-filled"))&&we.classList.remove("e-input-focus")}),ne.element.addEventListener("input",()=>{s(e,ne.element)})}function s(ne,we){const ot=we.value;""!==ot&&!h(ot)&&we.parentElement?we.parentElement.classList.add("e-valid-input"):"Always"!==ne&&we.parentElement&&we.parentElement.classList.remove("e-valid-input")}function o(){const ne=m(this).getElementsByClassName("e-float-text")[0];h(ne)||(_([ne],"e-label-top"),ne.classList.contains("e-label-bottom")&&T([ne],"e-label-bottom"))}function l(){const ne=m(this);if(ne.getElementsByTagName("textarea")[0]?""===ne.getElementsByTagName("textarea")[0].value:""===ne.getElementsByTagName("input")[0].value){const we=ne.getElementsByClassName("e-float-text")[0];h(we)||(we.classList.contains("e-label-top")&&T([we],"e-label-top"),_([we],"e-label-bottom"))}}function a(ne){ne.addEventListener("focus",o),ne.addEventListener("blur",l)}function d(ne,we,ot){const Vt=h(ot)?Xe:ot;"Auto"===ne.floatLabelType&&a(ne.element),h(we.container)?(we.container=b(ne,"e-float-input","e-float-custom-tag","div",Vt),ne.element.parentNode&&ne.element.parentNode.insertBefore(we.container,ne.element)):(h(ne.customTag)||we.container.classList.add("e-float-custom-tag"),we.container.classList.add("e-float-input"));const Qi=Vt("span",{className:"e-float-line"}),Ci=Vt("label",{className:"e-float-text"});if(!h(ne.element.id)&&""!==ne.element.id&&(Ci.id="label_"+ne.element.id.replace(/ /g,"_"),Le(ne.element,{"aria-labelledby":Ci.id})),!h(ne.element.placeholder)&&""!==ne.element.placeholder&&(Ci.innerText=I(ne.element.placeholder),ne.element.removeAttribute("placeholder")),!h(ne.properties)&&!h(ne.properties.placeholder)&&""!==ne.properties.placeholder&&(Ci.innerText=I(ne.properties.placeholder)),Ci.innerText||we.container.classList.add("e-no-float-label"),we.container.classList.contains("e-float-icon-left")){const hs=we.container.querySelector(".e-input-in-wrap");hs.appendChild(ne.element),hs.appendChild(Qi),hs.appendChild(Ci)}else we.container.appendChild(ne.element),we.container.appendChild(Qi),we.container.appendChild(Ci);f(ne.element.value,Ci),"Always"===ne.floatLabelType&&(Ci.classList.contains("e-label-bottom")&&T([Ci],"e-label-bottom"),_([Ci],"e-label-top")),"Auto"===ne.floatLabelType&&(ne.element.addEventListener("input",hs=>{f(ne.element.value,Ci,ne.element)}),ne.element.addEventListener("blur",hs=>{f(ne.element.value,Ci)})),h(ne.element.getAttribute("id"))||Ci.setAttribute("for",ne.element.getAttribute("id"))}function u(ne,we){"Always"===ne&&we.classList.contains("e-outline")&&we.classList.add("e-valid-input")}function g(ne,we,ot){ne&&!ot?T([we],"e-clear-icon-hide"):_([we],"e-clear-icon-hide")}function f(ne,we,ot=null){ne?(_([we],"e-label-top"),we.classList.contains("e-label-bottom")&&T([we],"e-label-bottom")):(null==ot||ot!==document.activeElement)&&(we.classList.contains("e-label-top")&&T([we],"e-label-top"),_([we],"e-label-bottom"))}function m(ne){let we=h(ne.parentNode)?ne:ne.parentNode;return we&&we.classList.contains("e-input-in-wrap")&&(we=we.parentNode),we}function x(ne,we,ot){(null==t||t)&&we.addEventListener("click",Vt=>{ne.classList.contains("e-disabled")||ne.readOnly||(Vt.preventDefault(),ne!==document.activeElement&&ne.focus(),ne.value="",_([we],"e-clear-icon-hide"))}),ne.addEventListener("input",Vt=>{g(ne.value,we)}),ne.addEventListener("focus",Vt=>{g(ne.value,we,ne.readOnly)}),ne.addEventListener("blur",Vt=>{setTimeout(()=>{_([we],"e-clear-icon-hide")},200)})}function w(ne,we){if(m(ne).classList.contains("e-float-input")&&"Auto"===we){const Vt=m(ne).getElementsByClassName("e-float-text")[0];f(ne.value,Vt,ne)}}function b(ne,we,ot,Vt,Qi){const Ci=h(Qi)?Xe:Qi;let hs;return h(ne.customTag)?hs=Ci(Vt,{className:we}):(hs=Ci(ne.customTag,{className:we}),hs.classList.add(ot)),hs.classList.add("e-control-wrapper"),hs}function I(ne){let we="";if(!h(ne)&&""!==ne){const ot=document.createElement("span");ot.innerHTML='<input  placeholder="'+ne+'"/>',we=ot.children[0].placeholder}return we}function P(ne,we,ot){!h(ot)&&""!==ot&&T(we,ot.split(" ")),!h(ne)&&""!==ne&&_(we,ne.split(" "))}function oe(ne,we){ne=I(ne);const ot=m(we);ot.classList.contains("e-float-input")?h(ne)||""===ne?(ot.classList.add("e-no-float-label"),ot.getElementsByClassName("e-float-text")[0].textContent=""):(ot.getElementsByClassName("e-float-text")[0].textContent=ne,ot.classList.remove("e-no-float-label"),we.removeAttribute("placeholder")):h(ne)||""===ne?(we.removeAttribute("placeholder"),we.removeAttribute("aria-placeholder")):Le(we,{placeholder:ne,"aria-placeholder":ne})}function ae(ne,we,ot){ne?Le(we,{readonly:""}):we.removeAttribute("readonly"),h(ot)||w(we,ot)}function xe(ne,we){ne?_(we,"e-rtl"):T(we,"e-rtl")}function z(ne,we,ot,Vt){const Qi={disabled:"disabled","aria-disabled":"true"},Ci=!h(Vt);ne?(we.classList.remove("e-disabled"),ye(Qi,we),Ci&&T([Vt],"e-disabled")):(we.classList.add("e-disabled"),le(Qi,we),Ci&&_([Vt],"e-disabled")),h(ot)||w(we,ot)}function Re(ne,we,ot,Vt,Qi){const Ci=h(Qi)?Xe:Qi;ne?ot.clearButton=function v(ne,we,ot,Vt){const Ci=(h(Vt)?Xe:Vt)("span",{className:"e-clear-icon"}),hs=we.container;return h(ot)?(we.container.classList.contains("e-float-input")?we.container.querySelector(".e-float-text"):ne).insertAdjacentElement("afterend",Ci):hs.appendChild(Ci),!h(hs)&&hs.classList.contains("e-float-input")&&_([hs],"e-input-group"),_([Ci],"e-clear-icon-hide"),x(ne,Ci),Ci.setAttribute("aria-label","close"),Ci}(we,ot,Vt,Ci):(X(ot.clearButton),ot.clearButton=null)}function ye(ne,we){for(const ot of Object.keys(ne)){const Vt=m(we);"disabled"===ot&&we.classList.remove("e-disabled"),"disabled"===ot&&Vt.classList.contains("e-input-group")&&Vt.classList.remove("e-disabled"),"placeholder"===ot&&Vt.classList.contains("e-float-input")?Vt.getElementsByClassName("e-float-text")[0].textContent="":we.removeAttribute(ot)}}function le(ne,we){for(const ot of Object.keys(ne)){const Vt=m(we);"disabled"===ot&&we.classList.add("e-disabled"),"disabled"===ot&&Vt.classList.contains("e-input-group")&&Vt.classList.add("e-disabled"),"placeholder"===ot&&Vt.classList.contains("e-float-input")?Vt.getElementsByClassName("e-float-text")[0].textContent=ne[ot]:we.setAttribute(ot,ne[ot])}}function ce(ne,we,ot){const Vt=[];Vt.push(ot);const Qi=h(ot)?we.querySelectorAll(".e-input-group-icon"):Vt;if(ne&&Qi.length>0)for(let Ci=0;Ci<Qi.length;Ci++)Qi[Ci].addEventListener("mousedown",Ge,!1),Qi[Ci].addEventListener("mouseup",jt,!1);else if(Qi.length>0)for(let Ci=0;Ci<Qi.length;Ci++)Qi[Ci].removeEventListener("mousedown",Ge,this),Qi[Ci].removeEventListener("mouseup",jt,this)}function Ge(){let we=this.parentElement;for(;!we.classList.contains("e-input-group");)we=we.parentElement;!function Be(ne,we){!ne.classList.contains("e-disabled")&&!ne.querySelector("input").readOnly&&we.classList.add("e-input-btn-ripple")}(we,this)}function jt(){const ne=this;setTimeout(()=>{ne.classList.remove("e-input-btn-ripple")},500)}function Wt(ne,we){const ot=we("span",{className:ne});return ot.classList.add("e-input-group-icon"),ot}function ri(ne,we,ot,Vt){const Qi=h(Vt)?Xe:Vt,Ci=Wt(ne,Qi);we.classList.add("e-float-icon-left");let hs=we.querySelector(".e-input-in-wrap");if(h(hs)){hs=Qi("span",{className:"e-input-in-wrap"}),ot.parentNode.insertBefore(hs,ot);const Dv=we.querySelectorAll(ot.tagName+" ~ *");hs.appendChild(ot);for(let Uc=0;Uc<Dv.length;Uc++)hs.appendChild(Dv[Uc])}return hs.parentNode.insertBefore(Ci,hs),we.classList.contains("e-input-group")||we.classList.add("e-input-group"),ce(!0,we,Ci),Ci}function Ai(ne,we,ot){const Qi=Wt(ne,h(ot)?Xe:ot);return we.classList.contains("e-input-group")||we.classList.add("e-input-group"),(we.classList.contains("e-float-icon-left")?we.querySelector(".e-input-in-wrap"):we).appendChild(Qi),ce(!0,we,Qi),Qi}function zt(ne,we){"hidden"===we.type?ne.classList.add("e-hidden"):ne.classList.contains("e-hidden")&&ne.classList.remove("e-hidden")}r.createInput=function i(ne,we){const ot=h(we)?Xe:we;let Vt={container:null,buttons:[],clearButton:null};if(e=ne.floatLabelType,t=ne.bindClearAction,h(ne.floatLabelType)||"Never"===ne.floatLabelType?(Vt.container=b(ne,"e-input-group","e-input-custom-tag","span",ot),ne.element.parentNode.insertBefore(Vt.container,ne.element),_([ne.element],"e-input"),Vt.container.appendChild(ne.element)):d(ne,Vt,ot),n(ne),!h(ne.properties)&&!h(ne.properties.showClearButton)&&ne.properties.showClearButton&&"TEXTAREA"!==ne.element.tagName&&(Re(ne.properties.showClearButton,ne.element,Vt,!0,ot),Vt.clearButton.setAttribute("role","button"),Vt.container.classList.contains("e-float-input")&&_([Vt.container],"e-input-group")),!h(ne.buttons)&&"TEXTAREA"!==ne.element.tagName)for(let Qi=0;Qi<ne.buttons.length;Qi++)Vt.buttons.push(Ai(ne.buttons[Qi],Vt.container,ot));return!h(ne.element)&&"TEXTAREA"===ne.element.tagName&&_([Vt.container],"e-multi-line-input"),zt(Vt.container,ne.element),Vt=function p(ne,we){if(!h(ne.properties))for(const ot of Object.keys(ne.properties))switch(ot){case"cssClass":P(ne.properties.cssClass,[we.container]),u(ne.floatLabelType,we.container);break;case"enabled":z(ne.properties.enabled,ne.element,ne.floatLabelType,we.container);break;case"enableRtl":xe(ne.properties.enableRtl,[we.container]);break;case"placeholder":oe(ne.properties.placeholder,ne.element);break;case"readonly":ae(ne.properties.readonly,ne.element)}return we}(ne,Vt),Vt},r.bindInitialEvent=n,r.wireFloatingEvents=a,r.wireClearBtnEvents=x,r.setValue=function k(ne,we,ot,Vt){if(we.value=ne,!h(ot)&&"Auto"===ot&&w(we,ot),!h(Vt)&&Vt){const Qi=m(we);if(!h(Qi)){const Ci=Qi.getElementsByClassName("e-clear-icon")[0];h(Ci)||(we.value&&Qi.classList.contains("e-input-focus")?T([Ci],"e-clear-icon-hide"):_([Ci],"e-clear-icon-hide"))}}s(ot,we)},r.setCssClass=P,r.setWidth=function W(ne,we){"number"==typeof ne?we.style.width=$e(ne):"string"==typeof ne&&(we.style.width=ne.match(/px|%|em/)?ne:$e(ne))},r.setPlaceholder=oe,r.setReadonly=ae,r.setEnableRtl=xe,r.setEnabled=z,r.setClearButton=Re,r.removeAttributes=ye,r.addAttributes=le,r.removeFloating=function ge(ne){const we=ne.container;if(!h(we)&&we.classList.contains("e-float-input")){const ot=we.querySelector("textarea")?we.querySelector("textarea"):we.querySelector("input"),Vt=we.querySelector(".e-float-text").textContent,Qi=null!==we.querySelector(".e-clear-icon");de(we.querySelector(".e-float-line")),de(we.querySelector(".e-float-text")),ze(we,["e-input-group"],["e-float-input"]),function c(ne){ne.removeEventListener("focus",o),ne.removeEventListener("blur",l)}(ot),Le(ot,{placeholder:Vt}),ot.classList.add("e-input"),!Qi&&"INPUT"===ot.tagName&&ot.removeAttribute("required")}},r.addFloating=function Y(ne,we,ot,Vt){const Qi=h(Vt)?Xe:Vt,Ci=D(ne,".e-input-group");if(e=we,"Never"!==we){let hs=Ci.tagName;hs="DIV"!==hs&&"SPAN"!==hs?hs:null;const Dv={element:ne,floatLabelType:we,customTag:hs,properties:{placeholder:ot}};let Uc=Ci.querySelector(".e-clear-icon");const SH={container:Ci};ne.classList.remove("e-input"),d(Dv,SH,Qi);const gS=Ci.classList.contains("e-float-icon-left");if(h(Uc)&&(Uc=gS?Ci.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):Ci.querySelector(".e-input-group-icon")),h(Uc))gS&&(Uc=Ci.querySelector(".e-input-group-icon")),h(Uc)&&Ci.classList.remove("e-input-group");else{const aA=Ci.querySelector(".e-float-line"),IH=Ci.querySelector(".e-float-text"),fS=gS?Ci.querySelector(".e-input-in-wrap"):Ci;fS.insertBefore(ne,Uc),fS.insertBefore(aA,Uc),fS.insertBefore(IH,Uc)}}u(we,ne.parentElement)},r.setRipple=function U(ne,we){for(let ot=0;ot<we.length;ot++)ce(ne,we[ot].container)},r.addIcon=function Mi(ne,we,ot,Vt,Qi){const Ci="string"==typeof we?we.split(","):we;if("append"===ne.toLowerCase())for(const hs of Ci)Ai(hs,ot,Qi);else for(const hs of Ci)ri(hs,ot,Vt,Qi)},r.prependSpan=ri,r.appendSpan=Ai,r.validateInputType=zt}(ke||(ke={}));var zr=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const HP="e-input-group-icon",zP="e-spin-up",jP="e-error",Ly="increment",gb="decrement",Z_e=new RegExp("^(-)?(\\d*)$"),HW="e-input-focus",zW=["title","style","class"];let ng=(()=>{let r=class extends an{constructor(t,i){super(t,i),this.isVue=!1,this.preventChange=!1,this.isAngular=!1,this.isDynamicChange=!1,this.numericOptions=t}preRender(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;const t=M("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),T([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=D(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;const n=this.createElement("input");let s=0;for(;s<this.element.attributes.length;s++){const o=this.element.attributes[s].nodeName;"id"!==o&&"class"!==o?(n.setAttribute(this.element.attributes[s].nodeName,this.element.attributes[s].nodeValue),n.innerHTML=this.element.innerHTML):"class"===o&&n.setAttribute(o,this.element.className.split(" ").filter(l=>0!==l.indexOf("ng-")).join(" "))}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(n),this.element=n,Ne("ej2_instances",t,this.element)}Le(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off","aria-live":"assertive"}),this.l10n=new is("numerictextbox",{incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()}render(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null!==this.value&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete())}checkAttributes(t){const i=t?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];for(const n of i)if(!h(this.element.getAttribute(n)))switch(n){case"disabled":if(h(this.numericOptions)||void 0===this.numericOptions.enabled||t){const s=!("disabled"===this.element.getAttribute(n)||""===this.element.getAttribute(n)||"true"===this.element.getAttribute(n));this.setProperties({enabled:s},!t)}break;case"readonly":if(h(this.numericOptions)||void 0===this.numericOptions.readonly||t){const s="readonly"===this.element.getAttribute(n)||""===this.element.getAttribute(n)||"true"===this.element.getAttribute(n);this.setProperties({readonly:s},!t)}break;case"placeholder":(h(this.numericOptions)||void 0===this.numericOptions.placeholder||t)&&this.setProperties({placeholder:this.element.placeholder},!t);break;case"value":if(h(this.numericOptions)||void 0===this.numericOptions.value||t){const s=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));this.setProperties(Ne(n,s,{}),!t)}break;case"min":if(h(this.numericOptions)||void 0===this.numericOptions.min||t){const s=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null!==s&&!isNaN(s)&&this.setProperties(Ne(n,s,{}),!t)}break;case"max":if(h(this.numericOptions)||void 0===this.numericOptions.max||t){const s=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null!==s&&!isNaN(s)&&this.setProperties(Ne(n,s,{}),!t)}break;case"step":if(h(this.numericOptions)||void 0===this.numericOptions.step||t){const s=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));null!==s&&!isNaN(s)&&this.setProperties(Ne(n,s,{}),!t)}break;case"style":this.inputStyle=this.element.getAttribute(n);break;case"name":this.inputName=this.element.getAttribute(n);break;default:{const s=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));(null!==s&&!isNaN(s)||"value"===n)&&this.setProperties(Ne(n,s,{}),!0)}}}updatePlaceholder(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)}initCultureFunc(){this.instance=new Nn(this.locale)}initCultureInfo(){this.cultureInfo.format=this.format,null!==M("currency",this)&&(Ne("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))}createWrapper(){let t=this.cssClass;!h(this.cssClass)&&""!==this.cssClass&&(t=this.getNumericValidClassList(this.cssClass));const i=ke.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=i,this.container=i.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&Le(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),Le(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&Le(this.container,{style:this.inputStyle})}updateDataAttribute(t){let i={};if(t)i=this.htmlAttributes;else for(let n=0;n<this.element.attributes.length;n++)i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(const n of Object.keys(i))0===n.indexOf("data")&&this.hiddenInput.setAttribute(n,i[n])}updateHTMLAttrToElement(){if(!h(this.htmlAttributes))for(const t of Object.keys(this.htmlAttributes))zW.indexOf(t)<0&&this.element.setAttribute(t,this.htmlAttributes[t])}updateCssClass(t,i){ke.setCssClass(this.getNumericValidClassList(t),[this.container],this.getNumericValidClassList(i))}getNumericValidClassList(t){let i=t;return!h(t)&&""!==t&&(i=t.replace(/\s+/g," ").trim()),i}updateHTMLAttrToWrapper(){if(!h(this.htmlAttributes))for(const t of Object.keys(this.htmlAttributes))if(zW.indexOf(t)>-1)if("class"===t){const i=this.getNumericValidClassList(this.htmlAttributes[t]);""!==i&&_([this.container],i.split(" "))}else if("style"===t){let i=this.container.getAttribute(t);i=h(i)?this.htmlAttributes[t]:i+this.htmlAttributes[t],this.container.setAttribute(t,i)}else this.container.setAttribute(t,this.htmlAttributes[t])}setElementWidth(t){h(t)||("number"==typeof t?this.container.style.width=$e(t):"string"==typeof t&&(this.container.style.width=t.match(/px|%|em/)?t:$e(t)))}spinBtnCreation(){this.spinDown=ke.appendSpan(HP+" e-spin-down",this.container,this.createElement),Le(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),this.spinUp=ke.appendSpan(HP+" "+zP,this.container,this.createElement),Le(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()}validateMinMax(){"number"==typeof this.min&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),"number"==typeof this.max&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),Le(this.element,{"aria-valuemin":this.min.toString(),"aria-valuemax":this.max.toString()})}formattedValue(t,i){return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(i)}validateStep(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)}action(t,i){this.isInteract=!0;const n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,t)),this.raiseChangeEvent(i)}checkErrorClass(){this.isValidState?T([this.container],jP):_([this.container],jP),Le(this.element,{"aria-invalid":this.isValidState?"false":"true"})}bindClearEvent(){this.showClearButton&&C.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}resetHandler(t){t.preventDefault(),(!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.inputWrapper.container.classList.contains("e-static-clear"))&&this.clear(t),this.isInteract=!0,this.raiseChangeEvent(t)}clear(t){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",D(this.element,"form")){const n=this.element.nextElementSibling,s=document.createEvent("KeyboardEvent");s.initEvent("keyup",!1,!0),n.dispatchEvent(s)}}resetFormHandler(){this.updateValue("EJS-NUMERICTEXTBOX"===this.element.tagName?null:this.inputEleValue)}setSpinButton(){h(this.spinDown)||Le(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),h(this.spinUp)||Le(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})}wireEvents(){C.add(this.element,"focus",this.focusHandler,this),C.add(this.element,"blur",this.focusOutHandler,this),C.add(this.element,"keydown",this.keyDownHandler,this),C.add(this.element,"keyup",this.keyUpHandler,this),C.add(this.element,"input",this.inputHandler,this),C.add(this.element,"keypress",this.keyPressHandler,this),C.add(this.element,"change",this.changeHandler,this),C.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&C.add(this.formEle,"reset",this.resetFormHandler,this))}wireSpinBtnEvents(){C.add(this.spinUp,A.touchStartEvent,this.mouseDownOnSpinner,this),C.add(this.spinDown,A.touchStartEvent,this.mouseDownOnSpinner,this),C.add(this.spinUp,A.touchEndEvent,this.mouseUpOnSpinner,this),C.add(this.spinDown,A.touchEndEvent,this.mouseUpOnSpinner,this),C.add(this.spinUp,A.touchMoveEvent,this.touchMoveOnSpinner,this),C.add(this.spinDown,A.touchMoveEvent,this.touchMoveOnSpinner,this)}unwireEvents(){C.remove(this.element,"focus",this.focusHandler),C.remove(this.element,"blur",this.focusOutHandler),C.remove(this.element,"keyup",this.keyUpHandler),C.remove(this.element,"input",this.inputHandler),C.remove(this.element,"keydown",this.keyDownHandler),C.remove(this.element,"keypress",this.keyPressHandler),C.remove(this.element,"change",this.changeHandler),C.remove(this.element,"paste",this.pasteHandler),this.formEle&&C.remove(this.formEle,"reset",this.resetFormHandler)}unwireSpinBtnEvents(){C.remove(this.spinUp,A.touchStartEvent,this.mouseDownOnSpinner),C.remove(this.spinDown,A.touchStartEvent,this.mouseDownOnSpinner),C.remove(this.spinUp,A.touchEndEvent,this.mouseUpOnSpinner),C.remove(this.spinDown,A.touchEndEvent,this.mouseUpOnSpinner),C.remove(this.spinUp,A.touchMoveEvent,this.touchMoveOnSpinner),C.remove(this.spinDown,A.touchMoveEvent,this.touchMoveOnSpinner)}changeHandler(t){t.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);const i=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(i,t)}raiseChangeEvent(t){if(this.prevValue!==this.value){const i={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:t},t&&(this.changeEventArgs.event=t),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),Nr(i,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",i)}}pasteHandler(){if(!this.enabled||this.readonly)return;const t=this.element.value;setTimeout(()=>{this.numericRegex().test(this.element.value)||this.setElementValue(t)})}preventHandler(){const t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(()=>{if(this.element.selectionStart>0){const i=this.element.selectionStart,n=this.element.selectionStart-1,s=0,o=this.element.value.split(""),a=M("decimal",Kw(this.locale)),c=a.charCodeAt(0);" "===this.element.value[n]&&this.element.selectionStart>0&&!t?(h(this.prevVal)?this.element.value=this.element.value.trim():0!==n?this.element.value=this.prevVal:0===n&&(this.element.value=this.element.value.trim()),this.element.setSelectionRange(n,n)):isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&45!==this.element.value[this.element.selectionStart-1].charCodeAt(0)?(o.indexOf(this.element.value[this.element.selectionStart-1])!==o.lastIndexOf(this.element.value[this.element.selectionStart-1])&&this.element.value[this.element.selectionStart-1].charCodeAt(0)===c||this.element.value[this.element.selectionStart-1].charCodeAt(0)!==c)&&(this.element.value=this.element.value.substring(0,n)+this.element.value.substring(i,this.element.value.length),this.element.setSelectionRange(n,n),isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&this.element.selectionStart>0&&this.element.value.length&&this.preventHandler()):isNaN(parseFloat(this.element.value[this.element.selectionStart-2]))&&this.element.selectionStart>1&&45!==this.element.value[this.element.selectionStart-2].charCodeAt(0)&&(o.indexOf(this.element.value[this.element.selectionStart-2])!==o.lastIndexOf(this.element.value[this.element.selectionStart-2])&&this.element.value[this.element.selectionStart-2].charCodeAt(0)===c||this.element.value[this.element.selectionStart-2].charCodeAt(0)!==c)&&(this.element.setSelectionRange(n,n),this.nextEle=this.element.value[this.element.selectionStart],this.cursorPosChanged=!0,this.preventHandler()),!0===this.cursorPosChanged&&this.element.value[this.element.selectionStart]===this.nextEle&&isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&(this.element.setSelectionRange(this.element.selectionStart+1,this.element.selectionStart+1),this.cursorPosChanged=!1,this.nextEle=null),""===this.element.value.trim()&&this.element.setSelectionRange(s,s),this.element.selectionStart>0&&(45===this.element.value[this.element.selectionStart-1].charCodeAt(0)&&this.element.selectionStart>1&&(this.element.value=h(this.prevVal)?this.element.value:this.prevVal,this.element.setSelectionRange(this.element.selectionStart,this.element.selectionStart)),this.element.value[this.element.selectionStart-1]===a&&0===this.decimals&&this.validateDecimalOnType&&(this.element.value=this.element.value.substring(0,n)+this.element.value.substring(i,this.element.value.length))),this.prevVal=this.element.value}})}keyUpHandler(){if(!this.enabled||this.readonly)return;(!navigator.platform||!/iPad|iPhone|iPod/.test(navigator.platform))&&A.isDevice&&this.preventHandler();let i=this.instance.getNumberParser({format:"n"})(this.element.value);if(i=null===i||isNaN(i)?null:i,this.hiddenInput.value=i||0===i?i.toString():null,D(this.element,"form")){const s=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),s.dispatchEvent(o)}}inputHandler(t){const i=this;if(!this.enabled||this.readonly)return;const n=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||n)&&A.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==M("decimal",Kw(this.locale))&&this.element.value!==M("minusSign",Kw(this.locale))){let o=this.instance.getNumberParser({format:"n"})(this.element.value);o=isNaN(o)?null:o,i.localChange({value:o}),this.preventChange=!0}if(this.isVue){let o=this.instance.getNumberParser({format:"n"})(this.element.value);const l=this.instance.getNumberParser({format:"n"})(this.elementPrevValue);new RegExp("[^1-9]+$").test(this.element.value)&&(o=this.value);const c={event:t,value:null===o||isNaN(o)?null:o,previousValue:null===l||isNaN(l)?null:l};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",c)}}keyDownHandler(t){if(!this.readonly)switch(t.keyCode){case 38:t.preventDefault(),this.action(Ly,t);break;case 40:t.preventDefault(),this.action(gb,t)}}performAction(t,i,n){(null===t||isNaN(t))&&(t=0);let s=n===Ly?t+i:t-i;return s=this.correctRounding(t,i,s),this.strictMode?this.trimValue(s):s}correctRounding(t,i,n){const s=new RegExp("[,.](.*)"),o=s.test(t.toString()),l=s.test(i.toString());if(o||l){const a=o?s.exec(t.toString())[0].length:0,c=l?s.exec(i.toString())[0].length:0,d=Math.max(a,c);return this.roundValue(n,d)}return n}roundValue(t,i){i=i||0;const n=Math.pow(10,i);return Math.round(t*=n)/n}updateValue(t,i){i&&(this.isInteract=!0),null!==t&&!isNaN(t)&&this.decimals&&(t=this.roundNumber(t,this.decimals)),this.changeValue(null===t||isNaN(t)?null:this.strictMode?this.trimValue(t):t),this.isDynamicChange||this.raiseChangeEvent(i)}updateCurrency(t,i){Ne(t,i,this.cultureInfo),this.updateValue(this.value)}changeValue(t){if(t||0===t){const i=this.getNumberOfDecimals(t);this.setProperties({value:this.roundNumber(t,i)},!0)}else this.setProperties({value:t=null},!0);this.modifyText(),this.strictMode||this.validateState()}modifyText(){if(this.value||0===this.value){const t=this.formatNumber(),i=this.isFocused?t:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(i),Le(this.element,{"aria-valuenow":t}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null}setElementValue(t,i){ke.setValue(t,i||this.element,this.floatLabelType,this.showClearButton)}validateState(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()}getNumberOfDecimals(t){let i;const n=new RegExp("[eE][-+]?([0-9]+)");let s=t.toString();if(n.test(s)){const l=n.exec(s);h(l)||(s=t.toFixed(Math.min(parseInt(l[1],10),20)))}const o=s.split(".")[1];return i=o&&o.length?o.length:0,null!==this.decimals&&(i=i<this.decimals?i:this.decimals),i}formatNumber(){const t=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(this.value)}trimValue(t){return t>this.max?this.max:t<this.min?this.min:t}roundNumber(t,i){let n=t;const s=i||0,o=n.toString().split("e");n=Math.round(Number(o[0]+"e"+(o[1]?Number(o[1])+s:s)));const l=n.toString().split("e");return n=Number(l[0]+"e"+(l[1]?Number(l[1])-s:-s)),Number(n.toFixed(s))}cancelEvent(t){return t.preventDefault(),!1}keyPressHandler(t){if(!this.enabled||this.readonly)return!0;if(!A.isDevice&&"11.0"===A.info.version&&13===t.keyCode){const l=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(l,t),!0}if(0===t.which||t.metaKey||t.ctrlKey||8===t.keyCode||13===t.keyCode)return!0;let i=String.fromCharCode(t.which),n=M("decimal",Kw(this.locale)),s="NumpadDecimal"===t.code&&i!==n;s&&(i=n);let o=this.element.value;if(o=o.substring(0,this.element.selectionStart)+i+o.substring(this.element.selectionEnd),this.numericRegex().test(o)){if(s){const l=this.element.selectionStart+1;this.element.value=o,this.element.setSelectionRange(l,l),t.preventDefault(),t.stopPropagation()}return!0}return t.preventDefault(),t.stopPropagation(),!1}numericRegex(){let i=M("decimal",Kw(this.locale)),n="*";return"."===i&&(i="\\"+i),0===this.decimals&&this.validateDecimalOnType?Z_e:(this.decimals&&this.validateDecimalOnType&&(n="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+i+"\\d"+n+")?)|("+i+"\\d"+n+")))?$"))}mouseWheel(t){let i;t.preventDefault(),t.wheelDelta?i=t.wheelDelta/120:t.detail&&(i=-t.detail/3),i>0?this.action(Ly,t):i<0&&this.action(gb,t),this.cancelEvent(t)}focusHandler(t){if(this.focusEventArgs={event:t,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,T([this.container],jP),this.prevValue=this.value,this.value||0===this.value){const i=this.formatNumber();this.setElementValue(i),this.isPrevFocused||(A.isDevice||"11.0"!==A.info.version?setTimeout(()=>{this.element.setSelectionRange(0,i.length)},A.isDevice&&A.isIos?600:0):this.element.setSelectionRange(0,i.length))}A.isDevice||C.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}}focusOutHandler(t){if(this.blurEventArgs={event:t,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(t.preventDefault(),A.isDevice){const n=this.element.value;this.element.focus(),this.isPrevFocused=!1;const s=this.element;setTimeout(()=>{this.setElementValue(n,s)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);const n=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(n),A.isDevice||C.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(D(this.element,"form")){const n=this.element.nextElementSibling,s=document.createEvent("FocusEvent");s.initEvent("focusout",!1,!0),n.dispatchEvent(s)}}}mouseDownOnSpinner(t){if(this.isFocused&&(this.isPrevFocused=!0,t.preventDefault()),!this.getElementData(t))return;this.getElementData(t);const n=t.currentTarget,s=n.classList.contains(zP)?Ly:gb;C.add(n,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(()=>{this.isCalled=!0,this.action(s,t)},150),C.add(document,"mouseup",this.mouseUpClick,this)}touchMoveOnSpinner(t){let i;if("touchmove"===t.type){let n=t.touches;i=n.length&&document.elementFromPoint(n[0].pageX,n[0].pageY)}else i=document.elementFromPoint(t.clientX,t.clientY);i.classList.contains(HP)||clearInterval(this.timeOut)}mouseUpOnSpinner(t){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),A.isDevice||(this.isPrevFocused=!1)),A.isDevice||t.preventDefault(),!this.getElementData(t))return;const i=t.currentTarget,n=i.classList.contains(zP)?Ly:gb;if(C.remove(i,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,t),this.isCalled=!1,C.remove(document,"mouseup",this.mouseUpClick),D(this.element,"form")){const o=this.element.nextElementSibling,l=document.createEvent("KeyboardEvent");l.initEvent("keyup",!1,!0),o.dispatchEvent(l)}}getElementData(t){return!(t.which&&3===t.which||t.button&&2===t.button||!this.enabled||this.readonly||(clearInterval(this.timeOut),0))}floatLabelTypeUpdate(){ke.removeFloating(this.inputWrapper);const t=this.hiddenInput;this.hiddenInput.remove(),ke.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(t,this.container.childNodes[1])}mouseUpClick(t){t.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,C.remove(this.spinUp,"mouseleave",this.mouseUpClick),C.remove(this.spinDown,"mouseleave",this.mouseUpClick)}increment(t=this.step){this.isInteract=!1,this.changeValue(this.performAction(this.value,t,Ly)),this.raiseChangeEvent()}decrement(t=this.step){this.isInteract=!1,this.changeValue(this.performAction(this.value,t,gb)),this.raiseChangeEvent()}destroy(){this.unwireEvents(),de(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),de(this.spinUp),de(this.spinDown));const t=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-live","aria-valuenow","aria-invalid"];for(let i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),de(this.container),super.destroy()}getText(){return this.element.value}focusIn(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),_([this.container],[HW]))}focusOut(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),T([this.container],[HW]))}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(t,i){for(const n of Object.keys(t))switch(n){case"width":this.setElementWidth(t.width);break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"enabled":ke.setEnabled(t.enabled,this.element);break;case"enableRtl":ke.setEnableRtl(t.enableRtl,[this.container]);break;case"readonly":ke.setReadonly(t.readonly,this.element),this.readonly?Le(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),ke.validateInputType(this.container,this.element);break;case"placeholder":ke.setPlaceholder(t.placeholder,this.element);break;case"step":this.step=t.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(t);break;case"showClearButton":this.updateClearButton(t);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(t.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":Ne(n,M(n,t),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=t.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),ke.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":{const s=M(n,t);this.setProperties({currencyCode:s},!0),this.updateCurrency(n,s)}break;case"currencyCode":{const s=M(n,t);this.setProperties({currency:s},!0),this.updateCurrency("currency",s)}break;case"format":Ne(n,M(n,t),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=t.decimals,this.updateValue(this.value)}}updateClearButton(t){ke.setClearButton(t.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()}updateSpinButton(t){t.showSpinButton?this.spinBtnCreation():(de(this.spinUp),de(this.spinDown))}getModuleName(){return"numerictextbox"}};return zr([y("")],r.prototype,"cssClass",void 0),zr([y(null)],r.prototype,"value",void 0),zr([y(-Number.MAX_VALUE)],r.prototype,"min",void 0),zr([y(Number.MAX_VALUE)],r.prototype,"max",void 0),zr([y(1)],r.prototype,"step",void 0),zr([y(null)],r.prototype,"width",void 0),zr([y(null)],r.prototype,"placeholder",void 0),zr([y({})],r.prototype,"htmlAttributes",void 0),zr([y(!0)],r.prototype,"showSpinButton",void 0),zr([y(!1)],r.prototype,"readonly",void 0),zr([y(!0)],r.prototype,"enabled",void 0),zr([y(!1)],r.prototype,"showClearButton",void 0),zr([y(!1)],r.prototype,"enablePersistence",void 0),zr([y("n2")],r.prototype,"format",void 0),zr([y(null)],r.prototype,"decimals",void 0),zr([y(null)],r.prototype,"currency",void 0),zr([y(null)],r.prototype,"currencyCode",void 0),zr([y(!0)],r.prototype,"strictMode",void 0),zr([y(!1)],r.prototype,"validateDecimalOnType",void 0),zr([y("Never")],r.prototype,"floatLabelType",void 0),zr([E()],r.prototype,"created",void 0),zr([E()],r.prototype,"destroyed",void 0),zr([E()],r.prototype,"change",void 0),zr([E()],r.prototype,"focus",void 0),zr([E()],r.prototype,"blur",void 0),r=zr([Pi],r),r})();const LD="e-error",OD="e-label-top",GW={0:"[0-9]",9:"[0-9 ]","#":"[0-9 +-]",L:"[A-Za-z]","?":"[A-Za-z ]","&":"[^\x7f ]+",C:"[^\x7f]+",A:"[A-Za-z0-9]",a:"[A-Za-z0-9 ]"};function qW(){if(Le(this.element,{role:"textbox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-live":"assertive","aria-valuenow":""}),this.mask){const r=this.mask.split("]");for(let t=0;t<r.length;t++)if("\\"===r[t][r[t].length-1]){r[t]=r[t]+"]";const i=r[t].split("[");for(let n=0;n<i.length;n++)"\\"===i[n][i[n].length-1]&&(i[n]=i[n]+"["),qP.call(this,i[n])}else{const i=r[t].split("[");if(i.length>1){let n=!1;for(let s=0;s<i.length;s++)"\\"===i[s]?(this.customRegExpCollec.push("["),this.hiddenMask+=i[s]+"["):""===i[s]?n=!0:""!==i[s]&&n||s===i.length-1?(this.customRegExpCollec.push("["+i[s]+"]"),this.hiddenMask+=this.promptChar,n=!1):qP.call(this,i[s])}else qP.call(this,i[0])}if(this.escapeMaskValue=this.hiddenMask,this.promptMask=this.hiddenMask.replace(/[09?LCAa#&]/g,this.promptChar),!h(this.customCharacters))for(let t=0;t<this.promptMask.length;t++)h(this.customCharacters[this.promptMask[t]])||(this.promptMask=this.promptMask.replace(new RegExp(this.promptMask[t],"g"),this.promptChar));let e=0;if(this.hiddenMask.match(new RegExp(/\\/)))for(let t=0;t<this.hiddenMask.length;t++){let i=0;t>=1&&(i=t),e=this.hiddenMask.length-this.promptMask.length,i-=e,t>0&&"\\"!==this.hiddenMask[t-1]&&(">"===this.hiddenMask[t]||"<"===this.hiddenMask[t]||"|"===this.hiddenMask[t])&&(this.promptMask=this.promptMask.substring(0,i)+this.promptMask.substring(t+1-e,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue.substring(t+1-e,this.escapeMaskValue.length)),"\\"===this.hiddenMask[t]&&(this.promptMask=this.promptMask.substring(0,i)+this.hiddenMask[t+1]+this.promptMask.substring(t+2-e,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue[t+1]+this.escapeMaskValue.substring(t+2-e,this.escapeMaskValue.length))}else this.promptMask=this.promptMask.replace(/[>|<]/g,""),this.escapeMaskValue=this.hiddenMask.replace(/[>|<]/g,"");Le(this.element,{"aria-invalid":"false"})}}function WW(){tr.call(this,this.promptMask),BD.call(this,this.value)}function UW(){C.add(this.element,"keydown",nU,this),C.add(this.element,"keypress",oU,this),C.add(this.element,"keyup",lU,this),C.add(this.element,"input",iU,this),C.add(this.element,"focus",JW,this),C.add(this.element,"blur",ZW,this),C.add(this.element,"paste",eU,this),C.add(this.element,"cut",tU,this),C.add(this.element,"drop",cSe,this),C.add(this.element,"mousedown",QW,this),C.add(this.element,"mouseup",XW,this),this.enabled&&($W.call(this),this.formElement&&C.add(this.formElement,"reset",KW,this))}function GP(){C.remove(this.element,"keydown",nU),C.remove(this.element,"keypress",oU),C.remove(this.element,"keyup",lU),C.remove(this.element,"input",iU),C.remove(this.element,"focus",JW),C.remove(this.element,"blur",ZW),C.remove(this.element,"paste",eU),C.remove(this.element,"cut",tU),C.remove(this.element,"mousedown",QW),C.remove(this.element,"mouseup",XW),this.formElement&&C.remove(this.formElement,"reset",KW)}function $W(){this.showClearButton&&C.add(this.inputObj.clearButton,"mousedown touchstart",lSe,this)}function lSe(r){r.preventDefault(),(!this.inputObj.clearButton.classList.contains("e-clear-icon-hide")||this.inputObj.container.classList.contains("e-static-clear"))&&(aSe.call(this,r),this.value="")}function aSe(r){const e=this.element.value;tr.call(this,this.promptMask),this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),sg.call(this,r,e),this.element.setSelectionRange(0,0)}function KW(){"EJS-MASKEDTEXTBOX"===this.element.tagName?tr.call(this,this.promptMask):this.value=this.initInputValue}function YW(r){return r.value}function hu(r,e){let t="",i=0,n=!1;const s=!h(e)||h(r)||h(this)?e:r.value;if(s!==this.promptMask)for(let o=0;o<this.customRegExpCollec.length;o++)n&&(n=!1),(">"===this.customRegExpCollec[i]||"<"===this.customRegExpCollec[i]||"|"===this.customRegExpCollec[i]||"\\"===this.customRegExpCollec[i])&&(--o,n=!0),n||s[o]!==this.promptChar&&!h(this.customRegExpCollec[i])&&(this._callPasteHandler||!h(this.regExpCollec[this.customRegExpCollec[i]])||this.customRegExpCollec[i].length>2&&"["===this.customRegExpCollec[i][0]&&"]"===this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]||!h(this.customCharacters)&&!h(this.customCharacters[this.customRegExpCollec[i]]))&&""!==s&&(t+=s[o]),++i;return(null===this.mask||""===this.mask&&void 0!==this.value)&&(t=s),t}function qP(r){for(let e=0;e<r.length;e++)this.hiddenMask+=r[e],"\\"!==r[e]&&this.customRegExpCollec.push(r[e])}function QW(){this.isClicked=!0}function XW(){this.isClicked=!1}function JW(r){const e=this.element;let t=0;const i=hu.call(this,e);let n=!1,s=!1,o={selectionStart:e.selectionStart,event:r,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd};if(this.isClicked||WP.call(this,o,e),this.mask&&(!(null===i||""===i)||"Always"===this.floatLabelType||null===this.placeholder||""===this.placeholder||(e.value=this.promptMask),setTimeout(()=>{if(e.selectionStart===this.promptMask.length||e.value[e.selectionStart]===this.promptChar)n=!0;else for(let l=e.selectionStart;l<this.promptMask.length;l++){if(e.value[l]===this.promptChar){n=!0;break}if(e.value[l]!==this.promptMask[l]){n=!1;break}}}),setTimeout(()=>{const l=e.selectionStart-1;if(l===this.promptMask.length-1||e.value[l]===this.promptChar)s=!0;else for(let a=l;a>=0;a--){if(e.value[a]===this.promptChar){s=!0;break}if(e.value[a]!==this.promptMask[a]){s=!1;break}}}),this.isClicked||"Always"!==this.floatLabelType&&(null===i||""===i)&&null!==this.placeholder&&""!==this.placeholder)){for(t=0;t<this.promptMask.length;t++)if(e.value[t]===this.promptChar){setTimeout(()=>{(n||s)&&(e.selectionEnd=t,e.selectionStart=t),o={selectionStart:e.selectionStart,event:r,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd},WP.call(this,o,e)});break}h(e.value.match(this.promptChar))&&(o={selectionStart:e.selectionStart,event:r,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd},WP.call(this,o,e)),this.isClicked=!1}}function WP(r,e){this.trigger("focus",r,t=>{e.selectionStart=t.selectionStart,e.selectionEnd=t.selectionEnd})}function ZW(r){if(this.blurEventArgs={event:r,value:this.value,maskedValue:this.element.value,container:this.inputObj.container},this.trigger("blur",this.blurEventArgs),this.mask&&(this.isFocus=!1,this.placeholder&&this.element.value===this.promptMask&&"Always"!==this.floatLabelType)){tr.call(this,"");const e=this.element.parentNode.querySelector(".e-float-text");"Auto"===this.floatLabelType&&!h(e)&&e.classList.contains(OD)&&T([e],OD)}}function eU(r){if(this.mask&&!this.readonly){const e=this.element.selectionStart,t=this.element.selectionEnd,i=this.element.value;tr.call(this,""),this._callPasteHandler=!0,setTimeout(()=>{let n=this.element.value.replace(/ /g,"");this.redoCollec.length>0&&this.redoCollec[0].value===this.element.value&&(n=hu.call(this,this.element)),tr.call(this,i),this.element.selectionStart=e,this.element.selectionEnd=t;let s=0;this.maskKeyPress=!0;do{yf.call(this,n[s],!1,null),++s}while(s<n.length);if(this.maskKeyPress=!1,this._callPasteHandler=!1,this.element.value===i){let o=0;this.maskKeyPress=!0;do{yf.call(this,n[o],!1,null),++o}while(o<n.length);this.maskKeyPress=!1}else sg.call(this,r,i)},1)}}function tU(r){if(this.mask&&!this.readonly){const e=this.element.value,t=this.element.selectionStart,i=this.element.selectionEnd;this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd});const n=this.element.value.substring(0,t)+this.promptMask.substring(t,i)+this.element.value.substring(i);setTimeout(()=>{tr.call(this,n),this.element.selectionStart=this.element.selectionEnd=t,this.element.value!==e&&sg.call(this,r,null)},0)}}function cSe(r){r.preventDefault()}function iU(r){if((!0!==A.isIE||""!==this.element.value||"Never"!==this.floatLabelType)&&(O(r,{ctrlKey:!1,keyCode:229}),this.mask)){if(""===this.element.value&&this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),1===this.element.value.length&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this._callPasteHandler||rU.call(this,r),this.element.value.length>this.promptMask.length){const i=this.element.selectionStart,s=this.element.value.substring(i-(this.element.value.length-this.promptMask.length),i);this.maskKeyPress=!1;let o=0;do{yf.call(this,s[o],r.ctrlKey,r),++o}while(o<s.length);this.element.value!==this.preEleVal&&sg.call(this,r,null)}const t=hu.call(this,this.element);this.prevValue=t,this.value=t,""===t&&(tr.call(this,this.promptMask),this.element.setSelectionRange(0,0))}}function nU(r){if(this.mask&&!this.readonly){229!==r.keyCode&&(r.ctrlKey&&(89===r.keyCode||90===r.keyCode)&&r.preventDefault(),rU.call(this,r));const e=this.element.value;if(r.ctrlKey&&(89===r.keyCode||90===r.keyCode)){let t;90===r.keyCode&&this.undoCollec.length>0&&e!==this.undoCollec[this.undoCollec.length-1].value?(t=this.undoCollec[this.undoCollec.length-1],this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),tr.call(this,t.value),this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex,this.undoCollec.splice(this.undoCollec.length-1,1)):89===r.keyCode&&this.redoCollec.length>0&&e!==this.redoCollec[0].value&&(t=this.redoCollec[0],this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),tr.call(this,t.value),this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex,this.redoCollec.splice(0,1))}}}function dSe(){let r;const e=this.element.selectionStart,t=this.element.selectionEnd;this.redoCollec.length>0?(r=this.redoCollec[0],tr.call(this,r.value),r.startIndex-e==1?(this.element.selectionStart=r.startIndex,this.element.selectionEnd=r.endIndex):(this.element.selectionStart=e+1,this.element.selectionEnd=t+1)):(tr.call(this,this.promptMask),this.element.selectionStart=this.element.selectionEnd=e)}function sU(r,e,t){return"input"===t.type&&(r=!1,e=this.element.value,tr.call(this,this.promptMask),BD.call(this,e)),r}function rU(r){let t,e=!1,i=!1;this.element.value.length<this.promptMask.length&&(e=!0,t=this.element.value,e=sU.call(this,e,t,r),dSe.call(this)),this.element.value.length>=this.promptMask.length&&"input"===r.type&&(e=sU.call(this,e,t,r));const n=this.element.selectionStart,s=this.element.selectionEnd;let o=this.element.selectionStart;const l=this.element.selectionEnd,a=this.hiddenMask.replace(/[>|\\<]/g,"");let c=a[o-1];const d=this.element.selectionEnd;if(e||8===r.keyCode||46===r.keyCode){this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:l});let u=!1;const p=this.element.value;if(o>0||(8===r.keyCode||46===r.keyCode)&&o<this.element.value.length&&this.element.selectionEnd-o!==this.element.value.length){let g=o;o!==l?(o=l,46===r.keyCode&&(u=!0)):46===r.keyCode?++g:--g;for(let f=o;8===r.keyCode||e||u?f>g:f<g;8===r.keyCode||e||u?f--:f++)for(let m=o;8===r.keyCode||e||u?m>0:m<this.element.value.length;8===r.keyCode||e||u?m--:m++){let v;(8===r.keyCode||u)&&(n!==s&&n!==o||n===s)||e?(c=a[m-1],v=o-1):(c=a[m],v=o,++o);let x=this.element.value[v];if(h(this.regExpCollec[c])&&!h(this.customCharacters)&&h(this.customCharacters[c])&&this.hiddenMask[v]!==this.promptChar&&"["!==this.customRegExpCollec[v][0]&&"]"!==this.customRegExpCollec[v][this.customRegExpCollec[v].length-1]||this.promptMask[v]!==this.promptChar&&h(this.customCharacters))this.element.selectionStart=this.element.selectionEnd=v,r.preventDefault(),46===r.keyCode&&!u&&++this.element.selectionStart;else{const w=this.element.value,b=this.promptChar,I=w.substring(0,v)+b+w.substring(o,w.length);tr.call(this,I),r.preventDefault(),46===r.keyCode&&!u&&v++,this.element.selectionStart=this.element.selectionEnd=v,i=!0}if(o=this.element.selectionStart,!i&&8===r.keyCode||u||!i&&46!==r.keyCode?v=o-1:(v=o,i=!1),x=this.element.value[v],n!==s&&this.element.selectionStart===n||this.promptMask[v]===this.promptChar||x!==this.promptMask[v]&&this.promptMask[v]!==this.promptChar&&!h(this.customCharacters))break}}46===r.keyCode&&u&&i&&(this.element.selectionStart=this.element.selectionEnd=d),0===this.element.selectionStart&&this.element.selectionEnd===this.element.value.length&&(tr.call(this,this.promptMask),r.preventDefault(),this.element.selectionStart=this.element.selectionEnd=o),this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),this.element.value!==p&&sg.call(this,r,t)}}function oU(r){if(this.mask&&!this.readonly){const e=this.element.value;if(!r.ctrlKey||r.ctrlKey&&"KeyA"!==r.code&&"KeyY"!==r.code&&"KeyZ"!==r.code&&"KeyX"!==r.code&&"KeyC"!==r.code&&"KeyV"!==r.code){this.maskKeyPress=!0;let t=r.key;"Spacebar"===t&&(t=String.fromCharCode(r.keyCode)),t?t&&1===t.length&&(yf.call(this,t,r.ctrlKey,r),r.preventDefault()):(this.isIosInvalid=!0,yf.call(this,String.fromCharCode(r.keyCode),r.ctrlKey,r),r.preventDefault(),this.isIosInvalid=!1),32===r.keyCode&&" "===t&&" "===this.promptChar&&(this.element.selectionStart=this.element.selectionEnd=this.element.selectionStart-t.length)}this.element.value!==e&&sg.call(this,r,e)}}function sg(r,e){const t=this.isProtectedOnChange;if(!h(this.changeEventArgs)&&!this.isInitial){const i={};this.changeEventArgs={value:this.element.value,maskedValue:this.element.value,isInteraction:!1,isInteracted:!1},this.mask&&(this.changeEventArgs.value=hu.call(this,this.element)),h(r)||(this.changeEventArgs.isInteracted=!0,this.changeEventArgs.isInteraction=!0,this.changeEventArgs.event=r),this.isProtectedOnChange=!0,this.value=this.changeEventArgs.value,this.isProtectedOnChange=t,Nr(i,this.changeEventArgs),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",i)}this.preEleVal=this.element.value,this.prevValue=hu.call(this,this.element),Le(this.element,{"aria-valuenow":this.element.value})}function lU(r){if(this.mask&&!this.readonly){let e;if(this.maskKeyPress||229!==r.keyCode)cU.call(this);else{let i;if(1===this.element.value.length&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this.element.value.length>this.promptMask.length){const n=this.element.selectionStart,s=this.element.value.length-this.promptMask.length;let o=this.element.value.substring(n-s,n);if(this.undoCollec.length>0){e=this.undoCollec[this.undoCollec.length-1];const l=this.element.selectionStart;i=e.value;const a=e.value.substring(l-s,l);e=this.redoCollec[0],o=o.trim();const c=A.isAndroid&&""===o;c||a===o||e.value.substring(l-s,l)===o?c&&aU.call(this,r,l-1,this.element.selectionEnd-1,o,r.ctrlKey,!1):yf.call(this,o,r.ctrlKey,r)}else i=this.promptMask,yf.call(this,o,r.ctrlKey,r);this.maskKeyPress=!1,sg.call(this,r,i)}}const t=hu.call(this,this.element);(0!==this.element.selectionStart||this.promptMask!==this.element.value||""!==t||""===t&&this.value!==t)&&(this.prevValue=t,this.value=t)}else sg.call(this,r);if(0===this.element.selectionStart&&0===this.element.selectionEnd){const e=this.element;setTimeout(()=>{e.setSelectionRange(0,0)},0)}}function hSe(r){if(r.length>1&&this.promptMask.length+r.length<this.element.value.length){const e=this.redoCollec[0].value.substring(0,this.redoCollec[0].startIndex)+r+this.redoCollec[0].value.substring(this.redoCollec[0].startIndex,this.redoCollec[0].value.length);tr.call(this,e),this.element.selectionStart=this.element.selectionEnd=this.redoCollec[0].startIndex+r.length}this.element.selectionStart=this.element.selectionStart-r.length,this.element.selectionEnd=this.element.selectionEnd-r.length}function uSe(r){this.maskKeyPress||hSe.call(this,r)}function yf(r,e,t){if(uSe.call(this,r),h(this)||h(r))return;let i=this.element.selectionStart;const n=i;let s,o=!1;const l=this.element.value;let a,c=!1,d=!1;for(let u=0;u<r.length;u++){const p=r[u];if(i=this.element.selectionStart,!this.maskKeyPress&&n===i&&(i+=u),!this.maskKeyPress||i<this.promptMask.length){for(let g=i;g<this.promptMask.length;g++)s=this.escapeMaskValue[i],"\\"===this.hiddenMask[i]&&this.hiddenMask[i+1]===r&&(d=!0),(h(this.regExpCollec[s])&&(h(this.customCharacters)||!h(this.customCharacters)&&h(this.customCharacters[s]))&&this.hiddenMask[i]!==this.promptChar&&"["!==this.customRegExpCollec[i][0]&&"]"!==this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]||this.promptMask[i]!==this.promptChar&&h(this.customCharacters)||this.promptChar===s&&this.escapeMaskValue===this.mask)&&(this.element.selectionStart=this.element.selectionEnd=i+1,i=this.element.selectionStart,s=this.hiddenMask[i]);if(h(this.customCharacters)||h(this.customCharacters[s]))(!h(this.regExpCollec[s])&&p.match(new RegExp(this.regExpCollec[s]))&&this.promptMask[i]===this.promptChar||this.promptMask[i]===this.promptChar&&"["===this.customRegExpCollec[i][0]&&"]"===this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]&&p.match(new RegExp(this.customRegExpCollec[i])))&&(o=!0);else{const f=this.customCharacters[s].split(",");for(let m=0;m<f.length;m++)if(p.match(new RegExp("["+f[m]+"]"))){o=!0;break}}if((!this.maskKeyPress||i<this.hiddenMask.length)&&o){if(0===u)if(this.maskKeyPress)this.undoCollec.push({value:l,startIndex:i,endIndex:i});else{const g=this.element.selectionStart,f=this.element.selectionEnd;this.redoCollec.length>0?(a=this.redoCollec[0].value,tr.call(this,a),this.undoCollec.push(this.redoCollec[0])):(this.undoCollec.push({value:this.promptMask,startIndex:i,endIndex:i}),a=this.promptMask,tr.call(this,a)),this.element.selectionStart=g,this.element.selectionEnd=f}i=this.element.selectionStart,pSe.call(this,t,i,p,a,d),c=!0,u===r.length-1&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),o=!1}else i=this.element.selectionStart,aU.call(this,t,i,n,r,e,c);u===r.length-1&&!o&&(!A.isAndroid||A.isAndroid&&i<this.promptMask.length)&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd})}else 1===r.length&&!e&&!h(t)&&UP.call(this)}}function pSe(r,e,t,i,n){if(this.hiddenMask.length>this.promptMask.length&&(t=gSe.call(this,t,this.element.value)),!n){const s=this.element.value,o=s.substring(0,e)+t+s.substring(e+1,s.length);tr.call(this,o),this.element.selectionStart=this.element.selectionEnd=e+1}}function aU(r,e,t,i,n,s){if(!this.maskKeyPress){const o=this.element.value;e>=this.promptMask.length?tr.call(this,o.substring(0,e)):(tr.call(this,t===e?o.substring(0,e)+o.substring(e+1,o.length):this.promptMask.length===this.element.value.length?o.substring(0,e)+o.substring(e,o.length):o.substring(0,t)+o.substring(t+1,o.length)),this.element.selectionStart=this.element.selectionEnd=s||this.element.value[t]!==this.promptChar?e:t),UP.call(this)}1===i.length&&!n&&!h(r)&&UP.call(this)}function UP(){const r=this.element.parentNode;let e=200;r.classList.contains("e-input-group")||r.classList.contains("e-float-input")?_([r],LD):_([this.element],LD),!0===this.isIosInvalid&&(e=400),Le(this.element,{"aria-invalid":"true"}),setTimeout(()=>{this.maskKeyPress||cU.call(this)},e)}function cU(){const r=this.element.parentNode;h(r)||T([r],LD),T([this.element],LD),Le(this.element,{"aria-invalid":"false"})}function gSe(r,e){let t,i,n=e,s=0;for(i=0;i<this.hiddenMask.length;i++)if("\\"===this.hiddenMask[i]&&(t=n.substring(0,i)+"\\"+n.substring(i,n.length)),(">"===this.hiddenMask[i]||"<"===this.hiddenMask[i]||"|"===this.hiddenMask[i])&&(this.hiddenMask[i]!==n[i]&&(t=n.substring(0,i)+this.hiddenMask[i]+n.substring(i,n.length)),++s),t){if(t[i]===this.promptChar&&i>this.element.selectionStart||this.element.value.indexOf(this.promptChar)<0&&this.element.selectionStart+s===i){s=0;break}n=t}for(;i>=0&&t;){if(0===i||"\\"!==t[i-1]){if(">"===t[i]){r=r.toUpperCase();break}if("<"===t[i]){r=r.toLowerCase();break}if("|"===t[i])break}--i}return r}function BD(r){if(this.mask&&void 0!==r&&(void 0===this.prevValue||this.prevValue!==r)){if(this.maskKeyPress=!0,tr.call(this,this.promptMask),""!==r&&!(null===r&&"Never"===this.floatLabelType&&this.placeholder)&&(this.element.selectionStart=0,this.element.selectionEnd=0),null!==r)for(let i=0;i<r.length;i++)yf.call(this,r[i],!1,null);const e=hu.call(this,this.element);this.prevValue=e,this.value=e,sg.call(this,null,null),this.maskKeyPress=!1;const t=this.element.parentNode.querySelector(".e-float-text");this.element.value===this.promptMask&&"Auto"===this.floatLabelType&&this.placeholder&&!h(t)&&t.classList.contains(OD)&&!this.isFocus&&(T([t],OD),_([t],"e-label-bottom"),tr.call(this,""))}(null===this.mask||""===this.mask&&void 0!==this.value)&&tr.call(this,this.value)}function tr(r,e){!this.isFocus&&"Auto"===this.floatLabelType&&this.placeholder&&h(this.value)&&(r="");const t=hu.call(this,e||this.element,r);null===t||""===t?(ke.setValue(r,e||this.element,this.floatLabelType,!1),this.showClearButton&&this.inputObj.clearButton.classList.add("e-clear-icon-hide")):ke.setValue(r,e||this.element,this.floatLabelType,this.showClearButton)}var Kl=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const uU="e-input-focus",pU=["title","style","class"];let wl=class extends an{constructor(e,t){super(e,t),this.initInputValue="",this.isAngular=!1,this.preventChange=!1,this.isClicked=!1,this.maskOptions=e}getModuleName(){return"maskedtextbox"}preRender(){this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.regExpCollec=GW,this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.changeEventArgs={},this.focusEventArgs={},this.blurEventArgs={},this.maskKeyPress=!1,this.isFocus=!1,this.isInitial=!1,this.isIosInvalid=!1;const e=M("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),T([this.cloneElement],["e-control","e-maskedtextbox","e-lib"]),this.angularTagName=null,this.formElement=D(this.element,"form"),"EJS-MASKEDTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;const t=this.createElement("input");for(let i=0;i<this.element.attributes.length;i++)t.setAttribute(this.element.attributes[i].nodeName,this.element.attributes[i].nodeValue),t.innerHTML=this.element.innerHTML;this.element.hasAttribute("id")&&this.element.removeAttribute("id"),this.element.classList.remove("e-control","e-maskedtextbox"),this.element.classList.add("e-mask-container"),this.element.appendChild(t),this.element=t,Ne("ej2_instances",e,this.element)}this.updateHTMLAttrToElement(),this.checkHtmlAttributes(!1),this.formElement&&(this.initInputValue=this.value)}getPersistData(){return this.addOnPersist(["value"])}render(){"input"===this.element.tagName.toLowerCase()&&("Never"===this.floatLabelType&&_([this.element],"e-input"),this.createWrapper(),this.updateHTMLAttrToWrapper(),""===this.element.name&&this.element.setAttribute("name",this.element.id),this.isInitial=!0,this.resetMaskedTextBox(),this.isInitial=!1,this.setMaskPlaceholder(!0,!1),this.setWidth(this.width),this.preEleVal=this.element.value,!A.isDevice&&("11.0"===A.info.version||"edge"===A.info.name)&&this.element.blur(),A.isDevice&&A.isIos&&this.element.blur(),(this.element.getAttribute("value")||this.value)&&this.element.setAttribute("value",this.element.value),this.renderComplete())}updateHTMLAttrToElement(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))pU.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){ke.setCssClass(this.getValidClassList(e),[this.inputObj.container],this.getValidClassList(t))}getValidClassList(e){let t=e;return!h(e)&&""!==e&&(t=e.replace(/\s+/g," ").trim()),t}updateHTMLAttrToWrapper(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(pU.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&_([this.inputObj.container],t.split(" "))}else if("style"===e){let t=this.inputObj.container.getAttribute(e);t=h(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputObj.container.setAttribute(e,t)}else this.inputObj.container.setAttribute(e,this.htmlAttributes[e])}resetMaskedTextBox(){this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.promptChar.length>1&&(this.promptChar=this.promptChar[0]),qW.call(this),WW.call(this),(null===this.mask||""===this.mask&&void 0!==this.value)&&tr.call(this,this.value);const e=hu.call(this,this.element);this.prevValue=e,this.value=e,this.isInitial||GP.call(this),UW.call(this)}setMaskPlaceholder(e,t){(t||this.placeholder)&&(ke.setPlaceholder(this.placeholder,this.element),(this.element.value===this.promptMask&&e&&"Always"!==this.floatLabelType||this.element.value===this.promptMask&&"Never"===this.floatLabelType)&&tr.call(this,""))}setWidth(e){if(!h(e))if("number"==typeof e)this.inputObj.container.style.width=$e(e),this.element.style.width=$e(e);else if("string"==typeof e){const t=e.match(/px|%|em/)?e:$e(e);this.inputObj.container.style.width=t,this.element.style.width=t}}checkHtmlAttributes(e){const t=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly"];for(const i of t)if(!h(this.element.getAttribute(i)))switch(i){case"placeholder":(h(this.maskOptions)||void 0===this.maskOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"disabled":if(h(this.maskOptions)||void 0===this.maskOptions.enabled||e){const n=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:n},!e)}break;case"value":(h(this.maskOptions)||void 0===this.maskOptions.value||e)&&this.setProperties({value:this.element.value},!e);break;case"readonly":if(h(this.maskOptions)||void 0===this.maskOptions.readonly||e){const n="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:n},!e)}}}createWrapper(){let e=this.cssClass;!h(this.cssClass)&&""!==this.cssClass&&(e=this.getValidClassList(this.cssClass)),this.inputObj=ke.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{enableRtl:this.enableRtl,cssClass:e,enabled:this.enabled,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}},this.createElement),this.inputObj.container.setAttribute("class","e-control-wrapper e-mask "+this.inputObj.container.getAttribute("class"))}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"value":BD.call(this,this.value),this.placeholder&&this.setMaskPlaceholder(!1,!1);break;case"placeholder":this.setMaskPlaceholder(!0,!0);break;case"width":this.setWidth(e.width);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":ke.setEnabled(e.enabled,this.element,this.floatLabelType,this.inputObj.container);break;case"readonly":ke.setReadonly(e.readonly,this.element);break;case"enableRtl":ke.setEnableRtl(e.enableRtl,[this.inputObj.container]);break;case"customCharacters":this.customCharacters=e.customCharacters,this.resetMaskedTextBox();break;case"showClearButton":ke.setClearButton(e.showClearButton,this.element,this.inputObj,void 0,this.createElement),$W.call(this);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,ke.removeFloating(this.inputObj),ke.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement);break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHtmlAttributes(!0);break;case"mask":{const n=this.value;this.mask=e.mask,this.updateValue(n)}break;case"promptChar":{e.promptChar.length>1&&(e.promptChar=e.promptChar[0]),this.promptChar=e.promptChar?e.promptChar:"_";let n=this.element.value.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar);this.promptMask===this.element.value&&(n=this.promptMask.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar)),this.promptMask=this.promptMask.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar),this.undoCollec=this.redoCollec=[],tr.call(this,n);break}}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange}updateValue(e){this.resetMaskedTextBox(),BD.call(this,e)}getMaskedValue(){return YW.call(this,this.element)}focusIn(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),_([this.inputObj.container],[uU]))}focusOut(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),T([this.inputObj.container],[uU]))}destroy(){GP.call(this);const e=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-valuenow","aria-invalid"];for(let t=0;t<e.length;t++)this.element.removeAttribute(e[t]);this.element.classList.remove("e-input"),this.inputObj.container.insertAdjacentElement("afterend",this.element),de(this.inputObj.container),super.destroy()}};Kl([y(null)],wl.prototype,"cssClass",void 0),Kl([y(null)],wl.prototype,"width",void 0),Kl([y(null)],wl.prototype,"placeholder",void 0),Kl([y("Never")],wl.prototype,"floatLabelType",void 0),Kl([y({})],wl.prototype,"htmlAttributes",void 0),Kl([y(!0)],wl.prototype,"enabled",void 0),Kl([y(!1)],wl.prototype,"readonly",void 0),Kl([y(!1)],wl.prototype,"showClearButton",void 0),Kl([y(!1)],wl.prototype,"enablePersistence",void 0),Kl([y(null)],wl.prototype,"mask",void 0),Kl([y("_")],wl.prototype,"promptChar",void 0),Kl([y(null)],wl.prototype,"value",void 0),Kl([y(null)],wl.prototype,"customCharacters",void 0),Kl([E()],wl.prototype,"created",void 0),Kl([E()],wl.prototype,"destroyed",void 0),Kl([E()],wl.prototype,"change",void 0),Kl([E()],wl.prototype,"focus",void 0),Kl([E()],wl.prototype,"blur",void 0),wl=Kl([Pi],wl);var rn=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Oy extends Nt{}rn([y("None")],Oy.prototype,"placement",void 0),rn([y(10)],Oy.prototype,"largeStep",void 0),rn([y(1)],Oy.prototype,"smallStep",void 0),rn([y(!1)],Oy.prototype,"showSmallTicks",void 0),rn([y(null)],Oy.prototype,"format",void 0);class ND extends Nt{}rn([y(null)],ND.prototype,"color",void 0),rn([y(null)],ND.prototype,"start",void 0),rn([y(null)],ND.prototype,"end",void 0);class xf extends Nt{}rn([y(!1)],xf.prototype,"enabled",void 0),rn([y(null)],xf.prototype,"minStart",void 0),rn([y(null)],xf.prototype,"minEnd",void 0),rn([y(null)],xf.prototype,"maxStart",void 0),rn([y(null)],xf.prototype,"maxEnd",void 0),rn([y(!1)],xf.prototype,"startHandleFixed",void 0),rn([y(!1)],xf.prototype,"endHandleFixed",void 0);class By extends Nt{}rn([y("")],By.prototype,"cssClass",void 0),rn([y("Before")],By.prototype,"placement",void 0),rn([y("Focus")],By.prototype,"showOn",void 0),rn([y(!1)],By.prototype,"isVisible",void 0),rn([y(null)],By.prototype,"format",void 0);let xr=class extends an{constructor(e,t){super(e,t),this.horDir="left",this.verDir="bottom",this.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},this.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},this.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",this.customAriaText=null,this.drag=!0,this.isDragComplete=!1,this.initialTooltip=!0}preRender(){this.l10n=new is("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()}formChecker(){const e=D(this.element,"form");e?(this.isForm=!0,h(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!h(this.formResetValue)&&"object"==typeof this.formResetValue?h(this.formResetValue)&&(this.formResetValue=parseFloat($e(this.min))):this.formResetValue=[parseFloat($e(this.min)),parseFloat($e(this.max))],this.formElement=e):this.isForm=!1}initCultureFunc(){this.internationalization=new Nn(this.locale)}initCultureInfo(){this.tooltipFormatInfo.format=h(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=h(this.ticks.format)?null:this.ticks.format}formatString(e,t){let i=null,n=null;if(e||0===e){i=this.formatNumber(e);const s=this.numberOfDecimals(e);n=this.internationalization.getNumberFormat(t)(this.makeRoundNumber(e,s))}return{elementVal:i,formatString:n}}formatNumber(e){const t=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(e)}numberOfDecimals(e){const t=e.toString().split(".")[1];return t&&t.length?t.length:0}makeRoundNumber(e,t){return Number(e.toFixed(t||0))}fractionalToInteger(e){e=0===this.numberOfDecimals(e)?Number(e).toFixed(this.noOfDecimals):e;let t=1;for(let i=0;i<this.noOfDecimals;i++)t*=10;return Number((e*t).toFixed(0))}render(){this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),"EJS-SLIDER"===this.element.tagName&&"none"==this.getTheme(this.sliderContainer)&&setTimeout(()=>{this.refresh()},0)}initialize(){_([this.element],"e-slider"),this.setCSSClass()}setElementWidth(e){h(e)||("number"==typeof e?this.sliderContainer.style.width=$e(e):"string"==typeof e&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:$e(e)))}setCSSClass(e){e&&T([this.element],e.split(" ")),this.cssClass&&_([this.element],this.cssClass.split(" "))}setEnabled(){this.enabled?(T([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove("e-disabled"),this.wireEvents()):(_([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add("e-disabled"),this.unwireEvents())}getTheme(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")}initRender(){this.sliderContainer=this.createElement("div",{className:"e-slider-container e-control-wrapper"}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:"e-slider-track"}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:h(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:"e-slider-input"}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=h(this.value)?parseFloat($e(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat($e(this.value.toString()))):[this.checkHandleValue(parseFloat($e(this.value[0].toString()))),this.checkHandleValue(parseFloat($e(this.value[1].toString())))],this.previousChanged=this.previousVal,h(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?T([this.sliderContainer],["e-disabled"]):_([this.sliderContainer],["e-disabled"]),this.readonly?_([this.sliderContainer],["e-read-only"]):T([this.sliderContainer],["e-read-only"])}getThemeInitialization(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isTailwind="tailwind"===this.getTheme(this.sliderContainer)||"tailwind-dark"===this.getTheme(this.sliderContainer),this.isBootstrap5="bootstrap5"===this.getTheme(this.sliderContainer),this.isFluent="FluentUI"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=this.isMaterial&&"Range"!==this.type&&this.tooltip.isVisible}createRangeBar(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:"e-range"}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&this.rangeBar.classList.add("Horizontal"===this.orientation?"e-drag-horizontal":"e-drag-vertical"))}createLimitBar(){let e="Range"!==this.type?"e-limit-bar":"e-limit-first";e+=" e-limits",this.limitBarFirst=this.createElement("div",{attrs:{class:e}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:"e-limit-second e-limits"}}),this.element.appendChild(this.limitBarSecond))}setOrientClass(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove("e-vertical"),this.sliderContainer.classList.add("e-horizontal"),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove("e-horizontal"),this.sliderContainer.classList.add("e-vertical"),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))}setAriaAttributes(e){let t=this.min,i=this.max;!h(this.customValues)&&this.customValues.length>0&&(t=this.customValues[0],i=this.customValues[this.customValues.length-1]),"Range"!==this.type?Le(e,{"aria-valuemin":t.toString(),"aria-valuemax":i.toString()}):(!h(this.customValues)&&this.customValues.length>0?[[t.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),i.toString()]]:[[t.toString(),this.value[1].toString()],[this.value[0].toString(),i.toString()]]).forEach((s,o)=>{const l=0===o?this.firstHandle:this.secondHandle;l&&Le(l,{"aria-valuemin":s[0],"aria-valuemax":s[1]})})}createSecondHandle(){this.secondHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.secondHandle.classList.add("e-handle-second"),this.element.appendChild(this.secondHandle)}createFirstHandle(){this.firstHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.firstHandle.classList.add("e-handle-first"),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:"e-handle e-material-handle"}}),this.element.appendChild(this.materialHandle))}wireFirstHandleEvt(e){e?(C.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),C.remove(this.firstHandle,"transitionend",this.transitionEnd),C.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),C.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(C.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),C.add(this.firstHandle,"transitionend",this.transitionEnd,this),C.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),C.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))}wireSecondHandleEvt(e){e?(C.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),C.remove(this.secondHandle,"transitionend",this.transitionEnd),C.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),C.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(C.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),C.add(this.secondHandle,"transitionend",this.transitionEnd,this),C.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),C.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))}handleStart(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"]("e-material-tooltip-start")))}transitionEnd(e){"transform"!==e.propertyName&&(this.handleStart(),this.enableAnimation||(this.getHandle().style.transition="none"),"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.isMaterial&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())}handleFocusOut(){this.firstHandle.classList.contains("e-handle-focused")&&this.firstHandle.classList.remove("e-handle-focused"),"Range"===this.type&&this.secondHandle.classList.contains("e-handle-focused")&&this.secondHandle.classList.remove("e-handle-focused")}handleFocus(e){this.focusSliderElement(),this.sliderBarClick(e),e.currentTarget===this.firstHandle?(this.firstHandle.classList.add("e-handle-focused"),this.firstHandle.classList.add("e-tab-handle")):(this.secondHandle.classList.add("e-handle-focused"),this.secondHandle.classList.add("e-tab-handle")),C.add(document,"mousemove touchmove",this.sliderBarMove,this),C.add(document,"mouseup touchend",this.sliderBarUp,this)}handleOver(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(e.currentTarget),"Default"===this.type&&this.tooltipToggle(this.getHandle())}handleLeave(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&!e.currentTarget.classList.contains("e-handle-focused")&&!e.currentTarget.classList.contains("e-tab-handle")&&this.closeTooltip()}setHandler(){this.min>this.max&&(this.min=this.max),this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()}setEnableRTL(){this.enableRtl&&"Vertical"!==this.orientation?_([this.sliderContainer],"e-rtl"):T([this.sliderContainer],"e-rtl");let e="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),e!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&(lt(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&lt(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()}tooltipValue(){let e;const t={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),t.text=e=this.tooltipObj.content,this.trigger("tooltipChange",t,i=>{this.addTooltipClass(i.text),e!==i.text&&(this.customAriaText=i.text,this.tooltipObj.content=i.text,this.setAriaAttrValue(this.firstHandle),"Range"===this.type&&this.setAriaAttrValue(this.secondHandle))}),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))}setTooltipContent(){let e;e=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=e}formatContent(e,t){let i="",n=this.handleVal1,s=this.handleVal2;return!h(this.customValues)&&this.customValues.length>0&&(n=this.customValues[this.handleVal1],s=this.customValues[this.handleVal2]),t?("Range"===this.type?i=this.enableRtl&&"Vertical"!==this.orientation?h(this.tooltip)||h(this.tooltip.format)?s.toString()+" - "+n.toString():this.formatString(s,e).elementVal+" - "+this.formatString(n,e).elementVal:h(this.tooltip)||h(this.tooltip.format)?n.toString()+" - "+s.toString():this.formatString(n,e).elementVal+" - "+this.formatString(s,e).elementVal:h(n)||(i=h(this.tooltip)||h(this.tooltip.format)?n.toString():this.formatString(n,e).elementVal),i):("Range"===this.type?i=this.enableRtl&&"Vertical"!==this.orientation?h(e.format)?s.toString()+" - "+n.toString():this.formatString(s,e).formatString+" - "+this.formatString(n,e).formatString:h(e.format)?n.toString()+" - "+s.toString():this.formatString(n,e).formatString+" - "+this.formatString(s,e).formatString:h(n)||(i=h(e.format)?n.toString():this.formatString(n,e).formatString),i)}addTooltipClass(e){if(this.isMaterialTooltip){let t=e.toString().length;if(this.tooltipElement){let i=t>4?{oldCss:"e-material-default",newCss:"e-material-range"}:{oldCss:"e-material-range",newCss:"e-material-default"};this.tooltipElement.classList.remove(i.oldCss),this.tooltipElement.classList.contains(i.newCss)||(this.tooltipElement.classList.add(i.newCss),this.tooltipElement.style.transform=t>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else this.tooltipObj.cssClass="e-slider-tooltip "+(t>4?"e-material-range":"e-material-default")}}tooltipPlacement(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"}tooltipBeforeOpen(e){this.tooltipElement=e.element,this.tooltip.cssClass&&_([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(t=>t)),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add("e-material-tooltip-hide"),this.handleStart(),this.setTooltipTransform())}tooltipCollision(e){if(this.isBootstrap||this.isBootstrap4||this.isMaterial&&!this.isMaterialTooltip){const t=this.isBootstrap4?3:6;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-t},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:t},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-t},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:t},!1)}}}materialTooltipEventCallBack(e){this.sliderBarClick(e),C.add(document,"mousemove touchmove",this.sliderBarMove,this),C.add(document,"mouseup touchend",this.sliderBarUp,this)}wireMaterialTooltipEvent(e){this.isMaterialTooltip&&(e?C.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):C.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))}tooltipPositionCalculation(e){let t;switch(e){case"TopCenter":t="e-slider-horizontal-before";break;case"BottomCenter":t="e-slider-horizontal-after";break;case"LeftCenter":t="e-slider-vertical-before";break;case"RightCenter":t="e-slider-vertical-after"}return t}getTooltipTransformProperties(e){let t;if(this.tooltipElement){let i="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;t="Horizontal"===this.orientation?"e-slider-horizontal-before"===e?{rotate:"rotate(45deg)",translate:`translateY(${i}px)`}:{rotate:"rotate(225deg)",translate:`translateY(${-i}px)`}:"e-slider-vertical-before"===e?{rotate:"rotate(-45deg)",translate:`translateX(${i}px)`}:{rotate:"rotate(-225deg)",translate:`translateX(${-i}px)`}}return t}openMaterialTooltip(){if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);let e=this.tooltipElement.firstElementChild;e.classList.remove("e-material-tooltip-hide"),e.classList.add("e-material-tooltip-show"),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add("e-material-tooltip-open"),this.materialHandle.style.transform="scale(0)",this.tooltipElement.style.transform=e.innerText.length>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout(()=>{this.tooltipElement.style.transition=this.transition.handle},2500):setTimeout(()=>{this.tooltipElement.style.transition="none"},2500)}}closeMaterialTooltip(){if(this.isMaterialTooltip){let e=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,e.classList.remove("e-material-tooltip-show"),e.classList.add("e-material-tooltip-hide"),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove("e-material-tooltip-open"),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(()=>{this.tooltipElement.style.transition="none"},2500)}}checkTooltipPosition(e){let t=this.tooltipPositionCalculation(e.collidedPosition);(void 0===this.tooltipCollidedPosition||this.tooltipCollidedPosition!==e.collidedPosition||!e.element.classList.contains(t))&&(this.isMaterialTooltip&&(void 0!==t&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(t),this.previousTooltipClass=t),e.element.style.transform&&e.element.classList.contains("e-material-tooltip-open")&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=e.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()}setTooltipTransform(){let e=this.getTooltipTransformProperties(this.previousTooltipClass);this.tooltipElement.style.transform=this.tooltipElement.firstElementChild.innerText.length>4?`${e.translate} scale(0.01)`:`${e.translate} ${e.rotate} scale(0.01)`}renderTooltip(){this.tooltipObj=new vs({showTipPointer:this.isBootstrap||this.isMaterial||this.isBootstrap4||this.isTailwind||this.isBootstrap5||this.isFluent,cssClass:"e-slider-tooltip",height:this.isMaterial?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()}initializeTooltipProps(){this.setProperties({tooltip:{showOn:"Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(t=>{h(t)||(t.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add("e-material-slider"),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))}tooltipBeforeClose(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0}setButtons(){this.firstBtn=this.createElement("div",{className:"e-slider-button e-first-button"}),this.firstBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:"e-slider-button e-second-button"}),this.secondBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add("e-slider-btn"),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()}buttonTitle(){let e=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);let t=this.l10n.getConstant("decrementTitle"),i=this.l10n.getConstant("incrementTitle");Le(e?this.secondBtn:this.firstBtn,{"aria-label":t,title:t}),Le(e?this.firstBtn:this.secondBtn,{"aria-label":i,title:i})}buttonFocusOut(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")}repeatButton(e){let n,t=this.handleValueUpdate(),i=this.enableRtl&&"Vertical"!==this.orientation;e.target.parentElement.classList.contains("e-first-button")||e.target.classList.contains("e-first-button")?n=this.add(t,parseFloat(this.step.toString()),!!i):(e.target.parentElement.classList.contains("e-second-button")||e.target.classList.contains("e-second-button"))&&(n=this.add(t,parseFloat(this.step.toString()),!i)),this.limits.enabled&&(n=this.getLimitCorrectedValues(n)),n>=this.min&&n<=this.max&&(this.changeHandleValue(n),this.tooltipToggle(this.getHandle()))}repeatHandlerMouse(e){e.preventDefault(),("mousedown"===e.type||"touchstart"===e.type)&&(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))}materialChange(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")}focusHandle(){this.getHandle().classList.contains("e-tab-handle")||this.getHandle().classList.add("e-tab-handle")}repeatHandlerUp(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()}customTickCounter(e){let t=4;return!h(this.customValues)&&this.customValues.length>0&&(e>4&&(t=3),e>7&&(t=2),e>14&&(t=1),e>28&&(t=0)),t}renderScale(){let e="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:"e-scale e-"+e+"-scale e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",A.isAndroid&&"h"===e&&this.ul.classList.add("e-tick-pos");let t=this.ticks.smallStep;this.ticks.showSmallTicks?t<=0&&(t=parseFloat($e(this.step))):t=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat($e(this.max))-parseFloat($e(this.min));let i=this.fractionalToInteger(this.min),n=this.fractionalToInteger(this.max),s=this.fractionalToInteger(t),o=!h(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,l=this.customTickCounter(o),a=!h(this.customValues)&&this.customValues.length>0?o*l+o:Math.abs((n-i)/s);this.element.appendChild(this.ul);let c,d=parseFloat(this.min.toString());"v"===e&&(d=parseFloat(this.max.toString()));let p,u=0,g=100/a;g===1/0&&(g=5);for(let f=0,m=!h(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,v=0;f<=a;f++){if(c=this.createElement("li",{attrs:{class:"e-tick",role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!h(this.customValues)&&this.customValues.length>0)p=f%(l+1)==0,p&&("h"===e?(d=this.customValues[v],v++):(d=this.customValues[m],m--),c.setAttribute("title",d.toString()));else if(c.setAttribute("title",d.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))p="h"===e?(d-parseFloat(this.min.toString()))%this.ticks.largeStep==0:Math.abs(d-parseFloat(this.max.toString()))%this.ticks.largeStep==0;else{let b=this.fractionalToInteger(this.ticks.largeStep),I=this.fractionalToInteger(d);p="h"===e?(I-i)%b==0:Math.abs(I-parseFloat(n.toString()))%b==0}p&&c.classList.add("e-large"),"h"===e?c.style.width=g+"%":c.style.height=g+"%";let w,x=p?"Both"===this.ticks.placement?2:1:0;if(p)for(let b=0;b<x;b++)this.createTick(c,d,g);else h(this.customValues)&&this.formatTicksValue(c,d);this.ul.appendChild(c),this.tickElementCollection.push(c),h(this.customValues)&&(w=this.numberOfDecimals(t)>this.numberOfDecimals(d)?this.numberOfDecimals(t):this.numberOfDecimals(d),d=this.makeRoundNumber("h"===e?d+t:d-t,w),u=this.makeRoundNumber(u+t,w))}this.ticksAlignment(e,g)}ticksAlignment(e,t,i=!0){this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add("e-first-tick"),this.lastChild.classList.add("e-last-tick"),this.sliderContainer.classList.add("e-scale-"+this.ticks.placement.toLowerCase()),"h"===e?(this.firstChild.style.width=t/2+"%",this.lastChild.style.width=t/2+"%"):(this.firstChild.style.height=t/2+"%",this.lastChild.style.height=t/2+"%"),i&&this.trigger("renderedTicks",{ticksWrapper:this.ul,tickElements:this.tickElementCollection}),this.scaleAlignment()}createTick(e,t,i){let n=this.createElement("span",{className:"e-tick-value e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(n),h(this.customValues)?this.formatTicksValue(e,t,n,i):n.innerHTML=this.enableHtmlSanitizer?Xr.sanitize(t.toString()):t.toString()}formatTicksValue(e,t,i,n){const s=this.formatNumber(t),o=h(this.ticks)||h(this.ticks.format)?s:this.formatString(t,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:t,text:o,tickElement:e},a=>{e.setAttribute("title",a.text.toString()),i&&(i.innerHTML=this.enableHtmlSanitizer?Xr.sanitize(a.text.toString()):a.text.toString())})}scaleAlignment(){this.tickValuePosition(),"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size"):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size")}tickValuePosition(){this.firstChild=this.element.querySelector("ul").children[0];let t,i,e=this.firstChild.getBoundingClientRect(),n=this.ticks.smallStep,s=Math.abs(parseFloat($e(this.max))-parseFloat($e(this.min)))/n;this.firstChild.children.length>0&&(t=this.firstChild.children[0].getBoundingClientRect());let l,o=[this.sliderContainer.querySelectorAll(".e-tick.e-large .e-tick-value")];l=[].slice.call(o[0],"Both"===this.ticks.placement?2:1);let a="Vertical"===this.orientation?2*e.height:2*e.width;for(let c=0;c<this.firstChild.children.length;c++)"Vertical"===this.orientation?this.firstChild.children[c].style.top=-t.height/2+"px":this.firstChild.children[c].style.left=this.enableRtl?(a-this.firstChild.children[c].getBoundingClientRect().width)/2+"px":-t.width/2+"px";for(let c=0;c<l.length;c++)i=l[c].getBoundingClientRect(),lt(l[c],"Vertical"===this.orientation?{top:(a-i.height)/2+"px"}:{left:(a-i.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==s&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===s&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove("e-last-tick"))}setAriaAttrValue(e){let t;const i=!h(this.ticks)&&!h(this.ticks.format);let n=this.formatContent(i?this.tooltipFormatInfo:this.ticksFormatInfo,!1);const s=this.formatContent(i?this.ticksFormatInfo:this.tooltipFormatInfo,!0);n=this.customAriaText?this.customAriaText:n,t=2===n.split(" - ").length?n.split(" - "):[n,n],this.setAriaAttributes(e),Le(e,"Range"!==this.type?{"aria-valuenow":s,"aria-valuetext":n}:this.enableRtl?e===this.firstHandle?{"aria-valuenow":s.split(" - ")[1],"aria-valuetext":t[1]}:{"aria-valuenow":s.split(" - ")[0],"aria-valuetext":t[0]}:e===this.firstHandle?{"aria-valuenow":s.split(" - ")[0],"aria-valuetext":t[0]}:{"aria-valuenow":s.split(" - ")[1],"aria-valuetext":t[1]})}handleValueUpdate(){let e;return e="Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1,e}getLimitCorrectedValues(e){return"MinRange"===this.type||"Default"===this.type||1===this.activeHandle?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0]}focusSliderElement(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)}buttonClick(e){let t;this.focusSliderElement();const i=this.enableRtl&&"Vertical"!==this.orientation,n=this.handleValueUpdate();40===e.keyCode||37===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(n,parseFloat(this.step.toString()),!!i):38===e.keyCode||39===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(n,parseFloat(this.step.toString()),!i):33===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(n,parseFloat(this.ticks.largeStep.toString()),!i):34===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(n,parseFloat(this.ticks.largeStep.toString()),!!i):36===e.keyCode?t=parseFloat(this.min.toString()):35===e.keyCode&&(t=parseFloat(this.max.toString())),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),this.changeHandleValue(t),this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),this.focusHandle(),e.currentTarget.classList.contains("e-first-button")&&C.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains("e-second-button")&&C.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)}tooltipToggle(e){this.isMaterialTooltip?this.tooltipElement.classList.contains("e-material-tooltip-open")?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)}buttonUp(e){e.currentTarget.classList.contains("e-first-button")&&C.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains("e-second-button")&&C.remove(this.secondBtn,"mouseup touchend",this.buttonUp)}setRangeBar(){"Horizontal"===this.orientation?"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",lt(this.rangeBar,{width:h(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",lt(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):"MinRange"===this.type?(this.rangeBar.style.bottom="0px",lt(this.rangeBar,{height:h(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",lt(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))}checkValidValueAndPos(e){return e=this.checkHandleValue(e),this.checkHandlePosition(e)}setLimitBarPositions(e,t,i,n){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.bottom=e+"px",this.limitBarFirst.style.height=t-e+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=i+"px",this.limitBarSecond.style.width=n-i+"px"):(this.limitBarSecond.style.left=i+"px",this.limitBarSecond.style.width=n-i+"px"):(this.limitBarSecond.style.bottom=i+"px",this.limitBarSecond.style.height=n-i+"px"))}setLimitBar(){if("Default"===this.type||"MinRange"===this.type){let e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);let t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t),this.setLimitBarPositions(e,t)}else if("Range"===this.type){let e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);let t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t);let i=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];i=this.checkValidValueAndPos(i);let n=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];n=this.checkValidValueAndPos(n),this.setLimitBarPositions(e,t,i,n)}}getLimitValueAndPosition(e,t,i,n){return h(t)&&(t=this.min,h(e)&&n&&(e=t)),h(i)&&(i=this.max,h(e)&&n&&(e=i)),e<t&&(e=t),e>i&&(e=i),[e,this.checkHandlePosition(e)]}setValue(){if(!h(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=h(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,this.activeHandle=h(this.activeHandle)?"Range"===this.type?2:1:this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){const e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()}rangeValueUpdate(){(null===this.value||"object"!=typeof this.value)&&(this.value=[parseFloat($e(this.min)),parseFloat($e(this.max))])}validateRangeValue(){this.rangeValueUpdate(),this.setRangeValue()}modifyZindex(){"Range"===this.type?1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=hf(this.element)+"")}setHandlePosition(e){let t;const i=1===this.activeHandle?this.handlePos1:this.handlePos2;t=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),t.forEach(n=>{"Horizontal"===this.orientation?this.enableRtl?n.style.right=`${i}px`:n.style.left=`${i}px`:n.style.bottom=`${i}px`}),this.changeEvent("change",e)}getHandle(){return 1===this.activeHandle?this.firstHandle:this.secondHandle}setRangeValue(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1}changeEvent(e,t){let i="change"===e?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),i!==this.value&&(!this.isMaterialTooltip||!this.initialTooltip)&&(this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{let n=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:n},!0),(i.length===this.value.length&&this.value[0]!==i[0]||this.value[1]!==i[1])&&(this.initialTooltip=!1,this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()}changeEventArgs(e,t){let i;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),i={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:this.tooltipObj.content,isInteracted:!h(t)}):i={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:h(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!h(t)},i}setPreviousVal(e,t){"change"===e?this.previousVal=t:this.previousChanged=t}updateRangeValue(){const e=this.value.toString().split(",").map(Number);if(this.value=this.enableRtl&&"Vertical"!==this.orientation||this.rtl?[e[1],e[0]]:[e[0],e[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;let t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,t=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=t[0],this.handlePos2=t[1],this.preHandlePos2=this.handlePos2}}checkHandlePosition(e){let t;return e=100*(e-parseFloat($e(this.min)))/(parseFloat($e(this.max))-parseFloat($e(this.min))),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(e/100):this.element.getBoundingClientRect().height*(e/100),parseFloat($e(this.max))===parseFloat($e(this.min))&&(t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),t}checkHandleValue(e){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat($e(this.max));let t=this.tempStartEnd();return e<t.start?e=t.start:e>t.end&&(e=t.end),e}reposition(){this.firstHandle.style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),"Range"===this.type&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=`${this.handlePos1}px`:this.firstHandle.style.left=`${this.handlePos1}px`,this.isMaterialTooltip&&(this.enableRtl?this.materialHandle.style.right=`${this.handlePos1}px`:this.materialHandle.style.left=`${this.handlePos1}px`),"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",lt(this.rangeBar,{width:h(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.enableRtl?this.secondHandle.style.right=`${this.handlePos2}px`:this.secondHandle.style.left=`${this.handlePos2}px`,this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",lt(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=`${this.handlePos1}px`,this.isMaterialTooltip&&(this.materialHandle.style.bottom=`${this.handlePos1}px`),"MinRange"===this.type?(this.rangeBar.style.bottom="0px",lt(this.rangeBar,{height:h(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=`${this.handlePos2}px`,this.rangeBar.style.bottom=this.handlePos1+"px",lt(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(()=>{this.firstHandle.style.transition=this.scaleTransform,"Range"===this.type&&(this.secondHandle.style.transition=this.scaleTransform)}),this.refreshTooltip(this.tooltipTarget),this.setBarColor()}changeHandleValue(e){let t=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(t=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(t=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==t&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))}tempStartEnd(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}}xyToPosition(e){let t;if(this.min===this.max)return 100;if("Horizontal"===this.orientation){let n=e.x-this.element.getBoundingClientRect().left;this.val=n/(this.element.offsetWidth/100)}else{let n=e.y-this.element.getBoundingClientRect().top;this.val=100-n/(this.element.offsetHeight/100)}let i=this.stepValueCalculation(this.val);return i<0?i=0:i>100&&(i=100),this.enableRtl&&"Vertical"!==this.orientation&&(i=100-i),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(i/100):this.element.getBoundingClientRect().height*(i/100),t}stepValueCalculation(e){0===this.step&&(this.step=1);let t=parseFloat($e(this.step))/((parseFloat($e(this.max))-parseFloat($e(this.min)))/100),i=e%Math.abs(t);return 0!==i&&(t/2>i?e-=i:e+=Math.abs(t)-i),e}add(e,t,i){let o,s=Math.pow(10,3);return o=i?(Math.round(e*s)+Math.round(t*s))/s:(Math.round(e*s)-Math.round(t*s))/s,o}positionToValue(e){let t,i=parseFloat($e(this.max))-parseFloat($e(this.min));return t="Horizontal"===this.orientation?e/this.element.getBoundingClientRect().width*i:e/this.element.getBoundingClientRect().height*i,this.add(t,parseFloat(this.min.toString()),!0)}sliderBarClick(e){let t;e.preventDefault(),"mousedown"===e.type||"mouseup"===e.type||"click"===e.type?t={x:e.clientX,y:e.clientY}:("touchend"===e.type||"touchstart"===e.type)&&(t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});let i=this.xyToPosition(t),n=this.positionToValue(i);if("Range"===this.type&&this.handlePos2-i<i-this.handlePos1){if(this.activeHandle=2,!this.limits.enabled||!this.limits.endHandleFixed){if(this.limits.enabled){let a=this.getLimitValueAndPosition(n,this.limits.maxStart,this.limits.maxEnd);n=a[0],i=a[1]}this.secondHandle.classList.add("e-handle-active"),this.handlePos2=this.preHandlePos2=i,this.handleVal2=n}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){let a=this.getLimitValueAndPosition(n,this.limits.minStart,this.limits.minEnd);n=a[0],i=a[1]}this.firstHandle.classList.add("e-handle-active"),this.handlePos1=this.preHandlePos1=i,this.handleVal1=n}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add("e-tooltip-active");let s=this.element.querySelector(".e-tab-handle");if(s&&this.getHandle()!==s&&s.classList.remove("e-tab-handle"),e.target===(1===this.activeHandle?this.firstHandle:this.secondHandle))return this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.sliderBarUp(e),void this.tooltipToggle(this.getHandle());if(!this.checkRepeatedValue(n))return;let l=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=l.handle,"Default"!==this.type&&(this.rangeBar.style.transition=l.rangeBar),this.setHandlePosition(e),this.isMaterialTooltip&&(this.initialTooltip=!1),this.changeEvent("changed",e),"Default"!==this.type&&this.setRangeBar()}handleValueAdjust(e,t,i){1===i?(this.handleVal1=t,this.handleVal2=this.handleVal1+this.minDiff):2===i&&(this.handleVal2=t,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)}dragRangeBarMove(e){let t,i,n;if("touchmove"!==e.type&&e.preventDefault(),this.rangeBarDragged=!0,this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none",[i,n]="mousemove"===e.type?[e.clientX,e.clientY]:[e.changedTouches[0].clientX,e.changedTouches[0].clientY],!(this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed)){if(t=this.enableRtl?{x:i+this.secondPartRemain,y:n+this.secondPartRemain}:{x:i-this.firstPartRemain,y:n+this.secondPartRemain},this.handlePos1=this.xyToPosition(t),this.handleVal1=this.positionToValue(this.handlePos1),t=this.enableRtl?{x:i-this.firstPartRemain,y:n-this.firstPartRemain}:{x:i+this.secondPartRemain,y:n-this.firstPartRemain},this.handlePos2=this.xyToPosition(t),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled){let s=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=s[0],this.handlePos1=s[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),s=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=s[0],this.handlePos2=s[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()}sliderBarUp(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove("e-handle-active"),"Range"===this.type&&(this.initialTooltip=!1,this.secondHandle.classList.remove("e-handle-active")),this.closeTooltip(),this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove("e-tooltip-active")),C.remove(document,"mousemove touchmove",this.sliderBarMove),C.remove(document,"mouseup touchend",this.sliderBarUp)}sliderBarMove(e){let t;"touchmove"!==e.type&&e.preventDefault(),t="mousemove"===e.type?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};let i=this.xyToPosition(t),n=this.positionToValue(i);if(i=Math.round(i),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){let s=this.getLimitValueAndPosition(n,this.limits.minStart,this.limits.minEnd);i=s[1],n=s[0]}this.handlePos1=i,this.handleVal1=n}this.firstHandle.classList.add("e-handle-active")}if("Range"===this.type)if(1===this.activeHandle){if(this.firstHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.startHandleFixed||(i>this.handlePos2&&(i=this.handlePos2,n=this.handleVal2),i===this.preHandlePos1))){if(this.limits.enabled){let s=this.getLimitValueAndPosition(n,this.limits.minStart,this.limits.minEnd);n=s[0],i=s[1]}this.handlePos1=this.preHandlePos1=i,this.handleVal1=n,this.activeHandle=1}}else if(2===this.activeHandle&&(this.secondHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.endHandleFixed||(i<this.handlePos1&&(i=this.handlePos1,n=this.handleVal1),i===this.preHandlePos2)))){if(this.limits.enabled){let s=this.getLimitValueAndPosition(n,this.limits.maxStart,this.limits.maxEnd);n=s[0],i=s[1]}this.handlePos2=this.preHandlePos2=i,this.handleVal2=n,this.activeHandle=2}!this.checkRepeatedValue(n)||(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())}dragRangeBarUp(e){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(e)),this.changeEvent("changed",e),this.closeTooltip(),C.remove(document,"mousemove touchmove",this.dragRangeBarMove),C.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1}checkRepeatedValue(e){if("Range"===this.type){if(e===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(e===this.previousVal)return 0;return 1}refreshTooltip(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))}openTooltip(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)}closeTooltip(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)}keyDown(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e)}}wireButtonEvt(e){e?(C.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),C.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),C.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),C.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),C.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),C.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),C.remove(this.firstBtn,"focusout",this.sliderFocusOut),C.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(C.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),C.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),C.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),C.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),C.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),C.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),C.add(this.firstBtn,"focusout",this.sliderFocusOut,this),C.add(this.secondBtn,"focusout",this.sliderFocusOut,this))}rangeBarMousedown(e){if(e.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&e.target===this.rangeBar){let t,i;"mousedown"===e.type?[t,i]=[e.clientX,e.clientY]:"touchstart"===e.type&&([t,i]=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]),"Horizontal"===this.orientation?(this.firstPartRemain=t-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-t):(this.firstPartRemain=i-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-i),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);let n=this.element.querySelector(".e-tab-handle");n&&n.classList.remove("e-tab-handle"),C.add(document,"mousemove touchmove",this.dragRangeBarMove,this),C.add(document,"mouseup touchend",this.dragRangeBarUp,this)}}elementClick(e){this.isDragComplete?this.isDragComplete=!1:(e.preventDefault(),this.focusSliderElement(),this.sliderBarClick(e),this.focusHandle())}wireEvents(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(C.add(this.element,"click",this.elementClick,this),"Range"===this.type&&this.drag&&C.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),C.add(this.sliderContainer,"keydown",this.keyDown,this),C.add(this.sliderContainer,"keyup",this.keyUp,this),C.add(this.element,"focusout",this.sliderFocusOut,this),C.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&C.add(this.formElement,"reset",this.formResetHandler,this))}unwireEvents(){C.remove(this.element,"click",this.elementClick),"Range"===this.type&&this.drag&&C.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),C.remove(this.sliderContainer,"keydown",this.keyDown),C.remove(this.sliderContainer,"keyup",this.keyUp),C.remove(this.element,"focusout",this.sliderFocusOut),C.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),C.remove(this.element,"reset",this.formResetHandler)}formResetHandler(){this.setProperties({value:this.formResetValue},!0),this.setValue()}keyUp(e){if(9===e.keyCode&&e.target.classList.contains("e-handle")&&(this.focusSliderElement(),!e.target.classList.contains("e-tab-handle"))){this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),e.target.classList.add("e-tab-handle");let t=e.target.parentElement;t===this.element&&(t.querySelector(".e-slider-track").classList.add("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&t.querySelector(".e-range").classList.add("e-tab-range")),"Range"===this.type&&(this.activeHandle=e.target.previousSibling.classList.contains("e-handle")?2:1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)}hover(e){if(!h(e))if("mouseover"===e.type||"touchmove"===e.type||"mousemove"===e.type||"pointermove"===e.type||"touchstart"===e.type)this.sliderContainer.classList.add("e-slider-hover");else{this.sliderContainer.classList.remove("e-slider-hover");const t=e.currentTarget;this.tooltip.isVisible&&"Always"!==this.tooltip.showOn&&this.tooltipObj&&this.isMaterialTooltip&&!t.classList.contains("e-handle-focused")&&!t.classList.contains("e-tab-handle")&&this.closeMaterialTooltip()}}sliderFocusOut(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),this.element.querySelector(".e-tab-track")&&(this.element.querySelector(".e-tab-track").classList.remove("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&this.element.querySelector(".e-tab-range")&&this.element.querySelector(".e-tab-range").classList.remove("e-tab-range")),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)}removeElement(e){e.parentNode&&e.parentNode.removeChild(e)}changeSliderType(e,t){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove("e-material-slider"),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==e&&("Range"===e&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!h(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===e||"Default"===e?h(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):h(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),"tooltip"!==t&&this.updateConfig()}changeRtl(){if(!this.enableRtl&&"Range"===this.type&&(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){let e=this.enableRtl&&"Vertical"!==this.orientation;Le(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),Le(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}}changeOrientation(){this.changeSliderType(this.type,"null")}updateConfig(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()}limitsPropertyChange(){this.limits.enabled?(h(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),h(this.limitBarFirst)&&h(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(h(this.limitBarFirst)||de(this.limitBarFirst),h(this.limitBarSecond)||de(this.limitBarSecond))}getPersistData(){return this.addOnPersist(["value"])}destroy(){super.destroy(),this.unwireEvents(),window.removeEventListener("resize",this.onresize),T([this.sliderContainer],["e-disabled"]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),de(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML=""}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"cssClass":this.setCSSClass(t.cssClass);break;case"value":if(e&&t){let n=h(e.value)?"Range"===this.type?[this.min,this.max]:this.min:e.value;this.setProperties({value:n},!0),!h(t.value)&&t.value.toString()!==n.toString()&&(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(this.activeHandle=h(e.value)||t.value[1]===n[1]?1:2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":!h(e.tooltip)&&!h(t.tooltip)&&this.setTooltip(i);break;case"type":!h(t)&&Object.keys(t).length&&!h(t.type)&&(this.changeSliderType(t.type,i),this.setZindex());break;case"enableRtl":t.enableRtl!==e.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=t.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":h(this.sliderContainer.querySelector(".e-scale"))||(de(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,n=>{n.match(/e-scale-/)&&this.sliderContainer.classList.remove(n)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove("e-slider-btn"),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}setReadOnly(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add("e-read-only")):(this.wireEvents(),this.sliderContainer.classList.remove("e-read-only"))}setMinMaxValue(){this.setValue(),this.refreshTooltip(this.tooltipTarget),h(this.sliderContainer.querySelector(".e-scale"))||this.ul&&(de(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,e=>{e.match(/e-scale-/)&&this.sliderContainer.classList.remove(e)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())}setZindex(){this.zIndex=6,!h(this.ticks)&&"None"!==this.ticks.placement&&(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),!this.isMaterial&&!h(this.ticks)&&"Both"===this.ticks.placement&&(this.element.style.zIndex=this.zIndex+2+""),this.firstHandle.style.zIndex=this.zIndex+3+"","Range"===this.type&&(this.secondHandle.style.zIndex=this.zIndex+4+"")}setTooltip(e){this.changeSliderType(this.type,e)}setBarColor(){let e,t,i=this.sliderTrack.lastElementChild;for(;i;)this.sliderTrack.removeChild(i),i=this.sliderTrack.lastElementChild;for(let n=0;n<this.colorRange.length;n++)if(!h(this.colorRange[n].start)&&!h(this.colorRange[n].end)&&this.colorRange[n].end>this.colorRange[n].start){this.colorRange[n].start<this.min&&(this.colorRange[n].start=this.min),this.colorRange[n].end>this.max&&(this.colorRange[n].end=this.max);const s=this.checkHandlePosition(this.colorRange[n].start),o=this.checkHandlePosition(this.colorRange[n].end),l=this.createElement("div");l.style.backgroundColor=this.colorRange[n].color,l.style.border="1px solid "+this.colorRange[n].color,"Horizontal"===this.orientation?(t="e-slider-horizantal-color",e=this.enableRtl?h(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[n].end):this.checkHandlePosition(this.customValues.length-this.colorRange[n].end-1):this.checkHandlePosition(this.colorRange[n].start),l.style.width=o-s+"px",l.style.left=e+"px"):(t="e-slider-vertical-color",e=this.checkHandlePosition(this.colorRange[n].start),l.style.height=o-s+"px",l.style.bottom=e+"px"),l.classList.add(t),this.sliderTrack.appendChild(l)}}getModuleName(){return"slider"}};rn([y(null)],xr.prototype,"value",void 0),rn([y(null)],xr.prototype,"customValues",void 0),rn([y(1)],xr.prototype,"step",void 0),rn([y(null)],xr.prototype,"width",void 0),rn([y(0)],xr.prototype,"min",void 0),rn([y(100)],xr.prototype,"max",void 0),rn([y(!1)],xr.prototype,"readonly",void 0),rn([y("Default")],xr.prototype,"type",void 0),rn([Hr([{}],ND)],xr.prototype,"colorRange",void 0),rn([gi({},Oy)],xr.prototype,"ticks",void 0),rn([gi({},xf)],xr.prototype,"limits",void 0),rn([y(!0)],xr.prototype,"enabled",void 0),rn([gi({},By)],xr.prototype,"tooltip",void 0),rn([y(!1)],xr.prototype,"showButtons",void 0),rn([y(!0)],xr.prototype,"enableAnimation",void 0),rn([y("Horizontal")],xr.prototype,"orientation",void 0),rn([y("")],xr.prototype,"cssClass",void 0),rn([y(!1)],xr.prototype,"enableHtmlSanitizer",void 0),rn([E()],xr.prototype,"created",void 0),rn([E()],xr.prototype,"change",void 0),rn([E()],xr.prototype,"changed",void 0),rn([E()],xr.prototype,"renderingTicks",void 0),rn([E()],xr.prototype,"renderedTicks",void 0),rn([E()],xr.prototype,"tooltipChange",void 0),xr=rn([Pi],xr);var fb,Aa=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const Ny={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")};var mb=(()=>{return(r=mb||(mb={}))[r.Message=0]="Message",r[r.Label=1]="Label",mb;var r})();let sl=fb=class extends lu{constructor(e,t){super(t,e),this.validated=[],this.errorRules=[],this.allowSubmit=!1,this.required="required",this.infoElement=null,this.inputElement=null,this.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",this.localyMessage={},this.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},void 0===this.rules&&(this.rules={}),this.l10n=new is("formValidator",this.defaultMessages,this.locale),this.locale&&this.localeFunc(),Wm.on("notifyExternalChange",this.afterLocalization,this),e="string"==typeof e?G(e,document):e,null!=this.element&&(this.element.setAttribute("novalidate",""),this.inputElements=gt(this.selectQuery,this.element),this.createHTML5Rules(),this.wireEvents())}addRules(e,t){e&&(this.rules.hasOwnProperty(e)?O(this.rules[e],t,{}):this.rules[e]=t)}removeRules(e,t){if(e||t)if(this.rules[e]&&!t)delete this.rules[e];else{if(h(this.rules[e]&&t))return;for(let i=0;i<t.length;i++)delete this.rules[e][t[i]]}else this.rules={}}validate(e){const t=Object.keys(this.rules);if(e&&t.length)return this.validateRules(e),-1!==t.indexOf(e)&&0===this.errorRules.filter(i=>i.name===e).length;this.errorRules=[];for(const i of t)this.validateRules(i);return 0===this.errorRules.length}reset(){this.element.reset(),this.clearForm()}getInputElement(e){return this.inputElement=G('[name="'+e+'"]',this.element),this.inputElement}destroy(){this.reset(),this.unwireEvents(),this.rules={};const e=gt("."+this.errorClass+", ."+this.validClass,this.element);for(const t of e)de(t);super.destroy(),Wm.off("notifyExternalChange",this.afterLocalization)}onPropertyChanged(e,t){for(const i of Object.keys(e))"locale"===i&&this.localeFunc()}localeFunc(){for(const e of Object.keys(this.defaultMessages)){this.l10n.setLocale(this.locale);const t=this.l10n.getConstant(e);this.localyMessage[e]=t}}getModuleName(){return"formValidator"}afterLocalization(e){this.locale=e.locale,this.localeFunc()}refresh(){this.unwireEvents(),this.inputElements=gt(this.selectQuery,this.element),this.wireEvents()}clearForm(){this.errorRules=[],this.validated=[];const e=gt(this.selectQuery,this.element);for(const t of e){const i=t;i.removeAttribute("aria-invalid"),i.classList.remove(this.errorClass),i.name.length>0&&(this.getInputElement(i.name),this.getErrorElement(i.name),this.hideMessage(i.name)),i.classList.remove(this.validClass)}}createHTML5Rules(){const e=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],t=["hidden","email","url","date","number","tel"];for(const i of this.inputElements){const n={};for(let s of e)if(null!==i.getAttribute(s))switch(s){case"required":this.defRule(i,n,s,i.required);break;case"data-validation":s=i.getAttribute(s),this.defRule(i,n,s,!0);break;case"type":-1!==t.indexOf(i.type)&&this.defRule(i,n,i.type,!0);break;case"rangeLength":case"range":this.defRule(i,n,s,JSON.parse(i.getAttribute(s)));break;case"equalTo":{const o=i.getAttribute(s);this.defRule(i,n,s,o)}break;default:"true"===i.getAttribute("data-val")?this.annotationRule(i,n,s,i.getAttribute(s)):this.defRule(i,n,s,i.getAttribute(s))}0!==Object.keys(n).length&&this.addRules(i.name,n)}}annotationRule(e,t,i,n){const s=i.split("-"),o=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],l=s[s.length-1],a=s[s.length-2];if(-1!==o.indexOf(l))switch(l){case"required":this.defRule(e,t,"required",n);break;case"creditcard":this.defRule(e,t,"creditcard",n);break;case"phone":this.defRule(e,t,"tel",n)}else if(-1!==o.indexOf(a))switch(a){case"maxlength":this.defRule(e,t,"maxLength",n);break;case"minlength":this.defRule(e,t,"minLength",n);break;case"range":{const c=e.getAttribute("data-val-range-min"),d=e.getAttribute("data-val-range-max");this.defRule(e,t,"range",[c,d])}break;case"equalto":{const c=e.getAttribute(i).split(".");this.defRule(e,t,"equalTo",c[c.length-1])}break;case"regex":this.defRule(e,t,"regex",n)}}defRule(e,t,i,n){const s=e.getAttribute("data-"+i+"-message"),o=e.getAttribute("data-val-"+i);let l;this.rules[e.name]&&"validateHidden"!==i&&"hidden"!==i&&(this.getInputElement(e.name),l=this.getErrorMessage(this.rules[e.name][i],i)),s?n=[n,s]:o?n=[n,o]:l&&(n=[n,l]),t[i]=n}wireEvents(){for(const e of this.inputElements)fb.isCheckable(e)?C.add(e,"click",this.clickHandler,this):"SELECT"===e.tagName?C.add(e,"change",this.changeHandler,this):(C.add(e,"focusout",this.focusOutHandler,this),C.add(e,"keyup",this.keyUpHandler,this));C.add(this.element,"submit",this.submitHandler,this),C.add(this.element,"reset",this.resetHandler,this)}unwireEvents(){for(const e of this.inputElements)C.clearEvents(e);C.remove(this.element,"submit",this.submitHandler),C.remove(this.element,"reset",this.resetHandler)}focusOutHandler(e){this.trigger("focusout",e);const t=e.target;this.rules[t.name]&&(this.rules[t.name][this.required]||t.value.length>0?this.validate(t.name):-1===this.validated.indexOf(t.name)&&this.validated.push(t.name))}keyUpHandler(e){this.trigger("keyup",e);const t=e.target;9===e.which&&(!this.rules[t.name]||this.rules[t.name]&&!this.rules[t.name][this.required])||-1!==this.validated.indexOf(t.name)&&this.rules[t.name]&&-1===[16,17,18,20,35,36,37,38,39,40,45,144,225].indexOf(e.which)&&this.validate(t.name)}clickHandler(e){this.trigger("click",e);const t=e.target;"submit"!==t.type?this.validate(t.name):null!==t.getAttribute("formnovalidate")&&(this.allowSubmit=!0)}changeHandler(e){this.trigger("change",e),this.validate(e.target.name)}submitHandler(e){this.trigger("submit",e),this.allowSubmit||this.validate()?this.allowSubmit=!1:e.preventDefault()}resetHandler(){this.clearForm()}validateRules(e){if(!this.rules[e])return;const t=Object.keys(this.rules[e]);let i=!1,n=!1;const s=t.indexOf("validateHidden"),o=t.indexOf("hidden");if(this.getInputElement(e),-1!==o&&(i=!0),-1!==s&&(n=!0),!i||i&&n){-1!==s&&t.splice(s,1),-1!==o&&t.splice(o-1,1),this.getErrorElement(e);for(const l of t){const a=this.getErrorMessage(this.rules[e][l],l),c={name:e,message:a},d={inputName:e,element:this.inputElement,message:a};if(!this.isValid(e,l)&&!this.inputElement.classList.contains(this.ignore)){this.removeErrorRules(e),this.errorRules.push(c),this.inputElement.setAttribute("aria-invalid","true"),this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info"),this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.infoElement?this.showMessage(c):this.createErrorElement(e,c.message,this.inputElement),d.errorElement=this.infoElement,d.status="failure",this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.optionalValidationStatus(e,d),this.trigger("validationComplete",d),"required"===l&&this.inputElement.setAttribute("aria-required","true");break}this.hideMessage(e),d.status="success",this.trigger("validationComplete",d)}}}optionalValidationStatus(e,t){!this.rules[e][this.required]&&!this.inputElement.value.length&&!h(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),t.status="",this.hideMessage(e))}isValid(e,t){const i=this.rules[e][t],s=this.rules[e][t],o={value:this.inputElement.value,param:i instanceof Array&&"string"==typeof i[1]?i[0]:i,element:this.inputElement,formElement:this.element};return this.trigger("validationBegin",o),!o.param&&"required"===t||(s&&"function"==typeof s[0]?s[0].call(this,{element:this.inputElement,value:this.inputElement.value}):fb.isCheckable(this.inputElement)?"required"!==t||gt('input[name="'+e+'"]:checked',this.element).length>0:fb.checkValidator[t](o))}getErrorMessage(e,t){let i=this.inputElement.getAttribute("data-"+t+"-message")?this.inputElement.getAttribute("data-"+t+"-message"):e instanceof Array&&"string"==typeof e[1]?e[1]:0!==Object.keys(this.localyMessage).length?this.localyMessage[t]:this.defaultMessages[t];const n=i.match(/{(\d)}/g);if(!h(n))for(let s=0;s<n.length;s++)i=i.replace(n[s],e instanceof Array?e[s]:e);return i}createErrorElement(e,t,i){let n=Xe(this.errorElement,{className:this.errorClass,innerHTML:t,attrs:{for:e}});this.errorOption===mb.Message&&(n.classList.remove(this.errorClass),n.classList.add("e-message"),n=Xe(this.errorContainer,{className:this.errorClass,innerHTML:n.outerHTML})),n.id=this.inputElement.name+"-info",this.element.querySelector('[data-valmsg-for="'+i.id+'"]')?this.element.querySelector('[data-valmsg-for="'+i.id+'"]').appendChild(n):!0===i.hasAttribute("data-msg-containerid")?G("#"+i.getAttribute("data-msg-containerid"),this.element).appendChild(n):null!=this.customPlacement?this.customPlacement.call(this,this.inputElement,n):this.inputElement.parentNode.insertBefore(n,this.inputElement.nextSibling),n.style.display="block",this.getErrorElement(e),this.validated.push(e),this.checkRequired(e)}getErrorElement(e){return this.infoElement=G(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=G(this.errorElement+"."+this.errorClass+'[for="'+e+'"]',this.element)),this.infoElement}removeErrorRules(e){for(let t=0;t<this.errorRules.length;t++)this.errorRules[t].name===e&&this.errorRules.splice(t,1)}showMessage(e){this.infoElement.style.display="block",this.infoElement.innerHTML=e.message,this.checkRequired(e.name)}hideMessage(e){this.infoElement&&(this.infoElement.style.display="none",this.removeErrorRules(e),this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass),this.inputElement.setAttribute("aria-invalid","false"))}checkRequired(e){!this.rules[e][this.required]&&!this.inputElement.value.length&&!h(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(e))}static isCheckable(e){const t=e.getAttribute("type");return t&&("checkbox"===t||"radio"===t||"submit"===t)}};sl.checkValidator={required:r=>isNaN(Date.parse(r.value))?r.value.toString().length>0:!isNaN(new Date(r.value).getTime()),email:r=>Ny.EMAIL.test(r.value),url:r=>Ny.URL.test(r.value),dateIso:r=>Ny.DATE_ISO.test(r.value),tel:r=>Ny.PHONE.test(r.value),creditcard:r=>Ny.CREDITCARD.test(r.value),number:r=>!isNaN(Number(r.value))&&-1===r.value.indexOf(" "),digits:r=>Ny.DIGITS.test(r.value),maxLength:r=>r.value.length<=r.param,minLength:r=>r.value.length>=r.param,rangeLength:r=>{const e=r.param;return r.value.length>=e[0]&&r.value.length<=e[1]},range:r=>{const e=r.param;return!isNaN(Number(r.value))&&Number(r.value)>=e[0]&&Number(r.value)<=e[1]},date:r=>!isNaN(new Date(r.value).getTime()),max:r=>isNaN(Number(r.value))?new Date(r.value).getTime()<=new Date(JSON.parse(JSON.stringify(r.param))).getTime():+r.value<=r.param,min:r=>{if(isNaN(Number(r.value))){if(-1!==r.value.indexOf(",")){const e=r.value.replace(/,/g,"");return parseFloat(e)>=r.param}return new Date(r.value).getTime()>=new Date(JSON.parse(JSON.stringify(r.param))).getTime()}return+r.value>=r.param},regex:r=>new RegExp(r.param).test(r.value),equalTo:r=>{const e=r.formElement.querySelector("#"+r.param);return r.param=e.value,r.param===r.value}},Aa([y("")],sl.prototype,"locale",void 0),Aa([y("e-hidden")],sl.prototype,"ignore",void 0),Aa([y()],sl.prototype,"rules",void 0),Aa([y("e-error")],sl.prototype,"errorClass",void 0),Aa([y("e-valid")],sl.prototype,"validClass",void 0),Aa([y("label")],sl.prototype,"errorElement",void 0),Aa([y("div")],sl.prototype,"errorContainer",void 0),Aa([y(mb.Label)],sl.prototype,"errorOption",void 0),Aa([E()],sl.prototype,"focusout",void 0),Aa([E()],sl.prototype,"keyup",void 0),Aa([E()],sl.prototype,"click",void 0),Aa([E()],sl.prototype,"change",void 0),Aa([E()],sl.prototype,"submit",void 0),Aa([E()],sl.prototype,"validationBegin",void 0),Aa([E()],sl.prototype,"validationComplete",void 0),Aa([E()],sl.prototype,"customPlacement",void 0),sl=fb=Aa([Pi],sl);var Ki=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const gU="e-file-select",$P="e-file-drop",fU="e-upload-files",VD="e-upload-file-list",Wo="e-file-status",mU="e-file-name",vU="e-file-type",yU="e-file-size",ua="e-file-remove-btn",_h="e-file-delete-btn",xU="e-spinner-pane",Io="e-file-abort-btn",fp="e-file-reload-btn",KP="e-upload-drag-hover",Zm="e-upload-progress-wrap",HD="e-upload-progress-bar",YP="e-progress-bar-text",Sh="e-upload-progress",uu="e-upload-success",Ih="e-upload-fails",QP="e-file-container",CU="e-validation-fails",XP="e-disabled",bU="e-rtl-container",JP="e-clear-icon-focus",Xa="e-file-pause-btn",e0="e-file-play-btn",vb="e-restrict-retry",_U=["title","style","class"],SU="e-form-upload",yb="e-file-invalid";class zD extends Nt{}Ki([y("")],zD.prototype,"name",void 0),Ki([y(null)],zD.prototype,"size",void 0),Ki([y("")],zD.prototype,"type",void 0);class jD extends Nt{}Ki([y("Browse...")],jD.prototype,"browse",void 0),Ki([y("Upload")],jD.prototype,"upload",void 0),Ki([y("Clear")],jD.prototype,"clear",void 0);class Vy extends Nt{}Ki([y("")],Vy.prototype,"saveUrl",void 0),Ki([y("")],Vy.prototype,"removeUrl",void 0),Ki([y(0)],Vy.prototype,"chunkSize",void 0),Ki([y(3)],Vy.prototype,"retryCount",void 0),Ki([y(500)],Vy.prototype,"retryAfterDelay",void 0);let qn=class extends an{constructor(e,t){super(e,t),this.initialAttr={accept:null,multiple:!1,disabled:!1},this.uploadedFilesData=[],this.base64String=[],this.isForm=!1,this.allTypes=!1,this.pausedData=[],this.uploadMetaData=[],this.tabIndex="0",this.btnTabIndex="0",this.disableKeyboardNavigation=!1,this.count=-1,this.actionCompleteCount=0,this.flag=!0,this.selectedFiles=[],this.uploaderName="UploadFiles",this.fileStreams=[],this.newFileRef=0,this.isFirstFileOnSelection=!1,this.dragCounter=0,this.fileList=[],this.filesData=[],this.uploaderOptions=e}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"allowedExtensions":this.setExtensions(this.allowedExtensions),this.clearAll();break;case"enabled":this.setControlStatus();break;case"multiple":this.setMultipleSelection();break;case"enableRtl":this.setRTL(),this.reRenderFileList();break;case"buttons":this.buttons.browse=h(this.buttons.browse)?"":this.buttons.browse,this.buttons.clear=h(this.buttons.clear)?"":this.buttons.clear,this.buttons.upload=h(this.buttons.upload)?"":this.buttons.upload,this.renderButtonTemplates();break;case"dropArea":this.unBindDropEvents(),this.updateDropArea();break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHTMLAttributes(!0);break;case"files":this.renderPreLoadFiles();break;case"directoryUpload":this.updateDirectoryAttributes();break;case"template":case"minFileSize":case"maxFileSize":case"autoUpload":case"sequentialUpload":this.clearAll();break;case"locale":this.l10n.setLocale(this.locale),this.setLocalizedTexts(),this.preLocaleObj=M("currentLocale",this.l10n);break;case"cssClass":this.setCSSClass(t.cssClass)}}setLocalizedTexts(){h(this.template)&&("string"==typeof this.buttons.browse&&(this.browseButton.innerText="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText),this.uploadWrapper&&!h(this.uploadWrapper.querySelector("."+$P))&&(this.uploadWrapper.querySelector("."+$P).innerHTML=this.localizedTexts("dropFilesHint"))),this.updateFileList())}getKeyValue(e){let t;for(const i of Object.keys(this.preLocaleObj))this.preLocaleObj[i]===e&&(t=i);return t}updateFileList(){let e;if(this.fileList.length>0&&!h(this.uploadWrapper.querySelector("."+fU)))for(let t=0;t<this.fileList.length;t++)e=this.fileList[t].querySelector(".e-file-status"),e.innerHTML=this.localizedTexts(this.getKeyValue(this.filesData[t].status)),this.filesData[t].status=this.localizedTexts(this.getKeyValue(this.filesData[t].status)),this.fileList[t].classList.contains(uu)&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("delete")),this.fileList[t].querySelector(".e-file-play-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("resume")),this.fileList[t].querySelector(".e-file-remove-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("remove")),this.fileList[t].querySelector(".e-file-reload-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("retry")),this.autoUpload||(this.uploadButton.innerText="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.localizedTexts("Upload")),this.clearButton.innerText="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.localizedTexts("Clear")))}reRenderFileList(){this.listParent&&(de(this.listParent),this.listParent=null,this.fileList=[],this.createFileList(this.filesData),this.actionButtons&&(this.removeActionButtons(),this.renderActionButtons(),this.checkActionButtonStatus()))}preRender(){this.localeText={Browse:"Browse...",Clear:"Clear",Upload:"Upload",dropFilesHint:"Or drop files here",invalidMaxFileSize:"File size is too large",invalidMinFileSize:"File size is too small",invalidFileType:"File type is not allowed",uploadFailedMessage:"File failed to upload",uploadSuccessMessage:"File uploaded successfully",removedSuccessMessage:"File removed successfully",removedFailedMessage:"Unable to remove file",inProgress:"Uploading",readyToUploadMessage:"Ready to upload",abort:"Abort",remove:"Remove",cancel:"Cancel",delete:"Delete file",pauseUpload:"File upload paused",pause:"Pause",resume:"Resume",retry:"Retry",fileUploadCancel:"File upload canceled",invalidFileSelection:"Invalid files selected",totalFiles:"Total files",size:"Size"},this.l10n=new is("uploader",this.localeText,this.locale),this.preLocaleObj=M("currentLocale",this.l10n),this.formRendered(),this.updateHTMLAttrToElement(),this.checkHTMLAttributes(!1);const e=M("ej2_instances",this.element);if("EJS-UPLOADER"===this.element.tagName){const t=this.createElement("input",{attrs:{type:"file"}});let i=0;for(;i<this.element.attributes.length;i++)t.setAttribute(this.element.attributes[i].nodeName,this.element.attributes[i].nodeValue),t.innerHTML=this.element.innerHTML;t.hasAttribute("name")||t.setAttribute("name","UploadFiles"),this.element.appendChild(t),this.element=t,Ne("ej2_instances",e,this.element)}e[0].isPureReactComponent&&(h(e[0].props.name)?!h(e[0].props.id)&&h(e[0].props.name)?this.element.setAttribute("name",e[0].props.id):this.element.setAttribute("name","UploadFiles"):this.element.setAttribute("name",e[0].props.name)),h(this.element.getAttribute("name"))&&this.element.setAttribute("name",this.element.getAttribute("id")),this.element.hasAttribute("type")||this.element.setAttribute("type","file"),this.updateDirectoryAttributes(),this.keyConfigs={enter:"enter"},this.element.hasAttribute("tabindex")&&(this.tabIndex=this.element.getAttribute("tabindex")),this.browserName=A.info.name,this.uploaderName=this.element.getAttribute("name")}formRendered(){let e=D(this.element,"form");if(!h(e))for(;e&&e!==document.documentElement;e=e.parentElement)"FORM"===e.tagName&&(this.isForm=!0,this.formElement=e,e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"))}getPersistData(){return this.addOnPersist(["filesData"])}getModuleName(){return"uploader"}updateDirectoryAttributes(){this.directoryUpload?(this.element.setAttribute("directory","true"),this.element.setAttribute("webkitdirectory","true")):(this.element.removeAttribute("directory"),this.element.removeAttribute("webkitdirectory"))}render(){this.renderBrowseButton(),this.initializeUpload(),this.updateHTMLAttrToWrapper(),this.wireEvents(),this.setMultipleSelection(),this.setExtensions(this.allowedExtensions),this.setRTL(),this.renderPreLoadFiles(),this.setControlStatus(),this.setCSSClass()}renderBrowseButton(){this.browseButton=this.createElement("button",{className:"e-css e-btn",attrs:{type:"button"}}),this.browseButton.setAttribute("tabindex",this.tabIndex),"string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):this.browseButton.appendChild(this.buttons.browse),this.element.setAttribute("aria-label","Uploader")}renderActionButtons(){this.element.setAttribute("tabindex","-1"),this.actionButtons=this.createElement("div",{className:"e-upload-actions"}),this.uploadButton=this.createElement("button",{className:"e-file-upload-btn e-css e-btn e-flat e-primary",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.clearButton=this.createElement("button",{className:"e-file-clear-btn e-css e-btn e-flat",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.actionButtons.appendChild(this.clearButton),this.actionButtons.appendChild(this.uploadButton),this.renderButtonTemplates(),this.uploadWrapper.appendChild(this.actionButtons),this.browseButton.blur(),this.isPreloadFiles||this.uploadButton.focus(),this.wireActionButtonEvents()}serverActionButtonsEventBind(e){e&&!this.isForm&&(this.browseButton.blur(),this.actionButtons=e,this.uploadButton=this.actionButtons.querySelector(".e-file-upload-btn"),this.clearButton=this.actionButtons.querySelector(".e-file-clear-btn"),this.uploadButton.focus(),this.unwireActionButtonEvents(),this.wireActionButtonEvents(),this.checkActionButtonStatus())}wireActionButtonEvents(){C.add(this.uploadButton,"click",this.uploadButtonClick,this),C.add(this.clearButton,"click",this.clearButtonClick,this)}unwireActionButtonEvents(){C.remove(this.uploadButton,"click",this.uploadButtonClick),C.remove(this.clearButton,"click",this.clearButtonClick)}removeActionButtons(){this.actionButtons&&(this.unwireActionButtonEvents(),de(this.actionButtons),this.actionButtons=null)}renderButtonTemplates(){if("string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.textContent)):(this.browseButton.innerHTML="",this.browseButton.appendChild(this.buttons.browse)),this.uploadButton){const e=h(this.buttons.upload)?"Upload":this.buttons.upload;this.buttons.upload=e,"string"==typeof this.buttons.upload?(this.uploadButton.textContent="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.uploadButton.textContent)):(this.uploadButton.innerHTML="",this.uploadButton.appendChild(this.buttons.upload))}if(this.clearButton){const e=h(this.buttons.clear)?"Clear":this.buttons.clear;this.buttons.clear=e,"string"==typeof this.buttons.clear?(this.clearButton.textContent="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.clearButton.textContent)):(this.clearButton.innerHTML="",this.clearButton.appendChild(this.buttons.clear))}}initializeUpload(){this.element.setAttribute("tabindex","-1");const e=this.createElement("span",{className:gU});this.element.parentElement.insertBefore(e,this.element),this.dropAreaWrapper=this.createElement("div",{className:"e-file-select-wrap"}),this.element.parentElement.insertBefore(this.dropAreaWrapper,this.element),e.appendChild(this.element),this.dropAreaWrapper.appendChild(this.browseButton),this.dropAreaWrapper.appendChild(e),this.uploadWrapper=this.createElement("div",{className:"e-upload e-control-wrapper"}),this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper,this.dropAreaWrapper),this.uploadWrapper.appendChild(this.dropAreaWrapper),this.setDropArea()}renderPreLoadFiles(){if(this.files.length){if(this.enablePersistence&&this.filesData.length)return void this.createFileList(this.filesData);if(h(this.files[0].size))return;this.isPreloadFiles=!0;let e=[].slice.call(this.files);const t=[];this.multiple||(this.clearData(),e=[e[0]]);for(const i of e){const n={name:i.name+"."+i.type.split(".")[i.type.split(".").length-1],rawFile:"",size:i.size,status:this.localizedTexts("uploadSuccessMessage"),type:i.type,validationMessages:{minSize:"",maxSize:""},statusCode:"2"};t.push(n),this.filesData.push(n)}this.createFileList(t),!this.autoUpload&&this.listParent&&!this.actionButtons&&(!this.isForm||this.allowUpload())&&this.showFileList&&this.renderActionButtons(),this.checkActionButtonStatus(),this.sequentialUpload&&(this.count=this.filesData.length-1),this.isPreloadFiles=!1}}checkActionButtonStatus(){if(this.actionButtons){const e=this.uploadWrapper.querySelectorAll("."+CU).length+this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length+this.uploadWrapper.querySelectorAll("span."+uu).length+this.uploadWrapper.querySelectorAll("span."+Sh).length;e>0&&e===this.uploadWrapper.querySelectorAll("li").length?this.uploadButton.setAttribute("disabled","disabled"):this.uploadButton.removeAttribute("disabled")}}setDropArea(){const e=this.dropAreaWrapper.querySelector(".e-file-drop");if(this.dropArea){this.dropZoneElement="string"!=typeof this.dropArea?this.dropArea:G(this.dropArea,document);let t=this.element,i=!1;for(;t.parentNode;)t=t.parentNode,t===this.dropZoneElement&&(i=!0,e?e.innerHTML=this.localizedTexts("dropFilesHint"):this.createDropTextHint());!i&&e&&X(e)}else!h(this.uploaderOptions)&&void 0===this.uploaderOptions.dropArea&&(this.createDropTextHint(),this.dropZoneElement=this.uploadWrapper,this.setProperties({dropArea:this.uploadWrapper},!0));this.bindDropEvents()}updateDropArea(){if(this.dropArea)this.setDropArea();else{this.dropZoneElement=null;const e=this.dropAreaWrapper.querySelector(".e-file-drop");e&&X(e)}}createDropTextHint(){const e=this.createElement("span",{className:$P});e.innerHTML=this.localizedTexts("dropFilesHint"),this.dropAreaWrapper.appendChild(e)}updateHTMLAttrToElement(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))_U.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateHTMLAttrToWrapper(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(_U.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&_([this.uploadWrapper],t.split(" "))}else if("style"===e){let t=this.uploadWrapper.getAttribute(e);t=h(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.uploadWrapper.setAttribute(e,t)}else this.uploadWrapper.setAttribute(e,this.htmlAttributes[e])}setMultipleSelection(){if(this.multiple&&!this.element.hasAttribute("multiple")){const e=document.createAttribute("multiple");e.value="multiple",this.element.setAttributeNode(e)}else this.multiple||this.element.removeAttribute("multiple")}checkAutoUpload(e){this.autoUpload?(this.sequentialUpload?this.sequenceUpload(e):this.upload(e),this.removeActionButtons()):this.actionButtons||this.renderActionButtons(),this.checkActionButtonStatus()}sequenceUpload(e){if(this.filesData.length-e.length==0||"1"!==this.filesData[this.filesData.length-e.length-1].statusCode){++this.count;const t=!this.showFileList;"object"==typeof this.filesData[this.count]?(this.isFirstFileOnSelection=!1,this.upload(this.filesData[this.count],t),"0"===this.filesData[this.count].statusCode&&this.sequenceUpload(e)):--this.count}}setCSSClass(e){let t=this.cssClass;!h(this.cssClass)&&""!==this.cssClass&&(t=this.cssClass.replace(/\s+/g," ").trim()),!h(this.cssClass)&&""!==t&&_([this.uploadWrapper],t.split(t.indexOf(",")>-1?",":" "));let i=e;h(e)||(i=e.replace(/\s+/g," ").trim()),!h(e)&&""!==i&&T([this.uploadWrapper],i.split(" "))}wireEvents(){C.add(this.browseButton,"click",this.browseButtonClick,this),C.add(this.element,"change",this.onSelectFiles,this),C.add(document,"click",this.removeFocus,this),this.keyboardModule=new tn(this.uploadWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.isForm&&C.add(this.formElement,"reset",this.resetForm,this)}unWireEvents(){C.remove(this.browseButton,"click",this.browseButtonClick),C.remove(this.element,"change",this.onSelectFiles),C.remove(document,"click",this.removeFocus),this.isForm&&C.remove(this.formElement,"reset",this.resetForm),this.keyboardModule&&this.keyboardModule.destroy()}resetForm(){this.clearAll()}keyActionHandler(e){const t=e.target;if("enter"===e.action){if(e.target===this.clearButton)this.clearButtonClick();else if(e.target===this.uploadButton)this.uploadButtonClick();else if(e.target===this.browseButton)this.browseButtonClick();else if(t.classList.contains(Xa)){const i=this.getCurrentMetaData(null,e);i.file.statusCode="4",i.file.status=this.localizedTexts("pauseUpload"),this.abortUpload(i,!1)}else if(t.classList.contains(e0))this.resumeUpload(this.getCurrentMetaData(null,e),e);else if(t.classList.contains(fp)){const i=this.getCurrentMetaData(null,e);if(h(i)){const s=this.filesData[this.fileList.indexOf(e.target.parentElement)];this.retry(s)}else i.file.statusCode="1",i.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(i.file)}else this.removeFiles(e),t.classList.contains(Io)||this.browseButton.focus();e.preventDefault(),e.stopPropagation()}}getCurrentMetaData(e,t){let i,n;i=h(e)?this.filesData[this.fileList.indexOf(t.target.parentElement)]:e;for(let s=0;s<this.uploadMetaData.length;s++)this.uploadMetaData[s].file.name===i.name&&(n=this.uploadMetaData[s]);return n}removeFocus(){this.uploadWrapper&&this.listParent&&this.listParent.querySelector("."+JP)&&(document.activeElement.blur(),this.listParent.querySelector("."+JP).classList.remove(JP))}browseButtonClick(){this.element.click()}uploadButtonClick(){this.sequentialUpload?this.sequenceUpload(this.filesData):this.upload(this.filesData)}clearButtonClick(){this.clearAll(),this.sequentialUpload&&(this.count=-1),this.actionCompleteCount=0}bindDropEvents(){this.dropZoneElement&&(C.add(this.dropZoneElement,"drop",this.dropElement,this),C.add(this.dropZoneElement,"dragover",this.dragHover,this),C.add(this.dropZoneElement,"dragleave",this.onDragLeave,this),C.add(this.dropZoneElement,"paste",this.onPasteFile,this),C.add(this.dropZoneElement,"dragenter",this.onDragEnter,this))}unBindDropEvents(){this.dropZoneElement&&(C.remove(this.dropZoneElement,"drop",this.dropElement),C.remove(this.dropZoneElement,"dragover",this.dragHover),C.remove(this.dropZoneElement,"dragleave",this.onDragLeave),C.remove(this.dropZoneElement,"dragenter",this.onDragEnter))}onDragEnter(e){!this.enabled||(this.dropZoneElement.classList.add(KP),this.dragCounter=this.dragCounter+1,e.preventDefault(),e.stopPropagation())}onDragLeave(){!this.enabled||(this.dragCounter=this.dragCounter-1,this.dragCounter||this.dropZoneElement.classList.remove(KP))}dragHover(e){!this.enabled||("Default"!==this.dropEffect&&(e.dataTransfer.dropEffect=this.dropEffect.toLowerCase()),e.preventDefault(),e.stopPropagation())}dropElement(e){this.dragCounter=0,this.dropZoneElement.classList.remove(KP),this.onSelectFiles(e),e.preventDefault(),e.stopPropagation()}onPasteFile(e){const t=e.clipboardData.items;if("paste"==e.type&&"msie"!==this.browserName&&"edge"!==this.browserName&&"safari"!==this.browserName&&(this.element.files=e.clipboardData.files),1!==t.length)return;const i=[].slice.call(t)[0];"file"===i.kind&&i.type.match("^image/")&&this.renderSelectedFiles(e,[i.getAsFile()],!1,!0)}getSelectedFiles(e){const t=[],i=this.fileList[e],n=this.getFilesData(),s=+i.getAttribute("data-files-count");let o=0;for(let l=0;l<e;l++)o+=+this.fileList[l].getAttribute("data-files-count");for(let l=o;l<o+s;l++)t.push(n[l]);return t}removeFiles(e){if(!this.enabled)return;const i=this.fileList.indexOf(e.target.parentElement),n=this.fileList[i],s=this.isFormUpload(),o=s?this.getSelectedFiles(i):this.getFilesInArray(this.filesData[i]);if(!h(o)){if(e.target.classList.contains(Io)&&!s){if(o[0].statusCode="5",!h(n)){const l=n.querySelector("."+Io);bc({target:l,width:"20px"}),Go(l)}this.sequentialUpload&&this.uploadSequential(),n.classList.contains(vb)||this.checkActionComplete(!0)}else D(e.target,"."+xU)||this.remove(o,!1,!1,!0,e);this.element.value="",this.checkActionButtonStatus()}}removeFilesData(e,t){let i;if(t)return void(this.showFileList||(i=this.filesData.indexOf(e),this.filesData.splice(i,1)));const n=this.getLiElement(e);h(n)||(de(n),i=this.fileList.indexOf(n),this.fileList.splice(i,1),this.filesData.splice(i,1),0===this.fileList.length&&!h(this.listParent)&&(de(this.listParent),this.listParent=null,this.removeActionButtons()),this.sequentialUpload&&i<=this.count&&--this.count)}removeUploadedFile(e,t,i,n){const s=e,o=new cf(this.asyncSettings.removeUrl,"POST",!0,null);o.emitError=!1;const l=new FormData;o.beforeSend=a=>{t.currentRequest=o.httpRequest,i?this.removingEventCallback(t,l,s,e):this.trigger("removing",t,c=>{c.cancel?a.cancel=!0:this.removingEventCallback(c,l,s,e)})},o.onLoad=a=>(this.removeCompleted(a,s,n),{}),o.onError=a=>(this.removeFailed(a,s,n),{}),o.send(l)}removingEventCallback(e,t,i,n){const s=this.element.getAttribute("name"),o=this.getLiElement(n);if(!(h(o)||h(o.querySelector("."+_h))&&h(o.querySelector("."+ua)))){const l=o.querySelector("."+_h)?o.querySelector("."+_h):o.querySelector("."+ua);bc({target:l,width:"20px"}),Go(l)}e.postRawFile&&!h(i.rawFile)&&""!==i.rawFile?t.append(s,i.rawFile,i.name):t.append(s,i.name),this.updateFormData(t,e.customFormData)}updateFormData(e,t){if(t.length>0&&t[0])for(let i=0;i<t.length;i++){const n=t[i],s=Object.keys(n).map(function(o){return n[o]});e.append(Object.keys(n)[0],s)}}updateCustomheader(e,t){if(t.length>0&&t[0])for(let i=0;i<t.length;i++){const n=t[i],s=Object.keys(n).map(function(o){return n[o]});e.setRequestHeader(Object.keys(n)[0],s)}}removeCompleted(e,t,i){const n=e&&e.currentTarget?this.getResponse(e):null,s=e.target;if(4===s.readyState&&s.status>=200&&s.status<=299){const o={e,response:n,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedSuccessMessage"),"2")};this.trigger("success",o),this.removeFilesData(t,i);const l=this.uploadedFilesData.indexOf(t);this.uploadedFilesData.splice(l,1),this.trigger("change",{files:this.uploadedFilesData})}else this.removeFailed(e,t,i)}removeFailed(e,t,i){const s={e,response:e&&e.currentTarget?this.getResponse(e):null,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedFailedMessage"),"0")};if(!i){const l=this.filesData.indexOf(t),a=this.fileList[l];if(a){a.classList.remove(uu),a.classList.add(Ih);const c=a.querySelector("."+Wo);c&&(c.classList.remove(uu),c.classList.add(Ih))}this.checkActionButtonStatus()}this.trigger("failure",s);const o=this.getLiElement(t);h(o)||h(o.querySelector("."+_h))||(qo(o.querySelector("."+_h)),de(o.querySelector(".e-spinner-pane")))}getFilesFromFolder(e){this.filesEntries=[];const t=this.multiple?e.dataTransfer.items:[e.dataTransfer.items[0]];if(this.checkDirectoryUpload(t))for(let n=0;n<t.length;n++){const s=t[n].webkitGetAsEntry();if(s.isFile){const o=[];s.file(l=>{o.push({path:s.fullPath,file:l})}),this.renderSelectedFiles(e,o,!0)}else s.isDirectory&&this.traverseFileTree(s,e)}}checkDirectoryUpload(e){for(let t=0;e&&t<e.length;t++)if(e[t].webkitGetAsEntry().isDirectory)return!0;return!1}traverseFileTree(e,t){if(e.isFile)this.filesEntries.push(e);else if(e.isDirectory){const i=e.createReader();this.readFileFromDirectory(i,t)}}readFileFromDirectory(e,t){e.readEntries(i=>{for(let n=0;n<i.length;n++)this.traverseFileTree(i[n],t);this.pushFilesEntries(t),i.length&&this.readFileFromDirectory(e)})}pushFilesEntries(e){const t=[];for(let i=0;i<this.filesEntries.length;i++)this.filesEntries[i].file(n=>{this.filesEntries.length&&(t.push({path:this.filesEntries[i].fullPath,file:n}),i===this.filesEntries.length-1&&(this.filesEntries=[],this.renderSelectedFiles(e,t,!0)))})}onSelectFiles(e){if(!this.enabled)return;let t;if("drop"===e.type)if(this.directoryUpload)this.getFilesFromFolder(e);else{const i=this.sortFilesList=e.dataTransfer.files;"msie"!==this.browserName&&"edge"!==this.browserName&&"safari"!==this.browserName&&(this.element.files=i),i.length>0&&(t=this.multiple?this.sortFileList(i):[i[0]],this.renderSelectedFiles(e,t))}else t=[].slice.call(e.target.files),this.renderSelectedFiles(e,t)}getBase64(e){return new Promise((t,i)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=s=>i(s)})}renderSelectedFiles(e,t,i,n){this.base64String=[];const s={event:e,cancel:!1,filesData:[],isModified:!1,modifiedFilesData:[],progressInterval:"",isCanceled:!1,currentRequest:null,customFormData:null};if(t.length<1)return s.isCanceled=!0,void this.trigger("selected",s);this.flag=!0;let o=[];this.multiple||(this.clearData(!0),t=[t[0]]);for(let l=0;l<t.length;l++)this.updateInitialFileDetails(e,t,i?t[l].file:t[l],l,o,i,n);s.filesData=o,this.allowedExtensions.indexOf("*")>-1&&(this.allTypes=!0),this.allTypes||(o=this.checkExtension(o)),this.trigger("selected",s,l=>{this._internalRenderSelect(l,o)})}updateInitialFileDetails(e,t,i,n,s,o,l){const c={name:o?t[n].path.substring(1,t[n].path.length):l?Gn(i.name.substring(0,i.name.lastIndexOf(".")))+"."+this.getFileType(i.name):this.directoryUpload?t[n].webkitRelativePath:i.name,rawFile:i,size:i.size,status:this.localizedTexts("readyToUploadMessage"),type:this.getFileType(i.name),validationMessages:this.validatedFileSize(i.size),statusCode:"1",id:Gn(i.name.substring(0,i.name.lastIndexOf(".")))+"."+this.getFileType(i.name)};l&&(c.fileSource="paste"),c.status=""!==c.validationMessages.minSize?this.localizedTexts("invalidMinFileSize"):""!==c.validationMessages.maxSize?this.localizedTexts("invalidMaxFileSize"):c.status,(""!==c.validationMessages.minSize||""!==c.validationMessages.maxSize)&&(c.statusCode="0"),s.push(c)}_internalRenderSelect(e,t){if(!e.cancel){if(this.selectedFiles=this.selectedFiles.concat(t),this.btnTabIndex=this.disableKeyboardNavigation?"-1":"0",this.showFileList){if(e.isModified&&e.modifiedFilesData.length>0){for(let n=0;n<e.modifiedFilesData.length;n++)for(let s=0;s<t.length;s++)e.modifiedFilesData[n].id===t[s].id&&(e.modifiedFilesData[n].rawFile=t[s].rawFile);const i=this.allTypes?e.modifiedFilesData:this.checkExtension(e.modifiedFilesData);this.updateSortedFileList(i),this.filesData=i,(!this.isForm||this.allowUpload())&&this.checkAutoUpload(i)}else this.createFileList(t,!0),this.filesData=this.filesData.concat(t),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(t);!h(e.progressInterval)&&""!==e.progressInterval&&(this.progressInterval=e.progressInterval)}else this.filesData=this.filesData.concat(t),this.autoUpload&&this.upload(this.filesData,!0);this.raiseActionComplete(),this.isFirstFileOnSelection=!0}}allowUpload(){let e=!1;return this.isForm&&!h(this.asyncSettings.saveUrl)&&""!==this.asyncSettings.saveUrl&&(e=!0),e}isFormUpload(){let e=!1;return this.isForm&&(h(this.asyncSettings.saveUrl)||""===this.asyncSettings.saveUrl)&&(h(this.asyncSettings.removeUrl)||""===this.asyncSettings.removeUrl)&&(e=!0),e}clearData(e){h(this.listParent)||(de(this.listParent),this.listParent=null),"msie"!==this.browserName&&!e&&(this.element.value=""),this.fileList=[],this.filesData=[],this.removeActionButtons()}updateSortedFileList(e){const t=this.createElement("div",{id:"clonewrapper"});let n,i=-1;if(this.listParent){for(let o=0;o<this.listParent.querySelectorAll("li").length;o++){const l=this.listParent.querySelectorAll("li")[o];t.appendChild(l.cloneNode(!0))}n=this.listParent.querySelectorAll("li");for(const o of n)de(o);this.removeActionButtons();const s=[].slice.call(t.childNodes);de(this.listParent),this.listParent=null,this.fileList=[],this.createParentUL();for(let o=0;o<e.length;o++){for(let l=0;l<this.filesData.length;l++)this.filesData[l].name===e[o].name&&(this.listParent.appendChild(s[l]),C.add(s[l].querySelector(".e-icons"),"click",this.removeFiles,this),this.fileList.push(s[l]),i=o);i!==o&&this.createFileList([e[o]])}}else this.createFileList(e)}isBlank(e){return!e||/^\s*$/.test(e)}checkExtension(e){const t=e;if(!this.isBlank(this.allowedExtensions)){const i=[],n=this.allowedExtensions.split(",");for(const s of n)i.push(s.trim().toLocaleLowerCase());for(let s=0;s<e.length;s++)-1===i.indexOf(("."+e[s].type).toLocaleLowerCase())&&(e[s].status=this.localizedTexts("invalidFileType"),e[s].statusCode="0")}return t}validatedFileSize(e){let t="",i="";return e<this.minFileSize?t=this.localizedTexts("invalidMinFileSize"):e>this.maxFileSize?i=this.localizedTexts("invalidMaxFileSize"):(t="",i=""),{minSize:t,maxSize:i}}isPreLoadFile(e){let t=!1;for(let i=0;i<this.files.length;i++)this.files[i].name===e.name.slice(0,e.name.lastIndexOf("."))&&this.files[i].type===e.type&&(t=!0);return t}createCustomfileList(e){this.createParentUL();for(const t of e){const i=this.createElement("li",{className:VD,attrs:{"data-file-name":t.name}});this.uploadTemplateFn=this.templateComplier(this.template);const n=this.uploadTemplateFn(t,this,"template",this.element.id+"Template",this.isStringTemplate,null,i);n&&Jt([].slice.call(n),i);const s=e.indexOf(t),o={element:i,fileInfo:t,index:s,isPreload:this.isPreLoadFile(t)},l={element:i,fileInfo:t,index:s,isPreload:this.isPreLoadFile(t)};this.trigger("rendering",o),this.trigger("fileListRendering",l),this.listParent.appendChild(i),this.fileList.push(i)}this.renderReactTemplates()}createParentUL(){h(this.listParent)&&(this.listParent=this.createElement("ul",{className:fU}),this.uploadWrapper.appendChild(this.listParent))}formFileList(e,t){const i=this.createElement("li",{className:VD});i.setAttribute("data-files-count",e.length+"");const n=this.createElement("span",{className:QP});let s;for(const d of e){const u=this.createElement("span",{className:mU});u.innerHTML=this.getFileNameOnly(d.name);const p=this.createElement("span",{className:vU}),g=this.getFileType(d.name);if(p.innerHTML="."+g,g||p.classList.add("e-hidden"),this.enableRtl){const f=this.createElement("span",{className:bU});f.appendChild(p),f.appendChild(u),n.appendChild(f)}else n.appendChild(u),n.appendChild(p);this.truncateName(u),s=this.formValidateFileInfo(d,i)}i.appendChild(n),this.setListToFileInfo(e,i);const o=this.listParent.querySelectorAll("li").length,l=this.createElement("span");if(i.classList.contains(yb)?(l.classList.add(Wo),l.classList.add(yb),l.innerText=e.length>1?this.localizedTexts("invalidFileSelection"):s):(l.classList.add(e.length>1?"e-file-information":yU),l.innerText=e.length>1?this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):this.bytesToSize(e[0].size),this.createFormInput(e)),n.appendChild(l),h(i.querySelector(".e-icons"))){const d=this.createElement("span",{className:"e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&d.classList.add("e-msie"),d.setAttribute("title",this.localizedTexts("remove")),i.appendChild(n),i.appendChild(d),C.add(d,"click",this.removeFiles,this),d.classList.add(ua)}const a={element:i,fileInfo:this.mergeFileInfo(e,i),index:o,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,i))},c={element:i,fileInfo:this.mergeFileInfo(e,i),index:o,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,i))};this.trigger("rendering",a),this.trigger("fileListRendering",c),this.listParent.appendChild(i),this.fileList.push(i)}formValidateFileInfo(e,t){let i=e.status;const n=this.validatedFileSize(e.size);(""!==n.minSize||""!==n.maxSize)&&(this.addInvalidClass(t),i=""!==n.minSize?this.localizedTexts("invalidMinFileSize"):""!==n.maxSize?this.localizedTexts("invalidMaxFileSize"):i);const s=this.checkExtension(this.getFilesInArray(e))[0].status;return s===this.localizedTexts("invalidFileType")&&(this.addInvalidClass(t),i=s),i}addInvalidClass(e){e.classList.add(yb)}createFormInput(e){if("safari"!==this.browserName){const t=this.element.cloneNode(!0);t.classList.add("e-hidden-file-input");for(const i of e)i.input=t;t.setAttribute("name",this.uploaderName),this.uploadWrapper.querySelector("."+gU).appendChild(t),"msie"!==this.browserName&&"edge"!==this.browserName&&(this.element.value="")}}getFileSize(e){let t=0;for(const i of e)t+=i.size;return t}mergeFileInfo(e,t){const i={name:"",rawFile:"",size:0,status:"",type:"",validationMessages:{minSize:"",maxSize:""},statusCode:"1",list:t},n=[];let s="";for(const o of e)n.push(o.name),s=o.type;return i.name=n.join(", "),i.size=this.getFileSize(e),i.type=s,i.status=this.statusForFormUpload(e,t),i}statusForFormUpload(e,t){let n,i=!0;for(const s of e){n=s.status;const o=this.validatedFileSize(s.size);(""!==o.minSize||""!==o.maxSize)&&(i=!1,n=""!==o.minSize?this.localizedTexts("invalidMinFileSize"):""!==o.maxSize?this.localizedTexts("invalidMaxFileSize"):n);const l=this.checkExtension(this.getFilesInArray(s))[0].status;l===this.localizedTexts("invalidFileType")&&(i=!1,n=l)}return i?n=this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):(t.classList.add(yb),n=e.length>1?this.localizedTexts("invalidFileSelection"):n),n}formCustomFileList(e,t){this.createParentUL();const i=this.createElement("li",{className:VD});i.setAttribute("data-files-count",e.length+""),this.setListToFileInfo(e,i);const n=this.mergeFileInfo(e,i);i.setAttribute("data-file-name",n.name),this.uploadTemplateFn=this.templateComplier(this.template);const s=this.uploadTemplateFn(n,this,"template",this.element.id+"Template",this.isStringTemplate,null,i);s&&Jt([].slice.call(s),i);const o=this.listParent.querySelectorAll("li").length;i.classList.contains(yb)||this.createFormInput(e);const l={element:i,fileInfo:n,index:o,isPreload:this.isPreLoadFile(n)},a={element:i,fileInfo:n,index:o,isPreload:this.isPreLoadFile(n)};this.trigger("rendering",l),this.trigger("fileListRendering",a),this.listParent.appendChild(i),this.fileList.push(i),this.renderReactTemplates()}createFileList(e,t){if(this.createParentUL(),""===this.template||h(this.template))if(this.isFormUpload())this.uploadWrapper.classList.add(SU),this.formFileList(e,this.element.files);else for(const i of e){const n=this.createElement("li",{className:VD,attrs:{"data-file-name":i.name,"data-files-count":"1"}}),s=this.createElement("span",{className:QP}),o=this.createElement("span",{className:mU,attrs:{title:i.name}});o.innerHTML=this.getFileNameOnly(i.name);const l=this.createElement("span",{className:vU}),a=this.getFileType(i.name);if(l.innerHTML="."+a,a||l.classList.add("e-hidden"),this.enableRtl){const v=this.createElement("span",{className:bU});v.appendChild(l),v.appendChild(o),s.appendChild(v)}else s.appendChild(o),s.appendChild(l);const c=this.createElement("span",{className:yU});c.innerHTML=this.bytesToSize(i.size),s.appendChild(c);const d=this.createElement("span",{className:Wo});s.appendChild(d),d.innerHTML=i.status,n.appendChild(s);const u=this.createElement("span",{className:" e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&u.classList.add("e-msie"),u.setAttribute("title",this.localizedTexts("remove")),n.appendChild(u),C.add(u,"click",this.removeFiles,this),"2"===i.statusCode?(d.classList.add(uu),u.classList.add(_h),u.setAttribute("title",this.localizedTexts("delete"))):"1"!==i.statusCode&&(d.classList.remove(uu),d.classList.add(CU)),this.autoUpload&&"1"===i.statusCode&&""!==this.asyncSettings.saveUrl&&(d.innerHTML=""),u.classList.contains(_h)||u.classList.add(ua);const p=e.indexOf(i),g={element:n,fileInfo:i,index:p,isPreload:this.isPreLoadFile(i)},f={element:n,fileInfo:i,index:p,isPreload:this.isPreLoadFile(i)};this.trigger("rendering",g),this.trigger("fileListRendering",f),this.listParent.appendChild(n),this.fileList.push(n),this.truncateName(o);const m=this.flag;this.isPreLoadFile(i)&&(this.flag=!1,this.checkActionComplete(!0),this.flag=m)}else this.isFormUpload()?(this.uploadWrapper.classList.add(SU),this.formCustomFileList(e,this.element.files)):this.createCustomfileList(e)}getSlicedName(e){const t=e.textContent;e.dataset.tail=t.slice(t.length-10)}setListToFileInfo(e,t){for(const i of e)i.list=t}truncateName(e){("edge"!==this.browserName&&e.offsetWidth<e.scrollWidth||e.offsetWidth+1<e.scrollWidth)&&this.getSlicedName(e)}getFileType(e){let t;const i=e.lastIndexOf(".");return i>=0&&(t=e.substring(i+1)),t||""}getFileNameOnly(e){let t=this.getFileType(e);return e.split("."+t)[0]}setInitialAttributes(){if(this.initialAttr.accept&&this.element.setAttribute("accept",this.initialAttr.accept),this.initialAttr.disabled&&this.element.setAttribute("disabled","disabled"),this.initialAttr.multiple){const e=document.createAttribute("multiple");this.element.setAttributeNode(e)}}filterfileList(e){const t=[];let i;for(let n=0;n<e.length;n++)i=this.getLiElement(e[n]),i.classList.contains(uu)||t.push(e[n]);return t}updateStatus(e,t,i,n=!0){if(!(""===t||h(t))&&!(""===i||h(i))&&(e.status=t,e.statusCode=i),n){const s=this.getLiElement(e);h(s)||!h(s.querySelector("."+Wo))&&""!==t&&!h(t)&&(s.querySelector("."+Wo).textContent=t)}return e}getLiElement(e){let t;for(let i=0;i<this.filesData.length;i++)!h(e)&&(h(this.filesData[i].id)||h(e.id)?this.filesData[i].name===e.name:this.filesData[i].name===e.name&&this.filesData[i].id===e.id)&&(t=i);return this.fileList[t]}createProgressBar(e){const t=this.createElement("span",{className:Zm}),i=this.createElement("progressbar",{className:HD,attrs:{value:"0",max:"100"}}),n=this.createElement("span",{className:"e-progress-inner-wrap"});i.setAttribute("style","width: 0%");const s=this.createElement("span",{className:YP});s.textContent="0%",n.appendChild(i),t.appendChild(n),t.appendChild(s),e.querySelector("."+QP).appendChild(t)}updateProgressbar(e,t){if(!isNaN(Math.round(e.loaded/e.total*100))&&!h(t.querySelector("."+HD)))if(h(this.progressInterval)||""===this.progressInterval)this.changeProgressValue(t,Math.round(e.loaded/e.total*100).toString()+"%");else{const i=Math.round(e.loaded/e.total*100)%parseInt(this.progressInterval,10);(0===i||100===i)&&this.changeProgressValue(t,Math.round(e.loaded/e.total*100).toString()+"%")}}changeProgressValue(e,t){e.querySelector("."+HD).setAttribute("style","width:"+t),e.querySelector("."+YP).textContent=t}uploadInProgress(e,t,i,n){const s=this.getLiElement(t);if(h(s)&&!i)return;if(h(s))this.cancelUploadingFile(t,e,n);else{"5"===t.statusCode&&this.cancelUploadingFile(t,e,n,s),!(s.querySelectorAll("."+Zm).length>0)&&s.querySelector("."+Wo)&&(s.querySelector("."+Wo).classList.add(Sh),this.createProgressBar(s),this.updateProgressBarClasses(s,Sh),s.querySelector("."+Wo).classList.remove(Ih)),this.updateProgressbar(e,s);const l=s.querySelector("."+ua);h(l)||(l.classList.add(Io,Sh),l.setAttribute("title",this.localizedTexts("abort")),l.classList.remove(ua))}const o={e,operation:"upload",file:this.updateStatus(t,this.localizedTexts("inProgress"),"3")};this.trigger("progress",o)}cancelUploadingFile(e,t,i,n){"5"===e.statusCode&&this.trigger("canceling",{event:t,fileData:e,cancel:!1,customFormData:[]},o=>{if(o.cancel){if(e.statusCode="3",!h(n)){const l=n.querySelector("."+Io);h(l)||(qo(l),de(n.querySelector(".e-spinner-pane")))}}else{i.emitError=!1,i.httpRequest.abort();const l=new FormData;if("5"===e.statusCode){const a=this.element.getAttribute("name");l.append(a,e.name),l.append("cancel-uploading",e.name),this.updateFormData(l,o.customFormData);const c=new cf(this.asyncSettings.removeUrl,"POST",!0,null);c.emitError=!1,c.onLoad=d=>(this.removecanceledFile(d,e),{}),c.send(l)}}})}removecanceledFile(e,t){const i=this.getLiElement(t);if(h(i)||i.querySelector("."+fp)||h(i.querySelector("."+Io)))return;this.updateStatus(t,this.localizedTexts("fileUploadCancel"),"5"),this.renderFailureState(e,t,i);const n=i.querySelector("."+ua);h(i)||(qo(n),h(i.querySelector(".e-spinner-pane"))||de(i.querySelector(".e-spinner-pane")));const s=e&&e.currentTarget?this.getResponse(e):null;this.trigger("success",{event:e,response:s,operation:"cancel",file:t})}renderFailureState(e,t,i){this.updateProgressBarClasses(i,Ih),this.removeProgressbar(i,"failure"),h(i.querySelector(".e-file-status"))||i.querySelector(".e-file-status").classList.add(Ih);const n=i.querySelector("."+Io);h(n)||(n.classList.remove(Io,Sh),n.classList.add(ua),n.setAttribute("title",this.localizedTexts("remove")),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}}),n.parentElement.insertBefore(this.pauseButton,n),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),i.querySelector("."+fp).addEventListener("click",o=>{this.reloadcanceledFile(o,t,i,!1)},!1))}reloadcanceledFile(e,t,i,n){t.statusCode="1",t.status=this.localizedTexts("readyToUploadMessage"),n||(h(i.querySelector("."+Wo))||i.querySelector("."+Wo).classList.remove(Ih),h(i.querySelector("."+fp))||de(i.querySelector("."+fp)),this.pauseButton=null),i.classList.add(vb),this.upload([t])}uploadComplete(e,t,i){const n=e.target;if(4===n.readyState&&n.status>=200&&n.status<=299){const s=this.getLiElement(t);if(h(s)&&(!i||h(i)))return;if(!h(s)){this.updateProgressBarClasses(s,uu),this.removeProgressbar(s,"success");const o=s.querySelector("."+Io);h(o)||(o.classList.add(_h),o.setAttribute("title",this.localizedTexts("delete")),o.classList.remove(Io),o.classList.remove(Sh))}this.raiseSuccessEvent(e,t)}else this.uploadFailed(e,t)}getResponse(e){const t=e.currentTarget;return{readyState:t.readyState,statusCode:t.status,statusText:t.statusText,headers:t.getAllResponseHeaders(),withCredentials:t.withCredentials}}raiseSuccessEvent(e,t){const i=e&&e.currentTarget?this.getResponse(e):null,n=this.localizedTexts("uploadSuccessMessage"),s={e,response:i,operation:"upload",file:this.updateStatus(t,n,"2",!1),statusText:n},o=this.getLiElement(t);if(!h(o)){const l=o.querySelector("."+xU);h(l)||(qo(o),de(l))}this.trigger("success",s,l=>{this.updateStatus(t,l.statusText,"2"),this.uploadedFilesData.push(t),this.trigger("change",{file:this.uploadedFilesData}),this.checkActionButtonStatus(),this.fileList.length>0&&(this.getLiElement(t).classList.contains(vb)?this.getLiElement(t).classList.remove(vb):(this.uploadSequential(),this.checkActionComplete(!0)))})}uploadFailed(e,t){const i=this.getLiElement(t),n=e&&e.currentTarget?this.getResponse(e):null,s=this.localizedTexts("uploadFailedMessage"),o={e,response:n,operation:"upload",file:this.updateStatus(t,s,"0",!1),statusText:s};h(i)||this.renderFailureState(e,t,i),this.trigger("failure",o,l=>{this.updateStatus(t,l.statusText,"0"),this.checkActionButtonStatus(),this.uploadSequential(),this.checkActionComplete(!0)})}uploadSequential(){this.sequentialUpload&&(this.autoUpload?this.checkAutoUpload(this.filesData):this.uploadButtonClick())}checkActionComplete(e){e?++this.actionCompleteCount:--this.actionCompleteCount,this.raiseActionComplete()}raiseActionComplete(){if(this.filesData.length===this.actionCompleteCount&&this.flag){this.flag=!1;const e={fileData:[]};e.fileData=this.getSelectedFileStatus(this.selectedFiles),this.trigger("actionComplete",e)}}getSelectedFileStatus(e){const t=[];let i=0;for(let n=0;n<e.length;n++){const s=e[n];for(let o=0;o<this.filesData.length;o++)this.filesData[o].name===s.name&&(t[i]=this.filesData[o],++i)}return t}updateProgressBarClasses(e,t){const i=e.querySelector("."+HD);h(i)||i.classList.add(t)}removeProgressbar(e,t){h(e.querySelector("."+Zm))||(this.progressAnimation=new _s({duration:1250}),this.progressAnimation.animate(e.querySelector("."+Zm),{name:"FadeOut"}),this.progressAnimation.animate(e.querySelector("."+YP),{name:"FadeOut"}),setTimeout(()=>{this.animateProgressBar(e,t)},750))}animateProgressBar(e,t){"success"===t?(e.classList.add(uu),h(e.querySelector("."+Wo))||(e.querySelector("."+Wo).classList.remove(Sh),this.progressAnimation.animate(e.querySelector("."+Wo),{name:"FadeIn"}),e.querySelector("."+Wo).classList.add(uu))):h(e.querySelector("."+Wo))||(e.querySelector("."+Wo).classList.remove(Sh),this.progressAnimation.animate(e.querySelector("."+Wo),{name:"FadeIn"}),e.querySelector("."+Wo).classList.add(Ih)),e.querySelector("."+Zm)&&de(e.querySelector("."+Zm))}setExtensions(e){""===e||h(e)?this.element.removeAttribute("accept"):this.element.setAttribute("accept",e)}templateComplier(e){if(e)try{return gt(e,document).length?ci(G(e,document).innerHTML.trim()):ci(e)}catch(t){return ci(e)}}setRTL(){this.enableRtl?_([this.uploadWrapper],"e-rtl"):T([this.uploadWrapper],"e-rtl")}localizedTexts(e){return this.l10n.setLocale(this.locale),this.l10n.getConstant(e)}setControlStatus(){this.enabled?(this.uploadWrapper.classList.contains(XP)&&this.uploadWrapper.classList.remove(XP),!h(this.browseButton)&&this.element.hasAttribute("disabled")&&(this.element.removeAttribute("disabled"),this.browseButton.removeAttribute("disabled")),!h(this.clearButton)&&this.clearButton.hasAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),!h(this.uploadButton)&&this.uploadButton.hasAttribute("disabled")&&this.uploadButton.hasAttribute("disabled")):(this.uploadWrapper.classList.add(XP),this.element.setAttribute("disabled","disabled"),this.browseButton.setAttribute("disabled","disabled"),h(this.clearButton)||this.clearButton.setAttribute("disabled","disabled"),h(this.uploadButton)||this.uploadButton.setAttribute("disabled","disabled"))}checkHTMLAttributes(e){const t=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["accept","multiple","disabled"];for(const i of t)if(!h(this.element.getAttribute(i)))switch(i){case"accept":(h(this.uploaderOptions)||void 0===this.uploaderOptions.allowedExtensions||e)&&(this.setProperties({allowedExtensions:this.element.getAttribute("accept")},!e),this.initialAttr.accept=this.allowedExtensions);break;case"multiple":if(h(this.uploaderOptions)||void 0===this.uploaderOptions.multiple||e){const n="multiple"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({multiple:n},!e),this.initialAttr.multiple=!0}break;case"disabled":if(h(this.uploaderOptions)||void 0===this.uploaderOptions.enabled||e){const n=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:n},!e),this.initialAttr.disabled=!0}}}chunkUpload(e,t,i){const s=Math.min(this.asyncSettings.chunkSize,e.size),l=e.rawFile.slice(0,s);this.sendRequest(e,{chunkIndex:0,blob:l,file:e,start:0,end:s,retryCount:0,request:null},t,i)}sendRequest(e,t,i,n){const s=new FormData,o=e.rawFile.slice(t.start,t.end);s.append("chunkFile",o,e.name),s.append(this.uploaderName,o,e.name),s.append("chunk-index",t.chunkIndex.toString()),s.append("chunkIndex",t.chunkIndex.toString());const l=Math.max(Math.ceil(e.size/this.asyncSettings.chunkSize),1);s.append("total-chunk",l.toString()),s.append("totalChunk",l.toString());const a=new cf({url:this.asyncSettings.saveUrl,type:"POST",async:!0,contentType:null});a.emitError=!1,a.onLoad=d=>(this.chunkUploadComplete(d,t,i),{}),a.onUploadProgress=d=>(this.chunkUploadInProgress(d,t,i),{});const c={fileData:e,customFormData:[],cancel:!1,chunkSize:0===this.asyncSettings.chunkSize?null:this.asyncSettings.chunkSize};a.beforeSend=d=>{c.currentRequest=a.httpRequest,c.currentChunkIndex=t.chunkIndex,this.trigger(0===c.currentChunkIndex?"uploading":"chunkUploading",c,u=>{this.uploadingEventCallback(s,u,d,e)})},a.onError=d=>(this.chunkUploadFailed(d,t,i),{}),a.send(s),t.request=a}uploadingEventCallback(e,t,i,n){t.cancel?this.eventCancelByArgs(i,t,n):this.updateFormData(e,t.customFormData)}eventCancelByArgs(e,t,i){if(e.cancel=!0,"5"===t.fileData.statusCode)return;t.fileData.statusCode="5",t.fileData.status=this.localizedTexts("fileUploadCancel");const n=this.getLiElement(t.fileData);if(n){h(n.querySelector("."+Wo))||(n.querySelector("."+Wo).innerHTML=this.localizedTexts("fileUploadCancel"),n.querySelector("."+Wo).classList.add(Ih)),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}});const s=n.querySelector("."+ua);s&&s.parentElement.insertBefore(this.pauseButton,s),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.addEventListener("click",o=>{this.reloadcanceledFile(o,i,n)},!1),this.checkActionButtonStatus()}}checkChunkUpload(){return!(this.asyncSettings.chunkSize<=0||h(this.asyncSettings.chunkSize))}chunkUploadComplete(e,t,i){const n=e.target;let s;if(4===n.readyState&&n.status>=200&&n.status<300){const o=e&&e.currentTarget?this.getResponse(e):null,l=Math.max(Math.ceil(t.file.size/this.asyncSettings.chunkSize),1);if(this.trigger("chunkSuccess",{event:e,file:t.file,chunkIndex:t.chunkIndex,totalChunk:l,chunkSize:this.asyncSettings.chunkSize,response:o}),(h(i)||!i)&&(s=this.getLiElement(t.file)),this.updateMetaData(t),t.end===t.file.size&&(t.file.statusCode="3"),"5"===t.file.statusCode)this.trigger("canceling",{event:e,fileData:t.file,cancel:!1,customFormData:[]},d=>{if(d.cancel){t.file.statusCode="3";const u=s.querySelector("."+Io);!h(s)&&!h(u)&&(qo(u),de(s.querySelector(".e-spinner-pane"))),this.sendNextRequest(t)}else{t.request.emitError=!1,n.abort();const u=new FormData,p=this.element.getAttribute("name");u.append(p,t.file.name),u.append("cancel-uploading",t.file.name),u.append("cancelUploading",t.file.name),this.updateFormData(u,d.customFormData);const g=new cf(this.asyncSettings.removeUrl,"POST",!0,null);g.emitError=!1,g.onLoad=f=>(this.removeChunkFile(f,t,i),{}),g.send(u)}});else{if(l-1===t.chunkIndex&&l>t.chunkIndex){const c=this.pausedData.indexOf(t);return c>=0&&this.pausedData.splice(c,1),h(this.template)&&(h(i)||!i)&&s&&(s&&!h(s.querySelector("."+Xa))&&de(s.querySelector("."+Xa)),this.removeChunkProgressBar(t)),void this.raiseSuccessEvent(e,t.file)}"4"!==t.file.statusCode&&this.sendNextRequest(t)}}else this.chunkUploadFailed(e,t)}sendNextRequest(e){e.start=e.end,e.end+=this.asyncSettings.chunkSize,e.end=Math.min(e.end,e.file.size),e.chunkIndex+=1,this.sendRequest(e.file,e)}removeChunkFile(e,t,i){if(h(this.template)&&h(i)&&!i){const n=this.getLiElement(t.file),s=n.querySelector("."+Io),o=s;this.updateStatus(t.file,this.localizedTexts("fileUploadCancel"),"5"),this.updateProgressBarClasses(n,Ih),this.removeProgressbar(n,"failure"),s&&s.classList.remove(Io),s&&s.classList.add(ua),s&&s.setAttribute("title",this.localizedTexts("remove"));const l=n.querySelector("."+Xa);l&&l.classList.add(fp),l&&l.classList.remove(Xa),l&&l.setAttribute("title",this.localizedTexts("retry")),!h(n)&&!h(s)&&!h(n.querySelector(".e-spinner-pane"))&&(qo(o),de(n.querySelector(".e-spinner-pane")))}}pauseUpload(e,t,i){e.file.statusCode="4",e.file.status=this.localizedTexts("pause"),this.updateMetaData(e);const n={event:t||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.abortUpload(e,i,n)}abortUpload(e,t,i){"4"!==e.file.statusCode&&(e.request.emitError=!1,e.request.httpRequest.abort());const n=this.getLiElement(e.file);if(h(this.template)&&(h(t)||!t)){const s=n.querySelector("."+Xa);s.classList.remove(Xa),s.classList.add(e0),s.setAttribute("title",this.localizedTexts("resume")),s.nextElementSibling.classList.add(ua),s.nextElementSibling.classList.remove(Io),s.nextElementSibling.setAttribute("title",this.localizedTexts("remove"))}for(let s=0;s<this.pausedData.length;s++)this.pausedData[s].file.name===e.file.name&&this.pausedData.splice(s,1);this.pausedData.push(e),this.trigger("pausing",i)}resumeUpload(e,t,i){const n=this.getLiElement(e.file);let s;h(n)||(s=n.querySelector("."+e0)),!h(s)&&(h(i)||!i)&&(s.classList.remove(e0),s.classList.add(Xa),s.setAttribute("title",this.localizedTexts("pause")),s.nextElementSibling.classList.remove(ua),s.nextElementSibling.classList.add(Io),s.nextElementSibling.setAttribute("title",this.localizedTexts("abort"))),e.file.status=this.localizedTexts("inProgress"),e.file.statusCode="3",this.updateMetaData(e);const o={event:t||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.trigger("resuming",o);for(let l=0;l<this.pausedData.length;l++)this.pausedData[l].end===this.pausedData[l].file.size?this.chunkUploadComplete(t,e,i):this.pausedData[l].file.name===e.file.name&&(this.pausedData[l].start=this.pausedData[l].end,this.pausedData[l].end=this.pausedData[l].end+this.asyncSettings.chunkSize,this.pausedData[l].end=Math.min(this.pausedData[l].end,this.pausedData[l].file.size),this.pausedData[l].chunkIndex=this.pausedData[l].chunkIndex+1,this.sendRequest(this.pausedData[l].file,this.pausedData[l],i))}updateMetaData(e){-1===this.uploadMetaData.indexOf(e)||this.uploadMetaData.splice(this.uploadMetaData.indexOf(e),1),this.uploadMetaData.push(e)}removeChunkProgressBar(e){const t=this.getLiElement(e.file);if(!h(t)){this.updateProgressBarClasses(t,uu),this.removeProgressbar(t,"success");const i=t.querySelector("."+Io);h(i)||(i.classList.add(_h),i.setAttribute("title",this.localizedTexts("delete")),i.classList.remove(Io,Sh))}}chunkUploadFailed(e,t,i){const n=Math.max(Math.ceil(t.file.size/this.asyncSettings.chunkSize),1);let s;h(this.template)&&(h(i)||!i)&&(s=this.getLiElement(t.file));const o=e&&e.currentTarget?this.getResponse(e):null;this.trigger("chunkFailure",{event:e,file:t.file,chunkIndex:t.chunkIndex,totalChunk:n,chunkSize:this.asyncSettings.chunkSize,cancel:!1,response:o},a=>{if(!a.cancel)if(t.retryCount<this.asyncSettings.retryCount)setTimeout(()=>{this.retryRequest(s,t,i)},this.asyncSettings.retryAfterDelay);else{if(!h(s)){const p=s.querySelector("."+Xa)?s.querySelector("."+Xa):s.querySelector("."+e0);h(p)||(p.classList.add(fp),p.classList.remove(Xa,e0)),this.updateProgressBarClasses(s,Ih),this.removeProgressbar(s,"failure"),s.querySelector(".e-icons").classList.remove(Sh);const g=s.querySelector("."+Io)?s.querySelector("."+Io):s.querySelector("."+ua);g.classList.remove(Io),h(s.querySelector("."+Xa))||de(s.querySelector("."+Xa)),t.start>0?(g.classList.add(_h),g.setAttribute("title",this.localizedTexts("delete"))):(g.classList.add(ua),g.setAttribute("title",this.localizedTexts("remove")))}t.retryCount=0;const c=t.file,d=this.localizedTexts("uploadFailedMessage"),u={e,response:o,operation:"upload",file:this.updateStatus(c,d,"0",!1),statusText:d};this.trigger("failure",u,p=>{this.updateStatus(c,p.statusText,"0"),this.uploadSequential(),this.checkActionComplete(!0)})}})}retryRequest(e,t,i){h(this.template)&&(h(i)||!i)&&e&&this.updateProgressBarClasses(e,Ih),t.retryCount+=1,this.sendRequest(t.file,t)}checkPausePlayAction(e){const t=e.target,n=this.fileList.indexOf(e.target.parentElement),o=this.getCurrentMetaData(this.filesData[n]);t.classList.contains(Xa)?this.pauseUpload(o,e):t.classList.contains(e0)?this.resumeUpload(o,e):t.classList.contains(fp)&&(o.file.status===this.localizedTexts("fileUploadCancel")?this.retryUpload(o,!1):this.retryUpload(o,!0))}retryUpload(e,t){t?(e.end=e.end+this.asyncSettings.chunkSize,e.start=e.start+this.asyncSettings.chunkSize,this.sendRequest(e.file,e)):(e.file.statusCode="1",e.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(e.file)),this.getLiElement(e.file).classList.add(vb)}chunkUploadInProgress(e,t,i){if("4"===t.file.statusCode)return;"4"!==t.file.statusCode&&"5"!==t.file.statusCode&&(t.file.statusCode="3",t.file.status=this.localizedTexts("inProgress")),this.updateMetaData(t);const n=this.getLiElement(t.file);if(h(n))return;const s=n.querySelector("."+fp);if(h(s)||(s.classList.add(Xa),s.setAttribute("title",this.localizedTexts("pause")),s.classList.remove(fp)),!h(n)){if(!(n.querySelectorAll("."+Zm).length>0)){const o=n.querySelector("."+Wo);h(this.template)&&(o.classList.add(Sh),o.classList.remove(Ih),this.createProgressBar(n),this.updateProgressBarClasses(n,Sh));const l=n.querySelector("."+ua)?n.querySelector("."+ua):n.querySelector("."+_h);h(l)||(l.classList.add(Io),l.setAttribute("title",this.localizedTexts("abort")),l.classList.remove(ua))}if(!isNaN(Math.round(e.loaded/e.total*100))&&h(this.template)&&"4"!==t.file.statusCode){let o,l=Math.ceil(t.file.size/this.asyncSettings.chunkSize)-1;this.asyncSettings.chunkSize&&l&&(o=Math.round(t.chunkIndex/l*100),this.changeProgressValue(n,o.toString()+"%"))}0===t.chunkIndex&&this.checkActionButtonStatus()}if(h(n.querySelector("."+Xa))&&h(this.template)&&h(n.querySelector("."+_h))){this.pauseButton=this.createElement("span",{className:"e-icons e-file-pause-btn",attrs:{tabindex:this.btnTabIndex}}),"msie"===this.browserName&&this.pauseButton.classList.add("e-msie");const o=n.querySelector("."+Io);o.parentElement.insertBefore(this.pauseButton,o),this.pauseButton.setAttribute("title",this.localizedTexts("pause")),this.pauseButton.addEventListener("click",l=>{this.checkPausePlayAction(l)},!1)}}bytesToSize(e){let t=-1;if(!e)return"0.0 KB";do{e/=1024,t++}while(e>99);return t>=2&&(e*=1024,t=1),Math.max(e,0).toFixed(1)+" "+["KB","MB"][t]}sortFileList(e){const t=e=e||this.sortFilesList,i=[];for(let o=0;o<t.length;o++)i.push(t[o].name);const n=i.sort(),s=[];for(const o of n)for(let l=0;l<t.length;l++)o===t[l].name&&s.push(t[l]);return s}destroy(){this.element.value=null,this.clearTemplate(),this.clearAll(),this.unWireEvents(),this.unBindDropEvents(),this.multiple&&this.element.removeAttribute("multiple"),this.enabled||this.element.removeAttribute("disabled"),this.element.removeAttribute("accept"),this.setInitialAttributes();const e=["aria-label","directory","webkitdirectory","tabindex"];for(const t of e)this.element.removeAttribute(t);h(this.uploadWrapper)||(this.uploadWrapper.parentElement.appendChild(this.element),de(this.uploadWrapper)),this.uploadWrapper=null,super.destroy()}upload(e,t){if(e=e||this.filesData,this.sequentialUpload&&(this.isFirstFileOnSelection||t))this.sequenceUpload(e);else{const i=this.getFilesInArray(e);this.trigger("beforeUpload",{customFormData:[],currentRequest:null,cancel:!1},s=>{s.cancel||this.uploadFiles(i,t)})}}getFilesInArray(e){let t=[];return e instanceof Array?t=e:t.push(e),t}serverReadFileBase64(e,t,i){return new Promise((n,s)=>{const o=this.fileStreams[e].rawFile;try{const l=new FileReader;l.onload=(a=l,()=>{try{const c=a.result,d=c?c.split(";base64,")[1]:null;n(d)}catch(c){s(c)}}),l.readAsDataURL(o.slice(t,t+i))}catch(l){s(l)}var a})}uploadFileCount(e){const t=this.filesData;return t&&0!==t.length?t.length:-1}getFileRead(e,t){const i=this.filesData;if(!i||0===i.length)return-1;const n=i[e],s=this.newFileRef++;return this.fileStreams[s]=n,s}getFileInfo(e,t){const i=this.filesData;return i&&0!==i.length&&i[e]?this.filesData[e]:null}uploadFiles(e,t){let i=[];if(""!==this.asyncSettings.saveUrl&&!h(this.asyncSettings.saveUrl)){if(!t||h(t))if(this.multiple)i=this.filterfileList(e);else{const n=[];n.push(e[0]),i=this.filterfileList(n)}else i=e;for(let n=0;n<i.length;n++)this.uploadFilesRequest(i,n,t)}}uploadFilesRequest(e,t,i){const n=this.checkChunkUpload(),s=new cf(this.asyncSettings.saveUrl,"POST",!0,null);s.emitError=!1;const o={fileData:e[t],customFormData:[],cancel:!1},l=new FormData;if(s.beforeSend=a=>{o.currentRequest=s.httpRequest,this.trigger("uploading",o,c=>{c.cancel&&this.eventCancelByArgs(a,c,e[t]),this.updateFormData(l,c.customFormData)})},"1"===e[t].statusCode){const a=this.element.getAttribute("name");l.append(a,e[t].rawFile,e[t].name),n&&e[t].size>this.asyncSettings.chunkSize?this.chunkUpload(e[t],i,t):(s.onLoad=c=>(o.cancel||this.uploadComplete(c,e[t],i),{}),s.onUploadProgress=c=>(o.cancel||this.uploadInProgress(c,e[t],i,s),{}),s.onError=c=>(this.uploadFailed(c,e[t]),{}),s.send(l))}}spliceFiles(e){const t=this.fileList[e],i=this.getFilesData(),n=+t.getAttribute("data-files-count");let s=0;for(let l=0;l<e;l++)s+=+this.fileList[l].getAttribute("data-files-count");for(let l=s+n-1;l>=s;l--)i.splice(l,1)}remove(e,t,i,n,s){h(n)&&(n=!0);const o={event:s,cancel:!1,filesData:[],customFormData:[],postRawFile:n,currentRequest:null};this.trigger("beforeRemove",{cancel:!1,customFormData:[],currentRequest:null},a=>{if(!a.cancel)if(this.isFormUpload())o.filesData=e,this.trigger("removing",o,c=>{if(!c.cancel){const d=this.getFilesInArray(e);let p,u=!1;for(const g of d)if(u||(p=this.fileList.indexOf(g.list)),p>-1){const f=h(g.input)?null:g.input;f&&de(f),this.spliceFiles(p),de(this.fileList[p]),this.fileList.splice(p,1),u=!0,p=-1}}});else if(this.isForm&&(h(this.asyncSettings.removeUrl)||""===this.asyncSettings.removeUrl))o.filesData=this.getFilesData(),this.trigger("removing",o,c=>{c.cancel||this.clearAll()});else{let c=[];(e=h(e)?this.filesData:e)instanceof Array?c=e:c.push(e),o.filesData=c;const d=this.asyncSettings.removeUrl,u=!(""===d||h(d));for(const p of c){const g=this.uploadedFilesData.indexOf(p);("2"===p.statusCode||"4"===p.statusCode||"0"===p.statusCode&&-1!==g)&&u?this.removeUploadedFile(p,o,i,t):i?this.removeFilesData(p,t):this.trigger("removing",o,f=>{f.cancel||this.removeFilesData(p,t)}),s&&!s.target.classList.contains(ua)&&this.checkActionComplete(!1)}}})}clearAll(){if(h(this.listParent))return"msie"!==this.browserName&&(this.element.value=""),void(this.filesData=[]);this.trigger("clearing",{cancel:!1,filesData:this.filesData},t=>{t.cancel||(this.clearData(),this.actionCompleteCount=0,this.count=-1)})}getFilesData(e){return h(e)?this.filesData:this.getSelectedFiles(e)}pause(e,t){const i=this.getFilesInArray(e=e||this.filesData);this.pauseUploading(i,t)}pauseUploading(e,t){const i=this.getFiles(e);for(let n=0;n<i.length;n++)"3"===i[n].statusCode&&this.pauseUpload(this.getCurrentMetaData(i[n],null),null,t)}getFiles(e){let t=[];return h(e)||e instanceof Array?t=e:t.push(e),t}resume(e,t){const i=this.getFilesInArray(e=e||this.filesData);this.resumeFiles(i,t)}resumeFiles(e,t){const i=this.getFiles(e);for(let n=0;n<i.length;n++)"4"===i[n].statusCode&&this.resumeUpload(this.getCurrentMetaData(i[n],null),null,t)}retry(e,t,i){const n=this.getFilesInArray(e=e||this.filesData);this.sequentialUpload&&this.isFirstFileOnSelection&&(this.isFirstFileOnSelection=!1),this.retryFailedFiles(n,t,i)}retryFailedFiles(e,t,i){const n=this.getFiles(e);for(let s=0;s<n.length;s++)if("5"===n[s].statusCode||"0"===n[s].statusCode)if(this.asyncSettings.chunkSize>0)this.retryUpload(this.getCurrentMetaData(n[s],null),t);else{let o;i||(o=this.fileList[this.filesData.indexOf(n[s])]),this.reloadcanceledFile(null,n[s],o,i)}}cancel(e){const t=this.getFilesInArray(e=e||this.filesData);this.cancelUpload(t)}cancelUpload(e){const t=this.getFiles(e);if(this.asyncSettings.chunkSize>0){for(let i=0;i<t.length;i++)if("3"===t[i].statusCode){const n=this.getCurrentMetaData(t[i],null);n.file.statusCode="5",n.file.status=this.localizedTexts("fileUploadCancel"),this.updateMetaData(n),this.showHideUploadSpinner(t[i])}}else for(let i=0;i<t.length;i++)"3"===t[i].statusCode&&(t[i].statusCode="5",t[i].status=this.localizedTexts("fileUploadCancel"),this.showHideUploadSpinner(t[i]))}showHideUploadSpinner(e){const t=this.getLiElement(e);if(!h(t)&&h(this.template)){const i=t.querySelector("."+Io);bc({target:i,width:"20px"}),Go(i)}}};Ki([gi({saveUrl:"",removeUrl:""},Vy)],qn.prototype,"asyncSettings",void 0),Ki([y(!1)],qn.prototype,"sequentialUpload",void 0),Ki([y({})],qn.prototype,"htmlAttributes",void 0),Ki([y("")],qn.prototype,"cssClass",void 0),Ki([y(!0)],qn.prototype,"enabled",void 0),Ki([y(null)],qn.prototype,"template",void 0),Ki([y(!0)],qn.prototype,"multiple",void 0),Ki([y(!0)],qn.prototype,"autoUpload",void 0),Ki([gi({},jD)],qn.prototype,"buttons",void 0),Ki([y("")],qn.prototype,"allowedExtensions",void 0),Ki([y(0)],qn.prototype,"minFileSize",void 0),Ki([y(3e7)],qn.prototype,"maxFileSize",void 0),Ki([y(null)],qn.prototype,"dropArea",void 0),Ki([Hr([{}],zD)],qn.prototype,"files",void 0),Ki([y(!0)],qn.prototype,"showFileList",void 0),Ki([y(!1)],qn.prototype,"directoryUpload",void 0),Ki([y("Default")],qn.prototype,"dropEffect",void 0),Ki([E()],qn.prototype,"created",void 0),Ki([E()],qn.prototype,"actionComplete",void 0),Ki([E()],qn.prototype,"rendering",void 0),Ki([E()],qn.prototype,"beforeUpload",void 0),Ki([E()],qn.prototype,"fileListRendering",void 0),Ki([E()],qn.prototype,"selected",void 0),Ki([E()],qn.prototype,"uploading",void 0),Ki([E()],qn.prototype,"success",void 0),Ki([E()],qn.prototype,"failure",void 0),Ki([E()],qn.prototype,"removing",void 0),Ki([E()],qn.prototype,"beforeRemove",void 0),Ki([E()],qn.prototype,"clearing",void 0),Ki([E()],qn.prototype,"progress",void 0),Ki([E()],qn.prototype,"change",void 0),Ki([E()],qn.prototype,"chunkSuccess",void 0),Ki([E()],qn.prototype,"chunkFailure",void 0),Ki([E()],qn.prototype,"chunkUploading",void 0),Ki([E()],qn.prototype,"canceling",void 0),Ki([E()],qn.prototype,"pausing",void 0),Ki([E()],qn.prototype,"resuming",void 0),qn=Ki([Pi],qn);var Do=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const GD="e-apply",ZP="e-cancel",eL="e-current",tL="e-ctrl-btn",Hy="e-switch-ctrl-btn",IU="e-disabled",DU="e-value-switch-btn",EU="e-handler",iL="e-hide-hex-value",nL="e-hide-opacity",zy="e-hide-switchable-value",t0="e-hide-value",RU="e-hide-valueswitcher",xb="e-hsv-color",kU="e-hsv-container",jy="e-selected-value",qD="e-mode-switch-btn",sL="e-nocolor-item",rL="e-opacity-value",Cb="e-palette",WD="e-color-palette",oL="e-color-picker",UD="e-preview-container",$D="e-previous",Gy="e-show-value",wb="e-selected",lL="e-split-preview",KD="e-tile",ASe_default=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"];let ao=class extends an{constructor(e,t){super(e,t)}preRender(){const e=this.element;this.formElement=D(this.element,"form"),this.formElement&&C.add(this.formElement,"reset",this.formResetHandler,this),this.l10n=new is("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)}render(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||_([this.container.parentElement],nL),this.renderComplete()}initWrapper(){const e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),Le(this.element,{tabindex:"-1",spellcheck:"false"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);let t=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(t="");const i=t.slice(0,7);h(this.initialInputValue)&&(this.initialInputValue=i),this.element.value=i,this.setProperties(this.enableOpacity?{value:t}:{value:i},!0),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&_([e],this.cssClass.split(" ")),this.tileRipple=Ys(this.container,{selector:"."+KD}),this.ctrlBtnRipple=Ys(this.container,{selector:".e-btn"})}getWrapper(){return this.element.parentElement}createWidget(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),A.isDevice&&this.refreshPopupPos()}createSplitBtn(){const e=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(e),this.splitBtn=new Ul({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,createPopupOnClick:this.createPopupOnClick,open:this.onOpen.bind(this),click:()=>{this.trigger("change",{currentValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},previousValue:{hex:null,rgba:null},value:this.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(e);const t=this.createElement("span",{className:lL});G(".e-selected-color",e).appendChild(t),t.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));const i=this.getPopupEle();if(_([i],"e-colorpicker-popup"),this.cssClass&&_([i],this.cssClass.split(" ")),A.isDevice){const n=this.getPopupInst();n.relateTo=document.body,n.position={X:"center",Y:"center"},n.targetType="container",n.collision={X:"fit",Y:"fit"},n.offsetY=4,i.style.zIndex=hf(this.splitBtn.element).toString()}this.bindCallBackEvent()}onOpen(){this.trigger("open",{element:this.container})}getPopupInst(){return jl(this.getPopupEle(),wc)}bindCallBackEvent(){this.splitBtn.beforeOpen=e=>{const t=new MD;return this.trigger("beforeOpen",e,i=>{if(!i.cancel){const n=this.getPopupEle();n.style.top=$e(0+pageYOffset),n.style.left=$e(0+pageXOffset),n.style.display="block",this.createWidget(),n.style.display="",A.isDevice&&(this.modal=this.createElement("div"),this.modal.className="e-"+this.getModuleName()+" e-modal",this.modal.style.display="none",document.body.insertBefore(this.modal,n),document.body.className+=" e-colorpicker-overflow",this.modal.style.display="block",this.modal.style.zIndex=(Number(n.style.zIndex)-1).toString())}e.cancel=i.cancel,t.resolve(i)}),t},this.splitBtn.beforeClose=e=>{const t=new MD;return h(e.event)?t.resolve(e):this.trigger("beforeClose",{element:this.container,event:e.event,cancel:!1},n=>{A.isDevice&&e.event.target===this.modal&&(n.cancel=!0),n.cancel||this.onPopupClose(),e.cancel=n.cancel,t.resolve(n)}),t}}onPopupClose(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",G("."+lL,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",T([this.container],[oL,WD]),A.isDevice&&this.modal&&(T([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}createPalette(){if(ze(this.container,[WD],[oL]),this.presetColors){const t=this.createElement("div",{className:"e-custom-palette"});this.appendElement(t);const i=Object.keys(this.presetColors);if(1===i.length)this.appendPalette(this.presetColors[i[0]],i[0],t);else for(let n=0,s=i.length;n<s;n++)this.appendPalette(this.presetColors[i[n]],i[n],t);gt(".e-row",t).length>10&&_([t],"e-palette-group")}else this.appendPalette(ASe_default,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();const e=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=$e(this.container.children[0].offsetWidth+e+e),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)}firstPaletteFocus(){G("."+wb,this.container.children[0])||gt("."+Cb,this.container)[0].focus()}appendPalette(e,t,i){const n=this.createElement("div",{className:Cb,attrs:{tabindex:"0"}});let s,o,l;i?i.appendChild(n):this.appendElement(n);for(let a=0,c=e.length;a<c;a++)(0===a||a%this.columns==0)&&(s=this.createElement("div",{className:"e-row",attrs:{role:"presentation"}}),n.appendChild(s)),l=this.roundValue(e[a]).toLowerCase(),o=this.createElement("span",{className:KD,attrs:{role:"gridcell","aria-label":l,"aria-selected":"false",tabindex:"0"}}),this.trigger("beforeTileRender",{element:o,presetName:t,value:e[a]}),s.appendChild(o),this.value===l&&(this.addTileSelection(o),n.focus()),o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(l))}setNoColor(){const e=this.container.querySelector(".e-row").children[0];e.classList.add(sL),this.value||(e.classList.add(wb),D(e,"."+Cb).focus()),["aria-selected","aria-label"].forEach(t=>{e.removeAttribute(t)}),e.style.backgroundColor=""}appendElement(e,t=0){const i=this.container.children[t];i?this.container.insertBefore(e,i):this.container.appendChild(e)}addTileSelection(e){e.classList.add(wb),e.setAttribute("aria-selected","true")}createPicker(){ze(this.container,[oL],[WD]);const e=this.createElement("div",{className:kU});this.appendElement(e),e.appendChild(this.createElement("div",{className:xb}));const t=this.createElement("span",{className:EU,attrs:{tabindex:"0"}});e.appendChild(t),null===this.value&&(this.value="#008000ff"),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()}setHsvContainerBg(e=this.hsv[0]){this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))}getHsvContainer(){return G("."+kU,this.container)}setHandlerPosition(){const e=this.getDragHandler(),t=G("."+xb,this.container);e.style.left=$e(this.enableRtl?t.offsetWidth*Math.abs(100-this.hsv[1])/100:t.offsetWidth*this.hsv[1]/100),e.style.top=$e(t.offsetHeight*(100-this.hsv[2])/100)}createSlider(){const e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);const t=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(t,e.children[0]);let i=this.createElement("div",{className:"e-hue-slider"});t.appendChild(i),this.hueSlider=new xr({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(i),this.enableOpacity&&(i=this.createElement("div",{className:"e-opacity-slider"}),t.appendChild(i),this.createOpacitySlider(i))}createOpacitySlider(e){this.opacitySlider=new xr({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);const t=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(t),this.updateOpacitySliderBg()}updateOpacitySliderBg(){const e=this.enableRtl?"to left":"to right",t=G(".e-opacity-empty-track",this.opacitySlider.element);t&&(t.style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")}hueChange(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()}opacityChange(e){const t=e.value,i=this.rgbToHex(this.rgb);this.hsv[3]=t/100,this.rgb[3]=t/100;const n=this.rgbToHex(this.rgb);this.updateOpacityInput(t);const s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.triggerEvent(n,i,s)}updateOpacityInput(e){if(this.enableOpacity&&!this.getWrapper().classList.contains(t0)){const t=jl(G("."+rL,this.container),ng);t.value=e,t.dataBind()}}createPreview(e){const t=this.createElement("div",{className:UD});e.appendChild(t);let i=this.createElement("span",{className:"e-preview "+eL});t.appendChild(i);const n=this.convertToRgbString(this.rgb);i.style.backgroundColor=n,i=this.createElement("span",{className:"e-preview "+$D}),t.appendChild(i),i.style.backgroundColor=n}isPicker(){return!this.container.classList.contains(WD)}getPopupEle(){return this.container.parentElement}createNumericInput(e,t,i,n){const s=new ng({value:t,placeholder:i,min:0,max:n,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:o=>{o.event&&this.inputHandler(o.event)}});s.createElement=this.createElement,s.appendTo(e)}createInput(){const e=this.isPicker(),t=this.getWrapper();if(e&&!t.classList.contains(t0)||!e&&t.classList.contains(Gy)){const i=this.createElement("div",{className:jy});this.appendElement(i,e?2:1);const n=this.createElement("div",{className:"e-input-container"});if(i.appendChild(n),t.classList.contains(RU)||this.appendValueSwitchBtn(i),!t.classList.contains(iL)){const s=this.createElement("input",{className:"e-hex",attrs:{maxlength:"7",spellcheck:"false"}});n.appendChild(s),ke.createInput({element:s,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),ke.setValue(this.value.slice(0,7),s),s.addEventListener("input",this.inputHandler.bind(this))}if(!t.classList.contains(zy)){let s,o;this.isRgb?(s="RGB",o=this.rgb):(s="HSV",o=this.hsv);const l=["rh","gs","bv"];for(let a=0;a<3;a++)this.createNumericInput(n.appendChild(this.createElement("input",{className:"e-"+l[a]+"-value"})),o[a],s[a],255);this.enableOpacity&&this.appendOpacityValue(n)}}}appendOpacityValue(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:rL})),100*this.rgb[3],"A",100)}appendValueSwitchBtn(e){const t=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+DU});e.appendChild(t),this.isPicker()&&!this.getWrapper().classList.contains(zy)&&t.addEventListener("click",this.formatSwitchHandler.bind(this))}createCtrlBtn(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);const e=this.createElement("div",{className:Hy});if(this.container.appendChild(e),this.showButtons){const t=this.createElement("div",{className:tL});e.appendChild(t);const i=this.l10n.getConstant("Apply");t.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-css e-flat e-primary e-small "+GD,attrs:{title:i}}));const n=this.l10n.getConstant("Cancel");t.appendChild(this.createElement("button",{innerHTML:n,className:"e-btn e-css e-flat e-small "+ZP,attrs:{title:n}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}}appendModeSwitchBtn(){const e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+qD,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});G("."+Hy,this.container).insertBefore(e,G("."+tL,this.container))}createDragTooltip(){const e=new vs({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:t=>{this.tooltipEle=t.element},animation:{open:{effect:"None"},close:{effect:"None"}}});e.createElement=this.createElement,e.appendTo(this.container),e.open(this.container),this.tooltipEle.style.zIndex=hf(this.tooltipEle).toString(),G(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))}getTooltipInst(){return jl(this.container,vs)}setTooltipOffset(e){this.getTooltipInst().offsetY=e}toggleDisabled(e){e?this.getWrapper().classList.add(IU):this.getWrapper().classList.remove(IU),this.showButtons&&[].slice.call(gt(".e-btn",this.container)).forEach(t=>{e?Le(t,{disabled:""}):t.removeAttribute("disabled")})}convertToRgbString(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""}convertToHsvString(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"}updateHsv(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()}convertToOtherFormat(e=!1){const t=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);const i=this.rgbToHex(this.rgb),n=this.convertToRgbString(this.rgb);this.updatePreview(n),this.updateInput(i),this.triggerEvent(i,t,n,e)}updateInput(e){const t=this.getWrapper();t.classList.contains(t0)||(t.classList.contains(iL)||ke.setValue(e.substr(0,7),G(".e-hex",this.container)),t.classList.contains(zy)||this.updateValue(this.isRgb?this.rgb:this.hsv,!1))}updatePreview(e){this.enableOpacity&&this.updateOpacitySliderBg(),G(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,G("."+UD+" ."+eL,this.container).style.backgroundColor=e,G("."+UD+" ."+$D,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))}getDragHandler(){return G("."+EU,this.container)}removeTileSelection(){[].slice.call(gt("."+wb,this.container.children[0])).forEach(t=>{t.classList.remove(wb),t.setAttribute("aria-selected","false")})}convertRgbToNumberArray(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((t,i)=>3!==i?parseInt(t,10):parseFloat(t))}getValue(e,t){if(e||(e=this.value),t=t?t.toLowerCase():"hex","r"===e[0]){const i=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){const n=this.rgbToHex(i);return"hex"===t?n.slice(0,7):n}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"}if("h"===e[0]){const i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if("rgba"===t)return this.convertToRgbString(i);if("hex"===t||"hexa"===t){const n=this.rgbToHex(i);return"hex"===t?n.slice(0,7):n}return"rgb"===t?this.convertToRgbString(i.slice(0,3)):"null"}{e=this.roundValue(e);let i=this.hexToRgb(e);return("rgb"===t||"hsv"===t)&&(i=i.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(i):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"hex"===t?e.slice(0,7):"a"===t?i[3].toString():"null"}}toggle(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)}getModuleName(){return"colorpicker"}getPersistData(){return this.addOnPersist(["value"])}wireEvents(){if(this.isPicker()){const e=this.getDragHandler();C.add(e,"keydown",this.pickerKeyDown,this),C.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),C.add(G("."+$D,this.container),"click",this.previewHandler,this)}else C.add(this.container,"click",this.paletteClickHandler,this),C.add(this.container,"keydown",this.paletteKeyDown,this)}formResetHandler(){this.value=this.initialInputValue,Le(this.element,{value:this.initialInputValue})}addCtrlSwitchEvent(){const e=G("."+Hy,this.container);e&&C.add(e,"click",this.btnClickHandler,this)}pickerKeyDown(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:{e.preventDefault();const t=this.rgbToHex(this.rgb);this.enterKeyHandler(t,e)}}}enterKeyHandler(e,t){this.triggerChangeEvent(e),this.inline||(this.closePopup(t),this.splitBtn.element.focus())}closePopup(e){this.trigger("beforeClose",{element:this.container,event:e,cancel:!1},i=>{i.cancel||(this.splitBtn.toggle(),this.onPopupClose())})}triggerChangeEvent(e){const t=e.slice(0,7);this.trigger("change",{currentValue:{hex:t,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:t}),this.setProperties(this.enableOpacity?{value:e}:{value:t},!0),this.element.value=t||"#000000"}handlerDragPosition(e,t,i){i.preventDefault(),this.hsv[e]+=t*(i.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0)}handlerDown(e){e.preventDefault(),"mousedown"===e.type?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),C.add(document,"mousemove touchmove",this.handlerMove,this),C.add(document,"mouseup touchend",this.handlerEnd,this)}handlerMove(e){let t,i;"touchmove"!==e.type&&e.preventDefault(),"mousemove"===e.type?(t=Math.abs(e.pageX-pageXOffset),i=Math.abs(e.pageY-pageYOffset)):(t=Math.abs(e.changedTouches[0].pageX-pageXOffset),i=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(t,i);const n=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(n),this.tooltipEle.style.transform||(Math.abs(this.clientX-t)>8||Math.abs(this.clientY-i)>8)&&(G("."+xb,this.container).style.cursor="pointer",n.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",n.classList.add("e-hide-handler"))}setHsv(e,t){const i=G("."+xb,this.container),n=i.getBoundingClientRect();e=this.enableRtl?e>n.right?0:Math.abs(e-n.right):e>n.left?Math.abs(e-n.left):0,t=t>n.top?Math.abs(t-n.top):0,this.hsv[2]=Math.round(10*Number(100*(i.offsetHeight-Math.max(0,Math.min(i.offsetHeight,t-i.offsetTop)))/i.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(i.offsetWidth,e-i.offsetLeft))/i.offsetWidth))/10}handlerEnd(e){"touchend"!==e.type&&e.preventDefault(),C.remove(document,"mousemove touchmove",this.handlerMove),C.remove(document,"mouseup touchend",this.handlerEnd);const t=this.getDragHandler();G("."+xb,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",t.classList.remove("e-hide-handler")),!this.inline&&!this.showButtons&&this.closePopup(e)}btnClickHandler(e){const t=e.target;D(t,"."+qD)?(e.stopPropagation(),this.switchToPalette()):(t.classList.contains(GD)||t.classList.contains(ZP))&&this.ctrlBtnClick(t,e)}switchToPalette(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),de(G(".e-slider-preview",this.container)),this.getWrapper().classList.contains(t0)||X(G("."+jy,this.container)),de(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})}refreshPopupPos(){if(!this.inline){const e=this.getPopupEle();e.style.left=$e(0+pageXOffset),e.style.top=$e(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}}formatSwitchHandler(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)}updateValue(e,t,i,n){const s=["e-rh-value","e-gs-value","e-bv-value"];let o;for(let l=0,a=s.length;l<a;l++)o=jl(G("."+s[l],this.container),ng),o.value=Math.round(e[l]),t&&(o.placeholder=s[l].substr(i,1).toUpperCase(),o.max=n?n[l]:255),o.dataBind()}previewHandler(e){const t=e.target,i=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(t.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);const n=this.rgbToHex(this.rgb),s=this.rgbToHsv.apply(this,this.rgb);s[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:s[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(s[0]),this.enableOpacity&&s[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*s[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=s,this.setHandlerPosition(),this.updateInput(n),G("."+UD+" ."+eL,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(n,i,this.convertToRgbString(this.rgb))}paletteClickHandler(e){e.preventDefault();const t=e.target;if(t.classList.contains(KD)){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(sL))this.noColorTile();else{const i=t.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(i)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Gy)&&this.updateInput(i),this.triggerEvent(i,n,this.convertToRgbString(this.rgb))}!this.inline&&!this.showButtons&&this.closePopup(e)}else D(t,"."+qD)?this.switchToPicker():t.classList.contains(GD)||t.classList.contains(ZP)?this.ctrlBtnClick(t,e):this.getWrapper().classList.contains(Gy)&&D(t,"."+DU)&&this.formatSwitchHandler()}noColorTile(e=!1){const t=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",t,"",e)}switchToPicker(){const e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(gt("."+Cb,this.container)).forEach(i=>{de(i)}),e.classList.contains(Gy)&&de(G("."+jy,this.container)),this.container.style.width="";const t=G(".e-custom-palette",this.container);this.presetColors&&X(t),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})}ctrlBtnClick(e,t){if(e.classList.contains(GD)){const i=this.rgbToHex(this.rgb);this.triggerChangeEvent(i)}this.inline||(this.closePopup(t),this.splitBtn.element.focus())}paletteKeyDown(e){const t=e.target;if(!t.classList.contains(Cb))return;let i,n;const s=[].slice.call(gt("."+KD,t)),o=s.filter(l=>l.classList.contains("e-selected")).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),i=o?s[this.tilePosition(s,o,this.enableRtl?-1:1)]:s[this.enableRtl?s.length-1:0],this.keySelectionChanges(i);break;case 37:e.preventDefault(),i=o?s[this.tilePosition(s,o,this.enableRtl?1:-1)]:s[this.enableRtl?0:s.length-1],this.keySelectionChanges(i);break;case 38:e.preventDefault(),n=o?this.tilePosition(s,o,-this.columns):0,i=s[n]?s[n]:s[n-this.columns],this.keySelectionChanges(i);break;case 40:e.preventDefault(),n=o?this.tilePosition(s,o,this.columns):s.length-1,s[n]||(n%=s.length,n+=s[s.length-1].parentElement.childElementCount),i=s[n],this.keySelectionChanges(i);break;case 13:if(e.preventDefault(),o){const l=o.getAttribute("aria-label");this.enterKeyHandler(l||"",e)}}}keySelectionChanges(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(sL))this.noColorTile(!0);else{const t=e.getAttribute("aria-label"),i=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Gy)&&this.updateInput(t),this.triggerEvent(t,i,this.convertToRgbString(this.rgb),!0)}}tilePosition(e,t,i){const n=(e=Array.prototype.slice.call(e)).length,s=this.columns-e[n-1].parentElement.childElementCount;let o=e.indexOf(t);return o+=i,o<0?o+=n+s:o%=n+s,o}inputHandler(e){const t=e.target;if(!t.value.length)return;let i,n;switch(G(".e-float-text",t.parentElement).textContent){case"HEX":{let o="";if(("#"===t.value[0]&&5!==t.value.length||"#"!==t.value[0]&&4!==t.value.length)&&(o=this.roundValue(t.value)),9!==o.length)return;n=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(o+o.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),n,t.value);break}case"R":this.rgb[0]!==Number(t.value)&&(n=this.rgbToHex(this.rgb),this.rgb[0]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,n));break;case"G":this.rgb[1]!==Number(t.value)&&(n=this.rgbToHex(this.rgb),this.rgb[1]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,n));break;case"B":this.rgb[2]!==Number(t.value)&&(n=this.rgbToHex(this.rgb),this.rgb[2]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,n));break;case"H":this.hueSlider.value=Number(t.value);break;case"S":this.hsv[1]!==Number(t.value)&&(this.hsv[1]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(t.value)&&(this.hsv[2]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(t.value)}}inputValueChange(e,t,i){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;const n=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(i||n);const s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.triggerEvent(n,t,s)}triggerEvent(e,t,i,n=!1){const s=e.slice(0,7);this.showButtons||n?this.trigger("select",{currentValue:{hex:s,rgba:i},previousValue:{hex:t.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(t))}}):(this.trigger("change",{currentValue:{hex:s,rgba:i},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.setProperties(this.enableOpacity?{value:e}:{value:s},!0),this.element.value=s||"#000000")}destroy(){const e=this.getWrapper();super.destroy(),["tabindex","spellcheck"].forEach(t=>{this.element.removeAttribute(t)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&de(this.element.nextElementSibling),e&&(e.parentElement.insertBefore(this.element,e),de(e)),this.container=null,this.formElement&&C.remove(this.formElement,"reset",this.formResetHandler)}destroyOtherComp(){if(this.isPicker()){this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;const e=this.getTooltipInst();e.close(),e.destroy(),this.tooltipEle=null}}isPopupOpen(){return this.getPopupEle().classList.contains("e-popup-open")}unWireEvents(){if(this.isPicker()){const e=this.getDragHandler();C.remove(e,"keydown",this.pickerKeyDown),C.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&C.remove(G("."+Hy,this.container),"click",this.btnClickHandler),C.remove(G("."+$D,this.container),"click",this.previewHandler)}else C.remove(this.container,"click",this.paletteClickHandler),C.remove(this.container,"keydown",this.paletteKeyDown)}roundValue(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);let t=e.length;if(4===t&&(e+="f",t=5),5===t){let i="";for(let n=1,s=e.length;n<s;n++)i+=e.charAt(n)+e.charAt(n);e="#"+i,t=9}return 7===t&&(e+="ff"),e}hexToRgb(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));const t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);const i=parseInt(e,16),n=[];return n.push(i>>16&255),n.push(i>>8&255),n.push(255&i),n.push(t),n}rgbToHsv(e,t,i,n){if(this.rgb&&!this.rgb.length)return[];e/=255,t/=255,i/=255;const s=Math.max(e,t,i),o=Math.min(e,t,i);let l;const a=s,c=s-o,d=0===s?0:c/s;if(s===o)l=0;else{switch(s){case e:l=(t-i)/c+(t<i?6:0);break;case t:l=(i-e)/c+2;break;case i:l=(e-t)/c+4}l/=6}const u=[Math.round(360*l),Math.round(1e3*d)/10,Math.round(1e3*a)/10];return h(n)||u.push(n),u}hsvToRgb(e,t,i,n){let s,o,l;if(i/=100,0==(t/=100))return s=o=l=i,[Math.round(255*s),Math.round(255*o),Math.round(255*l),n];e/=60;const a=Math.floor(e),c=e-a,d=i*(1-t),u=i*(1-t*c),p=i*(1-t*(1-c));switch(a){case 0:s=i,o=p,l=d;break;case 1:s=u,o=i,l=d;break;case 2:s=d,o=i,l=p;break;case 3:s=d,o=u,l=i;break;case 4:s=p,o=d,l=i;break;default:s=i,o=d,l=u}const g=[Math.round(255*s),Math.round(255*o),Math.round(255*l)];return h(n)||g.push(n),g}rgbToHex(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(h(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""}hex(e){return("0"+e.toString(16)).slice(-2)}changeModeSwitcherProp(e){const t=G("."+Hy,this.container);e?t?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):t&&(this.showButtons?de(G("."+qD,t)):X(t))}changeShowBtnProps(e){const t=G("."+Hy,this.container);e?(t&&X(t),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?de(G("."+tL,t)):X(t)}changeValueProp(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),de(D(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();const t=this.container.querySelector('span[aria-label="'+this.roundValue(e)+'"]');t&&this.addTileSelection(t)}}setInputEleProps(){X(G("."+jy,this.container)),this.createInput()}changeDisabledProp(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps()),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())}changeCssClassProps(e,t){const i=this.getWrapper(),n=this.getPopupEle();t&&T([i,n],t.split(" ")),e&&_([i,n],e.split(" "))}changeRtlProps(e){e?_([this.getWrapper()],"e-rtl"):T([this.getWrapper()],"e-rtl")}changePaletteProps(){de(this.container.children[0]),this.container.style.width="",this.createPalette()}changeOpacityProps(e){const t=this.getWrapper();e?(T([this.container.parentElement],nL),this.createOpacitySlider(G(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),!t.classList.contains(t0)&&!t.classList.contains(zy)&&this.appendOpacityValue(G(".e-input-container",this.container))):(_([this.container.parentElement],nL),this.opacitySlider.destroy(),X(this.opacitySlider.element),this.opacitySlider=null,!t.classList.contains(t0)&&!t.classList.contains(zy)&&X(G("."+rL,this.container).parentElement))}onPropertyChanged(e,t){if(!h(e.value)){const i=this.roundValue(e.value);if(9===i.length){this.element.value=this.roundValue(i).slice(0,7);const n=this.splitBtn&&G("."+lL,this.splitBtn.element);n&&(n.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)))}else this.value=t.value}if(!this.inline&&h(e.inline)&&(this.splitBtn.setProperties(ub(e,["disabled","enableRtl"])),!this.isPopupOpen()))return this.changeCssClassProps(e.cssClass,t.cssClass),void this.changeRtlProps(e.enableRtl);for(const i of Object.keys(e))switch(i){case"inline":e.inline?(this.getWrapper().appendChild(this.container),this.splitBtn.destroy(),de(this.element.nextElementSibling),this.container.children.length||this.createWidget()):(this.destroyOtherComp(),this.unWireEvents(),this.container.innerHTML="",this.createSplitBtn());break;case"cssClass":{this.changeCssClassProps(e.cssClass,t.cssClass);let n=e.cssClass.split(" ").concat(t.cssClass.split(" "));n=n.reduce((o,l)=>(o.indexOf(l)<0&&o.push(l),o),[]);let s=0;n.forEach(o=>{0===s&&(o===t0||o===RU||o===Gy||o===iL||o===zy)&&(G("."+jy,this.container)&&X(G("."+jy,this.container)),this.createInput(),s++)});break}case"enableRtl":this.isPicker()&&(this.hueSlider.enableRtl=e.enableRtl,this.enableOpacity&&(this.opacitySlider.enableRtl=e.enableRtl),this.setInputEleProps()),this.changeRtlProps(e.enableRtl);break;case"disabled":this.changeDisabledProp(e.disabled);break;case"value":this.value!==t.value&&this.changeValueProp(e.value);break;case"showButtons":this.changeShowBtnProps(e.showButtons);break;case"mode":"Picker"===e.mode?this.switchToPicker():this.switchToPalette();break;case"modeSwitcher":this.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":this.isPicker()||this.changePaletteProps();break;case"noColor":e.noColor?"Palette"===this.mode&&!this.modeSwitcher&&this.setNoColor():this.changePaletteProps();break;case"enableOpacity":this.changeOpacityProps(e.enableOpacity)}}focusIn(){this.element.parentElement.focus()}};Do([y("#008000ff")],ao.prototype,"value",void 0),Do([y("")],ao.prototype,"cssClass",void 0),Do([y(!1)],ao.prototype,"disabled",void 0),Do([y("Picker")],ao.prototype,"mode",void 0),Do([y(!0)],ao.prototype,"modeSwitcher",void 0),Do([y(null)],ao.prototype,"presetColors",void 0),Do([y(!0)],ao.prototype,"showButtons",void 0),Do([y(10)],ao.prototype,"columns",void 0),Do([y(!1)],ao.prototype,"inline",void 0),Do([y(!1)],ao.prototype,"noColor",void 0),Do([y(!1)],ao.prototype,"enablePersistence",void 0),Do([y(!0)],ao.prototype,"enableOpacity",void 0),Do([y(!1)],ao.prototype,"createPopupOnClick",void 0),Do([E()],ao.prototype,"select",void 0),Do([E()],ao.prototype,"change",void 0),Do([E()],ao.prototype,"beforeTileRender",void 0),Do([E()],ao.prototype,"beforeOpen",void 0),Do([E()],ao.prototype,"open",void 0),Do([E()],ao.prototype,"beforeClose",void 0),Do([E()],ao.prototype,"beforeModeSwitch",void 0),Do([E()],ao.prototype,"onModeSwitch",void 0),Do([E()],ao.prototype,"created",void 0),ao=Do([Pi],ao);var bl=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const AU="e-input-focus",aL=["title","style","class"];let co=class extends an{constructor(e,t){super(e,t),this.previousValue=null,this.isAngular=!1,this.isHiddenInput=!1,this.isForm=!1,this.inputPreviousValue=null,this.isVue=!1,this.textboxOptions=e}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"floatLabelType":ke.removeFloating(this.textboxWrapper),ke.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":ke.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":ke.setWidth(e.width,this.textboxWrapper.container);break;case"value":{const n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=n,ke.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&!0===this.preventChange?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(h(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&h(this.preventChange))&&this.raiseChangeEvent()}break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkAttributes(!0),ke.validateInputType(this.textboxWrapper.container,this.element);break;case"readonly":ke.setReadonly(this.readonly,this.respectiveElement);break;case"type":"TEXTAREA"!==this.respectiveElement.tagName&&(this.respectiveElement.setAttribute("type",this.type),ke.validateInputType(this.textboxWrapper.container,this.element),this.raiseChangeEvent());break;case"showClearButton":"TEXTAREA"!==this.respectiveElement.tagName&&(ke.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent());break;case"enableRtl":ke.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":ke.setPlaceholder(this.placeholder,this.respectiveElement);break;case"autocomplete":"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"locale":this.globalize=new Nn(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),ke.setPlaceholder(this.placeholder,this.respectiveElement)}}getModuleName(){return"textbox"}isBlank(e){return!e||/^\s*$/.test(e)}preRender(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=D(this.element,"form"),h(this.formElement)||(this.isForm=!0),"EJS-TEXTBOX"===this.element.tagName){const t=M("ej2_instances",this.element),i=this.createElement(this.multiline?"textarea":"input");let n=0;for(;n<this.element.attributes.length;n++){const s=this.element.attributes[n].nodeName;"id"!==s&&"class"!==s?(i.setAttribute(s,this.element.attributes[n].nodeValue),i.innerHTML=this.element.innerHTML,"name"===s&&this.element.removeAttribute("name")):"class"===s&&i.setAttribute(s,this.element.className.split(" ").filter(o=>0!==o.indexOf("ng-")).join(" "))}this.element.appendChild(i),this.element=i,Ne("ej2_instances",t,this.element)}if(this.updateHTMLAttrToElement(),this.checkAttributes(!1),(h(this.textboxOptions)||void 0===this.textboxOptions.value)&&""!==this.element.value&&this.setProperties({value:this.element.value},!0),"TEXTAREA"!==this.element.tagName&&this.element.setAttribute("type",this.type),this.element.setAttribute("role","textbox"),this.globalize=new Nn(this.locale),this.l10n=new is("textbox",{placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Gn("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),"INPUT"===this.element.tagName&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role"),this.textarea.setAttribute("id",Gn("textarea"));const t=["placeholder","disabled","value","readonly","type","autocomplete"];for(let i=0;i<this.element.attributes.length;i++){const n=this.element.attributes[i].nodeName;this.element.hasAttribute(n)&&aL.indexOf(n)<0&&"id"!==n&&"type"!==n&&"e-mappinguid"!==n&&(this.textarea.setAttribute(n,this.element.attributes[i].nodeValue),t.indexOf(n)<0&&(this.element.removeAttribute(n),i--))}}}checkAttributes(e){const t=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"];for(const i of t)if(!h(this.element.getAttribute(i)))switch(i){case"disabled":if(h(this.textboxOptions)||void 0===this.textboxOptions.enabled||e){const n=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:n},!e)}break;case"readonly":if(h(this.textboxOptions)||void 0===this.textboxOptions.readonly||e){const n="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:n},!e)}break;case"placeholder":(h(this.textboxOptions)||void 0===this.textboxOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"autocomplete":(h(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||e)&&this.setProperties({autocomplete:"off"===this.element.autocomplete?"off":"on"},!e);break;case"value":(h(this.textboxOptions)||void 0===this.textboxOptions.value||e)&&this.setProperties({value:this.element.value},!e);break;case"type":(h(this.textboxOptions)||void 0===this.textboxOptions.type||e)&&this.setProperties({type:this.element.type},!e)}}render(){let e=this.cssClass;!h(this.cssClass)&&""!==this.cssClass&&(e=this.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=ke.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:e,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttrToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),h(this.value)||(ke.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),h(this.value)||(this.initialValue=this.value,this.setInitialValue()),"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:!h(this.textboxOptions)&&void 0!==this.textboxOptions.autocomplete&&this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,ke.setWidth(this.width,this.textboxWrapper.container),this.renderComplete()}updateHTMLAttrToWrapper(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(aL.indexOf(e)>-1)if("class"===e){const t=this.getInputValidClassList(this.htmlAttributes[e]);""!==t&&_([this.textboxWrapper.container],t.split(" "))}else if("style"===e){let t=this.textboxWrapper.container.getAttribute(e);t=h(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.textboxWrapper.container.setAttribute(e,t)}else this.textboxWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHTMLAttrToElement(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))aL.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){ke.setCssClass(this.getInputValidClassList(e),[this.textboxWrapper.container],this.getInputValidClassList(t))}getInputValidClassList(e){let t=e;return!h(e)&&""!==e&&(t=e.replace(/\s+/g," ").trim()),t}setInitialValue(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)}wireEvents(){C.add(this.respectiveElement,"focus",this.focusHandler,this),C.add(this.respectiveElement,"blur",this.focusOutHandler,this),C.add(this.respectiveElement,"input",this.inputHandler,this),C.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&C.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent(),!h(this.textboxWrapper.container.querySelector(".e-float-text"))&&"Auto"===this.floatLabelType&&this.textboxWrapper.container.classList.contains("e-autofill")&&this.textboxWrapper.container.classList.contains("e-outline")&&C.add(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler,this)}animationHandler(){this.textboxWrapper.container.classList.add("e-valid-input");const e=this.textboxWrapper.container.querySelector(".e-float-text");h(e)||(e.classList.add("e-label-top"),e.classList.contains("e-label-bottom")&&e.classList.remove("e-label-bottom"))}resetValue(e){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=e,this.isProtectedOnChange=t}resetForm(){if(this.resetValue(this.isAngular?"":this.initialValue),!h(this.textboxWrapper)){const e=this.textboxWrapper.container.querySelector(".e-float-text");h(e)||(h(this.initialValue)||""===this.initialValue?(e.classList.add("e-label-bottom"),e.classList.remove("e-label-top")):""!==this.initialValue&&(e.classList.add("e-label-top"),e.classList.remove("e-label-bottom")))}}focusHandler(e){this.trigger("focus",{container:this.textboxWrapper.container,event:e,value:this.value})}focusOutHandler(e){(null!==this.previousValue||null!==this.value||""!==this.respectiveElement.value)&&this.previousValue!==this.respectiveElement.value&&this.raiseChangeEvent(e,!0),this.trigger("blur",{container:this.textboxWrapper.container,event:e,value:this.value})}inputHandler(e){const i={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(this.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",i),e.stopPropagation()}changeHandler(e){this.setProperties({value:this.respectiveElement.value},!0),this.raiseChangeEvent(e,!0),e.stopPropagation()}raiseChangeEvent(e,t){const i={event:e,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:t||!1,isInteracted:t||!1};this.preventChange=!1,this.trigger("change",i),this.previousValue=this.value,"INPUT"===this.element.tagName&&this.multiline&&"mozilla"===A.info.name&&(this.element.value=this.respectiveElement.value)}bindClearEvent(){this.showClearButton&&"TEXTAREA"!==this.respectiveElement.tagName&&(this.enabled?C.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):C.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))}resetInputHandler(e){e.preventDefault(),(!this.textboxWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.textboxWrapper.container.classList.contains("e-static-clear"))&&(ke.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0),this.trigger("input",{event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container}),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(e,!0))}unWireEvents(){C.remove(this.respectiveElement,"focus",this.focusHandler),C.remove(this.respectiveElement,"blur",this.focusOutHandler),C.remove(this.respectiveElement,"input",this.inputHandler),C.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&C.remove(this.formElement,"reset",this.resetForm),!h(this.textboxWrapper.container.querySelector(".e-float-text"))&&"Auto"===this.floatLabelType&&this.textboxWrapper.container.classList.contains("e-outline")&&this.textboxWrapper.container.classList.contains("e-autofill")&&C.remove(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler)}destroy(){this.unWireEvents(),"INPUT"===this.element.tagName&&this.multiline&&(de(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-placeholder","aria-disabled","aria-readonly","aria-labelledby"]),h(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),de(this.textboxWrapper.container)),this.textboxWrapper=null,super.destroy()}addIcon(e,t){ke.addIcon(e,t,this.textboxWrapper.container,this.respectiveElement,this.createElement)}getPersistData(){return this.addOnPersist(["value"])}addAttributes(e){for(const t of Object.keys(e))"disabled"===t?(this.setProperties({enabled:!1},!0),ke.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===t?(this.setProperties({readonly:!0},!0),ke.setReadonly(this.readonly,this.respectiveElement)):"class"===t?this.respectiveElement.classList.add(e[t]):"placeholder"===t?(this.setProperties({placeholder:e[t]},!0),ke.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.setAttribute(t,e[t])}removeAttributes(e){for(const t of e)"disabled"===t?(this.setProperties({enabled:!0},!0),ke.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===t?(this.setProperties({readonly:!1},!0),ke.setReadonly(this.readonly,this.respectiveElement)):"placeholder"===t?(this.setProperties({placeholder:null},!0),ke.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(t)}focusIn(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&_([this.textboxWrapper.container],[AU]))}focusOut(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&T([this.textboxWrapper.container],[AU]))}};bl([y("text")],co.prototype,"type",void 0),bl([y(!1)],co.prototype,"readonly",void 0),bl([y(null)],co.prototype,"value",void 0),bl([y("Never")],co.prototype,"floatLabelType",void 0),bl([y("")],co.prototype,"cssClass",void 0),bl([y(null)],co.prototype,"placeholder",void 0),bl([y("on")],co.prototype,"autocomplete",void 0),bl([y({})],co.prototype,"htmlAttributes",void 0),bl([y(!1)],co.prototype,"multiline",void 0),bl([y(!0)],co.prototype,"enabled",void 0),bl([y(!1)],co.prototype,"showClearButton",void 0),bl([y(!1)],co.prototype,"enablePersistence",void 0),bl([y(null)],co.prototype,"width",void 0),bl([E()],co.prototype,"created",void 0),bl([E()],co.prototype,"destroyed",void 0),bl([E()],co.prototype,"change",void 0),bl([E()],co.prototype,"blur",void 0),bl([E()],co.prototype,"focus",void 0),bl([E()],co.prototype,"input",void 0),co=bl([Pi],co);class FSe extends an{constructor(){super(...arguments),this.minDistance=5,this.previous=0,this.interval=30,this.timeout=null,this.isSignatureEmpty=!0,this.backgroundLoaded=null,this.clearArray=[],this.isBlazor=!1,this.isResponsive=!1}initialize(e,t){this.element=e,this.canvasContext=this.element.getContext("2d"),this.canvasContext.canvas.tabIndex=0,t&&(this.dotnetRef=t,this.isBlazor=!0,this.signatureValue&&this.loadPersistedSignature()),this.setHTMLProperties(),h(this.signatureValue)&&this.updateSnapCollection(!0),this.wireEvents(),this.isBlazor||this.trigger("created",null)}wireEvents(){!h(this.pointColl)||this.isReadOnly||this.disabled?this.pointColl&&(C.add(this.canvasContext.canvas,"mousemove touchmove",this.mouseMoveHandler,this),C.add(this.canvasContext.canvas,"mouseup touchend",this.mouseUpHandler,this),C.add(document,"mouseup",this.mouseUpHandler,this)):(C.add(this.canvasContext.canvas,"mousedown touchstart",this.mouseDownHandler,this),C.add(this.canvasContext.canvas,"keydown",this.keyboardHandler,this),window.addEventListener("resize",this.resizeHandler.bind(this)))}unwireEvents(e){"mouseup"===e||"touchend"===e?(C.remove(this.canvasContext.canvas,"mousemove touchmove",this.mouseMoveHandler),C.remove(this.canvasContext.canvas,"mouseup touchend",this.mouseUpHandler),C.remove(document,"mouseup",this.mouseUpHandler)):(C.remove(this.canvasContext.canvas,"mousedown touchstart",this.mouseDownHandler),C.remove(this.canvasContext.canvas,"keydown",this.keyboardHandler),window.removeEventListener("resize",this.resizeHandler))}setHTMLProperties(){150===this.element.height&&300===this.element.width&&(this.element.height=this.element.offsetHeight,this.element.width=this.element.offsetWidth,this.isResponsive=!0),this.canvasContext.scale(1,1),this.canvasContext.fillStyle=this.strokeColor,this.backgroundImage?(this.canvasContext.canvas.style.backgroundImage="url("+this.backgroundImage+")",this.canvasContext.canvas.style.backgroundRepeat="no-repeat"):this.backgroundColor&&(this.canvasContext.canvas.style.backgroundColor=this.backgroundColor)}mouseDownHandler(e){(1===e.buttons||2===e.buttons||"touchstart"===e.type)&&("touchstart"===e.type&&(e.preventDefault(),e.stopPropagation()),this.beginStroke(e),this.wireEvents())}mouseMoveHandler(e){(1===e.buttons||2===e.buttons||"touchmove"===e.type)&&("touchmove"===e.type&&(e.preventDefault(),e.stopPropagation()),this.interval?this.updateStrokeWithThrottle(e):this.updateStroke(e))}mouseUpHandler(e){"touchstart"===e.type&&(e.preventDefault(),e.stopPropagation()),this.endDraw(),this.updateSnapCollection(),this.unwireEvents(e.type),this.isBlazor?this.dotnetRef.invokeMethodAsync("TriggerEventAsync","mouseUp"):this.trigger("change",{actionName:"strokeUpdate"}),this.signatureValue=this.snapColl[this.incStep]}keyboardHandler(e){const t={fileName:"Signature",type:"Png",cancel:!1};switch(e.key){case"Delete":this.clear();break;case e.ctrlKey&&"s":this.isBlazor?this.dotnetRef.invokeMethodAsync("TriggerEventAsync","beforeSave"):this.trigger("beforeSave",t,i=>{t.cancel||this.save(i.type,i.fileName)}),e.preventDefault(),e.stopImmediatePropagation();break;case e.ctrlKey&&"z":this.undo();break;case e.ctrlKey&&"y":this.redo()}}resizeHandler(){const e=this;this.isResponsive&&(this.canvasContext.canvas.width=this.element.offsetWidth,this.canvasContext.canvas.height=this.element.offsetHeight,this.canvasContext.scale(1,1));const t=new Image;t.src=this.snapColl[this.incStep],t.onload=()=>{e.canvasContext.clearRect(0,0,e.element.width,e.element.height),e.canvasContext.drawImage(t,0,0,e.element.width,e.element.height)}}beginStroke(e){this.refresh(),this.updateStroke(e)}updateStroke(e){const t=this.createPoint(e);this.addPoint(t)}updateStrokeWithThrottle(e){const t=Date.now(),i=this.interval-(t-this.previous);this.storedArgs=e,i<=0||i>this.interval?(this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.previous=t,this.updateStroke(this.storedArgs),this.timeout||(this.storedArgs=null)):this.timeout||(this.timeout=window.setTimeout(this.delay.bind(this),i))}delay(){this.previous=Date.now(),this.timeout=null,this.updateStroke(this.storedArgs),this.timeout||(this.storedArgs=null)}createPoint(e){const t=this.canvasContext.canvas.getBoundingClientRect();return"mousedown"===e.type||"mousemove"===e.type?this.point(e.clientX-t.left,e.clientY-t.top,(new Date).getTime()):this.point(e.touches[0].clientX-t.left,e.touches[0].clientY-t.top,(new Date).getTime())}point(e,t,i){return this.pointX=e,this.pointY=t,this.time=i||(new Date).getTime(),{x:this.pointX,y:this.pointY,time:this.time}}addPoint(e){const t=this.pointColl;let i,n;const s=t.length>0&&t[t.length-1],o=!!s&&this.distanceTo(s)<=this.minDistance;(!s||!s||!o)&&(t.push(e),t.length>2&&(3===t.length&&t.unshift(t[0]),i=this.calculateCurveControlPoints(t[0],t[1],t[2]).controlPoint2,n=this.calculateCurveControlPoints(t[1],t[2],t[3]).controlPoint1,this.startPoint=t[1],this.controlPoint1=i,this.controlPoint2=n,this.endPoint=t[2],this.startDraw(),t.shift()))}startDraw(){let e;e=this.pointVelocityCalc(this.startPoint),e=this.velocity*e+(1-this.velocity)*this.lastVelocity;const t=Math.max(this.maxStrokeWidth/(e+1),this.minStrokeWidth);this.curveDraw(this.lastWidth,t),this.lastVelocity=e,this.lastWidth=t}endDraw(){const t=this.pointColl[0];!(this.pointColl.length>2)&&t&&this.strokeDraw(t)}curveDraw(e,t){const i=this.canvasContext;let n,s,o,l,a,c,d,u,p,g;const f=t-e,m=this.bezierLengthCalc(),v=2*Math.ceil(m);for(i.beginPath(),s=0;s<v;s++)o=s/v,l=o*o,a=l*o,c=1-o,d=c*c,u=d*c,p=u*this.startPoint.x,p+=3*d*o*this.controlPoint1.x,p+=3*c*l*this.controlPoint2.x,p+=a*this.endPoint.x,g=u*this.startPoint.y,g+=3*d*o*this.controlPoint1.y,g+=3*c*l*this.controlPoint2.y,g+=a*this.endPoint.y,n=Math.min(e+a*f,this.maxStrokeWidth),this.arcDraw(p,g,n);i.closePath(),i.fill(),this.isSignatureEmpty=!1}strokeDraw(e){const t=this.canvasContext,i=(this.minStrokeWidth+this.maxStrokeWidth)/2;t.beginPath(),this.arcDraw(e.x,e.y,i),t.closePath(),t.fill(),this.isSignatureEmpty=!1}arcDraw(e,t,i){const n=this.canvasContext;n.moveTo(e,t),n.arc(e,t,i,0,2*Math.PI,!1)}calculateCurveControlPoints(e,t,i){const n=e.x-t.x,s=e.y-t.y,o=t.x-i.x,l=t.y-i.y,a_x=(e.x+t.x)/2,a_y=(e.y+t.y)/2,c_x=(t.x+i.x)/2,c_y=(t.y+i.y)/2,d=Math.sqrt(n*n+s*s),u=Math.sqrt(o*o+l*l),f=u/(d+u),v=t.x-(c_x+(a_x-c_x)*f),x=t.y-(c_y+(a_y-c_y)*f);return{controlPoint1:this.point(a_x+v,a_y+x,0),controlPoint2:this.point(c_x+v,c_y+x,0)}}bezierLengthCalc(){let i,n,s,o,l,a,c,d,t=0;for(i=0;i<=10;i++)n=i/10,s=this.bezierPointCalc(n,this.startPoint.x,this.controlPoint1.x,this.controlPoint2.x,this.endPoint.x),o=this.bezierPointCalc(n,this.startPoint.y,this.controlPoint1.y,this.controlPoint2.y,this.endPoint.y),i>0&&(c=s-l,d=o-a,t+=Math.sqrt(c*c+d*d)),l=s,a=o;return t}bezierPointCalc(e,t,i,n,s){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*n*(1-e)*e*e+s*e*e*e}pointVelocityCalc(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}distanceTo(e){return Math.sqrt(Math.pow(this.pointX-e.x,2)+Math.pow(this.pointY-e.y,2))}isRead(e){e?C.remove(this.canvasContext.canvas,"mousedown touchstart",this.mouseDownHandler):this.disabled||C.add(this.canvasContext.canvas,"mousedown touchstart",this.mouseDownHandler,this)}enableOrDisable(e){this.disabled=e,e?(this.reDraw("0.5"),this.isRead(!0)):(this.reDraw("1"),this.isRead(!1))}reDraw(e){const t=this.canvasContext.getImageData(0,0,this.element.width,this.element.height);this.canvasContext.clearRect(0,0,this.element.width,this.element.height),this.element.style.opacity=e,this.canvasContext.putImageData(t,0,0)}updateSnapCollection(e){if(h(this.incStep)?(this.incStep=-1,this.incStep++,this.snapColl=[],this.clearArray=[]):this.incStep++,this.incStep<this.snapColl.length&&(this.snapColl.length=this.incStep),this.incStep>0){const t=this.createElement("canvas",{className:"e-"+this.getModuleName()+"-wrapper"}),i=t.getContext("2d");t.width=this.canvasContext.canvas.width,t.height=this.canvasContext.canvas.height,i.drawImage(this.canvasContext.canvas,0,0,t.width,t.height),this.snapColl.push(t.toDataURL())}else this.snapColl.push(this.canvasContext.canvas.toDataURL());e&&this.clearArray.push(this.incStep)}setBackgroundImage(e){const t=this,i=new Image;i.crossOrigin="anonymous",i.src=e,i.onload=()=>{t.canvasContext.globalCompositeOperation="source-over",t.canvasContext.drawImage(i,0,0,t.element.width,t.element.height),t.updateSnapCollection(),t.saveBackground(!0)},this.canvasContext.clearRect(0,0,this.canvasContext.canvas.width,this.canvasContext.canvas.height)}setBackgroundColor(e){const t=this.canvasContext;let i,n;for(t.strokeStyle=e,i=1;i<=t.canvas.width;i++)for(n=1;n<=t.canvas.height;n++)t.strokeRect(0,0,i,n);this.updateSnapCollection()}loadPersistedSignature(){if(h(this.signatureValue))return;const e=this,t=new Image;t.src=this.signatureValue,t.onload=()=>{e.canvasContext.clearRect(0,0,e.element.width,e.element.height),e.canvasContext.drawImage(t,0,0),e.updateSnapCollection()},this.isSignatureEmpty=!1}getBlob(e){const t=e.split(","),i=t[0].match(/:(.*?);/)[1],n=atob(t[1]);let s=n.length;const o=new Uint8Array(s);for(;s--;)o[s]=n.charCodeAt(s);return new Blob([o],{type:i})}download(e,t){const i=URL.createObjectURL(e),n=document.createElement("a");n.href=i,n.target="_parent",n.download=t,(document.body||document.documentElement).appendChild(n),n.click(),n.parentNode.removeChild(n)}refresh(){this.pointColl=[],this.lastVelocity=0,this.lastWidth=(this.minStrokeWidth+this.maxStrokeWidth)/2}clear(){this.canvasContext.clearRect(0,0,this.canvasContext.canvas.width,this.canvasContext.canvas.height),this.refresh(),this.updateSnapCollection(!0),this.isSignatureEmpty=!0,this.isBlazor?this.dotnetRef.invokeMethodAsync("TriggerEventAsync","Clear"):this.trigger("change",{actionName:"clear"})}undo(){const t=this;if(this.incStep>0){this.incStep--;const i=new Image;i.src=this.snapColl[this.incStep],i.onload=()=>{t.canvasContext.clearRect(0,0,t.element.width,t.element.height),t.canvasContext.drawImage(i,0,0,t.element.width,t.element.height)}}this.isClear(),this.isBlazor?this.dotnetRef.invokeMethodAsync("TriggerEventAsync","Undo"):this.trigger("change",{actionName:"undo"})}redo(){const t=this;if(this.incStep<this.snapColl.length-1){this.incStep++;const i=new Image;i.src=this.snapColl[this.incStep],i.onload=()=>{t.canvasContext.clearRect(0,0,t.element.width,t.element.height),t.canvasContext.drawImage(i,0,0,t.element.width,t.element.height)}}this.isClear(),this.isBlazor?this.dotnetRef.invokeMethodAsync("TriggerEventAsync","Redo"):this.trigger("change",{actionName:"redo"})}isClear(){if(this.clearArray){let e=!1;for(let t=0;t<this.clearArray.length;t++)this.clearArray[t]===this.incStep&&(this.isSignatureEmpty=!0,e=!0);e||(this.isSignatureEmpty=!1)}}isEmpty(){return this.isSignatureEmpty}canUndo(){return this.incStep>0}canRedo(){return this.incStep<this.snapColl.length-1}draw(e,t,i){this.canvasContext.clearRect(0,0,this.canvasContext.canvas.width,this.canvasContext.canvas.height),this.canvasContext.font=(i=i||30)+"px "+(t=t||"Arial"),this.canvasContext.textAlign="center",this.canvasContext.textBaseline="middle",this.canvasContext.fillText(e,this.element.width/2,this.element.height/2),this.updateSnapCollection(),this.isSignatureEmpty=!1}load(e,t,i){i=i||this.element.height,t=t||this.element.width,this.canvasContext.clearRect(0,0,this.canvasContext.canvas.width,this.canvasContext.canvas.height);const n=this,s=new Image;s.src=e,"data"!==e.slice(0,4)&&(s.crossOrigin="anonymous"),s.onload=()=>{Promise.all([createImageBitmap(s,0,0,t,i)]).then(o=>{const l=document.createElement("canvas");l.width=t,l.height=i,l.getContext("2d").drawImage(o[0],0,0),"data"!==e.slice(0,4)&&(n.canvasContext.globalCompositeOperation="source-over"),n.canvasContext.drawImage(l,0,0,t,i,0,0,n.element.width,n.element.height),n.updateSnapCollection()})},this.isSignatureEmpty=!1}saveBackground(e){let t;if(t=e&&this.backgroundImage?this.snapColl[this.incStep-1]:this.snapColl[this.incStep],e||(this.canvasContext.clearRect(0,0,this.canvasContext.canvas.width,this.canvasContext.canvas.height),this.backgroundImage?this.setBackgroundImage(this.backgroundImage):this.backgroundColor&&(this.setBackgroundColor(this.backgroundColor),e=!0)),e){const i=this,n=new Image;n.crossOrigin="anonymous",n.src=t,n.onload=()=>{i.backgroundLoaded=!0,i.canvasContext.globalCompositeOperation="source-over",i.canvasContext.drawImage(n,0,0,i.element.width,i.element.height),i.save(i.fileType,i.fileName)}}}save(e,t){if(this.saveWithBackground&&null==this.backgroundLoaded&&(this.backgroundImage||this.backgroundColor))this.backgroundLoaded=!1,this.fileType=e,this.fileName=t,this.saveBackground(!1);else if("Svg"===e)this.toSVG(t=t||"Signature");else if("Jpeg"===e)if(t=t||"Signature",!this.saveWithBackground||this.saveWithBackground&&!this.backgroundImage&&!this.backgroundColor)this.toJPEG(t);else{const i=this.canvasContext.canvas.toDataURL("image/jpeg");this.download(this.getBlob(i),t+".jpeg")}else{t=t||"Signature";const i=this.canvasContext.canvas.toDataURL("image/png");this.download(this.getBlob(i),t+".png")}this.saveWithBackground&&this.backgroundLoaded&&this.resetSnap()}resetSnap(){this.canvasContext.clearRect(0,0,this.canvasContext.canvas.width,this.canvasContext.canvas.height);const e=this,t=new Image;t.src=this.snapColl[this.incStep-1],t.onload=()=>{e.canvasContext.drawImage(t,0,0,e.element.width,e.element.height),e.updateSnapCollection()},this.backgroundLoaded=null,this.snapColl.pop(),this.incStep--,this.snapColl.pop(),this.incStep--}toJPEG(e){const t=this.snapColl[this.incStep];this.setBackgroundColor("#ffffff");const i=this,n=new Image;n.crossOrigin="anonymous",n.src=t,n.onload=()=>{i.canvasContext.globalCompositeOperation="source-over",i.canvasContext.drawImage(n,0,0,i.element.width,i.element.height);const s=i.canvasContext.canvas.toDataURL("image/jpeg");i.download(i.getBlob(s),e+".jpeg"),i.canvasContext.clearRect(0,0,i.canvasContext.canvas.width,i.canvasContext.canvas.height),this.resizeHandler()},this.snapColl.pop(),this.incStep--}toSVG(e){const t=this.canvasContext.canvas.toDataURL(),i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width",this.canvasContext.canvas.width.toString()),i.setAttribute("height",this.canvasContext.canvas.height.toString());const s=document.createElementNS("http://www.w3.org/2000/svg","image");s.setAttributeNS(null,"height",this.canvasContext.canvas.height.toString()),s.setAttributeNS(null,"width",this.canvasContext.canvas.width.toString()),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),i.appendChild(s);const u="data:image/svg+xml;base64,"+btoa(`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${this.canvasContext.canvas.width}" height="${this.canvasContext.canvas.height}">`+i.innerHTML+"</svg>");return null==e?u:(this.download(this.getBlob(u),e+".svg"),null)}saveAsBlob(){return this.getBlob(this.canvasContext.canvas.toDataURL("image/png"))}getSignature(e){if("Jpeg"===e){const t=this.canvasContext.getImageData(0,0,this.element.width,this.element.height),i=t.data;for(let s=0;s<i.length;s+=4)i[s+3]<255&&(i[s]=255-i[s],i[s+1]=255-i[s+1],i[s+2]=255-i[s+2],i[s+3]=255-i[s+3]);this.canvasContext.putImageData(t,0,0);const n=this.canvasContext.canvas.toDataURL("image/jpeg");return this.resizeHandler(),n}return"Svg"===e?this.toSVG(null):this.canvasContext.canvas.toDataURL("image/png")}getModuleName(){return"signature"}getPersistData(){return this.signatureValue=this.snapColl[this.incStep],this.addOnPersist(["signatureValue"])}destroy(){this.unwireEvents(null),T([this.element],"e-"+this.getModuleName()),this.element.removeAttribute("tabindex"),this.pointColl=null,super.destroy()}propertyChanged(e,t){const i=this.canvasContext;switch(e){case"backgroundColor":i.canvas.style.backgroundColor=t,this.backgroundColor=t;break;case"backgroundImage":i.canvas.style.backgroundImage="url("+t+")",this.backgroundImage=t;break;case"strokeColor":i.fillStyle=t,this.strokeColor=t;break;case"saveWithBackground":this.saveWithBackground=t;break;case"maxStrokeWidth":this.maxStrokeWidth=t;break;case"minStrokeWidth":this.minStrokeWidth=t;break;case"velocity":this.velocity=t;break;case"isReadOnly":this.isRead(t);break;case"disabled":this.enableOrDisable(t)}}}var Ja=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ma=class extends FSe{constructor(e,t){super(e,t)}preRender(){}render(){this.initialize()}initialize(){_([this.element],"e-"+this.getModuleName()),super.initialize(this.element),this.enablePersistence&&this.loadPersistedSignature()}getModuleName(){return"signature"}getPersistData(){return this.addOnPersist(["signatureValue"])}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"backgroundColor":super.propertyChanged(i,e.backgroundColor);break;case"backgroundImage":super.propertyChanged(i,e.backgroundImage);break;case"strokeColor":e.strokeColor!==t.strokeColor&&super.propertyChanged(i,e.strokeColor);break;case"saveWithBackground":super.propertyChanged(i,e.saveWithBackground);break;case"isReadOnly":super.propertyChanged(i,e.isReadOnly);break;case"disabled":super.propertyChanged(i,e.disabled)}}};Ja([y("")],Ma.prototype,"backgroundColor",void 0),Ja([y("")],Ma.prototype,"backgroundImage",void 0),Ja([y(!1)],Ma.prototype,"disabled",void 0),Ja([y(!1)],Ma.prototype,"isReadOnly",void 0),Ja([y(!0)],Ma.prototype,"saveWithBackground",void 0),Ja([y("#000000")],Ma.prototype,"strokeColor",void 0),Ja([y(.5)],Ma.prototype,"minStrokeWidth",void 0),Ja([y(2)],Ma.prototype,"maxStrokeWidth",void 0),Ja([y(.7)],Ma.prototype,"velocity",void 0),Ja([y("en-US")],Ma.prototype,"locale",void 0),Ja([y(!1)],Ma.prototype,"enableRtl",void 0),Ja([y(!1)],Ma.prototype,"enablePersistence",void 0),Ja([E()],Ma.prototype,"beforeSave",void 0),Ja([E()],Ma.prototype,"change",void 0),Ja([E()],Ma.prototype,"created",void 0),Ma=Ja([Pi],Ma);let Ti={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};var Cn;function bb(r,e){const t={};if(h(r)||"string"==typeof r||"number"==typeof r||!h(r.isHeader))return r;for(const i of Object.keys(e)){const n=e[i],s=h(n)||"string"!=typeof n?void 0:M(n,r);h(s)||(t[n]=s)}return t}function YD(r){if(r)try{return document.querySelector(r)?ci(document.querySelector(r).innerHTML.trim()):ci(r)}catch(e){return ci(r)}}!function(r){r.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};const e={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},t={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:r.defaultMappedFields,ariaAttributes:e,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function n(z,Re,ye,le,ge){return ae(z,s(z,Re,ye,le,ge),null,le)}function s(z,Re,ye,le,ge){const Y=[],U=O({},t,le);Ti=P(U.moduleName);const ce=b();for(let Be=0;Be<Re.length;Be++){if(h(Re[Be]))continue;let Ge;U.itemCreating&&"function"==typeof U.itemCreating&&U.itemCreating({dataSource:Re,curData:Re[Be],text:Re[Be],options:U}),Ge=ye?k(z,Re[Be],void 0,null,null,[],null,ce,Be,le):oe(z,Re[Be],void 0,null,null,le,ge),U.itemCreated&&"function"==typeof U.itemCreated&&U.itemCreated({dataSource:Re,curData:Re[Be],text:Re[Be],item:Ge,options:U}),Y.push(Ge)}return Y}function o(z,Re,ye,le,ge,Y){const U=O({},t,ye);Ti=P(U.moduleName);const ce=!Y||"listview"!==Y.getModuleName()&&"multiselect"!==Y.getModuleName()?O({},r.defaultMappedFields,U.fields):U.fields,Be=O({},e,U.ariaAttributes);let Ge,jt=[];le&&(Be.level=le);const Wt=[];let Mi,ri;Re&&Re.length&&!h(f(Re).item)&&!f(Re).item.hasOwnProperty(ce.id)&&(Ge=b());for(let Ai=0;Ai<Re.length;Ai++){let zt=bb(Re[Ai],ce);if(h(Re[Ai]))continue;U.itemCreating&&"function"==typeof U.itemCreating&&U.itemCreating({dataSource:Re,curData:Re[Ai],text:zt[ce.text],options:U,fields:ce});const ne=Re[Ai];U.itemCreating&&"function"==typeof U.itemCreating&&(zt=bb(Re[Ai],ce)),zt.hasOwnProperty(ce.id)&&!h(zt[ce.id])&&(Ge=zt[ce.id]);const we=[];if(U.showCheckBox&&(U.itemNavigable&&(zt[ce.url]||zt[ce.urlAttributes])?jt.push(z("input",{className:Ti.check,attrs:{type:"checkbox"}})):we.push(z("input",{className:Ti.check,attrs:{type:"checkbox"}}))),!0===ge)U.showIcon&&zt.hasOwnProperty(ce.iconCss)&&!h(zt[ce.iconCss])&&we.push(z("span",{className:Ti.icon+" "+zt[ce.iconCss]})),Mi=k(z,ne,zt,ce,U.itemClass,we,!(!ne.hasOwnProperty("isHeader")||!ne.isHeader),Ge,Ai,ye),ri=Mi.querySelector("."+Ti.anchorWrap),U.itemNavigable&&jt.length&&oo(jt,Mi.firstElementChild);else{if(Mi=oe(z,ne,zt,ce,U.itemClass,ye,Y),Mi.classList.add(Ti.level+"-"+Be.level),Mi.setAttribute("aria-level",Be.level.toString()),ri=Mi.querySelector("."+Ti.anchorWrap),zt.hasOwnProperty(ce.tooltip)&&Mi.setAttribute("title",zt[ce.tooltip]),zt.hasOwnProperty(ce.htmlAttributes)&&zt[ce.htmlAttributes]&&m(Mi,zt[ce.htmlAttributes]),zt.hasOwnProperty(ce.enabled)&&!1===zt[ce.enabled]&&Mi.classList.add(Ti.disabled),zt.hasOwnProperty(ce.isVisible)&&!1===zt[ce.isVisible]&&(Mi.style.display="none"),zt.hasOwnProperty(ce.imageUrl)&&!h(zt[ce.imageUrl])&&!U.template){const ot={src:zt[ce.imageUrl]};Nr(ot,zt[ce.imageAttributes]);const Vt=z("img",{className:Ti.image,attrs:ot});ri?ri.insertAdjacentElement("afterbegin",Vt):oo([Vt],Mi.firstElementChild)}if(U.showIcon&&zt.hasOwnProperty(ce.iconCss)&&!h(zt[ce.iconCss])&&!U.template){const ot=z("div",{className:Ti.icon+" "+zt[ce.iconCss]});ri?ri.insertAdjacentElement("afterbegin",ot):oo([ot],Mi.firstElementChild)}we.length&&oo(we,Mi.firstElementChild),U.itemNavigable&&jt.length&&oo(jt,Mi.firstElementChild),I(z,zt,ce,0,U,Mi,Be.level)}ri&&_([Mi],[Ti.navigable]),U.itemCreated&&"function"==typeof U.itemCreated&&U.itemCreated({dataSource:Re,curData:Re[Ai],text:zt[ce.text],item:Mi,options:U,fields:ce}),jt=[],Wt.push(Mi)}return Wt}function l(z,Re,ye,le,ge,Y){const U=O({},t,ye);return ae(z,o(z,Re,ye,le,ge,Y),U.listClass,ye)}function c(z,Re){if(Re&&z){let ye=Re;return ye=Array.prototype.slice.call(Re),ye.indexOf(z)}}function u(z,Re,ye=new Ze){if("Ascending"===z)ye.sortBy(Re,"ascending",!0);else if("Descending"===z)ye.sortBy(Re,"descending",!0);else for(let le=0;le<ye.queries.length;le++)"onSortBy"===ye.queries[le].fn&&ye.queries.splice(le,1);return ye}function p(z,Re){return new ie(z).executeLocal(Re)}function f(z){for(let ye=0;ye<z.length;ye++)if(!h(z[ye]))return{typeof:typeof z[ye],item:z[ye]};return{typeof:null,item:null}}function m(z,Re){const ye={};Nr(ye,Re),ye.class&&(_([z],ye.class.split(" ")),delete ye.class),Le(z,ye)}function v(z){const Re={},ye=z.attributes;for(let le=0;le<ye.length;le++)Re[ye[le].nodeName]=ye[le].nodeValue;return Re}function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function I(z,Re,ye,le,ge,Y,U){const ce=Re[ye.child]||[];let Be=Re[ye.hasChildren];if(ce.length&&(Be=!0,Y.classList.add(Ti.hasChild),ge.processSubChild)){const Ge=l(z,ce,ge,++U);Y.appendChild(Ge)}ge.expandCollapse&&Be&&!ge.template&&(Y.firstElementChild.classList.add(Ti.iconWrapper),("Left"===ge.expandIconPosition?oo:Jt)([z("div",{className:"e-icons "+ge.expandIconClass})],Y.querySelector("."+Ti.textContent)))}function k(z,Re,ye,le,ge,Y,U,ce,Be,Ge){const jt=O({},t,Ge),Wt=O({},e,jt.ariaAttributes);let Ai,zt,Mi=Re,ri=Re;"string"!=typeof Re&&"number"!=typeof Re&&"boolean"!=typeof Re&&(Ai=Re,Mi="boolean"==typeof ye[le.text]||"number"==typeof ye[le.text]?ye[le.text]:ye[le.text]||"",ri=ye[le.value]),zt=h(Ai)||h(ye[le.id])||""===ye[le.id]?ce+"-"+Be:ce;const ne=z("li",{className:(!0===U?Ti.group:Ti.li)+" "+(h(ge)?"":ge),id:zt,attrs:""!==Wt.groupItemRole&&""!==Wt.itemRole?{role:!0===U?Wt.groupItemRole:Wt.itemRole}:{}});return Ai&&ye.hasOwnProperty(le.enabled)&&"false"===ye[le.enabled].toString()&&ne.classList.add(Ti.disabled),U?ne.innerText=Mi:(ne.setAttribute("data-value",h(ri)?"null":ri),ne.setAttribute("role","option"),Ai&&ye.hasOwnProperty(le.htmlAttributes)&&ye[le.htmlAttributes]&&m(ne,ye[le.htmlAttributes]),Y.length&&!jt.itemNavigable&&Jt(Y,ne),Ai&&(ye[le.url]||ye[le.urlAttributes]&&ye[le.urlAttributes].href)?ne.appendChild(W(z,Ai,le,Mi,Y,jt.itemNavigable)):(Y.length&&jt.itemNavigable&&Jt(Y,ne),ne.appendChild(document.createTextNode(Mi)))),ne}function P(z){return{li:`e-${z}-item`,ul:`e-${z}-parent e-ul`,group:`e-${z}-group-item`,icon:`e-${z}-icon`,text:`e-${z}-text`,check:`e-${z}-check`,checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:`e-${z}-url`,collapsible:"e-icon-collapsible",disabled:"e-disabled",image:`e-${z}-img`,iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function W(z,Re,ye,le,ge,Y){const U=bb(Re,ye),ce={href:U[ye.url]};let Be;if(U.hasOwnProperty(ye.urlAttributes)&&U[ye.urlAttributes]&&(Nr(ce,U[ye.urlAttributes]),ce.href=U[ye.url]?U[ye.url]:U[ye.urlAttributes].href),Y){Be=z("a",{className:Ti.text+" "+Ti.url});const Ge=z("div",{className:Ti.anchorWrap});ge&&ge.length&&Jt(ge,Ge),Ge.appendChild(document.createTextNode(le)),Jt([Ge],Be)}else Be=z("a",{className:Ti.text+" "+Ti.url,innerHTML:le});return m(Be,ce),Be}function oe(z,Re,ye,le,ge,Y,U){const ce=O({},t,Y),Be=O({},e,ce.ariaAttributes);let jt,Wt,Mi,Ge=Re;"string"!=typeof Re&&"number"!=typeof Re&&(Mi=Re,Ge=ye[le.text]||"",jt=h(ye._id)?ye[le.id]:ye._id,Wt=!(!Re.hasOwnProperty("isHeader")||!Re.isHeader)),Y&&Y.enableHtmlSanitizer&&(Ge=Ge);const ri=z("li",{className:(!0===Wt?Ti.group:Ti.li)+" "+(h(ge)?"":ge),attrs:""!==Be.groupItemRole&&""!==Be.itemRole?{role:!0===Wt?Be.groupItemRole:Be.itemRole}:{}});if(h(jt)?ri.setAttribute("data-uid",b()):ri.setAttribute("data-uid",jt),Wt&&Y&&Y.groupTemplate){const Ai=YD(Y.groupTemplate);if(U&&"listview"!==U.getModuleName()){const zt=Ai(Re,U,"groupTemplate",ce.groupTemplateID,!!ce.isStringTemplate,null,ri);zt&&Jt(zt,ri)}else Jt(Ai(Re,U,"groupTemplate",ce.groupTemplateID,!!ce.isStringTemplate),ri)}else if(!Wt&&Y&&Y.template){const Ai=YD(Y.template);if(U&&"listview"!==U.getModuleName()){const zt=Ai(Re,U,"template",ce.templateID,!!ce.isStringTemplate,null,ri);zt&&Jt(zt,ri)}else Jt(Ai(Re,U,"template",ce.templateID,!!ce.isStringTemplate),ri)}else{const Ai=z("div",{className:Ti.textContent,attrs:""!==Be.wrapperRole?{role:Be.wrapperRole}:{}});if(Mi&&(ye[le.url]||ye[le.urlAttributes]&&ye[le.urlAttributes].href))Ai.appendChild(W(z,Mi,le,Ge,null,ce.itemNavigable));else{const zt=z("span",{className:Ti.text,attrs:""!==Be.itemText?{role:Be.itemText}:{}});Y&&Y.enableHtmlSanitizer?zt.innerText=Ge:zt.innerHTML=Ge,Ai.appendChild(zt)}ri.appendChild(Ai)}return ri}function ae(z,Re,ye,le){const ge=O({},t,le),Y=O({},e,ge.ariaAttributes);Ti=P(ge.moduleName);const U=z("ul",{className:Ti.ul+" "+(h(ye)?"":ye),attrs:""!==Y.listRole?{role:Y.listRole}:{}});return Jt(Re,U),U}r.createList=function i(z,Re,ye,le,ge){const Y=O({},t,ye),U=O({},e,Y.ariaAttributes),ce=f(Re).typeof;return"string"===ce||"number"===ce?n(z,Re,le,ye,ge):l(z,Re,ye,U.level,le,ge)},r.createListFromArray=n,r.createListItemFromArray=s,r.createListItemFromJson=o,r.createListFromJson=l,r.getSiblingLI=function a(z,Re,ye){if(Ti=P(t.moduleName),!z||!z.length)return;let le,ge;const Y=Array.prototype.slice.call(z);for(ge=Re?c(Re,Y):!0===ye?Y.length:-1,le=Y[ge+(!0===ye?-1:1)];le&&(!Vr(le)||le.classList.contains(Ti.disabled));)ge+=!0===ye?-1:1,le=Y[ge];return le},r.indexOf=c,r.groupDataSource=function d(z,Re,ye="None"){const le=O({},r.defaultMappedFields,Re);let ge=(new Ze).group(le.groupBy);ge=u(ye,"key",ge);const Y=p(z,ge);z=[];for(let U=0;U<Y.length;U++){const ce=Y[U].items,Be={},Ge="isHeader";Be[le.text]=Y[U].key,Be[Ge]=!0;let jt=le.text;"id"===jt&&(jt="text",Be[jt]=Y[U].key),Be._id="group-list-item-"+(Y[U].key?Y[U].key.toString().trim():"undefined"),Be.items=ce,z.push(Be);for(let Wt=0;Wt<ce.length;Wt++)z.push(ce[Wt])}return z},r.addSorting=u,r.getDataSource=p,r.createJsonFromElement=function g(z,Re){const ye=O({},t,Re),le=O({},r.defaultMappedFields,ye.fields),ge=z.cloneNode(!0),Y=[];ge.classList.add("json-parent");const U=ge.querySelectorAll(".json-parent>li");ge.classList.remove("json-parent");for(let ce=0;ce<U.length;ce++){const Be=U[ce],Ge=Be.querySelector("a"),jt=Be.querySelector("ul"),Wt={},Mi=Ge?Ge.childNodes:Be.childNodes,ri=Object.keys(Mi);for(let zt=0;zt<Mi.length;zt++)Mi[Number(ri[zt])].hasChildNodes()||(Wt[le.text]=Mi[Number(ri[zt])].textContent);let Ai=v(Be);Ai.id?(Wt[le.id]=Ai.id,delete Ai.id):Wt[le.id]=b(),Object.keys(Ai).length&&(Wt[le.htmlAttributes]=Ai),Ge&&(Ai=v(Ge),Object.keys(Ai).length&&(Wt[le.urlAttributes]=Ai)),jt&&(Wt[le.child]=g(jt,Re)),Y.push(Wt)}return Y},r.renderContentTemplate=function x(z,Re,ye,le,ge,Y){Ti=P(t.moduleName);const U=z("ul",{className:Ti.ul,attrs:{role:"presentation"}}),ce=O({},t,ge),Be=O({},r.defaultMappedFields,le),Ge=YD(Re),jt=[];let Wt;const Mi=b();for(let ri=0;ri<ye.length;ri++){let Ai=bb(ye[ri],Be);const zt=ye[ri],ne=zt.isHeader;Wt="string"==typeof ye[ri]||"number"==typeof ye[ri]?zt:Ai[Be.value],ce.itemCreating&&"function"==typeof ce.itemCreating&&ce.itemCreating({dataSource:ye,curData:zt,text:Wt,options:ce,fields:Be}),ce.itemCreating&&"function"==typeof ce.itemCreating&&(Ai=bb(ye[ri],Be),Wt="string"==typeof ye[ri]||"number"==typeof ye[ri]?zt:Ai[Be.value]);const we=z("li",{id:Mi+"-"+ri,className:ne?Ti.group:Ti.li,attrs:{role:"presentation"}});if(ne)we.innerText="string"==typeof ye[ri]||"number"==typeof ye[ri]?zt:Ai[Be.text];else{const ot=ne?ce.groupTemplateID:ce.templateID;if(ne)if(Y&&"listview"!=Y.getModuleName()){const Vt=Ge(zt,Y,"headerTemplate",ot,!!ce.isStringTemplate,null,we);Vt&&Jt(Vt,we)}else Jt(Ge(zt,Y,"headerTemplate",ot,!!ce.isStringTemplate),we);else if(Y&&"listview"!==Y.getModuleName()){const Vt=Ge(zt,Y,"template",ot,!!ce.isStringTemplate,null,we);Vt&&Jt(Vt,we)}else Jt(Ge(zt,Y,"template",ot,!!ce.isStringTemplate),we);we.setAttribute("data-value",h(Wt)?"null":Wt),we.setAttribute("role","option")}ce.itemCreated&&"function"==typeof ce.itemCreated&&ce.itemCreated({dataSource:ye,curData:zt,text:Wt,item:we,options:ce,fields:Be}),jt.push(we)}return Jt(jt,U),U},r.renderGroupTemplate=function w(z,Re,ye,le,ge,Y){const U=YD(z),ce=O({},r.defaultMappedFields,ye),Be=O({},t,ge),Ge=ce.groupBy;for(const jt of le){const Wt={};if(Wt[Ge]=jt.textContent,jt.innerHTML="",Y&&"listview"!==Y.getModuleName()){const Mi=U(Wt,Y,"groupTemplate",Be.groupTemplateID,!!Be.isStringTemplate,null,jt);Mi&&Jt(Mi,jt)}else Jt(U(Wt,Y,"groupTemplate",Be.groupTemplateID,!!Be.isStringTemplate),jt)}return le},r.generateId=b,r.generateUL=ae,r.generateIcon=function xe(z,Re,ye,le){const ge=O({},t,le);return Ti=P(ge.moduleName),("Left"===ge.expandIconPosition?oo:Jt)([z("div",{className:"e-icons "+ge.expandIconClass+" "+(h(ye)?"":ye)})],Re.querySelector("."+Ti.textContent)),Re}}(Cn||(Cn={}));var cL,pu=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let kd=cL=class extends lu{constructor(e,t){super(t,e),this.getHelper=i=>{let s,n=this.getSortableElement(i.sender.target);return!!this.isValidTarget(n,this)&&(this.helper?s=this.helper({sender:n,element:i.element}):(s=n.cloneNode(!0),s.style.width=`${n.offsetWidth}px`,s.style.height=`${n.offsetHeight}px`),_([s],["e-sortableclone"]),document.body.appendChild(s),s)},this.onDrag=i=>{if(!i.target)return;this.trigger("drag",{event:i.event,element:this.element,target:i.target});let n=this.getSortableInstance(i.target),s=this.getSortableElement(i.target,n);if((this.isValidTarget(s,n)||i.target.className.indexOf("e-list-group-item")>-1)&&(this.curTarget!==s||!h(n.placeHolder))&&(!n.placeHolderElement||n.placeHolderElement!==i.target)){if(i.target.className.indexOf("e-list-group-item")>-1&&(s=i.target),this.curTarget=s,this.target===s)return;let o=this.getIndex(n.placeHolderElement,n);const l=this.getPlaceHolder(s,n);let a;if(l){o=h(o)?this.getIndex(this.target):o,a=this.getIndex(s,n,i.event);const c=this.isPlaceHolderPresent(n);if(c&&o===a)return;c&&X(n.placeHolderElement),n.placeHolderElement=l,i.target.className.indexOf("e-list-group-item")>-1?n.element.insertBefore(n.placeHolderElement,n.element.children[a]):n.element!==this.element&&a===n.element.childElementCount?n.element.appendChild(n.placeHolderElement):n.element.insertBefore(n.placeHolderElement,n.element.children[a]),this.refreshDisabled(o,a,n)}else{o=h(o)?this.getIndex(this.target):this.getIndex(s,n)<o||!o?o:o-1,a=this.getIndex(s,n);const c=n.element!==this.element?a:o<a?a+1:a;this.updateItemClass(n),n.element.insertBefore(this.target,n.element.children[c]),this.refreshDisabled(o,a,n),this.curTarget=this.target,this.trigger("drop",{droppedElement:this.target,element:n.element,previousIndex:o,currentIndex:a,target:i.target,helper:document.getElementsByClassName("e-sortableclone")[0],event:i.event,scope:this.scope})}}if(n=this.getSortableInstance(this.curTarget),h(s)&&i.target!==n.placeHolderElement)this.isPlaceHolderPresent(n)&&this.removePlaceHolder(n);else{let l;[].slice.call(document.getElementsByClassName("e-sortable-placeholder")).forEach(a=>{l=this.getSortableInstance(a),l.element&&l!==n&&this.removePlaceHolder(l)})}},this.onDragStart=i=>{this.target=this.getSortableElement(i.target);let n=!1;this.target.classList.add("e-grabbed"),this.curTarget=this.target,i.helper=document.getElementsByClassName("e-sortableclone")[0],this.trigger("beforeDragStart",{cancel:!1,element:this.element,target:this.target},o=>{o.cancel&&(n=o.cancel,this.onDragStop(i))}),!n&&this.trigger("dragStart",ii?{event:i.event,element:this.element,target:this.target,bindEvents:i.bindEvents,dragElement:i.dragElement}:{event:i.event,element:this.element,target:this.target})},this.onDragStop=i=>{let s,o,l,n=this.getSortableInstance(this.curTarget);s=this.getIndex(this.target);const a=this.isPlaceHolderPresent(n);if(a){const c=this.getIndex(n.placeHolderElement,n);this.trigger("beforeDrop",{previousIndex:s,currentIndex:c,target:i.target,droppedElement:this.target,helper:i.helper,cancel:!1,handled:!1},u=>{if(!u.cancel){if(l=u.handled,this.updateItemClass(n),u.handled){const g=this.target.cloneNode(!0);this.target.classList.remove("e-grabbed"),this.target=g}n.element.insertBefore(this.target,n.placeHolderElement);const p=this.getIndex(this.target,n);s=this===n&&s-p>1?s-1:s,this.trigger("drop",{event:i.event,element:n.element,previousIndex:s,currentIndex:p,target:i.target,helper:i.helper,droppedElement:this.target,scopeName:this.scope,handled:l})}X(n.placeHolderElement)})}n=this.getSortableInstance(i.target),o=n.element.childElementCount,s=this.getIndex(this.target),(n.element===i.target||!a&&this.curTarget===this.target)&&this.trigger("beforeDrop",{previousIndex:s,currentIndex:this.curTarget===this.target?s:o,target:i.target,droppedElement:this.target,helper:i.helper,cancel:!1},d=>{n.element===i.target&&!d.cancel&&(this.updateItemClass(n),n.element.appendChild(this.target),this.trigger("drop",{event:i.event,element:n.element,previousIndex:s,currentIndex:o,target:i.target,helper:i.helper,droppedElement:this.target,scopeName:this.scope}))}),this.target.classList.remove("e-grabbed"),this.target=null,this.curTarget=null,X(i.helper),la(this.element,Yn).intDestroy(i.event)},this.bind()}bind(){this.element.id||(this.element.id=Gn("sortable")),this.itemClass||(this.itemClass="e-sort-item",this.dataBind()),this.initializeDraggable()}initializeDraggable(){new Yn(this.element,{helper:this.getHelper,dragStart:this.onDragStart,drag:this.onDrag,dragStop:this.onDragStop,dragTarget:`.${this.itemClass}`,enableTapHold:!0,tapHoldThreshold:200,queryPositionInfo:this.queryPositionInfo,distance:5})}getPlaceHolder(e,t){if(t.placeHolder){const i=t.placeHolder({element:t.element,grabbedElement:this.target,target:e});return i.classList.add("e-sortable-placeholder"),i}return null}isValidTarget(e,t){return e&&tD(e,t.element)&&e.classList.contains(t.itemClass)&&!e.classList.contains("e-disabled")}removePlaceHolder(e){X(e.placeHolderElement),e.placeHolderElement=null}updateItemClass(e){this!==e&&(this.target.classList.remove(this.itemClass),this.target.classList.add(e.itemClass))}getSortableInstance(e){if(e=D(e,`.e-${this.getModuleName()}`)){const t=la(e,cL);return t.scope&&this.scope&&t.scope===this.scope?t:this}return this}refreshDisabled(e,t,i){if(i===this){let n;const s=e<t;let o,l=s?e:t;const a=s?t:e;for(;l<=a;)n=this.element.children[l],n.classList.contains("e-disabled")?(o=this.getIndex(n),this.element.insertBefore(n,this.element.children[s?o+2:o-1]),l=s?o+2:o+1):l++}}getIndex(e,t=this,i){let n,s;return[].slice.call(t.element.children).forEach((o,l)=>{if(o.classList.contains("e-sortable-placeholder")&&(s=!0),o!==e);else if(n=l,!h(i)){s&&(n-=1);const a=e.getBoundingClientRect();n=i.clientY<=a.bottom-(a.bottom-a.top)/2?n:n+1}}),n}getSortableElement(e,t=this){return D(e,`.${t.itemClass}`)}queryPositionInfo(e){return e.left=pageXOffset?parseFloat(e.left)-pageXOffset+"px":e.left,e.top=pageYOffset?parseFloat(e.top)-pageYOffset+"px":e.top,e}isPlaceHolderPresent(e){return e.placeHolderElement&&!!D(e.placeHolderElement,`#${e.element.id}`)}moveTo(e,t,i){QD(this.element,e,t,i)}destroy(){"e-sort-item"===this.itemClass&&(this.itemClass=null,this.dataBind()),la(this.element,Yn).destroy(),super.destroy()}getModuleName(){return"sortable"}onPropertyChanged(e,t){for(const i of Object.keys(e))"itemClass"===i&&[].slice.call(this.element.children).forEach(n=>{n.classList.contains(t.itemClass)&&n.classList.remove(t.itemClass),e.itemClass&&n.classList.add(e.itemClass)})}};function QD(r,e,t,i){let n=[];if(e||(e=r),t&&t.length?t.forEach(s=>{n.push(r.children[s])}):n=[].slice.call(r.children),h(i))n.forEach(s=>{e.appendChild(s)});else{const s=e.children[i];n.forEach(o=>{e.insertBefore(o,s)})}}pu([y(!1)],kd.prototype,"enableAnimation",void 0),pu([y(null)],kd.prototype,"itemClass",void 0),pu([y(null)],kd.prototype,"scope",void 0),pu([y()],kd.prototype,"helper",void 0),pu([y()],kd.prototype,"placeHolder",void 0),pu([E()],kd.prototype,"drag",void 0),pu([E()],kd.prototype,"beforeDragStart",void 0),pu([E()],kd.prototype,"dragStart",void 0),pu([E()],kd.prototype,"beforeDrop",void 0),pu([E()],kd.prototype,"drop",void 0),kd=cL=pu([Pi],kd);var FU=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const n0="e-rtl",Cf="e-overlay",_b="e-nav-arrow",Sb="e-nav-right-arrow",XD="e-nav-left-arrow",s0="e-scroll-nav",dL="e-scroll-right-nav",PU="e-scroll-left-nav",LU="e-scroll-device",JD="e-scroll-overlay",hL="e-scroll-right-overlay",uL="e-scroll-left-overlay";let pL=(()=>{let r=class extends an{constructor(t,i){super(t,i)}preRender(){this.browser=A.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=A.isDevice,this.customStep=!0;const t=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===t.id&&(t.id=Gn("hscroll"),this.uniqueId=!0),t.style.display="block",this.enableRtl&&t.classList.add(n0)}render(){this.touchModule=new Qr(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),C.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(LU),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()}setScrollState(){h(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0}initialize(){const t=this.createElement("div",{className:"e-hscroll-content"}),i=this.createElement("div",{className:"e-hscroll-bar"});i.setAttribute("tabindex","-1");const n=this.element,s=[].slice.call(n.children);for(const o of s)t.appendChild(o);i.appendChild(t),n.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=t}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"hScroll"}destroy(){const t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove(LU);const i=gt(".e-"+t.id+"_nav."+s0,t),n=gt("."+JD,t);[].slice.call(n).forEach(s=>{de(s)});for(const s of[].slice.call(this.scrollItems.children))t.appendChild(s);this.uniqueId&&this.element.removeAttribute("id"),de(this.scrollEle),i.length>0&&(de(i[0]),h(i[1])||de(i[1])),C.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(t){const i=gt(".e-scroll-nav:not(."+Cf+")",this.element);t?this.element.classList.add(Cf):this.element.classList.remove(Cf),[].slice.call(i).forEach(n=>{n.setAttribute("tabindex",t?"-1":"0")})}createOverlay(t){const i=t.id.concat("_nav"),n=this.createElement("div",{className:JD+" "+hL}),s="e-"+t.id.concat("_nav "+s0+" "+dL),o=this.createElement("div",{id:i.concat("_right"),className:s}),l=this.createElement("div",{className:Sb+" "+_b+" e-icons"});o.appendChild(l);const a=this.createElement("div",{className:JD+" "+uL});this.ieCheck&&o.classList.add("e-ie-align"),t.appendChild(n),t.appendChild(o),t.insertBefore(a,t.firstChild),this.eventBinding([o])}createNavIcon(t){const i=t.id.concat("_nav"),n="e-"+t.id.concat("_nav "+s0+" "+dL),s={role:"button",id:i.concat("_right"),"aria-label":"Scroll right"},o=this.createElement("div",{className:n,attrs:s});o.setAttribute("aria-disabled","false");const l=this.createElement("div",{className:Sb+" "+_b+" e-icons"}),a="e-"+t.id.concat("_nav "+s0+" "+PU),c={role:"button",id:i.concat("_left"),"aria-label":"Scroll left"},d=this.createElement("div",{className:a+" "+Cf,attrs:c});d.setAttribute("aria-disabled","true");const u=this.createElement("div",{className:XD+" "+_b+" e-icons"});d.appendChild(u),o.appendChild(l),t.appendChild(o),t.insertBefore(d,t.firstChild),this.ieCheck&&(o.classList.add("e-ie-align"),d.classList.add("e-ie-align")),this.eventBinding([o,d])}onKeyPress(t){if("Enter"===t.key){const i=()=>{this.keyTimeout=!0,this.eleScrolling(10,t.target,!0)};this.keyTimer=window.setTimeout(()=>{i()},100)}}onKeyUp(t){"Enter"===t.key&&(this.keyTimeout?this.keyTimeout=!1:t.target.click(),clearTimeout(this.keyTimer))}eventBinding(t){[].slice.call(t).forEach(i=>{new Qr(i,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),i.addEventListener("keydown",this.onKeyPress.bind(this)),i.addEventListener("keyup",this.onKeyUp.bind(this)),i.addEventListener("mouseup",this.repeatScroll.bind(this)),i.addEventListener("touchend",this.repeatScroll.bind(this)),i.addEventListener("contextmenu",n=>{n.preventDefault()}),C.add(i,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(t){let i=t.originalEvent.target;i=this.contains(i,s0)?i.firstElementChild:i;const s=()=>{this.eleScrolling(10,i,!0)};this.timeout=window.setInterval(()=>{s()},50)}contains(t,i){return t.classList.contains(i)}eleScrolling(t,i,n){const s=this.element;let o=i.classList;o.contains(s0)&&(o=i.querySelector("."+_b).classList),this.contains(s,n0)&&this.browserCheck&&(t=-t),!this.contains(s,n0)||this.browserCheck||this.ieCheck?o.contains(Sb)?this.frameScrollRequest(t,"add",n):this.frameScrollRequest(t,"",n):o.contains(XD)?this.frameScrollRequest(t,"add",n):this.frameScrollRequest(t,"",n)}clickEventHandler(t){this.eleScrolling(this.scrollStep,t.target,!1)}swipeHandler(t){const i=this.scrollEle;let n;n=t.velocity<=1?t.distanceX/(10*t.velocity):t.distanceX/t.velocity;let s=.5;const o=()=>{const l=Math.sin(s);l<=0?window.cancelAnimationFrame(l):("Left"===t.swipeDirection?i.scrollLeft+=n*l:"Right"===t.swipeDirection&&(i.scrollLeft-=n*l),s-=.5,window.requestAnimationFrame(o))};o()}scrollUpdating(t,i){"add"===i?this.scrollEle.scrollLeft+=t:this.scrollEle.scrollLeft-=t}frameScrollRequest(t,i,n){if(n)return void this.scrollUpdating(t,i);this.customStep||[].slice.call(gt("."+JD,this.element)).forEach(l=>{t-=l.offsetWidth});const o=()=>{let l,a;this.contains(this.element,n0)&&this.browserCheck?(l=-t,a=-10):(l=t,a=10),l<10?window.cancelAnimationFrame(a):(this.scrollUpdating(a,i),t-=a,window.requestAnimationFrame(o))};o()}touchHandler(t){const i=this.scrollEle;let n=t.distanceX;this.ieCheck&&this.contains(this.element,n0)&&(n=-n),"Left"===t.scrollDirection?i.scrollLeft=i.scrollLeft+n:"Right"===t.scrollDirection&&(i.scrollLeft=i.scrollLeft-n)}arrowDisabling(t,i){if(this.isDevice){const s=(h(t)?i:t).querySelector("."+_b);h(t)?ze(s,[Sb],[XD]):ze(s,[XD],[Sb])}else t&&i&&(t.classList.add(Cf),t.setAttribute("aria-disabled","true"),t.removeAttribute("tabindex"),i.classList.remove(Cf),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0"));this.repeatScroll()}scrollHandler(t){const i=t.target,n=i.offsetWidth,o=this.element.querySelector("."+PU),l=this.element.querySelector("."+dL);let a=this.element.querySelector("."+uL),c=this.element.querySelector("."+hL),d=i.scrollLeft;if(d<=0&&(d=-d),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(a=this.element.querySelector("."+hL),c=this.element.querySelector("."+uL)),a.style.width=d<40?d+"px":"40px",c.style.width=i.scrollWidth-Math.ceil(n+d)<40?i.scrollWidth-Math.ceil(n+d)+"px":"40px"),0===d)this.arrowDisabling(o,l);else if(Math.ceil(n+d+.1)>=i.scrollWidth)this.arrowDisabling(l,o);else{const u=this.element.querySelector("."+s0+"."+Cf);u&&(u.classList.remove(Cf),u.setAttribute("aria-disabled","false"),u.setAttribute("tabindex","0"))}}onPropertyChanged(t,i){for(const n of Object.keys(t))switch(n){case"scrollStep":this.setScrollState();break;case"enableRtl":t.enableRtl?this.element.classList.add(n0):this.element.classList.remove(n0)}}};return FU([y(null)],r.prototype,"scrollStep",void 0),r=FU([Pi],r),r})();var BU=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const gL="e-rtl",wf="e-overlay",Ib="e-nav-arrow",ZD="e-nav-up-arrow",Db="e-nav-down-arrow",r0="e-scroll-nav",NU="e-scroll-up-nav",fL="e-scroll-down-nav",VU="e-scroll-device",e2="e-scroll-overlay",HU="e-scroll-up-overlay",zU="e-scroll-down-overlay";let bf=class extends an{constructor(e,t){super(e,t)}preRender(){this.browser=A.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=A.isDevice,this.customStep=!0;const e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=Gn("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(gL)}render(){this.touchModule=new Qr(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),C.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(VU),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),C.add(this.element,"wheel",this.wheelEventHandler,this)}setScrollState(){h(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0}initialize(){const e=Xe("div",{className:"e-vscroll-content"}),t=Xe("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");const i=this.element,n=[].slice.call(i.children);for(const s of n)e.appendChild(s);t.appendChild(e),i.appendChild(t),t.style.overflow="hidden",this.scrollEle=t,this.scrollItems=e}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"vScroll"}destroy(){const e=this.element;e.style.display="",T([this.element],["e-vscroll",VU]);const t=gt(".e-"+e.id+"_nav."+r0,e),i=gt("."+e2,e);[].slice.call(i).forEach(n=>{de(n)});for(const n of[].slice.call(this.scrollItems.children))e.appendChild(n);this.uniqueId&&this.element.removeAttribute("id"),de(this.scrollEle),t.length>0&&(de(t[0]),h(t[1])||de(t[1])),C.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(e){const t=gt(".e-scroll-nav:not(."+wf+")",this.element);e?this.element.classList.add(wf):this.element.classList.remove(wf),[].slice.call(t).forEach(i=>{i.setAttribute("tabindex",e?"-1":"0")})}createOverlayElement(e){const t=e.id.concat("_nav"),i=Xe("div",{className:e2+" "+zU}),n="e-"+e.id.concat("_nav "+r0+" "+fL),s=Xe("div",{id:t.concat("down"),className:n}),o=Xe("div",{className:Db+" "+Ib+" e-icons"});s.appendChild(o);const l=Xe("div",{className:e2+" "+HU});this.ieCheck&&s.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(s),e.insertBefore(l,e.firstChild),this.eventBinding([s])}createNavIcon(e){const t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+r0+" "+fL),n=Xe("div",{id:t.concat("_down"),className:i});n.setAttribute("aria-disabled","false");const s=Xe("div",{className:Db+" "+Ib+" e-icons"}),o="e-"+e.id.concat("_nav "+r0+" "+NU),l=Xe("div",{id:t.concat("_up"),className:o+" "+wf});l.setAttribute("aria-disabled","true");const a=Xe("div",{className:ZD+" "+Ib+" e-icons"});l.appendChild(a),n.appendChild(s),n.setAttribute("tabindex","0"),e.appendChild(n),e.insertBefore(l,e.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([n,l])}onKeyPress(e){if("Enter"===e.key){const t=()=>{this.keyTimeout=!0,this.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(()=>{t()},100)}}onKeyUp(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}eventBinding(e){[].slice.call(e).forEach(t=>{new Qr(t,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),t.addEventListener("keydown",this.onKeyPress.bind(this)),t.addEventListener("keyup",this.onKeyUp.bind(this)),t.addEventListener("mouseup",this.repeatScroll.bind(this)),t.addEventListener("touchend",this.repeatScroll.bind(this)),t.addEventListener("contextmenu",i=>{i.preventDefault()}),C.add(t,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(e){let t=e.originalEvent.target;t=this.contains(t,r0)?t.firstElementChild:t;const n=()=>{this.eleScrolling(10,t,!0)};this.timeout=window.setInterval(()=>{n()},50)}contains(e,t){return e.classList.contains(t)}eleScrolling(e,t,i){let n=t.classList;n.contains(r0)&&(n=t.querySelector("."+Ib).classList),n.contains(Db)?this.frameScrollRequest(e,"add",i):n.contains(ZD)&&this.frameScrollRequest(e,"",i)}clickEventHandler(e){this.eleScrolling(this.scrollStep,e.target,!1)}wheelEventHandler(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)}swipeHandler(e){const t=this.scrollEle;let i;i=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;let n=.5;const s=()=>{const o=Math.sin(n);o<=0?window.cancelAnimationFrame(o):("Up"===e.swipeDirection?t.scrollTop+=i*o:"Down"===e.swipeDirection&&(t.scrollTop-=i*o),n-=.02,window.requestAnimationFrame(s))};s()}scrollUpdating(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e}frameScrollRequest(e,t,i){if(i)return void this.scrollUpdating(e,t);this.customStep||[].slice.call(gt("."+e2,this.element)).forEach(o=>{e-=o.offsetHeight});const s=()=>{e<10?window.cancelAnimationFrame(10):(this.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(s))};s()}touchHandler(e){const t=this.scrollEle,i=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+i:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-i)}arrowDisabling(e,t){if(this.isDevice){const n=(h(e)?t:e).querySelector("."+Ib);h(e)?ze(n,[Db],[ZD]):ze(n,[ZD],[Db])}else e.classList.add(wf),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(wf),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}scrollEventHandler(e){const t=e.target,i=t.offsetHeight,n=this.element.querySelector("."+NU),s=this.element.querySelector("."+fL),o=this.element.querySelector("."+HU),l=this.element.querySelector("."+zU);let a=t.scrollTop;if(a<=0&&(a=-a),this.isDevice&&(o.style.height=a<40?a+"px":"40px",l.style.height=t.scrollHeight-Math.ceil(i+a)<40?t.scrollHeight-Math.ceil(i+a)+"px":"40px"),0===a)this.arrowDisabling(n,s);else if(Math.ceil(i+a+.1)>=t.scrollHeight)this.arrowDisabling(s,n);else{const c=this.element.querySelector("."+r0+"."+wf);c&&(c.classList.remove(wf),c.setAttribute("aria-disabled","false"),c.setAttribute("tabindex","0"))}}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(gL):this.element.classList.remove(gL)}}};function o0(r,e,t,i,n,s){let o,l;const a=e.parentElement;if("vscroll"===i?(o=s||e.getBoundingClientRect().height,l=t.getBoundingClientRect().height):(o=e.getBoundingClientRect().width,l=t.getBoundingClientRect().width),o<l)return GU(r,e,t,i,n,s);if(a){const c=a.getBoundingClientRect().width;return c<o&&"hscroll"===i?(l=c,e.style.maxWidth=c+"px",GU(r,e,t,i,n,s)):t}return t}function GU(r,e,t,i,n,s){const o=r("div",{className:"e-menu-"+i});let l;return e.appendChild(o),o.appendChild(t),s?(o.style.overflow="hidden",o.style.height=s+"px"):(o.style.maxHeight=e.style.maxHeight,e.style.overflow="hidden"),"vscroll"===i?(l=new bf({enableRtl:n},o),l.scrollStep=G(".e-"+i+"-bar",e).offsetHeight/2):(l=new pL({enableRtl:n},o),l.scrollStep=G(".e-"+i+"-bar",e).offsetWidth),o}function t2(r,e,t){if(r){const i=G(".e-menu-parent",e);i?(!t||t===i)&&(r.destroy(),e.parentElement.appendChild(i),de(e)):(r.destroy(),de(e))}}BU([y(null)],bf.prototype,"scrollStep",void 0),bf=BU([Pi],bf);var ys=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const n2="enter",mL="escape",Eo="e-focused",s2="e-menu-header",Jr="e-selected",r2="e-separator",Eb="uparrow",rg="downarrow",l0="leftarrow",og="rightarrow",Tb="home",o2="end",qU="e-caret",qy="e-menu-item",yL="e-disabled",Wy="e-menu-hide",WU="e-icons",Rb="e-menu-popup";class lg extends Nt{}ys([y("id")],lg.prototype,"itemId",void 0),ys([y("parentId")],lg.prototype,"parentId",void 0),ys([y("text")],lg.prototype,"text",void 0),ys([y("iconCss")],lg.prototype,"iconCss",void 0),ys([y("url")],lg.prototype,"url",void 0),ys([y("separator")],lg.prototype,"separator",void 0),ys([y("items")],lg.prototype,"children",void 0);class gu extends Nt{}ys([y(null)],gu.prototype,"iconCss",void 0),ys([y("")],gu.prototype,"id",void 0),ys([y(!1)],gu.prototype,"separator",void 0),ys([Hr([],gu)],gu.prototype,"items",void 0),ys([y("")],gu.prototype,"text",void 0),ys([y("")],gu.prototype,"url",void 0);class l2 extends Nt{}ys([y("SlideDown")],l2.prototype,"effect",void 0),ys([y(400)],l2.prototype,"duration",void 0),ys([y("ease")],l2.prototype,"easing",void 0);let Uo=class extends an{constructor(e,t){super(e,t),this.navIdx=[],this.animation=new _s({}),this.isTapHold=!1,this.tempItem=[],this.showSubMenuOn="Auto"}preRender(){if(!this.isMenu){let e;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:Gn(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});const t=M("ej2_instances",this.element);T([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,Ne("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:Gn(this.getModuleName())}),Jt([].slice.call(this.element.cloneNode(!0).children),e);const t=this.element.nextElementSibling;t?this.element.parentElement.insertBefore(e,t):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){let e=this.element;const t=M("ej2_instances",e),i=this.createElement("ul"),n=this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"});for(let s=0,o=e.attributes.length;s<o;s++)i.setAttribute(e.attributes[s].nodeName,e.attributes[s].nodeValue);e.parentNode.insertBefore(n,e),de(e),e=i,n.appendChild(e),Ne("ej2_instances",t,e),this.clonedElement=n,this.element=e,this.element.id||(this.element.id=Gn(this.getModuleName()))}}render(){this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete();const e=this.getWrapper();this.template&&this.enableScrolling&&(this.isReact||this.isAngular)&&requestAnimationFrame(()=>{o0(this.createElement,e,this.element,"hscroll",this.enableRtl)})}initialize(){let e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&_([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e)),this.defaultOption=this.showItemOnClick}renderItems(){if(!this.items.length){const t=Cn.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:t},!0),this.element.innerHTML=""}const e=this.createItems(this.items);if(Jt(Array.prototype.slice.call(e.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu&&(!this.hamburgerMode&&this.element.classList.contains("e-vertical")&&this.setBlankIconStyle(this.element),this.enableScrolling)){const t=this.getWrapper();this.element.classList.contains("e-vertical")?o0(this.createElement,t,this.element,"vscroll",this.enableRtl):o0(this.createElement,t,this.element,"hscroll",this.enableRtl)}}wireEvents(){const e=this.getWrapper();if(this.target){let t;const i=gt(this.target);for(let n=0,s=i.length;n<s;n++)t=i[n],this.isMenu?C.add(t,"click",this.menuHeaderClickHandler,this):A.isIos?new Qr(t,{tapHold:this.touchHandler.bind(this)}):C.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){C.add(this.targetElement,"scroll",this.scrollHandler,this);for(const n of oP(this.targetElement))C.add(n,"scroll",this.scrollHandler,this)}}A.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),C.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),C.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),C.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=Ys(e,{selector:"."+qy})}wireKeyboardEvent(e){const t={downarrow:rg,uparrow:Eb,enter:n2,leftarrow:l0,rightarrow:og,escape:mL};this.isMenu&&(t.home=Tb,t.end=o2,t.tab="tab"),new tn(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})}mouseDownHandler(e){D(e.target,".e-"+this.getModuleName()+"-wrapper")!==this.getWrapper()&&!D(e.target,".e-"+this.getModuleName()+"-popup")&&this.closeMenu(this.isMenu?null:this.navIdx.length,e)}keyBoardHandler(e){let t="";const i=e.target;let n=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&i.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([Eo,Jr],[D(i,".e-"+this.getModuleName()+"-wrapper")]),n)switch(e.action){case og:t=og,e.action=rg;break;case l0:t=l0,e.action=Eb;break;case rg:t=rg,e.action=og;break;case Eb:t=Eb,e.action=""}else if(this.enableRtl)switch(e.action){case l0:n=!0,t=l0,e.action=og;break;case og:n=!0,t=og,e.action=l0}switch(e.action){case rg:case Eb:case o2:case Tb:case"tab":this.upDownKeyHandler(e);break;case og:this.rightEnterKeyHandler(e);break;case l0:this.leftEscKeyHandler(e);break;case n2:this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case mL:this.leftEscKeyHandler(e)}n&&(e.action=t)}upDownKeyHandler(e){const t=this.getUlByNavIdx(),i=e.action===rg||e.action===Tb||"tab"===e.action?0:t.childElementCount-1;let n=i;const s=this.getLIByClass(t,Eo);s&&(e.action!==o2&&e.action!==Tb&&(n=this.getIdx(t,s)),s.classList.remove(Eo),e.action!==o2&&e.action!==Tb&&(e.action===rg?n++:n--,n===(e.action===rg?t.childElementCount:-1)&&(n=i))),n=this.isValidLI(t.children[n],n,e.action),t.children[n].classList.add(Eo),t.children[n].focus()}isValidLI(e,t,i){const n=this.getUlByNavIdx();return(e.classList.contains(r2)||e.classList.contains(yL)||e.classList.contains(Wy))&&(i===rg||i===og?t++:t--),((e=n.children[t]).classList.contains(r2)||e.classList.contains(yL)||e.classList.contains(Wy))&&(t=this.isValidLI(e,t,i)),t}getUlByNavIdx(e=this.navIdx.length){if(this.isMenu){const t=[this.getWrapper()].concat([].slice.call(gt("."+Rb)))[e];return h(t)?null:G(".e-menu-parent",t)}return this.getWrapper().children[e]}rightEnterKeyHandler(e){let t;const i=this.getUlByNavIdx(),n=this.getLIByClass(i,Eo);if(n){const s=this.getIdx(i,n),o=this.navIdx.concat(s),l=this.getItem(o);l.items.length?(this.navIdx.push(s),this.keyType="right",this.action=e.action,this.openMenu(n,l,-1,-1,e)):e.action===n2&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([Jr],[this.getWrapper()]):n.classList.remove(Eo),n.classList.add(Jr),t={element:n,item:l,event:e},this.trigger("select",t),this.closeMenu(null,e))}}leftEscKeyHandler(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):e.action===mL&&this.closeMenu(null,e)}scrollHandler(e){this.closeMenu(null,e)}touchHandler(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)}cmenuHandler(e){e.preventDefault(),this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)}closeMenu(e=0,t=null,i){if(this.isMenuVisible()){let n,s;const o=this.getWrapper();let l,a;const c=this.getPopups();let d=!1;const u=this.isMenu?c.length+1:o.childElementCount,p=this.isMenu&&1!==u?G(".e-ul",c[u-2]):gt(".e-menu-parent",o)[u-1];if(this.isMenu&&p.classList.contains("e-menu")&&(n=this.getLIByClass(p,Jr),n&&n.classList.remove(Jr),d=!0),!d){const g=t&&t.target&&this.getLI(t.target);this.cli=g||p.children[0],s=this.navIdx.length?this.getItem(this.navIdx):null,a=s?s.items:this.items,l={element:p,parentItem:s,items:a,event:t,cancel:!1,isFocused:!0},this.trigger("beforeClose",l,f=>{let m,v,w,x="";const b=!f.cancel;let I,k,P;(b||this.isCMenu)&&(this.isMenu?(m=D(p,"."+Rb),this.hamburgerMode&&(m.parentElement.style.minHeight="",D(p,".e-menu-item").setAttribute("aria-expanded","false")),this.unWireKeyboardEvent(m),t2(jl(m.children[0],bf),m.children[0]),w=jl(m,wc),w.hide(),x=m.id,w.destroy(),de(m)):this.toggleAnimation(p,!1),v={element:p,parentItem:s,items:a},this.trigger("onClose",v),this.navIdx.pop()),this.updateReactTemplate();const W=this.getWrapper()&&this.getUlByNavIdx();this.isCMenu&&(this.canOpen(t.target)&&this.openMenu(null,null,this.pageY,this.pageX,t),this.isCMenu=!1),this.isMenu&&W&&x.length&&(I=new RegExp("(.*)-ej2menu-"+this.element.id+"-popup").exec(x)[1],k=W.querySelector('[id="'+I+'"]'),P=g&&W.querySelector('[id="'+g.id+'"]'));const oe=g&&g.querySelectorAll(".e-menu-item");if(b&&this.hamburgerMode&&e&&!oe.length)this.afterCloseMenu(t);else if(b&&!this.hamburgerMode&&this.navIdx.length&&k&&!P&&"left"!==this.keyType){let ae=t&&t.target.classList.contains("e-vscroll")?D(t.target,".e-menu-wrapper"):null;ae?(ae=ae.querySelector(".e-menu-item"),(this.showItemOnClick||ae&&this.getIndex(ae.id,!0).length<=this.navIdx.length)&&this.closeMenu(this.navIdx[this.navIdx.length-1],t,!0)):this.closeMenu(this.navIdx[this.navIdx.length-1],t)}else if(b&&!i&&!e&&(this.hamburgerMode&&this.navIdx.length||1===this.navIdx.length))this.closeMenu(null,t);else if(b&&h(e)&&this.navIdx.length)this.closeMenu(null,t);else if(!b||this.isMenu||e||0!==this.navIdx.length||this.isMenusClosed)if(b&&this.isMenu&&t&&t.target&&0!==this.navIdx.length&&D(t.target,".e-menu-parent.e-control"))this.closeMenu(0,t);else if(b&&!this.isMenu&&gt(".e-menu-parent",o)[e-1]&&3===t.which)this.closeMenu(null,t);else{if(!b||"right"!==this.keyType&&"click"!==this.keyType){const ae=this.getUlByNavIdx(),xe=this.getLIByClass(ae,Jr);if(xe&&(xe.setAttribute("aria-expanded","false"),xe.classList.remove(Jr),(f.isFocused&&g||"left"===this.keyType)&&(xe.classList.add(Eo),xe.focus())),!b&&this.hamburgerMode&&g&&"false"===g.getAttribute("aria-expanded")&&"true"===g.getAttribute("aria-haspopup")){D(g,".e-menu-parent.e-control")?this.navIdx=[]:this.navIdx.pop(),this.navIdx.push(this.cliIdx);const z=this.getItem(this.navIdx);g.setAttribute("aria-expanded","true"),this.openMenu(g,z,-1,-1,t)}}else this.afterCloseMenu(t);this.navIdx.length<1&&("Hover"===this.showSubMenuOn||"Click"===this.showSubMenuOn)&&(this.showItemOnClick=this.defaultOption,this.showSubMenuOn="Auto")}else this.isMenusClosed=!0,this.closeMenu(0,t);this.removeStateWrapper()})}}}updateReactTemplate(){if(this.isReact&&this.template&&0===this.navIdx.length){const e=this.portals.splice(0,this.items.length);this.clearTemplate(["template"]),this.portals=e,this.renderReactTemplates()}}getMenuItemModel(e,t){if(h(e))return null;h(t)&&(t=0);const i=this.getFields(t);return{text:e[i.text],id:e[i.id],items:e[i.child],separator:e[i.separator],iconCss:e[i.iconCss],url:e[i.url]}}getPopups(){const e=[];return[].slice.call(document.querySelectorAll("."+Rb)).forEach(t=>{!h(t.querySelector("."+qy))&&this.getIndex(t.querySelector("."+qy).id,!0).length&&e.push(t)}),e}isMenuVisible(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&Vr(this.element).valueOf()}canOpen(e){let t=!0;if(this.filter){t=!1;const i=this.filter.split(" ");for(let n=0,s=i.length;n<s;n++)if(D(e,"."+i[n])){t=!0;break}}return t}openMenu(e,t,i=0,n=0,s=null,o=this.targetElement){const l=this.getWrapper();this.lItem=e;const a=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,h(i)&&(i=-1),h(n)&&(n=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&A.isDevice){l.lastChild.style.display="none";const c={text:t[this.getField("text")].toString(),iconCss:WU+" e-previous"},d=new gu(this.items[0],"items",c,!0),u=this.createItems([d]).children[0];u.classList.add(s2),this.uList.insertBefore(u,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+Rb,id:e.id+"-ej2menu-"+a+"-popup"}),this.hamburgerMode?(i=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.template&&this.renderReactTemplates(),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&_([this.popupWrapper],this.cssClass.split(" ")),this.popupObj.hide()),this.hamburgerMode||this.showItemOnClick||!this.hoverDelay?this.triggerBeforeOpen(e,this.uList,t,s,0,0,"menu"):(window.clearInterval(this.timer),this.timer=window.setTimeout(()=>{this.triggerBeforeOpen(e,this.uList,t,s,0,0,"menu")},this.hoverDelay))):(this.uList.style.zIndex=this.element.style.zIndex,l.appendChild(this.uList),!this.showItemOnClick&&this.hoverDelay?(window.clearInterval(this.timer),this.timer=window.setTimeout(()=>{this.triggerBeforeOpen(e,this.uList,t,s,i,n,"none")},this.hoverDelay)):this.triggerBeforeOpen(e,this.uList,t,s,i,n,"none"))}else this.uList=this.element,this.uList.style.zIndex=hf(o||this.element).toString(),this.triggerBeforeOpen(e,this.uList,t,s,i,n,"none")}calculateIndentSize(e,t){const i=getComputedStyle(t);let n=parseInt(i.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?n*=2:n+=n/4,e.style.textIndent=n+"px";const s=e.querySelectorAll(".e-blankicon");if(s&&s.length){const o=e.querySelector(".e-menu-icon"),l=getComputedStyle(o),a=parseInt(l.marginRight,10)+o.offsetWidth+n;for(let c=0;c<s.length;c++)s[c].style.textIndent=a+"px"}}generatePopup(e,t,i,n){const s=new wc(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:i,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:n||this.enableRtl?"none":"flip",Y:"fit"},position:n&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:()=>{const o=G(".e-menu-vscroll",s.element);o&&(o.style.height="inherit",o.style.maxHeight="");const l=G(".e-ul",s.element);s.element.style.maxHeight="",l.focus(),this.triggerOpen(l)}});return s}createHeaderContainer(e){e=e||this.getWrapper();const t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),i=this.enableHtmlSanitizer?Xr.sanitize(this.title):this.title,n=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:i}),s=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(n),t.appendChild(s),e.insertBefore(t,this.element)}openHamburgerMenu(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")}closeHamburgerMenu(e){this.trigger("beforeClose",{element:this.element,parentItem:null,event:e,items:this.items,cancel:!1},i=>{i.cancel||(this.closeMenu(null,e),this.element.classList.add("e-hide-menu"),this.trigger("onClose",{element:this.element,parentItem:null,items:this.items}))})}callFit(e,t,i,n,s){return eP(e,null,{X:t,Y:i},{top:n,left:s})}triggerBeforeOpen(e,t,i,n,s,o,l){const a=e?i[this.getField("children",this.navIdx.length-1)]:this.items,d=l;this.trigger("beforeOpen",{element:t,items:a,parentItem:i,event:n,cancel:!1,top:s,left:o,showSubMenuOn:"Auto"},u=>{switch(d){case"menu":this.hamburgerMode||("Auto"!==u.showSubMenuOn&&(this.showItemOnClick=!this.defaultOption,this.showSubMenuOn=u.showSubMenuOn),this.top=u.top,this.left=u.left),this.popupWrapper.style.display="block",this.hamburgerMode||(this.popupWrapper.style.maxHeight=this.popupWrapper.getBoundingClientRect().height+"px",this.enableScrolling&&o0(this.createElement,this.popupWrapper,this.uList,"vscroll",this.enableRtl),this.checkScrollOffset(n)),this.hamburgerMode||this.left||this.top?(this.popupObj.collision={X:"none",Y:"none"},this.popupWrapper.style.display=""):(this.popupObj.refreshPosition(this.lItem,!0),this.left=parseInt(this.popupWrapper.style.left,10),this.top=parseInt(this.popupWrapper.style.top,10),this.enableRtl&&(this.left=this.isNestedOrVertical?this.left-this.popupWrapper.offsetWidth-this.lItem.parentElement.offsetWidth+2:this.left-this.popupWrapper.offsetWidth+this.lItem.offsetWidth),this.template&&(this.isReact||this.isAngular)?requestAnimationFrame(()=>{this.collision(),this.popupWrapper.style.display=""}):(this.collision(),this.popupWrapper.style.display=""));break;case"none":this.top=u.top,this.left=u.left;break;case"hamburger":u.cancel||(this.element.classList.remove("e-hide-menu"),this.triggerOpen(this.element))}if("hamburger"!==d&&(u.cancel?(this.isMenu?(this.popupObj.destroy(),de(this.popupWrapper)):t.className.indexOf("e-ul")>-1&&de(t),this.navIdx.pop()):this.isMenu?this.hamburgerMode?(this.popupWrapper.style.top=this.top+"px",this.popupWrapper.style.left="0px",this.toggleAnimation(this.popupWrapper)):(this.setBlankIconStyle(this.popupWrapper),this.wireKeyboardEvent(this.popupWrapper),Ys(this.popupWrapper,{selector:"."+qy}),this.popupWrapper.style.left=this.left+"px",this.popupWrapper.style.top=this.top+"px",this.popupObj.show("None"!==this.animationSettings.effect?{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing}:null,this.lItem)):(this.setBlankIconStyle(this.uList),this.setPosition(this.lItem,this.uList,this.top,this.left),this.toggleAnimation(this.uList))),"right"===this.keyType){let p=this.getUlByNavIdx();e.classList.remove(Eo),this.isMenu&&1===this.navIdx.length&&this.removeLIStateByClass([Jr],[this.getWrapper()]),e.classList.add(Jr),this.action===n2&&this.trigger("select",{element:e,item:i,event:n}),e.focus(),p=this.getUlByNavIdx();const g=this.isValidLI(p.children[0],0,this.action);p.children[g].classList.add(Eo),p.children[g].focus()}})}collision(){let e;if(e=df(this.popupWrapper,null,this.left,this.top),(this.isNestedOrVertical||this.enableRtl)&&(e.indexOf("right")>-1||e.indexOf("left")>-1)){this.popupObj.collision.X="none";const t=D(this.lItem,".e-"+this.getModuleName()+"-wrapper").offsetWidth;this.left=this.enableRtl?jo(this.lItem,this.isNestedOrVertical?"right":"left","top").left:this.left-this.popupWrapper.offsetWidth-t+2}e=df(this.popupWrapper,null,this.left,this.top),(e.indexOf("left")>-1||e.indexOf("right")>-1)&&(this.left=this.callFit(this.popupWrapper,!0,!1,this.top,this.left).left),this.popupWrapper.style.left=this.left+"px"}setBlankIconStyle(e){const t=[].slice.call(e.getElementsByClassName("e-blankicon"));if(!t.length)return;const i=e.querySelector(".e-menu-item:not(.e-blankicon):not(.e-separator)"),n=i.querySelector(".e-menu-icon");if(!n)return;const s=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"},o=getComputedStyle(n);let l=parseInt(o.fontSize,10);parseInt(o.width,10)&&parseInt(o.width,10)>l&&(l=parseInt(o.width,10));const a=`${l+parseInt(o[s.margin],10)+parseInt(getComputedStyle(i)[s.padding],10)}px`;t.forEach(c=>{c.style[s.padding]=a})}checkScrollOffset(e){const t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){const i=h(e)?this.element:D(e.target,"."+qy),n=G(".e-hscroll-bar",t);n.scrollLeft>i.offsetLeft&&(n.scrollLeft-=n.scrollLeft-i.offsetLeft);const s=n.scrollLeft+n.offsetWidth,o=i.offsetLeft+i.offsetWidth;s<o&&(n.scrollLeft+=o-s)}}setPosition(e,t,i,n){const s="px";if(this.toggleVisiblity(t),t===this.element||n>-1&&i>-1){let o=df(t,null,n,i);if(o.indexOf("right")>-1&&(n-=t.offsetWidth),o.indexOf("bottom")>-1&&(i=this.callFit(t,!1,!0,i,n).top-20)<0){const a=pageYOffset+document.documentElement.clientHeight-t.getBoundingClientRect().height;a>-1&&(i=a)}o=df(t,null,n,i),o.indexOf("left")>-1&&(n=this.callFit(t,!0,!1,i,n).left)}else if(A.isDevice)i=Number(this.element.style.top.replace(s,"")),n=Number(this.element.style.left.replace(s,""));else{let l=jo(e,this.enableRtl?"left":"right","top");n=l.left;const a=df(t,null,this.enableRtl?n-t.offsetWidth:n,i=l.top),c=a.indexOf("left")>-1||a.indexOf("right")>-1;c&&(l=jo(e,this.enableRtl?"right":"left","top"),n=l.left),(this.enableRtl||c)&&(n=this.enableRtl&&c?n:n-t.offsetWidth),a.indexOf("bottom")>-1&&(l=this.callFit(t,!1,!0,i,n),i=l.top)}this.toggleVisiblity(t,!1),t.style.top=i+s,t.style.left=n+s}toggleVisiblity(e,t=!0){e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"}createItems(e){const t=this.navIdx?this.navIdx.length:0,i=this.getFields(t),n=this.hasField(e,this.getField("iconCss",t)),s={showIcon:n,moduleName:"menu",fields:i,template:this.template,itemNavigable:!0,itemCreating:l=>{l.curData[l.fields[i.id]]||(l.curData[l.fields[i.id]]=Gn("menuitem")),l.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},this.isMenu&&!l.curData[this.getField("separator",t)]&&(l.curData.htmlAttributes["aria-label"]=l.curData[l.fields.text]),""===l.curData[l.fields[i.iconCss]]&&(l.curData[l.fields[i.iconCss]]=null)},itemCreated:l=>{if(l.curData[this.getField("separator",t)]&&(l.item.classList.add(r2),l.item.removeAttribute("role")),n&&!l.curData[l.fields.iconCss]&&!l.curData[this.getField("separator",t)]&&l.item.classList.add("e-blankicon"),l.curData[l.fields.child]&&l.curData[l.fields.child].length){const c=this.createElement("span",{className:WU+" "+qU});l.item.appendChild(c),l.item.setAttribute("aria-haspopup","true"),l.item.setAttribute("aria-expanded","false"),this.isMenu||l.item.removeAttribute("role"),l.item.classList.add("e-menu-caret-icon")}this.isMenu&&this.template&&(l.item.setAttribute("id",l.curData[l.fields.id].toString()),l.item.removeAttribute("data-uid"),l.item.classList.contains("e-level-1")&&l.item.classList.remove("e-level-1"),l.item.classList.contains("e-has-child")&&l.item.classList.remove("e-has-child")),this.trigger("beforeItemRender",{item:l.curData,element:l.item})}};this.setProperties({items:this.items},!0),this.isMenu&&(s.templateID=this.element.id+"Template");const o=Cn.createList(this.createElement,e,s,!this.template,this);return o.setAttribute("tabindex","0"),this.isMenu&&o.setAttribute("role","menu"),o}moverHandler(e){const t=e.target;this.liTrgt=t;const i=this.getLI(t),n=i?D(i,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),s=this.getWrapper(),o=new RegExp("-ej2menu-(.*)-popup");let l,a=!1;if(n){if(l=""!==n.id?o.exec(n.id)[1]:n.querySelector("ul").id,l!==this.element.id){if(this.removeLIStateByClass([Eo,Jr],[this.getWrapper()]),!this.navIdx.length)return;a=!0}i&&D(i,".e-"+this.getModuleName()+"-wrapper")&&!a?(this.removeLIStateByClass([Eo],this.isMenu?[n].concat(this.getPopups()):[n]),this.removeLIStateByClass([Eo],this.isMenu?[s].concat(this.getPopups()):[s]),i.classList.add(Eo),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!a&&this.removeLIStateByClass([Eo],[n].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===n||D(t,".e-"+this.getModuleName()+"-popup")||i&&(!i||this.getIndex(i.id,!0).length)||"Hover"===this.showSubMenuOn?a&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([Eo],[n]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}}removeStateWrapper(){if(this.liTrgt){const e=D(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([Eo,Jr],[e])}}removeLIStateByClass(e,t){let i;for(let n=0;n<t.length;n++)e.forEach(s=>{i=G("."+s,t[n]),i&&i.classList.remove(s)})}getField(e,t=0){const i=this.fields[e];return"string"==typeof i?i:i[t]?i[t].toString():i[i.length-1].toString()}getFields(e=0){return{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}}hasField(e,t){for(let i=0,n=e.length;i<n;i++)if(e[i][t])return!0;return!1}menuHeaderClickHandler(e){D(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.classList.contains("e-hide-menu")?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))}clickHandler(e){if(this.isTapHold)this.isTapHold=!1;else{const t=this.getWrapper(),i=e.target,n=this.cli=this.getLI(i),s=new RegExp("-ej2menu-(.*)-popup"),o=n?D(n,".e-"+this.getModuleName()+"-wrapper"):null,l=n&&o&&(this.isMenu?this.getIndex(n.id,!0).length>0:t.firstElementChild.id===o.firstElementChild.id);if(A.isDevice&&this.isMenu&&(this.removeLIStateByClass([Eo],[t].concat(this.getPopups())),this.mouseDownHandler(e)),n&&o&&this.isMenu){const a=o.id?s.exec(o.id)[1]:o.querySelector(".e-menu-parent").id;if(this.element.id!==a)return}if(l&&"click"===e.type&&!n.classList.contains(s2)){this.setLISelected(n);const a=this.getIndex(n.id,!0),c=this.getItem(a);this.trigger("select",{element:n,item:c,event:e})}if(l&&("mouseover"===e.type||A.isDevice||this.showItemOnClick)){let a;if(n.classList.contains(s2)){a=t.children[this.navIdx.length-1],this.toggleAnimation(a);const c=this.getLIByClass(a,Jr);c&&c.classList.remove(Jr),de(n.parentNode),this.navIdx.pop()}else if(!n.classList.contains(r2)){this.showSubMenu=!0;const c=n.parentNode;if(this.cliIdx=this.getIdx(c,n),this.isMenu||!A.isDevice){const d=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),D(c,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,c);if(this.navIdx[d]===this.cliIdx&&(this.showSubMenu=!1),d!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu)){const u=this.getLIByClass(c,Jr);u&&u.classList.remove(Jr),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(n),this.closeMenu(d+1,e),this.showItemOnClick&&this.setLISelected(n)}}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===i.tagName&&this.navIdx.length&&D(i,".e-menu-vscroll")){const a=D(i,"."+Rb),c=Array.prototype.indexOf.call(this.getPopups(),a)+1;c<this.navIdx.length&&(this.closeMenu(c+1,e),a&&this.removeLIStateByClass([Eo,Jr],[a]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):("UL"!==i.tagName||(this.isMenu?i.parentElement.classList.contains("e-menu-wrapper")&&!this.getIndex(i.querySelector("."+qy).id,!0).length:i.parentElement!==t))&&(n||this.removeLIStateByClass([Jr],[t]),(!n||!n.querySelector("."+qU))&&this.closeMenu(null,e))}}afterCloseMenu(e){let t;if(this.showSubMenu){t=D(this.showItemOnClick&&0===this.navIdx.length?e.target:this.element,".e-menu-parent.e-control");const i=this.navIdx.concat(this.cliIdx),n=this.getItem(i);if(n&&n[this.getField("children",i.length-1)]&&n[this.getField("children",i.length-1)].length?(("mouseover"===e.type||A.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&t||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,n,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!t){const s=this.getUlByNavIdx(),o=this.getLIByClass(s,Jr);o&&(o.setAttribute("aria-expanded","false"),o.classList.remove(Jr))}}this.keyType=""}setLISelected(e){const t=this.getLIByClass(e.parentElement,Jr);t&&t.classList.remove(Jr),this.isMenu||e.classList.remove(Eo),e.classList.add(Jr)}getLIByClass(e,t){for(let i=0,n=e.children.length;i<n;i++)if(e.children[i].classList.contains(t))return e.children[i];return null}getItemIndex(e,t){let i;return i="string"==typeof e?e:e.id,this.getIndex(i,!1!==t)}setItem(e,t,i){let n;n=i?t||e.id:t||e.text;const s=this.getIndex(n,i),o=this.getItem(s);o.iconCss=e.iconCss||o.iconCss,o.text=e.text||o.text,o.url=e.url||o.url,o.separator=e.separator||o.separator}getItem(e){const t=(e=e.slice()).pop();return this.getItems(e)[t]}getItems(e){let t=this.items;for(let i=0;i<e.length;i++)t=t[e[i]][this.getField("children",i)];return t}setItems(e,t){const i=this.getItems(t);i.splice(0,i.length);for(let n=0;n<e.length;n++)i.splice(n,0,e[n])}getIdx(e,t,i=!0){let n=Array.prototype.indexOf.call(e.children,t);return i&&e.children[0].classList.contains(s2)&&n--,n}getLI(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:D(e,"li.e-menu-item")}updateItemsByNavIdx(){let e=this.items,t=0;for(let i=0;i<this.navIdx.length&&(e=e[i].items,e);i++){t++;const n=this.getUlByNavIdx(t);if(!n)break;this.updateItem(n,e)}}removeChildElement(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e}onPropertyChanged(e,t){const i=this.getWrapper();for(const n of Object.keys(e))switch(n){case"cssClass":t.cssClass&&T([i],t.cssClass.split(" ")),e.cssClass&&_([i],e.cssClass.split(" "));break;case"enableRtl":i.classList.toggle("e-rtl");break;case"showItemOnClick":this.unWireEvents(),this.showItemOnClick=e.showItemOnClick,this.wireEvents();break;case"enableScrolling":if(e.enableScrolling){let s;this.element.classList.contains("e-vertical")?o0(this.createElement,i,this.element,"vscroll",this.enableRtl):o0(this.createElement,i,this.element,"hscroll",this.enableRtl),this.getPopups().forEach(o=>{s=G(".e-ul",o),o0(this.createElement,o,s,"vscroll",this.enableRtl)})}else{let s=i.children[0];this.element.classList.contains("e-vertical")?t2(jl(s,bf),s):t2(jl(s,pL),s),i.style.overflow="",i.appendChild(this.element),this.getPopups().forEach(o=>{s=o.children[0],t2(jl(s,bf),s),o.style.overflow=""})}break;case"items":{let s,o,l;if(Object.keys(t.items).length){const a=Object.keys(e.items);for(let c=0;c<a.length;c++)o=this.getChangedItemIndex(e,[],Number(a[c])),o.length<=this.getWrapper().children.length&&(s=o.pop(),l=this.getItems(o),this.insertAfter([l[s]],l[s].text),this.removeItem(l,o,s),this.setItems(l,o)),o.length=0}else{if(this.updateItem(this.element,this.items),!this.hamburgerMode)for(let a=1,c=i.childElementCount;a<c;a++)de(i.lastElementChild);this.navIdx=[]}break}}}updateItem(e,t){e.innerHTML="",[].slice.call(this.createItems(t).children).forEach(n=>{e.appendChild(n)})}getChangedItemIndex(e,t,i){t.push(i);const n=Object.keys(e.items[i]).pop();if("items"===n){const s=e.items[i],o=Object.keys(s.items).pop();o&&this.getChangedItemIndex(s,t,Number(o))}else"isParentArray"===n&&t.length>1&&t.pop();return t}removeItem(e,t,i){e.splice(i,1);const n=this.getWrapper().children;t.length<(this.hamburgerMode?1:n.length)&&de(n[this.hamburgerMode?1:t.length].children[i])}unWireEvents(e=this.target){const t=this.getWrapper();if(e){let i,n;const s=gt(e);for(let o=0,l=s.length;o<l;o++)i=s[o],this.isMenu?C.remove(i,"click",this.menuHeaderClickHandler):A.isIos?(n=jl(i,Qr),n&&n.destroy()):C.remove(i,"contextmenu",this.cmenuHandler);if(!this.isMenu){C.remove(this.targetElement,"scroll",this.scrollHandler);for(const o of oP(this.targetElement))C.remove(o,"scroll",this.scrollHandler)}}A.isDevice||(C.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),C.remove(document,"mousedown",this.delegateMouseDownHandler)),C.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()}unWireKeyboardEvent(e){const t=jl(e,tn);t&&t.destroy()}toggleAnimation(e,t=!0){let i,n;"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:s=>{this.hamburgerMode?(n=s.element.parentElement,s.element.style.position="absolute",i=n.offsetHeight,s.element.style.maxHeight=s.element.offsetHeight+"px",n.style.maxHeight=""):(s.element.style.display="block",s.element.style.maxHeight=s.element.getBoundingClientRect().height+"px")},progress:s=>{this.hamburgerMode&&(n.style.minHeight=i+s.element.offsetHeight+"px")},end:s=>{this.hamburgerMode?(s.element.style.position="",s.element.style.maxHeight="",n.style.minHeight="",s.element.style.top="0px",s.element.children[0].focus(),this.triggerOpen(s.element.children[0])):this.end(s.element,t)}}):this.end(e,t)}triggerOpen(e){const t=this.navIdx.length?this.getItem(this.navIdx):null;this.trigger("onOpen",{element:e,parentItem:t,items:t?t.items:this.items})}end(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+Eo))e.querySelector("."+Eo).focus();else{const i=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1];i?i.querySelector("."+Jr).focus():this.element.focus()}else if(e===this.element){const i=this.getLIByClass(this.element,Eo);i&&i.classList.remove(Eo);const n=this.getLIByClass(this.element,Jr);n&&n.classList.remove(Jr),e.style.display="none"}else de(e)}getPersistData(){return""}getWrapper(){return D(this.element,".e-"+this.getModuleName()+"-wrapper")}getIndex(e,t,i=this.items,n=[],s=!1,o=0){let l;o=s?o+1:0;for(let a=0,c=i.length;a<c;a++){if(l=i[a],(t?l[this.getField("itemId",o)]:l[this.getField("text",o)])===e){n.push(a);break}if(l[this.getField("children",o)]&&l[this.getField("children",o)].length){if(-1!==(n=this.getIndex(e,t,l[this.getField("children",o)],n,!0,o))[n.length-1]){n.unshift(a);break}a!==c-1&&n.pop()}else a===c-1&&n.push(-1)}return s||-1!==n[0]?n:[]}enableItems(e,t=!0,i){let n,s,o;const l=yL;let a;for(let c=0;c<e.length;c++){if(o=this.getIndex(e[c],i),this.navIdx.length){if(1!==o.length){a=!1;for(let d=0,u=o.length-1;d<u;d++)if(o[d]!==this.navIdx[d]){a=!0;break}if(a)continue}}else if(1!==o.length)continue;s=o.pop(),n=this.getUlByNavIdx(o.length),n&&(t?this.isMenu?(n.children[s].classList.remove(l),n.children[s].removeAttribute("aria-disabled")):A.isDevice&&!n.classList.contains("e-contextmenu")?n.children[s+1].classList.remove(l):n.children[s].classList.remove(l):this.isMenu?(n.children[s].classList.add(l),n.children[s].setAttribute("aria-disabled","true")):A.isDevice&&!n.classList.contains("e-contextmenu")?n.children[s+1].classList.add(l):n.children[s].classList.add(l))}}showItems(e,t){this.showHideItems(e,!1,t)}hideItems(e,t){this.showHideItems(e,!0,t)}showHideItems(e,t,i){let n,s,o;for(let l=0;l<e.length;l++)o=this.getIndex(e[l],i),s=o.pop(),n=this.getUlByNavIdx(o.length),n&&(t?A.isDevice&&!n.classList.contains("e-contextmenu")?n.children[s+1].classList.add(Wy):n.children[s].classList.add(Wy):A.isDevice&&!n.classList.contains("e-contextmenu")?n.children[s+1].classList.remove(Wy):n.children[s].classList.remove(Wy))}removeItems(e,t){let i,n,s;for(let o=0;o<e.length;o++)n=this.getIndex(e[o],t),i=n.pop(),s=this.getItems(n),this.removeItem(s,n,i)}insertAfter(e,t,i){this.insertItems(e,t,i)}insertBefore(e,t,i){this.insertItems(e,t,i,!1)}insertItems(e,t,i,n=!0){let s,o,l,a,c;for(let d=0;d<e.length;d++){l=this.getIndex(t,i),o=l.pop(),a=this.getItems(l),c=new gu(a[0],"items",e[d],!0),a.splice(n?o+1:o,0,c);const u=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(l.length<u.length){o=n?o+1:o,s=this.createItems(a).children[o];const p=this.isMenu?G(".e-menu-parent",u[l.length]):u[l.length];p.insertBefore(s,p.children[o])}}}removeAttributes(){["top","left","display","z-index"].forEach(e=>{this.element.style.removeProperty(e)}),["role","tabindex","class","style"].forEach(e=>{"class"===e&&this.element.classList.contains("e-menu-parent")&&this.element.classList.remove("e-menu-parent"),(-1===["class","style"].indexOf(e)||!this.element.getAttribute(e))&&this.element.removeAttribute(e),this.isMenu&&"class"===e&&this.element.classList.contains("e-vertical")&&this.element.classList.remove("e-vertical")})}destroy(){const e=this.getWrapper();if(e){if(this.unWireEvents(),this.isMenu)this.closeMenu(),this.element.innerHTML="",this.removeAttributes(),e.parentNode.insertBefore(this.element,e),this.clonedElement=null;else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)_([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){const t=this.clonedElement.nextElementSibling;t&&t!==e?this.clonedElement.parentElement.insertBefore(this.element,t):this.clonedElement.parentElement.appendChild(this.element),this.element.innerHTML="",Jt([].slice.call(this.clonedElement.children),this.element),de(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(de(this.element),e.style.display="",e.classList.remove("e-"+this.getModuleName()+"-wrapper"),e.removeAttribute("data-ripple")):de(e),super.destroy(),this.template&&this.clearTemplate(["template"])}this.rippleFn=null}};ys([E()],Uo.prototype,"beforeItemRender",void 0),ys([E()],Uo.prototype,"beforeOpen",void 0),ys([E()],Uo.prototype,"onOpen",void 0),ys([E()],Uo.prototype,"beforeClose",void 0),ys([E()],Uo.prototype,"onClose",void 0),ys([E()],Uo.prototype,"select",void 0),ys([E()],Uo.prototype,"created",void 0),ys([y("")],Uo.prototype,"cssClass",void 0),ys([y(0)],Uo.prototype,"hoverDelay",void 0),ys([y(!1)],Uo.prototype,"showItemOnClick",void 0),ys([y("")],Uo.prototype,"target",void 0),ys([y("")],Uo.prototype,"filter",void 0),ys([y(null)],Uo.prototype,"template",void 0),ys([y(!1)],Uo.prototype,"enableScrolling",void 0),ys([y(!1)],Uo.prototype,"enableHtmlSanitizer",void 0),ys([gi({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},lg)],Uo.prototype,"fields",void 0),ys([Hr([],gu)],Uo.prototype,"items",void 0),ys([gi({duration:400,easing:"ease",effect:"SlideDown"},l2)],Uo.prototype,"animationSettings",void 0),Uo=ys([Pi],Uo);var js=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const xL="e-vertical",jr="e-toolbar-items",$o="e-toolbar-item",mp="e-rtl",To="e-separator",a2="e-popup-up-icon",kb="e-popup-down-icon",$U="e-popup-open",KU="e-template",fu="e-overlay",YU="e-toolbar-text",CL="e-popup-text",mu="e-overflow-show",c2="e-overflow-hide",_c="e-hor-nav",QU="e-scroll-nav",XU="e-toolbar-center",vu="e-tbar-pos",JU="e-hscroll-bar",Ab="e-toolbar-pop",ag="e-toolbar-popup",Mb="e-nav-active",Fb="e-ignore",wL="e-popup-alone",Pb="e-hidden",ZU="e-toolbar-multirow",e$="e-multirow-pos",bL="e-multirow-separator",_L="e-extended-separator",t$="e-extended-toolbar",d2="e-toolbar-extended",SL="e-tbar-extended";class pa extends Nt{}js([y("")],pa.prototype,"id",void 0),js([y("")],pa.prototype,"text",void 0),js([y("auto")],pa.prototype,"width",void 0),js([y("")],pa.prototype,"cssClass",void 0),js([y(!1)],pa.prototype,"showAlwaysInPopup",void 0),js([y(!1)],pa.prototype,"disabled",void 0),js([y("")],pa.prototype,"prefixIcon",void 0),js([y("")],pa.prototype,"suffixIcon",void 0),js([y(!0)],pa.prototype,"visible",void 0),js([y("None")],pa.prototype,"overflow",void 0),js([y("")],pa.prototype,"template",void 0),js([y("Button")],pa.prototype,"type",void 0),js([y("Both")],pa.prototype,"showTextOn",void 0),js([y(null)],pa.prototype,"htmlAttributes",void 0),js([y("")],pa.prototype,"tooltipText",void 0),js([y("Left")],pa.prototype,"align",void 0),js([E()],pa.prototype,"click",void 0);let Yl=class extends an{constructor(e,t){super(e,t),this.resizeContext=this.resize.bind(this),this.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"}}destroy(){(this.isReact||this.isAngular)&&this.clearTemplate();const e=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(e).forEach(t=>{!h(t)&&!h(t.ej2_instances)&&!h(t.ej2_instances[0])&&!t.ej2_instances[0].isDestroyed&&t.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(t=>{h(this.element.querySelector(t))||(document.body.appendChild(this.element.querySelector(t)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),de(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&T([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach(t=>this.element.removeAttribute(t)),super.destroy()}preRender(){const e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(xL),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,mp)}wireEvents(){C.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.allowKeyboard&&this.wireKeyboardEvent()}wireKeyboardEvent(){this.keyModule=new tn(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),C.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")}unwireKeyboardEvent(){this.keyModule&&(C.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)}docKeyDown(e){if("INPUT"===e.target.tagName)return;const t=!h(this.popObj)&&Vr(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}unwireEvents(){C.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),C.remove(document,"scroll",this.docEvent),C.remove(document,"click",this.docEvent)}clearProperty(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}}docEvent(e){const t=D(e.target,".e-popup");this.popObj&&Vr(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})}destroyScroll(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,vu),this.scrollModule.destroy(),this.scrollModule=null)}destroyItems(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+$o)).forEach(e=>{de(e)}),this.tbarAlign){const e=this.element.querySelector("."+jr);[].slice.call(e.children).forEach(t=>{de(t)}),this.tbarAlign=!1,this.remove(e,vu)}this.clearProperty()}destroyMode(){this.scrollModule&&(this.remove(this.scrollModule.element,mp),this.destroyScroll()),this.remove(this.element,SL),this.remove(this.element,t$);const e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,ZU),this.popObj&&this.popupRefresh(this.popObj.element,!0)}add(e,t){e.classList.add(t)}remove(e,t){e.classList.remove(t)}elementFocus(e){const t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()}clstElement(e,t){let i;return i=e&&this.popObj&&Vr(this.popObj.element)?this.popObj.element.querySelector("."+$o):this.element===t||e?this.element.querySelector("."+$o+":not(."+fu+" ):not(."+To+" ):not(."+Pb+" )"):D(t,"."+$o),i}keyHandling(e,t,i,n,s){const o=this.popObj,l=this.element,a={name:"FadeOut",duration:100},c="moveUp"===t.action?"previous":"next";let d,u;switch(t.action){case"moveRight":if(this.isVertical)return;l===i?this.elementFocus(e):n||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;n||this.eleFocus(e,"previous");break;case"home":case"end":if(e){let p=D(e,".e-popup");const g=this.element.querySelector("."+d2);"Extended"===this.overflowMode&&g&&g.classList.contains("e-popup-open")&&(p="end"===t.action?g:null),p?Vr(this.popObj.element)&&(u=[].slice.call(p.children),d="home"===t.action?u[0]:u[u.length-1]):(u=this.element.querySelectorAll("."+jr+" ."+$o+":not(."+To+")"),d="home"===t.action?u[0]:u[u.length-1]),d&&this.elementFocus(d)}break;case"moveUp":case"moveDown":if(this.isVertical)this.eleFocus(e,"moveUp"===t.action?"previous":"next");else if(o&&D(i,".e-popup")){const p=o.element,g=p.firstElementChild;if("previous"===c&&g===e||"next"===c&&p.lastElementChild===e)return;this.eleFocus(e,c)}else"moveDown"===t.action&&o&&Vr(o.element)&&this.elementFocus(e);break;case"tab":if(!s&&!n){const p=e.firstElementChild;l===i&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(p),p.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":o&&"Extended"!==this.overflowMode&&o.hide(a);break;case"popupOpen":if(!n)return;o&&!Vr(o.element)?(o.element.style.top=l.offsetHeight+"px",o.show({name:"FadeIn",duration:100})):o.hide(a)}}keyActionHandler(e){const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||this.element.classList.contains(fu))return;e.preventDefault();const i=t.classList.contains(_c),n=t.classList.contains(QU),s=this.clstElement(i,t);(s||n)&&this.keyHandling(s,e,t,i,n)}disable(e){const t=this.element;e?t.classList.add(fu):t.classList.remove(fu),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(Vr(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))}eleContains(e){return e.classList.contains(To)||e.classList.contains(fu)||e.getAttribute("disabled")||e.classList.contains(Pb)||!Vr(e)}eleFocus(e,t){const i=Object(e)[t+"ElementSibling"];if(i){if(this.eleContains(i))return void this.eleFocus(i,t);this.elementFocus(i)}else if(this.tbarAlign){let n=Object(e.parentElement)[t+"ElementSibling"];if(!h(n)&&0===n.children.length&&(n=Object(n)[t+"ElementSibling"]),!h(n)&&n.children.length>0)if("next"===t){const s=n.querySelector("."+$o);this.eleContains(s)?this.eleFocus(s,t):(s.firstElementChild.focus(),this.activeEleSwitch(s))}else{const s=n.lastElementChild;this.eleContains(s)?this.eleFocus(s,t):this.elementFocus(s)}}}clickHandler(e){const t=e.target,i=this.element,n=!h(D(t,"."+Ab));let l,s=t.classList,o=D(t,"."+_c);o||(o=t),!i.children[0].classList.contains("e-hscroll")&&!i.children[0].classList.contains("e-vscroll")&&s.contains(_c)&&(s=t.querySelector(".e-icons").classList),(s.contains(a2)||s.contains(kb))&&this.popupClickHandler(i,o,mp);const a=D(e.target,"."+$o);if((h(a)||a.classList.contains(fu))&&!o.classList.contains(_c))return;a&&(l=this.items[this.tbarEle.indexOf(a)]);const c={originalEvent:e,item:l};l&&!h(l.click)&&this.trigger("items["+this.tbarEle.indexOf(a)+"].click",c),c.cancel||this.trigger("clicked",c,d=>{!h(this.popObj)&&n&&!d.cancel&&"Popup"===this.overflowMode&&d.item&&"Input"!==d.item.type&&this.popObj.hide({name:"FadeOut",duration:100})})}popupClickHandler(e,t,i){const n=this.popObj;Vr(n.element)?(t.classList.remove(Mb),n.hide({name:"FadeOut",duration:100})):(e.classList.contains(i)&&(n.enableRtl=!0,n.position={X:"left",Y:"top"}),0===n.offsetX&&!e.classList.contains(i)&&(n.enableRtl=!1,n.position={X:"right",Y:"top"}),n.dataBind(),n.refreshPosition(),n.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(n.element.style.minHeight="0px"),t.classList.add(Mb),n.show({name:"FadeIn",duration:100}))}render(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}initialize(){const e=$e(this.width),t=$e(this.height);("msie"!==A.info.name||"auto"!==this.height||"MultiRow"===this.overflowMode)&&lt(this.element,{height:t}),lt(this.element,{width:e}),Le(this.element,{role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&_([this.element],this.cssClass.split(" "))}renderControl(){const e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()}renderLayout(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()}itemsAlign(e,t){let i,n;this.tbarEle||(this.tbarEle=[]);for(let s=0;s<e.length;s++)i=this.renderSubComponent(e[s],s),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(e[s],t,s),n=t.querySelector(".e-toolbar-"+e[s].align.toLowerCase()),n?(e[s].showAlwaysInPopup&&"Show"!==e[s].overflow||this.tbarAlgEle[(e[s].align+"s").toLowerCase()].push(i),n.appendChild(i)):t.appendChild(i);this.isReact&&(this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates())}changeOrientation(){const e=this.element;this.isVertical?(e.classList.remove(xL),this.isVertical=!1,("auto"===this.height||"100%"===this.height)&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(xL),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),lt(this.element,{height:$e(this.height),width:$e(this.width)})),this.destroyMode(),this.refreshOverflow()}initScroll(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+jr+" ."+XU).removeAttribute("style"),this.scrollModule=this.isVertical?new bf({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):new pL({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.remove(this.scrollModule.element,vu),lt(this.element,{overflow:"hidden"}))}itemWidthCal(e){let i,t=0;return[].slice.call(gt("."+$o,e)).forEach(n=>{Vr(n)&&(i=window.getComputedStyle(n),t+=this.isVertical?n.offsetHeight:n.offsetWidth,t+=parseFloat(this.isVertical?i.marginTop:i.marginRight),t+=parseFloat(this.isVertical?i.marginBottom:i.marginLeft))}),t}getScrollCntEle(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")}checkOverflow(e,t){if(h(e)||h(t)||!Vr(e))return!1;const i=this.isVertical?e.offsetHeight:e.offsetWidth;let n=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||i===n)&&(n=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));const s=e.querySelector("."+_c),o=e.querySelector("."+QU);let l=0;return s?l=this.isVertical?s.offsetHeight:s.offsetWidth:o&&(l=this.isVertical?2*o.offsetHeight:2*o.offsetWidth),n>i-l}refreshOverflow(){this.resize()}toolbarAlign(e){this.tbarAlign&&(this.add(e,vu),this.itemPositioning())}renderOverflowMode(){const e=this.element,t=e.querySelector("."+jr),i=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===A.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":h(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(jr)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||i)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,ZU),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,e$)),"hidden"===e.style.overflow&&(e.style.overflow=""),("msie"===A.info.name||"auto"!==e.style.height)&&(e.style.height="auto");break;case"Extended":this.add(this.element,t$),(this.checkOverflow(e,t)||i)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}}setOverflowAttributes(e){this.createPopupEle(e,[].slice.call(gt("."+jr+" ."+$o,e))),this.element.querySelector("."+_c).setAttribute("tabIndex","0"),this.element.querySelector("."+_c).setAttribute("role","list")}separator(){const e=this.element,t=[].slice.call(e.querySelectorAll("."+To)),i=e.querySelector("."+bL),n=e.querySelector("."+_L),s="MultiRow"===this.overflowMode?i:n;null!==s&&("MultiRow"===this.overflowMode?s.classList.remove(bL):"Extended"===this.overflowMode&&s.classList.remove(_L));for(let o=0;o<=t.length-1;o++)t[o].offsetLeft<30&&0!==t[o].offsetLeft&&("MultiRow"===this.overflowMode?t[o].classList.add(bL):"Extended"===this.overflowMode&&t[o].classList.add(_L))}createPopupEle(e,t){let i=e.querySelector("."+_c);const n=this.isVertical;i||this.createPopupIcon(e),i=e.querySelector("."+_c);const o=(n?e.offsetHeight:e.offsetWidth)-(n?i.offsetHeight:i.offsetWidth);this.element.classList.remove("e-rtl"),lt(this.element,{direction:"initial"}),this.checkPriority(e,t,o,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()}pushingPoppedEle(e,t,i,n,s){const o=e.element,l=[].slice.call(gt("."+ag,o.querySelector("."+jr)));let a=gt("."+mu,i),c=0,d=0;l.forEach((p,g)=>{a=gt("."+mu,i),p.classList.contains(mu)&&a.length>0?e.tbResize&&a.length>g?(i.insertBefore(p,a[g]),++d):(i.insertBefore(p,i.children[a.length]),++d):p.classList.contains(mu)||e.tbResize&&p.classList.contains(c2)&&i.children.length>0&&0===a.length?(i.insertBefore(p,i.firstChild),++d):p.classList.contains(c2)?t.push(p):e.tbResize?(i.insertBefore(p,i.childNodes[c+d]),++c):i.appendChild(p),p.classList.contains(To)?lt(p,{display:"",height:s+"px"}):lt(p,{display:"",height:n+"px"})}),t.forEach(p=>{i.appendChild(p)});const u=gt("."+$o,o.querySelector("."+jr));for(let p=u.length-1;p>=0;p--){const g=u[p];if(!g.classList.contains(To)||"Extended"===this.overflowMode)break;lt(g,{display:"none"})}}createPopup(){const e=this.element;let t,i;"Extended"===this.overflowMode&&(i=e.querySelector("."+To+":not(."+ag+")"),t="auto"===e.style.height||""===e.style.height?null:i.offsetHeight);const n=e.querySelector("."+$o+":not(."+To+"):not(."+ag+")"),s="auto"===e.style.height||""===e.style.height?null:n&&n.offsetHeight;let o;if(G("#"+e.id+"_popup."+Ab,e))o=G("#"+e.id+"_popup."+Ab,e);else{const a=this.createElement("div",{id:e.id+"_popup",className:Ab+" "+d2}),c=this.createElement("div",{id:e.id+"_popup",className:Ab});o="Extended"===this.overflowMode?a:c}this.pushingPoppedEle(this,[],o,s,t),this.popupInit(e,o)}getElementOffsetY(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight}popupInit(e,t){if(this.popObj){const i=this.popObj.element;lt(i,{maxHeight:"",display:"block"}),lt(i,{maxHeight:i.offsetHeight+"px",display:""})}else{e.appendChild(t),lt(this.element,{overflow:""});const i=window.getComputedStyle(this.element),n=new wc(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(n.appendTo(t),"Extended"===this.overflowMode&&(n.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth),n.offsetX=0),C.add(document,"scroll",this.docEvent.bind(this)),C.add(document,"click ",this.docEvent.bind(this)),n.element.style.maxHeight=n.element.offsetHeight+"px",this.isVertical&&(n.element.style.visibility="hidden"),this.isExtendedOpen){const s=this.element.querySelector("."+_c);s.classList.add(Mb),ze(s.firstElementChild,[a2],[kb]),this.element.querySelector("."+d2).classList.add($U)}else n.hide();this.popObj=n,this.element.setAttribute("aria-haspopup","true")}}tbarPopupHandler(e){"Extended"===this.overflowMode&&(e?this.add(this.element,SL):this.remove(this.element,SL))}popupOpen(e){const t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());const i=this.popObj.element,n=this.popObj.element.parentElement,s=n.querySelector("."+_c);lt(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");const o=i.offsetTop+i.offsetHeight+jo(n).top,l=s.firstElementChild;s.classList.add(Mb),ze(l,[a2],[kb]),this.tbarPopupHandler(!0);const a=h(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+a<o&&this.element.offsetTop<i.offsetHeight){let c=i.offsetHeight-(o-window.innerHeight-a+5);t.height=c+"px";for(let d=0;d<=i.childElementCount;d++){const u=i.children[d];if(u.offsetTop+u.offsetHeight>c){c=u.offsetTop;break}}lt(t.element,{maxHeight:c+"px"})}else if(this.isVertical){const c=this.element.getBoundingClientRect();lt(t.element,{maxHeight:c.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){const c=i.getBoundingClientRect();c.right>document.documentElement.clientWidth&&c.width>n.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}}popupClose(e){const i=this.element.querySelector("."+_c),n=i.firstElementChild;i.classList.remove(Mb),ze(n,[kb],[a2]),this.tbarPopupHandler(!1)}checkPriority(e,t,i,n){const s=this.popupPriCount>0,l=i;let a,c,d=0,u=0,p=0;const g=(f,m)=>{let v=!1;return m.forEach(x=>{f.classList.contains(x)&&(v=!0)}),v};for(let f=t.length-1;f>=0;f--){let m;const v=window.getComputedStyle(t[f]);this.isVertical?(m=parseFloat(v.marginTop),m+=parseFloat(v.marginBottom)):(m=parseFloat(v.marginRight),m+=parseFloat(v.marginLeft));const x=t[f]===this.tbarEle[0];x&&(this.tbarEleMrgn=m),a=this.isVertical?t[f].offsetHeight:t[f].offsetWidth;const w=x?a+m:a;if(g(t[f],[wL])&&s&&(t[f].classList.add(ag),lt(t[f],this.isVertical?{display:"none",minHeight:w+"px"}:{display:"none",minWidth:w+"px"}),p++),c=this.isVertical?t[f].offsetTop+t[f].offsetHeight+m>i:t[f].offsetLeft+t[f].offsetWidth+m>i,c){if(t[f].classList.contains(To)){if("Extended"===this.overflowMode)u===p&&g(t[f],[To,Fb])&&(t[f].classList.add(ag),p++),u++;else if("Popup"===this.overflowMode){if(d>0&&u===p){const b=t[f+u+(d-1)];g(b,[To,Fb])&&lt(b,{display:"none"})}d++,u=0,p=0}}else u++;t[f].classList.contains(mu)&&n||g(t[f],[To,Fb])?i-=(this.isVertical?t[f].offsetHeight:t[f].offsetWidth)+m:(t[f].classList.add(ag),lt(t[f],this.isVertical?{display:"none",minHeight:w+"px"}:{display:"none",minWidth:w+"px"}),p++)}}if(n){const f=gt("."+$o+":not(."+ag+")",this.element);this.checkPriority(e,f,l,!1)}}createPopupIcon(e){const t=e.id.concat("_nav");let i="e-"+e.id.concat("_nav e-hor-nav");i="Extended"===this.overflowMode?i+" e-expended-nav":i;const n=this.createElement("div",{id:t,className:i});("msie"===A.info.name||"edge"===A.info.name)&&n.classList.add("e-ie-align");const s=this.createElement("div",{className:kb+" e-icons"});n.appendChild(s),n.setAttribute("tabindex","0"),n.setAttribute("role","list"),e.appendChild(n)}tbarPriRef(e,t,i,n,s,o,l,a){const c=a,p=gt("."+ag+":not(."+mu+")",this.popObj.element).length,g=(f,m)=>f.classList.contains(m);if(0===gt(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){const f=e.children[t-(t-i)-1],m=!h(f)&&g(f,Fb);if(!h(f)&&g(f,To)&&!Vr(f)||m){const v="none";f.style.display="inherit";const x=f.offsetWidth+2*parseFloat(window.getComputedStyle(f).marginRight),w=f.previousElementSibling;o+x<l||s?(e.insertBefore(n,e.children[t+c-(t-i)]),h(w)||(w.style.display="")):w.classList.contains(To)&&(w.style.display=v),f.style.display=""}else e.insertBefore(n,e.children[t+c-(t-i)])}else e.insertBefore(n,e.children[t+c-p])}popupRefresh(e,t){const i=this.element,n=this.isVertical,s=i.querySelector("."+jr);let l,o=i.querySelector("."+_c);if(h(o))return;s.removeAttribute("style"),e.style.display="block",l=n?i.offsetHeight-(o.offsetHeight+s.offsetHeight):i.offsetWidth-(o.offsetWidth+s.offsetWidth);let a=0;[].slice.call(e.children).forEach(c=>{a+=this.popupEleWidth(c),lt(c,{position:""})}),l+(n?o.offsetHeight:o.offsetWidth)>a&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(l,e,t),e.style.display="",0===e.children.length&&o&&this.popObj&&(de(o),o=null,this.popObj.destroy(),de(this.popObj.element),this.popObj=null,i.setAttribute("aria-haspopup","false"))}ignoreEleFetch(e,t){const i=[].slice.call(t.querySelectorAll("."+Fb)),n=[];let s=0;return i.length>0?(i.forEach(o=>{n.push([].slice.call(t.children).indexOf(o))}),n.forEach(o=>{o<=e&&s++}),s):0}checkPopupRefresh(e,t){t.style.display="block";const i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");const n=e.offsetWidth-e.querySelector("."+_c).offsetWidth,s=e.querySelector("."+jr).offsetWidth;return t.style.removeProperty("display"),n>i+s}popupEleWidth(e){e.style.position="absolute";let t=this.isVertical?e.offsetHeight:e.offsetWidth;const i=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(CL)){const n=e.children[0];!h(i)&&e.classList.contains(CL)?i.style.display="none":!h(i)&&e.classList.contains(YU)&&(i.style.display="block"),n.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),n.style.minWidth="",n.style.minHeight="",h(i)||(i.style.display="")}return t}popupEleRefresh(e,t,i){const n=this.popupPriCount>0;let o,l,s=this.tbarEle,a=this.element.querySelector("."+jr),c=0;for(const u of[].slice.call(t.children)){if(u.classList.contains(wL)&&n&&!i)continue;let p=this.popupEleWidth(u);if(u===this.tbarEle[0]&&(p+=this.tbarEleMrgn),u.style.position="",!(p<e||i))break;{if(lt(u,{minWidth:"",height:"",minHeight:""}),u.classList.contains(c2)||u.classList.remove(ag),l=this.tbarEle.indexOf(u),this.tbarAlign){const f=this.items[l].align;l=this.tbarAlgEle[(f+"s").toLowerCase()].indexOf(u),s=this.tbarAlgEle[(f+"s").toLowerCase()],a=this.element.querySelector("."+jr+" .e-toolbar-"+f.toLowerCase())}let g=0;"Extended"!==this.overflowMode&&s.slice(0,l).forEach(f=>{(f.classList.contains(mu)||f.classList.contains(To))&&(f.classList.contains(To)&&(f.style.display="",e-=f.offsetWidth),g++)}),c=this.ignoreEleFetch(l,a),u.classList.contains(mu)?(this.tbarPriRef(a,l,g,u,i,p,e,c),e-=u.offsetWidth):0===l?(a.insertBefore(u,a.firstChild),e-=u.offsetWidth):(o=gt("."+mu,this.popObj.element).length,a.insertBefore(u,a.children[l+c-o]),e-=u.offsetWidth),u.style.height=""}}this.checkOverflow(this.element,this.element.getElementsByClassName(jr)[0])&&!i&&this.renderOverflowMode()}removePositioning(){const e=this.element.querySelector("."+jr);if(h(e)||!e.classList.contains(vu))return;this.remove(e,vu);const t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}refreshPositioning(){const e=this.element.querySelector("."+jr);this.add(e,vu),this.itemPositioning()}itemPositioning(){const e=this.element.querySelector("."+jr);let t;if(h(e)||!e.classList.contains(vu))return;const i=this.element.querySelector("."+_c);let n;n=[].slice.call(this.scrollModule?e.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:e.childNodes),t=this.isVertical?n[0].offsetHeight+n[2].offsetHeight:n[0].offsetWidth+n[2].offsetWidth;let s=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(i){s-=this.isVertical?i.offsetHeight:i.offsetWidth;const a=(this.isVertical?i.offsetHeight:i.offsetWidth)+"px";n[2].removeAttribute("style"),this.isVertical?this.enableRtl?n[2].style.top=a:n[2].style.bottom=a:this.enableRtl?n[2].style.left=a:n[2].style.right=a}if(s<=t)return;const o=(s-t-(this.isVertical?n[1].offsetHeight:n[1].offsetWidth))/2;n[1].removeAttribute("style");const l=(this.isVertical?n[0].offsetHeight:n[0].offsetWidth)+o+"px";this.isVertical?this.enableRtl?n[1].style.marginBottom=l:n[1].style.marginTop=l:this.enableRtl?n[1].style.marginRight=l:n[1].style.marginLeft=l}tbarItemAlign(e,t,i){if(e.showAlwaysInPopup&&"Show"!==e.overflow)return;const n=[];if(n.push(this.createElement("div",{className:"e-toolbar-left"})),n.push(this.createElement("div",{className:XU})),n.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)n.forEach(s=>{t.appendChild(s)}),this.tbarAlign=!0,this.add(t,vu);else if("Left"!==e.align){const o=n[0];[].slice.call(t.childNodes).forEach(l=>{this.tbarAlgEle.lefts.push(l),o.appendChild(l)}),t.appendChild(o),t.appendChild(n[1]),t.appendChild(n[2]),this.tbarAlign=!0,this.add(t,vu)}}ctrlTemplate(){this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,jr),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(t=>{"DIV"===t.tagName&&(this.tbarEle.push(t),t.setAttribute("aria-disabled","false"),this.add(t,$o))})}renderItems(){const e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){let i;e&&e.children.length>0&&(i=e.querySelector("."+jr)),i||(i=this.createElement("div",{className:jr})),this.itemsAlign(t,i),e.appendChild(i)}}setAttr(e,t){const i=Object.keys(e);let n;for(let s=0;s<i.length;s++)n=i[s],"class"===n?this.add(t,e[n]):t.setAttribute(n,e[n])}enableItems(e,t){const i=e,n=i.length;let s;h(t)&&(t=!0);const o=(l,a)=>{l?(a.classList.remove(fu),a.setAttribute("aria-disabled","false")):(a.classList.add(fu),a.setAttribute("aria-disabled","true"))};if(!h(n)&&n>=1){for(let l=0,a=[].slice.call(i);l<n;l++){const c=a[l];if("number"==typeof c){if(s=this.getElementByIndex(c),h(s))return;i[l]=s}else s=c;o(t,s)}t?T(i,fu):_(i,fu)}else{if("number"==typeof i){if(s=this.getElementByIndex(i),h(s))return}else s=e;o(t,s)}}getElementByIndex(e){return this.tbarEle[e]?this.tbarEle[e]:null}addItems(e,t){let i;this.extendedOpen();const n=this.element.querySelector("."+jr);if(h(n))return void this.itemsRerender(e);let s,o="Left";h(t)&&(t=0),e.forEach(l=>{!h(l.align)&&"Left"!==l.align&&"Left"===o&&(o=l.align)});for(const l of e)if(h(l.type)&&(l.type="Button"),i=gt("."+$o,this.element),l.align=o,s=this.renderSubComponent(l,t),this.tbarEle.length>=t&&i.length>=0){h(this.scrollModule)&&this.destroyMode();const a="L"===l.align[0]?0:"C"===l.align[0]?1:2;let c;this.tbarAlign||"Left"===o?this.tbarAlign?(c=D(i[0],"."+jr).children[a],c.insertBefore(s,c.children[t]),this.tbarAlgEle[(l.align+"s").toLowerCase()].splice(t,0,s),this.refreshPositioning()):0===i.length?(i=gt("."+jr,this.element),i[0].appendChild(s)):i[0].parentNode.insertBefore(s,i[t]):(this.tbarItemAlign(l,n,1),this.tbarAlign=!0,c=D(i[0],"."+jr).children[a],c.appendChild(s),this.tbarAlgEle[(l.align+"s").toLowerCase()].push(s),this.refreshPositioning()),this.items.splice(t,0,l),l.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(t,0,s),t++,this.offsetWid=n.offsetWidth}n.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}removeItems(e){const t=e;let i,n=[].slice.call(gt("."+$o,this.element));if("number"==typeof t)i=parseInt(e.toString(),10),this.removeItemByIndex(i,n);else if(t&&t.length>1)for(const s of[].slice.call(t))i=this.tbarEle.indexOf(s),this.removeItemByIndex(i,n),n=gt("."+$o,this.element);else i=n.indexOf(t&&t.length&&1===t.length?t[0]:e),this.removeItemByIndex(i,n);this.resize()}removeItemByIndex(e,t){if(this.tbarEle[e]&&t[e]){const i=this.tbarEle.indexOf(t[e]);if(this.tbarAlign){const s=this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].indexOf(this.tbarEle[i]);this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].splice(s,1)}this.isReact&&this.clearTemplate();const n=t[e].querySelector(".e-control.e-btn");!h(n)&&!h(n.ej2_instances[0])&&!n.ej2_instances[0].isDestroyed&&n.ej2_instances[0].destroy(),de(t[e]),this.items.splice(i,1),this.tbarEle.splice(i,1)}}templateRender(e,t,i,n){const o=e;let l;if("object"==typeof e&&(l="function"==typeof o.appendTo),"string"!=typeof e&&l){if("Input"===i.type){const a=this.createElement("input");a.id=i.id?i.id:Gn("tbr-ipt"),t.appendChild(a),o.appendTo(a)}}else{let a,c=e;const d=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);c="string"==typeof e?e.trim():e;try{if("object"!=typeof e||h(e.tagName))if("string"==typeof e&&d.test(c))t.innerHTML=c;else if(document.querySelectorAll(c).length){const p=document.querySelector(c),g=p.outerHTML.trim();t.appendChild(p),p.style.display="",h(g)||this.tempId.push(c)}else a=ci(c);else t.appendChild(e)}catch(p){a=ci(c)}let u;h(a)||(u=a({},this,"template",this.element.id+n+"_template",this.isStringTemplate)),!h(u)&&u.length>0&&[].slice.call(u).forEach(p=>{h(p.tagName)||(p.style.display=""),t.appendChild(p)})}this.add(t,KU),this.tbarEle.push(t)}buttonRendering(e,t){const i=this.createElement("button",{className:"e-tbar-btn"});i.setAttribute("type","button");const n=e.text;let s,o;i.id=e.id?e.id:Gn("e-tbr-btn");const l=this.createElement("span",{className:"e-tbar-btn-text"});n?(l.innerHTML=this.enableHtmlSanitizer?Xr.sanitize(n):n,i.appendChild(l),i.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(s=e.prefixIcon+" e-icons",o="Left"):(s=e.suffixIcon+" e-icons",o="Right"));const a=new ks({iconCss:s,iconPosition:o});return a.createElement=this.createElement,a.appendTo(i),e.width&&lt(i,{width:$e(e.width)}),i}renderSubComponent(e,t){let i;const n=this.createElement("div",{className:$o});n.setAttribute("aria-disabled","false");const s=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?Xr.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,n),e.tooltipText&&n.setAttribute("title",s.textContent),e.cssClass&&(n.className=n.className+" "+e.cssClass),e.template)this.templateRender(e.template,n,e,t);else switch(e.type){case"Button":i=this.buttonRendering(e,n),i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",e.text||e.tooltipText),n.appendChild(i),n.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(n,To)}if(e.showTextOn){const o=e.showTextOn;"Toolbar"===o?(this.add(n,YU),this.add(n,"e-tbtn-align")):"Overflow"===o&&this.add(n,CL)}if(e.overflow){const o=e.overflow;"Show"===o?this.add(n,mu):"Hide"===o&&(n.classList.contains(To)||this.add(n,c2))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!n.classList.contains(To)&&(this.add(n,wL),this.popupPriCount++),e.disabled&&this.add(n,fu),!1===e.visible&&this.add(n,Pb),n}itemClick(e){this.activeEleSwitch(e.currentTarget)}activeEleSwitch(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()}activeEleRemove(e){h(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,h(this.trgtEle)&&!e.parentElement.classList.contains(KU)?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")}getPersistData(){return this.addOnPersist([])}getModuleName(){return"toolbar"}itemsRerender(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}resize(){const e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();const t=this.checkOverflow(e,e.getElementsByClassName(jr)[0]);if(!t){this.destroyScroll();const i=e.querySelector("."+jr);h(i)||(this.remove(i,e$),this.tbarAlign&&this.add(i,vu))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){const i=window.getComputedStyle(this.element);this.popObj.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+JU)&&(this.scrollStep=this.element.querySelector("."+JU).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}}extendedOpen(){const e=this.element.querySelector("."+d2);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains($U))}onPropertyChanged(e,t){const i=this.element,n=i.offsetWidth;this.extendedOpen();for(const s of Object.keys(e))switch(s){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else{const o=Object.keys(e.items);for(let l=0;l<o.length;l++){const a=parseInt(Object.keys(e.items)[l],10),c=Object.keys(e.items[a])[0],d=Object(e.items[a])[c];if("function"!=typeof d){if(this.tbarAlign||"align"===c){this.refresh(),this.trigger("created");break}const p="overflow"===c&&0!==this.popupPriCount;("showAlwaysInPopup"===c&&!d||this.items[a].showAlwaysInPopup&&p)&&--this.popupPriCount,h(this.scrollModule)&&this.destroyMode();const g=[].slice.call(gt("."+jr+" ."+$o,i));this.isReact&&this.clearTemplate(),de(g[a]),this.tbarEle.splice(a,1),this.addItems([this.items[a]],a),this.items.splice(a,1),this.items[a].template&&this.tbarEle.splice(this.items.length,1)}}}break;case"width":lt(i,{width:$e(e.width)}),this.renderOverflowMode(),this.popObj&&n<i.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":lt(this.element,{height:$e(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(i,mp),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(i,mp):this.remove(i,mp),h(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,mp):this.remove(this.scrollModule.element,mp)),h(this.popObj)||(e.enableRtl?this.add(this.popObj.element,mp):this.remove(this.popObj.element,mp)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&T([this.element],t.cssClass.split(" ")),e.cssClass&&_([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}hideItem(e,t){const i="object"==typeof e;let s,o,n=e;const l=[].slice.call(gt("."+$o,this.element));if(i?o=e:this.tbarEle[n]&&(o=[].slice.call(gt("."+$o,this.element))[n]),o){if(t?o.classList.add(Pb):o.classList.remove(Pb),t&&h(this.element.getAttribute("tabindex"))&&!o.classList.contains(To)){if(h(o.firstElementChild.getAttribute("tabindex"))){o.firstElementChild.setAttribute("tabindex","-1");const a=[].slice.call(gt("."+$o,this.element));i&&(n=a.indexOf(o));let c=a[++n];for(;c;){if(!this.eleContains(c)){c.firstElementChild.removeAttribute("tabindex");break}c=a[++n]}}}else if(h(this.element.getAttribute("tabindex"))&&!o.classList.contains(To)){s=0;let a=!1,c=!1,d=l[s];for(;d;)if(d.classList.contains(To))d=l[++s];else if(h(d.firstElementChild.getAttribute("tabindex")))d.firstElementChild.setAttribute("tabindex","-1"),a=!0;else{if(a&&c)break;this.eleContains(d)||(d.firstElementChild.removeAttribute("tabindex"),c=!0),d=l[++s]}}this.refreshOverflow()}}};js([Hr([],pa)],Yl.prototype,"items",void 0),js([y("auto")],Yl.prototype,"width",void 0),js([y("auto")],Yl.prototype,"height",void 0),js([y("")],Yl.prototype,"cssClass",void 0),js([y("Scrollable")],Yl.prototype,"overflowMode",void 0),js([y()],Yl.prototype,"scrollStep",void 0),js([y(!0)],Yl.prototype,"enableCollision",void 0),js([y(!0)],Yl.prototype,"enableHtmlSanitizer",void 0),js([y(!0)],Yl.prototype,"allowKeyboard",void 0),js([E()],Yl.prototype,"clicked",void 0),js([E()],Yl.prototype,"created",void 0),js([E()],Yl.prototype,"destroyed",void 0),js([E()],Yl.prototype,"beforeCreate",void 0),Yl=js([Pi],Yl);var ir=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const h2="e-acrdn-root",a0="e-accordion",Ad="e-acrdn-item",i$="e-item-focus",Lb="e-hide",_l="e-acrdn-header",IL="e-acrdn-header-content",Dh="e-acrdn-panel",u2="e-acrdn-content",Ob="e-toggle-icon",n$="e-expand-icon",DL="e-rtl",EL="e-content-hide",TL="e-select",Bb="e-selected",Nb="e-active",Uy="e-overlay",p2="e-toggle-animation",yu="e-expand-state",s$="e-accordion-container";class Vb extends Nt{}ir([y("SlideDown")],Vb.prototype,"effect",void 0),ir([y(400)],Vb.prototype,"duration",void 0),ir([y("linear")],Vb.prototype,"easing",void 0);class RL extends Nt{}ir([gi({effect:"SlideUp",duration:400,easing:"linear"},Vb)],RL.prototype,"collapse",void 0),ir([gi({effect:"SlideDown",duration:400,easing:"linear"},Vb)],RL.prototype,"expand",void 0);class cg extends Nt{}ir([y(null)],cg.prototype,"content",void 0),ir([y(null)],cg.prototype,"header",void 0),ir([y(null)],cg.prototype,"cssClass",void 0),ir([y(null)],cg.prototype,"iconCss",void 0),ir([y(!1)],cg.prototype,"expanded",void 0),ir([y(!0)],cg.prototype,"visible",void 0),ir([y(!1)],cg.prototype,"disabled",void 0),ir([y()],cg.prototype,"id",void 0);let ga=class extends an{constructor(e,t){super(e,t),this.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"}}destroy(){(this.isReact||this.isAngular||this.isVue)&&this.clearTemplate();const e=this.element;if(super.destroy(),this.unwireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(e.children).forEach(t=>{e.removeChild(t)}),this.trgtEle){for(this.trgtEle=null;this.ctrlTem.firstElementChild;)e.appendChild(this.ctrlTem.firstElementChild);this.ctrlTem=null}e.classList.remove(h2),e.removeAttribute("style"),["aria-disabled","aria-multiselectable","role","data-ripple"].forEach(t=>{this.element.removeAttribute(t)}),!this.isNested&&dp&&this.removeRippleEffect()}preRender(){const e=D(this.element,"."+Dh);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),e&&e.firstElementChild&&e.firstElementChild.firstElementChild?e.firstElementChild.firstElementChild.classList.contains(a0)&&(e.classList.add("e-nested"),this.isNested=!0):this.element.classList.add(h2),this.enableRtl&&this.add(this.element,DL)}add(e,t){e.classList.add(t)}remove(e,t){e.classList.remove(t)}render(){this.initializeHeaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}initialize(){const e=$e(this.width),t=$e(this.height);lt(this.element,{width:e,height:t}),h(this.initExpand)&&(this.initExpand=[]),this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),Le(this.element,{"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"}),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")}renderControl(){this.trgtEle=this.element.children.length>0?G("div",this.element):null,this.renderItems(),this.initItemExpand()}wireFocusEvents(){const e=[].slice.call(this.element.querySelectorAll("."+Ad));for(const t of e){const i=t.querySelector("."+_l);t.childElementCount>0&&i&&(C.clearEvents(i),C.add(i,"focus",this.focusIn,this),C.add(i,"blur",this.focusOut,this))}}unwireEvents(){C.remove(this.element,"click",this.clickHandler),h(this.keyModule)||this.keyModule.destroy()}wireEvents(){C.add(this.element,"click",this.clickHandler,this),!this.isNested&&!this.isDestroy&&(this.removeRippleEffect=Ys(this.element,{selector:"."+_l})),this.isNested||(this.keyModule=new tn(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))}templateParser(e){if(e)try{return document.querySelectorAll(e).length?ci(document.querySelector(e).innerHTML.trim()):ci(e)}catch(t){return ci(e)}}initializeHeaderTemplate(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))}initializeItemTemplate(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))}getHeaderTemplate(){return this.headerTemplateFn}getItemTemplate(){return this.itemTemplateFn}focusIn(e){e.target.parentElement.classList.add(i$)}focusOut(e){e.target.parentElement.classList.remove(i$)}ctrlTemplate(){let e;this.ctrlTem=this.element.cloneNode(!0);const t=G("."+s$,this.element);e=t?t.children:this.element.children;const i=[];[].slice.call(e).forEach(n=>{i.push({header:n.childElementCount>0&&n.children[0]?n.children[0]:"",content:n.childElementCount>1&&n.children[1]?n.children[1]:""}),n.parentNode.removeChild(n)}),t&&this.element.removeChild(t),this.setProperties({items:i},!0)}toggleIconGenerate(){const e=this.createElement("div",{className:Ob}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e}initItemExpand(){const e=this.initExpand.length;if(0!==e){if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(let t=0;t<e;t++)this.expandItem(!0,this.initExpand[t]);this.isReact&&this.renderReactTemplates()}}renderItems(){const e=this.element;let t,i;if(h(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach((n,s)=>{i=this.renderInnerItem(n,s),e.appendChild(i),i.childElementCount>0&&(C.add(i.querySelector("."+_l),"focus",this.focusIn,this),C.add(i.querySelector("."+_l),"blur",this.focusOut,this))});else{const n=this.items;e&&n.length>0&&n.forEach((s,o)=>{t=this.renderInnerItem(s,o),e.appendChild(t),t.childElementCount>0&&(C.add(t.querySelector("."+_l),"focus",this.focusIn,this),C.add(t.querySelector("."+_l),"blur",this.focusOut,this))})}this.isReact&&this.renderReactTemplates()}clickHandler(e){const t=e.target,i=this.getItems(),n={};let s;if(D(t,"."+a0)!==this.element)return;t.classList.add("e-target");const l=D(t,"."+Ad);let d,a=D(t,"."+_l),c=D(t,"."+Dh);l&&(h(a)||h(c))&&(a=l.children[0],c=l.children[1]),a&&(s=G("."+Ob,a)),a?d=D(a,"."+Ad):c&&(d=D(c,"."+Ad));const u=this.getIndexByItem(l);d&&(n.item=i[this.getIndexByItem(d)]),n.originalEvent=e,!h(s)&&l.childElementCount<=1&&(h(c)||!h(G("."+_l+" ."+Ob,d)))?(l.appendChild(this.contentRendering(u)),this.ariaAttrUpdate(l),this.afterContentRender(t,n,l,a,c,d)):this.afterContentRender(t,n,l,a,c,d),this.isReact&&this.renderReactTemplates()}afterContentRender(e,t,i,n,s,o){const l=[];this.trigger("clicked",t);let a=s&&!h(G(".e-target",s));const d=s&&!h(G("."+a0,s))&&h(D(e,".e-acrdn-panel .e-accordion")),u=s&&h(G("."+a0,s))||D(e,"."+a0)!==this.element;if(a=a&&(d||u),e.classList.remove("e-target"),e.classList.contains(Dh)||e.classList.contains(u2)||a)return;const p=this.element.querySelector("."+s$);[].slice.call(p?p.children:this.element.children).forEach(x=>{x.classList.contains(Nb)&&l.push(x)});const f=[].slice.call(this.element.querySelectorAll("."+Ad+" [e-animate]"));if(f.length>0)for(const x of f)l.push(x.parentElement);const m=-1!==l.indexOf(o)&&"true"===s.getAttribute("e-animate");let v=!1;if(!h(i)&&!h(n)){const x=G("."+Dh,i),b=D(i,"."+h2).querySelector("."+yu);if(h(x))return;v=b===i,!Vr(x)||m&&!o.classList.contains(Bb)?(l.length>0&&"Single"===this.expandMode&&!m&&l.forEach(I=>{this.collapse(G("."+Dh,I)),I.classList.remove(yu)}),this.expand(x)):this.collapse(x),!h(b)&&!v&&b.classList.remove(yu)}}eleMoveFocus(e,t,i){let n,s=D(i,"."+Ad);i===t?n=("moveUp"===e?i.lastElementChild:i).querySelector("."+_l):i.classList.contains(_l)&&(s="moveUp"===e?s.previousElementSibling:s.nextElementSibling,s&&(n=G("."+_l,s))),n&&n.focus()}keyActionHandler(e){const t=e.target;if(h(D(e.target,_l))&&!t.classList.contains(a0)&&!t.classList.contains(_l))return;let n;const s=this.element;let o;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,s,t);break;case"space":case"enter":o=t.nextElementSibling,!h(o)&&o.classList.contains(Dh)?"true"!==o.getAttribute("e-animate")&&t.click():t.click(),e.preventDefault();break;case"home":case"end":n="home"===e.action?s.firstElementChild.children[0]:s.lastElementChild.children[0],n.focus(),e.preventDefault()}}headerEleGenerate(){const e=this.createElement("div",{className:_l,id:Gn("acrdn_header")});return Le(e,{tabindex:"0",role:"heading","aria-label":"collapsed","aria-disabled":"false","aria-level":this.getItems().length.toString()}),e}renderInnerItem(e,t){const i=this.createElement("div",{className:Ad,id:e.id||Gn("acrdn_item"),attrs:{"aria-expanded":"false",role:"row"}});if(this.headerTemplate){const s=this.headerEleGenerate(),o=this.createElement("div",{className:IL});return s.appendChild(o),Jt(this.getHeaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),o),i.appendChild(s),s.appendChild(this.toggleIconGenerate()),this.add(i,TL),i}if(e.header&&this.angularnativeCondiCheck(e,"header")){this.enableHtmlSanitizer&&"string"==typeof e.header&&(e.header=Xr.sanitize(e.header));const s=this.headerEleGenerate(),o=this.createElement("div",{className:IL});s.appendChild(o),s.appendChild(this.fetchElement(o,e.header,t,!0)),i.appendChild(s)}let n=G("."+_l,i);if(e.expanded&&!h(t)&&!this.enablePersistence&&-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&_([i],e.cssClass.split(" ")),e.disabled&&_([i],Uy),!1===e.visible&&_([i],Lb),e.iconCss){const s=this.createElement("div",{className:"e-acrdn-header-icon"}),o=this.createElement("span",{className:e.iconCss+" e-icons"});s.appendChild(o),h(n)?(n=this.headerEleGenerate(),n.appendChild(s),i.appendChild(n)):n.insertBefore(s,n.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){const s=this.toggleIconGenerate();h(n)&&(n=this.headerEleGenerate(),i.appendChild(n)),n.appendChild(s),this.add(i,TL)}return i}angularnativeCondiCheck(e,t){const n="content"===t?e.content:e.header;if(this.isAngular&&!h(n.elementRef)){const s=n.elementRef.nativeElement.data;if(h(s)||""===s||-1===s.indexOf("bindings="))return!0;const o=JSON.parse(n.elementRef.nativeElement.data.replace("bindings=",""));return!(!h(o)&&"false"===o["ng-reflect-ng-if"])}return!0}fetchElement(e,t,i,n){let s,o,l;try{if(document.querySelectorAll(t).length&&"Button"!==t){const a=document.querySelector(t);o=a.outerHTML.trim(),e.appendChild(a),a.style.display=""}else s=ci(t)}catch(a){"string"==typeof t?e.innerHTML=Xr.sanitize(t):!h(this.trgtEle)&&t instanceof HTMLElement?(e.appendChild(t),e.firstElementChild.style.display=""):s=ci(t)}if(!h(s)){let a,c;this.isReact&&this.renderReactTemplates(),e.classList.contains(IL)?(a=this.element.id+i+"_header",c="header"):e.classList.contains(u2)&&(a=this.element.id+i+"_content",c="content"),l=s({},this,c,a,this.isStringTemplate)}return h(l)||!(l.length>0)||h(l[0].tagName)&&1===l.length?0===e.childElementCount&&(e.innerHTML=Xr.sanitize(t)):[].slice.call(l).forEach(a=>{h(a.tagName)||(a.style.display=""),e.appendChild(a)}),h(o)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e}ariaAttrUpdate(e){const t=G("."+_l,e),i=G("."+Dh,e);t.setAttribute("aria-controls",i.id),i.setAttribute("aria-labelledby",t.id),i.setAttribute("role","definition")}contentRendering(e){const t=this.createElement("div",{className:Dh+" "+EL,id:Gn("acrdn_panel")});Le(t,{"aria-hidden":"true"});const i=this.createElement("div",{className:u2});return this.dataSource.length>0?(this.isReact&&this.renderReactTemplates(),Jt(this.getItemTemplate()(this.dataSource[e],this,"itemTemplate",this.element.id+"_itemTemplate",!1),i),t.appendChild(i)):(this.enableHtmlSanitizer&&typeof this.items[e].content&&(this.items[e].content=Xr.sanitize(this.items[e].content)),t.appendChild(this.fetchElement(i,this.items[e].content,e,!1))),t}expand(e){const t=this.getItems(),i=D(e,"."+Ad);if(h(e)||Vr(e)&&"true"!==e.getAttribute("e-animate")||i.classList.contains(Uy))return;const s=D(i,"."+h2).querySelector("."+yu),o={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},l=G("."+Ob,i).firstElementChild,a={element:i,item:t[this.getIndexByItem(i)],index:this.getIndexByItem(i),content:i.querySelector("."+Dh),isExpanded:!0};this.trigger("expanding",a,c=>{c.cancel||(l.classList.add(p2),this.expandedItemsPush(i),h(s)||s.classList.remove(yu),i.classList.add(yu),"None"===o.name?(this.expandProgress("begin",l,e,i,c),this.expandProgress("end",l,e,i,c)):this.expandAnimation(o.name,l,e,i,o,c))})}expandAnimation(e,t,i,n,s,o){let l;this.lastActiveItemId=n.id,"SlideDown"===e?(s.begin=()=>{this.expandProgress("begin",t,i,n,o),i.style.position="absolute",l=n.offsetHeight,i.style.maxHeight=i.offsetHeight+"px",n.style.maxHeight=""},s.progress=()=>{n.style.minHeight=l+i.offsetHeight+"px"},s.end=()=>{lt(i,{position:"",maxHeight:""}),n.style.minHeight="",this.expandProgress("end",t,i,n,o)}):(s.begin=()=>{this.expandProgress("begin",t,i,n,o)},s.end=()=>{this.expandProgress("end",t,i,n,o)}),new _s(s).animate(i)}expandProgress(e,t,i,n,s){this.remove(i,EL),this.add(n,Bb),this.add(t,n$),"end"===e&&(this.add(n,Nb),i.setAttribute("aria-hidden","false"),Le(n,{"aria-expanded":"true"}),Le(i.previousElementSibling,{"aria-label":"expanded"}),t.classList.remove(p2),this.trigger("expanded",s))}expandedItemsPush(e){const t=this.getIndexByItem(e);if(-1===this.expandedIndices.indexOf(t)){const i=[].slice.call(this.expandedIndices);i.push(t),this.setProperties({expandedIndices:i},!0)}}getIndexByItem(e){const t=this.getItemElements();return[].slice.call(t).indexOf(e)}getItemElements(){const e=[];return[].slice.call(this.element.children).forEach(i=>{i.classList.contains(Ad)&&e.push(i)}),e}expandedItemsPop(e){const t=this.getIndexByItem(e),i=[].slice.call(this.expandedIndices);i.splice(i.indexOf(t),1),this.setProperties({expandedIndices:i},!0)}collapse(e){const t=this.getItems(),i=D(e,"."+Ad);if(h(e)||!Vr(e)||i.classList.contains(Uy))return;const n={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},s=G("."+Ob,i).firstElementChild,o={element:i,item:t[this.getIndexByItem(i)],index:this.getIndexByItem(i),content:i.querySelector("."+Dh),isExpanded:!1};this.trigger("expanding",o,l=>{l.cancel||(this.expandedItemsPop(i),i.classList.remove(yu),s.classList.add(p2),"None"===n.name?(this.collapseProgress("begin",s,e,i,l),this.collapseProgress("end",s,e,i,l)):this.collapseAnimation(n.name,e,i,s,n,l))})}collapseAnimation(e,t,i,n,s,o){let l,a,c,d;this.lastActiveItemId=i.id,"SlideUp"===e?(s.begin=()=>{c=i.offsetHeight,i.style.minHeight=c+"px",t.style.position="absolute",l=i.offsetHeight,a=t.offsetHeight,t.style.maxHeight=a+"px",this.collapseProgress("begin",n,t,i,o)},s.progress=()=>{d=l-(a-t.offsetHeight),d<c&&(i.style.minHeight=d+"px")},s.end=()=>{t.style.display="none",this.collapseProgress("end",n,t,i,o),i.style.minHeight="",lt(t,{position:"",maxHeight:"",display:""})}):(s.begin=()=>{this.collapseProgress("begin",n,t,i,o)},s.end=()=>{this.collapseProgress("end",n,t,i,o)}),new _s(s).animate(t)}collapseProgress(e,t,i,n,s){this.remove(t,n$),this.remove(n,Bb),"end"===e&&(this.add(i,EL),t.classList.remove(p2),this.remove(n,Nb),i.setAttribute("aria-hidden","true"),Le(n,{"aria-expanded":"false"}),Le(i.previousElementSibling,{"aria-label":"collapsed"}),this.trigger("expanded",s))}getModuleName(){return"accordion"}itemAttribUpdate(){const e=this.getItems(),t=this.getItemElements(),i=e.length;t.forEach(n=>{G("."+_l,n).setAttribute("aria-level",""+i)})}getItems(){let e;return e=this.itemTemplate&&this.headerTemplate?this.dataSource:this.items,e}addItem(e,t){const i=this.element,n=this.getItemElements(),s=this.getItems();h(t)&&(t=s.length),i.childElementCount>=t&&(e instanceof Array?e:[e]).forEach((l,a)=>{const c=t+a;s.splice(c,0,l);const d=this.renderInnerItem(l,c);i.childElementCount===c?i.appendChild(d):i.insertBefore(d,n[c]),C.add(d.querySelector("."+_l),"focus",this.focusIn,this),C.add(d.querySelector("."+_l),"blur",this.focusOut,this),this.itemAttribUpdate(),this.expandedIndices=[],this.expandedItemRefresh(i),l&&l.expanded&&this.expandItem(!0,c)}),this.isReact&&this.renderReactTemplates()}expandedItemRefresh(e){const t=this.getItemElements();[].slice.call(t).forEach(i=>{i.classList.contains(Bb)&&this.expandedItemsPush(i)})}removeItem(e){this.isReact&&this.clearTemplate(["headerTemplate","itemTemplate"],e);const i=this.getItemElements()[e],n=this.getItems();h(i)||(this.restoreContent(e),de(i),n.splice(e,1),this.itemAttribUpdate(),this.expandedIndices=[],this.expandedItemRefresh(this.element))}select(e){const i=this.getItemElements()[e];h(i)||h(G("."+_l,i))||i.children[0].focus()}hideItem(e,t){const n=this.getItemElements()[e];h(n)||(h(t)&&(t=!0),t?this.add(n,Lb):this.remove(n,Lb))}enableItem(e,t){const n=this.getItemElements()[e];if(h(n))return;const s=n.firstElementChild;t?(this.remove(n,Uy),Le(s,{tabindex:"0","aria-disabled":"false"}),s.focus()):(n.classList.contains(Nb)&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,s)),this.add(n,Uy),s.setAttribute("aria-disabled","true"),s.removeAttribute("tabindex"))}expandItem(e,t){const i=this.getItemElements();if(h(t))if("Single"===this.expandMode&&e){const n=i[i.length-1];this.itemExpand(e,n,this.getIndexByItem(n))}else{const n=G("#"+this.lastActiveItemId,this.element);[].slice.call(i).forEach(o=>{this.itemExpand(e,o,this.getIndexByItem(o)),o.classList.remove(yu)});const s=G("."+yu,this.element);s&&s.classList.remove(yu),n&&n.classList.add(yu)}else{const n=i[t];if(h(n)||!n.classList.contains(TL)||n.classList.contains(Nb)&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,n,t)}}itemExpand(e,t,i){let n=t.children[1];t.classList.contains(Uy)||(h(n)&&e?(n=this.contentRendering(i),t.appendChild(n),this.ariaAttrUpdate(t),this.expand(n)):h(n)||(e?this.expand(n):this.collapse(n)),this.isReact&&this.renderReactTemplates())}destroyItems(){this.restoreContent(null),(this.isReact||this.isAngular||this.isVue)&&this.clearTemplate(),[].slice.call(this.element.querySelectorAll("."+Ad)).forEach(e=>{de(e)})}restoreContent(e){let t;t=h(e)?this.element:this.element.querySelectorAll("."+Ad)[e],this.templateEle.forEach(i=>{h(t.querySelector(i))||(document.body.appendChild(t.querySelector(i)).style.display="none")})}updateItem(e,t){if(!h(e)){const i=this.getItems(),n=i[t];i.splice(t,1),this.restoreContent(t),de(e),this.addItem(n,t)}}setTemplate(e,t,i){t.innerHTML="",this.templateCompile(t,e,i),this.isReact&&this.renderReactTemplates()}templateCompile(e,t,i){const n=this.createElement("div");this.fetchElement(n,t,i,!1),0!==n.childNodes.length&&[].slice.call(n.childNodes).forEach(s=>{e.appendChild(s)})}getPersistData(){return this.addOnPersist(["expandedIndices"])}onPropertyChanged(e,t){const i=this.element;let n=!1;for(const s of Object.keys(e))switch(s){case"items":if(e.items instanceof Array&&t.items instanceof Array)n=!0;else{const o=Object.keys(e.items);for(let l=0;l<o.length;l++){const a=parseInt(Object.keys(e.items)[l],10),c=Object.keys(e.items[a])[0],d=gt("."+Ad,this.element)[a],u=Object(t.items[a])[c],p=Object(e.items[a])[c],g=c;if(("header"===g||"iconCss"===g||"expanded"===g||"content"===g&&""===u)&&this.updateItem(d,a),"cssClass"===c&&!h(d)&&(d.classList.remove(u),d.classList.add(p)),"visible"===c&&!h(d)&&(!1===Object(e.items[a])[c]?d.classList.add(Lb):d.classList.remove(Lb)),"disabled"===c&&!h(d)&&this.enableItem(a,!p),"content"===c&&!h(d)&&2===d.children.length)if("function"==typeof p){const f=d.querySelector("."+u2);f.innerHTML="",this.setTemplate(p,f,a)}else d.classList.contains(Bb)&&this.expandItem(!1,a),de(d.querySelector("."+Dh))}}break;case"dataSource":case"expandedIndices":null===this.expandedIndices&&(this.expandedIndices=[]),n=!0;break;case"headerTemplate":this.initializeHeaderTemplate(),n=!0;break;case"itemTemplate":this.initializeItemTemplate(),n=!0;break;case"enableRtl":e.enableRtl?this.add(i,DL):this.remove(i,DL);break;case"height":lt(this.element,{height:$e(e.height)});break;case"width":lt(this.element,{width:$e(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedIndices.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}n&&(this.initExpand=[],this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),this.destroyItems(),this.renderItems(),this.initItemExpand())}};ir([Hr([],cg)],ga.prototype,"items",void 0),ir([y([])],ga.prototype,"dataSource",void 0),ir([y()],ga.prototype,"itemTemplate",void 0),ir([y()],ga.prototype,"headerTemplate",void 0),ir([y("100%")],ga.prototype,"width",void 0),ir([y("auto")],ga.prototype,"height",void 0),ir([y([])],ga.prototype,"expandedIndices",void 0),ir([y("Multiple")],ga.prototype,"expandMode",void 0),ir([y(!1)],ga.prototype,"enableHtmlSanitizer",void 0),ir([gi({},RL)],ga.prototype,"animation",void 0),ir([E()],ga.prototype,"clicked",void 0),ir([E()],ga.prototype,"expanding",void 0),ir([E()],ga.prototype,"expanded",void 0),ir([E()],ga.prototype,"created",void 0),ir([E()],ga.prototype,"destroyed",void 0),ga=ir([Pi],ga);var g2=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Za=class extends Uo{constructor(e,t){super(e,t)}preRender(){this.isMenu=!1,this.element.id=this.element.id||Gn("ej2-contextmenu"),super.preRender()}initialize(){super.initialize(),Le(this.element,{role:"menubar",tabindex:"0"}),this.element.style.zIndex=hf(this.element).toString()}open(e,t,i){super.openMenu(null,null,e,t,null,i)}close(){super.closeMenu()}onPropertyChanged(e,t){super.onPropertyChanged(e,t);for(const i of Object.keys(e))switch(i){case"filter":this.close(),this.filter=e.filter;break;case"target":this.unWireEvents(t.target),this.wireEvents()}}getModuleName(){return"contextmenu"}};g2([y("")],Za.prototype,"target",void 0),g2([y("")],Za.prototype,"filter",void 0),g2([Hr([],gu)],Za.prototype,"items",void 0),Za=g2([Pi],Za);var dg=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const xu="e-vertical",kL="e-hamburger";let Cu=class extends Uo{constructor(e,t){super(e,t),this.tempItems=[]}getModuleName(){return"menu"}preRender(){if(this.isMenu=!0,this.element.id=this.element.id||Gn("ej2-menu"),this.template)try{document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch(e){}else this.updateMenuItems(this.items);super.preRender()}initialize(){super.initialize(),Le(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(xu),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(xu),this.element.setAttribute("aria-orientation","vertical")):A.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add(kL),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))}updateMenuItems(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"orientation":"Vertical"===e.orientation?(this.element.classList.add(xu),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(xu),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(xu),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(xu),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(t.items).length||this.updateMenuItems(e.items);break;case"hamburgerMode":this.element.previousElementSibling||super.createHeaderContainer(),e.hamburgerMode?(this.element.parentElement.classList.add(kL),[].slice.call(this.element.getElementsByClassName("e-blankicon")).forEach(n=>{n.style[this.enableRtl?"paddingRight":"paddingLeft"]=""})):(this.element.parentElement.classList.remove(kL),"Vertical"===this.orientation&&this.setBlankIconStyle(this.element)),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(xu),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(xu):this.element.previousElementSibling.classList.remove(xu),this.element.classList[e.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(e.title=this.enableHtmlSanitizer?Xr.sanitize(e.title):e.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=e.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(t.target),this.wireEvents(),"Horizontal"===this.orientation&&(e.target?this.element.previousElementSibling.classList.add(xu):(this.element.previousElementSibling||super.createHeaderContainer(),this.element.previousElementSibling.classList.remove(xu)),this.element.classList.add("e-hide-menu")))}super.onPropertyChanged(e,t)}createMenuItems(e){let t,i,n=this.items;const s=this.getField("parentId");if(e[s]){for(t=this.getIndex(e[s].toString(),!0),i=0;i<t.length;i++)n[t[i]].items||(n[t[i]].items=[]),n=n[t[i]].items;n.push(e)}else this.items.push(e)}open(){super.openHamburgerMenu()}close(){super.closeHamburgerMenu()}};dg([y("Horizontal")],Cu.prototype,"orientation",void 0),dg([y("")],Cu.prototype,"target",void 0),dg([y(null)],Cu.prototype,"template",void 0),dg([y(!1)],Cu.prototype,"enableScrolling",void 0),dg([y(!1)],Cu.prototype,"hamburgerMode",void 0),dg([y("Menu")],Cu.prototype,"title",void 0),dg([y(!1)],Cu.prototype,"enableHtmlSanitizer",void 0),dg([gi({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},lg)],Cu.prototype,"fields",void 0),Cu=dg([Pi],Cu);var cn=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const hg="e-tab",Fa="e-tab-header",Vn="e-content",f2="e-nested",Ko="e-item",AL="e-template",ML="e-rtl",ss="e-active",_f="e-disable",Cr="e-hidden",FL="e-focused",PL="e-icons",LL="e-icon",r$="e-icon-tab",OL="e-close-icon",m2="e-close-show",v2="e-tab-text",$y="e-indicator",Eh="e-tab-wrap",y2="e-text-wrap",o$="e-tab-icon",od="e-toolbar-items",Hn="e-toolbar-item",l$="e-toolbar-pop",ug="e-toolbar-popup",x2="e-progress",a$="e-ignore",BL="e-overlay",NL="e-vertical-tab",VL="e-vertical",c$="e-vertical-left",d$="e-vertical-right",h$="e-horizontal-bottom",HL="e-fill-mode",zL="e-reorder-active-item";class Hb extends Nt{}cn([y("SlideLeftIn")],Hb.prototype,"effect",void 0),cn([y(600)],Hb.prototype,"duration",void 0),cn([y("ease")],Hb.prototype,"easing",void 0);class jL extends Nt{}cn([gi({effect:"SlideLeftIn",duration:600,easing:"ease"},Hb)],jL.prototype,"previous",void 0),cn([gi({effect:"SlideRightIn",duration:600,easing:"ease"},Hb)],jL.prototype,"next",void 0);class C2 extends Nt{}cn([y("")],C2.prototype,"text",void 0),cn([y("")],C2.prototype,"iconCss",void 0),cn([y("left")],C2.prototype,"iconPosition",void 0);class Sf extends Nt{}cn([gi({},C2)],Sf.prototype,"header",void 0),cn([y(null)],Sf.prototype,"headerTemplate",void 0),cn([y("")],Sf.prototype,"content",void 0),cn([y("")],Sf.prototype,"cssClass",void 0),cn([y(!1)],Sf.prototype,"disabled",void 0),cn([y(!0)],Sf.prototype,"visible",void 0),cn([y()],Sf.prototype,"id",void 0);let Gs=class extends an{constructor(e,t){super(e,t),this.show={},this.hide={},this.maxHeight=0,this.title="Close",this.isInteracted=!1,this.lastIndex=0,this.isAdd=!1,this.isIconAlone=!1,this.draggableItems=[],this.resizeContext=this.refreshActiveTabBorder.bind(this),this.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"}}destroy(){if((this.isReact||this.isAngular)&&this.clearTemplate(),h(this.tbObj)||(this.tbObj.destroy(),this.tbObj=null),this.unWireEvents(),["role","aria-disabled","aria-activedescendant","tabindex","aria-orientation","aria-owns"].forEach(e=>{this.element.removeAttribute(e)}),this.expTemplateContent(),this.isTemplate){const e=G(".e-tab > ."+Vn,this.element);this.element.classList.remove(AL),h(e)||(e.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)X(this.element.firstElementChild);if(this.btnCls&&(this.btnCls=null),this.hdrEle=null,this.cntEle=null,this.tbItems=null,this.tbItem=null,this.tbPop=null,this.prevItem=null,this.popEle=null,this.bdrLine=null,this.content=null,this.dragItem=null,this.cloneElement=null,this.draggingItems=[],this.draggableItems&&this.draggableItems.length>0){for(let e=0;e<this.draggableItems.length;e++)this.draggableItems[e].destroy(),this.draggableItems[e]=null;this.draggableItems=[]}super.destroy(),this.trigger("destroyed")}refresh(){this.isReact&&this.clearTemplate(),super.refresh(),this.isReact&&this.renderReactTemplates()}preRender(){const e=D(this.element,"."+Vn);this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwipeed=!1,this.itemIndexArray=[],this.templateEle=[],this.allowDragAndDrop&&(this.dragArea=h(this.dragArea)?"#"+this.element.id+" ."+Fa:this.dragArea),h(e)||(e.parentElement.classList.add(f2),this.isNested=!0);const t=A.info.name,i="msie"===t?"e-ie":"edge"===t?"e-edge":"safari"===t?"e-safari":"";lt(this.element,{width:$e(this.width),height:$e(this.height)}),this.setCssClass(this.element,this.cssClass,!0),Le(this.element,{role:"tablist","aria-disabled":"false","aria-activedescendant":"","aria-owns":this.element.id+"_tab_header_items"}),this.setCssClass(this.element,i,!0),this.updatePopAnimationConfig()}render(){this.btnCls=this.createElement("span",{className:PL+" "+OL,attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:Rq(),this.renderContainer(),this.wireEvents(),this.initRender=!1}renderContainer(){const e=this.element;if(this.items.forEach((t,i)=>{h(t.id)&&!h(t.setProperties)&&t.setProperties({id:"tabitem_"+i.toString()},!0)}),this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:Vn})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:Fa})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add(AL);const t=e.querySelector("."+Fa);t&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,t)}if(!h(G("."+Fa,this.element))&&!h(G("."+Vn,this.element))){if(this.renderHeader(),this.tbItems=G("."+Fa+" ."+od,this.element),h(this.tbItems)||Ys(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),gt("."+Hn,this.element).length>0){this.tbItems=G("."+Fa+" ."+od,this.element),this.bdrLine=this.createElement("div",{className:$y+" "+Cr+" "+a$});const t=G("."+this.scrCntClass,this.tbItems);h(t)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):t.insertBefore(this.bdrLine,t.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}if(!h(this.tbItem))for(let t=0;t<this.items.length;t++)this.tbItem[t].setAttribute("data-id",this.items[t].id);this.setRTL(this.enableRtl)}}serverItemsChanged(){if(this.enableAnimation=!1,this.setActive(this.selectedItem,!0),"Dynamic"!==this.loadOn&&!h(this.cntEle)){const e=[].slice.call(this.cntEle.children),t=Vn+this.tabId+"_"+this.selectedItem;e.forEach(i=>{i.classList.contains(ss)&&i.id!==t&&i.classList.remove(ss),i.id===t&&i.classList.add(ss)}),this.prevIndex=this.selectedItem,this.triggerAnimation(Ko+this.tabId+"_"+this.selectedItem,!1)}this.enableAnimation=!0}headerReady(){if(this.initRender=!0,this.hdrEle=this.getTabHeader(),this.setOrientation(this.headerPlacement,this.hdrEle),h(this.hdrEle)||(this.tbObj=this.hdrEle&&this.hdrEle.ej2_instances[0]),this.tbObj.clicked=this.clickHandler.bind(this),this.tbObj.on("onItemsChanged",this.serverItemsChanged.bind(this)),this.tbItems=G("."+Fa+" ."+od,this.element),h(this.tbItems)||Ys(this.tbItems,{selector:".e-tab-wrap"}),gt("."+Hn,this.element).length>0){this.bdrLine=G("."+$y+"."+a$,this.element);const e=G("."+this.scrCntClass,this.tbItems);h(e)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstElementChild):e.insertBefore(this.bdrLine,e.firstElementChild),this.select(this.selectedItem)}if(this.cntEle=G(".e-tab > ."+Vn,this.element),h(this.cntEle)||(this.touchModule=new Qr(this.cntEle,{swipe:this.swipeHandler.bind(this)})),"Demand"===this.loadOn){const e=this.setActiveContent();this.triggerAnimation(e,!1)}this.initRender=!1,this.renderComplete()}setActiveContent(){const e=Ko+this.tabId+"_"+this.selectedItem,t=this.getTrgContent(this.cntEle,this.extIndex(e));return h(t)||t.classList.add(ss),e}renderHeader(){const e=this.headerPlacement;let t=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains(Fa)&&this.setProperties({headerPlacement:"Bottom"},!0);const n=this.hdrEle.children.length,s=[];for(let o=0;o<n;o++)s.push(this.hdrEle.children.item(o).innerHTML);if(n>0){for(;this.hdrEle.firstElementChild;)de(this.hdrEle.firstElementChild);const o=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(o),s.forEach((l,a)=>{this.lastIndex=a;const c={className:Ko,id:Ko+this.tabId+"_"+a,attrs:{role:"tab","aria-controls":Vn+this.tabId+"_"+a,"aria-selected":"false"}},d=this.createElement("span",{className:v2,innerHTML:l,attrs:{role:"presentation"}}).outerHTML,u=this.createElement("div",{className:y2,innerHTML:d+this.btnCls.outerHTML}).outerHTML,p=this.createElement("div",{className:Eh,innerHTML:u,attrs:{tabIndex:"-1"}});o.appendChild(this.createElement("div",c)),gt("."+Ko,o)[a].appendChild(p)})}}else t=this.parseObject(this.items,0);this.tbObj=new Yl({width:"Left"===e||"Right"===e?"auto":"100%",height:"Left"===e||"Right"===e?"100%":"auto",overflowMode:this.overflowMode,items:0!==t.length?t:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep,enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),Le(this.hdrEle,{"aria-label":"tab-header"}),this.updateOrientationAttribute(),this.setCloseButton(this.showCloseButton);const i=this.tbObj.element.querySelector("."+od);h(i)||(i.id=this.element.id+"_tab_header_items")}renderContent(){this.cntEle=G("."+Vn,this.element);const e=gt("."+Hn,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";const t=this.cntEle.children;for(let i=0;i<e.length;i++)t.length-1>=i&&(_([t.item(i)],Ko),Le(t.item(i),{role:"tabpanel","aria-labelledby":Ko+this.tabId+"_"+i}),t.item(i).id=Vn+this.tabId+"_"+i)}}reRenderItems(){this.renderContainer(),h(this.cntEle)||(this.touchModule=new Qr(this.cntEle,{swipe:this.swipeHandler.bind(this)}))}parseObject(e,t){const i=gt(".e-tab-header ."+Hn,this.element);let n=this.lastIndex;if(!this.isReplace&&i.length>0){const a=[];i.forEach(c=>{a.push(parseInt(c.id.slice(c.id.indexOf("_")+1),10))}),n=Math.max(...a)}const s=[];let o;const l=[];return e.forEach((a,c)=>{const d=h(a.header)||h(a.header.iconPosition)?"":a.header.iconPosition,u=h(a.header)||h(a.header.iconCss)?"":a.header.iconCss;if(h(a.headerTemplate)&&(h(a.header)||h(a.header.text)||0===a.header.text.length&&""===u))return void l.push(c);let g,p=a.headerTemplate||a.header.text;if("string"==typeof p&&this.enableHtmlSanitizer&&(p=Xr.sanitize(p)),this.isReplace&&!h(this.tbId)&&""!==this.tbId){const ae=this.tbId.indexOf("_");g=parseInt(this.tbId.substring(ae+1),10),this.tbId=""}else g=t+c;this.lastIndex=0===i.length?c:this.isReplace?g:n+1+c;const f=a.disabled?" "+_f+" "+BL:"",m=!1===a.visible?" "+Cr:"";o=this.createElement("div",{className:v2,attrs:{role:"presentation"}});const v=p instanceof Object?p.outerHTML:p,x=!h(v)&&""!==v;let w;h(p.tagName)?this.headerTextCompile(o,p,c):o.appendChild(p);const b=this.createElement("span",{className:PL+" "+o$+" "+LL+"-"+d+" "+u}),I=this.createElement("div",{className:y2});I.appendChild(o),""!==p&&void 0!==p&&""!==u?("left"===d||"top"===d?I.insertBefore(b,I.firstElementChild):I.appendChild(b),w=o,this.isIconAlone=!1):(w=""===u?o:b,w===b&&(de(o),I.appendChild(b),this.isIconAlone=!0));const k=a.disabled?{}:{tabIndex:"-1"};I.appendChild(this.btnCls.cloneNode(!0));const P=this.createElement("div",{className:Eh,attrs:k});P.appendChild(I),this.itemIndexArray===[]?this.itemIndexArray.push(Ko+this.tabId+"_"+this.lastIndex):this.itemIndexArray.splice(t+c,0,Ko+this.tabId+"_"+this.lastIndex);const oe={htmlAttributes:{id:Ko+this.tabId+"_"+this.lastIndex,role:"tab","aria-selected":"false"},template:P};oe.cssClass=(void 0!==a.cssClass?a.cssClass:" ")+" "+f+" "+m+" "+(""!==u?"e-i"+d:"")+" "+(x?"":LL),("top"===d||"bottom"===d)&&this.element.classList.add("e-vertical-icon"),s.push(oe),c++}),this.isAdd||l.forEach(a=>{this.items.splice(a,1)}),this.isIconAlone?this.element.classList.add(r$):this.element.classList.remove(r$),s}removeActiveClass(){const e=this.getTabHeader();if(e){const t=gt("."+Hn+"."+ss,e);[].slice.call(t).forEach(i=>i.classList.remove(ss))}}checkPopupOverflow(e){this.tbPop=G("."+l$,this.element);const t=G(".e-hor-nav",this.element),i=G("."+od,this.element),n=i.lastChild;let s=!1;return(!this.isVertical()&&(this.enableRtl&&t.offsetLeft+t.offsetWidth>i.offsetLeft||!this.enableRtl&&t.offsetLeft<i.offsetWidth)||this.isVertical()&&t.offsetTop<n.offsetTop+n.offsetHeight)&&(s=!0),s&&(e.classList.add(ug),this.tbPop.insertBefore(e,gt("."+ug,this.tbPop)[0])),!0}popupHandler(e){const t=e.querySelector(".e-ripple-element");h(t)||(t.outerHTML="",e.querySelector("."+Eh).classList.remove("e-ripple")),this.tbItem=gt("."+od+" ."+Hn,this.hdrEle);const i=this.tbItem[this.tbItem.length-1];return 0!==this.tbItem.length&&(e.classList.remove(ug),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(i)&&this.checkPopupOverflow(this.tbItems.lastChild.previousElementSibling),this.isPopup=!0),gt("."+Hn,this.tbItems).length-1}updateOrientationAttribute(){Le(this.element,{"aria-orientation":this.isVertical()?"vertical":"horizontal"})}setCloseButton(e){const t=G("."+Fa,this.element);!0===e?t.classList.add(m2):t.classList.remove(m2),this.tbObj.refreshOverflow(),this.refreshActiveTabBorder()}prevCtnAnimation(e,t){let i;return this.enableRtl||this.element.classList.contains(ML),i=this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null,i}triggerPrevAnimation(e,t){const i=this.prevCtnAnimation(t,this.selectedItem);h(i)?e.classList.remove(ss):(i.begin=()=>{lt(e,{position:"absolute"}),e.classList.add(x2),e.classList.add("e-view")},i.end=()=>{e.style.display="none",e.classList.remove(ss),e.classList.remove(x2),e.classList.remove("e-view"),lt(e,{display:"",position:""}),0===e.childNodes.length&&!this.isTemplate&&de(e)},new _s(i).animate(e))}triggerAnimation(e,t){const i=this.prevIndex;let n;[].slice.call(this.element.querySelector("."+Vn).children).forEach(d=>{d.id===this.prevActiveEle&&(n=d)});const o=this.tbItem[i],l=this.getTrgContent(this.cntEle,this.extIndex(e));if(h(n)&&!h(o)){const d=this.extIndex(o.id);n=this.getTrgContent(this.cntEle,d)}if(h(l)||(this.prevActiveEle=l.id),this.initRender||!1===t||this.animation==={}||h(this.animation))return void(n&&n!==l&&n.classList.remove(ss));const a=G("."+Vn,this.element);let c;if(this.prevIndex>this.selectedItem&&!this.isPopup){const d=this.animation.previous.effect;c={name:"None"===d?"":"SlideLeftIn"!==d?d:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){const d=this.animation.next.effect;c={name:"None"===d?"":"SlideRightIn"!==d?d:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}c.progress=()=>{a.classList.add(x2),this.setActiveBorder()},c.end=()=>{a.classList.remove(x2),l.classList.add(ss)},!this.initRender&&!h(n)&&this.triggerPrevAnimation(n,i),this.isPopup=!1,""===c.name?l.classList.add(ss):new _s(c).animate(l)}keyPressed(e){const t=D(e,"."+Fa+" ."+Hn),i=this.getEleIndex(t);!h(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():!h(t)&&!1===t.classList.contains(ss)&&(this.selectTab(i,null,!0),h(this.popEle)||this.popObj.hide(this.hide))}getTabHeader(){if(h(this.element))return;const e=[].slice.call(this.element.children).filter(t=>t.classList.contains(Fa));if(e.length>0)return e[0];{const t=[].slice.call(this.element.children).filter(i=>!i.classList.contains("blazor-template"))[0];return t?[].slice.call(t.children).filter(i=>i.classList.contains(Fa))[0]:void 0}}getEleIndex(e){return Array.prototype.indexOf.call(gt("."+Hn,this.getTabHeader()),e)}extIndex(e){return e.replace(Ko+this.tabId+"_","")}expTemplateContent(){this.templateEle.forEach(e=>{h(this.element.querySelector(e))||(document.body.appendChild(this.element.querySelector(e)).style.display="none")})}templateCompile(e,t,i){const n=this.createElement("div");this.compileElement(n,t,"content",i),0!==n.childNodes.length&&e.appendChild(n),this.isReact&&this.renderReactTemplates()}compileElement(e,t,i,n){let s,o;"string"==typeof t?(t=t.trim(),this.isVue?s=ci(Xr.sanitize(t)):e.innerHTML=Xr.sanitize(t)):s=ci(t),h(s)||(o=s({},this,i)),!h(s)&&o.length>0&&[].slice.call(o).forEach(l=>{e.appendChild(l)})}headerTextCompile(e,t,i){this.compileElement(e,t,"headerTemplate",i)}getContent(e,t,i,n){let s;if("string"==typeof(t=h(t)?"":t)||h(t.innerHTML))if("string"==typeof t&&this.enableHtmlSanitizer&&(t=Xr.sanitize(t)),"."===t[0]||"#"===t[0])if(document.querySelectorAll(t).length){const o=document.querySelector(t);s=o.outerHTML.trim(),"clone"===i?e.appendChild(o.cloneNode(!0)):(e.appendChild(o),o.style.display="")}else this.templateCompile(e,t,n);else this.templateCompile(e,t,n);else e.appendChild(t);h(s)||-1===this.templateEle.indexOf(t.toString())&&this.templateEle.push(t.toString())}getTrgContent(e,t){let i;return i=this.element.classList.contains(f2)?G("."+f2+"> ."+Vn+" > #"+Vn+this.tabId+"_"+t,this.element):this.findEle(e.children,Vn+this.tabId+"_"+t),i}findEle(e,t){let i;for(let n=0;n<e.length;n++)if(e[n].id===t){i=e[n];break}return i}isVertical(){const e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e}addVerticalClass(){if(this.isVertical()){const e="Left"===this.headerPlacement?c$:d$;_([this.hdrEle],[VL,e]),this.element.classList.contains(f2)?_([this.hdrEle],[NL,e]):_([this.element],[NL,e])}"Bottom"===this.headerPlacement&&_([this.hdrEle],[h$])}updatePopAnimationConfig(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}}changeOrientation(e){this.setOrientation(e,this.hdrEle);const t=this.hdrEle.querySelector("."+ss),i=!!this.hdrEle.classList.contains(VL);T([this.element],[NL]),T([this.hdrEle],[VL,c$,d$]),i!==this.isVertical()&&(this.changeToolbarOrientation(),!h(t)&&t.classList.contains(ug)&&this.popupHandler(t)),this.addVerticalClass(),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()}focusItem(){const e=G(" #"+Ko+this.tabId+"_"+this.selectedItem,this.hdrEle);h(e)||e.firstElementChild.focus()}changeToolbarOrientation(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()}setOrientation(e,t){const i=Array.prototype.indexOf.call(this.element.children,t),n=Array.prototype.indexOf.call(this.element.children,this.element.querySelector("."+Vn));"Bottom"===e&&n>i?this.element.appendChild(t):(T([t],[h$]),this.element.insertBefore(t,G("."+Vn,this.element)))}setCssClass(e,t,i){if(""===t)return;const n=t.split(" ");for(let s=0;s<n.length;s++)i?e.classList.add(n[s]):e.classList.remove(n[s])}setContentHeight(e){if(this.element.classList.contains(HL)&&T([this.element],[HL]),h(this.cntEle))return;const t=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||lt(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)_([this.element],[HL]),lt(this.element,{height:"100%"}),lt(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"});else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate){const i=gt("."+Vn+" > ."+Ko,this.element);for(let n=0;n<i.length;n++)i[n].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(i[n])),i[n].style.removeProperty("display"),i[n].style.removeProperty("visibility")}else{this.cntEle=G("."+Vn,this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:Vn+this.tabId+"_0",className:Ko+" "+ss,attrs:{role:"tabpanel","aria-labelledby":Ko+this.tabId+"_0"}}));const i=this.cntEle.children.item(0);for(let n=0;n<this.items.length;n++)for(this.getContent(i,this.items[n].content,"clone",n),this.maxHeight=Math.max(this.maxHeight,this.getHeight(i));i.firstChild;)i.removeChild(i.firstChild);this.isReact&&this.clearTemplate(["content"]),this.templateEle=[],this.getContent(i,this.items[0].content,"render",0),this.prevIndex!==this.selectedItem&&i.classList.remove(ss)}lt(this.cntEle,{height:this.maxHeight+"px"})}else lt(this.cntEle,{height:"auto"})}getHeight(e){const t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}setActiveBorder(){const e=this.getTabHeader(),t=G("."+Hn+"."+ss,e);if(h(t))return;this.reorderActiveTab?e&&e.classList.remove(zL):(t.classList.contains(ug)&&!this.bdrLine.classList.contains(Cr)&&this.bdrLine.classList.add(Cr),e&&!e.classList.contains(zL)&&e.classList.add(zL));const i=D(t,"."+hg);if(this.element!==i)return;this.tbItems=G("."+od,e);const n=G("."+$y,e),s=G("."+od+" ."+this.scrCntClass,e);if(this.isVertical())lt(n,{left:"",right:""}),0!==(h(s)?this.tbItems.offsetHeight:s.offsetHeight)?lt(n,{top:t.offsetTop+"px",height:t.offsetHeight+"px"}):lt(n,{top:0,height:0});else{"MultiRow"===this.overflowMode?lt(G("."+$y,this.element),{top:t.offsetHeight+t.offsetTop+"px",height:""}):lt(n,{top:"",height:""});let o=h(s)?this.tbItems.offsetWidth:s.offsetWidth;lt(n,0!==o?{left:t.offsetLeft+"px",right:o-(t.offsetLeft+t.offsetWidth)+"px"}:{left:"auto",right:"auto"})}!h(this.bdrLine)&&!t.classList.contains(ug)&&this.bdrLine.classList.remove(Cr)}setActive(e,t=!1,i=!1){this.tbItem=gt("."+Hn,this.getTabHeader());const n=this.tbItem[e];if(e<0||isNaN(e)||0===this.tbItem.length)return;if(e>=0&&!t&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),n.classList.contains(ss))return void this.setActiveBorder();if(!this.isTemplate){const l=this.tbItem[this.prevIndex];h(l)||l.removeAttribute("aria-controls"),Le(n,{"aria-controls":Vn+this.tabId+"_"+e})}const s=n.id;this.removeActiveClass(),n.classList.add(ss),this.tbItem[this.prevIndex].setAttribute("aria-selected","false"),n.setAttribute("aria-selected","true");const o=Number(this.extIndex(s));if(h(this.prevActiveEle)&&(this.prevActiveEle=Vn+this.tabId+"_"+o),Le(this.element,{"aria-activedescendant":s}),this.isTemplate){if(G("."+Vn,this.element).children.length>0){const l=this.findEle(G("."+Vn,this.element).children,Vn+this.tabId+"_"+o);h(l)||l.classList.add(ss),this.triggerAnimation(s,this.enableAnimation)}}else{this.cntEle=G(".e-tab > ."+Vn,this.element);const l=this.getTrgContent(this.cntEle,this.extIndex(s));if(h(l)){this.cntEle.appendChild(this.createElement("div",{id:Vn+this.tabId+"_"+this.extIndex(s),className:Ko+" "+ss,attrs:{role:"tabpanel","aria-labelledby":Ko+this.tabId+"_"+this.extIndex(s)}}));const a=this.getTrgContent(this.cntEle,this.extIndex(s)),c=Array.prototype.indexOf.call(this.itemIndexArray,s);this.getContent(a,this.items[c].content,"render",c)}else l.classList.add(ss);this.triggerAnimation(s,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(n),!this.initRender&&!t){n.firstElementChild.focus();const l={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:n,selectedIndex:e,selectedContent:G("#"+Vn+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed,isInteracted:i};this.trigger("selected",l)}}contentReady(){const e=this.setActiveContent();this.triggerAnimation(e,this.enableAnimation)}setItems(e){this.isReplace=!0,this.tbItems=G("."+od,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1}setRTL(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,ML,e),this.refreshActiveBorder()}refreshActiveBorder(){h(this.bdrLine)||this.bdrLine.classList.add(Cr),this.setActiveBorder()}showPopup(e){const t=G(".e-popup.e-toolbar-pop",this.hdrEle);if(t.classList.contains("e-popup-close")){const i=t&&t.ej2_instances[0];i.position.X="Left"===this.headerPlacement?"left":"right",i.dataBind(),i.show(e)}}bindDraggable(){if(this.allowDragAndDrop){const e=this.element.querySelector("."+Fa);e&&e.querySelectorAll("."+Hn).forEach(i=>{this.initializeDrag(i)})}}wireEvents(){this.bindDraggable(),window.addEventListener("resize",this.resizeContext),C.add(this.element,"mouseover",this.hoverHandler,this),C.add(this.element,"keydown",this.spaceKeyDown,this),h(this.cntEle)||(this.touchModule=new Qr(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new tn(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new tn(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})}unWireEvents(){h(this.keyModule)||this.keyModule.destroy(),h(this.tabKeyModule)||this.tabKeyModule.destroy(),!h(this.cntEle)&&!h(this.touchModule)&&(this.touchModule.destroy(),this.touchModule=null),window.removeEventListener("resize",this.resizeContext),C.remove(this.element,"mouseover",this.hoverHandler),C.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove(ML),this.element.classList.remove(FL)}clickHandler(e){this.element.classList.remove(FL);const t=e.originalEvent.target,i=D(t,"."+Hn),n=this.getEleIndex(i);t.classList.contains(OL)?this.removeTab(n):this.isVertical()&&D(t,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,!h(i)&&(n!==this.selectedItem||n!==this.prevIndex)&&this.selectTab(n,e.originalEvent,!0))}swipeHandler(e){if(e.velocity<3&&h(e.originalEvent.changedTouches))return;this.isNested&&this.element.setAttribute("data-swipe","true");const t=this.element.querySelector('[data-swipe="true"]');if(t)t.removeAttribute("data-swipe");else{if(this.isSwipeed=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(let i=this.selectedItem-1;i>=0;i--)if(!this.tbItem[i].classList.contains(Cr)){this.selectTab(i,null,!0);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==gt("."+Hn,this.element).length-1)for(let i=this.selectedItem+1;i<this.tbItem.length;i++)if(!this.tbItem[i].classList.contains(Cr)){this.selectTab(i,null,!0);break}this.isSwipeed=!1}}spaceKeyDown(e){(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which)&&(h(D(e.target,"."+Fa))||e.preventDefault())}keyHandler(e){if(this.element.classList.contains(_f))return;this.element.classList.add(FL);const t=e.target,i=this.getTabHeader(),n=G("."+ss,i);this.popEle=G("."+l$,i),h(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]);const s=D(document.activeElement,"."+Hn),o=D(t,"."+Hn);switch(e.action){case"space":case"enter":if(t.parentElement.classList.contains(_f))return;if("enter"===e.action&&t.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(t);break;case"tab":case"shiftTab":t.classList.contains(Eh)&&!1===D(t,"."+Hn).classList.contains(ss)&&t.setAttribute("tabindex","-1"),this.popObj&&Vr(this.popObj.element)&&this.popObj.hide(this.hide),n.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":h(s)||this.refreshItemVisibility(s);break;case"openPopup":e.preventDefault(),!h(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":if(!0===this.showCloseButton&&!h(o)){const l=o.nextSibling;!h(l)&&l.classList.contains(Hn)&&l.firstElementChild.focus(),this.removeTab(this.getEleIndex(o))}this.setActiveBorder()}}refreshActiveTabBorder(){const e=G("."+Hn+"."+ug+"."+ss,this.element);!h(e)&&this.reorderActiveTab&&this.select(this.getEleIndex(e)),this.refreshActiveBorder()}refreshItemVisibility(e){const t=G("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!h(t)){const i=G(".e-hscroll-bar",this.tbItems),n=i.scrollLeft,s=n+i.offsetWidth,o=e.offsetLeft,l=e.offsetWidth,a=e.offsetLeft+e.offsetWidth;n<o&&s<a?i.scrollLeft=n+(l-(s-o)):n>o&&s>a&&(i.scrollLeft=n-(l-(a-n)))}}hoverHandler(e){const t=e.target;!h(t.classList)&&t.classList.contains(OL)&&t.setAttribute("title",new is("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))}evalOnPropertyChangeItems(e,t){if(e.items instanceof Array&&t.items instanceof Array)if(this.lastIndex=0,h(this.tbObj))this.reRenderItems();else{(this.isReact||this.isAngular)&&this.clearTemplate(),this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];const i=G(".e-tab > ."+Vn,this.element);for(;i.firstElementChild;)de(i.firstElementChild);this.select(this.selectedItem),this.draggableItems=[],this.bindDraggable()}else{const i=Object.keys(e.items);for(let n=0;n<i.length;n++){const s=parseInt(Object.keys(e.items)[n],10),o=Object.keys(e.items[s]);for(let l=0;l<o.length;l++){const a=Object(t.items[s])[o[l]],c=Object(e.items[s])[o[l]],d=this.element.querySelectorAll("."+Hn)[s];let u;if(d&&!h(d.id)&&""!==d.id){const f=d.id.lastIndexOf("_");u=parseInt(d.id.substring(f+1),10)}else u=s;const p=G("."+od+" #"+Ko+this.tabId+"_"+u,this.element),g=G("."+Vn+" #"+Vn+this.tabId+"_"+u,this.element);if("header"===o[l]||"headerTemplate"===o[l]){const f=h(this.items[s].header)||h(this.items[s].header.iconCss)?"":this.items[s].header.iconCss;if(""===(this.items[s].headerTemplate||this.items[s].header.text)&&""===f)this.removeTab(s);else{this.tbId=d.id;const v=[];v.push(this.items[s]),this.items.splice(s,1),this.itemIndexArray.splice(s,1),this.tbObj.items.splice(s,1);const x=p.classList.contains(Cr);de(p),this.isReplace=!0,this.addTab(v,s),x&&this.hideTab(s),this.isReplace=!1}}if("content"===o[l]&&!h(g))if("string"!=typeof c&&!h(c.innerHTML)||"."!==c[0]&&"#"!==c[0]||!c.length)""===c&&"#"===a[0]?(document.body.appendChild(this.element.querySelector(a)).style.display="none",g.innerHTML=c):this.isReact?(g.innerHTML="",this.templateCompile(g,c,s)):"function"!=typeof c&&(g.innerHTML=c);else{const m=document.querySelector(c);g.appendChild(m),m.style.display=""}"cssClass"===o[l]&&(h(p)||(p.classList.remove(a),p.classList.add(c)),h(g)||(g.classList.remove(a),g.classList.add(c))),"disabled"===o[l]&&this.enableTab(s,!0!==c),"visible"===o[l]&&this.hideTab(s,!0!==c)}}}}initializeDrag(e){let t=new Yn(e,{dragArea:this.dragArea,dragTarget:"."+Hn,clone:!0,helper:this.helper.bind(this),dragStart:this.itemDragStart.bind(this),drag:i=>{let s,o,n=this.getEleIndex(this.dragItem),l={draggedItem:this.dragItem,event:i.event,target:i.target,droppedItem:i.target.closest("."+Hn),clonedElement:this.cloneElement,index:n};if(h(i.target.closest("."+hg))||i.target.closest("."+hg).isEqualNode(this.element)||this.dragArea==="."+Fa){if(i.target.closest(this.dragArea)||"Popup"===this.overflowMode?(document.body.style.cursor="",this.dragItem.querySelector("."+Eh).style.visibility="hidden",this.cloneElement.classList.contains(Cr)&&T([this.cloneElement],Cr)):(document.body.style.cursor="not-allowed",_([this.cloneElement],Cr),this.dragItem.classList.contains(Cr)&&T([this.dragItem],Cr),this.dragItem.querySelector("."+Eh).style.visibility="visible"),"Scrollable"===this.overflowMode&&!h(this.element.querySelector(".e-hscroll"))){let c=this.element.querySelector(".e-scroll-right-nav"),d=this.element.querySelector(".e-scroll-left-nav"),u=this.element.querySelector(".e-hscroll-bar");!h(c)&&Math.abs(c.offsetWidth/2+c.offsetLeft)>this.cloneElement.offsetLeft+this.cloneElement.offsetWidth&&(u.scrollLeft-=10),!h(d)&&Math.abs(d.offsetLeft+d.offsetWidth-this.cloneElement.offsetLeft)>d.offsetWidth/2&&(u.scrollLeft+=10)}this.cloneElement.style.pointerEvents="none",o=D(i.target,"."+Hn+".e-draggable");let a=0;"Scrollable"===this.overflowMode&&!h(this.element.querySelector(".e-hscroll"))&&(a=this.element.querySelector(".e-hscroll-content").offsetWidth),null!=o&&!o.isSameNode(this.dragItem)&&o.closest("."+hg).isSameNode(this.dragItem.closest("."+hg))&&(s=this.getEleIndex(o),s<n&&Math.abs(o.offsetLeft+o.offsetWidth-this.cloneElement.offsetLeft)>o.offsetWidth/2&&this.dragAction(o,n,s),s>n&&Math.abs(o.offsetWidth/2)+o.offsetLeft-a<this.cloneElement.offsetLeft+this.cloneElement.offsetWidth&&this.dragAction(o,n,s)),this.droppedIndex=this.getEleIndex(this.dragItem),this.trigger("dragging",l)}else this.trigger("dragging",l)},dragStop:this.itemDragStop.bind(this)});this.draggableItems.push(t)}helper(e){return this.cloneElement=this.createElement("div"),e.element&&(this.cloneElement=e.element.cloneNode(!0),_([this.cloneElement],"e-tab-clone-element"),this.element.querySelector("."+Fa).classList.contains(m2)&&_([this.cloneElement],m2),T([this.cloneElement.querySelector("."+Eh)],"e-ripple"),h(this.cloneElement.querySelector(".e-ripple-element"))||X(this.cloneElement.querySelector(".e-ripple-element")),document.body.appendChild(this.cloneElement)),this.cloneElement}itemDragStart(e){this.draggingItems=this.items.map(i=>i),this.dragItem=e.element;let t={draggedItem:e.element,event:e.event,target:e.target,droppedItem:null,index:this.getEleIndex(this.dragItem),clonedElement:this.cloneElement,cancel:!1};this.trigger("onDragStart",t,i=>{i.cancel?de(this.cloneElement):(this.removeActiveClass(),_([this.tbItems.querySelector("."+$y)],Cr),this.dragItem.querySelector("."+Eh).style.visibility="hidden")})}dragAction(e,t,i){if(this.items.length>0){let n=this.draggingItems[t];this.draggingItems.splice(t,1),this.draggingItems.splice(i,0,n)}if("MultiRow"===this.overflowMode&&e.parentNode.insertBefore(this.dragItem,e.nextElementSibling),t>i)if(this.dragItem.parentElement.isSameNode(e.parentElement))this.dragItem.parentNode.insertBefore(this.dragItem,e);else if("Extended"===this.overflowMode)if(e.isSameNode(e.parentElement.lastChild)){let n=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),n.insertBefore(e.parentElement.lastChild,n.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e);else{let n=e.parentElement.lastChild;if(e.isSameNode(n)){let s=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),s.insertBefore(n,s.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)}t<i&&(this.dragItem.parentElement.isSameNode(e.parentElement)?this.dragItem.parentNode.insertBefore(e,this.dragItem):"Extended"===this.overflowMode?(this.dragItem.parentElement.appendChild(e.parentElement.firstElementChild),e.parentNode.insertBefore(this.dragItem,e.nextSibling)):(this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)))}itemDragStop(e){de(this.cloneElement),this.cloneElement=null,this.dragItem.querySelector("."+Eh).style.visibility="visible",document.body.style.cursor="",this.trigger("dragged",{draggedItem:this.dragItem,event:e.event,target:e.target,droppedItem:this.tbItem[this.droppedIndex],clonedElement:null,index:this.droppedIndex,cancel:!1},i=>{i.cancel?this.refresh():this.items.length>0&&this.draggingItems.length>0?(this.items=this.draggingItems,this.selectedItem=this.droppedIndex,this.refresh()):(this.dragItem.querySelector("."+Eh).style.visibility="",T([this.tbItems.querySelector("."+$y)],Cr),this.selectTab(this.droppedIndex,null,!0))}),this.dragItem=null}enableTab(e,t){const i=gt("."+Hn,this.element)[e];h(i)||(!0===t?(i.classList.remove(_f,BL),i.firstElementChild.setAttribute("tabindex","-1")):(i.classList.add(_f,BL),i.firstElementChild.removeAttribute("tabindex"),i.classList.contains(ss)&&this.select(e+1)),h(this.items[e])||(this.items[e].disabled=!t,this.dataBind()),i.setAttribute("aria-disabled",!0===t?"false":"true"))}addTab(e,t){const i={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,t):this.trigger("adding",i,n=>{n.cancel||this.addingTabContent(e,t)}),this.isReact&&this.renderReactTemplates()}addingTabContent(e,t){let i=0;if(this.hdrEle=G("."+Fa,this.element),h(this.hdrEle))this.items=e,this.reRenderItems(),this.bindDraggable();else{const n=gt(".e-tab-header ."+Hn,this.element).length;if(0!==n&&(i=this.lastIndex+1),h(t)&&(t=n-1),n<t||t<0||isNaN(t))return;0===n&&!h(this.hdrEle)&&(this.hdrEle.style.display=""),h(this.bdrLine)||this.bdrLine.classList.add(Cr),this.tbItems=G("."+od,this.getTabHeader()),this.isAdd=!0;const s=this.parseObject(e,t);this.isAdd=!1;let l,o=0;e.forEach((a,c)=>{if(l=a.headerTemplate||a.header.text,h(a.headerTemplate||a.header)||h(l)||0===l.length&&!h(a.header)&&h(a.header.iconCss)||(this.items.splice(t+o,0,a),o++),this.isTemplate&&!h(a.header)&&!h(a.header.text)){const d=i+c,u=this.createElement("div",{id:Vn+this.tabId+"_"+d,className:Ko,attrs:{role:"tabpanel","aria-labelledby":Ko+"_"+d}});this.cntEle.insertBefore(u,this.cntEle.children[t+c]);const p=this.getTrgContent(this.cntEle,d.toString());this.getContent(p,a.content,"render",t)}}),this.tbObj.addItems(s,t),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===t?this.select(t):this.setActiveBorder(),this.bindDraggable()}}removeTab(e){const t=gt("."+Hn,this.element)[e];h(t)||this.trigger("removing",{removedItem:t,removedIndex:e,cancel:!1},n=>{if(!n.cancel){this.tbObj.removeItems(e),this.allowDragAndDrop&&e!==Array.prototype.indexOf.call(this.itemIndexArray,t.id)&&(e=Array.prototype.indexOf.call(this.itemIndexArray,t.id)),this.items.splice(e,1),this.itemIndexArray.splice(e,1),this.refreshActiveBorder();const s=G("#"+Vn+this.tabId+"_"+this.extIndex(t.id),G("."+Vn,this.element));h(s)||de(s),this.trigger("removed",n),this.draggableItems&&this.draggableItems.length>0&&(this.draggableItems[e].destroy(),this.draggableItems[e]=null,this.draggableItems.splice(e,1)),t.classList.contains(ss)?(e=e>gt("."+Hn+":not(."+ug+")",this.element).length-1?e-1:e,this.enableAnimation=!1,this.selectedItem=e,this.select(e)):e!==this.selectedItem&&(e<this.selectedItem&&(e=this.itemIndexArray.indexOf(this.tbItem[this.selectedItem].id),this.setProperties({selectedItem:e>-1?e:this.selectedItem},!0),this.prevIndex=this.selectedItem),this.tbItem=gt("."+Hn,this.getTabHeader())),0===gt("."+Hn,this.element).length&&(this.hdrEle.style.display="none"),this.enableAnimation=!0}})}hideTab(e,t){let i;const n=gt("."+Hn,this.element)[e];if(!h(n)){if(h(t)&&(t=!0),this.bdrLine.classList.add(Cr),!0===t)if(n.classList.add(Cr),i=gt("."+Hn+":not(."+Cr+")",this.tbItems),0!==i.length&&n.classList.contains(ss)){if(0!==e)for(let s=e-1;s>=0;s--){if(!this.tbItem[s].classList.contains(Cr)){this.select(s);break}if(0===s)for(let o=e+1;o<this.tbItem.length;o++)if(!this.tbItem[o].classList.contains(Cr)){this.select(o);break}}else for(let s=e+1;s<this.tbItem.length;s++)if(!this.tbItem[s].classList.contains(Cr)){this.select(s);break}}else 0===i.length&&this.element.classList.add(Cr);else this.element.classList.remove(Cr),i=gt("."+Hn+":not(."+Cr+")",this.tbItems),n.classList.remove(Cr),0===i.length&&this.select(e);this.setActiveBorder(),n.setAttribute("aria-hidden",""+t),"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}}selectTab(e,t=null,i=!1){this.isInteracted=i,this.select(e,t)}select(e,t){const i=this.getTabHeader();this.tbItems=G("."+od,i),this.tbItem=gt("."+Hn,i),this.content=G("."+Vn,this.element),this.prevItem=this.tbItem[this.prevIndex],h(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);const n=this.tbItem[e];h(n)?this.selectedID="0":this.selectingID=this.extIndex(n.id),!h(this.prevItem)&&!this.prevItem.classList.contains(_f)&&this.prevItem.children.item(0).setAttribute("tabindex","-1");const s={event:t,previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:h(this.content)?null:G("#"+Vn+this.tabId+"_"+this.selectedID,this.content),selectingItem:n,selectingIndex:e,selectingContent:h(this.content)?null:G("#"+Vn+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed,isInteracted:this.isInteracted,cancel:!1};this.initRender?this.selectingContent(e,this.isInteracted):this.trigger("selecting",s,o=>{o.cancel||this.selectingContent(e,this.isInteracted)}),this.isInteracted=!1}selectingContent(e,t){if("number"==typeof e){if(!h(this.tbItem[e])&&(this.tbItem[e].classList.contains(_f)||this.tbItem[e].classList.contains(Cr)))for(let i=e+1;i<this.items.length;i++){if(!1===this.items[i].disabled&&!0===this.items[i].visible){e=i;break}e=0}if(this.tbItem.length>e&&e>=0&&!isNaN(e))if(this.prevIndex=this.selectedItem,this.prevItem=this.tbItem[this.prevIndex],this.tbItem[e].classList.contains(ug)&&this.reorderActiveTab){if(this.setActive(this.popupHandler(this.tbItem[e]),null,t),!h(this.items)&&this.items.length>0&&this.allowDragAndDrop){this.tbItem=gt("."+od+" ."+Hn,this.hdrEle);let i=this.items[e];this.items.splice(e,1),this.items.splice(this.tbItem.length-1,0,i)}}else this.setActive(e,null,t);else this.setActive(0,null,t)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e),null,t)}getItemIndex(e){let t;for(let i=0;i<this.tbItem.length;i++)if(e===this.tbItem[i].getAttribute("data-id")){t=i;break}return t}disable(e){this.setCssClass(this.element,_f,e),this.element.setAttribute("aria-disabled",""+e)}getPersistData(){return this.addOnPersist(["selectedItem","actEleId"])}getModuleName(){return"tab"}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"width":lt(this.element,{width:$e(e.width)});break;case"height":lt(this.element,{height:$e(e.height)}),this.setContentHeight(!1);break;case"cssClass":""===t.cssClass||h(t.cssClass)||this.setCssClass(this.element,t.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0);break;case"items":this.evalOnPropertyChangeItems(e,t);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"reorderActiveTab":this.refreshActiveTabBorder();break;case"selectedItem":this.selectedItem=t.selectedItem,this.select(e.selectedItem);break;case"headerPlacement":this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActiveTabBorder();break;case"heightAdjustMode":this.setContentHeight(!1),this.select(this.selectedItem);break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep);break;case"allowDragAndDrop":this.bindDraggable();break;case"dragArea":this.allowDragAndDrop&&(this.draggableItems.forEach(n=>{n.dragArea=this.dragArea}),this.refresh())}}refreshActiveTab(){if(this.isReact&&this.clearTemplate(),this.isTemplate){const e=this.element.querySelector("."+od),t=this.element.querySelector("."+Hn+"."+ss),i=t.id,n=i.indexOf("_"),s=parseInt(i.substring(n+1),10),o=t.innerText,l=this.element.querySelector("."+Vn).querySelector("."+ss).children[0],a=l.innerHTML;de(t),de(l);const c={className:Hn+" "+AL+" "+ss,id:Ko+this.tabId+"_"+s,attrs:{role:"tab","aria-controls":Vn+this.tabId+"_"+s,"aria-disabled":"false","aria-selected":"true"}},d=this.createElement("span",{className:v2,innerHTML:o,attrs:{role:"presentation"}}).outerHTML,u=this.createElement("div",{className:y2,innerHTML:d+this.btnCls.outerHTML}).outerHTML,p=this.createElement("div",{className:Eh,innerHTML:u,attrs:{tabIndex:"-1"}});e.insertBefore(this.createElement("div",c),e.children[s+1]),this.element.querySelector("."+Hn+"."+ss).appendChild(p);const g=this.createElement("div",{innerHTML:a});this.element.querySelector("."+Vn).querySelector("."+ss).appendChild(g)}else if(this.element.querySelector("."+Hn+"."+ss)){de(this.element.querySelector("."+Hn+"."+ss).children[0]),de(this.element.querySelector("."+Vn).querySelector("."+ss).children[0]);const e=this.items[this.selectedItem],t=h(e.header)||h(e.header.iconPosition)?"":e.header.iconPosition,i=h(e.header)||h(e.header.iconCss)?"":e.header.iconCss,n=e.headerTemplate||e.header.text,s=this.createElement("div",{className:v2,attrs:{role:"presentation"}});let o;h(n.tagName)?this.headerTextCompile(s,n,this.selectedItem):s.appendChild(n);const l=this.createElement("span",{className:PL+" "+o$+" "+LL+"-"+t+" "+i}),a=this.createElement("div",{className:y2});a.appendChild(s),""!==n&&void 0!==n&&""!==i?("left"===t||"top"===t?a.insertBefore(l,a.firstElementChild):a.appendChild(l),o=s,this.isIconAlone=!1):(o=""===i?s:l,o===l&&(de(s),a.appendChild(l),this.isIconAlone=!0));const c=e.disabled?{}:{tabIndex:"-1"};a.appendChild(this.btnCls.cloneNode(!0));const d=this.createElement("div",{className:Eh,attrs:c});d.appendChild(a),("top"===t||"bottom"===t)&&this.element.classList.add("e-vertical-icon"),this.element.querySelector("."+Hn+"."+ss).appendChild(d);const u=this.createElement("div");let g,p=e.content;if("string"==typeof p||h(p.innerHTML))if("string"==typeof p&&this.enableHtmlSanitizer&&(p=Xr.sanitize(p)),"."===p[0]||"#"===p[0])if(document.querySelectorAll(p).length){const f=document.querySelector(p);g=f.outerHTML.trim(),u.appendChild(f),f.style.display=""}else this.compileElement(u,p,"content",this.selectedItem);else this.compileElement(u,p,"content",this.selectedItem);else u.appendChild(p);h(g)||-1===this.templateEle.indexOf(p.toString())&&this.templateEle.push(p.toString()),this.element.querySelector(".e-item."+ss).appendChild(u)}this.isReact&&this.renderReactTemplates()}};cn([Hr([],Sf)],Gs.prototype,"items",void 0),cn([y("100%")],Gs.prototype,"width",void 0),cn([y("auto")],Gs.prototype,"height",void 0),cn([y("")],Gs.prototype,"cssClass",void 0),cn([y(0)],Gs.prototype,"selectedItem",void 0),cn([y("Top")],Gs.prototype,"headerPlacement",void 0),cn([y("Content")],Gs.prototype,"heightAdjustMode",void 0),cn([y("Scrollable")],Gs.prototype,"overflowMode",void 0),cn([y("Dynamic")],Gs.prototype,"loadOn",void 0),cn([y(!1)],Gs.prototype,"enablePersistence",void 0),cn([y(!1)],Gs.prototype,"enableHtmlSanitizer",void 0),cn([y(!1)],Gs.prototype,"showCloseButton",void 0),cn([y(!0)],Gs.prototype,"reorderActiveTab",void 0),cn([y()],Gs.prototype,"scrollStep",void 0),cn([y()],Gs.prototype,"dragArea",void 0),cn([y(!1)],Gs.prototype,"allowDragAndDrop",void 0),cn([gi({},jL)],Gs.prototype,"animation",void 0),cn([E()],Gs.prototype,"created",void 0),cn([E()],Gs.prototype,"adding",void 0),cn([E()],Gs.prototype,"added",void 0),cn([E()],Gs.prototype,"selecting",void 0),cn([E()],Gs.prototype,"selected",void 0),cn([E()],Gs.prototype,"removing",void 0),cn([E()],Gs.prototype,"removed",void 0),cn([E()],Gs.prototype,"onDragStart",void 0),cn([E()],Gs.prototype,"dragging",void 0),cn([E()],Gs.prototype,"dragged",void 0),cn([E()],Gs.prototype,"destroyed",void 0),Gs=cn([Pi],Gs);var GL,vi=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const wu="e-treeview",u$="e-control",Ql="e-icon-collapsible",nr="e-icon-expandable",Li="e-list-item",c0="e-list-text",zn="e-list-parent",vp="e-hover",ld="e-active",qL="e-icons-spinner",pg="e-process",Yo="e-icons",Sl="e-text-content",w2="e-input",p$="e-input-group",b2="e-tree-input",WL="e-editing",f$="e-interaction",m$="e-droppable",UL="e-dragging",zb="e-sibling",_2="e-drop-in",jb="e-drop-next",$L="e-drop-out",KL="e-no-drop",gg="e-fullrow",Ky="e-selected",S2="e-expanded",v$="e-node-collapsed",y$="e-disable",Pa="e-check",Th="e-stop",Md="e-checkbox-wrapper",fg="e-frame",x$="e-ripple",Yy="e-node-focus",C$="e-list-img",I2="e-animation-active",w$="e-disabled",b$={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""};class La extends Nt{}vi([y("child")],La.prototype,"child",void 0),vi([y([])],La.prototype,"dataSource",void 0),vi([y("expanded")],La.prototype,"expanded",void 0),vi([y("hasChildren")],La.prototype,"hasChildren",void 0),vi([y("htmlAttributes")],La.prototype,"htmlAttributes",void 0),vi([y("iconCss")],La.prototype,"iconCss",void 0),vi([y("id")],La.prototype,"id",void 0),vi([y("imageUrl")],La.prototype,"imageUrl",void 0),vi([y("isChecked")],La.prototype,"isChecked",void 0),vi([y("parentID")],La.prototype,"parentID",void 0),vi([y(null)],La.prototype,"query",void 0),vi([y("selected")],La.prototype,"selected",void 0),vi([y(null)],La.prototype,"tableName",void 0),vi([y("text")],La.prototype,"text",void 0),vi([y("tooltip")],La.prototype,"tooltip",void 0),vi([y("navigateUrl")],La.prototype,"navigateUrl",void 0);class Gb extends Nt{}vi([y("SlideDown")],Gb.prototype,"effect",void 0),vi([y(400)],Gb.prototype,"duration",void 0),vi([y("linear")],Gb.prototype,"easing",void 0);class YL extends Nt{}vi([gi({effect:"SlideUp",duration:400,easing:"linear"},Gb)],YL.prototype,"collapse",void 0),vi([gi({effect:"SlideDown",duration:400,easing:"linear"},Gb)],YL.prototype,"expand",void 0);let Yi=GL=class extends an{constructor(e,t){super(e,t),this.isRefreshed=!1,this.preventExpand=!1,this.checkedElement=[],this.disableNode=[],this.validArr=[],this.validNodes=[],this.expandChildren=[],this.isFieldChange=!1,this.changeDataSource=!1,this.hasTemplate=!1,this.isFirstRender=!1,this.mouseDownStatus=!1}getModuleName(){return"treeview"}preRender(){this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:nr,ariaAttributes:b$,expandIconPosition:"Left",itemCreated:e=>{this.beforeNodeCreate(e)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new _s({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),h(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),h(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),h(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0}getPersistData(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])}render(){this.initialRender=!0,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.initialRender=!1,this.renderComplete()}initialize(){this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.setTextWrap(),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)}setDisabledMode(){this.disabled?this.element.classList.add(w$):this.element.classList.remove(w$)}setEnableRtl(){(this.enableRtl?_:T)([this.element],"e-rtl")}setRipple(){this.rippleFn=Ys(this.element,{selector:"."+gg+",."+Sl,ignore:"."+Sl+" > ."+Yo+",."+p$+",."+w2+", ."+Md}),this.rippleIconFn=Ys(this.element,{selector:"."+Sl+" > ."+Yo,isCenterRipple:!0})}setFullRow(e){(e?_:T)([this.element],"e-fullrow-wrap")}setMultiSelect(e){const t=G("."+zn,this.element);e?t.setAttribute("aria-multiselectable","true"):t.removeAttribute("aria-multiselectable")}templateComplier(e){if(e){this.hasTemplate=!0,this.element.classList.add(f$);try{return document.querySelectorAll(e).length?ci(document.querySelector(e).innerHTML.trim()):ci(e)}catch(t){return ci(e)}}this.element.classList.remove(f$)}setDataBinding(e){this.treeList.push("false"),this.fields.dataSource instanceof ie?(this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then(t=>{this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource instanceof ie&&this.isOffline&&(this.treeList.pop(),this.treeData=t.result,this.isNumberTypeId=this.getType(),this.setRootData(),this.renderItems(!0),0===this.treeList.length&&!this.isLoaded&&this.finalize())}).catch(t=>{this.trigger("actionFailure",{error:t})}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(t=>{this.treeList.pop(),this.treeData=t.result,this.isNumberTypeId=this.getType(),this.setRootData(),e&&(this.changeDataSource=!0),this.renderItems(!0),this.changeDataSource=!1,0===this.treeList.length&&!this.isLoaded&&this.finalize()}).catch(t=>{this.trigger("actionFailure",{error:t})})):(this.treeList.pop(),h(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0===this.treeList.length&&!this.isLoaded&&this.finalize()}getQuery(e,t=null){let n,i=[];if(e.query)n=e.query.clone();else{n=new Ze;let s=this.getActualProperties(e);for(let o of Object.keys(s))"dataSource"!==o&&"tableName"!==o&&"child"!==o&&e[o]&&"url"!==o&&-1===i.indexOf(e[o])&&i.push(e[o]);n.select(i),s.hasOwnProperty("tableName")&&n.from(e.tableName)}return Cn.addSorting(this.sortOrder,e.text,n),!h(t)&&!h(e.parentID)&&n.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(t):t),n}getType(){return!!this.treeData[0]&&"number"==typeof M(this.fields.id,this.treeData[0])}setRootData(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);let e=this.getChildNodes(this.treeData,void 0,!0);this.rootData=h(e)?[]:e}else this.rootData=this.treeData}renderItems(e){this.listBaseOption.ariaAttributes.level=1;let t=this.getSortedData(this.rootData);this.ulElement=Cn.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);let i=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand){let s=0;for(;s<i.length;)this.renderChildNodes(i[s],!0,null,!0),s++}(1===gt("."+zn,this.element).length&&i&&0!==i.length||this.loadOnDemand)&&this.finalizeNode(this.element),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()}updateCheckedStateFromDS(e){if(this.validNodes=[],this.treeData&&this.showCheckBox){if(1===this.dataType){let t=this.fields,i=new ie(this.treeData).executeLocal((new Ze).where(t.isChecked,"equal",!0,!1));for(let n=0;n<i.length;n++){let s=i[n][this.fields.id]?i[n][this.fields.id].toString():null;if(i[n][this.fields.parentID]&&i[n][this.fields.parentID].toString(),-1===this.checkedNodes.indexOf(s)&&!this.isLoaded&&this.checkedNodes.push(s),i[n][this.fields.hasChildren]){let l=i[n][this.fields.id],a=new ie(this.treeData).executeLocal((new Ze).where(t.parentID,"equal",l,!1));for(let c=0;c<a.length;c++){let d=a[c][this.fields.id]?a[c][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(d)&&this.autoCheck&&this.checkedNodes.push(d)}}}for(let n=0;n<this.checkedNodes.length;n++){let s=this.fields,o=new ie(this.treeData).executeLocal((new Ze).where(s.id,"equal",this.checkedNodes[n],!0));if(o[0]&&this.autoCheck&&(this.getCheckedNodeDetails(s,o),this.checkIndeterminateState(o[0])),o.length>0){let a=o[0][this.fields.id]?o[0][this.fields.id].toString():null;this.checkedNodes.indexOf(a)>-1&&-1===this.validNodes.indexOf(a)&&this.validNodes.push(a)}let l=new ie(this.treeData).executeLocal((new Ze).where(s.parentID,"equal",this.checkedNodes[n],!0));for(let a=0;a<l.length;a++){let c=l[a][this.fields.id]?l[a][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(c)&&this.autoCheck&&this.checkedNodes.push(c),this.checkedNodes.indexOf(c)>-1&&-1===this.validNodes.indexOf(c)&&this.validNodes.push(c)}}}else if(2===this.dataType||this.fields.dataSource instanceof ie&&this.isOffline)for(let t=0;t<this.treeData.length;t++){let i=this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():"";this.treeData[t][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i),this.checkedNodes.indexOf(i)>-1&&-1===this.validNodes.indexOf(i)&&this.validNodes.push(i);let n=M(this.fields.child.toString(),this.treeData[t]);n&&this.updateChildCheckState(n,this.treeData[t])}this.setProperties({checkedNodes:this.validNodes},!0)}}getCheckedNodeDetails(e,t){let i=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,n=0,s=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),o=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(s||o)o&&(G("."+Pa,o)||this.changeState(o,"indeterminate",null,!0,!0));else{-1===this.parentNodeCheck.indexOf(i)&&this.parentNodeCheck.push(i);let a=this.getChildNodes(this.treeData,i);for(let d=0;d<a.length;d++){let u=a[d][this.fields.id]?a[d][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(u)&&n++,n===a.length&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i)}let c=new ie(this.treeData).executeLocal((new Ze).where(e.id,"equal",i,!0));this.getCheckedNodeDetails(e,c)}}updateParentCheckState(){let t,e=gt("."+Th,this.element);for(let i=0;i<e.length;i++){let n=D(e[i],"."+Li),s=n.getAttribute("data-uid").toString();t=1===this.dataType?new ie(this.treeData).executeLocal((new Ze).where(this.fields.parentID,"equal",s,!0)):this.getChildNodes(this.treeData,s);let o=0;if(t){for(let l=0;l<t.length;l++){let a=t[l][this.fields.id].toString();-1!==this.checkedNodes.indexOf(a)&&o++}if(o===t.length){let l=n.getAttribute("data-uid");-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),this.changeState(n,"check",null,!0,!0)}else 0===o&&0===this.checkedNodes.length&&this.changeState(n,"uncheck",null,!0,!0)}}}checkIndeterminateState(e){let t;t=this.element.querySelector(1===this.dataType?'[data-uid="'+e[this.fields.parentID]+'"]':'[data-uid="'+e[this.fields.id]+'"]'),t?"true"!==t.querySelector("."+Md).getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0):2===this.dataType&&-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString())}updateChildCheckState(e,t){let i=0,n=t[this.fields.id]?t[this.fields.id].toString():"";for(let s=0;s<e.length;s++){let o=e[s][this.fields.id]?e[s][this.fields.id].toString():"";e[s][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),-1!==this.checkedNodes.indexOf(n)&&-1===this.checkedNodes.indexOf(o)&&this.autoCheck&&this.checkedNodes.push(o),-1!==this.checkedNodes.indexOf(o)&&this.autoCheck&&i++,this.checkedNodes.indexOf(o)>-1&&-1===this.validNodes.indexOf(o)&&this.validNodes.push(o);let l=M(this.fields.child.toString(),e[s]);l&&l.length&&(-1===this.parentCheckData.indexOf(t)&&this.parentCheckData.push(t),this.updateChildCheckState(l,e[s])),i===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(n)&&this.checkedNodes.push(n)}if(0!==i&&this.autoCheck){this.checkIndeterminateState(t);for(let s=0;s<this.parentCheckData.length;s++)t!==this.parentCheckData[s]&&this.parentCheckData[s]&&this.checkIndeterminateState(this.parentCheckData[s])}}beforeNodeCreate(e){if(this.showCheckBox){let n=tl(this.createElement,!0,{cssClass:this.touchClass});n.setAttribute("role","checkbox");let s=G("div."+Yo,e.item),o=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(n,e.item.childNodes[0].childNodes[h(s)?0:1]);let l=M(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(o)>-1?(G("."+fg,n).classList.add(Pa),n.setAttribute("aria-checked","true"),this.addCheck(e.item)):h(l)||"true"!==l.toString()?n.setAttribute("aria-checked","false"):(G("."+fg,n).classList.add(Pa),n.setAttribute("aria-checked","true"),this.addCheck(e.item));let a=G("."+fg,n);C.add(a,"mousedown",this.frameMouseHandler,this),C.add(a,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains(Ky)&&e.item.setAttribute("aria-selected","false");let t=e.fields;if(this.addActionClass(e,t.selected,Ky),this.addActionClass(e,t.expanded,S2),!h(this.nodeTemplateFn)){let n=e.item.querySelector("."+c0),s=e.item.getAttribute("data-uid");n.innerHTML="",this.renderNodeTemplate(e.curData,n,s)}this.isRefreshed||this.trigger("drawNode",{node:e.item,nodeData:e.curData,text:e.text})}frameMouseHandler(e){Jw(e,G(".e-ripple-container",e.target.parentElement))}addActionClass(e,t,i){let s=M(t,e.curData);!h(s)&&"false"!==s.toString()&&e.item.classList.add(i)}getDataType(e,t){if(this.fields.dataSource instanceof ie){for(let i=0;i<e.length;i++)if(this.isOffline){if("string"==typeof t.child&&h(M(t.child,e[i]))&&!h(M(t.parentID,e[i])))return 1}else if("string"==typeof t.child&&h(M(t.child,e[i])))return 1;return 2}for(let i=0,n=e.length;i<n;i++){if("string"==typeof t.child&&!h(M(t.child,e[i])))return 2;if(!h(M(t.parentID,e[i]))||!h(M(t.hasChildren,e[i])))return 1}return 1}getGroupedData(e,t){let i=(new Ze).group(t),n=Cn.getDataSource(e,i),s=[];for(let o=0;o<n.length;o++)s.push(n[o].items);return s}getSortedData(e){return e&&"None"!==this.sortOrder&&(e=Cn.getDataSource(e,Cn.addSorting(this.sortOrder,this.fields.text))),e}finalizeNode(e){let t=gt("."+C$,e);for(let s=0;s<t.length;s++)t[s].setAttribute("alt",C$);if(this.isLoaded){let s=gt("."+Ky,e);for(let o=0;o<s.length;o++){this.selectNode(s[o],null);break}T(s,Ky)}let i=gt("."+Li+":not(."+S2+")",e);for(let s=0;s<i.length;s++){let o=G("div."+Yo,i[s]);o&&o.classList.contains(nr)&&this.disableExpandAttr(i[s])}let n=gt("."+S2,e);if(!this.isInitalExpand)for(let s=0;s<n.length;s++)this.renderChildNodes(n[s]);T(n,S2),this.updateList(),this.isLoaded&&this.updateCheckedProp()}updateCheckedProp(){if(this.showCheckBox){let e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}}ensureIndeterminate(){if(this.autoCheck){let t,e=gt("li",this.element);for(let i=0;i<e.length;i++)e[i].classList.contains(Li)&&(t=G("."+zn,e[i]),t?this.ensureParentCheckState(e[i]):this.ensureChildCheckState(e[i]))}else{let e=gt("."+Th,this.element);for(let t=0;t<e.length;t++)e[t].classList.remove(Th)}}ensureParentCheckState(e){if(!h(e)){if(e.classList.contains(wu))return;let t=e;e.classList.contains(Li)&&(t=G("."+zn,e));let i=gt("."+Pa,t),n=gt("."+Th,t),s=gt("."+Li,t),o=e.getElementsByClassName(Md)[0];s.length===i.length?this.changeState(o,"check",null,!0,!0):i.length>0||n.length>0?this.changeState(o,"indeterminate",null,!0,!0):0===i.length&&this.changeState(o,"uncheck",null,!0,!0);let l=D(e,"."+zn);if(!h(l)){let a=D(l,"."+Li);this.ensureParentCheckState(a)}}}ensureChildCheckState(e,t){if(!h(e)){let n,i=G("."+zn,e);if(!h(i)){n=gt("."+Md,i);let c,s=e.getElementsByClassName(fg)[0].classList.contains(Pa),o=e.getElementsByClassName(fg)[0].classList.contains(Th),l=i.querySelectorAll("li");i.parentElement.getAttribute("aria-expanded");for(let d=0;d<n.length;d++){let u=l[d].getAttribute("data-uid");if(h(this.currentLoadData)||h(M(this.fields.isChecked,this.currentLoadData[d]))){let p=n[d].getElementsByClassName(fg)[0].classList.contains(Pa);s||p&&!this.isLoaded||-1!==this.checkedNodes.indexOf(u)&&this.isLoaded&&(o||s)?c="check":l[d].classList.contains("e-has-child")&&!Et(this.parentNodeCheck)&&this.autoCheck&&(s||o)&&-1!==this.parentNodeCheck.indexOf(u)||1===this.dataType&&!Et(this.parentNodeCheck)&&this.autoCheck&&(s||o)&&-1!==this.parentNodeCheck.indexOf(u)?(c="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(u),1)):c="uncheck"}else c=M(this.fields.isChecked,this.currentLoadData[d])?"check":"uncheck",-1!==this.ele&&(c=s?"check":"uncheck"),"uncheck"===c&&!Et(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(u)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(u),1),c="indeterminate");this.changeState(n[d],c,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}}doCheckBoxAction(e,t){if(gt("."+Li,this.element),h(e)){let n=gt("."+Md,this.element);if(this.loadOnDemand)for(let s=0;s<n.length;s++)this.updateFieldChecked(n[s],t),this.changeState(n[s],t?"check":"uncheck",null,null,null,t);else for(let s=0;s<n.length;s++)this.updateFieldChecked(n[s],t),this.changeState(n[s],t?"check":"uncheck")}else for(let n=e.length;n>=0;n--){let s;if(s=this.getElement(1===e.length?e[n-1]:e[n]),h(s)){let l;if(l=e[n-e.length]?e[n-e.length].toString():e[n]?e[n].toString():null,""!==l&&t&&l)this.setValidCheckedNode(l),this.dynamicCheckState(l,t);else if(-1!==this.checkedNodes.indexOf(l)&&""!==l&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(l),1);let a=this.getChildNodes(this.treeData,l);if(a){for(let c=0;c<a.length;c++){let d=a[c][this.fields.id]?a[c][this.fields.id].toString():null;if(-1!==this.checkedNodes.indexOf(d)){this.checkedNodes.splice(this.checkedNodes.indexOf(d),1);let u=this.element.querySelector('[data-uid="'+d+'"]');u&&this.changeState(u,"uncheck",null)}}-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}l&&this.dynamicCheckState(l,t),this.updateField(this.treeData,this.fields,l,"isChecked",null)}continue}let o=G("."+zn+" ."+Md,s);this.validateCheckNode(o,!t,s,null)}if(e)for(let n=0;n<e.length;n++){let s=e[n]?e[n].toString():"";t||this.updateField(this.treeData,this.fields,s,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()}updateFieldChecked(e,t){let i=D(e,"."+Li),n=i.getAttribute("data-uid");"true"===this.getNodeData(i).isChecked&&!t&&this.updateField(this.treeData,this.fields,n,"isChecked",null)}dynamicCheckState(e,t){if(1===this.dataType){let i=0,n=new ie(this.treeData).executeLocal((new Ze).where(this.fields.id,"equal",e,!0));if(n[0]){let s=n[0][this.fields.id]?n[0][this.fields.id].toString():null,o=n[0][this.fields.parentID]?n[0][this.fields.parentID].toString():null,l=this.element.querySelector('[data-uid="'+o+'"]'),d=(l&&G("."+Th,l),l&&G("."+Pa,l),this.element.querySelector('[data-uid="'+s+'"]')),u=this.getChildNodes(this.treeData,o);if(u)for(let p=0;p<u.length;p++){let g=u[p][this.fields.id]?u[p][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(g)&&i++}-1!==this.checkedNodes.indexOf(e)&&l&&s===e&&this.autoCheck?this.changeState(l,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&d&&s===e&&!t?this.changeState(d,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&d&&s===e&&t?this.changeState(d,"check",null):-1===this.checkedNodes.indexOf(e)&&!d&&l&&s===e&&this.autoCheck&&0!==i?this.changeState(l,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!d&&l&&s===e&&this.autoCheck&&0===i?this.changeState(l,"uncheck",null):!d&&!l&&s===e&&this.autoCheck&&this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof ie&&this.isOffline){let i,n,s;for(let o=0;o<this.treeData.length;o++){i=this.treeData[o][this.fields.id]?this.treeData[o][this.fields.id].toString():"",n=this.element.querySelector('[data-uid="'+i+'"]'),s=n?G("."+Pa,n):null,-1===this.checkedNodes.indexOf(i)&&n&&s&&!t&&this.changeState(n,"uncheck",null);let l=M(this.fields.child.toString(),this.treeData[o]);l&&this.updateChildIndeterminate(l,i,e,t,i)}}}updateIndeterminate(e,t){let s,i=this.getTreeData(e),n=0;1===this.dataType&&(s=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null);let o=this.getChildNodes(this.treeData,s);if(o)for(let a=0;a<o.length;a++){let c=o[a][this.fields.id]?o[a][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(c)&&n++}let l=this.element.querySelector('[data-uid="'+s+'"]');l&&t||!t&&l&&-1===this.parentNodeCheck.indexOf(s)&&0!==n?this.changeState(l,"indeterminate",null):!t&&l&&-1===this.parentNodeCheck.indexOf(s)&&0===n?this.changeState(l,"uncheck",null):l||(t||-1!==this.checkedNodes.indexOf(s)||-1===this.parentNodeCheck.indexOf(s)?(t&&-1===this.checkedNodes.indexOf(s)&&-1===this.parentNodeCheck.indexOf(s)||!t&&-1!==this.checkedNodes.indexOf(s)&&-1===this.parentNodeCheck.indexOf(s)&&0!==n)&&this.parentNodeCheck.push(s):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(s),1),this.updateIndeterminate(s,t),-1!==this.checkedNodes.indexOf(s)&&!t&&this.checkedNodes.splice(this.checkedNodes.indexOf(s),1))}updateChildIndeterminate(e,t,i,n,s){let o=0;for(let l=0;l<e.length;l++){let a=e[l][this.fields.id]?e[l][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(a)&&o++;let c=this.element.querySelector('[data-uid="'+t+'"]'),d=c?G("."+Th,c):null,u=c?G("."+Pa,c):null,p=this.element.querySelector('[data-uid="'+a+'"]'),g=p?G("."+Pa,p):null;if(-1!==this.checkedNodes.indexOf(i)&&c&&a===i&&this.autoCheck)this.changeState(c,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(i)||!c||p||a!==i||n){if(-1===this.checkedNodes.indexOf(i)&&p&&a===i&&!n)this.changeState(p,"uncheck",null);else if(-1===this.checkedNodes.indexOf(i)&&d&&a===i&&this.autoCheck&&0===o&&!n)d.classList.remove(Th);else if(-1===this.checkedNodes.indexOf(i)&&!p&&u&&a===i&&0===o)this.changeState(c,"uncheck",null);else if(-1===this.checkedNodes.indexOf(a)&&p&&g&&0===o)this.changeState(p,"uncheck",null);else if(!p&&!c&&a===i||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){let m=this.element.querySelector('[data-uid="'+s+'"]');n&&0!==o?this.changeState(m,"indeterminate",null):n&&o===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):!n&&0===o&&-1!==this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.changeState(c,this.autoCheck?"uncheck":0!==o?"indeterminate":"uncheck",null);let f=M(this.fields.child.toString(),e[l]);f&&this.updateChildIndeterminate(f,a,i,n,s)}}changeState(e,t,i,n,s,o){let l,a=D(e,"."+Li);e===a&&(e=G("."+Md,a)),n?this.nodeCheckAction(e,t,a,l,i,n,s,o):(this.checkActionNodes=[],l=this.getCheckEvent(a,t,i),this.trigger("nodeChecking",l,c=>{c.cancel||this.nodeCheckAction(e,t,a,c,i,n,s,o)}))}nodeCheckAction(e,t,i,n,s,o,l,a){let c,d=e.getElementsByClassName(fg)[0];if("check"!==t||d.classList.contains(Pa)?"uncheck"===t&&(d.classList.contains(Pa)||d.classList.contains(Th))?(T([d],[Pa,Th]),this.removeCheck(i),c="false"):"indeterminate"===t&&this.autoCheck&&(d.classList.remove(Pa),d.classList.add(Th),this.removeCheck(i),c="mixed"):(d.classList.remove(Th),d.classList.add(Pa),this.addCheck(i),c="true"),c="check"===t?"true":"uncheck"===t?"false":c,h(c)||e.setAttribute("aria-checked",c),l){let u=[].concat([],this.checkActionNodes);n=this.getCheckEvent(i,t,s),Et(o)&&(n.data=u)}void 0!==a&&this.ensureStateChange(i,a),o||h(c)||(e.setAttribute("aria-checked",c),n.data[0].checked=c,this.trigger("nodeChecked",n),this.checkActionNodes=[])}addCheck(e){let t=e.getAttribute("data-uid");!h(t)&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t)}removeCheck(e){let t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)}getCheckEvent(e,t,i){this.checkActionNodes.push(this.getNodeData(e));let n=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!h(i),node:e,data:n}}finalize(){let e=G("."+zn,this.element);if(!h(e)){e.setAttribute("role",b$.treeRole),this.setMultiSelect(this.allowMultiSelection);let t=G("."+Li,this.element);t&&(_([t],Yy),this.updateIdAttr(null,t)),this.allowTextWrap&&this.updateWrap(),this.renderReactTemplates(),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}}setTextWrap(){(this.allowTextWrap?_:T)([this.element],"e-text-wrap"),A.isIE&&(this.allowTextWrap?_:T)([this.element],"e-ie-wrap")}updateWrap(e){if(!this.fullRowSelect)return;const t=e?gt("."+Li,e):this.liList,i=t.length;for(let n=0;n<i;n++)this.calculateWrap(t[n])}calculateWrap(e){const t=G("."+gg,e);t&&t.nextElementSibling&&(t.style.height=this.allowTextWrap?t.nextElementSibling.offsetHeight+"px":"")}doExpandAction(){let e=this.expandedNodes;if(this.isInitalExpand&&e.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof ie)this.expandGivenNodes(e);else{for(let t=0;t<e.length;t++){let i=G('[data-uid="'+e[t]+'"]',this.element);if(h(i))e[t]&&-1===this.expandChildren.indexOf(e[t])&&this.expandChildren.push(e[t].toString());else{let n=G("."+nr,G("."+Sl,i));h(n)||this.expandAction(i,n,null)}}this.afterFinalized()}else this.afterFinalized()}expandGivenNodes(e){let t=this;this.expandCallback(e[this.index],()=>{t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()})}expandCallback(e,t){let i=G('[data-uid="'+e+'"]',this.element);if(h(i))t();else{let n=G("."+nr,G("."+Sl,i));h(n)?t():this.expandAction(i,n,null,!1,t)}}afterFinalized(){this.doSelectionAction(),this.updateCheckedProp(),this.isAnimate=!0,this.isInitalExpand=!1,(!this.isLoaded||this.isFieldChange)&&this.trigger("dataBound",{data:this.treeData}),this.isLoaded=!0}doSelectionAction(){let e=gt("."+Ky,this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(let i=0;i<t.length;i++){let n=G('[data-uid="'+t[i]+'"]',this.element);if(n&&!n.classList.contains("e-active")?this.selectNode(n,null,!0):this.selectedNodes.push(t[i]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);T(e,Ky)}selectGivenNodes(e){for(let t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);}clickHandler(e){let t=e.originalEvent.target;if(C.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){let i=t.classList,n=D(t,"."+Li);if(!n)return;if(3!==e.originalEvent.which){let s=G(".e-ripple-element",n),o=G("."+Yo,n);if(this.removeHover(),this.setFocusElement(n),this.showCheckBox&&!n.classList.contains("e-disable")){let l=D(t,"."+Md);if(!h(l)){let a=G("."+fg,l);return this.validateCheckNode(l,a.classList.contains(Pa),n,e.originalEvent),void this.triggerClickEvent(e.originalEvent,n)}}i.contains(nr)?this.expandAction(n,t,e):i.contains(Ql)?this.collapseNode(n,t,e):s&&o?o.classList.contains(x$)&&o.classList.contains(nr)?this.expandAction(n,o,e):o.classList.contains(x$)&&o.classList.contains(Ql)?this.collapseNode(n,o,e):!i.contains(zn)&&!i.contains(Li)&&this.toggleSelect(n,e.originalEvent,!1):!i.contains(zn)&&!i.contains(Li)&&this.toggleSelect(n,e.originalEvent,!1)}this.triggerClickEvent(e.originalEvent,n)}}nodeCheckedEvent(e,t,i){D(e,"."+Li);let s=this.getCheckEvent(e,t?"uncheck":"check",i);s.data=s.data.splice(0,s.data.length-1),this.trigger("nodeChecked",s)}triggerClickEvent(e,t){this.trigger("nodeClicked",{event:e,node:t})}expandNode(e,t,i){if(this.renderReactTemplates(),t.classList.contains(qL)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==i||!0===i&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){T([t],nr),_([t],Ql);let n=0,s=0,o=this,l=G("."+zn,e),a=e;this.setHeight(a,l);let c=G("."+Li+"."+ld,e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(l,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:d=>{a.style.overflow="hidden",!h(c)&&c instanceof HTMLElement&&c.classList.add(I2),n=a.offsetHeight,s=G("."+Sl,e).offsetHeight},progress:d=>{d.element.style.display="block",o.animateHeight(d,n,s)},end:d=>{d.element.style.display="block",!h(c)&&c instanceof HTMLElement&&c.classList.remove(I2),this.expandedNode(a,l,t)}}):this.expandedNode(a,l,t)}}else G("."+zn,e).style.display="none",this.fields.dataSource instanceof ie&&(this.preventExpand=!1);this.initialRender&&t.classList.add("interaction")}expandedNode(e,t,i){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",T([i],pg),this.addExpand(e),this.allowTextWrap&&this.isLoaded&&this.isFirstRender&&(this.updateWrap(e),this.isFirstRender=!1),this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.trigger("nodeExpanded",this.expandArgs))}addExpand(e){e.setAttribute("aria-expanded","true"),T([e],v$);let t=e.getAttribute("data-uid");!h(t)&&-1===this.expandedNodes.indexOf(t)&&this.expandedNodes.push(t)}collapseNode(e,t,i){if(t.classList.contains(pg))return;let n;_([t],pg),this.isLoaded?(n=this.getExpandEvent(e,i),this.trigger("nodeCollapsing",n,s=>{s.cancel?T([t],pg):this.nodeCollapseAction(e,t,s)})):this.nodeCollapseAction(e,t,n)}nodeCollapseAction(e,t,i){T([t],Ql),_([t],nr);let n=0,s=0,o=this,l=G("."+zn,e),a=e,c=G("."+Li+"."+ld,e);this.isAnimate?this.aniObj.animate(l,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:d=>{a.style.overflow="hidden",!h(c)&&c instanceof HTMLElement&&c.classList.add(I2),n=G("."+Sl,e).offsetHeight,s=a.offsetHeight},progress:d=>{o.animateHeight(d,n,s)},end:d=>{d.element.style.display="none",!h(c)&&c instanceof HTMLElement&&c.classList.remove(I2),this.collapsedNode(a,l,t,i)}}):this.collapsedNode(a,l,t,i)}collapsedNode(e,t,i,n){t.style.display="none",e.style.overflow="",e.style.height="",T([i],pg),this.removeExpand(e),this.isLoaded&&(n=this.getExpandEvent(e,null),this.trigger("nodeCollapsed",n))}removeExpand(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);let i=this.expandedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.expandedNodes.splice(i,1)}disableExpandAttr(e){e.setAttribute("aria-expanded","false"),_([e],v$)}setHeight(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""}animateHeight(e,t,i){e.element.parentElement.style.height=(e.duration-e.timeStamp)/e.duration*(i-t)+t+"px"}renderChildNodes(e,t,i,n){let o,s=G("div."+Yo,e);if(!h(s))if(this.showSpinner(s),this.fields.dataSource instanceof ie){let l=this.parents(e,"."+zn).length,a=this.getChildFields(this.fields,l,1);if(h(a)||h(a.dataSource))return de(s),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof ie&&this.isOffline?(this.treeList.pop(),o=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(o,a,s,e,t,i,n)):a.dataSource.executeQuery(this.getQuery(a,e.getAttribute("data-uid"))).then(c=>{this.treeList.pop(),o=c.result,1===this.dataType&&(this.dataType=2),this.loadChild(o,a,s,e,t,i,n)}).catch(c=>{this.trigger("actionFailure",{error:c})})}else{if(o=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=this.getSortedData(o),h(o)||0===o.length)return de(s),void this.removeExpand(e,!0);this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(Cn.createList(this.createElement,this.currentLoadData,this.listBaseOption)),this.expandNode(e,s,n),this.setSelectionForChildNodes(o),this.ensureCheckNode(e),this.finalizeNode(e),this.disableTreeNodes(o),this.renderSubChild(e,t,n)}}loadChild(e,t,i,n,s,o,l){if(this.currentLoadData=e,h(e)||0===e.length)de(i),this.removeExpand(n,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof ie&&!this.isOffline){let a=n.getAttribute("data-uid");Ne("child",e,this.getNodeObject(a))}this.listBaseOption.ariaAttributes.level=parseFloat(n.getAttribute("aria-level"))+1,n.appendChild(Cn.createList(this.createElement,e,this.listBaseOption)),this.expandNode(n,i,l),this.setSelectionForChildNodes(e),this.ensureCheckNode(n),this.finalizeNode(n),this.disableTreeNodes(e),this.renderSubChild(n,s,l)}o&&o(),0===this.treeList.length&&!this.isLoaded&&this.finalize()}disableTreeNodes(e){let t=0;for(;t<e.length;){let i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(i)&&this.doDisableAction([i]),t++}}setSelectionForChildNodes(e){let t;for(t=0;t<e.length;t++){let i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(i)&&this.doSelectionAction()}}ensureCheckNode(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null}getFields(e,t,i){return t===i?e:this.getFields(this.getChildMapper(e),t,i+1)}getChildFields(e,t,i){return t===i?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,i+1)}getChildMapper(e){return"string"==typeof e.child||h(e.child)?e:e.child}getChildNodes(e,t,i=!1){let n;if(h(e))return n;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,i);if("string"==typeof this.fields.child)for(let s=0,o=e.length;s<o;s++){let l=M(this.fields.id,e[s]);if(l&&l.toString()===t)return M(this.fields.child,e[s]);if(!h(M(this.fields.child,e[s]))&&(n=this.getChildNodes(M(this.fields.child,e[s]),t),void 0!==n))break}return n}getChildGroup(e,t,i){let n;if(h(e))return n;for(let s=0,o=e.length;s<o;s++){if(h(e[s][0])||h(M(this.fields.parentID,e[s][0])))return i?e[s]:[];if(M(this.fields.parentID,e[s][0]).toString()===t)return e[s]}return n}renderSubChild(e,t,i){if(t){let n=gt("."+nr,e);for(let s=0,o=n.length;s<o;s++){let l=n[s];if(e.querySelector(".e-icons")!==n[s]){let a=D(l,"."+Li);this.expandArgs=this.getExpandEvent(a,null),!0!==i&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(a,t,null,i)}}}}toggleSelect(e,t,i){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||i)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,i))}isActive(e){return!!e.classList.contains(ld)}selectNode(e,t,i){if(h(e)||!this.allowMultiSelection&&this.isActive(e)&&!h(t))return void this.setFocusElement(e);let n;this.isLoaded?(n=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",n,s=>{s.cancel||this.nodeSelectAction(e,t,s,i)})):this.nodeSelectAction(e,t,n,i)}nodeSelectAction(e,t,i,n){if((!this.allowMultiSelection||!n&&(!t||t&&!t.ctrlKey))&&this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);let s=this.liList.indexOf(this.startNode),o=this.liList.indexOf(e);if(s>o){let l=s;s=o,o=l}for(let l=s;l<=o;l++){let a=this.liList[l];Vr(a)&&!a.classList.contains("e-disable")&&this.addSelect(a)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&(i.nodeData=this.getNodeData(e),this.trigger("nodeSelected",i))}unselectNode(e,t){let i;this.isLoaded?(i=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",i,n=>{n.cancel||this.nodeUnselectAction(e,n)})):this.nodeUnselectAction(e,i)}nodeUnselectAction(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))}setFocusElement(e){if(!h(e)){let t=this.getFocusedNode();t&&T([t],Yy),_([e],Yy),this.updateIdAttr(t,e)}}addSelect(e){e.setAttribute("aria-selected","true"),_([e],ld);let t=e.getAttribute("data-uid");!h(t)&&-1===this.selectedNodes.indexOf(t)&&this.selectedNodes.push(t)}removeSelect(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),T([e],ld);let t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)}removeSelectAll(){let e=this.element.querySelectorAll("."+ld);for(let t of e)this.allowMultiSelection?t.setAttribute("aria-selected","false"):t.removeAttribute("aria-selected");T(e,ld),this.setProperties({selectedNodes:[]},!0)}getSelectEvent(e,t,i){let n=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!h(i),node:e,nodeData:n}}setExpandOnType(){this.expandOnType="Auto"===this.expandOn?A.isDevice?"Click":"DblClick":this.expandOn}expandHandler(e){let t=e.originalEvent.target;!t||t.classList.contains(w2)||t.classList.contains(wu)||t.classList.contains(zn)||t.classList.contains(Li)||t.classList.contains(Yo)||this.showCheckBox&&D(t,"."+Md)||this.expandCollapseAction(D(t,"."+Li),e)}expandCollapseAction(e,t){let i=G("div."+Yo,e);if(i&&!i.classList.contains(pg)){let n=i.classList;n.contains(nr)?this.expandAction(e,i,t):n.contains(Ql)&&this.collapseNode(e,i,t)}}expandAction(e,t,i,n,s){t.classList.contains(pg)||(_([t],pg),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,i),this.trigger("nodeExpanding",this.expandArgs,o=>{o.cancel?T([t],pg):this.nodeExpandAction(e,t,n,s)})):this.nodeExpandAction(e,t,n,s))}nodeExpandAction(e,t,i,n){let s=G("."+zn,e);if(s&&"UL"===s.nodeName)this.expandNode(e,t);else{this.isFirstRender=!0,this.renderChildNodes(e,i,n);let o=gt("."+Li,e);for(let l=0;l<o.length;l++){let a=this.getId(o[l]);if(-1!==this.expandChildren.indexOf(a)&&void 0!==this.expandChildren){let c=G("."+nr,G("."+Sl,o[l]));h(c)||this.expandAction(o[l],c,null),this.expandChildren.splice(this.expandChildren.indexOf(a),1)}}}}keyActionHandler(e){let t=e.target,i=this.getFocusedNode();if(t&&t.classList.contains(w2)){let s=t;"enter"===e.action?(s.blur(),this.element.focus(),_([i],vp)):"escape"===e.action&&(s.value=this.oldText,s.blur(),this.element.focus(),_([i],vp))}else e.preventDefault(),this.trigger("keyPress",{cancel:!1,event:e,node:i},s=>{if(!s.cancel)switch(e.action){case"space":this.showCheckBox&&this.checkNode(e);break;case"moveRight":this.openNode(!this.enableRtl,e);break;case"moveLeft":this.openNode(!!this.enableRtl,e);break;case"shiftDown":this.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":this.navigateNode(!0);break;case"shiftUp":this.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":this.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":this.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":this.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":this.toggleSelect(i,e);break;case"f2":this.allowEditing&&!i.classList.contains("e-disable")&&this.createTextbox(i,e);break;case"ctrlA":if(this.allowMultiSelection){let o=gt("."+Li+":not(."+ld+")",this.element);this.selectGivenNodes(o)}}})}navigateToFocus(e){let t=this.getFocusedNode().querySelector("."+Sl),i=t.getBoundingClientRect(),n=this.getScrollParent(this.element);if(!h(n)){let o=n.getBoundingClientRect();i.bottom>o.bottom?n.scrollTop+=i.bottom-o.bottom:i.top<o.top&&(n.scrollTop-=o.top-i.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)}isVisibleInViewport(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}getScrollParent(e){return h(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)}shiftKeySelect(e,t){if(this.allowMultiSelection){let i=this.getFocusedNode(),n=e?this.getNextNode(i):this.getPrevNode(i);this.removeHover(),this.setFocusElement(n),this.toggleSelect(n,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)}checkNode(e){let t=this.getFocusedNode(),i=G("."+Md,t),n=G(" ."+fg,i).classList.contains(Pa);t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(i,n,t,e)}validateCheckNode(e,t,i,n){let s=D(e,"."+Li);this.checkActionNodes=[];let o=t?"false":"true";h(o)||e.setAttribute("aria-checked",o);let l=this.getCheckEvent(s,t?"uncheck":"check",n);this.trigger("nodeChecking",l,a=>{a.cancel||this.nodeCheckingAction(e,t,i,a,n)})}nodeCheckingAction(e,t,i,n,s){if(-1===this.checkedElement.indexOf(i.getAttribute("data-uid"))&&(this.checkedElement.push(i.getAttribute("data-uid")),this.autoCheck)){let o=this.getChildNodes(this.treeData,i.getAttribute("data-uid"));null!==o?this.allCheckNode(o,this.checkedElement,null,null,!1):o=null}if(this.changeState(e,t?"uncheck":"check",s,!0),this.autoCheck){let o;this.ensureChildCheckState(i),this.ensureParentCheckState(D(D(i,"."+zn),"."+Li)),"check"===n.action?o=!0:"uncheck"===n.action&&(o=!1),this.ensureStateChange(i,o)}this.nodeCheckedEvent(e,t,s)}ensureStateChange(e,t){let i=G("."+zn,e),n=e.getAttribute("data-uid"),s=this.fields;if(1===this.dataType&&this.autoCheck){let o=new ie(this.treeData).executeLocal((new Ze).where(s.parentID,"equal",n,!0));for(let l=0;l<o.length;l++){let a=o[l][this.fields.id]?o[l][this.fields.id].toString():null,c=o[l][this.fields.isChecked]?o[l][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(n)&&-1===this.checkedNodes.indexOf(a)){this.checkedNodes.push(a);let d=this.getChildNodes(this.treeData,a);this.getChildItems(d,t),-1!==this.parentNodeCheck.indexOf(a)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(a),1)}else if(-1===this.checkedNodes.indexOf(n)&&null===i&&-1!==this.checkedNodes.indexOf(a)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),"true"===c&&this.updateField(this.treeData,this.fields,a,"isChecked",null),-1===this.checkedNodes.indexOf(n)&&null===i||-1!==this.parentNodeCheck.indexOf(a)){let d=this.getChildNodes(this.treeData,a);this.getChildItems(d,t),-1!==this.parentNodeCheck.indexOf(a)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(a),1)}}else{let d=this.getChildNodes(this.treeData,a);this.getChildItems(d,t)}}}else if(1!==this.dataType||this.autoCheck){let o=this.getChildNodes(this.treeData,n);o&&this.childStateChange(o,n,i,t)}else if(t)for(let o=0;o<this.treeData.length;o++){let l=this.treeData[o][this.fields.id]?this.treeData[o][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l)}else{let o=new ie(this.treeData).executeLocal((new Ze).where(s.isChecked,"equal",!0,!1));for(let l=0;l<o.length;l++){let a=o[l][this.fields.id]?o[l][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(a)&&this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),this.updateField(this.treeData,this.fields,a,"isChecked",null)}this.checkedNodes=[]}}getChildItems(e,t){for(let i=0;i<e.length;i++){let n=e[i][this.fields.id]?e[i][this.fields.id].toString():null,s=e[i][this.fields.isChecked]?e[i][this.fields.isChecked].toString():null;-1!==this.checkedNodes.indexOf(n)&&!t&&this.checkedNodes.splice(this.checkedNodes.indexOf(n),1),-1===this.checkedNodes.indexOf(n)&&t&&this.checkedNodes.push(n),"true"===s&&!t&&this.updateField(this.treeData,this.fields,n,"isChecked",null);let o=this.getChildNodes(this.treeData,n);o.length>0&&this.getChildItems(o,t)}}childStateChange(e,t,i,n){for(let s=0;s<e.length;s++){let o=e[s][this.fields.id]?e[s][this.fields.id].toString():"",l=e[s][this.fields.isChecked]?e[s][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(o)?(this.checkedNodes.push(o),-1!==this.parentNodeCheck.indexOf(o)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(o),1)):-1===this.checkedNodes.indexOf(t)&&-1!==this.checkedNodes.indexOf(o)&&!n&&(this.checkedNodes.splice(this.checkedNodes.indexOf(o),1),"true"===l&&this.updateField(this.treeData,this.fields,o,"isChecked",null)):this.autoCheck||(n?-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o):(-1!==this.checkedNodes.indexOf(o)&&this.checkedNodes.splice(this.checkedNodes.indexOf(o),1),this.updateField(this.treeData,this.fields,o,"isChecked",null),this.checkedNodes=[]));let a=this.getChildNodes([e[s]],o);a&&this.childStateChange(a,t,i,n)}}allCheckNode(e,t,i,n,s){if(e)for(let o=0;o<e.length;o++){let l=M(this.fields.id,e[o]),a=this.element.querySelector('[data-uid="'+l+'"]');!1!==s&&-1===this.checkedElement.indexOf(l.toString())&&(null===a&&!h(e[o][this.fields.isChecked])&&-1===t.indexOf(l.toString())||0===n||2===i)&&(!1!==e[o][this.fields.isChecked]||2===i?t.push(l.toString()):n=null,n=!1!==e[o][this.fields.isChecked]||2===i?0:null),-1===t.indexOf(l.toString())&&h(i)&&t.push(l.toString());let c=M(this.fields.child.toString(),e[o]);if(!0===M(this.fields.hasChildren,e[o])||c){let u,d=M(this.fields.id,e[o]);u=1===this.dataType?this.getChildNodes(this.treeData,d.toString()):c,u&&(h(s)?this.allCheckNode(u,t,i,n):this.allCheckNode(u,t,i,n,s),n=null)}n=null}}openNode(e,t){let i=this.getFocusedNode(),n=G("div."+Yo,i);if(e){if(!n)return;n.classList.contains(nr)?this.expandAction(i,n,t):this.focusNextNode(i,!0)}else if(n&&n.classList.contains(Ql))this.collapseNode(i,n,t);else{let s=D(D(i,"."+zn),"."+Li);if(!s)return;s.classList.contains("e-disable")||(this.setFocus(i,s),this.navigateToFocus(!0))}}navigateNode(e){let t=this.getFocusedNode();this.focusNextNode(t,e)}navigateRootNode(e){let t=this.getFocusedNode(),i=e?this.getRootNode():this.getEndNode();i.classList.contains("e-disable")||(this.setFocus(t,i),this.navigateToFocus(e))}getFocusedNode(){let e,t=G("."+Li+"."+Yy,this.element);return h(t)&&(e=G("."+Li,this.element)),h(t)?h(e)?this.element.firstElementChild:e:t}focusNextNode(e,t){let i=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,i),this.navigateToFocus(!t),i.classList.contains("e-disable")){let n=i.lastChild;null==i.previousSibling&&i.classList.contains("e-level-1")?this.focusNextNode(i,!0):null==i.nextSibling&&i.classList.contains("e-node-collapsed")||null==i.nextSibling&&n.classList.contains(Sl)?this.focusNextNode(i,!1):this.focusNextNode(i,t)}}getNextNode(e){let i,t=this.liList.indexOf(e);do{if(t++,i=this.liList[t],h(i))return e}while(!Vr(i));return i}getPrevNode(e){let i,t=this.liList.indexOf(e);do{if(t--,i=this.liList[t],h(i))return e}while(!Vr(i));return i}getRootNode(){let t,e=0;do{t=this.liList[e],e++}while(!Vr(t));return t}getEndNode(){let t,e=this.liList.length-1;do{t=this.liList[e],e--}while(!Vr(t));return t}setFocus(e,t){T([e],[vp,Yy]),t.classList.contains("e-disable")||(_([t],[vp,Yy]),this.updateIdAttr(e,t))}updateIdAttr(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")}focusIn(){this.mouseDownStatus||_([this.getFocusedNode()],vp),this.mouseDownStatus=!1}focusOut(){T([this.getFocusedNode()],vp)}onMouseOver(e){let t=e.target,i=t.classList,n=D(t,"."+Li);!n||i.contains(zn)||i.contains(Li)?this.removeHover():n&&!n.classList.contains("e-disable")&&this.setHover(n)}setHover(e){e.classList.contains(vp)||(this.removeHover(),_([e],vp))}onMouseLeave(e){this.removeHover()}removeHover(){let e=gt("."+vp,this.element);e&&e.length&&T(e,vp)}getNodeData(e,t){if(!h(e)&&e.classList.contains(Li)&&!h(D(e,"."+u$))&&D(e,"."+u$).classList.contains(wu)){let i=e.getAttribute("data-uid"),n=this.getText(e,t),s=D(e.parentNode,"."+Li),o=s?s.getAttribute("data-uid"):null,l=e.classList.contains(ld),a="true"===e.getAttribute("aria-expanded"),c=null!==e.getAttribute("aria-expanded")||null!=(G("."+nr,e)||G("."+Ql,e)),d=null;return this.showCheckBox&&(d=G("."+Md,e).getAttribute("aria-checked")),{id:i,text:n,parentID:o,selected:l,expanded:a,isChecked:d,hasChildren:c}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}}getText(e,t){if(t){let i=this.getNodeObject(e.getAttribute("data-uid")),n=parseFloat(e.getAttribute("aria-level"));return M(this.getFields(this.fields,n,1).text,i)}return G("."+c0,e).textContent}getExpandEvent(e,t){let i=this.getNodeData(e);return{cancel:!1,isInteracted:!h(t),node:e,nodeData:i,event:t}}renderNodeTemplate(e,t,i){let n=this.nodeTemplateFn(e,this,"nodeTemplate"+i,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,t,this.root);n&&(n=Array.prototype.slice.call(n),Jt(n,t))}destroyTemplate(e){this.clearTemplate(["nodeTemplate"+e.getAttribute("data-uid")])}reRenderNodes(){this.updateListProp(this.fields),A.isIE?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",h(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)}setCssClass(e,t){!h(e)&&""!==e&&T([this.element],e.split(" ")),!h(t)&&""!==t&&_([this.element],t.split(" "))}editingHandler(e){let t=e.target;if(!(!t||t.classList.contains(wu)||t.classList.contains(zn)||t.classList.contains(Li)||t.classList.contains(Yo)||t.classList.contains(w2)||t.classList.contains(p$))){let i=D(t,"."+Li);this.createTextbox(i,e)}}createTextbox(e,t){let i=G("."+b2,this.element);i&&i.blur();let n=G("."+c0,e);this.updateOldText(e);let s=this.createElement("input",{className:b2,attrs:{value:this.oldText}}),o=this.getEditEvent(e,null,s.outerHTML);this.trigger("nodeEditing",o,l=>{if(!l.cancel){let c="width:"+(n.offsetWidth+5)+"px";_([e],WL),h(this.nodeTemplateFn)||this.destroyTemplate(e),n.innerHTML=o.innerHtml;let d=G("."+b2,n);this.inputObj=ke.createInput({element:d,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",c),d.focus(),d.setSelectionRange(0,d.value.length),this.wireInputEvents(d)}})}updateOldText(e){let t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);let i=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,i,1),this.oldText=M(this.editFields.text,this.editData)}inputFocusOut(e){if(!G("."+b2,this.element))return;let t=e.target,i=t.value,n=D(t,"."+c0),s=D(t,"."+Li);de(this.inputObj.container),this.fields.dataSource instanceof ie&&!this.isOffline?this.crudOperation("update",null,s,i,null,null,!0):this.appendNewText(s,n,i,!0)}appendNewText(e,t,i,n){let s=this.getEditEvent(e,i,null);this.trigger("nodeEdited",s,o=>{this.updateText(e,t,i=o.cancel?o.oldText:o.newText,n),o.oldText!==i&&this.triggerEvent()})}updateText(e,t,i,n){let s=Ne(this.editFields.text,i,this.editData);if(h(this.nodeTemplateFn))t.innerText=i;else{t.innerText="";let o=e.getAttribute("data-uid");this.renderNodeTemplate(s,t,o),this.renderReactTemplates()}n&&(T([e],WL),t.focus()),this.allowTextWrap&&this.calculateWrap(e)}getElement(e){return h(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?YG(e):null}getId(e){return h(e)?null:"string"==typeof e?e:"object"==typeof e?YG(e).getAttribute("data-uid"):null}getEditEvent(e,t,i){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:i}}getNodeObject(e){let t;if(h(e))return t;if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(let i=0,n=this.treeData.length;i<n;i++){let s=M(this.fields.id,this.treeData[i]);if(!h(this.treeData[i])&&!h(s)&&s.toString()===e)return this.treeData[i]}return t}getChildNodeObject(e,t,i){let n;if(h(e))return n;for(let s=0,o=e.length;s<o;s++){let l=M(t.id,e[s]);if(e[s]&&l&&l.toString()===i)return e[s];if("string"!=typeof t.child||h(M(t.child,e[s]))){if(this.fields.dataSource instanceof ie&&!h(M("child",e[s]))&&(n=this.getChildNodeObject(M("child",e[s]),this.getChildMapper(t),i),void 0!==n))break}else{let a=M(t.child,e[s]);if(n=this.getChildNodeObject(a,this.getChildMapper(t),i),void 0!==n)break}}return n}setDragAndDrop(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()}initializeDrag(){let e,t=this;this.dragObj=new Yn(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+Sl,helper:i=>{this.dragTarget=i.sender.target;let n=D(this.dragTarget,"."+wu),s=D(this.dragTarget,"."+Sl);if(this.dragLi=D(this.dragTarget,"."+Li),this.fullRowSelect&&!s&&this.dragTarget.classList.contains(gg)&&(s=this.dragTarget.nextElementSibling),!this.dragTarget||!i.element.isSameNode(n)||!s||this.dragTarget.classList.contains(wu)||this.dragTarget.classList.contains(zn)||this.dragTarget.classList.contains(Li)||this.dragLi.classList.contains("e-disable"))return!1;let o=s.cloneNode(!0);if(h(G("div."+Yo,o))){let c=t.createElement("div",{className:Yo+" "+nr});o.insertBefore(c,o.children[0])}e=t.createElement("div",{className:"e-drag-item "+wu+" "+this.cssClass+" "+(this.enableRtl?"e-rtl":"")}),e.appendChild(o);let a=this.selectedNodes.length;if(a>1&&this.allowMultiSelection&&this.dragLi.classList.contains(ld)){let c=t.createElement("span",{className:"e-drop-count",innerHTML:""+a});e.appendChild(c)}return document.body.appendChild(e),document.body.style.cursor="",this.dragData=this.getNodeData(this.dragLi),e},dragStart:i=>{_([this.element],UL);let s,n=D(i.target,".e-list-item");n&&(s=parseInt(n.getAttribute("aria-level"),10));let o=this.getDragEvent(i.event,this,null,i.target,null,e,s);o.draggedNode.classList.contains(WL)?(this.dragObj.intDestroy(i.event),this.dragCancelAction(e)):this.trigger("nodeDragStart",o,l=>{l.cancel?(this.dragObj.intDestroy(i.event),this.dragCancelAction(e)):this.dragStartAction=!0})},drag:i=>{this.dragObj.setProperties({cursorAt:{top:!h(i.event.targetTouches)||A.isDevice?60:-20}}),this.dragAction(i,e)},dragStop:i=>{T([this.element],UL),this.removeVirtualEle();let n=i.target,o=D(n,"."+m$);(!n||!o)&&(de(i.helper),document.body.style.cursor="");let a,l=D(n,".e-list-item");l&&(a=parseInt(l.getAttribute("aria-level"),10));let c=this.getDragEvent(i.event,this,n,n,null,i.helper,a);c.preventTargetExpand=!1,this.trigger("nodeDragStop",c,d=>{this.dragParent=d.draggedParentNode,this.preventExpand=d.preventTargetExpand,d.cancel&&(i.helper.parentNode&&de(i.helper),document.body.style.cursor=""),this.dragStartAction=!1})}}),this.dropObj=new id(this.element,{out:i=>{!h(i)&&!i.target.classList.contains(zb)&&(document.body.style.cursor="not-allowed")},over:i=>{document.body.style.cursor=""},drop:i=>{this.dropAction(i)}})}dragCancelAction(e){de(e),T([this.element],UL),this.dragStartAction=!1}dragAction(e,t){let i=D(e.target,"."+m$),n=D(e.target,"."+Sl),s=G("div."+Yo,t);T([s],[_2,jb,$L,KL]),this.removeVirtualEle(),document.body.style.cursor="";let o=e.target.classList;if(this.fullRowSelect&&!n&&!h(o)&&o.contains(gg)&&(n=e.target.nextElementSibling),i){let d=D(e.target,"."+Li),u=D(e.target,"."+Md),p=D(e.target,"."+Ql),g=D(e.target,"."+nr);if(!i.classList.contains(wu)||n&&!d.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,d))if(this.hasTemplate&&d){let f=G(this.fullRowSelect?"."+gg:"."+Sl,d);e&&!g&&!p&&e.event.offsetY<7&&!u||g&&e.event.offsetY<5||p&&e.event.offsetX<3?this.appendIndicator(d,s,this.fullRowSelect?1:0):e&&!g&&!p&&!u&&f&&e.event.offsetY>f.offsetHeight-10||g&&e.event.offsetY>19||p&&e.event.offsetX>19?this.appendIndicator(d,s,this.fullRowSelect?2:1):_([s],_2)}else d&&e&&!g&&!p&&e.event.offsetY<7&&!u||g&&e.event.offsetY<5||p&&e.event.offsetX<3?this.appendIndicator(d,s,this.fullRowSelect?1:0):d&&e&&!g&&!p&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!u||g&&e.event.offsetY>19||p&&e.event.offsetX>19?this.appendIndicator(d,s,this.fullRowSelect?2:1):_([s],_2);else"LI"!==e.target.nodeName||d.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,d)?e.target.classList.contains(zb)?_([s],jb):_([s],$L):(_([s],jb),this.renderVirtualEle(e))}else _([s],KL),document.body.style.cursor="not-allowed";let a,l=D(e.target,".e-list-item");l&&(a=parseInt(l.getAttribute("aria-level"),10));let c=this.getDragEvent(e.event,this,e.target,e.target,null,t,a);c.dropIndicator&&T([s],c.dropIndicator),this.trigger("nodeDragging",c),c.dropIndicator&&_([s],c.dropIndicator)}appendIndicator(e,t,i){_([t],jb);let n=this.createElement("div",{className:zb});e.insertBefore(n,e.children[i])}dropAction(e){let n,s,l,t=e.event.offsetY,i=e.target,o=!1;l=e.dragData.draggable;for(let a=0;a<l.ej2_instances.length;a++)if(l.ej2_instances[a]instanceof GL){n=l.ej2_instances[a];break}if(n&&n.dragTarget){let c=D(n.dragTarget,"."+Li),d=D(i,"."+Li);if(null==d&&i.classList.contains(wu)&&(d=i.firstElementChild),de(e.droppedElement),document.body.style.cursor="",!d||d.isSameNode(c)||this.isDescendant(c,d))return void(this.fields.dataSource instanceof ie||(this.preventExpand=!1));if(n.allowMultiSelection&&c.classList.contains(ld)){let u=gt("."+ld,n.element);if(e.target.offsetHeight<=33&&t>e.target.offsetHeight-10&&t>6)for(let p=u.length-1;p>=0;p--)d.isSameNode(u[p])||this.isDescendant(u[p],d)||this.appendNode(i,u[p],d,e,n,t);else for(let p=0;p<u.length;p++)d.isSameNode(u[p])||this.isDescendant(u[p],d)||this.appendNode(i,u[p],d,e,n,t)}else this.appendNode(i,c,d,e,n,t);s=parseInt(c.getAttribute("aria-level"),10),o=!0}this.fields.dataSource instanceof ie||(this.preventExpand=!1),this.trigger("nodeDropped",this.getDragEvent(e.event,n,i,e.target,e.dragData.draggedElement,null,s,o)),n.element.id!==this.element.id&&n.triggerEvent(),this.triggerEvent()}appendNode(e,t,i,n,s,o){let l=D(e,"."+Md),a=D(n.target,"."+Ql),c=D(n.target,"."+nr);t.classList.contains("e-disable")||l||!(c&&n.event.offsetY<5||a&&n.event.offsetX<3||c&&n.event.offsetY>19||a&&n.event.offsetX>19||!c&&!a)?this.dropAsChildNode(t,i,s,null,n,o,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,i,n,s):e.firstElementChild&&e.classList.contains(wu)?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,i,n,s):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,i,n,s):this.dropAsChildNode(t,i,s,null,n,o)}dropAsSiblingNode(e,t,i,n){let a,s=D(t,"."+zn),o=D(e,"."+zn),l=D(o,"."+Li);if(i.target.offsetHeight>0&&i.event.offsetY>i.target.offsetHeight-2?a=!1:i.event.offsetY<2?a=!0:(i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible"))&&(i.event.offsetY<5||i.event.offsetX<3?a=!0:(i.event.offsetY>15||i.event.offsetX>17)&&(a=!1)),i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible")){let c=i.target.closest("li");s.insertBefore(e,a?c:c.nextElementSibling)}else s.insertBefore(e,a?i.target:i.target.nextElementSibling);this.moveData(e,t,s,a,n),this.updateElement(o,l),this.updateAriaLevel(e),n.element.id===this.element.id?this.updateList():(n.updateInstance(),this.updateInstance())}dropAsChildNode(e,t,i,n,s,o,l){let u,a=D(e,"."+zn),c=D(a,"."+Li),d=D(t,"."+zn);if(s&&s.target&&(u=G(this.fullRowSelect?"."+gg:"."+Sl,t)),s&&o<7&&!l)d.insertBefore(e,t),this.moveData(e,t,d,!0,i);else if(s&&s.target.offsetHeight>0&&o>s.target.offsetHeight-10&&!l&&!this.hasTemplate)d.insertBefore(e,t.nextElementSibling),this.moveData(e,t,d,!1,i);else if(this.hasTemplate&&u&&o>u.offsetHeight-10&&!l)d.insertBefore(e,t.nextElementSibling),this.moveData(e,t,d,!1,i);else{let p=this.expandParent(t),g=p.childNodes[n];p.insertBefore(e,g),this.moveData(e,g,p,!0,i)}this.updateElement(a,c),this.updateAriaLevel(e),i.element.id===this.element.id?this.updateList():(i.updateInstance(),this.updateInstance())}moveData(e,t,i,n,s){let o=D(i,"."+Li),l=this.getId(e),a=s.updateChildField(s.treeData,s.fields,l,null,null,!0),c=this.getId(t),d=this.getDataPos(this.treeData,this.fields,c),u=this.getId(o);if(1===this.dataType){this.updateField(this.treeData,this.fields,u,"hasChildren",!0);let p=h(d)?this.treeData.length:n?d:d+1;if(h(u)&&!this.hasPid)delete a[0][this.fields.parentID];else{let g=this.isNumberTypeId?parseFloat(u):u;Ne(this.fields.parentID,g,a[0])}if(this.treeData.splice(p,0,a[0]),s.element.id!==this.element.id){let g=s.removeChildNodes(l);p++;for(let f=0,m=g.length;f<m;f++)this.treeData.splice(p,0,g[f]),p++;s.groupedData=s.getGroupedData(s.treeData,s.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,u,a,n?d:d+1)}expandParent(e){let t=G("div."+Yo,e);t&&t.classList.contains(nr)&&!0!==this.preventExpand&&this.expandAction(e,t,null);let i=G("."+zn,e);if(!0===this.preventExpand&&!i&&t&&this.renderChildNodes(e),i=G("."+zn,e),!h(i)&&!0===this.preventExpand&&(i.style.display="none"),!h(i)&&!1===this.preventExpand&&(i.style.display="block"),h(i)&&!0===this.preventExpand){h(t)&&Cn.generateIcon(this.createElement,e,nr,this.listBaseOption);let n=G("div."+Yo,e);n&&n.classList.add("e-icon-expandable"),i=Cn.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),n?T([n],Ql):Cn.generateIcon(this.createElement,e,nr,this.listBaseOption),e.setAttribute("aria-expanded","false"),i.style.display="none"}if(h(i)){this.trigger("nodeExpanding",this.getExpandEvent(e,null)),h(t)&&Cn.generateIcon(this.createElement,e,Ql,this.listBaseOption);let n=G("div."+Yo,e);n||(Cn.generateIcon(this.createElement,e,Ql,this.listBaseOption),n=G("div."+Yo,e)),T([n],nr),i=Cn.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null))}return i}updateElement(e,t){if(t&&0===e.childElementCount){let i=G("div."+Yo,t);de(e),de(i);let n=this.getId(t);this.updateField(this.treeData,this.fields,n,"hasChildren",!1),this.removeExpand(t,!0)}}updateAriaLevel(e){let t=this.parents(e,"."+zn).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel(G("."+zn,e),t+1)}updateChildAriaLevel(e,t){if(!h(e)){let i=e.childNodes;for(let n=0,s=i.length;n<s;n++){let o=i[n];o.setAttribute("aria-level",""+t),this.updateChildAriaLevel(G("."+zn,o),t+1)}}}renderVirtualEle(e){let t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);let i=this.createElement("div",{className:zb});e.target.insertBefore(i,e.target.children[this.fullRowSelect?t?1:2:t?0:1])}removeVirtualEle(){let e=G("."+zb);e&&de(e)}destroyDrag(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())}getDragEvent(e,t,i,n,s,o,l,a){let c=i?D(i,"."+Li):null,d=c?this.getNodeData(c):null,u=t?t.dragLi:s,p=t?t.dragData:null,g=i?this.parents(i,"."+Li):null,f=t.dragLi.parentElement,m=t.dragLi?D(f,"."+Li):null,v=null,x=null,w=[jb,_2,$L,KL],b=null,I=!0===a?u:c,k=I?D(I,".e-list-parent"):null,P=0,W=null;if(m=t.dragLi&&null===m?D(f,"."+wu):m,m=!0===a?this.dragParent:m,o)for(;P<4;){if(G("."+Yo,o).classList.contains(w[P])){b=w[P];break}P++}if(k){let oe=0;for(P=0;P<k.childElementCount;P++){if(oe=!0!==a&&k.children[P]===u&&c!==u?++oe:oe,!0!==a&&k.children[P].classList.contains("e-hover")){x=e.offsetY>=23?P+1:P;break}if(k.children[P]===I){x=P;break}}x=0!==oe?--x:x,W="e-drop-in"==b?"Inside":e.offsetY<7?"Before":"After"}if(i&&(v=0===g.length?null:i.classList.contains(Li)?g[0]:g[1]),c===u&&(v=c),i&&n.offsetHeight<=33&&e.offsetY<n.offsetHeight-10&&e.offsetY>6&&(v=c,!0!==a)){l=++l;let oe=v?G(".e-list-parent",v):null;if(x=oe?oe.children.length:0,!(this.fields.dataSource instanceof ie)&&null===oe&&v){let ae=v.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,v.getAttribute("data-uid").toString()):null;x=ae?ae.length:0}}return{cancel:!1,clonedNode:o,event:e,draggedNode:u,draggedNodeData:p,droppedNode:c,droppedNodeData:d,dropIndex:x,dropLevel:l,draggedParentNode:m,dropTarget:v,dropIndicator:b,target:n,position:W}}addFullRow(e){let t=this.liList.length;if(e)for(let i=0;i<t;i++)this.createFullRow(this.liList[i]);else for(let i=0;i<t;i++)de(G("."+gg,this.liList[i]))}createFullRow(e){let t=this.createElement("div",{className:gg});e.insertBefore(t,e.childNodes[0])}addMultiSelect(e){if(e){let t=gt("."+Li+':not([aria-selected="true"])',this.element);for(let i of t)i.setAttribute("aria-selected","false")}else{let t=gt("."+Li+'[aria-selected="false"]',this.element);for(let i of t)i.removeAttribute("aria-selected")}}collapseByLevel(e,t,i){if(t>0&&!h(e)){let n=this.getVisibleNodes(i,e.childNodes);for(let s=0,o=n.length;s<o;s++){let l=n[s],a=G("."+Ql,G("."+Sl,l));h(a)||this.collapseNode(l,a,null),this.collapseByLevel(G("."+zn,l),t-1,i)}}}collapseAllNodes(e){let t=this.getVisibleNodes(e,gt("."+Ql,this.element));for(let i=0,n=t.length;i<n;i++){let s=t[i],o=D(s,"."+Li);this.collapseNode(o,s,null)}}expandByLevel(e,t,i){if(t>0&&!h(e)){let n=this.getVisibleNodes(i,e.childNodes);for(let s=0,o=n.length;s<o;s++){let l=n[s],a=G("."+nr,G("."+Sl,l));h(a)||this.expandAction(l,a,null),this.expandByLevel(G("."+zn,l),t-1,i)}}}expandAllNodes(e){let t=this.getVisibleNodes(e,gt("."+nr,this.element));for(let i=0,n=t.length;i<n;i++){let s=t[i],o=D(s,"."+Li);this.expandAction(o,s,null,!0)}}getVisibleNodes(e,t){let i=Array.prototype.slice.call(t);if(e)for(let n=0;n<i.length;n++)Vr(i[n])||(i.splice(n,1),n--);return i}removeNode(e){let t=D(e,"."+zn),i=D(t,"."+Li);h(this.nodeTemplateFn)||this.destroyTemplate(e),de(e),this.updateElement(t,i),this.removeData(e)}updateInstance(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()}updateList(){this.liList=Array.prototype.slice.call(gt("."+Li,this.element))}updateSelectedNodes(){this.setProperties({selectedNodes:[]},!0);let e=gt("."+ld,this.element);this.selectGivenNodes(e)}updateExpandedNodes(){this.setProperties({expandedNodes:[]},!0);let e=gt('[aria-expanded="true"]',this.element);for(let t=0,i=e.length;t<i;t++)this.addExpand(e[t])}removeData(e){if(1===this.dataType){let t=new ie(this.treeData),i=this.getId(e),n={},s=this.isNumberTypeId?parseFloat(i):i;n[this.fields.id]=s,t.remove(this.fields.id,n),this.removeChildNodes(i)}else{let t=this.getId(e);this.updateChildField(this.treeData,this.fields,t,null,null,!0)}}removeChildNodes(e){let t=this.getChildGroup(this.groupedData,e,!1),i=[];if(t)for(let n=0,s=t.length;n<s;n++){let o=new ie(this.treeData),l=M(this.fields.id,t[n]).toString(),a={},c=this.isNumberTypeId?parseFloat(l):l;a[this.fields.id]=c;let d=o.remove(this.fields.id,a);i.push(d[0]),this.removeChildNodes(l)}return i}doGivenAction(e,t,i){for(let n=0,s=e.length;n<s;n++){let o=this.getElement(e[n]);if(h(o))continue;let l=G("."+t,G("."+Sl,o));h(l)||(i?this.expandAction(o,l,null):this.collapseNode(o,l,null))}}addGivenNodes(e,t,i,n,s){if(0===e.length)return;let o=this.getSortedData(e),l=t?parseFloat(t.getAttribute("aria-level"))+1:1;n&&this.updateMapper(l);let c,a=Cn.createListItemFromJson(this.createElement,o,this.listBaseOption,l);c=s||(t?this.expandParent(t):G("."+zn,this.element));let d=c.childNodes[i];if(d||"None"===this.sortOrder)for(let p=0;p<a.length;p++)c.insertBefore(a[p],d);if(!d&&("Ascending"===this.sortOrder||"Descending"===this.sortOrder)){let p=c.childNodes;for(let g=0;g<a.length;g++)for(let f=0;f<p.length;f++){if("Ascending"===this.sortOrder?p[f].textContent.toUpperCase()>a[g].innerText.toUpperCase():p[f].textContent.toUpperCase()<a[g].innerText.toUpperCase()){d=p[f],c.insertBefore(a[g],d);break}d=p[p.length],c.insertBefore(a[g],d)}}let u=this.getId(t);if(1===this.dataType){this.updateField(this.treeData,this.fields,u,"hasChildren",!0);let p=this.getId(d),g=h(p)?this.treeData.length:this.getDataPos(this.treeData,this.fields,p);for(let f=0;f<e.length;f++){if(!h(u)){let m=this.isNumberTypeId?parseFloat(u):u;Ne(this.fields.parentID,m,e[f])}this.treeData.splice(g,0,e[f]),g++}}else this.addChildData(this.treeData,this.fields,u,e,i);this.finalizeNode(c)}updateMapper(e){let t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)}updateListProp(e){let t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"}getDataPos(e,t,i){let n=null;for(let s=0,o=e.length;s<o;s++){let l=M(t.id,e[s]);if(e[s]&&l&&l.toString()===i)return s;if("string"!=typeof t.child||h(M(t.child,e[s]))){if(this.fields.dataSource instanceof ie&&!h(M("child",e[s]))){let a=M("child",e[s]);if(n=this.getDataPos(a,this.getChildMapper(t),i),null!==n)break}}else{let a=M(t.child,e[s]);if(n=this.getDataPos(a,this.getChildMapper(t),i),null!==n)break}}return n}addChildData(e,t,i,n,s){let o;if(h(i)){s=h(s)?e.length:s;for(let l=0,a=n.length;l<a;l++)e.splice(s,0,n[l]),s++;return o}for(let l=0,a=e.length;l<a;l++){let c=M(t.id,e[l]);if(e[l]&&c&&c.toString()===i){if("string"==typeof t.child&&e[l].hasOwnProperty(t.child)&&null!==e[l][t.child]||this.fields.dataSource instanceof ie&&e[l].hasOwnProperty("child")){let u=M("string"==typeof t.child?t.child:"child",e[l]);h(u)&&(u=[]),s=h(s)?u.length:s;for(let p=0,g=n.length;p<g;p++)u.splice(s,0,n[p]),s++}else e[l]["string"==typeof t.child?t.child:"child"]=n;return!0}if("string"!=typeof t.child||h(M(t.child,e[l]))){if(this.fields.dataSource instanceof ie&&!h(M("child",e[l]))){let d=M("child",e[l]);if(o=this.addChildData(d,this.getChildMapper(t),i,n,s),void 0!==o)break}}else{let d=M(t.child,e[l]);if(o=this.addChildData(d,this.getChildMapper(t),i,n,s),void 0!==o)break}}return o}doDisableAction(e){let t=this.nodeType(e),i=this.checkValidId(t);this.validArr=[];for(let n=0,s=i.length;n<s;n++){let o=i[n][this.fields.id].toString();o&&-1===this.disableNode.indexOf(o)&&this.disableNode.push(o);let l=this.getElement(o);l&&(l.setAttribute("aria-disabled","true"),_([l],y$))}}doEnableAction(e){let t=this.nodeType(e);for(let i=0,n=t.length;i<n;i++){let s=this.getElement(t[i]),o=t[i];o&&-1!==this.disableNode.indexOf(o)&&this.disableNode.splice(this.disableNode.indexOf(o),1),s&&(s.removeAttribute("aria-disabled"),T([s],y$))}}nodeType(e){let t=[];for(let i=0,n=e.length;i<n;i++){let s;"string"==typeof e[i]?s=e[i]?e[i].toString():null:"object"==typeof e[i]&&(s=e[i]?e[i].getAttribute("data-uid").toString():null),-1==t.indexOf(s)&&t.push(s)}return t}checkValidId(e){if(1===this.dataType)this.validArr=this.treeData.filter(t=>-1!==e.indexOf(t[this.fields.id]?t[this.fields.id].toString():null));else if(2===this.dataType)for(let t=0;t<this.treeData.length;t++){let i=this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():null;-1!==e.indexOf(i)&&this.validArr.push(this.treeData[t]);let n=M(this.fields.child.toString(),this.treeData[t]);n&&this.filterNestedChild(n,e)}return this.validArr}filterNestedChild(e,t){for(let i=0;i<e.length;i++){let n=e[i][this.fields.id]?e[i][this.fields.id].toString():null;-1!==t.indexOf(n)&&this.validArr.push(e[i]);let s=M(this.fields.child.toString(),e[i]);s&&this.filterNestedChild(s,t)}}setTouchClass(){let e=D(this.element,".e-bigger");this.touchClass=h(e)?"":"e-small"}updatePersistProp(){this.removeField(this.treeData,this.fields,["selected","expanded"]);let e=this.selectedNodes;for(let i=0,n=e.length;i<n;i++)this.updateField(this.treeData,this.fields,e[i],"selected",!0);let t=this.expandedNodes;for(let i=0,n=t.length;i<n;i++)this.updateField(this.treeData,this.fields,t[i],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);let i=this.checkedNodes;for(let n=0,s=i.length;n<s;n++)this.updateField(this.treeData,this.fields,i[n],"isChecked",!0)}}removeField(e,t,i){if(!h(e)&&!h(t))for(let n=0,s=e.length;n<s;n++){for(let o=0;o<i.length;o++){let l=this.getMapperProp(t,i[o]);h(e[n][l])||delete e[n][l]}"string"!=typeof t.child||h(M(t.child,e[n]))?this.fields.dataSource instanceof ie&&!h(M("child",e[n]))&&this.removeField(M("child",e[n]),this.getChildMapper(t),i):this.removeField(M(t.child,e[n]),this.getChildMapper(t),i)}}getMapperProp(e,t){switch(t){case"selected":return h(e.selected)?"selected":e.selected;case"expanded":return h(e.expanded)?"expanded":e.expanded;case"isChecked":return h(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return h(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}}updateField(e,t,i,n,s){if(!h(i))if(1===this.dataType){let o=this.isNumberTypeId?parseFloat(i):i,l=new ie(this.treeData).executeLocal((new Ze).where(t.id,"equal",o,!1));Ne(this.getMapperProp(t,n),s,l[0])}else this.updateChildField(e,t,i,n,s)}updateChildField(e,t,i,n,s,o){let l;if(h(e))return l;for(let a=0,c=e.length;a<c;a++){let d=M(t.id,e[a]);if(e[a]&&d&&d.toString()===i)return o?l=e.splice(a,1):(Ne(this.getMapperProp(t,n),s,e[a]),l=[]),l;if("string"!=typeof t.child||h(M(t.child,e[a]))){if(this.fields.dataSource instanceof ie&&!h(M("child",e[a]))){let u=M("child",e[a]);if(l=this.updateChildField(u,this.getChildMapper(t),i,n,s,o),void 0!==l)break}}else{let u=M(t.child,e[a]);if(l=this.updateChildField(u,this.getChildMapper(t),i,n,s,o),void 0!==l)break}}return l}triggerEvent(){this.renderReactTemplates(),this.trigger("dataSourceChanged",{data:this.treeData})}wireInputEvents(e){C.add(e,"blur",this.inputFocusOut,this)}wireEditingEvents(e){if(e&&!this.disabled){let t=this;this.touchEditObj=new Qr(this.element,{tap:i=>{this.isDoubleTapped(i)&&2===i.tapCount&&(i.originalEvent.preventDefault(),t.editingHandler(i.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()}wireClickEvent(e){if(e){let t=this;this.touchClickObj=new Qr(this.element,{tap:i=>{t.clickHandler(i)}})}else this.touchClickObj&&this.touchClickObj.destroy()}wireExpandOnEvent(e){if(e){let t=this;this.touchExpandObj=new Qr(this.element,{tap:i=>{("Click"===this.expandOnType||"DblClick"===this.expandOnType&&this.isDoubleTapped(i)&&2===i.tapCount)&&3!==i.originalEvent.which&&t.expandHandler(i)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()}mouseDownHandler(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&C.add(this.element,"contextmenu",this.preventContextMenu,this)}preventContextMenu(e){e.preventDefault()}wireEvents(){C.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),C.add(this.element,"focus",this.focusIn,this),C.add(this.element,"blur",this.focusOut,this),C.add(this.element,"mouseover",this.onMouseOver,this),C.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new tn(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}unWireEvents(){C.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),C.remove(this.element,"focus",this.focusIn),C.remove(this.element,"blur",this.focusOut),C.remove(this.element,"mouseover",this.onMouseOver),C.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()}parents(e,t){let i=[],n=e.parentNode;for(;!h(n);)Um(n,t)&&i.push(n),n=n.parentNode;return i}isDoubleTapped(e){let i,t=e.originalEvent.target;return t&&e.tapCount&&(1===e.tapCount?this.firstTap=D(t,"."+Li):2===e.tapCount&&(i=D(t,"."+Li))),this.firstTap===i}isDescendant(e,t){let i=t.parentNode;for(;!h(i);){if(i===e)return!0;i=i.parentNode}return!1}showSpinner(e){_([e],qL),bc({target:e,width:A.isDevice?16:14},this.createElement),Go(e)}hideSpinner(e){qo(e),e.innerHTML="",T([e],qL)}setCheckedNodes(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)}setValidCheckedNode(e){if(1===this.dataType){let t=this.fields,i=new ie(this.treeData).executeLocal((new Ze).where(t.id,"equal",e,!0));if(i[0]&&(this.setChildCheckState(i,e,i[0]),this.autoCheck)){let n=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null,s=this.getChildNodes(this.treeData,n),o=0;for(let l=0;l<s.length;l++){let a=s[l][this.fields.id].toString();-1!==this.checkedNodes.indexOf(a)&&o++}o===s.length&&-1===this.checkedNodes.indexOf(n)&&n&&this.checkedNodes.push(n)}}else if(2===this.dataType)for(let t=0;t<this.treeData.length;t++){if((this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():"")===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}let n=M(this.fields.child.toString(),this.treeData[t]);n&&this.setChildCheckState(n,e,this.treeData[t])}}setChildCheckState(e,t,i){let n,s=0;if(1===this.dataType){i&&(n=i[this.fields.id]?i[this.fields.id].toString():null);for(let o=0;o<e.length;o++){let l=e[o][this.fields.id]?e[o][this.fields.id].toString():null;i&&n&&this.autoCheck&&-1!==this.checkedNodes.indexOf(n)&&-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),l===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);let a=this.getChildNodes(this.treeData,l);a&&this.setChildCheckState(a,t,i)}}else{i&&(n=i[this.fields.id]?i[this.fields.id].toString():"");for(let o=0;o<e.length;o++){let l=e[o][this.fields.id]?e[o][this.fields.id].toString():"";i&&n&&this.autoCheck&&-1!==this.checkedNodes.indexOf(n)&&-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),l===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);let a=M(this.fields.child.toString(),e[o]);a&&this.setChildCheckState(a,t,e[o]),-1!==this.checkedNodes.indexOf(l)&&this.autoCheck&&s++,s===e.length&&-1===this.checkedNodes.indexOf(n)&&this.autoCheck&&this.checkedNodes.push(n)}}}setIndeterminate(e){for(let t=0;t<e.length;t++)this.setValidCheckedNode(e[t])}updatePosition(e,t,i,n){if(1===this.dataType){let s=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(s,1,t),i){this.removeChildNodes(e);for(let o=0;o<n.length;o++)this.treeData.splice(s,0,n[o]),s++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)}updateChildPosition(e,t,i,n,s){let o;for(let l=0,a=e.length;l<a;l++){let c=M(t.id,e[l]);if(e[l]&&c&&c.toString()===i)return e[l]=n[0],!0;if("string"!=typeof t.child||h(M(t.child,e[l]))){if(this.fields.dataSource instanceof ie&&!h(M("child",e[l]))){let d=M("child",e[l]);if(o=this.updateChildPosition(d,this.getChildMapper(t),i,n,s),void 0!==o)break}}else{let d=M(t.child,e[l]);if(o=this.updateChildPosition(d,this.getChildMapper(t),i,n,s),void 0!==o)break}}return o}dynamicState(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())}crudOperation(e,t,i,n,s,o,l){let p,a=this.fields.dataSource,c=[],d=this.getQuery(this.fields),u=this.fields.id,g={addedRecords:[],deletedRecords:[],changedRecords:[]},f=[];t?f=this.nodeType(t):i&&("string"==typeof i?f[0]=i.toString():"object"==typeof i&&(f[0]=i.getAttribute("data-uid").toString()));for(let m=0,v=f.length;m<v;m++){if(h(this.getElement(f[m])))continue;let w=this.getNodeObject(f[m]);c.push(w)}switch(e){case"delete":1==t.length?p=a.remove(u,c[0],d.fromTable,d):(g.deletedRecords=c,p=a.saveChanges(g,u,d.fromTable,d)),p.then(m=>this.deleteSuccess(f)).catch(m=>this.dmFailure(m));break;case"update":c[0][this.fields.text]=n,p=a.update(u,c[0],d.fromTable,d),p.then(m=>this.editSucess(i,n,l)).catch(m=>this.dmFailure(m,i,l));break;case"insert":if(1==s.length)p=a.insert(s[0],d.fromTable,d);else{let m=[];for(let v=0,x=s.length;v<x;v++)m.push(s[v]);g.addedRecords=m,p=a.saveChanges(g,u,d.fromTable,d)}p.then(m=>{let v=this.getElement(i);this.addSuccess(s,v,o),this.preventExpand=!1}).catch(m=>this.dmFailure(m))}}deleteSuccess(e){for(let t=0,i=e.length;t<i;t++){let n=this.getElement(e[t]);h(n)||this.removeNode(n)}this.updateInstance(),1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent()}editSucess(e,t,i){let n=this.getElement(e),s=G("."+c0,n);this.appendNewText(n,s,t,i)}addSuccess(e,t,i){let n,s=t?t.querySelector("."+Yo):null,o=this;t&&s&&s.classList.contains(nr)&&null===t.querySelector("."+zn)?o.renderChildNodes(t,null,()=>{n=t.querySelector("."+zn),o.addGivenNodes(e,t,i,!0,n),o.triggerEvent()}):(this.addGivenNodes(e,t,i,!0),this.triggerEvent())}dmFailure(e,t,i){t&&this.updatePreviousText(t,i),this.trigger("actionFailure",{error:e})}updatePreviousText(e,t){let i=this.getElement(e),n=G("."+c0,i);this.updateText(i,n,this.oldText,t)}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){let n=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(n,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"allowTextWrap":this.setTextWrap(),this.updateWrap();break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:h(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"!==this.expandOnType&&!this.disabled&&this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.reRenderNodes(),this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect),this.allowTextWrap&&(this.setTextWrap(),this.updateWrap());break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){let n=this.element.querySelectorAll("li"),s=0;for(;s<n.length;)"true"!==n[s].getAttribute("aria-expanded")&&this.renderChildNodes(n[s],!0,null,!0),s++;this.onLoaded=!0}break;case"nodeTemplate":this.hasTemplate=!1,this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}}destroy(){this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),super.destroy()}addNodes(e,t,i,n){if(h(e))return;e=JSON.parse(JSON.stringify(e));let s=this.getElement(t);if(this.preventExpand=n,this.fields.dataSource instanceof ie)this.isOffline?this.addSuccess(e,s,i):this.crudOperation("insert",null,t,null,e,i,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,s,i);else{if(s)this.addGivenNodes(e,s,i);else{e=this.getSortedData(e);for(let o=0;o<e.length;o++){let l=M(this.fields.parentID,e[o]);s=l&&this.getElement(l.toString()),this.addGivenNodes([e[o]],s,i)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.updateCheckedStateFromDS(),this.showCheckBox&&s&&this.ensureParentCheckState(s),this.fields.dataSource instanceof ie||(this.preventExpand=!1,this.triggerEvent())}beginEdit(e){let t=this.getElement(e);h(t)||this.disabled||this.createTextbox(t,null)}checkAll(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)}collapseAll(e,t,i){h(e)?t>0?this.collapseByLevel(G("."+zn,this.element),t,i):this.collapseAllNodes(i):this.doGivenAction(e,Ql,!1)}disableNodes(e){h(e)||this.doDisableAction(e)}enableNodes(e){h(e)||this.doEnableAction(e)}ensureVisible(e){let t=this.getElement(e);if(h(t))return;let i=this.parents(t,"."+Li);this.expandAll(i),setTimeout(()=>{t.scrollIntoView(!0)},450)}expandAll(e,t,i){h(e)?t>0?this.expandByLevel(G("."+zn,this.element),t,i):this.expandAllNodes(i):this.doGivenAction(e,nr,!0)}getAllCheckedNodes(){return this.checkedNodes}getDisabledNodes(){return this.disableNode}getNode(e){let t=this.getElement(e);return this.getNodeData(t,!0)}getTreeData(e){let t=this.getId(e);if(this.updatePersistProp(),h(t))return this.treeData;{let i=this.getNodeObject(t);return h(i)?[]:[i]}}moveNodes(e,t,i,n){let s=this.getElement(t);if(!h(s)){for(let o=0;o<e.length;o++){let l=this.getElement(e[o]);h(l)||s.isSameNode(l)||this.isDescendant(l,s)||(this.preventExpand=n,this.dropAsChildNode(l,s,this,i))}this.fields.dataSource instanceof ie||(this.preventExpand=!1),this.triggerEvent()}}refreshNode(e,t){if(h(e)||h(t))return;let i,n=!1;1==this.dataType&&t.length>1?n=!0:2==this.dataType&&1===t.length&&(h(M(this.fields.child.toString(),t[0]))||(n=!0));let o,l,s=this.getElement(e);if(i=s?s.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(i),t=JSON.parse(JSON.stringify(t)),1==this.dataType&&n){for(let p=0;p<t.length;p++)if(h(t[p][this.fields.parentID])){l=t[p],t.splice(p,1);break}o=O({},this.refreshData,l)}else o=O({},this.refreshData,t[0]);if(h(s))return void this.updatePosition(i,o,n,t);this.isRefreshed=!0;let a=parseFloat(s.getAttribute("aria-level")),c=Cn.createListItemFromJson(this.createElement,[o],this.listBaseOption,a),d=G("."+zn,s),u=M(this.fields.child.toString(),o);if(n&&d||n&&!h(u)){let p=s.parentElement,g=Array.prototype.indexOf.call(p.childNodes,s);X(s),p.insertBefore(c[0],p.childNodes[g]),this.updatePosition(i,o,n,t),n&&d&&this.expandAll([i])}else{let p=G("."+Sl,s),g=G("."+Sl,c[0]),f=G("div."+Yo,p),m=G("div."+Yo,g);f&&m&&(m.classList.contains(nr)&&f.classList.contains(Ql)?(T([m],nr),_([m],Ql)):m.classList.contains(Ql)&&f.classList.contains(nr)?(T([m],Ql),_([m],nr)):f.classList.contains("interaction")&&_([m],"interaction")),X(p);let v=G("."+gg,s);v.parentNode.insertBefore(g,v.nextSibling),this.updatePosition(i,o,n,t)}if(s=this.getElement(e),o[this.fields.tooltip]&&s.setAttribute("title",o[this.fields.tooltip]),o.hasOwnProperty(this.fields.htmlAttributes)&&o[this.fields.htmlAttributes]){let p={};Nr(p,o[this.fields.htmlAttributes]),p.class?(_([s],p.class.split(" ")),delete p.class):Le(s,p)}-1!==this.selectedNodes.indexOf(i)&&(s.setAttribute("aria-selected","true"),_([s],ld)),this.isRefreshed=!1,this.triggerEvent()}removeNodes(e){h(e)||(this.fields.dataSource instanceof ie&&!this.isOffline?this.crudOperation("delete",e):this.deleteSuccess(e))}updateNode(e,t){if(h(e)||h(t)||!this.allowEditing)return;let i=this.getElement(e);if(h(i))return;let n=G("."+c0,i);this.updateOldText(i);let s=this.getEditEvent(i,null,null);this.trigger("nodeEditing",s,o=>{o.cancel||(this.fields.dataSource instanceof ie&&!this.isOffline?this.crudOperation("update",null,e,t,null,null,!1):this.appendNewText(i,n,t,!1))})}uncheckAll(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)}};vi([y(!1)],Yi.prototype,"allowDragAndDrop",void 0),vi([y(!1)],Yi.prototype,"allowEditing",void 0),vi([y(!1)],Yi.prototype,"allowMultiSelection",void 0),vi([y(!1)],Yi.prototype,"allowTextWrap",void 0),vi([gi({},YL)],Yi.prototype,"animation",void 0),vi([y()],Yi.prototype,"checkedNodes",void 0),vi([y("")],Yi.prototype,"cssClass",void 0),vi([y(!1)],Yi.prototype,"disabled",void 0),vi([y(null)],Yi.prototype,"dragArea",void 0),vi([y(!1)],Yi.prototype,"enableHtmlSanitizer",void 0),vi([y(!1)],Yi.prototype,"enablePersistence",void 0),vi([y()],Yi.prototype,"expandedNodes",void 0),vi([y("Auto")],Yi.prototype,"expandOn",void 0),vi([gi({},La)],Yi.prototype,"fields",void 0),vi([y(!0)],Yi.prototype,"fullRowSelect",void 0),vi([y(!0)],Yi.prototype,"loadOnDemand",void 0),vi([y()],Yi.prototype,"locale",void 0),vi([y()],Yi.prototype,"nodeTemplate",void 0),vi([y()],Yi.prototype,"selectedNodes",void 0),vi([y("None")],Yi.prototype,"sortOrder",void 0),vi([y(!1)],Yi.prototype,"showCheckBox",void 0),vi([y(!0)],Yi.prototype,"autoCheck",void 0),vi([y(!1)],Yi.prototype,"fullRowNavigable",void 0),vi([E()],Yi.prototype,"actionFailure",void 0),vi([E()],Yi.prototype,"created",void 0),vi([E()],Yi.prototype,"dataBound",void 0),vi([E()],Yi.prototype,"dataSourceChanged",void 0),vi([E()],Yi.prototype,"drawNode",void 0),vi([E()],Yi.prototype,"destroyed",void 0),vi([E()],Yi.prototype,"keyPress",void 0),vi([E()],Yi.prototype,"nodeChecked",void 0),vi([E()],Yi.prototype,"nodeChecking",void 0),vi([E()],Yi.prototype,"nodeClicked",void 0),vi([E()],Yi.prototype,"nodeCollapsed",void 0),vi([E()],Yi.prototype,"nodeCollapsing",void 0),vi([E()],Yi.prototype,"nodeDragging",void 0),vi([E()],Yi.prototype,"nodeDragStart",void 0),vi([E()],Yi.prototype,"nodeDragStop",void 0),vi([E()],Yi.prototype,"nodeDropped",void 0),vi([E()],Yi.prototype,"nodeEdited",void 0),vi([E()],Yi.prototype,"nodeEditing",void 0),vi([E()],Yi.prototype,"nodeExpanded",void 0),vi([E()],Yi.prototype,"nodeExpanding",void 0),vi([E()],Yi.prototype,"nodeSelected",void 0),vi([E()],Yi.prototype,"nodeSelecting",void 0),Yi=GL=vi([Pi],Yi);var Ro=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const QL="e-sidebar",bu="e-close",Rh="e-open",XL="e-transition",_$="e-sidebar-overlay",qb="e-right",Wb="e-left",Qy="e-over",d0="e-push",D2="e-slide",JL="e-visibility",S$="e-disable-animation",ZL="e-sidebar-context",eO="e-sidebar-absolute";let Zr=class extends an{constructor(e,t){super(e,t)}preRender(){this.setWidth()}render(){this.initialize(),this.wireEvents(),this.renderComplete()}initialize(){this.setTarget(),this.addClass(),this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?(this.show(),this.firstRender=!0):this.setMediaQuery(),this.checkType(!0),this.setType(this.type),this.setCloseOnDocumentClick(),this.setEnableRTL(),A.isDevice&&(this.windowWidth=window.innerWidth)}setEnableRTL(){(this.enableRtl?_:T)([this.element],"e-rtl")}setTarget(){this.targetEle=this.element.nextElementSibling,this.sidebarEleCopy=this.element.cloneNode(!0),"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),_([this.element],eO),_([this.target],ZL),this.targetEle=this.getTargetElement())}getTargetElement(){let e=this.element.nextElementSibling;for(;!h(e)&&e.classList.contains(QL);)e=e.nextElementSibling;return e}setCloseOnDocumentClick(){this.closeOnDocumentClick?C.add(document,"mousedown touchstart",this.documentclickHandler,this):C.remove(document,"mousedown touchstart",this.documentclickHandler)}setWidth(){this.enableDock&&"Left"===this.position||this.enableDock&&"Right"===this.position?lt(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||lt(this.element,{width:this.setDimension(this.width)})}setDimension(e){return"number"==typeof e?$e(e):"string"==typeof e?e.match(/px|%|em/)?e:$e(e):"100%"}setZindex(){lt(this.element,{"z-index":""+this.zIndex})}addClass(){"EJS-SIDEBAR"===this.element.tagName&&_([this.element],"e-sidebar-display");const e=document.querySelector(".e-main-content");h(e||this.targetEle)||_([e||this.targetEle],["e-content-animation"]),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",!this.enableDock&&"Auto"!==this.type&&_([this.element],[JL]),T([this.element],[Rh,bu,qb,Wb,D2,d0,Qy]),this.element.classList.add(QL),_([this.element],"Right"===this.position?qb:Wb),this.enableDock&&_([this.element],"e-dock"),this.element.setAttribute("tabindex",this.tabIndex),"Auto"!==this.type||A.isDevice?this.isOpen||_([this.element],bu):this.show()}checkType(e){"Push"===this.type||"Over"===this.type||"Slide"===this.type?!this.element.classList.contains(bu)&&!e&&this.hide():this.type="Auto"}transitionEnd(e){this.setDock(),!h(e)&&!this.firstRender&&this.triggerChange(),this.firstRender=!1,C.remove(this.element,"transitionend",this.transitionEnd)}destroyBackDrop(){const e=document.querySelector(".e-main-content")||this.targetEle;this.target&&this.showBackdrop&&e?e.removeChild(this.defaultBackdropDiv):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}hide(e){const t={model:this,element:this.element,cancel:!1,isInteracted:!h(e),event:e||null};this.trigger("close",t,i=>{if(!i.cancel){if(this.element.classList.contains(bu))return;this.element.classList.contains(Rh)&&!this.animate&&this.triggerChange(),_([this.element],bu),T([this.element],Rh),lt(this.element,{width:$e(this.enableDock?this.dockSize:this.width)}),this.setType(this.type);const n=document.querySelector(".e-main-content")||this.targetEle;!this.enableDock&&n&&(n.style.transform="translateX(0px)",n.style["Left"===this.position?"marginLeft":"marginRight"]="0px"),this.destroyBackDrop(),this.setAnimation(),"Slide"===this.type&&document.body.classList.remove("e-sidebar-overflow"),this.setProperties({isOpen:!1},!0),this.enableDock&&setTimeout(()=>this.setTimeOut(),50),C.add(this.element,"transitionend",this.transitionEnd,this)}})}setTimeOut(){const e=document.querySelector(".e-main-content")||this.targetEle,t=this.element.getBoundingClientRect().width;!this.element.classList.contains(Rh)||!e||"Over"===this.type&&this.enableDock?this.element.classList.contains(bu)&&e&&("Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.dockSize?t:this.dockSize):e.style.marginRight=this.setDimension("auto"===this.dockSize?t:this.dockSize)):"Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.width?t:this.width):e.style.marginRight=this.setDimension("auto"===this.width?t:this.width)}show(e){const t={model:this,element:this.element,cancel:!1,isInteracted:!h(e),event:e||null};this.trigger("open",t,i=>{if(!i.cancel){if(T([this.element],JL),this.element.classList.contains(Rh))return;this.element.classList.contains(bu)&&!this.animate&&this.triggerChange(),_([this.element],[Rh,XL]),lt(this.element,{transform:""}),T([this.element],bu),lt(this.element,{width:$e(this.width)}),this.setType(this.type),this.createBackDrop(),this.setAnimation(),"Slide"===this.type&&document.body.classList.add("e-sidebar-overflow"),this.setProperties({isOpen:!0},!0),C.add(this.element,"transitionend",this.transitionEnd,this)}})}setAnimation(){this.animate?T([this.element],S$):_([this.element],S$)}triggerChange(){this.trigger("change",{name:"change",element:this.element})}setDock(){this.enableDock&&"Left"===this.position&&!this.getState()?lt(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&"Right"===this.position&&!this.getState()&&lt(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(bu)&&this.enableDock&&lt(this.element,{width:this.setDimension(this.dockSize)})}createBackDrop(){if(this.target&&this.showBackdrop&&this.getState()){const e=this.target,t=document.querySelector(".e-main-content")||this.targetEle;this.defaultBackdropDiv=this.createElement("div"),_([this.defaultBackdropDiv],_$),lt(this.defaultBackdropDiv,{height:e.style.height}),t.appendChild(this.defaultBackdropDiv)}else this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className=_$,this.modal.style.display="block",document.body.appendChild(this.modal))}getPersistData(){return this.addOnPersist(["type","position","isOpen"])}getModuleName(){return"sidebar"}toggle(){this.element.classList.contains(Rh)?this.hide():this.show()}getState(){return!!this.element.classList.contains(Rh)}setMediaQuery(){if(this.mediaQuery){let e=!1;e="string"==typeof this.mediaQuery?window.matchMedia(this.mediaQuery).matches:this.mediaQuery.matches,e&&this.windowWidth!==window.innerWidth?this.show():this.getState()&&this.windowWidth!==window.innerWidth&&this.hide()}}resize(){"Auto"===this.type&&_([this.element],A.isDevice?Qy:d0),this.setMediaQuery(),A.isDevice&&(this.windowWidth=window.innerWidth)}documentclickHandler(e){D(e.target,".e-control."+QL)||this.hide(e)}enableGestureHandler(e){!this.isOpen&&"Left"===this.position&&"Right"===e.swipeDirection&&e.startX<=20&&e.distanceX>=50&&e.velocity>=.5?this.show():this.isOpen&&"Left"===this.position&&"Left"===e.swipeDirection||this.isOpen&&"Right"===this.position&&"Right"===e.swipeDirection?this.hide():!this.isOpen&&"Right"===this.position&&"Left"===e.swipeDirection&&window.innerWidth-e.startX<=20&&e.distanceX>=50&&e.velocity>=.5&&this.show()}setEnableGestures(){this.enableGestures?(this.mainContentEle=new Qr(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new Qr(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())}wireEvents(){this.setEnableGestures(),C.add(window,"resize",this.resize,this)}unWireEvents(){C.remove(window,"resize",this.resize),C.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()}onPropertyChanged(e,t){const i=document.querySelector(".e-main-content")||this.targetEle,n=this.isServerRendered;for(const s of Object.keys(e))switch(s){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":this.checkType(!1),T([this.element],[JL]),this.addClass(),_([this.element],"Auto"===this.type?A.isDevice?["e-over"]:["e-push"]:["e-"+this.type.toLowerCase()]);break;case"position":this.element.style.transform="",this.setDock(),i&&(i.style["Left"===this.position?"marginRight":"marginLeft"]="0px"),"Right"===this.position?(T([this.element],Wb),_([this.element],qb)):(T([this.element],qb),_([this.element],Wb)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),h(this.target)&&(T([this.element],eO),T([t.target],ZL),lt(i,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element)),this.isServerRendered=!1,super.refresh(),this.isServerRendered=n;break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL()}}setType(e){const t=this.element.getBoundingClientRect().width;this.setZindex();const i=document.querySelector(".e-main-content")||this.targetEle;i&&(i.style.transform="translateX(0px)",!A.isDevice&&"Auto"!==this.type&&("Over"!==this.type||!this.enableDock)&&(i.style["Left"===this.position?"marginLeft":"marginRight"]="0px"));const n=t+"px",s="Left"===this.position?t:-t;switch(T([this.element],[d0,Qy,D2]),e){case"Push":_([this.element],[d0]),i&&(this.enableDock||this.element.classList.contains(Rh))&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=n);break;case"Slide":_([this.element],[D2]),i&&(this.enableDock||this.element.classList.contains(Rh))&&(i.style.transform="translateX("+s+"px)");break;case"Over":_([this.element],[Qy]),this.enableDock&&(this.element.classList.contains(bu)||this.isOpen)&&i&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=this.setDimension(this.dockSize));break;case"Auto":_([this.element],[XL]),A.isDevice?i&&this.enableDock&&!this.getState()?(i.style["Left"===this.position?"marginLeft":"marginRight"]=n,_([this.element],d0)):_([this.element],Qy):(_([this.element],d0),i&&(this.enableDock||this.element.classList.contains(Rh))&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=n)),this.createBackDrop()}}destroy(){super.destroy(),this.target&&T([this.target],ZL),this.destroyBackDrop(),this.element&&(T([this.element],[Rh,bu,d0,D2,Qy,Wb,qb,XL]),T([this.element],eO),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="",h(this.sidebarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.windowWidth=null;const e=document.querySelector(".e-main-content")||this.targetEle;h(e)||(e.style.margin="",e.style.transform=""),this.unWireEvents()}};Ro([y("auto")],Zr.prototype,"dockSize",void 0),Ro([y(null)],Zr.prototype,"mediaQuery",void 0),Ro([y(!1)],Zr.prototype,"enableDock",void 0),Ro([y("en-US")],Zr.prototype,"locale",void 0),Ro([y(!1)],Zr.prototype,"enablePersistence",void 0),Ro([y(!0)],Zr.prototype,"enableGestures",void 0),Ro([y(!1)],Zr.prototype,"isOpen",void 0),Ro([y(!1)],Zr.prototype,"enableRtl",void 0),Ro([y(!0)],Zr.prototype,"animate",void 0),Ro([y("auto")],Zr.prototype,"height",void 0),Ro([y(!1)],Zr.prototype,"closeOnDocumentClick",void 0),Ro([y("Left")],Zr.prototype,"position",void 0),Ro([y(null)],Zr.prototype,"target",void 0),Ro([y(!1)],Zr.prototype,"showBackdrop",void 0),Ro([y("Auto")],Zr.prototype,"type",void 0),Ro([y("auto")],Zr.prototype,"width",void 0),Ro([y(1e3)],Zr.prototype,"zIndex",void 0),Ro([E()],Zr.prototype,"created",void 0),Ro([E()],Zr.prototype,"close",void 0),Ro([E()],Zr.prototype,"open",void 0),Ro([E()],Zr.prototype,"change",void 0),Ro([E()],Zr.prototype,"destroyed",void 0),Zr=Ro([Pi],Zr);var Il=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const Xy="e-icon-right",tO="e-breadcrumb-text",iO="e-breadcrumb-icon",Jy="e-breadcrumb-menu",nO="e-breadcrumb-item",I$="e-breadcrumb-popup",E2="e-breadcrumb-wrap-mode",T2="e-breadcrumb-scroll-mode",D$="tabindex",R2="e-disabled",k2="aria-disabled",_u=".";class Ub extends Nt{}Il([y("")],Ub.prototype,"text",void 0),Il([y("")],Ub.prototype,"url",void 0),Il([y(null)],Ub.prototype,"iconCss",void 0),Il([y(!1)],Ub.prototype,"disabled",void 0);let fa=class extends an{constructor(e,t){super(e,t)}preRender(){}render(){this.initialize(),this.renderItems(this.items),this.wireEvents()}initialize(){this._maxItems=this.maxItems,this.element.setAttribute("aria-label","breadcrumb"),this.cssClass&&_([this.element],this.cssClass.split(" ")),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled&&(this.element.classList.add(R2),this.element.setAttribute(k2,"true")),"Wrap"===this.overflowMode?this.element.classList.add(E2):"Scroll"===this.overflowMode&&this.element.classList.add(T2),this.initItems(),this.initPvtProps()}initPvtProps(){"Hidden"===this.overflowMode&&this._maxItems>0&&(this.endIndex=this.getEndIndex(),this.startIndex=this.endIndex+1-(this._maxItems-1)),"Menu"===this.overflowMode&&(this._maxItems>=0?(this.startIndex=this._maxItems>1?1:0,this.endIndex=this.getEndIndex(),this.popupUl=this.createElement("ul",{attrs:{TABINDEX:"0",role:"menu"}})):this.startIndex=this.endIndex=null)}getEndIndex(){let e;return this.activeItem?this.items.forEach((t,i)=>{(t.url===this.activeItem||t.text===this.activeItem)&&(e=i)}):e=this.items.length-1,e}initItems(){if(!this.items.length){let e,t;const i=[];if(this.url){const n=new URL(this.url,window.location.origin);e=n.origin+"/",t=n.href.split(e)[1].split("/")}else e=window.location.origin+"/",t=window.location.href.split(e)[1].split("/");i.push({iconCss:"e-icons e-home",url:e});for(let n=0;n<t.length;n++)t[n]&&(i.push({text:t[n],url:e+t[n]}),e+=t[n]+"/");this.setProperties({items:i},!0)}}renderItems(e){let t,i;const n=this.element.classList.contains(Xy),s=e.length;if(s){let o,l,a,d,c=0;const u=2*s-1;let p=!1;const g=this.createElement("ol",{className:"Wrap"===this.overflowMode?"e-breadcrumb-wrapped-ol":""}),f=this.createElement("ol",{className:"Wrap"===this.overflowMode?"e-breadcrumb-first-ol":""}),m=this.hasField(e,"iconCss"),v="Collapsed"===this.overflowMode&&this._maxItems>0&&s>this._maxItems&&!this.isExpanded,x="Hidden"===this.overflowMode&&this._maxItems>0;"Menu"===this.overflowMode&&this.popupUl&&(this.popupUl.innerHTML="");const w={moduleName:this.getModuleName(),showIcon:m,itemNavigable:!0,itemCreated:b=>{const I=b.curData.isLastItem;I&&b.item.children.length&&!this.itemTemplate&&(delete b.curData.isLastItem,!a&&!this.enableActiveItemNavigation&&(b.item.innerHTML=this.createElement("span",{className:tO,innerHTML:b.item.children[0].innerHTML}).outerHTML)),b.curData.iconCss&&!b.curData.text&&!this.itemTemplate&&b.item.classList.add("e-icon-item"),x&&b.item.setAttribute("item-index",c.toString());const k={item:O({},b.curData.properties?b.curData.properties:b.curData),element:b.item,cancel:!1};this.trigger("beforeItemRender",k),p=k.cancel;const P=n||k.element.classList.contains(Xy);P&&b.curData.iconCss&&!this.itemTemplate&&b.item.querySelector(".e-anchor-wrap").appendChild(b.item.querySelector(_u+iO)),k.item.disabled&&(b.item.setAttribute(k2,"true"),b.item.classList.add(R2)),(k.item.disabled||this.disabled)&&b.item.children.length&&!this.itemTemplate&&b.item.children[0].setAttribute(D$,"-1"),b.curData.isEmptyUrl&&(b.item.children[0].removeAttribute("href"),(!I||I&&this.enableActiveItemNavigation)&&!(k.item.disabled||this.disabled)&&(b.item.children[0].setAttribute(D$,"0"),C.add(b.item.children[0],"keydown",this.keyDownHandler,this))),I&&b.item.setAttribute("data-active-item",""),this.itemTemplate||this.beforeItemRenderChanges(b.curData,k.item,b.item,P)}};for(let b=0;b<u;b%2&&c++,b++){if(o=this.activeItem&&(this.activeItem===e[c].url||this.activeItem===e[c].text),v&&b>1&&b<u-2)continue;if(x&&(c<this.startIndex||c>this.endIndex)&&(!(b%2)||c!==this.startIndex-1)&&0!==c)continue;b%2?(d=this.createElement("div",{className:"e-breadcrumb-item-wrapper"}),w.template=this.separatorTemplate?this.separatorTemplate:"/",w.itemClass="e-breadcrumb-separator",i=!1,t=[{previousItem:e[c],nextItem:e[c+1]}]):(w.itemClass="",this.itemTemplate?(w.template=this.itemTemplate,i=!1):i=!0,t=[O({},e[c].properties?e[c].properties:e[c])],!t[0].url&&!this.itemTemplate&&(t=[O({},t[0],{isEmptyUrl:!0,url:"#"})]),l=(x||"Menu"===this.overflowMode)&&c===this.endIndex,((b===u-1||l)&&!this.itemTemplate||o)&&(t[0].isLastItem=!0));let I=g;const k=this.startIndex+this.endIndex-this._maxItems;if("Menu"===this.overflowMode&&(c>=this.startIndex&&c<=k&&(!(b%2)||c!==k)&&this.endIndex>=this._maxItems&&this._maxItems>0||0===this._maxItems)){if(b%2)continue;I=this.popupUl,l&&(a=!0)}else"Wrap"===this.overflowMode&&(I=0===b?f:d);const P=Cn.createList(this.createElement,t,w,i,this).childNodes;if(p){if(x||v||"Menu"===this.overflowMode||"Wrap"===this.overflowMode)return e.splice(c,1),this.initPvtProps(),this.reRenderItems();(b===u-1||l)&&X(I.lastElementChild)}else Jt(P,I);if("Wrap"===this.overflowMode&&0!==b&&b%2==0&&g.appendChild(d),v&&1===b){const W=this.createElement("li",{className:"e-icons e-breadcrumb-collapsed",attrs:{TABINDEX:"0"}});C.add(W,"keyup",this.expandHandler,this),g.appendChild(W)}if("Menu"===this.overflowMode&&this.startIndex===b&&this.endIndex>=this._maxItems&&this._maxItems>=0){const W=this.getMenuElement();C.add(W,"keyup",this.keyDownHandler,this),g.appendChild(W)}if(o||l)break;p&&b++}this.isReact&&this.renderReactTemplates(),"Wrap"===this.overflowMode&&this.element.appendChild(f),this.element.appendChild(g),this.calculateMaxItems()}}calculateMaxItems(){if("Hidden"===this.overflowMode||"Collapsed"===this.overflowMode||"Menu"===this.overflowMode){let e;const t=this.element.offsetWidth,i=[].slice.call(this.element.children[0].children).reverse();let n="Menu"===this.overflowMode?0:i[i.length-1].offsetWidth+(i[i.length-2]?i[i.length-2].offsetWidth:0);if("Menu"===this.overflowMode){const s=this.getMenuElement();this.element.appendChild(s),n+=s.offsetWidth,X(s)}for(let s=0;s<i.length-2;s++){if(n>t){if(e=Math.ceil((s-1)/2)+("Menu"===this.overflowMode&&s<=2?0:1),(this.maxItems>e&&!(this.maxItems>-1&&-1==e)||-1==this.maxItems)&&this._maxItems!=e)return this._maxItems=e,this.initPvtProps(),this.reRenderItems();break}if("Menu"===this.overflowMode&&2===s&&(n+=i[i.length-1].offsetWidth+i[i.length-2].offsetWidth,n>t))return this._maxItems=1,this.initPvtProps(),this.reRenderItems();if(("Menu"!==this.overflowMode||!i[s].classList.contains(Jy))&&(n+=i[s].offsetWidth,n>t))return e=Math.ceil(s/2)+("Menu"===this.overflowMode&&s<=2?0:1),this._maxItems=e,this.initPvtProps(),this.reRenderItems()}}else if(("Wrap"===this.overflowMode||"Scroll"===this.overflowMode)&&this._maxItems>0){let e=0;const t=this.element.querySelectorAll(_u+nO);if(t.length>this._maxItems+this._maxItems-1){for(let i="Wrap"===this.overflowMode?1:0;i<this._maxItems+this._maxItems-1;i++)e+=t[i].offsetWidth;e=e+5+2*parseInt(getComputedStyle(this.element.children[0]).paddingLeft,10),"Wrap"===this.overflowMode?this.element.querySelector(".e-breadcrumb-wrapped-ol").style.width=e+"px":this.element.style.width=e+"px"}}}hasField(e,t){for(let i=0,n=e.length;i<n;i++)if(e[i][t])return!0;return!1}getMenuElement(){return this.createElement("li",{className:"e-icons e-breadcrumb-menu",attrs:{TABINDEX:"0"}})}beforeItemRenderChanges(e,t,i,n){const s=i.querySelector(".e-anchor-wrap");if(t.text!==e.text&&s.childNodes.forEach(o=>{o.nodeType===Node.TEXT_NODE&&(o.textContent=t.text)}),t.iconCss!==e.iconCss&&s){const o=i.querySelector(_u+iO);if(o)t.iconCss?(T([o],e.iconCss.split(" ")),_([o],t.iconCss.split(" "))):X(o);else if(t.iconCss){const l=this.createElement("span",{className:iO+" "+t.iconCss});n?Jt([l],s):s.insertBefore(l,s.childNodes[0])}}if(t.url!==e.url&&this.enableNavigation){const o=i.querySelector("a."+tO);o&&(t.url?o.setAttribute("href",t.url):o.removeAttribute("href"))}}reRenderItems(){this.element.innerHTML="",this.renderItems(this.items)}clickHandler(e){const t=D(e.target,_u+nO+":not(.e-breadcrumb-separator)");if(this.enableNavigation||e.preventDefault(),t&&(D(e.target,_u+tO)||this.itemTemplate)){let i;i="Wrap"===this.overflowMode?[].slice.call(this.element.querySelectorAll(_u+nO)).indexOf(t):[].slice.call(t.parentElement.children).indexOf(t),"Menu"===this.overflowMode?D(e.target,_u+I$)?(i+=this.startIndex,this.endIndex=i,"keydown"===e.type&&this.documentClickHandler(e)):this.element.querySelector(_u+Jy)?i>[].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(_u+Jy))?(i+=2*this.popupUl.childElementCount-2,i=Math.floor(i/2),this.endIndex=i):this.startIndex=this.endIndex=i:(i=Math.floor(i/2),this.startIndex=this.endIndex=i):i=Math.floor(i/2),"Hidden"===this.overflowMode&&this._maxItems>0&&0!==this.endIndex&&(i=parseInt(t.getAttribute("item-index"),10),this.startIndex>1&&(this.startIndex-=this.endIndex-i),this.endIndex=i),this.trigger("itemClick",{element:t,item:this.items[i],event:e}),this.activeItem=this.items[i].url||this.items[i].text,this.dataBind()}e.target.classList.contains("e-breadcrumb-collapsed")&&(this.isExpanded=!0,this.reRenderItems()),e.target.classList.contains(Jy)&&this.renderPopup()}renderPopup(){const e=this.createElement("div",{className:I$+" "+this.cssClass+(this.enableRtl?" e-rtl":"")});document.body.appendChild(e),this.popupObj=new wc(e,{content:this.popupUl,relateTo:this.element.querySelector(_u+Jy),enableRtl:this.enableRtl,position:{X:"left",Y:"bottom"},collision:{X:"fit",Y:"flip"},open:()=>{this.popupUl.focus()}}),this.popupWireEvents(),this.popupObj.show()}documentClickHandler(e){"Menu"===this.overflowMode&&this.popupObj&&this.popupObj.element.classList.contains("e-popup-open")&&!D(e.target,_u+Jy)&&(this.popupObj.hide(),this.popupObj.destroy(),de(this.popupObj.element))}resize(){this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems()}expandHandler(e){"Enter"===e.key&&(this.isExpanded=!0,this.reRenderItems())}keyDownHandler(e){"Enter"===e.key&&this.clickHandler(e)}popupKeyDownHandler(e){"Escape"===e.key&&this.documentClickHandler(e)}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"items":case"enableActiveItemNavigation":this.reRenderItems();break;case"activeItem":this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems();break;case"overflowMode":case"maxItems":this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems(),"Wrap"===t.overflowMode?this.element.classList.remove(E2):"Wrap"===e.overflowMode&&this.element.classList.add(E2),"Scroll"===t.overflowMode?this.element.classList.remove(T2):"Scroll"===e.overflowMode&&this.element.classList.add(T2);break;case"url":this.initItems(),this.reRenderItems();break;case"cssClass":t.cssClass&&T([this.element],t.cssClass.split(" ")),e.cssClass&&_([this.element],e.cssClass.split(" ")),(t.cssClass&&t.cssClass.indexOf(Xy)>-1&&!(e.cssClass&&e.cssClass.indexOf(Xy)>-1)||!(t.cssClass&&t.cssClass.indexOf(Xy)>-1)&&e.cssClass&&e.cssClass.indexOf(Xy)>-1)&&this.reRenderItems();break;case"enableRtl":this.element.classList.toggle("e-rtl");break;case"disabled":this.element.classList.toggle(R2),this.element.setAttribute(k2,e.disabled+"")}}wireEvents(){this.delegateClickHanlder=this.documentClickHandler.bind(this),C.add(document,"click",this.delegateClickHanlder,this),C.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resize.bind(this))}popupWireEvents(){C.add(this.popupObj.element,"click",this.clickHandler,this),C.add(this.popupObj.element,"keydown",this.popupKeyDownHandler,this)}unWireEvents(){C.remove(document,"click",this.delegateClickHanlder),C.remove(this.element,"click",this.clickHandler),window.removeEventListener("resize",this.resize.bind(this)),this.popupObj&&(C.remove(this.popupObj.element,"click",this.clickHandler),C.remove(this.popupObj.element,"keydown",this.popupKeyDownHandler))}getPersistData(){return this.addOnPersist(["activeItem"])}getModuleName(){return"breadcrumb"}destroy(){let e=[],t=["aria-label"];this.cssClass&&e.concat(this.cssClass.split(" ")),this.enableRtl&&e.push("e-rtl"),this.disabled&&(e.push(R2),t.push(k2)),"Wrap"===this.overflowMode?e.push(E2):"Scroll"===this.overflowMode&&e.push(T2),this.unWireEvents(),this.element.innerHTML="",T([this.element],e),t.forEach(i=>{this.element.removeAttribute(i)}),super.destroy()}};Il([y("")],fa.prototype,"url",void 0),Il([Hr([],Ub)],fa.prototype,"items",void 0),Il([y("")],fa.prototype,"activeItem",void 0),Il([y(-1)],fa.prototype,"maxItems",void 0),Il([y("Menu")],fa.prototype,"overflowMode",void 0),Il([y("")],fa.prototype,"cssClass",void 0),Il([y(null)],fa.prototype,"itemTemplate",void 0),Il([y("/")],fa.prototype,"separatorTemplate",void 0),Il([y(!0)],fa.prototype,"enableNavigation",void 0),Il([y(!1)],fa.prototype,"enableActiveItemNavigation",void 0),Il([y(!1)],fa.prototype,"disabled",void 0),Il([y("")],fa.prototype,"locale",void 0),Il([E()],fa.prototype,"beforeItemRender",void 0),Il([E()],fa.prototype,"itemClick",void 0),Il([E()],fa.prototype,"created",void 0),fa=Il([Pi],fa);var sr=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const sO="e-carousel",ad="e-active",A2="e-rtl",Su="e-carousel-items",Zy="e-carousel-item",M2="e-previous",$b="e-carousel-navigators",T$="e-carousel-indicators",Kb="e-indicator-bar",R$="e-indicator",F2="e-icons",rO="e-play-pause",ex="e-play-icon",tx="e-pause-icon",P2="e-previous-button",L2="e-next-button",ix="e-play-button",A$="e-round",nx="e-hover-arrows",h0="e-carousel-hover",O2="e-template",M$="e-carousel-slide-animation",F$="e-carousel-fade-animation",P$="e-carousel-custom-animation",Yb="e-prev",Qb="e-next",L$="e-transition-start",O$="e-transition-end";class Xb extends Nt{}sr([y()],Xb.prototype,"cssClass",void 0),sr([y()],Xb.prototype,"interval",void 0),sr([y()],Xb.prototype,"template",void 0),sr([y()],Xb.prototype,"htmlAttributes",void 0);class oO extends Nt{}sr([y("Slide")],oO.prototype,"effect",void 0),sr([y()],oO.prototype,"customEffect",void 0);let eo=class extends an{constructor(e,t){super(e,t)}getModuleName(){return sO.replace("e-","")}getPersistData(){return this.addOnPersist(["selectedIndex"])}preRender(){this.keyConfigs={home:"home",end:"end",space:"space",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},this.localeObj=new is(this.getModuleName(),{nextSlide:"Next slide",of:"of",pauseSlideTransition:"Pause slide transition",playSlideTransition:"Play slide transition",previousSlide:"Previous slide",slide:"Slide",slideShow:"Slide show"},this.locale)}render(){this.initialize(),this.renderSlides(),this.renderNavigators(),this.renderPlayButton(),this.renderIndicators(),this.applyAnimation(),this.wireEvents()}onPropertyChanged(e,t){let i;for(const n of Object.keys(e))switch(n){case"animation":for(const s of Object.keys(e.animation))"customEffect"===s&&!h(t.animation.customEffect)&&T([this.element.querySelector(`.${Su}`)],t.animation.customEffect);this.applyAnimation();break;case"cssClass":ze(this.element,[e.cssClass],[t.cssClass]);break;case"selectedIndex":this.setActiveSlide(this.selectedIndex,t.selectedIndex>this.selectedIndex?"Previous":"Next"),this.autoSlide();break;case"htmlAttributes":h(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element);break;case"enableTouchSwipe":!this.enableTouchSwipe&&this.touchModule&&this.touchModule.destroy(),this.element.querySelector(`.${Su}`)&&this.renderTouchActions();break;case"loop":this.loop&&h(this.autoSlideInterval)&&this.applySlideInterval(),this.handleNavigatorsActions(this.selectedIndex);break;case"enableRtl":this.enableRtl?_([this.element],A2):T([this.element],A2);break;case"buttonsVisibility":if(i=this.element.querySelector(`.${$b}`),i)switch(this.buttonsVisibility){case"Hidden":this.resetTemplates(["previousButtonTemplate","nextButtonTemplate"]),X(i);break;case"VisibleOnHover":_([].slice.call(i.childNodes),nx);break;case"Visible":T([].slice.call(i.childNodes),nx)}else this.renderNavigators(),this.renderPlayButton();break;case"width":lt(this.element,{width:$e(this.width)});break;case"height":lt(this.element,{height:$e(this.height)});break;case"autoPlay":this.showPlayButton&&h(this.playButtonTemplate)&&this.playButtonClickHandler(null,!0),this.autoSlide();break;case"interval":this.autoSlide();break;case"showIndicators":i=this.element.querySelector(`.${T$}`),!this.showIndicators&&i&&(this.resetTemplates(["indicatorsTemplate"]),X(i)),this.renderIndicators();break;case"showPlayButton":i=this.element.querySelector(`.${rO}`),!this.showPlayButton&&i&&(X(i),this.resetTemplates(["playButtonTemplate"])),this.renderPlayButton();break;case"items":case"dataSource":i=this.element.querySelector(`.${Su}`),i&&(this.resetTemplates(["itemTemplate"]),X(i)),this.renderSlides()}}initialize(){const e=[];this.cssClass&&e.push(this.cssClass),this.enableRtl&&e.push(A2),_([this.element],e),lt(this.element,{width:$e(this.width),height:$e(this.height)}),Le(this.element,{tabindex:"0","aria-roledescription":"carousel","aria-label":this.localeObj.getConstant("slideShow")}),h(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element)}renderSlides(){const e=this.createElement("div",{className:Su,attrs:{"aria-live":this.autoPlay?"off":"polite"}});this.element.appendChild(e),this.items.length>0?(this.slideItems=this.items,this.items.forEach((t,i)=>{this.renderSlide(t,t.template,i,e)})):this.dataSource.length>0&&(this.slideItems=this.dataSource,this.dataSource.forEach((t,i)=>{this.renderSlide(t,this.itemTemplate,i,e)})),this.renderTemplates(),this.autoSlide(),this.renderTouchActions(),this.renderKeyboardActions()}renderSlide(e,t,i,n){const s=this.createElement("div",{id:Gn("carousel_item"),className:`${Zy} ${e.cssClass?e.cssClass:""} ${this.selectedIndex===i?ad:""}`,attrs:{"aria-hidden":this.selectedIndex===i?"false":"true","data-index":i.toString(),"aria-role":"group","aria-roledescription":"slide"}});h(e.htmlAttributes)||this.setHtmlAttributes(e.htmlAttributes,s);const o=this.element.id+"_template";Jt(this.templateParser(t)(e,this,"itemTemplate",o,!1),s),n.appendChild(s)}renderNavigators(){if("Hidden"===this.buttonsVisibility)return;const e=this.createElement("div",{className:$b});this.element.querySelector(`.${Su}`).insertAdjacentElement("afterend",e),this.renderNavigatorButton("Previous"),this.renderNavigatorButton("Next"),this.renderTemplates()}renderNavigatorButton(e){const t=this.createElement("div",{className:("Previous"===e?M2:"e-next")+" "+("VisibleOnHover"===this.buttonsVisibility?nx:""),attrs:{"aria-label":this.localeObj.getConstant("Previous"===e?"previousSlide":"nextSlide")}});if("Previous"===e&&this.previousButtonTemplate){_([t],O2);const i=this.element.id+"_previousButtonTemplate";Jt(this.templateParser(this.previousButtonTemplate)({type:"Previous"},this,"previousButtonTemplate",i,!1),t)}else if("Next"===e&&this.nextButtonTemplate){_([t],O2);const i=this.element.id+"_nextButtonTemplate";Jt(this.templateParser(this.nextButtonTemplate)({type:"Next"},this,"nextButtonTemplate",i,!1),t)}else{const i=this.createElement("button");new ks({cssClass:"e-flat "+A$+" "+("Previous"===e?P2:L2),iconCss:F2+" "+("Previous"===e?"e-previous-icon":"e-next-icon"),enableRtl:this.enableRtl,disabled:!this.loop&&this.selectedIndex===("Previous"===e?0:this.slideItems.length-1)}).appendTo(i),t.appendChild(i)}this.element.querySelector("."+$b).appendChild(t),C.add(t,"click",this.navigatorClickHandler,this)}renderPlayButton(){if("Hidden"===this.buttonsVisibility||!this.showPlayButton)return;const e=this.createElement("div",{className:rO+" "+("VisibleOnHover"===this.buttonsVisibility?nx:"")});if(this.playButtonTemplate){_([e],O2);const i=this.element.id+"_playButtonTemplate";Jt(this.templateParser(this.playButtonTemplate)({},this,"playButtonTemplate",i,!1),e)}else{const i=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")}}),n=this.selectedIndex===this.slideItems.length-1&&!this.loop,s=new ks({cssClass:"e-flat "+A$+" "+ix,iconCss:F2+" "+(this.autoPlay&&!n?tx:ex),isToggle:!0,enableRtl:this.enableRtl});n&&(this.setProperties({autoPlay:!1},!0),i.setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),this.element.querySelector(`.${Su}`).setAttribute("aria-live","polite")),s.appendTo(i),e.appendChild(i)}const t=this.element.querySelector(`.${$b}`);t.insertBefore(e,t.lastElementChild),this.renderTemplates(),C.add(e,"click",this.playButtonClickHandler,this)}renderIndicators(){if(!this.showIndicators)return;const e=this.createElement("div",{className:T$}),t=this.createElement("div",{className:"e-indicator-bars"});e.appendChild(t),this.slideItems&&this.slideItems.forEach((i,n)=>{const s=this.createElement("div",{className:Kb+" "+(this.selectedIndex===n?ad:""),attrs:{"data-index":n.toString(),"aria-current":this.selectedIndex===n?"true":"false"}});if(this.indicatorsTemplate){_([s],O2);const o=this.element.id+"_indicatorsTemplate";Jt(this.templateParser(this.indicatorsTemplate)({index:n,selectedIndex:this.selectedIndex},this,"indicatorsTemplate",o,!1),s)}else{const o=this.createElement("button",{className:R$});s.appendChild(o),o.appendChild(this.createElement("div",{attrs:{"aria-label":this.localeObj.getConstant("slide")+" "+(n+1)+" "+this.localeObj.getConstant("of")+" "+this.slideItems.length}})),new ks({cssClass:"e-flat e-small"}).appendTo(o)}t.appendChild(s),C.add(s,"click",this.indicatorClickHandler,this)}),this.element.appendChild(e)}renderKeyboardActions(){this.keyModule=new tn(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs})}renderTouchActions(){!this.enableTouchSwipe||(this.touchModule=new Qr(this.element,{swipe:this.swipeHandler.bind(this)}))}applyAnimation(){const e=this.element.querySelector(`.${Su}`);T([e],[P$,F$,M$]),this.animation.customEffect?_([e],[P$,this.animation.customEffect]):"None"!==this.animation.effect&&_([e],"Fade"===this.animation.effect?F$:M$)}autoSlide(){this.resetSlideInterval(),this.applySlideInterval()}autoSlideChange(){const e=this.element.querySelector(`.${ad}`);if(h(e))return;const t=parseInt(e.dataset.index,10);if(this.loop||t!==this.slideItems.length-1){const i=(t+1)%this.slideItems.length;this.element.classList.contains(h0)||this.setActiveSlide(i,"Next"),this.autoSlide()}else this.resetSlideInterval()}applySlideInterval(){if(!this.autoPlay||this.element.classList.contains(h0))return;let e=this.interval;this.items.length>0&&!h(this.items[this.selectedIndex].interval)&&(e=this.items[this.selectedIndex].interval),this.autoSlideInterval=setInterval(()=>this.autoSlideChange(),e)}resetSlideInterval(){clearInterval(this.autoSlideInterval),this.autoSlideInterval=null}getSlideIndex(e){let t=this.selectedIndex;return"Previous"===e?(t--,t<0&&(t=this.slideItems.length-1)):(t++,t===this.slideItems.length&&(t=0)),t}setActiveSlide(e,t,i=!1){if(this.element.querySelectorAll(`.${Zy}.${Yb},.${Zy}.${Qb}`).length>0)return;const n=[].slice.call(this.element.querySelectorAll(`.${Zy}`)),s=this.element.querySelector(`.${Zy}.${ad}`);if(h(s)&&this.showIndicators){const c=this.element.querySelector(`.${Kb}.${ad}`);return void _([n[parseInt(c.dataset.index,10)]],ad)}if(h(s))return void _([n[e]],ad);const o=parseInt(s.dataset.index,10);this.trigger("slideChanging",{currentIndex:o,nextIndex:e,currentSlide:s,nextSlide:n[e],slideDirection:t,isSwiped:i,cancel:!1},c=>{if(c.cancel)return;this.setProperties({selectedIndex:e},!0),Le(c.currentSlide,{"aria-hidden":"true"}),Le(c.nextSlide,{"aria-hidden":"false"});const d=[].slice.call(this.element.querySelectorAll(`.${Kb}`));let u;d.length>0&&(Le(d[o],{"aria-current":"false"}),Le(d[e],{"aria-current":"true"}),T(d,ad),_([d[e]],ad)),this.slideChangedEventArgs={currentIndex:c.nextIndex,previousIndex:c.currentIndex,currentSlide:c.nextSlide,previousSlide:c.currentSlide,slideDirection:t,isSwiped:i},this.animation.customEffect?"Previous"===t?(_([c.nextSlide],Qb),_([c.currentSlide],Yb)):(_([c.currentSlide],Yb),_([c.nextSlide],Qb)):"Slide"===this.animation.effect?"Previous"===t?(_([c.nextSlide],Yb),u=c.nextSlide.offsetHeight,_([c.currentSlide,c.nextSlide],O$)):(_([c.nextSlide],Qb),u=c.nextSlide.offsetHeight,_([c.currentSlide,c.nextSlide],L$)):"Fade"===this.animation.effect?(T([c.currentSlide],ad),_([c.nextSlide],ad)):this.onTransitionEnd(),this.handleNavigatorsActions(e)})}onTransitionEnd(){this.slideChangedEventArgs&&(_([this.slideChangedEventArgs.currentSlide],ad),T([this.slideChangedEventArgs.previousSlide],ad),this.trigger("slideChanged",this.slideChangedEventArgs,()=>{T(this.element.querySelectorAll(`.${Zy}`),[Yb,Qb,L$,O$]),this.slideChangedEventArgs=null}))}setHtmlAttributes(e,t){const i=Object.keys(e);for(const n of i)"class"===n?_([t],e[n]):t.setAttribute(n,e[n])}templateParser(e){if(e)try{return document.querySelectorAll(e).length?ci(document.querySelector(e).innerHTML.trim()):ci(e)}catch(t){return ci(e)}}getNavigatorState(e,t){const i=e.querySelector(`.${t?P2:L2}`);return!!i&&jl(i,ks).disabled}navigatorClickHandler(e){const t=e.currentTarget;if(this.getNavigatorState(t,t.classList.contains(M2)))return;const n=t.classList.contains(M2)?"Previous":"Next";this.setActiveSlide(this.getSlideIndex(n),n),this.autoSlide()}indicatorClickHandler(e){const t=D(e.target,`.${Kb}`),i=parseInt(t.dataset.index,10);this.selectedIndex!==i&&(this.setActiveSlide(i,this.selectedIndex>i?"Previous":"Next"),this.autoSlide())}playButtonClickHandler(e,t=!1){const i=this.element.querySelector(`.${ix}`);if(i){const n=jl(i,ks);t||this.setProperties({autoPlay:!this.autoPlay},!0),i.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),n.iconCss=F2+" "+(this.autoPlay?tx:ex),n.dataBind(),this.element.querySelector(`.${Su}`).setAttribute("aria-live",this.autoPlay?"off":"polite"),this.autoPlay&&!this.loop&&this.selectedIndex===this.slideItems.length-1&&this.setActiveSlide(0,"Next"),this.autoSlide()}}keyHandler(e){let t,i,n=!1;const s=e.target;switch(e.preventDefault(),e.action){case"space":this.showIndicators&&s.classList.contains(R$)?s.click():s.classList.contains(sO)||s.classList.contains(ix)?this.playButtonClickHandler(e):s.classList.contains(L2)?this.next():s.classList.contains(P2)&&this.prev();break;case"end":i=this.slideItems.length-1,t="Next",n=!0;break;case"home":i=0,t="Previous",n=!0;break;case"moveUp":case"moveLeft":case"moveDown":case"moveRight":this.showIndicators&&h(this.indicatorsTemplate)&&this.element.focus(),t="moveUp"===e.action||"moveLeft"===e.action?"Previous":"Next",i=this.getSlideIndex(t),n=!this.isSuspendSlideTransition(i,t)}n&&(this.setActiveSlide(i,t),this.autoSlide(),n=!1)}swipeHandler(e){if(this.element.classList.contains(h0))return;const t="Right"===e.swipeDirection?"Previous":"Next",i=this.getSlideIndex(t);this.isSuspendSlideTransition(i,t)||(this.setActiveSlide(i,t,!0),this.autoSlide())}isSuspendSlideTransition(e,t){return!this.loop&&("Next"===t&&0===e||"Previous"===t&&e===this.slideItems.length-1)}handleNavigatorsActions(e){if("Hidden"===this.buttonsVisibility)return;if(this.showPlayButton){const n=this.element.querySelector(`.${ix}`),s=this.selectedIndex===this.slideItems.length-1&&!this.loop;let o=h(this.playButtonTemplate)&&n&&s;if(h(this.playButtonTemplate)&&n&&!s&&(o=!n.classList.contains(ad)),o){this.setProperties({autoPlay:!s},!0),n.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),this.element.querySelector(`.${Su}`).setAttribute("aria-live",this.autoPlay?"off":"polite");const a=jl(n,ks);a.iconCss=F2+" "+(this.autoPlay?tx:ex),a.dataBind()}}const t=this.element.querySelector(`.${P2}`);if(t&&h(this.previousButtonTemplate)){const n=jl(t,ks);n.disabled=!this.loop&&0===e,n.dataBind()}const i=this.element.querySelector(`.${L2}`);if(i&&h(this.nextButtonTemplate)){const n=jl(i,ks);n.disabled=!this.loop&&e===this.slideItems.length-1,n.dataBind()}}onHoverActions(e){const t=this.element.querySelector(`.${$b}`);switch(e.type){case"mouseenter":"VisibleOnHover"===this.buttonsVisibility&&t&&T([].slice.call(t.childNodes),nx),_([this.element],h0);break;case"mouseleave":"VisibleOnHover"===this.buttonsVisibility&&t&&_([].slice.call(t.childNodes),nx),T([this.element],h0)}this.autoSlide()}onFocusActions(e){switch(e.type){case"focusin":_([this.element],h0);break;case"focusout":T([this.element],h0)}this.autoSlide()}destroyButtons(){const e=[].slice.call(this.element.querySelectorAll(".e-control.e-btn"));for(const t of e){const i=jl(t,ks);i&&i.destroy()}}wireEvents(){C.add(this.element,"focusin focusout",this.onFocusActions,this),C.add(this.element,"mouseenter mouseleave",this.onHoverActions,this),C.add(this.element.firstElementChild,"animationend",this.onTransitionEnd,this),C.add(this.element.firstElementChild,"transitionend",this.onTransitionEnd,this)}unWireEvents(){[].slice.call(this.element.querySelectorAll(`.${Kb}`)).forEach(n=>{C.remove(n,"click",this.indicatorClickHandler)}),[].slice.call(this.element.querySelectorAll(`.${M2},.e-next`)).forEach(n=>{C.remove(n,"click",this.navigatorClickHandler)});const i=this.element.querySelector(`.${rO}`);i&&C.remove(i,"click",this.playButtonClickHandler),C.remove(this.element.firstElementChild,"animationend",this.onTransitionEnd),C.remove(this.element.firstElementChild,"transitionend",this.onTransitionEnd),C.clearEvents(this.element)}prev(){(this.loop||0!==this.selectedIndex)&&(this.setActiveSlide(0===this.selectedIndex?this.slideItems.length-1:this.selectedIndex-1,"Previous"),this.autoSlide())}next(){(this.loop||this.selectedIndex!==this.slideItems.length-1)&&(this.setActiveSlide(this.selectedIndex===this.slideItems.length-1?0:this.selectedIndex+1,"Next"),this.autoSlide())}play(){const e=this.element.querySelector(`.${ex}`);this.showPlayButton&&e&&(ze(e,[tx],[ex]),this.element.querySelector(`.${ix}`).setAttribute("aria-label",this.localeObj.getConstant("pauseSlideTransition"))),this.setProperties({autoPlay:!0},!0),this.element.querySelector(`.${Su}`).setAttribute("aria-live","off"),this.applySlideInterval()}pause(){const e=this.element.querySelector(`.${tx}`);this.showPlayButton&&e&&(this.element.querySelector(`.${ix}`).setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),ze(e,[ex],[tx])),this.setProperties({autoPlay:!1},!0),this.element.querySelector(`.${Su}`).setAttribute("aria-live","off"),this.resetSlideInterval()}renderTemplates(){(this.isAngular||this.isReact)&&this.renderReactTemplates()}resetTemplates(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)}destroy(){this.resetTemplates(),this.touchModule&&(this.touchModule.destroy(),this.touchModule=null),this.keyModule.destroy(),this.keyModule=null,this.resetSlideInterval(),this.destroyButtons(),this.unWireEvents(),[].slice.call(this.element.children).forEach(e=>{this.element.removeChild(e)}),T([this.element],[sO,this.cssClass,A2]),["tabindex","role","style"].forEach(e=>{this.element.removeAttribute(e)}),super.destroy()}};sr([Hr([],Xb)],eo.prototype,"items",void 0),sr([gi({},oO)],eo.prototype,"animation",void 0),sr([y()],eo.prototype,"previousButtonTemplate",void 0),sr([y()],eo.prototype,"nextButtonTemplate",void 0),sr([y()],eo.prototype,"indicatorsTemplate",void 0),sr([y()],eo.prototype,"playButtonTemplate",void 0),sr([y()],eo.prototype,"cssClass",void 0),sr([y([])],eo.prototype,"dataSource",void 0),sr([y()],eo.prototype,"itemTemplate",void 0),sr([y(0)],eo.prototype,"selectedIndex",void 0),sr([y("100%")],eo.prototype,"width",void 0),sr([y("100%")],eo.prototype,"height",void 0),sr([y(5e3)],eo.prototype,"interval",void 0),sr([y(!0)],eo.prototype,"autoPlay",void 0),sr([y(!0)],eo.prototype,"loop",void 0),sr([y(!1)],eo.prototype,"showPlayButton",void 0),sr([y(!0)],eo.prototype,"enableTouchSwipe",void 0),sr([y(!0)],eo.prototype,"showIndicators",void 0),sr([y("Visible")],eo.prototype,"buttonsVisibility",void 0),sr([y()],eo.prototype,"htmlAttributes",void 0),sr([E()],eo.prototype,"slideChanging",void 0),sr([E()],eo.prototype,"slideChanged",void 0),eo=sr([Pi],eo);let yp="",lO="",mg=[],B2="";function u0(r,e,t,i){const n=e;i=null==i||i;const s={item:null,index:null};if(r&&r.length){const o=r.length;let l=i?r.toLocaleLowerCase():r;l=function RIe(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(l);for(let a=0,c=n;a<c.length;a++){const d=c[a],u=(i?d.textContent.toLocaleLowerCase():d.textContent).replace(/^\s+|\s+$/g,"");if("Equal"===t&&u===l||"StartsWith"===t&&u.substr(0,o)===l||"EndsWith"===t&&u.substr(u.length-l.length)===l||"Contains"===t&&new RegExp(l,"g").test(u))return s.item=d,s.index=a,{item:d,index:a}}return s}return s}function N2(r,e,t,i){if(""!==e){const n=t?"gim":"gm";e=/^[a-zA-Z0-9- ]*$/.test(e)?e:e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),B$(r,new RegExp("StartsWith"===i?"^("+e+")":"EndsWith"===i?"("+e+")$":"("+e+")",n))}}function B$(r,e){for(let t=0;r.childNodes&&t<r.childNodes.length;t++){if(3===r.childNodes[t].nodeType&&""!==r.childNodes[t].textContent.trim()){const i=r.childNodes[t].nodeValue.trim().replace(e,'<span class="e-highlight">$1</span>');r.childNodes[t].nodeValue="",r.innerHTML=r.innerHTML.trim()+i;break}B$(r.childNodes[t],e)}}function AIe(r){const e=r.querySelectorAll(".e-highlight");for(let t=e.length-1;t>=0;t--){const i=e[t].parentNode,n=document.createTextNode(e[t].textContent);i.replaceChild(n,e[t])}}var wr=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let aO=(()=>{class r extends Nt{}return wr([y()],r.prototype,"text",void 0),wr([y()],r.prototype,"value",void 0),wr([y()],r.prototype,"iconCss",void 0),wr([y()],r.prototype,"groupBy",void 0),wr([y()],r.prototype,"htmlAttributes",void 0),r})();const et_root="e-dropdownbase",et_focus="e-item-focus",et_li="e-list-item",et_group="e-list-group-item";let cO=(()=>{let r=class extends an{constructor(t,i){super(t,i),this.preventChange=!1,this.isAngular=!1,this.isPreventChange=!1,this.isDynamicDataChange=!1}getPropObject(t,i,n){const s=new Object,o=new Object;s[t]=i[t],o[t]=n[t];const a=new Object;return a.newProperty=s,a.oldProperty=o,a}getValueByText(t,i,n){let s=null;return h(this.listData)||(s=this.checkValueCase(t,!!i,n)),s}checkValueCase(t,i,n,s){let o=null;s&&(o=t);const l=this.listData,a=this.fields,c=this.typeOfData(l).typeof;if("string"===c||"number"===c||"boolean"===c)for(const d of l)h(d)||(n?o=this.checkingAccent(String(d),t,i):i?this.checkIgnoreCase(String(d),t)&&(o=this.getItemValue(String(d),t,i)):this.checkNonIgnoreCase(String(d),t)&&(o=this.getItemValue(String(d),t,i,s)));else if(i)l.filter(d=>{!h(M(a.value,d))&&this.checkIgnoreCase(M(a.text,d).toString(),t)&&(o=M(a.value,d))});else if(s){let d=null;d=o,l.filter(u=>{const p=M(a.value,u);!h(p)&&!h(o)&&p.toString()===d.toString()&&(o=M(a.text,u))})}else l.filter(d=>{this.checkNonIgnoreCase(M(a.text,d),t)&&(o=M(a.value,d))});return o}checkingAccent(t,i,n){const s=Ie.ignoreDiacritics(String(t)),o=Ie.ignoreDiacritics(i.toString());let l=null;return n?this.checkIgnoreCase(s,o)&&(l=this.getItemValue(String(t),i,n)):this.checkNonIgnoreCase(String(t),i)&&(l=this.getItemValue(String(t),i,n)),l}checkIgnoreCase(t,i){return String(t).toLowerCase()===i.toString().toLowerCase()}checkNonIgnoreCase(t,i){return String(t)===i.toString()}getItemValue(t,i,n,s){let o=null;const a=this.typeOfData(this.listData).typeof;return o=s?t.toString():n?"string"===a?String(t):this.getFormattedValue(String(t)):"string"===a?i:this.getFormattedValue(i),o}templateCompiler(t){let i=!1;if(t)try{i=!!gt(t,document).length}catch(n){i=!1}return i}l10nUpdate(t){const i="listbox"===this.getModuleName()?this.ulElement:this.list;if("No records found"!==this.noRecordsTemplate||"Request failed"!==this.actionFailureTemplate){const n=t?this.actionFailureTemplate:this.noRecordsTemplate;let s;const o=t?this.actionFailureTemplateId:this.noRecordsTemplateId;i.innerHTML="",s=this.templateCompiler(n)?ci(G(n,document).innerHTML.trim()):ci(n);const c=s({},this,t?"actionFailureTemplate":"noRecordsTemplate",o,this.isStringTemplate,null,i);if(c&&c.length>0)for(let d=0;d<c.length;d++)i.appendChild(c[d]);this.renderReactTemplates()}else{const n={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},s=new is(this.getLocaleName(),{},this.locale);this.l10n=""!==s.getConstant("actionFailureTemplate")?s:new is("listbox"===this.getModuleName()?"listbox":"dropdowns",n,this.locale);const o=this.l10n.getConstant(t?"actionFailureTemplate":"noRecordsTemplate");if("listbox"===this.getModuleName()){const l=this.createElement("li");l.textContent=o,i.appendChild(l),l.classList.add("e-list-nrt")}else i.innerHTML=o}}getLocaleName(){return"drop-down-base"}getTextByValue(t){return this.checkValueCase(t,!1,!1,!0)}getFormattedValue(t){if(this.listData&&this.listData.length){const i=this.typeOfData(this.listData);if("number"==typeof M(this.fields.value?this.fields.value:"value",i.item)||"number"===i.typeof)return parseFloat(t);if("boolean"==typeof M(this.fields.value?this.fields.value:"value",i.item)||"boolean"===i.typeof)return"true"===t||""+t=="true"}return t}setEnableRtl(){this.list&&this.enableRtlElements.push(this.list),this.enableRtl?_(this.enableRtlElements,"e-rtl"):T(this.enableRtlElements,"e-rtl")}initialize(){if(this.bindEvent=!0,this.actionFailureTemplateId=`${this.element.id}ActionFailureTemplate`,"UL"===this.element.tagName){const t=Cn.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(t,this.fields)}else"SELECT"===this.element.tagName?(this.dataSource instanceof Array?this.dataSource.length>0:!h(this.dataSource))?this.isDynamicDataChange&&this.setListData(this.dataSource,this.fields,this.query):this.renderItemsBySelect():this.setListData(this.dataSource,this.fields,this.query)}getPersistData(){return this.addOnPersist([])}setEnabled(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")}updateDataAttribute(t){const i=["class","style","id","type"],n={};for(let s=0;s<this.element.attributes.length;s++)-1===i.indexOf(this.element.attributes[s].name)&&("dropdownlist"!==this.getModuleName()||"readonly"!==this.element.attributes[s].name)&&(n[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name));O(n,t,n),this.setProperties({htmlAttributes:n},!0)}renderItemsBySelect(){const t=this.element,i={value:"value",text:"text"},n=[],s=t.querySelectorAll("select>optgroup"),o=t.querySelectorAll("select>option");if(this.getJSONfromOption(n,o,i),s.length){for(let l=0;l<s.length;l++){const a=s[l],c={};c[i.text]=a.label,c.isHeader=!0;const d=a.querySelectorAll("option");n.push(c),this.getJSONfromOption(n,d,i)}t.querySelectorAll("select>option")}this.updateFields(i.text,i.value,this.fields.groupBy,this.fields.htmlAttributes,this.fields.iconCss),this.resetList(n,i)}updateFields(t,i,n,s,o){const l={fields:{text:t,value:i,groupBy:h(n)?this.fields&&this.fields.groupBy:n,htmlAttributes:h(s)?this.fields&&this.fields.htmlAttributes:s,iconCss:h(o)?this.fields&&this.fields.iconCss:o}};this.setProperties(l,!0)}getJSONfromOption(t,i,n){for(const s of i){const o={};o[n.text]=s.innerText,o[n.value]=h(s.getAttribute(n.value))?s.innerText:s.getAttribute(n.value),t.push(o)}}preRender(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId=`${this.element.id}ItemTemplate`,this.valueTemplateId=`${this.element.id}ValueTemplate`,this.groupTemplateId=`${this.element.id}GroupTemplate`,this.headerTemplateId=`${this.element.id}HeaderTemplate`,this.footerTemplateId=`${this.element.id}FooterTemplate`,this.noRecordsTemplateId=`${this.element.id}NoRecordsTemplate`}setListData(t,i,n){let s;i=i||this.fields,this.isActive=!0;const o={cancel:!1,data:t,query:n};this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.trigger("actionBegin",o,l=>{if(!l.cancel)if(this.showSpinner(),t instanceof ie){if(this.isRequested=!0,this.isDataFetched)return void this.emptyDataRequest(i);l.data.executeQuery(this.getQuery(l.query)).then(a=>{this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.trigger("actionComplete",a,c=>{if(!c.cancel){const d=c.result;0===d.length&&(this.isDataFetched=!0),s=this.renderItems(d,i),this.groupTemplate&&this.renderGroupTemplate(s),this.onActionComplete(s,d,c),this.isRequested=!1,this.bindChildItems(d,s,i,c)}})}).catch(a=>{this.isRequested=!1,this.onActionFailure(a),this.hideSpinner()})}else{const a=new ie(l.data),d={cancel:!1,result:this.getQuery(l.query).executeLocal(a)};this.isPreventChange=!(!this.isAngular||!this.preventChange)||this.isPreventChange,this.trigger("actionComplete",d,u=>{u.cancel||(s=this.renderItems(u.result,i),this.onActionComplete(s,u.result),this.groupTemplate&&this.renderGroupTemplate(s),this.bindChildItems(u.result,s,i),setTimeout(()=>{"multiselect"===this.getModuleName()&&null!=this.itemTemplate&&s.childElementCount>0&&(s.children[0].childElementCount>0||this.fields.groupBy&&s.children[1]&&s.children[1].childElementCount>0)&&this.updateDataList()}))})}})}bindChildItems(t,i,n,s){t.length>=100&&"autocomplete"===this.getModuleName()?setTimeout(()=>{Jt(this.remainingItems(this.sortedData,n),i),this.liCollections=this.list.querySelectorAll("."+et_li),this.updateListValues(),this.raiseDataBound(t,s)},0):this.raiseDataBound(t,s)}updateListValues(){}findListElement(t,i,n,s){let o=null;if(t){const l=[].slice.call(t.querySelectorAll(i));for(let a=0;a<l.length;a++)if(l[a].getAttribute(n)===s+""){o=l[a];break}}return o}raiseDataBound(t,i){this.hideSpinner(),this.trigger("dataBound",{items:t,e:i})}remainingItems(t,i){const n=new ie(t).executeLocal((new Ze).skip(100));if(this.itemTemplate){const o=this.templateListItem(n,i);return[].slice.call(o.childNodes)}const s=this.typeOfData(n).typeof;return"string"===s||"number"===s||"boolean"===s?Cn.createListItemFromArray(this.createElement,n,!0,this.listOption(n,i),this):Cn.createListItemFromJson(this.createElement,n,this.listOption(n,i),1,!0,this)}emptyDataRequest(t){const i=[];this.onActionComplete(this.renderItems(i,t),i),this.isRequested=!1,this.hideSpinner()}showSpinner(){}hideSpinner(){}onActionFailure(t){this.liCollections=[],this.trigger("actionFailure",t),this.l10nUpdate(!0),_([this.list],"e-nodata")}onActionComplete(t,i,n){if(this.listData=i,this.isReact&&this.clearTemplate(["itemTemplate","groupTemplate","actionFailureTemplate","noRecordsTemplate"]),this.fixedHeaderElement=h(this.fixedHeaderElement)?this.fixedHeaderElement:null,"multiselect"===this.getModuleName()&&this.properties.allowCustomValue&&this.fields.groupBy)for(let s=0;s<t.childElementCount;s++)t.children[s].classList.contains("e-list-group-item")&&(h(t.children[s].innerHTML)||""===t.children[s].innerHTML)&&_([t.children[s]],"e-hide-group-header");h(this.list)||(this.list.innerHTML="",this.list.appendChild(t),this.liCollections=this.list.querySelectorAll("."+et_li),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,i,this.bindEvent))}postRender(t,i,n){const s=t.querySelector("."+et_li),o=t.querySelector(".e-active");s&&!o&&s.classList.add(et_focus),i.length<=0?(this.l10nUpdate(),_([t],"e-nodata")):t.classList.remove("e-nodata")}getQuery(t){return t||(this.query?this.query:new Ze)}renderGroupTemplate(t){if(null!==this.fields.groupBy&&this.dataSource||this.element.querySelector("."+et_group)){const i=this.dataSource,n={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},s=t.querySelectorAll("."+et_group);if(this.templateCompiler(this.groupTemplate)){const l=G(this.groupTemplate,document).innerHTML.trim(),a=Cn.renderGroupTemplate(l,i,this.fields.properties,s,n,this);if(this.isGroupChecking)for(let c=0;c<a.length;c++)this.notify("addItem",{module:"CheckBoxSelection",item:a[c]})}else{const l=Cn.renderGroupTemplate(this.groupTemplate,i,this.fields.properties,s,n,this);if(this.isGroupChecking)for(let a=0;a<l.length;a++)this.notify("addItem",{module:"CheckBoxSelection",item:l[a]})}this.renderReactTemplates()}}createListItems(t,i){t&&i.groupBy||this.element.querySelector("optgroup")?(i.groupBy&&("None"!==this.sortOrder&&(t=this.getSortedDataSource(t)),t=Cn.groupDataSource(t,i.properties,this.sortOrder)),_([this.list],"e-dd-group")):t=this.getSortedDataSource(t);const n=this.listOption(t,i),s=t.length>100?new ie(t).executeLocal((new Ze).take(100)):t;return this.sortedData=t,Cn.createList(this.createElement,"autocomplete"===this.getModuleName()?s:t,n,!0,this)}listOption(t,i){const n=!h(i.iconCss),s=h(i.properties)?i:i.properties;return O({},null!==i.text||null!==i.value?{fields:s,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},i,!0)}setFloatingHeader(t){h(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:"e-fixed-head"}),this.list.querySelector("li").classList.contains(et_group)||(this.fixedHeaderElement.style.display="none"),oo([this.fixedHeaderElement],this.list),this.setFixedHeader()),!h(this.fixedHeaderElement)&&"0"===this.fixedHeaderElement.style.zIndex&&this.setFixedHeader(),this.scrollStop(t)}scrollStop(t){const i=h(t)?this.list:t.target,n=parseInt(getComputedStyle(this.getValidLi(),null).getPropertyValue("height"),10),s=Math.round(i.scrollTop/n),o=this.list.querySelectorAll("li:not(.e-hide-listitem)");for(let l=s;l>-1;l--){if(!h(o[l])&&o[l].classList.contains(et_group)){this.fixedHeaderElement.innerHTML=o[l].innerHTML,this.fixedHeaderElement.style.top=i.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}}getValidLi(){return this.liCollections[0]}renderItems(t,i){let n;if(this.itemTemplate&&t){let s=t;s&&i.groupBy?("None"!==this.sortOrder&&(s=this.getSortedDataSource(s)),s=Cn.groupDataSource(s,i.properties,this.sortOrder)):s=this.getSortedDataSource(s),this.sortedData=s;const o=s.length>100?new ie(s).executeLocal((new Ze).take(100)):s;n=this.templateListItem("autocomplete"===this.getModuleName()?o:s,i)}else n=this.createListItems(t,i);return n}templateListItem(t,i){const n=this.listOption(t,i);if(n.templateID=this.itemTemplateId,n.isStringTemplate=this.isStringTemplate,this.templateCompiler(this.itemTemplate)){const o=G(this.itemTemplate,document).innerHTML.trim();return Cn.renderContentTemplate(this.createElement,o,t,i.properties,n,this)}return Cn.renderContentTemplate(this.createElement,this.itemTemplate,t,i.properties,n,this)}typeOfData(t){for(let n=0;!h(t)&&n<t.length;n++)if(!h(t[n])&&!h("string"==typeof t[n]||"number"==typeof t[n]||"boolean"==typeof t[n]?t[n]:M(this.fields.value?this.fields.value:"value",t[n])))return{typeof:typeof t[n],item:t[n]};return{typeof:null,item:null}}setFixedHeader(){this.list.parentElement.style.display="block";let t=0;this.list&&this.list.parentElement&&(t=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10),isNaN(t))&&(t=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-top-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-bottom-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-left-width"),10)+parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-right-width"),10));const i=this.getValidLi().offsetWidth-t;this.fixedHeaderElement.style.width=i.toString()+"px",lt(this.fixedHeaderElement,{zIndex:10});const n=this.ulElement.querySelector("."+et_group+":not(.e-hide-listitem)");this.fixedHeaderElement.innerHTML=n.innerHTML}getSortedDataSource(t){if(t&&"None"!==this.sortOrder){let i=this.fields.text?this.fields.text:"text";("string"===this.typeOfData(t).typeof||"number"===this.typeOfData(t).typeof||"boolean"===this.typeOfData(t).typeof)&&(i=""),t=Cn.getDataSource(t,Cn.addSorting(this.sortOrder,i))}return t}getIndexByValue(t){let i;const n=this.getItems();for(let s=0;s<n.length;s++)if(!h(t)&&n[s].getAttribute("data-value")===t.toString()){i=s;break}return i}dispatchEvent(t,i){const n=document.createEvent("HTMLEvents");n.initEvent(i,!1,!0),t.dispatchEvent(n)}setFields(){this.fields.value&&!this.fields.text?this.updateFields(this.fields.value,this.fields.value):!this.fields.value&&this.fields.text?this.updateFields(this.fields.text,this.fields.text):!this.fields.value&&!this.fields.text&&this.updateFields("text","text")}resetList(t,i,n){this.list&&(("SELECT"===this.element.tagName&&this.element.options.length>0||"UL"===this.element.tagName&&this.element.childNodes.length>0)&&!(t instanceof Array?t.length>0:!h(t))&&this.selectData&&this.selectData.length>0&&(t=this.selectData),t="combobox"===this.getModuleName()&&this.selectData&&t instanceof Array&&t.length<this.selectData.length?this.selectData:t,this.setListData(t,i,n))}updateSelectElementData(t){t&&h(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)}updateSelection(){}renderList(){this.render()}updateDataSource(t){this.resetList(this.dataSource)}setUpdateInitial(t,i){this.isDataFetched=!1;const n={};for(let s=0;t.length>s;s++)i[t[s]]&&"fields"===t[s]?(this.setFields(),n[t[s]]=i[t[s]]):i[t[s]]&&(n[t[s]]=i[t[s]]);Object.keys(n).length>0&&(-1===Object.keys(n).indexOf("dataSource")&&(n.dataSource=this.dataSource),this.updateDataSource(n))}onPropertyChanged(t,i){"dropdownbase"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],t),this.setUpdateInitial(["sortOrder","itemTemplate"],t);for(const n of Object.keys(t))switch(n){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnabled();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){const s=this.ulElement.querySelector("."+et_group);this.fixedHeaderElement.innerHTML=s.innerHTML}break;case"locale":this.list&&!h(this.liCollections)&&0===this.liCollections.length&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0),this.setZIndex()}}render(t){this.list=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}}),this.list.classList.add(et_root),this.setFields(),this.rippleFun=Ys(this.list,{duration:300,selector:"."+et_li});const n=this.element.querySelector("select>optgroup");if((this.fields.groupBy||!h(n))&&!this.isGroupChecking&&C.add(this.list,"scroll",this.setFloatingHeader,this),"dropdownbase"===this.getModuleName()){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),T([this.element],et_root),this.element.style.display="none";const s=this.createElement("div");this.element.parentElement.insertBefore(s,this.element),s.appendChild(this.element),s.appendChild(this.list)}this.setEnableRtl(),this.setEnabled(),t||this.initialize()}getModuleName(){return"dropdownbase"}getItems(){return this.ulElement.querySelectorAll("."+et_li)}addItem(t,i){if((!this.list||this.list.textContent===this.noRecordsTemplate&&"listbox"!==this.getModuleName())&&this.renderList(),"None"!==this.sortOrder&&h(i)){let c=[].slice.call(this.listData);c.push(t),c=this.getSortedDataSource(c),this.fields.groupBy&&(c=Cn.groupDataSource(c,this.fields.properties,this.sortOrder)),i=c.indexOf(t)}const n=this.getItems().length,s=this.list.querySelector(".e-active");let o;t=t instanceof Array?t:[t],o=h(i)||i<0||i>n-1?n:i;const l=this.fields;t&&l.groupBy&&(t=Cn.groupDataSource(t,l.properties));const a=[];for(let c=0;c<t.length;c++){const d=t[c],u=d.isHeader,p=this.createElement("li",{className:u?et_group:et_li,id:"option-add-"+c}),g=d instanceof Object?M(l.text,d):d;if(u&&(p.innerText=g),this.itemTemplate&&!u){const v=ci(this.templateCompiler(this.itemTemplate)?G(this.itemTemplate,document).innerHTML.trim():this.itemTemplate)(d,this,"itemTemplate",this.itemTemplateId,this.isStringTemplate,null,p);v&&Jt(v,p)}else u||p.appendChild(document.createTextNode(g));p.setAttribute("data-value",d instanceof Object?M(l.value,d):d),p.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:p}),a.push(p),this.listData.push(d),"None"===this.sortOrder&&h(i)&&0===o&&(o=null),this.updateActionCompleteData(p,d,o),this.trigger("beforeItemRender",{element:p,item:d})}if(0===n&&h(this.list.querySelector("ul")))this.list.innerHTML="",this.list.classList.remove("e-nodata"),this.list.appendChild(this.ulElement),this.liCollections=a,Jt(a,this.ulElement),this.updateAddItemList(this.list,n);else{"listbox"===this.getModuleName()&&0===n&&(this.ulElement.innerHTML="");const c=[];for(let d=0;d<t.length;d++){const u=this.ulElement.querySelectorAll(".e-list-group-item");for(let g=0;g<u.length;g++)c[g]=u[g].innerText;if(c.indexOf(a[d].innerText)>-1&&l.groupBy){for(let g=0;g<u.length;g++)if(c[g]===a[d].innerText){this.ulElement.insertBefore(a[d+1],"None"===this.sortOrder?u[g+1]:this.ulElement.childNodes[i]),d+=1;break}}else this.liCollections[o]?this.liCollections[o].parentNode.insertBefore(a[d],this.liCollections[o]):this.ulElement.appendChild(a[d]);const p=[].slice.call(this.liCollections);p.splice(o,0,a[d]),this.liCollections=p,o+=1,"multiselect"===this.getModuleName()&&this.updateDataList()}}(s||0===i)&&this.updateSelection()}validationAttribute(t,i){const n=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");i.setAttribute("name",n),t.removeAttribute("name");const s=["required","aria-required","form"];for(let o=0;o<s.length;o++){if(!t.getAttribute(s[o]))continue;const l=t.getAttribute(s[o]);i.setAttribute(s[o],l),t.removeAttribute(s[o])}}setZIndex(){}updateActionCompleteData(t,i,n){}updateAddItemList(t,i){}updateDataList(){}getDataByValue(t){if(!h(this.listData)){const i=this.typeOfData(this.listData).typeof;if("string"===i||"number"===i||"boolean"===i){for(const n of this.listData)if(!h(n)&&n===t)return n}else for(const n of this.listData)if(!h(n)&&M(this.fields.value?this.fields.value:"value",n)===t)return n}return null}destroy(){document.body.contains(this.list)&&(C.remove(this.list,"scroll",this.setFloatingHeader),h(this.rippleFun)||this.rippleFun(),de(this.list)),super.destroy()}};return wr([gi({text:null,value:null,iconCss:null,groupBy:null},aO)],r.prototype,"fields",void 0),wr([y(!1)],r.prototype,"enablePersistence",void 0),wr([y(null)],r.prototype,"itemTemplate",void 0),wr([y(null)],r.prototype,"groupTemplate",void 0),wr([y("No records found")],r.prototype,"noRecordsTemplate",void 0),wr([y("Request failed")],r.prototype,"actionFailureTemplate",void 0),wr([y("None")],r.prototype,"sortOrder",void 0),wr([y(!0)],r.prototype,"enabled",void 0),wr([y([])],r.prototype,"dataSource",void 0),wr([y(null)],r.prototype,"query",void 0),wr([y("StartsWith")],r.prototype,"filterType",void 0),wr([y(!0)],r.prototype,"ignoreCase",void 0),wr([y(1e3)],r.prototype,"zIndex",void 0),wr([y(!1)],r.prototype,"ignoreAccent",void 0),wr([y()],r.prototype,"locale",void 0),wr([E()],r.prototype,"actionBegin",void 0),wr([E()],r.prototype,"actionComplete",void 0),wr([E()],r.prototype,"actionFailure",void 0),wr([E()],r.prototype,"select",void 0),wr([E()],r.prototype,"dataBound",void 0),wr([E()],r.prototype,"created",void 0),wr([E()],r.prototype,"destroyed",void 0),r=wr([Pi],r),r})();var Gr=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const li={root:"e-dropdownlist",hover:"e-hover",selected:"e-active",rtl:"e-rtl",li:et_li,disable:"e-disabled",base:et_root,focus:et_focus,input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden"},HIe={container:null,buttons:[]};let Sn=class extends cO{constructor(e,t){super(e,t),this.isListSearched=!1,this.preventChange=!1,this.isAngular=!1}preRender(){this.valueTempElement=null,this.element.style.opacity="0",this.initializeData(),super.preRender(),this.activeIndex=this.index,this.queryString=""}initializeData(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.actionData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.previousValue=null,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"}}setZIndex(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})}renderList(e){super.render(e),this.unWireListEvents(),this.wireListEvents()}floatLabelChange(){if("dropdownlist"===this.getModuleName()&&"Auto"===this.floatLabelType){const e=this.inputWrapper.container.querySelector(".e-float-text");""!==this.inputElement.value||this.isInteracted?ze(e,["e-label-top"],["e-label-bottom"]):ze(e,["e-label-bottom"],["e-label-top"])}}resetHandler(e){e.preventDefault(),this.clearAll(e)}resetFocusElement(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,"autocomplete"!==this.getModuleName()&&!h(this.ulElement)){const e=this.ulElement.querySelector("."+li.li);e&&e.classList.add(li.focus)}}clearAll(e,t){(h(t)||!h(t)&&(h(t.dataSource)||!(t.dataSource instanceof ie)&&0===t.dataSource.length))&&(this.isActive=!0,this.resetSelection(t));const i=this.getItemData();this.previousValue!==i.value&&this.onChangeEvent(e)}resetSelection(e){this.list&&(h(e)||!h(e.dataSource)&&(e.dataSource instanceof ie||0!==e.dataSource.length)?(this.allowFiltering&&"autocomplete"!==this.getModuleName()&&!h(this.actionCompleteData.ulElement)&&!h(this.actionCompleteData.list)&&this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list),this.resetFocusElement()):(this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource))),this.hiddenElement.innerHTML="",this.inputElement.value="",this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(de(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()}setHTMLAttributes(){if(Object.keys(this.htmlAttributes).length)for(const e of Object.keys(this.htmlAttributes))if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&_([this.inputWrapper.container],t.split(" "))}else if("disabled"===e&&"disabled"===this.htmlAttributes[e])this.enabled=!1,this.setEnable();else if("readonly"!==e||h(this.htmlAttributes[e]))if("style"===e)this.inputWrapper.container.setAttribute("style",this.htmlAttributes[e]);else{const t=["title","id","placeholder","aria-placeholder","role","autocorrect","autocomplete","autocapitalize","spellcheck","minlength","maxlength"],i=["name","required"];("autocomplete"===this.getModuleName()||"combobox"===this.getModuleName())&&t.push("tabindex"),i.indexOf(e)>-1||0===e.indexOf("data")?this.hiddenElement.setAttribute(e,this.htmlAttributes[e]):t.indexOf(e)>-1?"placeholder"===e?ke.setPlaceholder(this.htmlAttributes[e],this.inputElement):this.inputElement.setAttribute(e,this.htmlAttributes[e]):this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}else this.readonly=!0,this.dataBind();("autocomplete"===this.getModuleName()||"combobox"===this.getModuleName())&&this.inputWrapper.container.removeAttribute("tabindex")}getAriaAttributes(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-haspopup":"true","aria-expanded":"false","aria-activedescendant":"null","aria-live":"polite","aria-labelledby":this.hiddenElement.id}}setEnableRtl(){ke.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())}setEnable(){ke.setEnabled(this.enabled,this.inputElement),this.enabled?(T([this.inputWrapper.container],li.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex)):(this.hidePopup(),_([this.inputWrapper.container],li.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1)}getPersistData(){return this.addOnPersist(["value"])}getLocaleName(){return"drop-down-list"}preventTabIndex(e){"dropdownlist"===this.getModuleName()&&(e.tabIndex=-1)}targetElement(){return this.inputWrapper.container}getNgDirective(){return"EJS-DROPDOWNLIST"}getElementByText(e){return this.getElementByValue(this.getValueByText(e))}getElementByValue(e){let t;const i=this.getItems();for(const n of i)if(this.getFormattedValue(n.getAttribute("data-value"))===e){t=n;break}return t}initValue(){this.renderList(),this.dataSource instanceof ie?this.initRemoteRender=!0:this.updateValues()}updateValues(){if(h(this.value))if(this.text&&h(this.value)){const e=this.getElementByText(this.text);if(h(e))return void this.setProperties({text:null});this.setSelection(e,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else this.setSelection(this.getElementByValue(this.value),null);this.setHiddenValue(),ke.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}onBlurHandler(e){if(!this.enabled)return;const t=e.relatedTarget,i=e.target,n=this.isPreventBlur;this.isPreventBlur=!1,!n||this.isDocumentClick||!this.isPopupOpen||h(i)&&(this.isFilterLayout()||!h(t))?this.isDocumentClick||!h(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(li.mobileFilter)?this.beforePopupOpen||(this.isDocumentClick=!1):(("dropdownlist"===this.getModuleName()&&!this.isFilterFocus&&t!==this.inputElement&&(document.activeElement!==t||document.activeElement===t&&i.classList.contains(li.inputFocus))||h(t)&&"dropdownlist"===this.getModuleName()&&this.allowFiltering&&i!==this.inputWrapper.container||"dropdownlist"!==this.getModuleName()&&!this.inputWrapper.container.contains(t)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),this.isRequested&&!this.isPopupOpen&&!this.isPreventBlur&&(this.isActive=!1,this.beforePopupOpen=!1)):"dropdownlist"===this.getModuleName()&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus()}focusOutAction(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut()}onFocusOut(){!this.enabled||(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(null)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),"dropdownlist"===this.getModuleName()&&"INPUT"!==this.element.tagName&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&_([this.inputWrapper.clearButton],li.clearIconHide),this.trigger("blur"))}onFocus(e){this.isInteracted||(this.isInteracted=!0,this.trigger("focus",{isInteracted:!!e,event:e})),this.updateIconState()}resetValueHandler(e){const t=D(this.inputElement,"form");if(t&&e.target===t){const i=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=i}}wireEvent(){C.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),C.add(this.inputWrapper.container,"focus",this.focusIn,this),C.add(this.inputWrapper.container,"keypress",this.onSearch,this),this.bindCommonEvent()}bindCommonEvent(){C.add(this.targetElement(),"blur",this.onBlurHandler,this);const e=D(this.inputElement,"form");e&&C.add(e,"reset",this.resetValueHandler,this),this.keyboardModule=new tn(this.targetElement(),A.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()}bindClearEvent(){this.showClearButton&&C.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)}unBindCommonEvent(){this.targetElement()&&C.remove(this.targetElement(),"blur",this.onBlurHandler);const e=this.inputElement&&D(this.inputElement,"form");e&&C.remove(e,"reset",this.resetValueHandler),A.isDevice||this.keyboardModule.destroy(),this.showClearButton&&C.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)}updateIconState(){this.showClearButton&&(""===this.inputElement.value||this.readonly?_([this.inputWrapper.clearButton],li.clearIconHide):T([this.inputWrapper.clearButton],li.clearIconHide))}wireListEvents(){C.add(this.list,"click",this.onMouseClick,this),C.add(this.list,"mouseover",this.onMouseOver,this),C.add(this.list,"mouseout",this.onMouseLeave,this)}onSearch(e){32!==e.charCode&&13!==e.charCode&&(void 0===this.list&&this.renderList(),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))}onServerIncrementalSearch(e){!this.isRequested&&!h(this.list)&&!h(this.list.querySelector("li"))&&this.enabled&&!this.readonly&&this.incrementalSearch(e)}onMouseClick(e){const i=D(e.target,"."+et_li);!this.isValidLI(i)||(this.setSelection(i,e),A.isDevice&&this.isFilterLayout()?history.back():this.closePopup(100))}onMouseOver(e){const t=D(e.target,"."+et_li);this.setHover(t)}setHover(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains("e-hover")&&(this.removeHover(),_([e],"e-hover"))}onMouseLeave(){this.removeHover()}removeHover(){if(this.list){const e=this.list.querySelectorAll(".e-hover");e&&e.length&&T(e,"e-hover")}}isValidLI(e){return e&&e.hasAttribute("role")&&"option"===e.getAttribute("role")}incrementalSearch(e){if(this.liCollections.length>0){const t=function TIe(r,e,t,i,n){let s;if(yp+=String.fromCharCode(r),setTimeout(()=>{yp=""},1e3),yp=i?yp.toLowerCase():yp,B2===n&&lO===yp){for(let o=0;o<mg.length;o++)if(mg[o].classList.contains("e-active")){s=o;break}return s+=1,mg[s]?mg[s]:mg[0]}{const o=e,l=yp.length;let a,c,d=t=t?t+1:0;mg=[];do{d===o.length&&(d=-1),s=-1===d?0:d,c=o[s],a=i?c.innerText.toLowerCase():c.innerText,a.substr(0,l)===yp&&mg.push(o[s]),d++}while(d!==t);return lO=yp,B2=n,mg[0]}}(e.charCode,this.liCollections,this.activeIndex,!0,this.element.id);h(t)||(this.setSelection(t,e),this.setScrollPosition())}}hideSpinner(){h(this.spinnerElement)||(qo(this.spinnerElement),T([this.spinnerElement],li.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)}showSpinner(){h(this.spinnerElement)&&(this.spinnerElement=A.isDevice&&!h(this.filterInputObj)&&this.filterInputObj.buttons[1]||!h(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],_([this.spinnerElement],li.disableIcon),bc({target:this.spinnerElement,width:A.isDevice?"16px":"14px"},this.createElement),Go(this.spinnerElement))}keyActionHandler(e){if(!this.enabled)return;const t="pageUp"===e.action||"pageDown"===e.action,i="dropdownlist"!==this.getModuleName()&&("home"===e.action||"end"===e.action);this.isEscapeKey="escape"===e.action,this.isTabKey=!this.isPopupOpen&&"tab"===e.action;const s="down"===e.action||"up"===e.action||"pageUp"===e.action||"pageDown"===e.action||"home"===e.action||"end"===e.action;if((!(this.isEditTextBox()||t||i)||this.isPopupOpen)&&!this.readonly){const o="tab"===e.action||"close"===e.action;if(void 0===this.list&&!this.isRequested&&!o&&"escape"!==e.action&&(this.searchKeyEvent=e,this.renderList()),h(this.list)||!h(this.liCollections)&&s&&0===this.liCollections.length||this.isRequested)return;switch((o&&"autocomplete"!==this.getModuleName()&&this.isPopupOpen||"escape"===e.action)&&e.preventDefault(),this.isSelected="escape"!==e.action&&this.isSelected,this.isTyped=!s&&"escape"!==e.action&&this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":case"end":this.updateHomeEndAction(e);break;case"space":"dropdownlist"===this.getModuleName()&&(this.beforePopupOpen||this.showPopup());break;case"open":this.showPopup();break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}}}updateUpDownAction(e){const t=this.list.querySelector("."+li.focus);if(this.isSelectFocusItem(t))this.setSelection(t,e);else if(!h(this.liCollections)){let i="down"===e.action?this.activeIndex+1:this.activeIndex-1,n=0;"autocomplete"===this.getModuleName()&&(n="down"===e.action&&h(this.activeIndex)?0:this.liCollections.length-1,i=i<0?this.liCollections.length-1:i===this.liCollections.length?0:i);const s=h(this.activeIndex)?this.liCollections[n]:this.liCollections[i];h(s)||this.setSelection(s,e)}e.preventDefault()}updateHomeEndAction(e){if("dropdownlist"===this.getModuleName()){let t=0;if(t="home"===e.action?0:this.getItems().length-1,e.preventDefault(),this.activeIndex===t)return;this.setSelection(this.liCollections[t],e)}}selectCurrentValueOnTab(e){"autocomplete"===this.getModuleName()?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}mobileKeyActionHandler(e){if(this.enabled&&(!this.isEditTextBox()||this.isPopupOpen)&&!this.readonly){if(void 0===this.list&&!this.isRequested&&(this.searchKeyEvent=e,this.renderList()),h(this.list)||!h(this.liCollections)&&0===this.liCollections.length||this.isRequested)return;"enter"===e.action&&this.selectCurrentItem(e)}}selectCurrentItem(e){if(this.isPopupOpen){const t=this.list.querySelector("."+li.focus);t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(),this.focusDropDown(e)}else this.showPopup()}isSelectFocusItem(e){return!h(e)}getPageCount(){const e=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.getBoundingClientRect().height/parseInt(e,10))}pageUpSelection(e,t){this.setSelection(e>=0?this.liCollections[e+1]:this.liCollections[0],t)}pageDownSelection(e,t){const i=this.getItems();this.setSelection(e<=i.length?this.liCollections[e-1]:this.liCollections[i.length-1],t)}unWireEvent(){C.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),C.remove(this.inputWrapper.container,"keypress",this.onSearch),C.remove(this.inputWrapper.container,"focus",this.focusIn),this.unBindCommonEvent()}unWireListEvents(){C.remove(this.list,"click",this.onMouseClick),C.remove(this.list,"mouseover",this.onMouseOver),C.remove(this.list,"mouseout",this.onMouseLeave)}checkSelector(e){return'[id="'+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")+'"]'}onDocumentClick(e){const t=e.target;if(!h(this.popupObj)&&D(t,this.checkSelector(this.popupObj.element.id))||this.inputWrapper.container.contains(e.target))t!==this.inputElement&&(!this.allowFiltering||t!==this.filterInput)&&("combobox"!==this.getModuleName()||this.allowFiltering||!A.isDevice||t!==this.inputWrapper.buttons[0])&&(this.isPreventBlur=(A.isIE||"edge"===A.info.name)&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault());else if(this.inputWrapper.container.classList.contains(li.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;const i=this.isRequested;this.isInteracted=!1,this.hidePopup(e),i||(this.onFocusOut(),this.inputWrapper.container.classList.remove(li.inputFocus))}}activeStateChange(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(li.inputFocus))}focusDropDown(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)}dropDownClick(e){if(3===e.which||2===e.button||this.targetElement().classList.contains(li.disable)||this.inputWrapper.clearButton===e.target)return;const t=e.target;if(t!==this.inputElement&&!(this.allowFiltering&&t===this.filterInput)&&"combobox"!==this.getModuleName()&&e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen?(this.hidePopup(),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=""===this.inputElement.value.trim()?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup());const i=this,n=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout(()=>{i.cloneElements(),i.isSecondClick=!0},n)}}cloneElements(){if(this.list){let e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}}updateSelectedItem(e,t,i,n){this.removeSelection(),e.classList.add("e-active"),this.removeHover();const s=this.getFormattedValue(e.getAttribute("data-value")),o=this.getDataByValue(s);if(this.initial||i||h(t))this.selectEventCallback(e,t,i,o,s),n&&this.setSelectOptions(e,t);else{const l=this.detachChanges(o);this.isSelected=!0,this.trigger("select",{e:t,item:e,itemData:l,isInteracted:!!t,cancel:!1},c=>{c.cancel?e.classList.remove("e-active"):(this.selectEventCallback(e,t,i,o,s),n&&this.setSelectOptions(e,t))})}}selectEventCallback(e,t,i,n,s){this.previousItemData=h(this.itemData)?null:this.itemData,this.item=e,this.itemData=n;const o=this.list.querySelector("."+et_focus);o&&T([o],et_focus),e.setAttribute("aria-selected","true"),this.activeIndex=this.getIndexByValue(s)}activeItem(e){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.removeSelection(),e.classList.add("e-active"),this.removeHover(),e.setAttribute("aria-selected","true"))}setValue(e){const t=this.getItemData();ke.setValue(null===t.value?null:t.text,this.inputElement,this.floatLabelType,this.showClearButton),this.valueTemplate&&null!==this.itemData?this.setValueTemplate():!h(this.valueTempElement)&&this.inputElement.previousSibling===this.valueTempElement&&(de(this.valueTempElement),this.inputElement.style.display="block");const i=li.clearIcon,s=this.isFiltering()&&this.filterInput&&"combobox"===this.getModuleName()&&this.filterInput.parentElement.querySelector("."+i);return this.isFiltering()&&s&&s.style.removeProperty("visibility"),this.previousValue===t.value?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,"dropdownlist"===this.getModuleName()&&this.updateIconState(),!1)}setSelection(e,t){this.isValidLI(e)&&(!e.classList.contains("e-active")||this.isPopupOpen&&this.isSelected&&e.classList.contains("e-active"))?this.updateSelectedItem(e,t,!1,!0):this.setSelectOptions(e,t)}setSelectOptions(e,t){this.list&&this.removeHover(),this.previousSelectedLI=h(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,!this.setValue(t)&&(this.isPopupOpen&&(Le(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null}),this.isFilterLayout()&&this.filterInput&&Le(this.filterInput,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})),(!this.isPopupOpen&&!h(e)||this.isPopupOpen&&!h(t)&&("keydown"!==t.type||"keydown"===t.type&&"enter"===t.action))&&(this.isSelectCustom=!1,this.onChangeEvent(t)),this.isPopupOpen&&!h(this.selectedLI)&&null!==this.itemData&&(!t||"click"!==t.type)&&this.setScrollPosition(t),"mozilla"!==A.info.name&&(Le(this.inputElement,{"aria-label":this.inputElement.value}),Le(this.targetElement(),{"aria-describedby":this.inputElement.id}),this.targetElement().removeAttribute("aria-live")))}dropdownCompiler(e){let t=!1;if(e)try{t=!!document.querySelectorAll(e).length}catch(i){t=!1}return t}setValueTemplate(){let e;this.isReact&&(this.clearTemplate(["valueTemplate"]),this.valueTempElement&&(de(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null)),this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:li.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.isReact||(this.valueTempElement.innerHTML=""),e=this.dropdownCompiler(this.valueTemplate)?ci(document.querySelector(this.valueTemplate).innerHTML.trim()):ci(this.valueTemplate);const i=e(this.itemData,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,this.valueTempElement);if(i&&i.length>0)for(let n=0;n<i.length;n++)this.valueTempElement.appendChild(i[n]);this.renderReactTemplates()}removeSelection(){if(this.list){const e=this.list.querySelectorAll(".e-active");e.length&&(T(e,"e-active"),e[0].removeAttribute("aria-selected"))}}getItemData(){const e=this.fields;let i,n,t=null;return t=this.itemData,h(t)||(i=M(e.value,t),n=M(e.text,t)),{value:h(t)||Et(i)?t:i,text:h(t)||Et(i)?t:n}}onChangeEvent(e){const t=this.getItemData();this.setProperties({index:this.isSelectCustom?null:this.activeIndex,text:t.text,value:t.value},!0),this.detachChangeEvent(e)}detachChanges(e){let t;return t="string"==typeof e||"boolean"==typeof e||"number"==typeof e?Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):e,t}detachChangeEvent(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.index,this.typedString=h(this.text)?"":this.text,!this.initial){const t=this.detachChanges(this.itemData);let i;i="string"==typeof this.previousItemData||"boolean"==typeof this.previousItemData||"number"==typeof this.previousItemData?Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):this.previousItemData,this.setHiddenValue();const n={e,item:this.item,itemData:t,previousItem:this.previousSelectedLI,previousItemData:i,isInteracted:!!e,value:this.value,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",n)}(h(this.value)||""===this.value)&&"Always"!==this.floatLabelType&&T([this.inputWrapper.container],"e-valid-input")}setHiddenValue(){if(h(this.value))this.hiddenElement.innerHTML="";else if(this.hiddenElement.querySelector("option")){const e=this.hiddenElement.querySelector("option");e.textContent=this.text,e.setAttribute("value",this.value.toString())}else this.hiddenElement.innerHTML="<option selected>"+this.text+"</option>",this.hiddenElement.querySelector("option").setAttribute("value",this.value.toString())}onFilterUp(e){if(e.ctrlKey&&86===e.keyCode||!this.isValidKey&&40!==e.keyCode&&38!==e.keyCode)this.isValidKey=!1;else switch(this.isValidKey=!1,e.keyCode){case 38:case 40:"autocomplete"!==this.getModuleName()||this.isPopupOpen||this.preventAltUp||this.isRequested?this.preventAutoFill=!1:(this.preventAutoFill=!0,this.searchLists(e)),this.preventAltUp=!1,e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&""!==this.typedString||this.isPopupOpen&&this.queryString.length>0||""===this.typedString&&""===this.queryString&&"autocomplete"!==this.getModuleName()?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&(this.list&&this.resetFocusElement(),this.activeIndex=null,"dropdownlist"!==this.getModuleName()&&(this.preventAutoFill=!0,this.searchLists(e),"autocomplete"===this.getModuleName()&&this.hidePopup())),e.preventDefault();break;default:this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.searchLists(e)}}onFilterDown(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&"autocomplete"!==this.getModuleName()&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value}}removeFillSelection(){if(this.isInteracted){const e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}}getQuery(e){let t;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){t=e?e.clone():this.query?this.query.clone():new Ze;const i=""===this.typedString?"contains":this.filterType,n=this.typeOfData(this.dataSource).typeof;t.where((this.dataSource instanceof ie||"string"!==n)&&"number"!==n&&this.fields.text?this.fields.text:"",i,this.typedString,this.ignoreCase,this.ignoreAccent)}else t=e?e.clone():this.query?this.query.clone():new Ze;return t}getSelectionPoints(){const e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}}searchLists(e){if(this.isTyped=!0,this.activeIndex=null,this.isListSearched=!0,this.filterInput.parentElement.querySelector("."+li.clearIcon)&&(this.filterInput.parentElement.querySelector("."+li.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible"),this.isDataFetched=!1,this.isFiltering()){const t={preventDefaultAction:!1,text:this.filterInput.value,updateData:(i,n,s)=>{t.cancel||(this.isCustomFilter=!0,this.filteringAction(i,n,s))},baseEventArgs:e,cancel:!1};this.trigger("filtering",t,i=>{!i.cancel&&!this.isCustomFilter&&!i.preventDefaultAction&&this.filteringAction(this.dataSource,null,this.fields)})}}filter(e,t,i){this.isCustomFilter=!0,this.filteringAction(e,t,i)}filteringAction(e,t,i){h(this.filterInput)||(this.beforePopupOpen=!(!this.isPopupOpen&&"combobox"===this.getModuleName()&&""===this.filterInput.value),""!==this.filterInput.value.trim()||this.itemTemplate?(this.isNotSearchList=!1,t=""===this.filterInput.value.trim()?null:t,this.resetList(e,i,t)):(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,!h(this.actionCompleteData.ulElement)&&!h(this.actionCompleteData.list)&&this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list),this.isTyped=!0,!h(this.itemData)&&"dropdownlist"===this.getModuleName()&&(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0),this.renderReactTemplates())}setSearchBox(e){if(this.isFiltering()){const t=e.querySelector("."+li.filterParent)?e.querySelector("."+li.filterParent):this.createElement("span",{className:li.filterParent});this.filterInput=this.createElement("input",{attrs:{type:"text"},className:li.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);let i=!1;return A.isDevice&&(i=!0),this.filterInputObj=ke.createInput({element:this.filterInput,buttons:i?[li.backIcon,li.filterBarClearIcon]:[li.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),h(this.cssClass)||(-1!==this.cssClass.split(" ").indexOf("e-outline")?_([this.filterInputObj.container],"e-outline"):-1!==this.cssClass.split(" ").indexOf("e-filled")&&_([this.filterInputObj.container],"e-filled")),Jt([this.filterInputObj.container],t),oo([t],e),Le(this.filterInput,{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-activedescendant":this.selectedLI?this.selectedLI.id:null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+li.clearIcon),!A.isDevice&&this.clearIconElement&&(C.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),this.searchKeyModule=new tn(this.filterInput,A.isDevice?{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}:{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),C.add(this.filterInput,"input",this.onInput,this),C.add(this.filterInput,"keyup",this.onFilterUp,this),C.add(this.filterInput,"keydown",this.onFilterDown,this),C.add(this.filterInput,"blur",this.onBlurHandler,this),C.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}return HIe}onInput(e){this.isValidKey=!0,A.isDevice&&"mozilla"===A.info.name&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))}pasteHandler(e){setTimeout(()=>{this.typedString=this.filterInput.value,this.searchLists(e)})}onActionFailure(e){super.onActionFailure(e),this.beforePopupOpen&&this.renderPopup()}onActionComplete(e,t,i,n){if(this.isNotSearchList)this.isNotSearchList=!1;else if(this.isActive){const s=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(super.onActionComplete(e,t,i),this.updateSelectElementData(this.allowFiltering),this.isRequested&&!h(this.searchKeyEvent)&&"keydown"===this.searchKeyEvent.type&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!h(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.list.scrollTop=0,h(e)||Le(e,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"}),this.initRemoteRender)if(this.initial=!0,this.activeIndex=this.index,this.initRemoteRender=!1,this.initial=!1,this.value&&this.dataSource instanceof ie){const o=h(this.fields.value)?this.fields.text:this.fields.value;t.some(a=>a[o]===this.value)?this.updateValues():this.dataSource.executeQuery(this.getQuery(this.query).where(new qt(o,"equal",this.value))).then(a=>{a.result.length>0?(this.addItem(a.result,t.length),this.updateValues()):this.updateValues()})}else this.updateValues();"autocomplete"!==this.getModuleName()&&this.isFiltering()&&!this.isTyped&&((!this.actionCompleteData.isUpdated||!this.isCustomFilter&&!this.isFilterFocus||h(this.itemData)&&this.allowFiltering&&(this.dataSource instanceof ie||!h(this.dataSource)&&!h(this.dataSource.length)&&0!==this.dataSource.length))&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout(()=>{this.updateActionCompleteDataValues(e,t)},0):this.updateActionCompleteDataValues(e,t)),this.addNewItem(t,s),h(this.itemData)||this.focusIndexItem()),this.beforePopupOpen&&this.renderPopup()}}updateActionCompleteDataValues(e,t){this.actionCompleteData={ulElement:e.cloneNode(!0),list:t,isUpdated:!0},this.actionData.list!==this.actionCompleteData.list&&this.actionCompleteData.ulElement&&this.actionCompleteData.list&&(this.actionData=this.actionCompleteData)}addNewItem(e,t){if(!h(this.itemData)&&!h(t)){const i=this.getItemData().value;e.some(s=>("string"==typeof s||"number"==typeof s)&&s===i||M(this.fields.value,s)===i)||this.addItem(this.itemData)}}updateActionCompleteData(e,t,i){"autocomplete"!==this.getModuleName()&&this.actionCompleteData.ulElement&&(this.itemTemplate&&"EJS-COMBOBOX"===this.element.tagName&&this.allowFiltering?setTimeout(()=>{this.actionCompleteDataUpdate(e,t,i)},0):this.actionCompleteDataUpdate(e,t,i))}actionCompleteDataUpdate(e,t,i){null!=i?this.actionCompleteData.ulElement.insertBefore(e.cloneNode(!0),this.actionCompleteData.ulElement.childNodes[i]):this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list.indexOf(t)<0&&this.actionCompleteData.list.push(t)}focusIndexItem(){const e=this.getItemData().value;this.activeIndex=this.getIndexByValue(e);const t=this.findListElement(this.list,"li","data-value",e);this.selectedLI=t,this.activeItem(t),this.removeFocus()}updateSelection(){const e=this.list.querySelector(".e-active");e?(this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index):(this.removeFocus(),this.list.querySelector("."+et_li).classList.add(li.focus))}removeFocus(){const e=this.list.querySelectorAll("."+li.focus);e&&e.length&&T(e,li.focus)}renderPopup(){this.popupObj&&document.body.contains(this.popupObj.element)?this.refreshPopup():this.trigger("beforeOpen",{cancel:!1},t=>{if(t.cancel)this.beforePopupOpen=!1;else{const i=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup "+(null!=this.cssClass?this.cssClass:"")}),n=this.setSearchBox(i);if(this.listHeight=$e(this.popupHeight),this.headerTemplate&&this.setHeaderTemplate(i),Jt([this.list],i),this.footerTemplate&&this.setFooterTemplate(i),document.body.appendChild(i),i.style.visibility="hidden","auto"!==this.popupHeight){if(this.searchBoxHeight=0,h(n.container)||(this.searchBoxHeight=n.container.parentElement.getBoundingClientRect().height,this.listHeight=(parseInt(this.listHeight,10)-this.searchBoxHeight).toString()+"px"),this.headerTemplate){this.header=this.header?this.header:i.querySelector(".e-ddl-header");const p=Math.round(this.header.getBoundingClientRect().height);this.listHeight=(parseInt(this.listHeight,10)-(p+this.searchBoxHeight)).toString()+"px"}if(this.footerTemplate){this.footer=this.footer?this.footer:i.querySelector(".e-ddl-footer");const p=Math.round(this.footer.getBoundingClientRect().height);this.listHeight=(parseInt(this.listHeight,10)-(p+this.searchBoxHeight)).toString()+"px"}this.list.style.maxHeight=(parseInt(this.listHeight,10)-2).toString()+"px",i.style.maxHeight=$e(this.popupHeight)}else i.style.height="auto";let o,s=0;if(!h(this.selectedLI)&&!h(this.activeIndex)&&this.activeIndex>=0?this.setScrollPosition():this.list.scrollTop=0,A.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){s=this.getOffsetValue(i);const p=this.isEmptyList()?this.list:this.liCollections[0];o=-(parseInt(getComputedStyle(p).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))}this.getFocusElement(),this.createPopup(i,s,o),this.checkCollision(i),A.isDevice&&(this.popupObj.element.classList.add(li.device),("dropdownlist"===this.getModuleName()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&(this.popupObj.collision={X:"fit",Y:"fit"}),this.isFilterLayout()&&(this.popupObj.element.classList.add(li.mobileFilter),this.popupObj.position={X:0,Y:0},this.popupObj.dataBind(),Le(this.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),_([document.body,this.popupObj.element],li.popupFullScreen),this.setSearchBoxPosition(),this.backIconElement=n.container.querySelector(".e-back-icon"),this.clearIconElement=n.container.querySelector("."+li.clearIcon),C.add(this.backIconElement,"click",this.clickOnBackIcon,this),C.add(this.clearIconElement,"click",this.clearText,this))),i.style.visibility="visible",_([i],"e-popup-close");const l=this.popupObj.getScrollableParent(this.inputWrapper.container);for(const p of l)C.add(p,"scroll",this.scrollHandler,this);A.isDevice&&this.isFilterLayout()&&C.add(this.list,"scroll",this.listScroll,this),h(this.list)||(this.unWireListEvents(),this.wireListEvents()),Le(this.targetElement(),{"aria-expanded":"true"}),_([this.isFiltering()?this.filterInput.parentElement:this.inputWrapper.container],[li.inputFocus]);const c={name:"FadeIn",duration:100};this.beforePopupOpen=!0,this.trigger("open",{popup:this.popupObj,cancel:!1,animation:c},p=>{p.cancel?(this.beforePopupOpen=!1,this.destroyPopup()):(_([this.inputWrapper.container],[li.iconAnimation]),this.renderReactTemplates(),this.popupObj.show(new _s(p.animation),1e3===this.zIndex?this.element:null))})}})}checkCollision(e){(!A.isDevice||A.isDevice&&"dropdownlist"!==this.getModuleName()&&!this.isDropDownClick)&&(df(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"),this.popupObj.resolveCollision())}getOffsetValue(e){const t=getComputedStyle(e),i=parseInt(t.borderTopWidth,10),n=parseInt(t.borderBottomWidth,10);return this.setPopupPosition(i+n)}createPopup(e,t,i){this.popupObj=new wc(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:{X:"flip",Y:"flip"},offsetY:t,enableRtl:this.enableRtl,offsetX:i,position:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:()=>{this.isDocumentClick||this.focusDropDown(),this.isReact&&this.clearTemplate(["headerTemplate","footerTemplate"]),this.getModuleName(),this.isNotSearchList=!1,this.isDocumentClick=!1,this.destroyPopup(),this.isFiltering()&&this.actionCompleteData.list&&this.actionCompleteData.list[0]&&(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0))},open:()=>{C.add(document,"mousedown",this.onDocumentClick,this),this.isPopupOpen=!0;const n=this.actionCompleteData&&this.actionCompleteData.ulElement&&this.actionCompleteData.ulElement.querySelector("li"),s=this.list.querySelector("ul li");this.isFiltering()&&this.itemTemplate&&this.element.tagName===this.getNgDirective()&&n&&s&&n.textContent!==s.textContent&&"EJS-COMBOBOX"!==this.element.tagName&&this.cloneElements(),this.isFilterLayout()&&(T([this.inputWrapper.container],[li.inputFocus]),this.isFilterFocus=!0,this.filterInput.focus(),this.inputWrapper.clearButton&&_([this.inputWrapper.clearButton],li.clearIconHide)),this.activeStateChange()},targetExitViewport:()=>{A.isDevice||this.hidePopup()}})}isEmptyList(){return!h(this.liCollections)&&0===this.liCollections.length}getFocusElement(){}isFilterLayout(){return"dropdownlist"===this.getModuleName()&&this.allowFiltering}scrollHandler(){A.isDevice&&("dropdownlist"===this.getModuleName()&&!this.isFilterLayout()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&this.hidePopup()}setSearchBoxPosition(){const e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";const t=this.filterInput.parentElement.querySelector("."+li.clearIcon);de(this.filterInput),t.parentElement.insertBefore(this.filterInput,t)}setPopupPosition(e){let t;const i=e,n=this.list.querySelector("."+li.focus)||this.selectedLI,s=this.isEmptyList()?this.list:this.liCollections[0],o=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],l=s.getBoundingClientRect().height,a=this.list.offsetHeight/2,c=h(n)?s.offsetTop:n.offsetTop;if(o.offsetTop-a<c&&!h(this.liCollections)&&this.liCollections.length>0&&!h(n)){const p=this.list.offsetHeight/l,g=parseInt(getComputedStyle(this.list).paddingBottom,10);t=(p-(this.liCollections.length-this.activeIndex))*l-i+g,this.list.scrollTop=n.offsetTop}else c>a?(t=a-l/2,this.list.scrollTop=c-a+l/2):t=c;return t=t+l+i-(l-this.inputWrapper.container.offsetHeight)/2,-t}setWidth(){let e=$e(this.popupWidth);if(e.indexOf("%")>-1&&(e=(this.inputWrapper.container.offsetWidth*parseFloat(e)/100).toString()+"px"),A.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){const t=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e}scrollBottom(e){if(!h(this.selectedLI)){const t=this.list.offsetHeight,i=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;let n=this.list.scrollTop+i-t;n=e?n+2*parseInt(getComputedStyle(this.list).paddingTop,10):n;let s=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;s=this.fields.groupBy&&!h(this.fixedHeaderElement)?s-this.fixedHeaderElement.offsetHeight:s,0===this.activeIndex?this.list.scrollTop=0:(i>t||!(s>0&&this.list.offsetHeight>s))&&(this.list.scrollTop=n)}}scrollTop(){if(!h(this.selectedLI)){let e=this.selectedLI.offsetTop-this.list.scrollTop;e=this.fields.groupBy&&!h(this.fixedHeaderElement)?e-this.fixedHeaderElement.offsetHeight:e;const t=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;0===this.activeIndex?this.list.scrollTop=0:e<0?this.list.scrollTop=this.list.scrollTop+e:t>0&&this.list.offsetHeight>t||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!h(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}}isEditTextBox(){return!1}isFiltering(){return this.allowFiltering}isPopupButton(){return!0}setScrollPosition(e){if(h(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.scrollBottom();break;default:this.scrollTop()}}clearText(){this.filterInput.value=this.typedString="",this.searchLists(null)}listScroll(){this.filterInput.blur()}setEleWidth(e){h(e)||("number"==typeof e?this.inputWrapper.container.style.width=$e(e):"string"==typeof e&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:$e(e)))}closePopup(e){if(this.isTyped=!1,!(this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen))return;C.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.filterInputObj=null,this.isDropDownClick=!1,this.preventAutoFill=!1;const t=this.popupObj.getScrollableParent(this.inputWrapper.container);for(const o of t)C.remove(o,"scroll",this.scrollHandler);A.isDevice&&this.isFilterLayout()&&(T([document.body,this.popupObj.element],li.popupFullScreen),C.remove(this.list,"scroll",this.listScroll)),this.isFilterLayout()&&(A.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&C.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&(C.remove(this.backIconElement,"click",this.clickOnBackIcon),C.remove(this.clearIconElement,"click",this.clearText)),C.remove(this.filterInput,"input",this.onInput),C.remove(this.filterInput,"keyup",this.onFilterUp),C.remove(this.filterInput,"keydown",this.onFilterDown),C.remove(this.filterInput,"blur",this.onBlurHandler),C.remove(this.filterInput,"paste",this.pasteHandler),this.filterInput=null),Le(this.targetElement(),{"aria-expanded":"false","aria-activedescendant":null}),this.inputWrapper.container.classList.remove(li.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.beforePopupOpen=!1,this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:e||0}},o=>{if(!h(this.popupObj)&&!h(this.popupObj.element.querySelector(".e-fixed-head"))){const l=this.popupObj.element.querySelector(".e-fixed-head");l.parentNode.removeChild(l),this.fixedHeaderElement=null}o.cancel||("autocomplete"===this.getModuleName()&&this.rippleFun(),this.isPopupOpen?this.popupObj.hide(new _s(o.animation)):this.destroyPopup())})}destroyPopup(){this.isPopupOpen=!1,this.isFilterFocus=!1,this.popupObj.destroy(),de(this.popupObj.element)}clickOnBackIcon(){this.hidePopup(),this.focusIn()}render(){"INPUT"===this.element.tagName?(this.inputElement=this.element,h(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","textbox"),h(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text")):(this.inputElement=this.createElement("input",{attrs:{role:"textbox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));let e=this.cssClass;!h(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=ke.createInput({element:this.inputElement,buttons:this.isPopupButton()?[li.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:"dropdownlist"===this.getModuleName()||this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",tabindex:"-1",class:li.hiddenElement}}),oo([this.hiddenElement],this.inputWrapper.container),this.validationAttribute(this.element,this.hiddenElement),this.setReadOnly(),this.setFields(),this.inputWrapper.container.style.width=$e(this.width),this.inputWrapper.container.classList.add("e-ddl"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");const t=this.element.getAttribute("id")?this.element.getAttribute("id"):Gn("ej2_dropdownlist");if(this.element.id=t,this.hiddenElement.id=t+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),Le(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),null!==this.value||null!==this.activeIndex||null!==this.text)this.initValue();else if("SELECT"===this.element.tagName&&this.element.options[0]){const i=this.element;this.value=i.options[i.selectedIndex].value,this.text=h(this.value)?null:i.options[i.selectedIndex].textContent,this.initValue()}this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=i=>{i.stopImmediatePropagation()},this.inputElement.onchange=i=>{i.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),h(this.text)||this.inputElement.setAttribute("value",this.text),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()}setFooterTemplate(e){let t;this.footer?this.footer.innerHTML="":(this.footer=this.createElement("div"),_([this.footer],li.footer)),t=this.dropdownCompiler(this.footerTemplate)?ci(G(this.footerTemplate,document).innerHTML.trim()):ci(this.footerTemplate);const n=t({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);if(n&&n.length>0)for(let s=0;s<n.length;s++)this.footer.appendChild(n[s]);Jt([this.footer],e)}setHeaderTemplate(e){let t;this.header?this.header.innerHTML="":(this.header=this.createElement("div"),_([this.header],li.header)),t=this.dropdownCompiler(this.headerTemplate)?ci(G(this.headerTemplate,document).innerHTML.trim()):ci(this.headerTemplate);const n=t({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);if(n&&n.length)for(let o=0;o<n.length;o++)this.header.appendChild(n[o]);const s=e.querySelector("div.e-content");e.insertBefore(this.header,s)}setOldText(e){this.text=e}setOldValue(e){this.value=e}refreshPopup(){!h(this.popupObj)&&document.body.contains(this.popupObj.element)&&(this.allowFiltering&&(!A.isDevice||!this.isFilterLayout())||"autocomplete"===this.getModuleName())&&(T([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container),this.popupObj.resolveCollision())}checkData(e){e.dataSource&&!h(Object.keys(e.dataSource))&&this.itemTemplate&&this.allowFiltering&&!(this.isListSearched&&e.dataSource instanceof ie)&&(this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1}),this.isListSearched=!1;const t=-1!==Object.keys(e).indexOf("value")&&h(e.value),i=-1!==Object.keys(e).indexOf("text")&&h(e.text);"autocomplete"!==this.getModuleName()&&this.allowFiltering&&(t||i)&&(this.itemData=null),this.allowFiltering&&e.dataSource&&!h(Object.keys(e.dataSource))?(this.actionCompleteData={ulElement:null,list:null,isUpdated:!1},this.actionData=this.actionCompleteData):this.allowFiltering&&e.query&&!h(Object.keys(e.query))&&(this.actionCompleteData="combobox"===this.getModuleName()?{ulElement:null,list:null,isUpdated:!1}:this.actionCompleteData,this.actionData=this.actionCompleteData)}updateDataSource(e){(""!==this.inputElement.value||!h(e)&&(h(e.dataSource)||!(e.dataSource instanceof ie)&&0===e.dataSource.length))&&this.clearAll(null,e),this.fields.groupBy&&e.fields&&!this.isGroupChecking&&(C.remove(this.list,"scroll",this.setFloatingHeader),C.add(this.list,"scroll",this.setFloatingHeader,this)),(!(!h(e)&&(h(e.dataSource)||!(e.dataSource instanceof ie)&&0===e.dataSource.length))||e.dataSource!==[])&&(this.typedString="",this.resetList(this.dataSource)),!this.isCustomFilter&&!this.isFilterFocus&&document.activeElement!==this.filterInput&&this.checkCustomValue()}checkCustomValue(){this.itemData=this.getDataByValue(this.value);const e=this.getItemData();this.setProperties({text:e.text,value:e.value})}updateInputFields(){"dropdownlist"===this.getModuleName()&&ke.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}onPropertyChanged(e,t){"dropdownlist"===this.getModuleName()&&(this.checkData(e),this.setUpdateInitial(["fields","query","dataSource"],e));for(const i of Object.keys(e))switch(i){case"query":case"dataSource":break;case"htmlAttributes":this.setHTMLAttributes();break;case"width":this.setEleWidth(e.width);break;case"placeholder":ke.setPlaceholder(e.placeholder,this.inputElement);break;case"filterBarPlaceholder":this.filterInput&&ke.setPlaceholder(e.filterBarPlaceholder,this.filterInput);break;case"readonly":"dropdownlist"!==this.getModuleName()&&ke.setReadonly(e.readonly,this.inputElement),this.setReadOnly();break;case"cssClass":this.setCssClass(e.cssClass,t.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnable();break;case"text":if(null===e.text){this.clearAll();break}if(this.list||(this.dataSource instanceof ie&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){const n=this.getElementByText(e.text);if(!this.checkValidLi(n))if(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100)this.setSelectionData(e.text,t.text,"text");else if(e.text&&this.dataSource instanceof ie){const s=this.getItems().length,o=h(this.fields.text)?this.fields.value:this.fields.text;this.typedString="",this.dataSource.executeQuery(this.getQuery(this.query).where(new qt(o,"equal",e.text))).then(l=>{l.result.length>0?(this.addItem(l.result,s),this.updateValues()):this.setOldText(t.text)})}else this.setOldText(t.text);this.updateInputFields()}break;case"value":if(null===e.value){this.clearAll();break}if(this.notify("beforeValueChange",{newProp:e}),this.list||(this.dataSource instanceof ie&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){const n=this.getElementByValue(e.value);if(!this.checkValidLi(n))if(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100)this.setSelectionData(e.value,t.value,"value");else if(e.value&&this.dataSource instanceof ie){const s=this.getItems().length,o=h(this.fields.value)?this.fields.text:this.fields.value;this.typedString="",this.dataSource.executeQuery(this.getQuery(this.query).where(new qt(o,"equal",e.value))).then(l=>{l.result.length>0?(this.addItem(l.result,s),this.updateValues()):this.setOldValue(t.value)})}else this.setOldValue(t.value);this.updateInputFields(),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange}break;case"index":if(null===e.index){this.clearAll();break}this.list||(this.dataSource instanceof ie&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender&&this.liCollections&&(this.checkValidLi(this.liCollections[e.index])||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(e.index,t.index,"index"):this.index=t.index),this.updateInputFields());break;case"footerTemplate":this.popupObj&&this.setFooterTemplate(this.popupObj.element);break;case"headerTemplate":this.popupObj&&this.setHeaderTemplate(this.popupObj.element);break;case"valueTemplate":!h(this.itemData)&&null!=this.valueTemplate&&this.setValueTemplate();break;case"allowFiltering":this.allowFiltering&&(this.actionCompleteData={ulElement:this.ulElement,list:this.listData,isUpdated:!0},this.actionData=this.actionCompleteData,this.updateSelectElementData(this.allowFiltering));break;case"floatLabelType":ke.removeFloating(this.inputWrapper),ke.addFloating(this.inputElement,e.floatLabelType,this.placeholder,this.createElement);break;case"showClearButton":ke.setClearButton(e.showClearButton,this.inputElement,this.inputWrapper,null,this.createElement),this.bindClearEvent();break;default:{const n=this.getPropObject(i,e,t);super.onPropertyChanged(n.newProperty,n.oldProperty)}}}checkValidLi(e){return!!this.isValidLI(e)&&(this.setSelection(e,null),!0)}setSelectionData(e,t,i){let n;this.updateListValues=()=>{"text"===i?(n=this.getElementByText(e),this.checkValidLi(n)||this.setOldText(t)):"value"===i?(n=this.getElementByValue(e),this.checkValidLi(n)||this.setOldValue(t)):"index"===i&&(n=this.liCollections[e],this.checkValidLi(n)||(this.index=t))}}setReadOnly(){this.readonly?_([this.inputWrapper.container],["e-readonly"]):T([this.inputWrapper.container],["e-readonly"])}setCssClass(e,t){h(t)||(t=t.replace(/\s+/g," ").trim()),h(e)||(e=e.replace(/\s+/g," ").trim()),ke.setCssClass(e,[this.inputWrapper.container],t),this.popupObj&&ke.setCssClass(e,[this.popupObj.element],t)}getModuleName(){return"dropdownlist"}showPopup(){if(this.enabled){if(this.isFiltering()&&this.dataSource instanceof ie&&this.actionData.list!==this.actionCompleteData.list&&this.actionData.list&&this.actionData.ulElement&&(this.actionCompleteData=this.actionData,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)),this.beforePopupOpen)return void this.refreshPopup();this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):(h(this.list)||!Et(this.list)&&(this.list.classList.contains("e-nodata")||this.list.querySelectorAll("."+et_li).length<=0))&&this.renderList(),this.invokeRenderPopup()}}invokeRenderPopup(){if(A.isDevice&&this.isFilterLayout()){const e=this;window.onpopstate=()=>{e.hidePopup()},history.pushState({},"")}(!h(this.list.children[0])||this.list.classList.contains("e-nodata"))&&this.renderPopup(),Le(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}renderHightSearch(){}hidePopup(e){if(this.isEscapeKey&&"dropdownlist"===this.getModuleName())if(ke.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,h(this.index))this.resetSelection();else{const n=this.findListElement(this.ulElement,"li","data-value",this.value);this.selectedLI=this.liCollections[this.index]||n,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&null!==this.itemData&&this.setValueTemplate())}this.closePopup();const t=this.getItemData(),i=!h(this.selectedLI);this.inputElement&&""===this.inputElement.value.trim()&&!this.isInteracted&&(this.isSelectCustom||i&&this.inputElement.value!==t.text)&&(this.isSelectCustom=!1,this.clearAll(e))}focusIn(e){if(!this.enabled||this.targetElement().classList.contains(li.disable))return;let t=!1;this.preventFocus&&A.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,t=!0),t||this.targetElement().focus(),_([this.inputWrapper.container],[li.inputFocus]),this.onFocus(e)}focusOut(e){!this.enabled||(this.isTyped=!0,this.hidePopup(e),this.targetElement()&&this.targetElement().blur(),T([this.inputWrapper.container],[li.inputFocus]))}destroy(){if(this.isActive=!1,function kIe(r){B2===r&&(B2="",lO="",yp="",mg=[])}(this.element.id),this.isReact&&this.clearTemplate(),this.hidePopup(),this.unWireEvent(),this.list&&this.unWireListEvents(),!this.element||this.element.classList.contains("e-"+this.getModuleName())){if(this.inputElement){const e=["readonly","aria-disabled","aria-placeholder","placeholder","aria-owns","aria-labelledby","aria-haspopup","aria-expanded","aria-activedescendant","autocomplete","aria-readonly","autocorrect","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"];for(let t=0;t<e.length;t++)this.inputElement.removeAttribute(e[t]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),ke.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)}this.element.style.display="block",this.inputWrapper.container.parentElement.tagName===this.getNgDirective()||this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),de(this.inputWrapper.container),super.destroy()}}getItems(){return this.list||(this.dataSource instanceof ie&&(this.initRemoteRender=!0),this.renderList()),this.ulElement?super.getItems():[]}getDataByValue(e){return super.getDataByValue(e)}clear(){this.value=null}};Gr([y(null)],Sn.prototype,"cssClass",void 0),Gr([y("100%")],Sn.prototype,"width",void 0),Gr([y("300px")],Sn.prototype,"popupHeight",void 0),Gr([y("100%")],Sn.prototype,"popupWidth",void 0),Gr([y(null)],Sn.prototype,"placeholder",void 0),Gr([y(null)],Sn.prototype,"filterBarPlaceholder",void 0),Gr([y({})],Sn.prototype,"htmlAttributes",void 0),Gr([y(null)],Sn.prototype,"query",void 0),Gr([y(null)],Sn.prototype,"valueTemplate",void 0),Gr([y(null)],Sn.prototype,"headerTemplate",void 0),Gr([y(null)],Sn.prototype,"footerTemplate",void 0),Gr([y(!1)],Sn.prototype,"allowFiltering",void 0),Gr([y(!1)],Sn.prototype,"readonly",void 0),Gr([y(null)],Sn.prototype,"text",void 0),Gr([y(null)],Sn.prototype,"value",void 0),Gr([y(null)],Sn.prototype,"index",void 0),Gr([y("Never")],Sn.prototype,"floatLabelType",void 0),Gr([y(!1)],Sn.prototype,"showClearButton",void 0),Gr([E()],Sn.prototype,"filtering",void 0),Gr([E()],Sn.prototype,"change",void 0),Gr([E()],Sn.prototype,"beforeOpen",void 0),Gr([E()],Sn.prototype,"open",void 0),Gr([E()],Sn.prototype,"close",void 0),Gr([E()],Sn.prototype,"blur",void 0),Gr([E()],Sn.prototype,"focus",void 0),Sn=Gr([Pi],Sn);var fi=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const V$="e-ddt-hidden",H$="e-input-group-icon e-ddt-icon e-icons",Fd="e-show-chip",p0="e-show-clear",dO="e-show-dd-icon",ma="e-chip-input",sx="e-input-focus",z$="e-input-group",j$="e-icon-anim",hO="e-chips",G$="e-chipcontent",uO="e-chips-close",As="e-icon-hide",V2="e-ddt-icon-hide",q$="e-list-parent",W$="e-dropdown",U$="e-disabled",H2="e-selectall-parent",z2="e-hide-selectall",$$="e-all-text",pO="e-frame",Jb="e-check",gO="e-checkbox-wrapper",K$="e-filter-wrap",Y$="e-ddt-icon",Q$="e-ddt-footer",X$="e-ddt-header",rx="e-no-data",fO="e-remain",mO="e-overflow",ox="e-show-text",Zb="e-total-count",lx="e-wrap-count";class Sc extends Nt{}fi([y("child")],Sc.prototype,"child",void 0),fi([y([])],Sc.prototype,"dataSource",void 0),fi([y("expanded")],Sc.prototype,"expanded",void 0),fi([y("hasChildren")],Sc.prototype,"hasChildren",void 0),fi([y("htmlAttributes")],Sc.prototype,"htmlAttributes",void 0),fi([y("iconCss")],Sc.prototype,"iconCss",void 0),fi([y("imageUrl")],Sc.prototype,"imageUrl",void 0),fi([y("parentValue")],Sc.prototype,"parentValue",void 0),fi([y(null)],Sc.prototype,"query",void 0),fi([y("selected")],Sc.prototype,"selected",void 0),fi([y(null)],Sc.prototype,"tableName",void 0),fi([y("text")],Sc.prototype,"text",void 0),fi([y("tooltip")],Sc.prototype,"tooltip",void 0),fi([y("value")],Sc.prototype,"value",void 0);class j2 extends Nt{}fi([y(!1)],j2.prototype,"autoCheck",void 0),fi([y("Auto")],j2.prototype,"expandOn",void 0),fi([y(!1)],j2.prototype,"loadOnDemand",void 0);let zi=class extends an{constructor(e,t){super(e,t),this.filterTimer=null,this.isFilteredData=!1,this.isFilterRestore=!1,this.selectedData=[],this.filterDelayTime=300,this.isClicked=!1}getPersistData(){return this.addOnPersist(["value"])}getLocaleName(){return"drop-down-tree"}preRender(){this.inputFocus=!1,this.isPopupOpen=!1,this.isFirstRender=!0,this.isInitialized=!1,this.currentText=null,this.currentValue=null,this.oldValue=null,this.removeValue=!1,this.selectedText=[],this.treeItems=[],this.dataValue=null,this.isNodeSelected=!1,this.isDynamicChange=!1,this.clearIconWidth=0,this.headerTemplateId=`${this.element.id}HeaderTemplate`,this.footerTemplateId=`${this.element.id}FooterTemplate`,this.actionFailureTemplateId=`${this.element.id}ActionFailureTemplate`,this.noRecordsTemplateId=`${this.element.id}NoRecordsTemplate`,this.customTemplateId=`${this.element.id}CustomTemplate`,this.keyConfigs={escape:"escape",altUp:"alt+uparrow",altDown:"alt+downarrow",tab:"tab",shiftTab:"shift+tab",end:"end",enter:"enter",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space",ctrlA:"ctrl+A"}}render(){const e=G("#"+this.element.id+"_tree",document);e&&de(G("#"+this.element.id+"_popup",document)||e.parentElement),this.ensureAutoCheck(),"INPUT"===this.element.tagName?(this.inputEle=this.element,h(this.inputEle.getAttribute("role"))&&this.inputEle.setAttribute("role","textbox"),h(this.inputEle.getAttribute("type"))&&this.inputEle.setAttribute("type","text")):(this.inputEle=this.createElement("input",{attrs:{role:"textbox",type:"text"}}),this.element.parentElement.insertBefore(this.inputEle,this.element)),this.inputObj=ke.createInput({element:this.inputEle,floatLabelType:this.floatLabelType,buttons:this.showDropDownIcon?[H$]:null,properties:{readonly:!0,placeholder:this.placeholder,enabled:this.enabled,cssClass:this.cssClass,enableRtl:this.enableRtl}},this.createElement),this.inputWrapper=this.inputObj.container,this.inputWrapper.classList.contains(z$)||this.inputWrapper.classList.add(z$),this.showDropDownIcon&&this.inputWrapper.classList.add(dO),this.element.tagName===this.getDirective()&&this.element.appendChild(this.inputWrapper),this.createHiddenElement(),this.createClearIcon(),this.inputWrapper.classList.add("e-ddt"),this.setElementWidth(this.width),this.updateDataAttribute(),this.setHTMLAttributes(),this.setAttributes(),this.popupDiv=this.createElement("div",{className:"e-popup-content",attrs:{tabindex:"0"}}),this.popupDiv.classList.add(W$),this.tree=this.createElement("div",{id:this.element.id+"_tree"}),this.popupDiv.appendChild(this.tree),document.body.appendChild(this.popupDiv),this.wireTreeEvents(),_([this.popupDiv],V2),this.renderTree(),this.isRemoteData=this.fields.dataSource instanceof ie,(this.allowMultiSelection||this.showCheckBox)&&("Delimiter"!==this.mode&&this.createChip(),!this.wrapText&&"Custom"!==this.mode&&(this.overFlowWrapper=this.createElement("span",{className:mO+" "+As}),this.inputWrapper.insertBefore(this.overFlowWrapper,this.hiddenElement),"Box"!==this.mode&&_([this.overFlowWrapper],ox))),this.isRemoteData||(this.setTreeValue(),this.setTreeText(),this.updateHiddenValue(),this.setSelectedValue(),this.wrapText||this.updateView()),this.wireEvents();const t=G("."+q$,this.treeObj.element);t&&t.getAttribute("aria-multiselectable")&&t.removeAttribute("aria-multiselectable"),this.oldValue=this.value,this.isInitialized=!0,this.hasTemplate=this.itemTemplate||this.headerTemplate||this.footerTemplate||this.actionFailureTemplate||this.noRecordsTemplate||this.customTemplate,this.renderComplete()}ensureAutoCheck(){this.allowFiltering&&this.treeSettings.autoCheck&&this.setProperties({treeSettings:{autoCheck:!1}},!0)}hideCheckAll(e){const t=h(this.popupEle)?null:this.popupEle.querySelector("."+H2);h(t)||(e&&!t.classList.contains(z2)?_([t],z2):!e&&t.classList.contains(z2)&&T([t],z2))}renderFilter(){this.filterContainer=this.createElement("div",{id:this.element.id+"_filter_wrap",className:K$});const e=this.createElement("input",{id:this.element.id+"_filter",attrs:{autocomplete:"off","aria-label":this.filterBarPlaceholder}});this.filterContainer.appendChild(e),oo([this.filterContainer],this.popupEle),this.filterObj=new co({value:"",showClearButton:!0,placeholder:this.filterBarPlaceholder,input:this.filterChangeHandler.bind(this)}),this.filterObj.appendTo("#"+this.element.id+"_filter")}filterChangeHandler(e){h(e.value)||(window.clearTimeout(this.filterTimer),this.filterTimer=window.setTimeout(()=>{this.filterHandler(e.value,e.event)},this.filterDelayTime))}filterHandler(e,t){this.isFilteredData||(this.treeData=this.treeObj.getTreeData());const i=this.cloneFields(this.fields);this.trigger("filtering",{cancel:!1,preventDefaultAction:!1,event:t,text:e,fields:i},s=>{if(!s.cancel){let l,o=!1;if(this.isFilteredData=!0,""===e?(this.isFilteredData=!1,this.isFilterRestore=!0,l=this.cloneFields(this.fields)):s.preventDefaultAction?l=s.fields:1===this.treeDataType?l=this.selfReferencefilter(e,s.fields):this.fields.dataSource instanceof ie?o=!0:l=this.nestedFilter(e,s.fields),this.hideCheckAll(this.isFilteredData),o)return;this.treeObj.fields=this.getTreeFields(l),this.treeObj.dataBind()}})}nestedFilter(e,t){const i=[];for(let n=0;n<this.treeData.length;n++){const s=this.nestedChildFilter(e,this.treeData[n]);h(s)||i.push(s)}return t.dataSource=i,t}nestedChildFilter(e,t){const i=t[this.fields.child];if(h(i))return this.isMatchedNode(e,t)?t:null;{const n=[];for(let o=0;o<i.length;o++){const l=this.nestedChildFilter(e,i[o]);h(l)||n.push(l)}let s=Object.assign({},t);return 0!==n.length?(s[this.fields.child]=n,s):(s[this.fields.child]=null,this.isMatchedNode(e,s)?s:null)}}selfReferencefilter(e,t){const i=[],n=[];for(let s=0;s<this.treeData.length;s++)this.isMatchedNode(e,this.treeData[s])&&i.push(this.treeData[s]);for(let s=0;s<i.length;s++)if(-1===n.indexOf(i[s])){n.push(i[s]);let o=i[s][this.fields.parentValue];for(;!h(o);){let l=null;for(let a=0;a<this.treeData.length;a++){const c=this.treeData[a][this.fields.value];if(!h(c)&&c===o){l=this.treeData[a];break}}if(h(l)||-1!==n.indexOf(l))break;n.push(l),o=l[this.fields.parentValue]}}return t.dataSource=n,t}isMatchedNode(e,t){let i=t[this.fields.text];return this.ignoreCase&&(i=i.toLowerCase(),e=e.toLowerCase()),this.ignoreAccent&&(i=Ie.ignoreDiacritics(i),e=Ie.ignoreDiacritics(e)),"StartsWith"===this.filterType?i.slice(0,e.length)===e:"EndsWith"===this.filterType?i.slice(-e.length)===e:-1!==i.indexOf(e)}wireEvents(){C.add(this.inputWrapper,"mouseup",this.dropDownClick,this),C.add(this.inputWrapper,"focus",this.focusIn,this),C.add(this.inputWrapper,"blur",this.focusOut,this),C.add(this.inputWrapper,"mousemove",this.mouseIn,this),C.add(this.inputWrapper,"mouseout",this.onMouseLeave,this),C.add(this.overAllClear,"mousedown",this.clearAll,this),C.add(window,"resize",this.windowResize,this);const e=D(this.inputWrapper,"form");e&&C.add(e,"reset",this.resetValueHandler,this),this.keyboardModule=new tn(this.inputWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}wireTreeEvents(){this.keyboardModule=new tn(this.tree,{keyAction:this.treeAction.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}wireCheckAllWrapperEvents(){this.keyboardModule=new tn(this.checkAllParent,{keyAction:this.checkAllAction.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}unWireEvents(){C.remove(this.inputWrapper,"mouseup",this.dropDownClick),C.remove(this.inputWrapper,"focus",this.focusIn),C.remove(this.inputWrapper,"blur",this.focusOut),C.remove(this.inputWrapper,"mousemove",this.mouseIn),C.remove(this.inputWrapper,"mouseout",this.onMouseLeave),C.remove(this.overAllClear,"mousedown",this.clearAll),C.remove(window,"resize",this.windowResize);const e=D(this.inputWrapper,"form");e&&C.remove(e,"reset",this.resetValueHandler)}dropDownClick(e){if(this.enabled&&!this.readonly){if(this.isClearButtonClick)return void(this.isClearButtonClick=!1);this.isPopupOpen?this.hidePopup():(this.focusIn(e),this.renderPopup()),this.showOverAllClear()}}mouseIn(){(this.enabled||!this.readonly)&&this.showOverAllClear()}onMouseLeave(){this.inputFocus||(_([this.overAllClear],As),T([this.inputWrapper],p0))}getDirective(){return"EJS-DROPDOWNTREE"}focusOut(e){if(!this.enabled||this.readonly||!this.inputFocus||(A.isIE||"edge"===A.info.name)&&e.target===this.inputWrapper)return;const t=e.relatedTarget;t!==this.inputEle&&h(t)&&(e.target!==this.inputWrapper||!this.isPopupOpen)&&this.onFocusOut(e)}onFocusOut(e){if(this.inputFocus=!1,this.isPopupOpen&&this.hidePopup(),this.isClearButtonClick&&(this.isClearButtonClick=!1),this.showClearButton&&(this.clearIconWidth=G(".e-clear-icon",this.inputWrapper).offsetWidth,_([this.overAllClear],As),T([this.inputWrapper],p0)),T([this.inputWrapper],[sx]),this.allowMultiSelection||this.showCheckBox){const t=!!this.value&&!!this.value.length;"Delimiter"!==this.mode&&"Custom"!==this.mode&&this.chipWrapper&&"Default"===this.mode&&(_([this.chipWrapper],As),T([this.inputWrapper],Fd),T([this.inputEle],ma)),!this.wrapText&&t&&this.updateView()}this.changeOnBlur&&this.triggerChangeEvent(e),this.removeValue=!1,this.oldValue=this.value,this.trigger("blur")}updateView(){!this.showCheckBox&&!this.allowMultiSelection||"Custom"===this.mode||this.inputFocus||("Box"!==this.mode?_([this.inputWrapper,this.overFlowWrapper],ox):_([this.inputWrapper],Fd),this.value&&0!==this.value.length&&(this.inputWrapper.contains(this.chipWrapper)&&_([this.chipWrapper],As),_([this.inputEle],ma),this.updateOverFlowView(),this.ensurePlaceHolder()))}triggerChangeEvent(e){this.ddtCompareValues(this.oldValue,this.value)&&!this.isChipDelete||this.removeValue||(this.trigger("change",{e,oldValue:this.oldValue,value:this.value,isInteracted:!!e,element:this.element}),this.oldValue=this.value)}ddtCompareValues(e,t){if(null===e||null===t)return(null===e||0===e.length)&&t===e;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}focusIn(e){!this.enabled||this.readonly||this.inputFocus||(this.showOverAllClear(),this.inputFocus=!0,_([this.inputWrapper],[sx]),(this.allowMultiSelection||this.showCheckBox)&&("Delimiter"!==this.mode&&this.inputFocus&&(this.chipWrapper&&this.value&&0!==this.value.length&&(T([this.chipWrapper],As),_([this.inputEle],ma)),_([this.inputWrapper],Fd),this.popupObj&&this.popupObj.refreshPosition()),!this.wrapText&&"Custom"!==this.mode&&(this.inputWrapper.contains(this.overFlowWrapper)&&_([this.overFlowWrapper],As),"Delimiter"===this.mode?(T([this.inputWrapper],Fd),T([this.inputEle],ma)):_([this.inputWrapper],Fd),T([this.inputWrapper],ox),this.ensurePlaceHolder())),this.trigger("focus",{isInteracted:!!e,event:e}))}treeAction(e){this.trigger("keyPress",{cancel:!1,event:e},i=>{if(i.cancel)e.stopImmediatePropagation();else switch(e.action){case"escape":case"altUp":this.inputWrapper.focus(),e.preventDefault(),this.isPopupOpen&&this.hidePopup();break;case"tab":case"shiftTab":this.isPopupOpen&&this.hidePopup();break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":this.showCheckBox||(this.isValueChange=!0,this.keyEventArgs=e);break;case"space":this.isValueChange=!0,this.keyEventArgs=e;break;case"ctrlA":this.allowMultiSelection&&this.selectAll(!0)}})}keyActionHandler(e){this.trigger("keyPress",{cancel:!1,event:e},i=>{if(!i.cancel)switch(e.action){case"escape":case"altUp":this.isPopupOpen&&this.hidePopup();break;case"shiftTab":case"tab":this.isPopupOpen&&this.hidePopup(),this.inputFocus&&this.onFocusOut();break;case"altDown":this.isPopupOpen||(this.showPopup(),e.preventDefault());break;case"moveDown":this.showSelectAll&&this.showCheckBox&&this.checkAllParent.focus()}})}checkAllAction(e){this.trigger("keyPress",{cancel:!1,event:e},i=>{if(!i.cancel)switch(e.action){case"space":this.clickHandler(e);break;case"moveDown":this.treeObj.element.focus()}})}windowResize(){this.popupObj&&(this.popupObj.setProperties({width:this.setWidth()}),this.popupObj.refreshPosition())}resetValueHandler(e){const t=D(this.inputWrapper,"form");t&&e.target===t&&(this.isDynamicChange=!0,this.setProperties({value:null},!0),this.resetValue(!0),this.isDynamicChange=!1)}getAriaAttributes(){return{"aria-disabled":this.enabled?"false":"true","aria-owns":this.element.id+"_options",role:"listbox","aria-haspopup":"true","aria-expanded":"false","aria-activedescendant":"null","aria-labelledby":this.hiddenElement.id}}updateOverFlowView(){if(this.overFlowWrapper.classList.remove(Zb),T([this.overFlowWrapper],As),this.value&&this.value.length){let t,i,n,o,l,e="",s=1,a=0;this.overFlowWrapper.innerHTML="";const c={overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"};this.l10n=new is(this.getLocaleName(),c,this.locale);const d=this.l10n.getConstant("overflowCountTemplate"),u=this.l10n.getConstant("totalCountTemplate"),p=this.createElement("span",{className:fO});this.overFlowWrapper.appendChild(p),p.innerText=d.replace("${count}",this.value.length.toString());const g=p.offsetWidth;if(X(p),this.showDropDownIcon&&(a=G("."+Y$,this.inputWrapper).offsetWidth),!h(this.value))if("Box"!==this.mode)for(let f=0;!h(this.value[f]);f++){if(e+=0===f?"":this.delimiterChar+" ",i=this.getOverflowVal(f),e+=i,i=this.overFlowWrapper.innerHTML,this.overFlowWrapper.innerHTML=e,o=this.overFlowWrapper.offsetWidth,t=this.inputWrapper.offsetWidth,o+a+this.clearIconWidth>t){for(void 0!==n&&""!==n&&(i=n,f=s+1),this.overFlowWrapper.innerHTML=i,l=this.value.length-f,o=this.overFlowWrapper.offsetWidth;o+g+a+this.clearIconWidth>=t&&0!==o&&""!==this.overFlowWrapper.innerHTML;){const m=this.overFlowWrapper.innerHTML.split(this.delimiterChar);m.pop(),this.overFlowWrapper.innerHTML=m.join(this.delimiterChar),l++,o=this.overFlowWrapper.offsetWidth}break}o+g+a+this.clearIconWidth<=t?(n=e,s=f):0===f&&(n="",s=-1)}else{_([this.chipWrapper],As);const f=this.chipWrapper.cloneNode(!0),m=gt("."+hO,f);for(let v=0;v<m.length;v++){if(i=this.overFlowWrapper.innerHTML,this.overFlowWrapper.appendChild(m[v]),e=this.overFlowWrapper.innerHTML,o=this.overFlowWrapper.offsetWidth,t=this.inputWrapper.offsetWidth,o+a+this.clearIconWidth>t){for(void 0!==n&&""!==n&&(i=n,v=s+1),this.overFlowWrapper.innerHTML=i,l=this.value.length-v,o=this.overFlowWrapper.offsetWidth;o+g+a+this.clearIconWidth>=t&&0!==o&&""!==this.overFlowWrapper.innerHTML;)this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild),l++,o=this.overFlowWrapper.offsetWidth;break}o+g+a+this.clearIconWidth<=t?(n=e,s=v):0===v&&(n="",s=-1)}}l>0&&this.overFlowWrapper.appendChild(this.updateRemainTemplate(p,l,d,u)),"Box"===this.mode&&!this.overFlowWrapper.classList.contains(Zb)&&_([p],lx)}else this.overFlowWrapper.innerHTML="",_([this.overFlowWrapper],As);this.updateDelimMode()}updateRemainTemplate(e,t,i,n){return this.overFlowWrapper.firstChild&&3===this.overFlowWrapper.firstChild.nodeType&&""===this.overFlowWrapper.firstChild.nodeValue&&this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild),e.innerHTML="",e.innerText=!this.overFlowWrapper.firstChild||3!==this.overFlowWrapper.firstChild.nodeType&&"Box"!==this.mode?n.replace("${count}",t.toString()):i.replace("${count}",t.toString()),!this.overFlowWrapper.firstChild||3!==this.overFlowWrapper.firstChild.nodeType&&"Box"!==this.mode?(_([this.overFlowWrapper],Zb),T([this.overFlowWrapper],lx)):T([this.overFlowWrapper],Zb),e}getOverflowVal(e){const t=this.getSelectedData(this.value[e]);return M(this.treeSettings.loadOnDemand?this.fields.text:"text",t)}updateDelimMode(){"Box"!==this.mode?G("."+fO,this.overFlowWrapper)&&!this.overFlowWrapper.classList.contains(Zb)?(_([this.overFlowWrapper],lx),_([this.overFlowWrapper],ox)):(this.overFlowWrapper.classList.remove(lx),T([this.overFlowWrapper],lx)):G("."+fO,this.overFlowWrapper)&&this.overFlowWrapper.classList.remove(lx)}createHiddenElement(){this.hiddenElement=this.createElement("select",this.allowMultiSelection||this.showCheckBox?{attrs:{"aria-hidden":"true",class:V$,tabindex:"-1",multiple:""}}:{attrs:{"aria-hidden":"true",tabindex:"-1",class:V$}}),oo([this.hiddenElement],this.inputWrapper),this.validationAttribute()}createClearIcon(){this.overAllClear=this.createElement("span",{className:"e-clear-icon e-icons"}),_([this.overAllClear],As),T([this.inputWrapper],p0),this.showClearButton&&this.inputWrapper.insertBefore(this.overAllClear,this.inputObj.buttons[0])}validationAttribute(){const e=this.inputEle.getAttribute("name")?this.inputEle.getAttribute("name"):this.inputEle.getAttribute("id");this.hiddenElement.setAttribute("name",e),this.inputEle.removeAttribute("name");const t=["required","aria-required","form"];for(let i=0;i<t.length;i++){const n=this.inputEle.getAttribute(t[i]);n&&(this.hiddenElement.setAttribute(t[i],n),this.inputEle.removeAttribute(t[i]))}}createChip(){this.inputWrapper.contains(this.chipWrapper)||(this.chipWrapper=this.createElement("span",{className:"e-chips-wrapper"}),this.chipCollection=this.createElement("span",{className:"e-chips-collection"}),this.chipWrapper.appendChild(this.chipCollection),this.inputWrapper.insertBefore(this.chipWrapper,this.hiddenElement),_([this.inputWrapper],Fd),this.getValidMode()&&null!==this.value&&this.value&&0!==this.value.length?_([this.inputEle],ma):(null===this.value||this.value&&0===this.value.length)&&_([this.chipWrapper],As))}getValidMode(){return!(!this.allowMultiSelection&&!this.showCheckBox||"Box"!==this.mode&&("Default"!==this.mode||!this.inputFocus))}createSelectAllWrapper(){this.checkAllParent=this.createElement("div",{className:H2,attrs:{tabindex:"0"}}),this.selectAllSpan=this.createElement("span",{className:$$}),this.selectAllSpan.textContent="";const t=h(D(this.element,".e-bigger"))?"":"e-small";this.checkBoxElement=tl(this.createElement,!0,{cssClass:t}),this.checkBoxElement.setAttribute("role","checkbox"),this.checkAllParent.appendChild(this.checkBoxElement),this.checkAllParent.appendChild(this.selectAllSpan),this.setLocale(),C.add(this.checkAllParent,"mouseup",this.clickHandler,this),this.wireCheckAllWrapperEvents()}clickHandler(e){let t;if(t=e.currentTarget&&e.currentTarget.classList.contains(H2)?e.currentTarget.firstElementChild.lastElementChild:e.target,this.checkWrapper=D(t,"."+gO),!h(this.checkWrapper)){this.isClicked=!0;const i=G("."+pO,this.checkWrapper);this.changeState(this.checkWrapper,i.classList.contains(Jb)?"uncheck":"check",e),this.isClicked=!1}e.preventDefault()}changeState(e,t,i){let n;const s=e.getElementsByClassName(pO)[0];"check"!==t||s.classList.contains(Jb)?"uncheck"===t&&s.classList.contains(Jb)&&(s.classList.remove(Jb),n="false",this.isReverseUpdate||(this.treeObj.uncheckAll(),this.changeOnBlur||this.triggerChangeEvent(i)),this.setLocale(!1)):(s.classList.add(Jb),n="true",this.isReverseUpdate||(this.treeObj.checkAll(),this.changeOnBlur||this.triggerChangeEvent(i)),this.setLocale(!0)),this.setMultiSelect(),this.ensurePlaceHolder(),n="check"===t?"true":"false",h(n)||e.setAttribute("aria-checked",n)}setLocale(e){if(this.selectAllSpan)if("Select All"!==this.selectAllText||"Unselect All"!==this.unSelectAllText){const t=e?this.unSelectAllText:this.selectAllText;this.selectAllSpan.textContent="";const i=ci(t),n=e?"unSelectAllText":"selectAllText";for(const s of i({},this,n,null,!this.isStringTemplate))this.selectAllSpan.textContent=s.textContent}else this.selectAllSpan.textContent=e?this.unSelectAllText:this.selectAllText}setAttributes(){this.inputEle.setAttribute("tabindex","-1");const e=this.element.getAttribute("id");this.hiddenElement.id=e+"_hidden",this.inputWrapper.setAttribute("tabindex","0"),Le(this.inputWrapper,this.getAriaAttributes())}setHTMLAttributes(){if(Object.keys(this.htmlAttributes).length)for(const e of Object.keys(this.htmlAttributes))if("class"===e)this.inputWrapper.classList.add(this.htmlAttributes[e]);else if("disabled"===e&&"disabled"===this.htmlAttributes[e])this.setProperties({enabled:!1},!0),this.setEnable();else if("readonly"!==e||h(this.htmlAttributes[e]))if("style"===e)this.inputWrapper.setAttribute("style",this.htmlAttributes[e]);else{const t=["title","id","placeholder","aria-placeholder","role","autocorrect","autocomplete","autocapitalize","spellcheck","minlength","maxlength"],i=["name","required"];0===e.indexOf("data")||i.indexOf(e)>-1?this.hiddenElement.setAttribute(e,this.htmlAttributes[e]):t.indexOf(e)>-1?"placeholder"===e?ke.setPlaceholder(this.htmlAttributes[e],this.inputEle):this.inputEle.setAttribute(e,this.htmlAttributes[e]):this.inputWrapper.setAttribute(e,this.htmlAttributes[e])}else this.setProperties({readonly:!0},!0),this.dataBind()}updateDataAttribute(){const e=this.htmlAttributes,t=["class","style","id","type"],i={};for(let n=0;n<this.element.attributes.length;n++)-1===t.indexOf(this.element.attributes[n].name)&&"readonly"!==this.element.attributes[n].name&&(i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name));O(i,e,i),this.setProperties({htmlAttributes:i},!0)}showOverAllClear(){!this.enabled||this.readonly||this.overAllClear&&(this.value&&this.value.length&&this.showClearButton?(T([this.overAllClear],As),_([this.inputWrapper],p0)):(_([this.overAllClear],As),T([this.inputWrapper],p0)))}setTreeValue(){if(null!==this.value&&0!==this.value.length){let e;if(this.showCheckBox||this.allowMultiSelection){for(let t=0;t<this.value.length;t++)e=this.treeObj.getTreeData(this.value[t])[0],h(e)&&this.value.splice(this.value.indexOf(this.value[t]),1);0!==this.value.length&&this.setValidValue()}else e=this.treeObj.getTreeData(this.value[0])[0],h(e)?this.setProperties({value:this.currentValue},!0):(this.setProperties({text:e[this.fields.text]},!0),this.setValidValue())}}setTreeText(){if((null===this.value||this.isInitialized)&&null!==this.text){let e;const t=[];if(this.showCheckBox||this.allowMultiSelection){const i=this.text.split(this.delimiterChar);for(let n=0;n<i.length;n++)e=this.getItems(i[n]),h(e)||t.push(e[this.fields.value].toString());0!==t.length?(this.oldValue=this.value,this.setProperties({value:t},!0),this.setValidValue()):this.setProperties({text:this.currentText},!0)}else e=this.getItems(this.text),h(e)?this.setProperties({text:this.currentText},!0):(this.oldValue=this.value,this.setProperties({value:[e[this.fields.value].toString()]},!0),this.setValidValue())}}setSelectedValue(){null==this.value&&(this.isInitialized||(this.oldValue=this.value,this.treeObj.selectedNodes.length>0&&!this.showCheckBox?(this.setProperties({value:this.treeObj.selectedNodes},!0),this.allowMultiSelection&&this.updateMode()):this.showCheckBox&&this.treeObj.checkedNodes&&this.treeObj.checkedNodes.length>0&&(this.setProperties({value:this.treeObj.checkedNodes},!0),Ne("selectedNodes",[],this.treeObj),this.treeObj.dataBind(),this.updateMode()),this.updateSelectedValues(),this.currentText=this.text,this.currentValue=this.value))}setValidValue(){if(this.showCheckBox||this.allowMultiSelection)this.showCheckBox?(this.value.filter(t=>-1===this.treeObj.checkedNodes.indexOf(t)).length>0||this.treeSettings.autoCheck)&&(this.treeObj.checkedNodes=this.value.slice(),this.treeObj.dataBind(),this.setMultiSelect()):(this.treeObj.selectedNodes=this.value.slice(),this.selectedText=[],this.updateSelectedValues()),this.treeObj.dataBind();else{ke.setValue(this.text,this.inputEle,this.floatLabelType);const e=this.value[0].toString();this.treeObj.selectedNodes[0]!==e&&Ne("selectedNodes",[e],this.treeObj)}this.currentText=this.text,this.currentValue=this.value,this.isInitialized&&this.triggerChangeEvent()}getItems(e){let t;if(1===this.treeDataType)for(let i=0;i<this.treeItems.length;i++){const n=M(this.fields.text,this.treeItems[i]);if(!h(this.treeItems[i])&&!h(n)&&n===e){t=this.treeItems[i];break}}else t=this.getNestedItems(this.treeItems,this.fields,e);return t}getNestedItems(e,t,i){let n;for(let s=0,o=e.length;s<o;s++){const l=M(this.fields.text,e[s]);if(e[s]&&l&&l.toString()===i)return e[s];if("string"!=typeof t.child||h(M(t.child,e[s]))){if(this.fields.dataSource instanceof ie&&!h(M("child",e[s]))&&(n=this.getNestedItems(M("child",e[s]),this.getChildType(t),i),void 0!==n))break}else{const a=M(t.child,e[s]);if(n=this.getNestedItems(a,this.getChildType(t),i),void 0!==n)break}}return n}getChildType(e){return"string"==typeof e.child||h(e.child)?e:e.child}renderTree(){this.treeObj=new Yi({fields:this.getTreeFields(this.fields),enableRtl:this.enableRtl,nodeSelected:this.onNodeSelected.bind(this),nodeChecked:this.onNodeChecked.bind(this),nodeChecking:this.beforeCheck.bind(this),actionFailure:this.onActionFailure.bind(this),nodeClicked:this.onNodeClicked.bind(this),dataBound:this.OnDataBound.bind(this),allowMultiSelection:this.allowMultiSelection,showCheckBox:this.showCheckBox,autoCheck:this.treeSettings.autoCheck,sortOrder:this.sortOrder,expandOn:this.treeSettings.expandOn,loadOnDemand:this.treeSettings.loadOnDemand,nodeSelecting:this.onBeforeSelect.bind(this),nodeTemplate:this.itemTemplate}),this.treeObj.root=this.root?this.root:this,this.treeObj.appendTo("#"+this.tree.id)}renderPopup(){this.isFilteredData&&(this.filterObj.value="",this.treeObj.fields=this.getTreeFields(this.fields),this.isFilterRestore=!0,this.isFilteredData=!1,this.hideCheckAll(!1));let e=!1;this.trigger("beforeOpen",{cancel:!1},i=>{if(i.cancel?e=!0:(_([this.inputWrapper],[j$]),this.isFirstRender?(this.popupEle=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddt e-popup "+(null!=this.cssClass?this.cssClass:"")}),document.body.appendChild(this.popupEle),this.createPopup(this.popupEle)):this.popupEle=this.popupObj.element),this.isFirstRender&&!e&&(oo([this.popupDiv],this.popupEle),T([this.popupDiv],V2),this.allowFiltering&&this.renderFilter(),this.showCheckBox&&this.showSelectAll&&!this.popupDiv.classList.contains(rx)&&(this.createSelectAllWrapper(),this.popupEle.insertBefore(this.checkAllParent,this.popupDiv)),this.headerTemplate&&this.setHeaderTemplate(),this.footerTemplate&&this.setFooterTemplate(),this.isFirstRender=!1,this.hasTemplate&&this.portals&&(this.portals=this.portals.concat(this.treeObj.portals),this.renderReactTemplates())),!e){if(Le(this.inputWrapper,{"aria-expanded":"true"}),this.popupObj.show(null,1e3===this.zIndex?this.inputEle:null),T([this.popupEle],V2),this.updatePopupHeight(),this.popupObj.refreshPosition(),!(this.showCheckBox&&this.showSelectAll)&&!this.popupDiv.classList.contains(rx)&&this.treeItems.length>0&&this.treeObj.element.focus(),this.checkSelectAll&&this.checkBoxElement){const s=D(this.checkBoxElement,"."+gO);this.changeState(s,"check"),this.checkSelectAll=!1}this.allowFiltering&&(T([this.inputWrapper],[sx]),this.filterObj.element.focus()),this.trigger("open",{popup:this.popupObj})}})}updatePopupHeight(){if(this.isFirstRender)return;let e=this.getHeight();if(this.popupEle.style.maxHeight=e,this.allowFiltering){const i=Math.round(this.filterContainer.getBoundingClientRect().height);e=$e(parseInt(e,10)-i+"px")}if(this.headerTemplate){const i=Math.round(this.header.getBoundingClientRect().height);e=$e(parseInt(e,10)-i+"px")}if(this.showCheckBox&&this.showSelectAll){const i=Math.round(this.checkAllParent.getBoundingClientRect().height);e=$e(parseInt(e,10)-i+"px")}if(this.footerTemplate){const i=Math.round(this.footer.getBoundingClientRect().height);e=$e(parseInt(e,10)-i+"px")}let t=parseInt(window.getComputedStyle(this.popupEle).borderTopWidth,10);t+=parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth,10),e=$e(parseInt(e,10)-t+"px"),this.popupDiv.style.maxHeight=e}createPopup(e){this.isFirstRender&&(this.popupObj=new wc(e,{width:this.setWidth(),targetType:"relative",collision:{X:"flip",Y:"flip"},relateTo:this.inputWrapper,zIndex:this.zIndex,enableRtl:this.enableRtl,position:{X:"left",Y:"bottom"},close:()=>{this.isPopupOpen=!1},open:()=>{C.add(document,"mousedown",this.onDocumentClick,this),this.isPopupOpen=!0},targetExitViewport:()=>{A.isDevice||this.hidePopup()}}))}setElementWidth(e){const t=this.inputWrapper;h(e)||("number"==typeof e?t.style.width=$e(e):"string"==typeof e&&(t.style.width=e.match(/px|%|em/)?e:$e(e)))}setWidth(){let e=$e(this.popupWidth);return e.indexOf("%")>-1?e=(this.inputWrapper.offsetWidth*parseFloat(e)/100).toString()+"px":"string"==typeof this.popupWidth&&(e=this.popupWidth.match(/px|em/)?this.popupWidth:e),e}getHeight(){let e=$e(this.popupHeight);return e.indexOf("%")>-1?e=(document.documentElement.clientHeight*parseFloat(e)/100).toString()+"px":"string"==typeof this.popupHeight&&(e=this.popupHeight.match(/px|em/)?this.popupHeight:e),e}onDocumentClick(e){const t=e.target,i=D(t,"."+q$),n=D(t,"."+K$),s=D(t,"."+X$),o=D(t,"."+Q$),l=!!t.classList.contains(W$)||Um(t,".e-ddt .e-popup")||Um(t,".e-ddt .e-treeview");this.isPopupOpen&&(this.inputWrapper.contains(t)||i||n||l||s||o)||(this.allowMultiSelection||this.showCheckBox)&&(this.isPopupOpen&&t.classList.contains(uO)||this.isPopupOpen&&(t.classList.contains(H2)||t.classList.contains($$)||t.classList.contains(pO)))?(this.isDocumentClick=!1,e.preventDefault()):!this.inputWrapper.contains(t)&&this.inputFocus&&this.focusOut(e)}onActionFailure(e){this.trigger("actionFailure",e),this.l10nUpdate(!0),_([this.popupDiv],rx)}OnDataBound(e){this.treeItems=e.data,this.treeItems.length<=0?(this.l10nUpdate(),_([this.popupDiv],rx),this.hideCheckAll(!0)):this.popupDiv.classList.contains(rx)&&this.treeItems.length>=1&&(T([this.popupDiv],rx),this.hideCheckAll(!1)),this.treeDataType=this.getTreeDataType(this.treeItems,this.fields),this.isFirstRender&&this.isRemoteData&&(this.setTreeValue(),this.setTreeText(),this.updateHiddenValue(),this.setSelectedValue(),this.wrapText||this.updateView(),this.treeObj.element.focus()),this.trigger("dataBound",{data:e.data}),this.isFilteredData&&this.treeObj.expandAll(),this.isFilterRestore&&(this.restoreFilterSelection(),this.isFilterRestore=!1)}restoreFilterSelection(){this.showCheckBox?this.treeObj.checkedNodes=this.value?this.value:[]:this.treeObj.selectedNodes=this.value?this.value:[]}setCssClass(e,t){const i=this.popupObj?[this.inputWrapper,this.popupObj.element]:[this.inputWrapper];!h(t)&&""!==t&&T(i,t.split(" ")),!h(e)&&""!==e&&_(i,e.split(" "))}setEnableRTL(e){e?this.inputWrapper.classList.add("e-rtl"):this.inputWrapper.classList.remove("e-rtl"),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind()),this.treeObj&&(this.treeObj.enableRtl=e,this.treeObj.dataBind())}setEnable(){ke.setEnabled(this.enabled,this.inputEle),this.enabled?(T([this.inputWrapper],U$),this.inputEle.setAttribute("aria-disabled","false"),this.inputWrapper.setAttribute("aria-disabled","false")):(this.isPopupOpen&&this.hidePopup(),_([this.inputWrapper],U$),this.inputWrapper&&this.inputWrapper.classList.contains(sx)&&T([this.inputWrapper],[sx]),this.inputEle.setAttribute("aria-disabled","true"),this.inputWrapper.setAttribute("aria-disabled","true"))}cloneFields(e){return{dataSource:e.dataSource,value:e.value,text:e.text,parentValue:e.parentValue,child:this.cloneChildField(e.child),hasChildren:e.hasChildren,expanded:e.expanded,iconCss:e.iconCss,imageUrl:e.imageUrl,htmlAttributes:e.htmlAttributes,query:e.query,selected:e.selected,tableName:e.tableName,tooltip:e.tooltip}}cloneChildField(e){return"string"==typeof e?e:{dataSource:e.dataSource,value:e.value,text:e.text,parentValue:e.parentValue,child:e.child?this.cloneChildField(e.child):null,hasChildren:e.hasChildren,expanded:e.expanded,iconCss:e.iconCss,imageUrl:e.imageUrl,htmlAttributes:e.htmlAttributes,query:e.query,selected:e.selected,tableName:e.tableName,tooltip:e.tooltip}}getTreeFields(e){return{dataSource:e.dataSource,id:e.value,text:e.text,parentID:e.parentValue,child:this.getTreeChildren(e.child),hasChildren:e.hasChildren,expanded:e.expanded,iconCss:e.iconCss,imageUrl:e.imageUrl,isChecked:e.selected,htmlAttributes:e.htmlAttributes,query:e.query,selected:e.selected,tableName:e.tableName,tooltip:e.tooltip}}getTreeChildren(e){if("string"==typeof e)return e;if(!h(e)){const t=e=this.getActualProperties(e);return e.value&&(t.id=e.value),e.parentValue&&(t.parentID=e.parentValue),e.child&&(t.child=this.getTreeChildren(e.child)),e.selected&&this.showCheckBox&&(t.isChecked=e.selected),t}return null}getTreeDataType(e,t){if(this.fields.dataSource instanceof ie){for(let i=0;i<e.length;i++)if("string"==typeof t.child&&h(M(t.child,e[i])))return 1;return 2}this.fields.dataSource=h(this.fields.dataSource)?[]:this.fields.dataSource;for(let i=0,n=this.fields.dataSource.length;i<n;i++){if("string"==typeof t.child&&!h(M(t.child,this.fields.dataSource[i])))return 2;if(!h(M(t.parentValue,this.fields.dataSource[i]))||!h(M(t.hasChildren,this.fields.dataSource[i])))return 1}return 1}setFields(){this.resetValue(),this.hasTemplate&&this.updateTemplate(),this.treeObj.fields=this.getTreeFields(this.fields),this.treeObj.dataBind()}getEventArgs(e){let n;return this.showCheckBox&&("check"===e.action?n="select":"uncheck"===e.action&&(n="un-select")),{action:this.showCheckBox?n:e.action,isInteracted:!!this.isClicked||e.isInteracted,item:e.node,itemData:this.showCheckBox?e.data[0]:e.nodeData}}onBeforeSelect(e){e.isInteracted&&(this.oldValue=this.value?this.value.slice():this.value,null===this.value&&this.setProperties({value:[]},!0))}updateHiddenValue(){this.allowMultiSelection||this.showCheckBox||(this.hiddenElement.innerHTML=this.value&&this.value.length?'<option selected value ="'+this.value[0]+'">'+this.text+"</option>":"")}onNodeSelected(e){if(this.showCheckBox)return;let t;if(e.isInteracted){const n=M("id",e.nodeData).toString();this.allowMultiSelection?this.allowMultiSelection&&this.setMultiSelect():(this.hiddenElement.innerHTML="",this.setProperties({value:[n]},!0),t=this.itemTemplate?M("text",this.treeObj.getNode(n)):M("text",e.nodeData).toString(),ke.setValue(t,this.inputEle,this.floatLabelType),this.setProperties({text:t},!0),this.currentText=this.text,this.currentValue=this.value,Le(this.inputWrapper,{"aria-describedby":this.element.id}),Le(this.inputWrapper,{"aria-activedescendant":n.toString()}),this.updateHiddenValue(),this.showOverAllClear(),this.hidePopup(),this.isNodeSelected=!0)}const i=this.getEventArgs(e);this.trigger("select",i),this.isValueChange&&!this.changeOnBlur&&(this.triggerChangeEvent(this.keyEventArgs),this.isValueChange=!1)}onNodeClicked(e){!this.changeOnBlur&&this.isNodeSelected&&(this.triggerChangeEvent(e.event),this.isNodeSelected=!1);const t=e.event.target;(t.classList.contains("e-fullrow")||t.classList.contains("e-list-text"))&&this.showCheckBox&&(this.isClicked=!0,"true"===this.treeObj.getNode(e.node).isChecked?this.treeObj.uncheckAll([e.node]):this.treeObj.checkAll([e.node]),this.isClicked=!1,this.setMultiSelect(),this.ensurePlaceHolder()),!this.changeOnBlur&&(this.allowMultiSelection||this.showCheckBox)&&this.triggerChangeEvent(e.event)}onNodeChecked(e){const t=this.getEventArgs(e);if(this.trigger("select",t),this.isFilteredData&&"uncheck"===e.action){const i=M("id",e.data[0]).toString();this.removeSelectedData(i,!0)}if(!this.isChipDelete&&e.isInteracted&&(this.setMultiSelect(),this.ensurePlaceHolder()),this.showSelectAll&&this.checkBoxElement){const i=this.treeObj.element.querySelectorAll("li"),n=this.treeObj.element.querySelectorAll("li .e-checkbox-wrapper[aria-checked=true]"),s=D(this.checkBoxElement,"."+gO);s&&"uncheck"===e.action?(this.isReverseUpdate=!0,this.changeState(s,"uncheck"),this.isReverseUpdate=!1):s&&"check"===e.action&&n.length===i.length&&(this.isReverseUpdate=!0,this.changeState(s,"check"),this.isReverseUpdate=!1)}}beforeCheck(e){e.isInteracted&&(this.oldValue=this.value?this.value.slice():this.value)}updateClearButton(e){if(e?this.inputWrapper.contains(this.overAllClear)?(T([this.overAllClear],As),_([this.inputWrapper],p0)):this.inputEle.parentElement.insertBefore(this.overAllClear,this.inputEle.nextSibling):(_([this.overAllClear],As),T([this.inputWrapper],p0)),(this.allowMultiSelection||this.showCheckBox)&&this.chipWrapper){const t=gt("."+uO,this.chipWrapper);for(let i=0;i<t.length;i++)e?T([t[i]],As):_([t[i]],As)}}updateDropDownIconState(e){const t=G("."+Y$,this.inputWrapper);e?(t?T([t],As):ke.appendSpan(H$,this.inputWrapper,this.createElement),_([this.inputWrapper],dO)):(_([t],As),T([this.inputWrapper],dO))}updateMode(){if("Custom"!==this.mode)if("Delimiter"!==this.mode){this.inputWrapper.contains(this.chipWrapper)||this.createChip();const e=this.getValidMode();this.chipWrapper.classList.contains(As)&&e?(T([this.chipWrapper],As),_([this.inputWrapper],Fd)):e||(_([this.chipWrapper],As),T([this.inputWrapper],Fd));const t=null!==this.value&&0!==this.value.length;e&&t?_([this.inputEle],ma):T([this.inputEle],ma)}else this.inputEle.classList.contains(ma)&&(T([this.inputEle],ma),this.chipWrapper&&(_([this.chipWrapper],As),T([this.inputWrapper],Fd)))}ensurePlaceHolder(){this.value&&0===this.value.length&&(T([this.inputEle],ma),this.chipWrapper&&_([this.chipWrapper],As))}ensureClearIconPosition(e){"Never"!==e&&this.inputWrapper.insertBefore(this.overAllClear,this.inputObj.buttons[0])}setMultiSelectValue(e){if(this.isFilteredData){const t=h(this.value)?[]:this.value;for(let i=0;i<e.length;i++)(h(this.value)||-1===this.value.indexOf(e[i]))&&t.push(e[i]);this.setProperties({value:t},!0)}else this.setProperties({value:e},!0),e&&0!==e.length&&!this.showCheckBox&&(this.treeObj.selectedNodes=this.value.slice(),this.treeObj.dataBind())}setMultiSelect(){this.showCheckBox&&!this.isDynamicChange?this.setMultiSelectValue(this.treeObj.checkedNodes.slice()):(this.setMultiSelectValue(this.allowMultiSelection?this.showCheckBox?this.treeObj.checkedNodes:this.treeObj.selectedNodes:this.value?this.showCheckBox?this.value:[this.value[0]]:null),this.showCheckBox&&null!==this.value&&(this.treeObj.checkedNodes=this.value,this.treeObj.dataBind())),this.selectedText=[];const e=!!this.allowMultiSelection||!!this.showCheckBox;this.inputWrapper.contains(this.chipWrapper)&&!e&&(T([this.inputEle],ma),de(this.chipWrapper)),this.getValidMode()&&null!==this.value&&(_([this.inputEle],ma),this.chipWrapper&&T([this.chipWrapper],As)),this.chipWrapper&&"Box"===this.mode&&!(this.value&&this.value.length)&&(_([this.chipWrapper],As),T([this.inputEle],ma)),this.updateSelectedValues()}getSelectedData(e){let t=null;if(this.isFilteredData)for(let i=0;i<this.selectedData.length;i++)if(M(this.treeSettings.loadOnDemand?this.fields.value:"id",this.selectedData[i]).toString()===e){t=this.selectedData[i];break}return h(t)&&(t=this.treeSettings.loadOnDemand?this.getNodeData(e):this.treeObj.getNode(e),h(t)||this.selectedData.push(t)),t}getNodeData(e){let t;if(h(e))return t;if(1!==this.treeDataType)return this.getChildNodeData(this.treeItems,this.fields,e);for(let i=0,n=this.treeItems.length;i<n;i++){const s=M(this.fields.value,this.treeItems[i]);if(!h(this.treeItems[i])&&!h(s)&&s.toString()===e)return this.treeItems[i]}return t}getChildNodeData(e,t,i){let n;if(h(e))return n;for(let s=0,o=e.length;s<o;s++){const l=M(t.value,e[s]);if(e[s]&&l&&l.toString()===i)return e[s];if("string"!=typeof t.child||h(M(t.child,e[s]))){if(this.fields.dataSource instanceof ie&&!h(M("child",e[s]))&&(n=this.getChildNodeData(M("child",e[s]),this.getChildMapperFields(t),i),void 0!==n))break}else{const a=M(t.child,e[s]);if(n=this.getChildNodeData(a,this.getChildMapperFields(t),i),void 0!==n)break}}return n}getChildMapperFields(e){return"string"==typeof e.child||h(e.child)?e:e.child}removeSelectedData(e,t){const i=h(this.value)?[]:this.value.slice();i.splice(i.indexOf(e),1),this.setProperties({value:i},t);for(let n=0;n<this.selectedData.length;n++)if(M(this.treeSettings.loadOnDemand?this.fields.value:"id",this.selectedData[n]).toString()===e){this.selectedData.splice(n,1);break}}updateSelectedValues(){this.dataValue="";let e,t,n,i="";this.hiddenElement.innerHTML="";let s="";if((!this.isChipDelete||this.treeSettings.autoCheck)&&this.inputWrapper.contains(this.chipWrapper)&&(this.chipCollection.innerHTML=""),this.isFilteredData||(this.selectedData=[]),!h(this.value)){for(let l=0,a=this.value.length;l<a;l++)n=this.getSelectedData(this.value[l]),t=M(this.treeSettings.loadOnDemand?this.fields.text:"text",n),this.selectedText.push(t),e=this.selectedText[this.selectedText.length-1],this.selectedText.length>1?(this.dataValue+=this.delimiterChar+" "+e,i+=","+e):(this.dataValue+=e,i+=e),"Custom"!==this.mode&&"Delimiter"!==this.mode&&(!this.isChipDelete||this.treeSettings.autoCheck)&&(this.allowMultiSelection||this.showCheckBox)&&this.setChipValues(e,this.value[l]),s+='<option selected value ="'+this.value[l]+'">'+this.selectedText[this.selectedText.length-1]+"</option>";this.selectedText.length>=1&&this.setProperties({text:i},!0),this.hiddenElement.innerHTML=s,"Custom"===this.mode&&(this.allowMultiSelection||this.showCheckBox)&&this.setTagValues()}const o=this.getValidMode();"Custom"!==this.mode&&"Box"!==this.mode&&(this.allowMultiSelection||this.showCheckBox)&&!o&&this.chipWrapper&&(_([this.chipWrapper],As),T([this.inputWrapper],Fd)),ke.setValue(this.dataValue,this.inputEle,this.floatLabelType),this.setProperties(""===i?{text:null}:{text:i},!0),this.showClearButton&&this.inputFocus&&this.showOverAllClear(),(this.allowMultiSelection||this.showCheckBox)&&this.popupObj&&this.popupObj.refreshPosition(),this.currentText=this.text,this.currentValue=this.value}setChipValues(e,t){this.inputWrapper.contains(this.chipWrapper)||this.createChip();const i=this.createElement("span",{className:hO,attrs:{"data-value":t}}),n=this.createElement("span",{className:G$}),s=this.createElement("span",{className:uO+" e-icons"});n.innerHTML=e,i.appendChild(n),this.chipCollection.appendChild(i),this.showClearButton&&(i.appendChild(s),C.add(s,"mousedown",this.removeChip,this))}setTagValues(){if(null===this.value||null==this.text)return;this.inputWrapper.contains(this.chipWrapper)||this.createChip(),this.inputWrapper.classList.contains(Fd)||_([this.inputWrapper],Fd);const e=this.createElement("span",{className:hO});this.inputEle.classList.contains(ma)||_([this.inputEle],ma),this.chipWrapper.classList.contains(As)&&T([this.chipWrapper],As);const t=this.createElement("span",{className:G$}),n=this.customTemplateId;let l=this.templateComplier(this.customTemplate)({value:this.value,text:this.text},this,"customTemplate",n,this.isStringTemplate,void 0,t);l&&(l=Array.prototype.slice.call(l),Jt(l,t)),e.appendChild(t),this.chipCollection.appendChild(e)}setSelectAllWrapper(e){this.isFirstRender||(e&&!this.popupEle.contains(this.checkAllParent)&&this.showCheckBox?(this.createSelectAllWrapper(),this.popupEle.insertBefore(this.checkAllParent,this.popupDiv)):this.popupEle.contains(this.checkAllParent)&&(de(this.checkAllParent),this.checkAllParent=null))}setHeaderTemplate(){this.header?this.header.innerHTML="":(this.header=this.createElement("div"),_([this.header],X$));let t=this.templateComplier(this.headerTemplate)({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,void 0,this.header);t&&(t=Array.prototype.slice.call(t),Jt(t,this.header)),this.popupEle.insertBefore(this.header,this.checkAllParent?this.checkAllParent:this.popupDiv)}templateComplier(e){if(e)try{return document.querySelectorAll(e).length?ci(document.querySelector(e).innerHTML.trim()):ci(e)}catch(t){return ci(e)}return ci(e)}setFooterTemplate(){this.footer?this.footer.innerHTML="":(this.footer=this.createElement("div"),_([this.footer],Q$));let t=this.templateComplier(this.footerTemplate)({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,void 0,this.footer);t&&(t=Array.prototype.slice.call(t),Jt(t,this.footer)),Jt([this.footer],this.popupEle)}clearAll(e){!this.enabled||this.readonly||(this.resetValue(),this.showOverAllClear(),(this.allowMultiSelection||this.showCheckBox)&&(this.popupObj&&this.popupObj.refreshPosition(),this.wrapText||this.updateOverflowWrapper(!0)),e&&(this.isClearButtonClick=!0),this.changeOnBlur||this.triggerChangeEvent(e))}removeChip(e){if(!this.enabled||this.readonly)return;const t=e.target.parentElement,i=t.getAttribute("data-value");this.chipCollection&&t&&X(t),this.isChipDelete=!0,this.isClearButtonClick=!0,this.removeSelectedData(i,!0),this.selectedText=[],this.allowMultiSelection&&(this.treeObj.selectedNodes=this.value.slice(),this.updateSelectedValues()),this.showCheckBox&&(this.treeObj.uncheckAll([i]),this.clearCheckAll(),this.setMultiSelect()),this.triggerChangeEvent(e),this.isChipDelete=!1,this.ensurePlaceHolder()}resetValue(e){this.value===[]&&null===this.text||(ke.setValue(null,this.inputEle,this.floatLabelType),e||(this.oldValue=this.value,this.setProperties({value:[]},!0)),this.dataValue=null,this.setProperties({text:null},!0),this.selectedData=[],Ne("selectedNodes",[],this.treeObj),this.hiddenElement.innerHTML="",this.showCheckBox&&(this.treeObj.checkedNodes=[],this.treeObj.dataBind(),this.setMultiSelect(),this.clearCheckAll()),null!==this.oldValue||e?e&&this.triggerChangeEvent():this.removeValue=!0,(this.allowMultiSelection||this.showCheckBox)&&this.chipWrapper&&(this.chipCollection.innerHTML="",this.wrapText||this.updateOverflowWrapper(!0),this.ensurePlaceHolder()))}clearCheckAll(){this.showSelectAll&&this.value&&0===this.value.length&&this.setLocale(!1)}selectAllItems(e){if(this.showCheckBox)e?this.treeObj.checkAll():this.treeObj.uncheckAll(),this.checkSelectAll=!0;else if(this.allowMultiSelection)if(e){const t=gt("li",this.treeObj.element);let i;const n=[];for(let s=0;s<t.length;s++)i=t[s].getAttribute("data-uid").toString(),n.push(i);this.treeObj.selectedNodes=n}else this.treeObj.selectedNodes=[];this.updateMode(),this.setMultiSelect(),this.wrapText||(e?this.updateView():this.updateOverflowWrapper(!0))}updateTreeSettings(e){const t=Object.keys(e.treeSettings)[0];if("autoCheck"===t)this.ensureAutoCheck(),this.treeObj.autoCheck=this.treeSettings.autoCheck;else if("loadOnDemand"===t)this.treeObj.loadOnDemand=this.treeSettings.loadOnDemand;else if("expandOn"===t)return this.treeObj.expandOn=this.treeSettings.expandOn,void this.treeObj.dataBind();this.treeObj.dataBind(),this.setMultiSelect(),this.updateValue(this.value)}updateCheckBoxState(e){this.hasTemplate&&this.updateTemplate(),this.wrapText||this.updateOverflowWrapper(!1),this.treeObj.showCheckBox=e,this.treeObj.dataBind(),this.isDynamicChange=!0,this.setSelectAllWrapper(this.showSelectAll),this.showSelectAll&&this.setLocale(),this.showCheckBox&&this.updateMode(),this.setMultiSelect(),this.isDynamicChange=!1}updateTemplate(){this.popupObj&&(this.clearTemplate(),this.portals=[],this.popupObj.destroy(),this.isPopupOpen?(this.hidePopup(),this.isFirstRender=!0,this.renderPopup()):this.isFirstRender=!0)}l10nUpdate(e){if(this.noRecord?this.noRecord.innerHTML="":(this.noRecord=this.createElement("div"),_([this.noRecord],"e-ddt-nodata"),oo([this.noRecord],this.popupDiv)),"No Records Found"!==this.noRecordsTemplate||"The Request Failed"!==this.actionFailureTemplate){const i=e?this.actionFailureTemplateId:this.noRecordsTemplateId,n=e?"actionFailureTemplate":"noRecordsTemplate";let o=this.templateComplier(e?this.actionFailureTemplate:this.noRecordsTemplate)({},this,n,i,this.isStringTemplate,void 0,this.noRecord);o&&(o=Array.prototype.slice.call(o),Jt(o,this.noRecord))}else{const t={noRecordsTemplate:"No Records Found",actionFailureTemplate:"The Request Failed"};this.l10n=new is(this.getLocaleName(),t,this.locale),this.noRecord.innerHTML=this.l10n.getConstant(e?"actionFailureTemplate":"noRecordsTemplate")}}updateRecordTemplate(e){this.treeItems&&this.treeItems.length<=0&&(this.l10nUpdate(e),this.hasTemplate&&this.updateTemplate())}updateOverflowWrapper(e){e?this.inputWrapper.contains(this.overFlowWrapper)&&e&&(this.overFlowWrapper.innerHTML=""):this.inputWrapper.contains(this.overFlowWrapper)||(this.overFlowWrapper=this.createElement("span",{className:mO+" "+As}),this.inputWrapper.insertBefore(this.overFlowWrapper,this.hiddenElement))}updateMultiSelection(e){this.wrapText||this.updateOverflowWrapper(!1),this.treeObj.allowMultiSelection=e,this.treeObj.dataBind(),this.updateOption(),this.allowMultiSelection&&this.updateMode(),this.setMultiSelect()}updateAllowFiltering(e){this.isFirstRender||(e?this.renderFilter():this.destroyFilter()),this.ensureAutoCheck()}updateFilterPlaceHolder(){this.filterObj&&(this.filterObj.placeholder=this.filterBarPlaceholder,this.filterObj.element.setAttribute("aria-label",this.filterBarPlaceholder))}updateValue(e){this.isDynamicChange=!0,h(e)||0===e.length?this.resetValue(!0):(this.setTreeValue(),(this.allowMultiSelection||this.showCheckBox)&&!this.wrapText&&(this.updateOverflowWrapper(!1),this.updateView())),this.updateHiddenValue(),this.isDynamicChange=!1}updateText(e){h(e)?this.resetValue():(this.setTreeText(),(this.allowMultiSelection||this.showCheckBox)&&!this.wrapText&&(this.updateOverflowWrapper(!1),this.updateView())),this.updateHiddenValue()}updateModelMode(){if(this.allowMultiSelection||this.showCheckBox){if(!this.wrapText){const t=G("."+mO,this.inputWrapper);t&&(t.innerHTML="")}this.updateMode(),this.setMultiSelect(),!this.wrapText&&this.value&&0!==this.value.length&&(this.updateOverFlowView(),_([this.inputEle],ma),"Box"===this.mode?T([this.overFlowWrapper,this.inputWrapper],ox):_([this.overFlowWrapper,this.inputWrapper],ox))}}updateOption(){this.hiddenElement.hasAttribute("multiple")||!this.allowMultiSelection&&!this.showCheckBox?this.hiddenElement.hasAttribute("multiple")&&!this.allowMultiSelection&&!this.showCheckBox&&this.hiddenElement.removeAttribute("multiple"):this.hiddenElement.setAttribute("multiple","")}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"width":this.setElementWidth(e.width),this.popupObj&&(this.popupObj.element.style.width=this.setWidth());break;case"placeholder":ke.setPlaceholder(e.placeholder,this.inputEle);break;case"cssClass":this.setCssClass(e.cssClass,t.cssClass);break;case"enableRtl":this.setEnableRTL(this.enableRtl);break;case"fields":this.setFields();break;case"readonly":ke.setReadonly(e.readonly,this.inputEle);break;case"enabled":this.setEnable();break;case"floatLabelType":ke.removeFloating(this.inputObj),ke.addFloating(this.inputEle,e.floatLabelType,this.placeholder,this.createElement),this.ensureClearIconPosition(e.floatLabelType);break;case"showClearButton":this.updateClearButton(e.showClearButton);break;case"allowFiltering":this.updateAllowFiltering(e.allowFiltering);break;case"filterBarPlaceholder":this.updateFilterPlaceHolder();break;case"value":this.oldValue=t.value,this.updateValue(e.value);break;case"text":this.updateText(e.text);break;case"allowMultiSelection":this.updateMultiSelection(e.allowMultiSelection);break;case"mode":if(!this.showCheckBox&&!this.allowMultiSelection)return;"Custom"===this.mode?(this.overFlowWrapper&&de(this.overFlowWrapper),this.chipWrapper&&de(this.chipWrapper),this.setTagValues()):("Custom"===t.mode&&this.updateOverflowWrapper(this.wrapText),this.updateModelMode());break;case"delimiterChar":if("Box"===this.mode)return;(this.showCheckBox||this.allowMultiSelection)&&this.setMultiSelect();break;case"selectAllText":this.showCheckBox&&this.showSelectAll&&this.setLocale();break;case"unSelectAllText":this.showCheckBox&&this.showSelectAll&&this.setLocale(!1);break;case"showSelectAll":this.showCheckBox&&(this.setSelectAllWrapper(e.showSelectAll),this.updatePopupHeight());break;case"showCheckBox":this.updateCheckBoxState(e.showCheckBox),this.wrapText||this.updateOverflowWrapper(!0),this.updatePopupHeight(),this.updateOption();break;case"treeSettings":this.updateTreeSettings(e);break;case"customTemplate":if("Custom"!==this.mode)return;this.chipCollection.innerHTML="",this.setTagValues();break;case"sortOrder":this.hasTemplate&&this.updateTemplate(),this.treeObj.sortOrder=e.sortOrder,this.treeObj.dataBind(),this.updateValue(this.value);break;case"showDropDownIcon":this.updateDropDownIconState(e.showDropDownIcon);break;case"popupWidth":this.popupObj&&(this.popupObj.element.style.width=this.setWidth());break;case"popupHeight":this.popupObj&&this.updatePopupHeight();break;case"zIndex":this.popupObj&&(this.popupObj.zIndex=e.zIndex,this.popupObj.dataBind());break;case"headerTemplate":case"footerTemplate":this.updateTemplate();break;case"itemTemplate":this.updateTemplate(),this.treeObj.nodeTemplate=e.itemTemplate,this.treeObj.dataBind();break;case"noRecordsTemplate":this.updateRecordTemplate();break;case"actionFailureTemplate":this.updateRecordTemplate(!0);break;case"htmlAttributes":this.setHTMLAttributes();break;case"wrapText":this.updateOverflowWrapper(this.wrapText),!this.allowMultiSelection&&!this.showCheckBox||this.wrapText?(_([this.overFlowWrapper],As),this.chipWrapper&&"Box"===this.mode?T([this.chipWrapper],As):(T([this.inputWrapper],Fd),T([this.inputEle],ma)),this.ensurePlaceHolder()):this.updateView()}}clear(){this.clearAll(),this.inputFocus?this.onFocusOut():(this.changeOnBlur&&this.triggerChangeEvent(),this.removeValue=!1)}destroy(){this.clearTemplate(),this.unWireEvents(),this.setCssClass(null,this.cssClass),this.setProperties({value:[]},!0),this.setProperties({text:null},!0),this.treeObj.destroy(),this.destroyFilter(),this.popupObj&&(this.popupObj.destroy(),de(this.popupObj.element)),this.element.tagName!==this.getDirective()&&this.inputWrapper.parentElement.insertBefore(this.element,this.inputWrapper),ke.setValue(null,this.inputEle,this.floatLabelType),de(this.inputWrapper),de(this.popupDiv),this.element.classList.remove("e-input"),(this.showCheckBox||this.allowMultiSelection)&&this.element.classList.remove(ma),super.destroy()}destroyFilter(){this.filterObj&&(this.filterObj.destroy(),de(this.filterObj.element),de(this.filterContainer),this.filterObj=null)}ensureVisible(e){this.treeObj.ensureVisible(e)}getData(e){return this.treeObj.getTreeData(e)}hidePopup(){const e={popup:this.popupObj};this.inputWrapper.classList.remove(j$),this.popupEle&&_([this.popupEle],V2),Le(this.inputWrapper,{"aria-expanded":"false"}),this.popupObj&&this.isPopupOpen&&(this.popupObj.hide(),this.inputFocus&&(this.inputWrapper.focus(),this.allowFiltering&&_([this.inputWrapper],[sx])),this.trigger("close",e))}selectAll(e){this.selectAllItems(e)}showPopup(){!this.enabled||this.readonly||this.isPopupOpen||(this.renderPopup(),this.focusIn())}getModuleName(){return"dropdowntree"}};fi([y("The Request Failed")],zi.prototype,"actionFailureTemplate",void 0),fi([y(!1)],zi.prototype,"allowFiltering",void 0),fi([y(!1)],zi.prototype,"allowMultiSelection",void 0),fi([y(!0)],zi.prototype,"changeOnBlur",void 0),fi([y("")],zi.prototype,"cssClass",void 0),fi([y("${value.length} item(s) selected")],zi.prototype,"customTemplate",void 0),fi([y(",")],zi.prototype,"delimiterChar",void 0),fi([y(!0)],zi.prototype,"enabled",void 0),fi([gi({},Sc)],zi.prototype,"fields",void 0),fi([y(null)],zi.prototype,"filterBarPlaceholder",void 0),fi([y("StartsWith")],zi.prototype,"filterType",void 0),fi([y("Never")],zi.prototype,"floatLabelType",void 0),fi([y(null)],zi.prototype,"footerTemplate",void 0),fi([y(!1)],zi.prototype,"ignoreAccent",void 0),fi([y(!0)],zi.prototype,"ignoreCase",void 0),fi([y(null)],zi.prototype,"headerTemplate",void 0),fi([y({})],zi.prototype,"htmlAttributes",void 0),fi([y(null)],zi.prototype,"itemTemplate",void 0),fi([y("Default")],zi.prototype,"mode",void 0),fi([y("No Records Found")],zi.prototype,"noRecordsTemplate",void 0),fi([y(null)],zi.prototype,"placeholder",void 0),fi([y("300px")],zi.prototype,"popupHeight",void 0),fi([y("100%")],zi.prototype,"popupWidth",void 0),fi([y(!1)],zi.prototype,"readonly",void 0),fi([y(!1)],zi.prototype,"showSelectAll",void 0),fi([y("Select All")],zi.prototype,"selectAllText",void 0),fi([y(!1)],zi.prototype,"showCheckBox",void 0),fi([y(!0)],zi.prototype,"showClearButton",void 0),fi([y(!0)],zi.prototype,"showDropDownIcon",void 0),fi([y("None")],zi.prototype,"sortOrder",void 0),fi([y(null)],zi.prototype,"text",void 0),fi([gi({},j2)],zi.prototype,"treeSettings",void 0),fi([y("Unselect All")],zi.prototype,"unSelectAllText",void 0),fi([y(null)],zi.prototype,"value",void 0),fi([y("100%")],zi.prototype,"width",void 0),fi([y(1e3)],zi.prototype,"zIndex",void 0),fi([y(!1)],zi.prototype,"wrapText",void 0),fi([E()],zi.prototype,"actionFailure",void 0),fi([E()],zi.prototype,"beforeOpen",void 0),fi([E()],zi.prototype,"change",void 0),fi([E()],zi.prototype,"close",void 0),fi([E()],zi.prototype,"blur",void 0),fi([E()],zi.prototype,"created",void 0),fi([E()],zi.prototype,"dataBound",void 0),fi([E()],zi.prototype,"destroyed",void 0),fi([E()],zi.prototype,"filtering",void 0),fi([E()],zi.prototype,"focus",void 0),fi([E()],zi.prototype,"keyPress",void 0),fi([E()],zi.prototype,"open",void 0),fi([E()],zi.prototype,"select",void 0),zi=fi([Pi],zi);var ho=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const J$="e-atc-spinner-icon";li.root="e-combobox";const iDe={container:null,buttons:[]};let kr=class extends Sn{constructor(e,t){super(e,t)}preRender(){super.preRender()}getLocaleName(){return"combo-box"}wireEvent(){"combobox"===this.getModuleName()&&(C.add(this.inputWrapper.buttons[0],"mousedown",this.preventBlur,this),C.add(this.inputWrapper.container,"blur",this.onBlurHandler,this)),h(this.inputWrapper.buttons[0])||C.add(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick,this),C.add(this.inputElement,"focus",this.targetFocus,this),this.readonly||(C.add(this.inputElement,"input",this.onInput,this),C.add(this.inputElement,"keyup",this.onFilterUp,this),C.add(this.inputElement,"keydown",this.onFilterDown,this),C.add(this.inputElement,"paste",this.pasteHandler,this)),this.bindCommonEvent()}preventBlur(e){(!this.allowFiltering&&document.activeElement!==this.inputElement&&!document.activeElement.classList.contains(li.input)&&A.isDevice||!A.isDevice)&&e.preventDefault()}onBlurHandler(e){const t=this.inputElement&&""===this.inputElement.value?null:this.inputElement&&this.inputElement.value;!h(this.listData)&&!h(t)&&t!==this.text&&this.customValue(e),super.onBlurHandler(e)}targetElement(){return this.inputElement}setOldText(e){ke.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue(),this.removeSelection()}setOldValue(e){this.valueMuteChange(this.allowCustom?this.value:null),this.removeSelection(),this.setHiddenValue()}valueMuteChange(e){const t=h(e)?null:e.toString();ke.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e,text:e,index:null},!0),this.activeIndex=this.index;const i=this.fields,n={};n[i.text]=h(e)?null:e.toString(),n[i.value]=h(e)?null:e.toString(),this.itemData=n,this.item=null,this.previousValue!==this.value&&this.detachChangeEvent(null)}updateValues(){if(h(this.value))if(this.text&&h(this.value)){const e=this.getElementByText(this.text);e?this.setSelection(e,null):(ke.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.customValue())}else this.setSelection(this.liCollections[this.activeIndex],null);else{const e=this.getElementByValue(this.value);e?this.setSelection(e,null):this.valueMuteChange(this.allowCustom?this.value:null)}this.setHiddenValue(),ke.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)}updateIconState(){this.showClearButton&&(this.inputElement&&""!==this.inputElement.value&&!this.readonly?T([this.inputWrapper.clearButton],li.clearIconHide):_([this.inputWrapper.clearButton],li.clearIconHide))}getAriaAttributes(){return{"aria-owns":this.element.id+"_options",role:"combobox","aria-autocomplete":"both","aria-labelledby":this.hiddenElement.id,"aria-hasPopup":"true","aria-expanded":"false","aria-readonly":this.readonly.toString(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}}searchLists(e){this.isTyped=!0,this.isFiltering()?(super.searchLists(e),this.ulElement&&""===this.filterInput.value.trim()&&this.setHoverList(this.ulElement.querySelector("."+li.li))):(this.ulElement&&""===this.inputElement.value&&this.preventAutoFill&&this.setHoverList(this.ulElement.querySelector("."+li.li)),this.incrementalSearch(e))}getNgDirective(){return"EJS-COMBOBOX"}setSearchBox(){return this.filterInput=this.inputElement,this.isFiltering()?this.inputWrapper:iDe}onActionComplete(e,t,i,n){super.onActionComplete(e,t,i),this.isSelectCustom&&this.removeSelection(),!this.preventAutoFill&&"combobox"===this.getModuleName()&&this.isTyped&&setTimeout(()=>{this.inlineSearch()})}getFocusElement(){const e=this.isSelectCustom?{text:""}:this.getItemData(),t=this.list.querySelector("."+li.selected);if(e.text===this.inputElement.value&&!h(t))return t;if((A.isDevice&&!this.isDropDownClick||!A.isDevice)&&!h(this.liCollections)&&this.liCollections.length>0){const o=u0(this.inputElement.value,this.liCollections,this.filterType,!0).item;if(h(o))this.isSelectCustom&&""!==this.inputElement.value.trim()&&(this.removeFocus(),this.list.scrollTop=0);else{const l=this.getIndexByValue(o.getAttribute("data-value"))-1,a=parseInt(getComputedStyle(this.liCollections[0],null).getPropertyValue("height"),10);isNaN(a)||"autocomplete"===this.getModuleName()||(this.removeFocus(),this.list.scrollTop=l*a+(this.fields.groupBy?this.liCollections[0].offsetHeight:0),_([o],li.focus))}return o}return null}setValue(e){return e&&"keydown"===e.type&&"enter"===e.action&&this.removeFillSelection(),this.autofill&&"combobox"===this.getModuleName()&&e&&"keydown"===e.type&&"enter"!==e.action?(this.preventAutoFill=!1,this.inlineSearch(e),!1):super.setValue(e)}checkCustomValue(){this.itemData=this.getDataByValue(this.value);const e=this.getItemData();this.allowCustom&&h(e.value)&&h(e.text)||this.setProperties({value:e.value,text:e.text},!this.allowCustom)}showSpinner(){h(this.spinnerElement)&&(this.spinnerElement="autocomplete"===this.getModuleName()?this.inputWrapper.buttons[0]||this.inputWrapper.clearButton||ke.appendSpan("e-input-group-icon "+J$,this.inputWrapper.container,this.createElement):this.inputWrapper.buttons[0]||this.inputWrapper.clearButton,_([this.spinnerElement],li.disableIcon),bc({target:this.spinnerElement,width:A.isDevice?"16px":"14px"},this.createElement),Go(this.spinnerElement))}hideSpinner(){h(this.spinnerElement)||(qo(this.spinnerElement),T([this.spinnerElement],li.disableIcon),this.spinnerElement.classList.contains(J$)?de(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)}setAutoFill(e,t){if(t||this.setHoverList(e),this.autofill&&!this.preventAutoFill){const i=this.getTextByValue(e.getAttribute("data-value")).toString(),n=this.getFormattedValue(e.getAttribute("data-value"));"combobox"===this.getModuleName()&&(this.isSelected||this.previousValue===n?this.updateSelectedItem(e,null,!0):(this.updateSelectedItem(e,null),this.isSelected=!0,this.previousValue=this.getFormattedValue(e.getAttribute("data-value")))),this.isAndroidAutoFill(i)||this.setAutoFillSelection(i,t)}}isAndroidAutoFill(e){if(A.isAndroid){const t=this.getSelectionPoints(),i=this.prevSelectPoints.end,n=t.end,s=this.prevSelectPoints.start,o=t.start;return 0!==i&&(i===e.length&&s===e.length||s>o&&i>n||i===n&&s===o)}return!1}clearAll(e,t){(h(t)||!h(t)&&h(t.dataSource))&&super.clearAll(e),this.isFiltering()&&!h(e)&&e.target===this.inputWrapper.clearButton&&this.searchLists(e)}isSelectFocusItem(e){return!h(e)}inlineSearch(e){const t=e&&("down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action||"pageUp"===e.action||"pageDown"===e.action),i=t?this.liCollections[this.activeIndex]:this.getFocusElement();if(h(i))if(""===this.inputElement.value){this.activeIndex=null,this.list.scrollTop=0;const n=this.list.querySelector("."+li.li);this.setHoverList(n)}else this.activeIndex=null,this.removeSelection(),this.liCollections&&this.liCollections.length>0&&!this.isCustomFilter&&this.removeFocus();else{if(!t){const n=this.getFormattedValue(i.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(n),this.activeIndex=h(this.activeIndex)?null:this.activeIndex}this.preventAutoFill=""!==this.inputElement.value&&this.preventAutoFill,this.setAutoFill(i,t)}}incrementalSearch(e){this.showPopup(),h(this.listData)||(this.inlineSearch(e),e.preventDefault())}setAutoFillSelection(e,t=!1){const i=this.getSelectionPoints(),n=this.inputElement.value.substr(0,i.start);if(n&&n.toLowerCase()===e.substr(0,i.start).toLowerCase()){const s=n+e.substr(n.length,e.length);ke.setValue(s,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(i.start,this.inputElement.value.length)}else t&&(ke.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.setSelectionRange(0,this.inputElement.value.length))}getValueByText(e){return super.getValueByText(e,!0,this.ignoreAccent)}unWireEvent(){"combobox"===this.getModuleName()&&(C.remove(this.inputWrapper.buttons[0],"mousedown",this.preventBlur),C.remove(this.inputWrapper.container,"blur",this.onBlurHandler)),h(this.inputWrapper.buttons[0])||C.remove(this.inputWrapper.buttons[0],"mousedown",this.dropDownClick),this.inputElement&&(C.remove(this.inputElement,"focus",this.targetFocus),this.readonly||(C.remove(this.inputElement,"input",this.onInput),C.remove(this.inputElement,"keyup",this.onFilterUp),C.remove(this.inputElement,"keydown",this.onFilterDown),C.remove(this.inputElement,"paste",this.pasteHandler))),this.unBindCommonEvent()}setSelection(e,t){super.setSelection(e,t),!h(e)&&!this.autofill&&!this.isDropDownClick&&this.removeFocus()}selectCurrentItem(e){let t;this.isPopupOpen&&(t=this.list.querySelector(this.isSelected?"."+li.selected:"."+li.focus),t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e))),"enter"===e.action&&""===this.inputElement.value.trim()?this.clearAll(e):this.isTyped&&!this.isSelected&&h(t)&&this.customValue(e),this.hidePopup(e)}setHoverList(e){this.removeSelection(),this.isValidLI(e)&&!e.classList.contains(li.selected)&&(this.removeFocus(),e.classList.add(li.focus))}targetFocus(e){A.isDevice&&!this.allowFiltering&&(this.preventFocus=!1),this.onFocus(e)}dropDownClick(e){e.preventDefault(),A.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),super.dropDownClick(e)}customValue(e){const t=this.getValueByText(this.inputElement.value);if(this.allowCustom||""===this.inputElement.value)if(""!==this.inputElement.value.trim()){const i=this.value;if(h(t)){const n=""===this.inputElement.value?null:this.inputElement.value,s={text:n,item:{}};this.initial?this.updateCustomValueCallback(n,s,i):this.trigger("customValueSpecifier",s,o=>{this.updateCustomValueCallback(n,o,i,e)})}else this.isSelectCustom=!1,this.setProperties({value:t}),i!==this.value&&this.onChangeEvent(e)}else this.allowCustom&&(this.isSelectCustom=!0);else{const i=this.previousValue,n=this.value;this.setProperties({value:t}),h(this.value)&&ke.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.autofill&&i===this.value&&n!==this.value&&this.onChangeEvent(null)}}updateCustomValueCallback(e,t,i,n){const s=this.fields,o=t.item;let l={};o&&M(s.text,o)&&M(s.value,o)?l=o:(Ne(s.text,e,l),Ne(s.value,e,l)),this.itemData=l;const a={text:M(s.text,this.itemData),value:M(s.value,this.itemData),index:null};this.setProperties(a,!0),this.setSelection(null,null),this.isSelectCustom=!0,i!==this.value&&this.onChangeEvent(n)}onPropertyChanged(e,t){"combobox"===this.getModuleName()&&(this.checkData(e),this.setUpdateInitial(["fields","query","dataSource"],e));for(const i of Object.keys(e))switch(i){case"readonly":ke.setReadonly(this.readonly,this.inputElement),this.readonly?(C.remove(this.inputElement,"input",this.onInput),C.remove(this.inputElement,"keyup",this.onFilterUp),C.remove(this.inputElement,"keydown",this.onFilterDown)):(C.add(this.inputElement,"input",this.onInput,this),C.add(this.inputElement,"keyup",this.onFilterUp,this),C.add(this.inputElement,"keydown",this.onFilterDown,this)),this.setReadOnly();break;case"allowFiltering":this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&h(this.list)&&super.renderList();break;case"allowCustom":break;default:{const n=this.getPropObject(i,e,t);super.onPropertyChanged(n.newProperty,n.oldProperty),this.isFiltering()&&"dataSource"===i&&h(this.list)&&this.itemTemplate&&"combobox"===this.getModuleName()&&super.renderList();break}}}render(){super.render(),this.setSearchBox(),this.isFiltering()&&"combobox"===this.getModuleName()&&h(this.list)&&super.renderList(),this.renderComplete()}getModuleName(){return"combobox"}addItem(e,t){super.addItem(e,t)}filter(e,t,i){super.filter(e,t,i)}showPopup(){super.showPopup()}hidePopup(e){const t=this.inputElement&&""===this.inputElement.value?null:this.inputElement&&this.inputElement.value;if(!h(this.listData)){const i=this.isEscapeKey;this.isEscapeKey&&(ke.setValue(this.typedString,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1),this.autofill&&this.removeFillSelection();const n=this.isSelectCustom?{text:""}:this.getItemData(),s=this.list.querySelector("."+li.selected);if(this.inputElement&&n.text===this.inputElement.value&&!h(s))return this.isSelected&&(this.onChangeEvent(e),this.isSelectCustom=!1),void super.hidePopup(e);if("combobox"===this.getModuleName()&&""!==this.inputElement.value.trim()){const o=u0(this.inputElement.value,this.liCollections,"Equal",!0);this.selectedLI=o.item,h(o.index)&&(o.index=u0(this.inputElement.value,this.liCollections,"StartsWith",!0).index),this.activeIndex=o.index,h(this.selectedLI)?i&&(this.isSelectCustom=!0,this.removeSelection()):this.updateSelectedItem(this.selectedLI,null,!0)}!this.isEscapeKey&&this.isTyped&&!this.isInteracted&&this.customValue(e)}h(this.listData)&&this.allowCustom&&!h(t)&&t!==this.value&&this.customValue(),super.hidePopup(e)}focusIn(){!this.enabled||(A.isDevice&&!this.isFiltering()&&(this.preventFocus=!0),super.focusIn())}clear(){this.value=null}focusOut(e){super.focusOut(e)}getItems(){return super.getItems()}getDataByValue(e){return super.getDataByValue(e)}renderHightSearch(){}};ho([y(!1)],kr.prototype,"autofill",void 0),ho([y(!0)],kr.prototype,"allowCustom",void 0),ho([y({})],kr.prototype,"htmlAttributes",void 0),ho([y(!1)],kr.prototype,"allowFiltering",void 0),ho([y(null)],kr.prototype,"query",void 0),ho([y(null)],kr.prototype,"index",void 0),ho([y(!0)],kr.prototype,"showClearButton",void 0),ho([y(!1)],kr.prototype,"enableRtl",void 0),ho([E()],kr.prototype,"customValueSpecifier",void 0),ho([E()],kr.prototype,"filtering",void 0),ho([y(null)],kr.prototype,"valueTemplate",void 0),ho([y("Never")],kr.prototype,"floatLabelType",void 0),ho([y(null)],kr.prototype,"filterBarPlaceholder",void 0),ho([y(null)],kr.prototype,"cssClass",void 0),ho([y(null)],kr.prototype,"headerTemplate",void 0),ho([y(null)],kr.prototype,"footerTemplate",void 0),ho([y(null)],kr.prototype,"placeholder",void 0),ho([y("100%")],kr.prototype,"width",void 0),ho([y("300px")],kr.prototype,"popupHeight",void 0),ho([y("100%")],kr.prototype,"popupWidth",void 0),ho([y(!1)],kr.prototype,"readonly",void 0),ho([y(null)],kr.prototype,"text",void 0),ho([y(null)],kr.prototype,"value",void 0),kr=ho([Pi],kr);var Oa=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};li.root="e-autocomplete",li.icon="e-input-group-icon e-ddl-icon e-search-icon";let ko=class extends kr{constructor(e,t){super(e,t),this.isFiltered=!1,this.searchList=!1}preRender(){super.preRender()}getLocaleName(){return"auto-complete"}getNgDirective(){return"EJS-AUTOCOMPLETE"}getQuery(e){const t=e?e.clone():this.query?this.query.clone():new Ze,i=""!==this.queryString||h(this.value)?this.filterType:"equal",n=""!==this.queryString||h(this.value)?this.queryString:this.value;if(this.isFiltered)return t;if(null!==this.queryString&&""!==this.queryString){const s=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof ie||"string"!==s)&&"number"!==s){const o=h(this.fields.value)?"":this.fields.value;t.where(o,i,n,this.ignoreCase,this.ignoreAccent)}else t.where("",i,n,this.ignoreCase,this.ignoreAccent)}if(!h(this.suggestionCount)){if(20!==this.suggestionCount)for(let s=0;s<t.queries.length;s++)"onTake"===t.queries[s].fn&&t.queries.splice(s,1);t.take(this.suggestionCount)}return t}searchLists(e){if(this.isTyped=!0,this.isDataFetched=this.isSelectCustom=!1,h(this.list)&&super.renderList(!0),this.queryString=this.filterInput.value,"mousedown"!==e.type&&(40===e.keyCode||38===e.keyCode))return this.queryString=""===this.queryString?null:this.queryString,this.beforePopupOpen=!0,void this.resetList(this.dataSource,this.fields);this.isSelected=!1,this.activeIndex=null;const t={preventDefaultAction:!1,text:this.filterInput.value,updateData:(i,n,s)=>{t.cancel||(this.isFiltered=!0,this.filterAction(i,n,s))},cancel:!1};this.trigger("filtering",t,i=>{!i.cancel&&!this.isFiltered&&!i.preventDefaultAction&&(this.searchList=!0,this.filterAction(this.dataSource,null,this.fields))})}filter(e,t,i){this.isFiltered=!0,this.filterAction(e,t,i)}filterAction(e,t,i){this.beforePopupOpen=!0,""!==this.queryString&&this.queryString.length>=this.minLength?this.resetList(e,i,t):(this.hidePopup(),this.beforePopupOpen=!1),this.renderReactTemplates()}clearAll(e,t){(h(t)||!h(t)&&h(t.dataSource))&&super.clearAll(e),this.beforePopupOpen&&this.hidePopup()}onActionComplete(e,t,i,n){this.fixedHeaderElement=null,super.onActionComplete(e,t,i);const s=this.list.querySelector("."+li.li);h(s)||T([s],li.focus),this.postBackAction()}postBackAction(){if(this.autofill&&!h(this.liCollections[0])&&this.searchList){const t=u0(this.inputElement.value,[this.liCollections[0]],"StartsWith",this.ignoreCase);this.searchList=!1,h(t.item)||super.setAutoFill(this.liCollections[0],!0)}}setSelection(e,t){if(this.isValidLI(e))if(!h(t)&&"keydown"===t.type&&"enter"!==t.action&&"tab"!==t.action&&this.isValidLI(e)){const i=this.getFormattedValue(e.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(i),this.setHoverList(e),this.selectedLI=e,this.setScrollPosition(t),this.autofill&&this.isPopupOpen&&(this.preventAutoFill=!1,super.setAutoFill(e,t&&"down"===t.action||"up"===t.action||"home"===t.action||"end"===t.action||"pageUp"===t.action||"pageDown"===t.action)),Le(this.inputElement,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}else super.setSelection(e,t)}listOption(e,t){const i=super.listOption(e,t);if(h(i.itemCreated))i.itemCreated=n=>{this.highlight&&(this.element.tagName===this.getNgDirective()&&this.itemTemplate?setTimeout(()=>{N2(n.item,this.queryString,this.ignoreCase,this.filterType)},0):N2(n.item,this.queryString,this.ignoreCase,this.filterType))};else{const n=i.itemCreated;i.itemCreated=s=>{this.highlight&&N2(s.item,this.queryString,this.ignoreCase,this.filterType),n.apply(this,[s])}}return i}isFiltering(){return!0}renderPopup(){this.list.scrollTop=0,super.renderPopup()}isEditTextBox(){return""!==this.inputElement.value.trim()}isPopupButton(){return this.showPopupButton}isSelectFocusItem(e){return!1}showPopup(){if(this.enabled){if(this.beforePopupOpen)return void this.refreshPopup();this.beforePopupOpen=!0,this.preventAutoFill=!0,h(this.list)?this.renderList():this.resetList(this.dataSource,this.fields)}}hidePopup(e){super.hidePopup(e),this.activeIndex=-1}onPropertyChanged(e,t){"autocomplete"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],e);for(const i of Object.keys(e))switch(i){case"showPopupButton":if(this.showPopupButton){const n=ke.appendSpan(li.icon,this.inputWrapper.container,this.createElement);this.inputWrapper.buttons[0]=n,this.inputWrapper&&this.inputWrapper.buttons&&this.inputWrapper.buttons[0]&&C.add(this.inputWrapper.buttons[0],"click",this.dropDownClick,this)}else de(this.inputWrapper.buttons[0]),this.inputWrapper.buttons[0]=null;break;default:{const n=this.getPropObject(i,e,t);super.onPropertyChanged(n.newProperty,n.oldProperty);break}}}renderHightSearch(){if(this.highlight)for(let e=0;e<this.liCollections.length;e++)this.ulElement.querySelector(".e-active")||(AIe(this.liCollections[e]),N2(this.liCollections[e],this.queryString,this.ignoreCase,this.filterType))}getModuleName(){return"autocomplete"}render(){super.render()}};Oa([gi({value:null,iconCss:null,groupBy:null},aO)],ko.prototype,"fields",void 0),Oa([y(!0)],ko.prototype,"ignoreCase",void 0),Oa([y(!1)],ko.prototype,"showPopupButton",void 0),Oa([y(!1)],ko.prototype,"highlight",void 0),Oa([y(20)],ko.prototype,"suggestionCount",void 0),Oa([y({})],ko.prototype,"htmlAttributes",void 0),Oa([y(null)],ko.prototype,"query",void 0),Oa([y(1)],ko.prototype,"minLength",void 0),Oa([y("Contains")],ko.prototype,"filterType",void 0),Oa([E()],ko.prototype,"filtering",void 0),Oa([y(null)],ko.prototype,"index",void 0),Oa([y("Never")],ko.prototype,"floatLabelType",void 0),Oa([y(null)],ko.prototype,"valueTemplate",void 0),Oa([y(null)],ko.prototype,"filterBarPlaceholder",void 0),Oa([y(!1)],ko.prototype,"allowFiltering",void 0),Oa([y(null)],ko.prototype,"text",void 0),ko=Oa([Pi],ko);const vO="e-float-line",e1="e-float-text",ax="e-label-top",g0="e-label-bottom";function Z$(r,e,t,i,n,s,o){const l=Xe("span",{className:vO}),a=Xe("label",{className:e1});!h(t.id)&&""!==t.id&&(a.id="label_"+t.id.replace(/ /g,"_"),Le(t,{"aria-labelledby":a.id})),!h(i.placeholder)&&""!==i.placeholder&&(a.innerText=yO(i.placeholder),i.removeAttribute("placeholder")),a.innerText=yO(o),e.appendChild(l),e.appendChild(a),r.classList.add("e-float-input"),function nDe(r,e){r&&r.length>0?(_([e],ax),T([e],g0)):(T([e],ax),_([e],g0))}(n,a),"Always"===s&&(a.classList.contains(g0)&&T([a],g0),_([a],ax))}function eK(r,e,t){e.placeholder=r&&r.length?"":t}function yO(r){let e="";if(!h(r)&&""!==r){const t=document.createElement("span");t.innerHTML='<input  placeholder="'+r+'"/>',e=t.children[0].placeholder}return e}var Si=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const f0="e-input-focus",tK="e-disabled",Ar="e-hide-listitem",cx="e-chips",G2="e-chips-close",dx="e-chip-selected",iK="e-delimiter",q2="e-zero-size",nK="e-chips-close e-close-hooker",sK="e-delim-values",xO="e-close-icon-hide",oK="e-ddl-disable-icon",lK="e-ms-spinner-icon",aK="e-input-group-icon e-ddl-icon",cK="e-icon-anim",W2="e-delim-total",dK="e-search-custom-width",U2="e-input-filter";let wi=class extends cO{constructor(e,t){super(e,t),this.clearIconWidth=0,this.isValidKey=!1,this.selectAllEventData=[],this.selectAllEventEle=[],this.scrollFocusStatus=!1,this.keyDownStatus=!1}enableRTL(e){e?this.overAllWrapper.classList.add("e-rtl"):this.overAllWrapper.classList.remove("e-rtl"),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind())}requiredModules(){const e=[];if("CheckBox"===this.mode){if(this.isGroupChecking=this.enableGroupCheckBox,this.enableGroupCheckBox){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.enableSelectionOrder=!1,this.isProtectedOnChange=t}this.allowCustomValue=!1,this.hideSelectedItem=!1,this.closePopupOnSelect=!1,e.push({member:"CheckBoxSelection",args:[this]})}return e}updateHTMLAttribute(){if(Object.keys(this.htmlAttributes).length)for(const e of Object.keys(this.htmlAttributes))switch(e){case"class":{const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&(_([this.overAllWrapper],t.split(" ")),_([this.popupWrapper],t.split(" ")));break}case"disabled":this.enable(!1);break;case"placeholder":this.placeholder||(this.inputElement.setAttribute(e,this.htmlAttributes[e]),this.setProperties({placeholder:this.inputElement.placeholder},!0),this.refreshPlaceHolder());break;default:{const i=["name","required","aria-required","form"],n=["title","role","style","class"];["id"].indexOf(e)>-1?this.element.setAttribute(e,this.htmlAttributes[e]):0===e.indexOf("data")||i.indexOf(e)>-1?this.hiddenElement.setAttribute(e,this.htmlAttributes[e]):n.indexOf(e)>-1?this.overAllWrapper.setAttribute(e,this.htmlAttributes[e]):this.inputElement.setAttribute(e,this.htmlAttributes[e]);break}}}updateReadonly(e){e||"CheckBox"===this.mode?this.inputElement.setAttribute("readonly","true"):this.inputElement.removeAttribute("readonly")}updateClearButton(e){e?(this.overAllClear.parentNode?this.overAllClear.style.display="":this.componentWrapper.appendChild(this.overAllClear),this.componentWrapper.classList.remove(xO)):(this.overAllClear.style.display="none",this.componentWrapper.classList.add(xO))}updateCssClass(){if(!h(this.cssClass)&&""!==this.cssClass){let e=this.cssClass;e=this.cssClass.replace(/\s+/g," ").trim(),""!==e&&(_([this.overAllWrapper],e.split(" ")),_([this.popupWrapper],e.split(" ")))}}updateOldPropCssClass(e){!h(e)&&""!==e&&""!==(e=e.replace(/\s+/g," ").trim())&&(T([this.overAllWrapper],e.split(" ")),T([this.popupWrapper],e.split(" ")))}onPopupShown(){if(A.isDevice&&"CheckBox"===this.mode&&this.allowFiltering){const i=this;window.onpopstate=()=>{i.hidePopup(),i.inputElement.focus()},history.pushState({},"")}this.trigger("open",{popup:this.popupObj,cancel:!1,animation:{name:"FadeIn",duration:100}},i=>{i.cancel||(this.focusAtFirstListItem(),document.body.appendChild(this.popupObj.element),"CheckBox"===this.mode&&this.enableGroupCheckBox&&!h(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),("CheckBox"===this.mode||this.showDropDownIcon)&&_([this.overAllWrapper],[cK]),this.refreshPopup(),this.renderReactTemplates(),this.popupObj.show(i.animation,1e3===this.zIndex?this.element:null),Le(this.inputElement,{"aria-expanded":"true"}),this.isFirstClick&&this.loadTemplate())})}updateListItems(e,t){for(let i=0;i<e.length;i++)this.findGroupStart(e[i]),this.findGroupStart(t[i]);this.deselectHeader()}loadTemplate(){this.refreshListItems(null),"CheckBox"===this.mode&&this.removeFocus(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this})}setScrollPosition(){if((!this.hideSelectedItem&&"CheckBox"!==this.mode||"CheckBox"===this.mode&&!this.enableSelectionOrder)&&!h(this.value)&&this.value.length>0){const e=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",this.value[this.value.length-1]);h(e)||this.scrollBottom(e)}}focusAtFirstListItem(){if(this.ulElement&&this.ulElement.querySelector("li."+et_li)){let e;if("CheckBox"===this.mode)return void this.removeFocus();e=this.ulElement.querySelector("li."+et_li+":not(."+Ar+")"),null!==e&&(this.removeFocus(),this.addListFocus(e))}}focusAtLastListItem(e){let t;e?t=u0(e,this.liCollections,"StartsWith",this.ignoreCase):this.value&&this.value.length?u0(this.value[this.value.length-1],this.liCollections,"StartsWith",this.ignoreCase):t=null,t&&null!==t.item&&(this.addListFocus(t.item),this.scrollBottom(t.item,t.index))}getAriaAttributes(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-multiselectable":"true","aria-activedescendant":"null","aria-haspopup":"true","aria-expanded":"false"}}updateListARIA(){h(this.ulElement)||Le(this.ulElement,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"});const e=!!this.inputElement.disabled;Le(this.inputElement,this.getAriaAttributes()),e&&Le(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled(e?"true":"false")}ensureAriaDisabled(e){if(this.htmlAttributes&&this.htmlAttributes["aria-disabled"]){const t=this.htmlAttributes;O(t,{"aria-disabled":e},t),this.setProperties({htmlAttributes:t},!0)}}removelastSelection(e){const t=this.chipCollectionWrapper.querySelectorAll("span."+cx),i=t[t.length-1].getAttribute("data-value");h(this.value)||(this.tempValues=this.value.slice());let n=this.getFormattedValue(i);this.allowCustomValue&&("false"!==i&&!1===n||!h(n)&&"NaN"===n.toString())&&(n=i),this.removeValue(n,e),this.removeChipSelection(),this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),this.mainList&&this.listData&&this.refreshSelection(),this.checkPlaceholderSize()}onActionFailure(e){super.onActionFailure(e),this.renderPopup(),this.onPopupShown()}targetElement(){return this.targetInputElement=this.inputElement,"CheckBox"===this.mode&&this.allowFiltering&&this.notify("targetElement",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.targetInputElement.value}getForQuery(e){let t;const i=h(this.fields.value)?this.fields.text:this.fields.value;for(let n=0;n<e.length;n++)t=0===n?new qt(i,"equal",e[n]):t.or(i,"equal",e[n]);return this.getQuery(this.query).where(t)}onActionComplete(e,t,i,n){super.onActionComplete(e,t,i),this.updateSelectElementData(this.allowFiltering);const s=this;if(!h(this.value)&&!this.allowCustomValue)for(let o=0;o<this.value.length;o++)this.findListElement(this.allowFiltering&&!h(this.mainList)?this.mainList:e,"li","data-value",s.value[o])||(this.value.splice(o,1),o-=1);this.updateActionList(e,t,i),this.dataSource instanceof ie&&"CheckBox"===this.mode&&this.allowFiltering&&this.removeFocus()}updateActionList(e,t,i,n){"CheckBox"===this.mode&&this.showSelectAll&&this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.mainList||this.mainData?(h(this.mainData)||0===this.mainData.length)&&(this.mainData=t):(this.mainList=e.cloneNode?e.cloneNode(!0):e,this.mainData=t,this.mainListCollection=this.liCollections),(this.remoteCustomValue||t.length<=0)&&this.allowCustomValue&&this.inputFocus&&this.allowFiltering&&this.inputElement.value&&""!==this.inputElement.value?this.checkForCustomValue(this.tempQuery,this.fields):(this.value&&this.value.length&&("CheckBox"!==this.mode&&""!==this.inputElement.value.trim()||"CheckBox"===this.mode||(8===this.keyCode||46===this.keyCode)&&this.allowFiltering&&this.allowCustomValue&&this.dataSource instanceof ie&&""===this.inputElement.value)&&this.refreshSelection(),this.updateListARIA(),this.unwireListEvents(),this.wireListEvents(),h(this.setInitialValue)||this.setInitialValue(),h(this.selectAllAction)||this.selectAllAction(),this.setDynValue&&(!h(this.text)&&(h(this.value)||0===this.value.length)&&this.initialTextUpdate(),this.initialValueUpdate(),this.initialUpdate(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,this.value,null)),this.renderPopup(),this.beforePopupOpen&&(this.beforePopupOpen=!1,this.onPopupShown()))}refreshSelection(){let e,t;const i=this.hideSelectedItem?Ar:"e-active";if(!h(this.value))for(let n=0;!h(this.value[n]);n++)if(e=this.value[n],t=this.findListElement(this.list,"li","data-value",e),t){if(_([t],i),this.hideSelectedItem&&t.previousSibling&&t.previousElementSibling.classList.contains(et_group)&&(!t.nextElementSibling||t.nextElementSibling.classList.contains(et_group))&&_([t.previousElementSibling],i),this.hideSelectedItem&&this.fields.groupBy&&!t.previousElementSibling.classList.contains(Ar)&&this.hideGroupItem(e),this.hideSelectedItem&&t.classList.contains(et_focus)){T([t],et_focus);const s=t.parentElement.querySelectorAll("."+et_li+":not(."+Ar+")");s.length>0?_([s[0]],et_focus):this.list&&this.list.querySelectorAll("."+et_li).length>0||(this.l10nUpdate(),_([this.list],"e-nodata"))}if(t.setAttribute("aria-selected","true"),"CheckBox"===this.mode&&t.classList.contains("e-active")){const s=t.firstElementChild.getAttribute("aria-checked");(h(s)||"false"===s)&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:t,e:null})}}this.checkSelectAll(),this.checkMaxSelection()}hideGroupItem(e){let t,i;const n=this.hideSelectedItem?Ar:"e-active";i=t=this.findListElement(this.ulElement,"li","data-value",e);let s=0,o=0,l=!0,a=!0;do{t&&t.previousElementSibling&&!t.previousElementSibling.classList.contains(Ar)&&t.previousElementSibling.classList.contains(et_li)&&(l=!1),!l||!t||t.previousElementSibling&&t.previousElementSibling.classList.contains(et_group)?s=10:t=t.previousElementSibling,i&&i.nextElementSibling&&!i.nextElementSibling.classList.contains(Ar)&&i.nextElementSibling.classList.contains(et_li)&&(a=!1),!a||!i||i.nextElementSibling&&i.nextElementSibling.classList.contains(et_group)?o=10:i=i.nextElementSibling}while(s<10||o<10);l&&a&&!t.previousElementSibling.classList.contains(Ar)?_([t.previousElementSibling],n):l&&a&&t.previousElementSibling.classList.contains(Ar)&&T([t.previousElementSibling],n)}getValidLi(){const e=this.ulElement.querySelector("li."+et_li+":not(."+Ar+")");return h(e)?this.liCollections[0]:e}checkSelectAll(){const e=this.list.querySelectorAll("li.e-list-group-item.e-active").length,t=this.list.querySelectorAll("li.e-list-item"),i=this.list.querySelectorAll("li."+et_li).length;let n=this.list.querySelectorAll("li.e-active").length;if(this.enableGroupCheckBox&&!h(this.fields.groupBy)&&(n-=e),i!==n&&n!==this.maximumSelectionLength||"CheckBox"!==this.mode||!this.showSelectAll?i!==n&&"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}):this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check"}),this.enableGroupCheckBox&&this.fields.groupBy&&!this.enableSelectionOrder){for(let s=0;s<t.length;s++)this.findGroupStart(t[s]);this.deselectHeader()}}openClick(e){this.openOnClick||"CheckBox"===this.mode?!this.openOnClick&&"CheckBox"===this.mode&&!this.isPopupOpen()&&this.showPopup():""!==this.targetElement()?this.showPopup():this.hidePopup()}keyUp(e){"CheckBox"!==this.mode||this.openOnClick||h(String.fromCharCode(e.keyCode).match(/\w/))||(this.isValidKey=!0),this.isValidKey=this.isPopupOpen()&&8===e.keyCode||this.isValidKey,this.isValidKey=(!e.ctrlKey||86!==e.keyCode)&&this.isValidKey,this.isValidKey&&(this.isValidKey=!1,this.expandTextbox(),this.showOverAllClear(),this.search(e))}filter(e,t,i){this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(e,t,i)}getQuery(e){const t=e?e.clone():this.query?this.query.clone():new Ze;if(this.isFiltered)return t;if(this.filterAction){if(null!==this.targetElement()){const i=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof ie||"string"!==i)&&"number"!==i){const n=this.fields;t.where(h(n.text)?"":n.text,this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}else t.where("",this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}return t}return e||(this.query?this.query:new Ze)}dataUpdater(e,t,i){if(this.isDataFetched=!1,""===this.targetElement().trim()){const n=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.backCommand&&(this.remoteCustomValue=!1,this.allowCustomValue&&0===n.querySelectorAll("li").length&&this.mainData.length>0&&(this.mainData=[]),this.onActionComplete(n,this.mainData),this.value&&this.value.length&&this.refreshSelection(),8!==this.keyCode&&this.focusAtFirstListItem(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this}))}else this.resetList(e,i,t),this.allowCustomValue&&(e instanceof ie?(this.remoteCustomValue=!0,this.tempQuery=t):this.checkForCustomValue(t,i));this.refreshPopup(),"CheckBox"===this.mode&&this.removeFocus()}checkForCustomValue(e,t){const i=!this.getValueByText(this.inputElement.value,this.ignoreCase);if(this.allowCustomValue&&i){const n=this.inputElement.value,s=t||this.fields,o=!h(this.mainData)&&this.mainData.length>0?this.mainData[0]:this.mainData;if("string"!=typeof o&&"number"!=typeof o&&"boolean"!=typeof o){const l={};Ne(s.text,n,l),"number"==typeof M(this.fields.value?this.fields.value:"value",o)?Ne(s.value,Math.random(),l):Ne(s.value,n,l);const a=JSON.parse(JSON.stringify(this.listData));a.splice(0,0,l),this.resetList(a,s,e)}else{const l=[this.inputElement.value];l[0]="number"!=typeof o||isNaN(parseFloat(l[0]))?l[0]:parseFloat(l[0]),l[0]="boolean"==typeof o?"true"===l[0]||"false"!==l[0]&&l[0]:l[0],this.resetList(l,s)}}this.value&&this.value.length&&this.refreshSelection()}getNgDirective(){return"EJS-MULTISELECT"}wrapperClick(e){if(this.setDynValue=!1,this.enabled){if(e.target===this.overAllClear)return void e.preventDefault();if(this.inputFocus||this.inputElement.focus(),!this.readonly){if(e.target&&-1!==e.target.classList.toString().indexOf(G2))return void(this.isPopupOpen()&&this.refreshPopup());!this.isPopupOpen()&&(this.openOnClick||this.showDropDownIcon&&e.target&&e.target.className===aK)?this.showPopup():(this.hidePopup(),"CheckBox"===this.mode&&(this.showOverAllClear(),this.inputFocus=!0,this.overAllWrapper.classList.contains(f0)||this.overAllWrapper.classList.add(f0)))}this.targetElement()&&""!==this.targetElement()||e.preventDefault()}}enable(e){e?(this.overAllWrapper.classList.remove(tK),this.inputElement.removeAttribute("disabled"),Le(this.inputElement,{"aria-disabled":"false"}),this.ensureAriaDisabled("false")):(this.overAllWrapper.classList.add(tK),this.inputElement.setAttribute("disabled","true"),Le(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled("true")),this.enabled!==e&&(this.enabled=e),this.hidePopup()}onBlurHandler(e,t){let i;if(h(e)||(i=e.relatedTarget),this.popupObj&&document.body.contains(this.popupObj.element)&&this.popupObj.element.contains(i))"CheckBox"!==this.mode?this.inputElement.focus():"Auto"===this.floatLabelType&&(this.overAllWrapper.classList.contains("e-outline")||this.overAllWrapper.classList.contains("e-filled"))&&_([this.overAllWrapper],"e-valid-input");else{if("Auto"===this.floatLabelType&&this.overAllWrapper.classList.contains("e-outline")&&"CheckBox"===this.mode&&(h(this.value)||0===this.value.length)&&T([this.overAllWrapper],"e-valid-input"),"CheckBox"===this.mode&&A.isIE&&!h(e)&&!t)return this.inputFocus=!1,void this.overAllWrapper.classList.remove(f0);if(this.scrollFocusStatus)return h(e)||e.preventDefault(),this.inputElement.focus(),void(this.scrollFocusStatus=!1);if(this.inputFocus=!1,this.overAllWrapper.classList.remove(f0),this.addTagOnBlur){const n=this.getValueByText(this.inputElement.value,this.ignoreCase,this.ignoreAccent),s=this.findListElement(this.list,"li","data-value",n),o=this.hideSelectedItem?Ar:"e-active";s&&!s.classList.contains(o)&&(this.updateListSelection(s,e),"Delimiter"===this.mode&&this.updateDelimeter(this.delimiterChar))}this.refreshListItems(null),"Box"!==this.mode&&"CheckBox"!==this.mode&&this.updateDelimView(),this.changeOnBlur&&(this.updateValueState(e,this.value,this.tempValues),this.dispatchEvent(this.hiddenElement,"change")),this.overAllClear.style.display="none",this.isPopupOpen()&&this.hidePopup(),this.makeTextBoxEmpty(),this.trigger("blur"),this.focused=!0,A.isDevice&&"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.removeChipFocus(),this.removeChipSelection(),this.refreshInputHight(),function oDe(r,e,t,i,n){r.classList.remove("e-input-focus");const s=e.querySelector("."+e1);t&&t.length<=0&&"Auto"===i&&!h(s)&&(s.classList.contains(ax)&&T([s],ax),_([s],g0))}(this.overAllWrapper,this.componentWrapper,this.value,this.floatLabelType),this.refreshPlaceHolder(),(this.allowFiltering||!0===this.enableSelectionOrder&&"CheckBox"===this.mode)&&!h(this.mainList)&&(this.ulElement=this.mainList),this.checkPlaceholderSize()}}checkPlaceholderSize(){if(this.showDropDownIcon){const e=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10);this.setPlaceholderSize(e)}else h(this.dropIcon)||this.setPlaceholderSize(this.showDropDownIcon?this.dropIcon.offsetWidth:0)}setPlaceholderSize(e){h(this.value)||0===this.value.length?0!==this.dropIcon.offsetWidth?this.searchWrapper.style.width="calc(100% - "+(e+10)+"px":_([this.searchWrapper],dK):h(this.value)||(this.searchWrapper.removeAttribute("style"),T([this.searchWrapper],dK))}refreshInputHight(){this.value&&this.value.length||!h(this.text)&&""!==this.text?this.searchWrapper.classList.add(q2):this.searchWrapper.classList.remove(q2)}validateValues(e,t){return JSON.stringify(e.slice().sort())!==JSON.stringify(t.slice().sort())}updateValueState(e,t,i){if(this.initStatus&&this.validateValues(t||[],i||[])){const o={e,oldValue:i,value:t,isInteracted:!!e,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",o),this.updateTempValue(),this.changeOnBlur||this.dispatchEvent(this.hiddenElement,"change")}}updateTempValue(){this.tempValues=this.value?this.value.slice():this.value}getPagingCount(){const e=this.list.classList.contains("e-nodata")?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.offsetHeight/parseInt(e,10))}pageUpSelection(e){const t=this.list.querySelectorAll("li."+et_li+":not(."+Ar+"):not(.e-reorder-hide)"),i=e>=0?t[e+1]:t[0];this.addListFocus(i),this.scrollBottom(i,this.getIndexByValue(i.getAttribute("data-value")))}pageDownSelection(e){this.getItems();const i=this.list.querySelectorAll("li."+et_li+":not(."+Ar+"):not(.e-reorder-hide)"),n=e<=i.length?i[e-1]:i[i.length-1];this.addListFocus(n),this.scrollBottom(n,this.getIndexByValue(n.getAttribute("data-value")))}getItems(){return this.list||super.render(),this.ulElement&&this.ulElement.querySelectorAll("."+et_li).length>0?this.ulElement.querySelectorAll("."+et_li+":not(."+Ar+")"):[]}focusInHandler(e){return!!this.enabled&&(this.showOverAllClear(),this.inputFocus=!0,this.value&&this.value.length&&("Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),"CheckBox"!==this.mode&&(this.viewWrapper.style.display="none")),"CheckBox"!==this.mode&&this.searchWrapper.classList.remove(q2),this.checkPlaceholderSize(),this.focused&&(this.trigger("focus",{isInteracted:!!e,event:e}),this.focused=!1),this.overAllWrapper.classList.contains(f0)||this.overAllWrapper.classList.add(f0),function rDe(r,e){r.classList.add("e-input-focus");const t=e.querySelector("."+e1);h(t)||(_([t],ax),t.classList.contains(g0)&&T([t],g0))}(this.overAllWrapper,this.componentWrapper),this.isPopupOpen()&&this.refreshPopup(),!0)}showDelimWrapper(){"CheckBox"===this.mode?this.viewWrapper.style.display="":this.delimiterWrapper.style.display="",this.componentWrapper.classList.add(iK)}hideDelimWrapper(){this.delimiterWrapper.style.display="none",this.componentWrapper.classList.remove(iK)}expandTextbox(){let e=5;this.placeholder&&(e=e>this.inputElement.placeholder.length?e:this.inputElement.placeholder.length),this.inputElement.size=this.inputElement.value.length>e?this.inputElement.value.length:e}isPopupOpen(){return null!==this.popupWrapper&&null!==this.popupWrapper.parentElement}refreshPopup(){this.popupObj&&this.mobFilter&&(this.popupObj.setProperties({width:this.calcPopupWidth()}),this.popupObj.refreshPosition(this.overAllWrapper),this.popupObj.resolveCollision())}checkTextLength(){return this.targetElement().length<1}popupKeyActions(e){switch(e.keyCode){case 38:this.hidePopup(),"CheckBox"===this.mode&&this.inputElement.focus(),e.preventDefault();break;case 40:this.isPopupOpen()||(this.showPopup(),e.preventDefault())}}updateAriaAttribute(){const e=this.list.querySelector("."+et_focus);if(!h(e))if(this.inputElement.setAttribute("aria-activedescendant",e.id),this.allowFiltering){const t=this.popupWrapper.querySelector("."+U2);t&&t.setAttribute("aria-activedescendant",e.id)}else"CheckBox"===this.mode&&this.overAllWrapper.setAttribute("aria-activedescendant",e.id)}homeNavigation(e){this.removeFocus();const t=this.ulElement.querySelectorAll("li."+et_li+":not(."+Ar+"):not(.e-reorder-hide)");if(t.length>0){const i=t[e?0:t.length-1];i.classList.add(et_focus),this.scrollBottom(i)}}onKeyDown(e){if(!this.readonly&&(this.enabled||"CheckBox"===this.mode)&&(this.keyCode=e.keyCode,this.keyDownStatus=!0,!(e.keyCode>111&&e.keyCode<124))){if(e.altKey)return void this.popupKeyActions(e);if(this.isPopupOpen()){const t=this.list.querySelector("."+et_focus);let i;switch(e.keyCode){case 36:case 35:this.homeNavigation(36===e.keyCode);break;case 33:return e.preventDefault(),void(t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageUpSelection(i-this.getPagingCount()),this.updateAriaAttribute()));case 34:return e.preventDefault(),void(t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageDownSelection(i+this.getPagingCount()),this.updateAriaAttribute()));case 38:this.arrowUp(e);break;case 40:this.arrowDown(e);break;case 27:return e.preventDefault(),this.hidePopup(),void("CheckBox"===this.mode&&this.inputElement.focus());case 13:return e.preventDefault(),"CheckBox"!==this.mode&&this.selectByKey(e),void this.checkPlaceholderSize();case 32:return void this.spaceKeySelection(e);case 9:e.preventDefault(),this.hidePopup(),this.inputElement.focus(),this.overAllWrapper.classList.add(f0)}}else switch(e.keyCode){case 13:case 9:case 16:case 17:case 20:return;case 40:this.openOnClick&&this.showPopup();break;case 27:return e.preventDefault(),void this.escapeAction()}this.checkTextLength()&&this.keyNavigation(e),"CheckBox"===this.mode&&this.enableSelectionOrder&&this.checkBackCommand(e),this.expandTextbox(),"CheckBox"===this.mode&&this.showSelectAll||this.refreshPopup()}}arrowDown(e){e.preventDefault(),this.moveByList(1),this.keyAction=!0,(document.activeElement.classList.contains(U2)||"CheckBox"===this.mode&&!this.allowFiltering&&document.activeElement!==this.list)&&C.add(this.list,"keydown",this.onKeyDown,this),this.updateAriaAttribute()}arrowUp(e){e.preventDefault(),this.keyAction=!0;let t=this.list.querySelectorAll("li."+et_li+":not(."+Ar+"):not(.e-reorder-hide)");this.enableGroupCheckBox&&"CheckBox"===this.mode&&!h(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+et_li+",li."+et_group+":not(."+Ar+"):not(.e-reorder-hide)"));const i=this.list.querySelector("li."+et_focus);Array.prototype.slice.call(t).indexOf(i)<=0&&"CheckBox"===this.mode&&this.allowFiltering&&(this.keyAction=!1,this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"focus"})),this.moveByList(-1),this.updateAriaAttribute()}spaceKeySelection(e){"CheckBox"===this.mode&&(document.activeElement.classList.contains(U2)||(e.preventDefault(),this.keyAction=!0,this.list.focus()),this.selectByKey(e)),this.checkPlaceholderSize()}checkBackCommand(e){this.backCommand=8!==e.keyCode||""!==this.targetElement()}keyNavigation(e){if("Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.value&&this.value.length)switch(e.keyCode){case 37:e.preventDefault(),this.moveBy(-1,e);break;case 39:e.preventDefault(),this.moveBy(1,e);break;case 8:this.removelastSelection(e);break;case 46:this.removeSelectedChip(e)}else if(8===e.keyCode&&"Delimiter"===this.mode&&this.value&&this.value.length){e.preventDefault();const t=this.value[this.value.length-1];this.removeValue(t,e),this.updateDelimeter(this.delimiterChar,e),this.focusAtLastListItem(t)}}selectByKey(e){this.removeChipSelection(),this.selectListByKey(e),this.hideSelectedItem&&this.focusAtFirstListItem()}escapeAction(){const e=this.tempValues?this.tempValues.slice():[];this.value&&this.validateValues(this.value,e)&&("CheckBox"!==this.mode&&(this.value=e,this.initialValueUpdate()),"Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),this.refreshPlaceHolder(),this.value.length?this.showOverAllClear():this.hideOverAllClear()),this.makeTextBoxEmpty()}scrollBottom(e,t){const i=this.list.offsetHeight,n=e.offsetTop+e.offsetHeight-this.list.scrollTop,s=this.list.scrollTop+n-i;let o=e.offsetTop+e.offsetHeight-this.list.scrollTop;o=this.fields.groupBy&&!h(this.fixedHeaderElement)?o-this.fixedHeaderElement.offsetHeight:o,0===t?this.list.scrollTop=0:n>i?this.list.scrollTop=s:o>0&&this.list.offsetHeight>o||(this.list.scrollTop=s)}scrollTop(e,t){let i=e.offsetTop-this.list.scrollTop;i=this.fields.groupBy&&!Et(this.fixedHeaderElement)?i-this.fixedHeaderElement.offsetHeight:i;const n=e.offsetTop+e.offsetHeight-this.list.scrollTop;0===t?this.list.scrollTop=0:i<0?this.list.scrollTop=this.list.scrollTop+i:n>0&&this.list.offsetHeight>n||(this.list.scrollTop=e.offsetTop-(this.fields.groupBy&&!Et(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}selectListByKey(e){const t=this.list.querySelector("li."+et_focus);let n,i=this.value&&this.value.length?this.value.length:0;null!==t&&(t.classList.contains("e-active")&&(i-=1),this.isValidLI(t)&&i<this.maximumSelectionLength?(this.updateListSelection(t,e),this.addListFocus(t),"CheckBox"===this.mode?(this.updateDelimView(),this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight(),this.checkPlaceholderSize(),this.enableGroupCheckBox&&!h(this.fields.groupBy)&&(n=t.firstElementChild.lastElementChild,this.findGroupStart(n),this.deselectHeader())):this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),"CheckBox"!==this.mode&&this.refreshListItems(t.textContent),this.changeOnBlur||this.updateValueState(e,this.value,this.tempValues),this.refreshPopup()):!this.isValidLI(t)&&i<this.maximumSelectionLength&&(n=t.firstElementChild.lastElementChild,n.classList.contains("e-check")?this.selectAllItem(!1,e,t):this.selectAllItem(!0,e,t)),this.refreshSelection(),this.closePopupOnSelect&&this.hidePopup()),this.refreshPlaceHolder()}refreshListItems(e){if((this.allowFiltering||"CheckBox"===this.mode&&!0===this.enableSelectionOrder||this.allowCustomValue)&&this.mainList&&this.listData){const t=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(t,this.mainData),this.focusAtLastListItem(e),this.value&&this.value.length&&this.refreshSelection()}}removeSelectedChip(e){const t=this.chipCollectionWrapper.querySelector("span."+dx);let i;null!==t&&(h(this.value)||(this.tempValues=this.value.slice()),i=t.nextElementSibling,null!==i&&(this.removeChipSelection(),this.addChipSelection(i,e)),this.removeValue(t.getAttribute("data-value"),e),this.makeTextBoxEmpty()),this.closePopupOnSelect&&this.hidePopup(),this.checkPlaceholderSize()}moveByTop(e){const t=this.list.querySelectorAll("li."+et_li);let i;t.length>1&&(this.removeFocus(),i=e?0:t.length-1,this.addListFocus(t[i]),this.scrollBottom(t[i],i)),this.updateAriaAttribute()}moveByList(e){if(this.list){let t=this.list.querySelectorAll("li."+et_li+":not(."+Ar+"):not(.e-reorder-hide)");"CheckBox"===this.mode&&this.enableGroupCheckBox&&!h(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+et_li+",li."+et_group+":not(."+Ar+"):not(.e-reorder-hide)"));const i=this.list.querySelector("li."+et_focus);let n=-1;if(t.length){for(let s=0;s<t.length;s++)if(t[s]===i){n=s;break}e>0?n<t.length-1&&(this.removeFocus(),this.addListFocus(t[++n]),this.updateCheck(t[n]),this.scrollBottom(t[n],n)):n>0&&(this.removeFocus(),this.addListFocus(t[--n]),this.updateCheck(t[n]),this.scrollTop(t[n],n))}}}updateCheck(e){"CheckBox"===this.mode&&this.enableGroupCheckBox&&!h(this.fields.groupBy)&&(e.firstElementChild.lastElementChild.classList.contains("e-check")?e.classList.add("e-active"):e.classList.remove("e-active"))}moveBy(e,t){let i;const n=this.chipCollectionWrapper.querySelectorAll("span."+cx),s=this.chipCollectionWrapper.querySelector("span."+dx);null===s?e<0&&this.addChipSelection(n[n.length-1],t):e<0?(i=s.previousElementSibling,null!==i&&(this.removeChipSelection(),this.addChipSelection(i,t))):(i=s.nextElementSibling,this.removeChipSelection(),null!==i&&this.addChipSelection(i,t))}chipClick(e){if(this.enabled){const t=D(e.target,"."+cx);this.removeChipSelection(),this.addChipSelection(t,e)}}removeChipSelection(){this.chipCollectionWrapper&&this.removeChipFocus()}addChipSelection(e,t){_([e],dx),this.trigger("chipSelection",t)}onChipRemove(e){if(3!==e.which&&2!==e.button&&this.enabled&&!this.readonly){const i=e.target.parentElement.getAttribute("data-value");let n=this.getFormattedValue(i);if(this.allowCustomValue&&("false"!==i&&!1===n||!h(n)&&"NaN"===n.toString())&&(n=i),this.isPopupOpen()&&"CheckBox"!==this.mode&&this.hidePopup(),this.inputFocus||this.inputElement.focus(),this.removeValue(n,e),h(this.findListElement(this.list,"li","data-value",n))&&this.mainList&&this.listData){const s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(s,this.mainData)}this.updateDelimeter(this.delimiterChar,e),this.placeholder&&"Never"===this.floatLabelType?(this.makeTextBoxEmpty(),this.checkPlaceholderSize()):this.inputElement.value="",e.preventDefault()}}makeTextBoxEmpty(){this.inputElement.value="",this.refreshPlaceHolder()}refreshPlaceHolder(){this.placeholder&&"Never"===this.floatLabelType?this.inputElement.placeholder=this.value&&this.value.length||!h(this.text)&&""!==this.text?"":yO(this.placeholder):this.setFloatLabelType(),this.expandTextbox()}removeAllItems(e,t,i,n,s){const o=this.value.indexOf(e),l=this.value.slice(0);l.splice(o,1),this.setProperties({value:[].concat([],l)},!0),n.setAttribute("aria-selected","false"),T([n],this.hideSelectedItem?Ar:"e-active"),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:n,e:this,index:o}),this.invokeCheckboxSelection(n,t,i),this.updateMainList(!0,e,s),this.updateChipStatus()}invokeCheckboxSelection(e,t,i){this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:t}),Le(this.inputElement,{"aria-activedescendant":e.id}),this.value&&this.value.length!==this.mainData.length&&"CheckBox"===this.mode&&this.showSelectAll&&!this.isSelectAll&&!i&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"})}removeValue(e,t,i,n){let s=this.value.indexOf(this.getFormattedValue(e));-1===s&&this.allowCustomValue&&!h(e)&&(s=this.value.indexOf(e.toString()));const o=t&&t.target;n=!!(n||o&&o.classList.contains("e-close-hooker"))||null;const l=this.hideSelectedItem?Ar:"e-active";if(-1!==s){const a=this.findListElement(this.list,"li","data-value",e),c=this.getDataByValue(e);this.trigger("removing",{e:t,item:a,itemData:c,isInteracted:!!t,cancel:!1},u=>{if(u.cancel)this.removeIndex++;else{const p=this.value.slice(0);if(p.splice(s,1),this.setProperties({value:[].concat([],p)},!0),null!==a){const v=this.findListElement(this.mainList,"li","data-value",e);a.setAttribute("aria-selected","false"),T([a],l),v&&(v.setAttribute("aria-selected","false"),T([a,v],l)),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:a,e:this,index:s}),this.invokeCheckboxSelection(a,t,n)}this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.hideSelectedItem&&this.fixedHeaderElement&&this.fields.groupBy&&"CheckBox"!==this.mode&&this.isPopupOpen()&&super.scrollStop(),this.updateMainList(!0,e),this.removeChip(e),this.updateChipStatus(),(this.value&&this.value.length?this.value.length:0)<this.maximumSelectionLength&&T(this.list.querySelectorAll("li."+et_li+":not(.e-active)"),"e-disable"),this.trigger("removed",u);const f=t&&t.currentTarget,m=!(!f||!f.classList.contains("e-selectall-parent"))||null;!this.changeOnBlur&&!n&&t&&i&&!m&&this.updateValueState(t,this.value,this.tempValues),i&&(this.selectAllEventData.push(c),this.selectAllEventEle.push(a)),1===i&&(this.changeOnBlur||this.updateValueState(t,this.value,this.tempValues),this.trigger("selectedAll",{event:t,items:this.selectAllEventEle,itemData:this.selectAllEventData,isInteracted:!!t,isChecked:!1}),this.selectAllEventData=[],this.selectAllEventEle=[]),n&&(1===i||null===i)&&this.clearAllCallback(t,n)}})}}updateMainList(e,t,i){if(this.allowFiltering||"CheckBox"===this.mode){const n=i||this.findListElement(this.mainList,"li","data-value",t);n&&(e?(n.setAttribute("aria-selected","false"),T([n],this.hideSelectedItem?Ar:"e-active"),"CheckBox"===this.mode&&(n.firstElementChild.setAttribute("aria-checked","false"),T([n.firstElementChild.lastElementChild],"e-check"))):(n.setAttribute("aria-selected","true"),_([n],this.hideSelectedItem?Ar:"e-active"),"CheckBox"===this.mode&&(n.firstElementChild.setAttribute("aria-checked","true"),_([n.firstElementChild.lastElementChild],"e-check"))))}}removeChip(e){if(this.chipCollectionWrapper){const t=this.findListElement(this.chipCollectionWrapper,"span","data-value",e);t&&X(t)}}setWidth(e){h(e)||("number"==typeof e?this.overAllWrapper.style.width=$e(e):"string"==typeof e&&(this.overAllWrapper.style.width=e.match(/px|%|em/)?e:$e(e)))}updateChipStatus(){this.value&&this.value.length?(h(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display=""),("Delimiter"===this.mode||"CheckBox"===this.mode)&&this.showDelimWrapper(),this.showOverAllClear()):(h(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display="none"),h(this.delimiterWrapper)||(this.delimiterWrapper.style.display="none"),this.hideOverAllClear())}addValue(e,t,i){this.value||(this.value=[]),this.value.indexOf(e)<0&&this.setProperties({value:[].concat([],this.value,[e])},!0);const n=this.findListElement(this.list,"li","data-value",e);this.removeFocus(),n&&(this.addListFocus(n),this.addListSelection(n)),"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.addChip(t,e,i),this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.updateChipStatus(),this.checkMaxSelection()}checkMaxSelection(){(this.value&&this.value.length?this.value.length:0)===this.maximumSelectionLength&&_(this.list.querySelectorAll("li."+et_li+":not(.e-active)"),"e-disable")}dispatchSelect(e,t,i,n,s){const o=this.listData;if(this.initStatus&&!n){const l=this.getDataByValue(e);this.trigger("select",{e:t,item:i,itemData:l,isInteracted:!!t,cancel:!1},c=>{c.cancel||(s&&(this.selectAllEventData.push(l),this.selectAllEventEle.push(i)),1===s&&(this.trigger("selectedAll",{event:t,items:this.selectAllEventEle,itemData:this.selectAllEventData,isInteracted:!!t,isChecked:!0}),this.selectAllEventData=[]),this.allowCustomValue&&this.isServerRendered&&this.listData!==o&&(this.listData=o),this.updateListSelectEventCallback(e,i,t),this.hideSelectedItem&&this.fixedHeaderElement&&this.fields.groupBy&&"CheckBox"!==this.mode&&super.scrollStop())})}}addChip(e,t,i){this.chipCollectionWrapper&&this.getChip(e,t,i)}removeChipFocus(){const e=this.chipCollectionWrapper.querySelectorAll("span."+cx),t=this.chipCollectionWrapper.querySelectorAll("span."+G2.split(" ")[0]);if(T(e,dx),A.isDevice)for(let i=0;i<t.length;i++)t[i].style.display="none"}onMobileChipInteraction(e){const t=D(e.target,"."+cx),i=t.querySelector("span."+G2.split(" ")[0]);this.enabled&&!this.readonly&&(t.classList.contains(dx)||(this.removeChipFocus(),i.style.display="",t.classList.add(dx)),this.refreshPopup(),e.preventDefault())}multiCompiler(e){let t=!1;if(e)try{t=!!gt(e,document).length}catch(i){t=!1}return t}getChip(e,t,i){let n={text:t,value:t};const s=this.createElement("span",{className:cx,attrs:{"data-value":t,title:e}});let o;const l=this.createElement("span",{className:"e-chipcontent"}),a=this.createElement("span",{className:G2});if(this.mainData&&(n=this.getDataByValue(t)),this.valueTemplate&&!h(n)){o=this.multiCompiler(this.valueTemplate)?ci(G(this.valueTemplate,document).innerHTML.trim()):ci(this.valueTemplate);let u=o(n,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,l);if(u&&u.length>0)for(let p=0;p<u.length;p++)l.appendChild(u[p]);this.renderReactTemplates()}else this.enableHtmlSanitizer?l.innerText=e:l.innerHTML=e;s.appendChild(l);const c={isInteracted:!!i,itemData:n,e:i,setClass:d=>{_([s],d)},cancel:!1};this.isPreventChange=this.isAngular&&this.preventChange,this.trigger("tagging",c,d=>{d.cancel||(A.isDevice?(s.classList.add("e-mob-chip"),Jt([a],s),a.style.display="none",C.add(s,"click",this.onMobileChipInteraction,this)):(C.add(s,"mousedown",this.chipClick,this),this.showClearButton&&s.appendChild(a)),C.add(a,"mousedown",this.onChipRemove,this),this.chipCollectionWrapper.appendChild(s),!this.changeOnBlur&&i&&this.updateValueState(i,this.value,this.tempValues))})}calcPopupWidth(){let e=$e(this.popupWidth);return e.indexOf("%")>-1&&(e=(this.componentWrapper.offsetWidth*parseFloat(e)/100).toString()+"px"),e}mouseIn(){this.enabled&&!this.readonly&&this.showOverAllClear()}mouseOut(){this.inputFocus||(this.overAllClear.style.display="none")}listOption(e,t){const i=!h(t.iconCss),n=h(t.properties)?t:t.properties;return this.listCurrentOptions=null!==t.text||null!==t.value?{fields:n,showIcon:i,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},O(this.listCurrentOptions,this.listCurrentOptions,t,!0),"CheckBox"===this.mode&&this.notify("listoption",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,dataSource:e,fieldProperty:n}),this.listCurrentOptions}renderPopup(){if(this.list||super.render(),!this.popupObj){document.body.appendChild(this.popupWrapper);const e=this.popupWrapper.querySelector(".e-filter-parent");"CheckBox"===this.mode&&!this.allowFiltering&&e&&this.filterParent&&(e.remove(),this.filterParent=null);let t=parseInt(this.popupHeight,10);if(this.popupWrapper.style.visibility="hidden",this.headerTemplate&&(this.setHeaderTemplate(),t-=this.header.offsetHeight),Jt([this.list],this.popupWrapper),this.footerTemplate&&(this.setFooterTemplate(),t-=this.footer.offsetHeight),"CheckBox"===this.mode&&this.showSelectAll?(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),t-=this.selectAllHeight):"CheckBox"!==this.mode||this.showSelectAll||this.headerTemplate||this.footerTemplate?"CheckBox"===this.mode&&!this.showSelectAll&&(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),t=parseInt(this.popupHeight,10),this.headerTemplate&&this.header&&(t-=this.header.offsetHeight),this.footerTemplate&&this.footer&&(t-=this.footer.offsetHeight)):(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),t=parseInt(this.popupHeight,10)),"CheckBox"===this.mode){const i={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,popupElement:this.popupWrapper};this.allowFiltering&&(this.notify("searchBox",i),t-=this.searchBoxHeight),_([this.popupWrapper],"e-checkbox")}"auto"!==this.popupHeight?(this.list.style.maxHeight=$e(t),this.popupWrapper.style.maxHeight=$e(this.popupHeight)):this.list.style.maxHeight=$e(this.popupHeight),this.popupObj=new wc(this.popupWrapper,{width:this.calcPopupWidth(),targetType:"relative",position:{X:"left",Y:"bottom"},relateTo:this.overAllWrapper,collision:{X:"flip",Y:"flip"},offsetY:1,enableRtl:this.enableRtl,zIndex:this.zIndex,close:()=>{if(this.popupObj.element.parentElement){this.popupObj.unwireScrollEvents();const i=this.popupWrapper.querySelector("."+U2);"CheckBox"===this.mode&&i&&document.activeElement===i&&i.blur(),de(this.popupObj.element)}},open:()=>{if(this.popupObj.resolveCollision(),!this.isFirstClick){const i=this.list.querySelector("ul");i&&("CheckBox"!==this.mode&&(this.allowFiltering||this.allowCustomValue)&&""!==this.targetElement().trim()||(this.mainList=i.cloneNode?i.cloneNode(!0):i)),this.isFirstClick=!0}this.popupObj.wireScrollEvents(),"CheckBox"!==this.mode&&(this.allowFiltering||this.allowCustomValue)&&""!==this.targetElement().trim()||this.loadTemplate(),this.setScrollPosition(),this.allowFiltering&&this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"focus"})},targetExitViewport:()=>{A.isDevice||this.hidePopup()}}),"CheckBox"===this.mode&&A.isDevice&&this.allowFiltering&&this.notify("deviceSearchBox",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.popupObj.close(),this.popupWrapper.style.visibility=""}}setHeaderTemplate(){let e;this.header&&this.header.remove(),this.header=this.createElement("div"),_([this.header],"e-ddl-header"),e=this.multiCompiler(this.headerTemplate)?ci(G(this.headerTemplate,document).innerHTML.trim()):ci(this.headerTemplate);let i=e({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);if(i&&i.length>0)for(let n=0;n<i.length;n++)this.header.appendChild(i[n]);"CheckBox"===this.mode&&this.showSelectAll?oo([this.header],this.popupWrapper):Jt([this.header],this.popupWrapper),C.add(this.header,"mousedown",this.onListMouseDown,this)}setFooterTemplate(){let e;this.footer&&this.footer.remove(),this.footer=this.createElement("div"),_([this.footer],"e-ddl-footer"),e=this.multiCompiler(this.footerTemplate)?ci(G(this.footerTemplate,document).innerHTML.trim()):ci(this.footerTemplate);let i=e({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);if(i&&i.length>0)for(let n=0;n<i.length;n++)this.footer.appendChild(i[n]);Jt([this.footer],this.popupWrapper),C.add(this.footer,"mousedown",this.onListMouseDown,this)}clearAll(e){if(this.enabled&&!this.readonly){let t;if(this.value&&this.value.length>0){const i=this.list&&this.list.querySelectorAll("li.e-list-item");if(i&&i.length>0)this.selectAllItems(!1,e);else for(this.removeIndex=0,t=this.value[this.removeIndex];this.removeIndex<this.value.length;t=this.value[this.removeIndex])this.removeValue(t,e,null,!0)}else this.clearAllCallback(e)}}clearAllCallback(e,t){const i=this.value?this.value.slice():[];if(this.mainList&&this.listData&&(this.allowFiltering&&"CheckBox"!==this.mode||this.allowCustomValue)){const n=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(n,this.mainData)}this.focusAtFirstListItem(),this.updateDelimeter(this.delimiterChar,e),"Box"!==this.mode&&(!this.inputFocus||"CheckBox"===this.mode)&&this.updateDelimView(),""!==this.inputElement.value&&(this.makeTextBoxEmpty(),this.search(null)),this.checkPlaceholderSize(),this.isPopupOpen()&&this.refreshPopup(),this.inputFocus||(this.changeOnBlur&&this.updateValueState(e,this.value,i),"CheckBox"!==this.mode&&this.inputElement.focus()),"CheckBox"===this.mode&&(this.refreshPlaceHolder(),this.refreshInputHight(),this.changeOnBlur&&t&&(h(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues)),!this.changeOnBlur&&t&&(h(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues),"CheckBox"===this.mode&&this.enableGroupCheckBox&&!h(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),e.preventDefault()}windowResize(){this.refreshPopup(),(!this.inputFocus||"CheckBox"===this.mode)&&this.viewWrapper&&this.viewWrapper.parentElement&&this.updateDelimView()}resetValueHandler(e){const t=D(this.inputElement,"form");if(t&&e.target===t){const i=this.element.tagName===this.getNgDirective()?null:this.element.getAttribute("data-initial-value");this.text=i}}wireEvent(){C.add(this.componentWrapper,"mousedown",this.wrapperClick,this),C.add(window,"resize",this.windowResize,this),C.add(this.inputElement,"focus",this.focusInHandler,this),C.add(this.inputElement,"keydown",this.onKeyDown,this),C.add(this.inputElement,"keyup",this.keyUp,this),"CheckBox"!==this.mode&&C.add(this.inputElement,"input",this.onInput,this),C.add(this.inputElement,"blur",this.onBlurHandler,this),C.add(this.componentWrapper,"mouseover",this.mouseIn,this);const e=D(this.inputElement,"form");e&&C.add(e,"reset",this.resetValueHandler,this),C.add(this.componentWrapper,"mouseout",this.mouseOut,this),C.add(this.overAllClear,"mouseup",this.clearAll,this),C.add(this.inputElement,"paste",this.pasteHandler,this)}onInput(e){this.isValidKey=!!this.keyDownStatus,this.keyDownStatus=!1,A.isDevice&&"mozilla"===A.info.name&&this.search(e)}pasteHandler(e){setTimeout(()=>{this.expandTextbox(),this.search(e)})}search(e){if(h(e)||(this.keyCode=e.keyCode),!this.isPopupOpen()&&this.openOnClick&&this.showPopup(),this.openClick(e),!this.checkTextLength()||this.allowFiltering||h(e)||8===e.keyCode){const t=this.targetElement();if(this.allowFiltering){const i={preventDefaultAction:!1,text:this.targetElement(),updateData:(n,s,o)=>{i.cancel||(this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(n,s,o))},event:e,cancel:!1};this.trigger("filtering",i,n=>{n.cancel||!this.isFiltered&&!n.preventDefaultAction&&(this.filterAction=!0,this.dataUpdater(this.dataSource,null,this.fields))})}else if(this.allowCustomValue){let i=new Ze;i=""!==t?i.where(this.fields.text,"startswith",t,this.ignoreCase,this.ignoreAccent):i,this.dataUpdater(this.mainData,i,this.fields)}else{const i=this.list.querySelectorAll("li."+et_li+":not(.e-hide-listitem)"),n=u0(this.targetElement(),i,"StartsWith",this.ignoreCase);n&&null!==n.item?(this.addListFocus(n.item),this.list.scrollTop=n.item.offsetHeight*n.index):""!==this.targetElement()?this.removeFocus():this.focusAtFirstListItem()}}else this.focusAtFirstListItem()}preRender(){null===this.allowFiltering&&(this.allowFiltering="CheckBox"===this.mode),this.initializeData(),this.updateDataAttribute(this.htmlAttributes),super.preRender()}getLocaleName(){return"multi-select"}initializeData(){this.mainListCollection=[],this.beforePopupOpen=!1,this.filterAction=!1,this.remoteFilterAction=!1,this.isFirstClick=!1,this.mobFilter=!0,this.isFiltered=!1,this.focused=!0,this.initial=!0,this.backCommand=!0}updateData(e,t){let i="";const n="Delimiter"===this.mode||"CheckBox"===this.mode,s=[];let o;const l=this.listData;if(this.listData=this.mainData,this.hiddenElement.innerHTML="",!h(this.value))for(let d=0;!h(this.value[d]);d++){const u=this.findListElement(h(this.mainList)?this.ulElement:this.mainList,"li","data-value",this.value[d]);h(u)&&!this.allowCustomValue?(this.value.splice(d,1),d-=1):(o=this.listData?this.getTextByValue(this.value[d]):this.value[d],i+=o+e+" ",s.push(o)),this.hiddenElement.innerHTML+='<option selected value ="'+this.value[d]+'">'+d+"</option>"}this.setProperties({text:s.toString()},!0),n&&(this.updateWrapperText(this.delimiterWrapper,i),this.delimiterWrapper.setAttribute("id",Gn("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id));const a=t&&t.target,c=!(!a||!a.classList.contains("e-close-hooker"))||null;(!this.changeOnBlur&&t&&!c||this.isSelectAll)&&(this.isSelectAll=!1,this.updateValueState(t,this.value,this.tempValues)),this.listData=l,this.addValidInputClass()}initialTextUpdate(){if(h(this.text))this.setProperties({value:null},!0);else{const e=this.text.split(this.delimiterChar),t=[];for(let i=0;e.length>i;i++){const n=this.getValueByText(e[i]);h(n)?this.allowCustomValue&&t.push(e[i]):t.push(n)}t&&t.length&&this.setProperties({value:t},!0)}}renderList(e){!e&&this.allowCustomValue&&this.list&&(this.list.textContent===this.noRecordsTemplate||this.list.querySelector(".e-ul")&&0===this.list.querySelector(".e-ul").childElementCount)&&(e=!0),super.render(e),this.unwireListEvents(),this.wireListEvents()}initialValueUpdate(){if(this.list){let e,t,i;if(this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.removeListSelection(),!h(this.value))for(let n=0;!h(this.value[n]);n++)if(i=this.value[n],t=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",i),e=this.getTextByValue(i),t&&"true"!==t.getAttribute("aria-selected")||t&&"true"===t.getAttribute("aria-selected")&&this.hideSelectedItem&&("Box"===this.mode||"Default"===this.mode))this.addChip(e,i),this.addListSelection(t);else if(i&&this.allowCustomValue){const s=this.listData.length,o={};Ne(this.fields.text,i,o),Ne(this.fields.value,i,o);const l=this.popupWrapper.querySelector(".e-nodata");this.addItem(o,s),t=t||this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",i),this.popupWrapper.contains(l)&&(this.list.setAttribute("style",l.getAttribute("style")),this.popupWrapper.replaceChild(this.list,l),this.wireListEvents()),this.addChip(e,i),this.addListSelection(t)}"CheckBox"===this.mode?(this.updateDelimView(),this.changeOnBlur&&this.updateValueState(null,this.value,this.tempValues),this.updateDelimeter(this.delimiterChar),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar),"CheckBox"===this.mode&&this.showSelectAll&&(h(this.value)||!this.value.length)&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}),"Box"===this.mode||"Default"===this.mode&&this.inputFocus?this.chipCollectionWrapper.style.display="":("Delimiter"===this.mode||"CheckBox"===this.mode)&&this.showDelimWrapper()}}updateActionCompleteData(e,t){this.value&&this.value.indexOf(e.getAttribute("data-value"))>-1&&(this.mainList=this.ulElement,this.hideSelectedItem&&_([e],Ar))}updateAddItemList(e,t){this.popupObj&&this.popupObj.element&&this.popupObj.element.querySelector(".e-nodata")&&e?(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"),X(this.popupWrapper.querySelector(".e-content")),this.popupObj=null,this.renderPopup()):this.allowCustomValue&&(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"))}updateDataList(){if(this.mainList&&this.ulElement){const t=this.ulElement.childElementCount>0&&this.ulElement.children[0].childElementCount>0&&this.mainList.children[0].childElementCount<this.ulElement.children[0].childElementCount,i=this.itemTemplate&&this.ulElement.childElementCount>0&&!(this.ulElement.childElementCount<this.mainList.childElementCount)&&(this.ulElement.children[0].childElementCount>0||this.fields.groupBy&&this.ulElement.children[1]&&this.ulElement.children[1].childElementCount>0);(this.mainList.childElementCount<this.ulElement.childElementCount||t||i)&&(this.mainList=this.ulElement)}}isValidLI(e){return e&&!e.classList.contains("e-disabled")&&!e.classList.contains(et_group)&&e.classList.contains(et_li)}updateListSelection(e,t,i){const n=e.getAttribute("data-value");let s=this.getFormattedValue(n);this.allowCustomValue&&("false"!==n&&!1===s||!h(s)&&"NaN"===s.toString())&&(s=n),this.removeHover(),this.value&&-1!==this.value.indexOf(s)?this.removeValue(s,t,i):this.dispatchSelect(s,t,e,"true"===e.getAttribute("aria-selected"),i)}updateListSelectEventCallback(e,t,i){const n=this.getTextByValue(e);if(!this.allowCustomValue&&!this.allowFiltering||this.findListElement(this.mainList,"li","data-value",e))this.remoteCustomValue=!1,this.addValue(e,n,i);else{const s=t.cloneNode(!0),o=this.fields.value?this.fields.value:"value";this.allowCustomValue&&this.mainData.length&&"number"==typeof M(o,this.mainData[0])&&(e=isNaN(parseFloat(e.toString()))?e:parseFloat(e.toString()));const l=this.getDataByValue(e);this.trigger("customValueSelection",{newData:l,cancel:!1},c=>{c.cancel||(Jt([s],this.mainList),this.mainData.push(l),this.remoteCustomValue=!1,this.addValue(e,n,i))})}}removeListSelection(){const e=this.hideSelectedItem?Ar:"e-active",t=this.list.querySelectorAll("."+e);let i=t.length;if(t&&t.length)for(T(t,e);i>0;)t[i-1].setAttribute("aria-selected","false"),i--;if(!h(this.mainList)){const n=this.mainList.querySelectorAll("."+e);let s=n.length;if(n&&n.length)for(T(n,e);s>0;)n[s-1].setAttribute("aria-selected","false"),"CheckBox"===this.mode&&(t&&t.length>s-1&&(t[s-1].firstElementChild.setAttribute("aria-checked","false"),T([t[s-1].firstElementChild.lastElementChild],"e-check")),n[s-1].firstElementChild.setAttribute("aria-checked","false"),T([n[s-1].firstElementChild.lastElementChild],"e-check")),s--}}removeHover(){const e=this.list.querySelectorAll(".e-hover");e&&e.length&&T(e,"e-hover")}removeFocus(){if(this.list&&this.mainList){const e=this.list.querySelectorAll("."+et_focus),t=this.mainList.querySelectorAll("."+et_focus);e&&e.length&&(T(e,et_focus),T(t,et_focus))}}addListHover(e){(this.enabled&&this.isValidLI(e)||null!==e&&e.classList.contains("e-list-group-item")&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&!h(this.fields.groupBy))&&(this.removeHover(),_([e],"e-hover"))}addListFocus(e){this.enabled&&this.isValidLI(e)?(this.removeFocus(),_([e],et_focus)):this.enableGroupCheckBox&&"CheckBox"===this.mode&&!h(this.fields.groupBy)&&_([e],et_focus)}addListSelection(e,t){const i=this.hideSelectedItem?Ar:"e-active";if(this.isValidLI(e)&&!e.classList.contains("e-hover")){if(_([e],i),this.updateMainList(!1,e.getAttribute("data-value"),t),e.setAttribute("aria-selected","true"),"CheckBox"===this.mode){const n=e.firstElementChild.getAttribute("aria-checked");("false"===n||h(n))&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this})}this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this}),this.chipCollectionWrapper&&this.removeChipSelection(),Le(this.inputElement,{"aria-activedescendant":e.id})}}updateDelimeter(e,t){this.updateData(e,t)}onMouseClick(e){this.keyCode=null,this.scrollFocusStatus=!1;let t=e.target;const i=D(t,"."+et_li);if(D(t,"."+et_group)&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&this.fields.groupBy)t=t.classList.contains("e-list-group-item")?t.firstElementChild.lastElementChild:e.target,t.classList.contains("e-check")?(this.selectAllItem(!1,e),t.classList.remove("e-check"),t.classList.remove("e-stop"),D(t,".e-list-group-item").classList.remove("e-active"),t.setAttribute("aria-selected","false")):(this.selectAllItem(!0,e),t.classList.remove("e-stop"),t.classList.add("e-check"),D(t,".e-list-group-item").classList.add("e-active"),t.setAttribute("aria-selected","true")),this.refreshSelection(),this.checkSelectAll();else{if(this.isValidLI(i)){let s=this.value&&this.value.length?this.value.length:0;i.classList.contains("e-active")&&(s-=1),s<this.maximumSelectionLength&&(this.updateListSelection(i,e),this.checkPlaceholderSize(),this.addListFocus(i),(this.allowCustomValue||this.allowFiltering)&&this.mainList&&this.listData?"CheckBox"!==this.mode&&(this.focusAtLastListItem(i.getAttribute("data-value")),this.refreshSelection()):this.makeTextBoxEmpty()),"CheckBox"===this.mode?(this.updateDelimView(),this.value&&this.value.length>50?setTimeout(()=>{this.updateDelimeter(this.delimiterChar,e)},0):this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.checkSelectAll(),this.refreshPopup(),this.hideSelectedItem&&this.focusAtFirstListItem(),this.closePopupOnSelect?this.hidePopup():e.preventDefault(),this.makeTextBoxEmpty(),this.findGroupStart(t),"CheckBox"!==this.mode&&this.refreshListItems(h(i)?null:i.textContent)}else e.preventDefault();this.refreshPlaceHolder(),this.deselectHeader()}}findGroupStart(e){if(this.enableGroupCheckBox&&"CheckBox"===this.mode&&!h(this.fields.groupBy)){let s;if(this.itemTemplate&&!e.getElementsByClassName("e-frame").length)for(;!e.getElementsByClassName("e-frame").length;)e=e.parentElement;for(e.classList.contains("e-frame")&&(e=e.parentElement.parentElement),s=this.findGroupAttrtibutes(e,0,0,0,0),s=this.findGroupAttrtibutes(e,s[0],s[1],s[2],1);!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),null!=(e=e.previousElementSibling)););this.updateCheckBox(e,s[0],s[1],s[2])}}findGroupAttrtibutes(e,t,i,n,s){for(;!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),e.getElementsByClassName("e-frame")[0].classList.contains("e-check")&&e.classList.contains("e-list-item")?t++:e.classList.contains("e-list-item")&&i++,n++,null!=(e=s?e.nextElementSibling:e.previousElementSibling)););return[t,i,n]}updateCheckBox(e,t,i,n){if(null===e)return;const s=e.getElementsByClassName("e-frame")[0];n===t?(s.classList.remove("e-stop"),s.classList.add("e-check"),D(s,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","true")):n===i?(s.classList.remove("e-check"),s.classList.remove("e-stop"),D(s,".e-list-group-item").classList.remove("e-active"),e.setAttribute("aria-selected","false")):this.maximumSelectionLength===t-1?(s.classList.remove("e-stop"),e.setAttribute("aria-selected","true"),D(s,".e-list-group-item").classList.add("e-active"),s.classList.add("e-check")):(s.classList.remove("e-check"),s.classList.add("e-stop"),D(s,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","false"))}deselectHeader(){const e=this.value&&this.value.length?this.value.length:0,t=this.list.querySelectorAll("li.e-list-group-item:not(.e-active)");e<this.maximumSelectionLength&&T(t,"e-disable"),e===this.maximumSelectionLength&&_(t,"e-disable")}onMouseOver(e){let t=D(e.target,"."+et_li);null===t&&"CheckBox"===this.mode&&!h(this.fields.groupBy)&&this.enableGroupCheckBox&&(t=D(e.target,"."+et_group)),this.addListHover(t)}onMouseLeave(){this.removeHover()}onListMouseDown(e){e.preventDefault(),this.scrollFocusStatus=!0}onDocumentClick(e){if("CheckBox"!==this.mode){const t=e.target;this.scrollFocusStatus=!!(!h(this.popupObj)&&D(t,'[id="'+this.popupObj.element.id+'"]')||this.overAllWrapper.contains(e.target))&&(A.isIE||"edge"===A.info.name)&&document.activeElement===this.inputElement}}wireListEvents(){h(this.list)||(C.add(document,"mousedown",this.onDocumentClick,this),C.add(this.list,"mousedown",this.onListMouseDown,this),C.add(this.list,"mouseup",this.onMouseClick,this),C.add(this.list,"mouseover",this.onMouseOver,this),C.add(this.list,"mouseout",this.onMouseLeave,this))}unwireListEvents(){C.remove(document,"mousedown",this.onDocumentClick),this.list&&(C.remove(this.list,"mousedown",this.onListMouseDown),C.remove(this.list,"mouseup",this.onMouseClick),C.remove(this.list,"mouseover",this.onMouseOver),C.remove(this.list,"mouseout",this.onMouseLeave))}hideOverAllClear(){(!this.value||!this.value.length||""===this.inputElement.value)&&(this.overAllClear.style.display="none")}showOverAllClear(){this.overAllClear.style.display=(this.value&&this.value.length||""!==this.inputElement.value)&&this.showClearButton&&!0!==this.readonly?"":"none"}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()}focusOut(){document.activeElement===this.inputElement&&this.enabled&&this.inputElement.blur()}showSpinner(){if(h(this.spinnerElement)){const e=this.filterParent&&this.filterParent.querySelector(".e-clear-icon.e-icons");"none"!==this.overAllClear.style.display||e?this.spinnerElement=e||this.overAllClear:(this.spinnerElement=this.createElement("span",{className:nK+" "+lK}),this.componentWrapper.appendChild(this.spinnerElement)),bc({target:this.spinnerElement,width:A.isDevice?"16px":"14px"},this.createElement),_([this.spinnerElement],oK),Go(this.spinnerElement)}}hideSpinner(){h(this.spinnerElement)||(qo(this.spinnerElement),T([this.spinnerElement],oK),this.spinnerElement.classList.contains(lK)?de(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)}updateWrapperText(e,t){this.valueTemplate||!this.enableHtmlSanitizer?e.innerHTML=t:e.innerText=Xr.sanitize(t)}updateDelimView(){if(this.delimiterWrapper&&this.hideDelimWrapper(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.style.display="none"),this.viewWrapper.style.display="",this.viewWrapper.style.width="",this.viewWrapper.classList.remove(W2),this.value&&this.value.length){let t,i,s,o,a,e="",n=1,l=0;this.updateWrapperText(this.viewWrapper,e);const c={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed",overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"};let d=new is(this.getLocaleName(),c,this.locale);""===d.getConstant("actionFailureTemplate")&&(d=new is("dropdowns",c,this.locale)),""===d.getConstant("noRecordsTemplate")&&(d=new is("dropdowns",c,this.locale));const u=d.getConstant("overflowCountTemplate"),p=d.getConstant("totalCountTemplate"),g=this.createElement("span",{className:"e-remain"}),f=u.replace("${count}",this.value.length.toString());g.innerText=f,this.viewWrapper.appendChild(g),this.renderReactTemplates();const m=g.offsetWidth;if(X(g),this.showDropDownIcon&&(l=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10)),this.checkClearIconWidth(),!h(this.value))for(let v=0;!h(this.value[v]);v++){if(e+=0===v?"":this.delimiterChar+" ",t=this.getOverflowVal(v),e+=t,t=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,e),s=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10),a=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),s+l+this.clearIconWidth>a){for(void 0!==i&&""!==i&&(t=i,v=n+1),this.updateWrapperText(this.viewWrapper,t),o=this.value.length-v,s=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);s+m+l+this.clearIconWidth>a&&0!==s&&""!==this.viewWrapper.innerHTML;)this.viewWrapper.innerHTML=[].join(this.delimiterChar),o=this.value.length,s=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);break}s+m+l+this.clearIconWidth<=a?(i=e,n=v):0===v&&(i="",n=-1)}if(o>0){const v=a-l-this.clearIconWidth;this.viewWrapper.appendChild(this.updateRemainTemplate(g,this.viewWrapper,o,u,p,v)),this.updateRemainWidth(this.viewWrapper,v),this.updateRemainingText(g,l,o,u,p)}}else this.viewWrapper.innerHTML="",this.viewWrapper.style.display="none"}checkClearIconWidth(){this.showClearButton&&(this.clearIconWidth=this.overAllClear.offsetWidth)}updateRemainWidth(e,t){e.classList.contains(W2)&&t<e.offsetWidth+parseInt(window.getComputedStyle(e).paddingLeft,10)+parseInt(window.getComputedStyle(e).paddingLeft,10)&&(e.style.width=t+"px")}updateRemainTemplate(e,t,i,n,s,o){t.firstChild&&3===t.firstChild.nodeType&&""===t.firstChild.nodeValue&&t.removeChild(t.firstChild),e.innerHTML="";const l=n.replace("${count}",i.toString()),a=s.replace("${count}",i.toString());return e.innerText=t.firstChild&&3===t.firstChild.nodeType?l:a,t.firstChild&&3===t.firstChild.nodeType?t.classList.remove(W2):(t.classList.add(W2),this.updateRemainWidth(t,o)),e}updateRemainingText(e,t,i,n,s){const o=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10);let l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);if(l+t>=o&&0!==l&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType){for(;l+t>o&&0!==l&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType;){const c=this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);c.pop(),this.viewWrapper.firstChild.nodeValue=c.join(this.delimiterChar),""===this.viewWrapper.firstChild.nodeValue&&this.viewWrapper.removeChild(this.viewWrapper.firstChild),i++,l=this.viewWrapper.offsetWidth}this.updateRemainTemplate(e,this.viewWrapper,i,n,s,o-t)}}getOverflowVal(e){let t;if(this.mainData&&this.mainData.length)if("CheckBox"===this.mode){const i=this.listData;this.listData=this.mainData,t=this.getTextByValue(this.value[e]),this.listData=i}else t=this.getTextByValue(this.value[e]);else t=this.value[e];return t}unWireEvent(){C.remove(this.componentWrapper,"mousedown",this.wrapperClick),C.remove(window,"resize",this.windowResize),C.remove(this.inputElement,"focus",this.focusInHandler),C.remove(this.inputElement,"keydown",this.onKeyDown),"CheckBox"!==this.mode&&C.remove(this.inputElement,"input",this.onInput),C.remove(this.inputElement,"keyup",this.keyUp);const e=D(this.inputElement,"form");e&&C.remove(e,"reset",this.resetValueHandler),C.remove(this.inputElement,"blur",this.onBlurHandler),C.remove(this.componentWrapper,"mouseover",this.mouseIn),C.remove(this.componentWrapper,"mouseout",this.mouseOut),C.remove(this.overAllClear,"mousedown",this.clearAll),C.remove(this.inputElement,"paste",this.pasteHandler)}selectAllItem(e,t,i){let n;if(n=this.list.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)'),this.value&&this.value.length&&t&&t.target&&D(t.target,".e-close-hooker")&&this.allowFiltering&&(n=this.mainList.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')),this.enableGroupCheckBox&&"CheckBox"===this.mode&&!h(this.fields.groupBy)){let s=t?this.groupTemplate?D(t.target,".e-list-group-item"):t.target:null;if(s=t&&32===t.keyCode?i:s,s=s&&s.classList.contains("e-frame")?s.parentElement.parentElement:s,s&&s.classList.contains("e-list-group-item")){let o=s.nextElementSibling;if(h(o))return;for(;o.classList.contains("e-list-item");){if(e){if(!o.firstElementChild.lastElementChild.classList.contains("e-check")){let l=this.value&&this.value.length?this.value.length:0;o.classList.contains("e-active")&&(l-=1),l<this.maximumSelectionLength&&this.updateListSelection(o,t)}}else o.firstElementChild.lastElementChild.classList.contains("e-check")&&this.updateListSelection(o,t);if(o=o.nextElementSibling,null==o)break}if(s.classList.contains("e-list-group-item")){const l=this.list.getElementsByClassName("e-item-focus")[0];l&&l.classList.remove("e-item-focus"),e?s.classList.add("e-active"):s.classList.remove("e-active"),s.classList.add("e-item-focus")}this.textboxValueUpdate(),this.checkPlaceholderSize(),!this.changeOnBlur&&t&&this.updateValueState(t,this.value,this.tempValues)}else this.updateValue(t,n,e)}else this.updateValue(t,n,e)}updateValue(e,t,i){const n=t.length,s={event:e,items:i?t:[],itemData:i?this.listData:[],isInteracted:!!e,isChecked:i,preventSelectEvent:!1};if(this.trigger("beforeSelectAll",s),t&&t.length){let o=0,l=0;if(l=this.enableGroupCheckBox?i?this.maximumSelectionLength-(this.value?this.value.length:0):t.length:i?this.maximumSelectionLength-(this.value?this.value.length:0):this.maximumSelectionLength,s.preventSelectEvent){for(let c=0;c<t.length&&c<l;c++){this.removeHover();const d=t[c].getAttribute("data-value"),u=this.getFormattedValue(d),p=this.mainList?this.mainList.querySelectorAll(i?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')[c]:null;i?(this.value=this.value?this.value:[],this.value.indexOf(u)<0&&this.setProperties({value:[].concat([],this.value,[u])},!0),this.removeFocus(),this.addListSelection(t[c],p),this.updateChipStatus(),this.checkMaxSelection()):this.removeAllItems(u,e,!1,t[c],p),this.enableGroupCheckBox&&this.findGroupStart(t[c])}!i&&(this.value&&this.value.length?this.value.length:0)<this.maximumSelectionLength&&T(this.list.querySelectorAll("li."+et_li+":not(.e-active)"),"e-disable"),this.trigger("selectedAll",{event:e,items:i?t:[],itemData:i?this.listData:[],isInteracted:!!e,isChecked:i})}else{for(;o<n&&o<=50&&o<l;)this.updateListSelection(t[o],e,n-o),this.enableGroupCheckBox&&this.findGroupStart(t[o]),o++;n>50&&setTimeout(()=>{for(;o<n&&o<l;)this.updateListSelection(t[o],e,n-o),this.enableGroupCheckBox&&this.findGroupStart(t[o]),o++;this.updatedataValueItems(e),this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),this.updateHiddenElement()},0)}}this.updatedataValueItems(e),this.checkPlaceholderSize(),n<=50&&!s.preventSelectEvent&&(this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),this.updateHiddenElement())}updateHiddenElement(){let e="",t="",i="";const n=[];"CheckBox"===this.mode&&(this.value.map((s,o)=>{e+='<option selected value ="'+s+'">'+o+"</option>",i=this.listData?this.getTextByValue(s):s,t+=i+this.delimiterChar+" ",n.push(i)}),this.hiddenElement.innerHTML=e,this.updateWrapperText(this.delimiterWrapper,t),this.delimiterWrapper.setAttribute("id",Gn("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id),this.setProperties({text:n.toString()},!0),this.refreshInputHight(),this.refreshPlaceHolder())}updatedataValueItems(e){this.deselectHeader(),this.textboxValueUpdate(e)}textboxValueUpdate(e){const t=e&&e.target&&(D(e.target,".e-selectall-parent")||D(e.target,".e-close-hooker"));"Box"===this.mode||this.isPopupOpen()||"CheckBox"===this.mode&&(this.isSelectAll||t)?this.searchWrapper.classList.remove(q2):this.updateDelimView(),"CheckBox"===this.mode?(this.updateDelimView(),t||this.isSelectAll||this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.refreshPlaceHolder()}setZIndex(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})}updateDataSource(e){h(this.list)?this.renderPopup():this.resetList(this.dataSource),this.value&&this.value.length&&(this.setProperties({value:this.value}),this.refreshSelection())}onLoadSelect(){this.setDynValue=!0,this.renderPopup()}selectAllItems(e,t){h(this.list)?(this.selectAllAction=()=>{"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:e?"check":"uncheck"}),this.selectAllItem(e,t),this.selectAllAction=null},super.render()):(this.selectAllAction=null,"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{value:e?"check":"uncheck",enable:"CheckBox"===this.mode,module:"CheckBoxSelection"}),this.selectAllItem(e,t))}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(e,t){(e.dataSource&&!h(Object.keys(e.dataSource))||e.query&&!h(Object.keys(e.query)))&&(this.mainList=null,this.mainData=null,this.isFirstClick=!1,this.isDynamicDataChange=!0),"multiselect"===this.getModuleName()&&(this.filterAction=!1,this.setUpdateInitial(["fields","query","dataSource"],e));for(const i of Object.keys(e))switch(i){case"query":case"dataSource":"CheckBox"===this.mode&&this.showSelectAll&&(h(this.popupObj)||(this.popupObj.destroy(),this.popupObj=null),this.renderPopup());break;case"htmlAttributes":this.updateHTMLAttribute();break;case"showClearButton":this.updateClearButton(e.showClearButton);break;case"text":this.updateVal(this.value,this.value,"text");break;case"value":this.updateVal(this.value,t.value,"value"),this.addValidInputClass(),!this.closePopupOnSelect&&this.isPopupOpen()&&this.refreshPopup(),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"width":this.setWidth(e.width),this.popupObj.setProperties({width:this.calcPopupWidth()});break;case"placeholder":this.refreshPlaceHolder();break;case"filterBarPlaceholder":this.allowFiltering&&this.notify("filterBarPlaceholder",{filterBarPlaceholder:e.filterBarPlaceholder});break;case"delimiterChar":"Box"!==this.mode&&this.updateDelimView(),this.updateData(e.delimiterChar);break;case"cssClass":this.updateOldPropCssClass(t.cssClass),this.updateCssClass();break;case"enableRtl":this.enableRTL(e.enableRtl),super.onPropertyChanged(e,t);break;case"readonly":this.updateReadonly(e.readonly),this.hidePopup();break;case"enabled":this.hidePopup(),this.enable(e.enabled);break;case"showSelectAll":this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup();break;case"showDropDownIcon":this.dropDownIcon();break;case"floatLabelType":this.setFloatLabelType(),this.addValidInputClass();break;case"enableSelectionOrder":break;case"selectAllText":this.notify("selectAllText",!1);break;case"popupHeight":if(this.popupObj){const n=parseInt(this.popupHeight,10);"auto"!==this.popupHeight?(this.list.style.maxHeight=$e(n),this.popupWrapper.style.maxHeight=$e(this.popupHeight)):this.list.style.maxHeight=$e(this.popupHeight)}break;case"headerTemplate":case"footerTemplate":this.reInitializePoup();break;case"allowFiltering":"CheckBox"===this.mode&&this.popupObj&&this.reInitializePoup(),this.updateSelectElementData(this.allowFiltering);break;default:{const n=this.getPropObject(i,e,t);super.onPropertyChanged(n.newProperty,n.oldProperty)}}}reInitializePoup(){this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup()}presentItemValue(e){const t=[];for(let i=0;i<this.value.length;i++)this.findListElement(this.allowFiltering&&!h(this.mainList)?this.mainList:e,"li","data-value",this.value[i])||t.push(this.value[i]);return t}addNonPresentItems(e,t,i,n){this.dataSource.executeQuery(this.getForQuery(e)).then(s=>{this.addItem(s.result,i.length),this.updateActionList(t,i,n)})}updateVal(e,t,i){if(this.list)if(!(this.dataSource instanceof ie)||this.listData&&this.mainList&&this.mainData){let n=[];if(!h(this.value)&&!this.allowCustomValue&&(n=this.presentItemValue(this.ulElement)),"value"===i&&n.length>0&&this.dataSource instanceof ie&&!h(this.value)&&null!=this.listData)this.mainData=null,this.setDynValue=!0,this.addNonPresentItems(n,this.ulElement,this.listData);else{if("text"===i&&(this.initialTextUpdate(),e=this.value),(h(this.value)||0===this.value.length)&&(this.tempValues=t),this.allowCustomValue&&("Default"===this.mode||"Box"===this.mode)&&this.isReact&&this.inputFocus&&this.isPopupOpen()&&this.mainData!==this.listData){const s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(s,this.mainData)}this.initialValueUpdate(),"Box"!==this.mode&&!this.inputFocus&&this.updateDelimView(),this.inputFocus||this.refreshInputHight(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,e,t),this.checkPlaceholderSize()}}else this.onLoadSelect();else this.onLoadSelect();this.changeOnBlur||this.updateValueState(null,e,t)}addItem(e,t){super.addItem(e,t)}hidePopup(){this.isPopupOpen()&&this.trigger("close",{popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:100}},n=>{n.cancel||(this.fields.groupBy&&"CheckBox"!==this.mode&&this.fixedHeaderElement&&(X(this.fixedHeaderElement),this.fixedHeaderElement=null),this.beforePopupOpen=!1,this.overAllWrapper.classList.remove(cK),this.popupObj.hide(new _s(n.animation)),Le(this.inputElement,{"aria-expanded":"false"}),this.allowFiltering&&this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"clear"}),this.popupObj.hide(),T([document.body,this.popupObj.element],"e-popup-full-page"),C.remove(this.list,"keydown",this.onKeyDown))})}showPopup(){this.enabled&&this.trigger("beforeOpen",{cancel:!1},t=>{if(!t.cancel){if(!this.ulElement)return this.beforePopupOpen=!0,super.render(),void("CheckBox"===this.mode&&A.isDevice&&this.allowFiltering&&this.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}));"CheckBox"===this.mode&&A.isDevice&&this.allowFiltering&&this.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode});const i=this.ulElement.querySelectorAll("li.e-list-item").length,n=this.ulElement.querySelectorAll("li."+et_li+"."+Ar).length;if(i>0&&i===n&&n===this.mainData.length)return void(this.beforePopupOpen=!1);this.onPopupShown()}})}selectAll(e){this.isSelectAll=!0,this.selectAllItems(e)}getModuleName(){return"multiselect"}clear(){this.selectAll(!1),this.value&&this.value.length?setTimeout(()=>{this.setProperties({value:null},!0)},0):this.setProperties({value:null},!0)}render(){this.setDynValue=this.initStatus=!1,this.isSelectAll=!1,this.searchWrapper=this.createElement("span",{className:"e-searcher "+("Box"===this.mode?"e-multiselect-box":"")}),this.viewWrapper=this.createElement("span",{className:"e-delim-view "+sK,styles:"display:none;"}),this.overAllClear=this.createElement("span",{className:nK,styles:"display:none;"}),this.componentWrapper=this.createElement("div",{className:"e-multi-select-wrapper"}),this.overAllWrapper=this.createElement("div",{className:"e-multiselect e-input-group e-control-wrapper"}),"CheckBox"===this.mode&&_([this.overAllWrapper],"e-checkbox"),A.isDevice&&this.componentWrapper.classList.add("e-mob-wrapper"),this.setWidth(this.width),this.overAllWrapper.appendChild(this.componentWrapper),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup e-multi-select-list-wrapper"}),"Delimiter"===this.mode||"CheckBox"===this.mode?(this.delimiterWrapper=this.createElement("span",{className:sK,styles:"display:none"}),this.componentWrapper.appendChild(this.delimiterWrapper)):(this.chipCollectionWrapper=this.createElement("span",{className:"e-chips-collection",styles:"display:none"}),"Default"===this.mode?this.chipCollectionWrapper.setAttribute("id",Gn("chip_default")):"Box"===this.mode&&this.chipCollectionWrapper.setAttribute("id",Gn("chip_box")),this.componentWrapper.appendChild(this.chipCollectionWrapper)),"Box"!==this.mode&&this.componentWrapper.appendChild(this.viewWrapper),this.componentWrapper.appendChild(this.searchWrapper),this.showClearButton&&!A.isDevice?this.componentWrapper.appendChild(this.overAllClear):this.componentWrapper.classList.add(xO),this.dropDownIcon(),this.inputElement=this.createElement("input",{className:"e-dropdownbase",attrs:{spellcheck:"false",type:"text",autocomplete:"off",tabindex:"0"}}),("Default"===this.mode||"Box"===this.mode)&&(this.inputElement.setAttribute("aria-describedby",this.chipCollectionWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.chipCollectionWrapper.id)),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.tagName===this.getNgDirective()?(this.element.appendChild(this.overAllWrapper),this.searchWrapper.appendChild(this.inputElement)):(this.element.parentElement.insertBefore(this.overAllWrapper,this.element),this.searchWrapper.appendChild(this.inputElement),this.searchWrapper.appendChild(this.element),this.element.removeAttribute("tabindex")),"Never"!==this.floatLabelType?Z$(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder):"Never"===this.floatLabelType&&this.refreshPlaceHolder(),this.addValidInputClass(),this.element.style.opacity="";const e=this.element.getAttribute("id")?this.element.getAttribute("id"):Gn("ej2_dropdownlist");this.element.id=e,this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",class:"e-multi-hidden",tabindex:"-1",multiple:""}}),this.componentWrapper.appendChild(this.hiddenElement),this.validationAttribute(this.element,this.hiddenElement),"CheckBox"!==this.mode&&this.hideOverAllClear(),this.wireEvent(),this.enable(this.enabled),this.enableRTL(this.enableRtl),this.checkInitialValue(),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()}checkInitialValue(){const e=this.dataSource instanceof Array?this.dataSource.length>0:!h(this.dataSource);if((!this.value||!this.value.length)&&h(this.text)&&!e&&"SELECT"===this.element.tagName&&this.element.options.length>0){const t=this.element.options,i=[];let n="";for(let s=0,o=t.length;s<o;s++){const l=t[s];h(l.getAttribute("selected"))||(l.getAttribute("value")?i.push(l.getAttribute("value")):n+=l.text+this.delimiterChar)}i.length>0?this.setProperties({value:i},!0):""!==n&&this.setProperties({text:n},!0),(i.length>0||""!==n)&&(this.refreshInputHight(),this.refreshPlaceHolder())}(this.value&&this.value.length||!h(this.text))&&(this.list||super.render()),!h(this.text)&&(h(this.value)||0===this.value.length)&&this.initialTextUpdate(),this.value&&this.value.length?(this.dataSource instanceof ie?this.setInitialValue=()=>{this.initStatus=!1,this.initialValueUpdate(),this.initialUpdate(),this.setInitialValue=null,this.initStatus=!0}:(this.initialValueUpdate(),this.initialUpdate()),this.updateTempValue()):this.initialUpdate(),this.initStatus=!0,this.checkAutoFocus(),h(this.text)||this.element.setAttribute("data-initial-value",this.text)}checkAutoFocus(){this.element.hasAttribute("autofocus")&&this.inputElement.focus()}setFloatLabelType(){(function sDe(r,e,t,i,n,s,o){const l=e.querySelector("."+e1),a=e.querySelector("."+vO);let c;h(l)?(c=null!==o?o:"",eK(n,i,c)):(c=l.innerText,de(t.querySelector("."+e1)),eK(n,i,c),h(a)||de(t.querySelector("."+vO))),r.classList.remove("e-float-input")})(this.overAllWrapper,this.componentWrapper,this.searchWrapper,this.inputElement,this.value,0,this.placeholder),"Never"!==this.floatLabelType&&Z$(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder)}addValidInputClass(){!h(this.value)&&this.value.length||"Always"===this.floatLabelType?_([this.overAllWrapper],"e-valid-input"):T([this.overAllWrapper],"e-valid-input")}dropDownIcon(){this.showDropDownIcon?(this.dropIcon=this.createElement("span",{className:aK}),this.componentWrapper.appendChild(this.dropIcon),_([this.componentWrapper],["e-down-icon"])):h(this.dropIcon)||(this.dropIcon.parentElement.removeChild(this.dropIcon),T([this.componentWrapper],["e-down-icon"]))}initialUpdate(){"Box"!==this.mode&&!(this.setDynValue&&"Default"===this.mode&&this.inputFocus)&&this.updateDelimView(),this.updateCssClass(),this.updateHTMLAttribute(),this.updateReadonly(this.readonly),this.refreshInputHight(),this.checkPlaceholderSize()}destroy(){this.isReact&&this.clearTemplate(),this.popupObj&&this.popupObj.hide(),this.notify("destroy",{}),this.unwireListEvents(),this.unWireEvent(),this.list=null,this.popupObj=null,this.mainList=null,this.mainData=null,this.filterParent=null,this.ulElement=null,this.mainListCollection=null,super.destroy();const e=["readonly","aria-disabled","aria-placeholder","placeholder"];let t=e.length;for(;t>0;)this.inputElement.removeAttribute(e[t-1]),t--;this.element.removeAttribute("data-initial-value"),this.element.style.display="block",this.overAllWrapper.parentElement&&(this.overAllWrapper.parentElement.tagName===this.getNgDirective()||this.overAllWrapper.parentElement.insertBefore(this.element,this.overAllWrapper),X(this.overAllWrapper))}};Si([gi({text:null,value:null,iconCss:null,groupBy:null},aO)],wi.prototype,"fields",void 0),Si([y(!1)],wi.prototype,"enablePersistence",void 0),Si([y(null)],wi.prototype,"groupTemplate",void 0),Si([y("No records found")],wi.prototype,"noRecordsTemplate",void 0),Si([y("Request failed")],wi.prototype,"actionFailureTemplate",void 0),Si([y("None")],wi.prototype,"sortOrder",void 0),Si([y(!0)],wi.prototype,"enabled",void 0),Si([y(!1)],wi.prototype,"enableHtmlSanitizer",void 0),Si([y([])],wi.prototype,"dataSource",void 0),Si([y(null)],wi.prototype,"query",void 0),Si([y("StartsWith")],wi.prototype,"filterType",void 0),Si([y(1e3)],wi.prototype,"zIndex",void 0),Si([y(!1)],wi.prototype,"ignoreAccent",void 0),Si([y()],wi.prototype,"locale",void 0),Si([y(!1)],wi.prototype,"enableGroupCheckBox",void 0),Si([y(null)],wi.prototype,"cssClass",void 0),Si([y("100%")],wi.prototype,"width",void 0),Si([y("300px")],wi.prototype,"popupHeight",void 0),Si([y("100%")],wi.prototype,"popupWidth",void 0),Si([y(null)],wi.prototype,"placeholder",void 0),Si([y(null)],wi.prototype,"filterBarPlaceholder",void 0),Si([y({})],wi.prototype,"htmlAttributes",void 0),Si([y(null)],wi.prototype,"valueTemplate",void 0),Si([y(null)],wi.prototype,"headerTemplate",void 0),Si([y(null)],wi.prototype,"footerTemplate",void 0),Si([y(null)],wi.prototype,"itemTemplate",void 0),Si([y(null)],wi.prototype,"allowFiltering",void 0),Si([y(!0)],wi.prototype,"changeOnBlur",void 0),Si([y(!1)],wi.prototype,"allowCustomValue",void 0),Si([y(!0)],wi.prototype,"showClearButton",void 0),Si([y(1e3)],wi.prototype,"maximumSelectionLength",void 0),Si([y(!1)],wi.prototype,"readonly",void 0),Si([y(null)],wi.prototype,"text",void 0),Si([y(null)],wi.prototype,"value",void 0),Si([y(!0)],wi.prototype,"hideSelectedItem",void 0),Si([y(!0)],wi.prototype,"closePopupOnSelect",void 0),Si([y("Default")],wi.prototype,"mode",void 0),Si([y(",")],wi.prototype,"delimiterChar",void 0),Si([y(!0)],wi.prototype,"ignoreCase",void 0),Si([y(!1)],wi.prototype,"showDropDownIcon",void 0),Si([y("Never")],wi.prototype,"floatLabelType",void 0),Si([y(!1)],wi.prototype,"showSelectAll",void 0),Si([y("Select All")],wi.prototype,"selectAllText",void 0),Si([y("Unselect All")],wi.prototype,"unSelectAllText",void 0),Si([y(!0)],wi.prototype,"enableSelectionOrder",void 0),Si([y(!0)],wi.prototype,"openOnClick",void 0),Si([y(!1)],wi.prototype,"addTagOnBlur",void 0),Si([E()],wi.prototype,"change",void 0),Si([E()],wi.prototype,"removing",void 0),Si([E()],wi.prototype,"removed",void 0),Si([E()],wi.prototype,"beforeSelectAll",void 0),Si([E()],wi.prototype,"selectedAll",void 0),Si([E()],wi.prototype,"beforeOpen",void 0),Si([E()],wi.prototype,"open",void 0),Si([E()],wi.prototype,"close",void 0),Si([E()],wi.prototype,"blur",void 0),Si([E()],wi.prototype,"focus",void 0),Si([E()],wi.prototype,"chipSelection",void 0),Si([E()],wi.prototype,"filtering",void 0),Si([E()],wi.prototype,"tagging",void 0),Si([E()],wi.prototype,"customValueSelection",void 0),wi=Si([Pi],wi);var K2,qs=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class n1 extends Nt{}qs([y("Multiple")],n1.prototype,"mode",void 0),qs([y(!1)],n1.prototype,"showCheckbox",void 0),qs([y(!1)],n1.prototype,"showSelectAll",void 0),qs([y("Left")],n1.prototype,"checkboxPosition",void 0);class wO extends Nt{}qs([y([])],wO.prototype,"items",void 0),qs([y("Right")],wO.prototype,"position",void 0);let Mr=K2=class extends cO{constructor(e,t){super(e,t),this.isValidKey=!1,this.isDataSourceUpdate=!1,this.keyDownStatus=!1}addItem(e,t){super.addItem(e,t)}render(){this.inputString="",this.initLoad=!0,this.isCustomFiltering=!1,this.initialSelectedOptions=this.value,super.render(),this.renderComplete()}initWrapper(){const e=this.createElement("select",{className:"e-hidden-select",attrs:{multiple:""}});this.list.classList.add("e-listbox-wrapper"),this.itemTemplate&&this.list.classList.add("e-list-template"),this.list.classList.add("e-wrapper"),this.list.classList.add("e-lib"),"EJS-LISTBOX"===this.element.tagName?(this.element.setAttribute("tabindex","0"),this.initLoad&&this.element.appendChild(this.list)):(this.initLoad&&this.element.parentElement.insertBefore(this.list,this.element),this.list.insertBefore(this.element,this.list.firstChild),this.element.style.display="none"),this.list.insertBefore(e,this.list.firstChild),this.list.getElementsByClassName("e-list-item")[0]&&this.list.getElementsByClassName("e-list-item")[0].classList.remove(et_focus),this.itemTemplate&&this.renderReactTemplates(),T([this.list],["e-content",et_root]),this.validationAttribute(this.element,e),this.list.setAttribute("role","listbox"),Le(this.list,{role:"listbox","aria-multiselectable":"Multiple"===this.selectionSettings.mode?"true":"false"}),this.updateSelectionSettings()}updateSelectionSettings(){if(this.selectionSettings.showCheckbox&&this.selectionSettings.showSelectAll&&this.liCollections.length){const e=new is(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.showSelectAll=!0,this.selectAllText=e.getConstant("selectAllText"),this.unSelectAllText=e.getConstant("unSelectAllText"),this.popupWrapper=this.list,this.checkBoxSelectionModule.checkAllParent=null,this.notify("selectAll",{})}}initDraggable(){this.ulElement&&(this.ulElement.id=this.element.id+"_parent"),this.allowDragAndDrop&&new kd(this.ulElement,{scope:this.scope,itemClass:"e-list-item",dragStart:this.triggerDragStart.bind(this),drag:this.triggerDrag.bind(this),beforeDrop:this.beforeDragEnd.bind(this),drop:this.dragEnd.bind(this),placeHolder:()=>this.createElement("span",{className:"e-placeholder"}),helper:e=>{const t=this.list.cloneNode(),i=e.sender.cloneNode(!0);t.appendChild(i);const n=this.getItems()[0];return t.style.width=n.offsetWidth+"px",t.style.height=n.offsetHeight+"px",(this.value&&this.value.length)>1&&this.isSelected(i)&&i.appendChild(this.createElement("span",{className:"e-list-badge",innerHTML:this.value.length+""})),t.style.zIndex=hf(this.element)+"",t}})}updateActionCompleteData(e,t){this.jsonData.push(t)}initToolbar(){const e=this.toolbarSettings.position,t=this.element.getAttribute("data-value");if(this.toolbarSettings.items.length){const n=this.createElement("div",{className:"e-listbox-tool",attrs:{role:"toolbar"}}),s=this.createElement("div",{className:"e-listboxtool-wrapper e-lib e-"+e.toLowerCase()});this.list.parentElement.insertBefore(s,this.list),s.appendChild("Right"===e?this.list:n),s.appendChild("Right"===e?n:this.list),this.createButtons(n),this.element.id||(this.element.id=Gn("e-"+this.getModuleName())),this.scope?document.querySelector(this.scope).setAttribute("data-value",this.element.id):this.updateToolBarState()}const i=this.element.getAttribute("data-value");t&&i&&t!==i?(this.tBListBox=la(document.getElementById(t),this.getModuleName()),this.tBListBox.updateToolBarState()):i&&(this.tBListBox=la(document.getElementById(i),this.getModuleName()),this.tBListBox.updateToolBarState())}createButtons(e){let t,i,n;const s=new is(this.getModuleName(),{moveUp:"Move Up",moveDown:"Move Down",moveTo:"Move To",moveFrom:"Move From",moveAllTo:"Move All To",moveAllFrom:"Move All From"},this.locale);this.toolbarSettings.items.forEach(o=>{n=s.getConstant(o),i=this.createElement("button",{attrs:{type:"button","data-value":o,title:n,"aria-label":n}}),e.appendChild(i),t=new ks({iconCss:"e-icons e-"+o.toLowerCase()},i),t.createElement=this.createElement})}validationAttribute(e,t){super.validationAttribute(e,t),t.required=e.required,e.required=!1}setHeight(){(this.toolbarSettings.items.length?this.list.parentElement:this.list).style.height=$e(this.height),this.allowFiltering&&this.height.toString().indexOf("%")<0?_([this.list],"e-filter-list"):T([this.list],"e-filter-list")}setCssClass(){this.cssClass&&_([this.toolbarSettings.items.length?this.list.parentElement:this.list],this.cssClass.split(" ")),this.enableRtl&&_([this.list],"e-rtl")}setEnable(){const e=this.toolbarSettings.items.length?this.list.parentElement:this.list;this.enabled?T([e],Ti.disabled):_([e],Ti.disabled)}showSpinner(){this.spinner||(this.spinner=this.createElement("div",{className:"e-listbox-wrapper"})),this.spinner.style.height=$e(this.height),this.element.parentElement.insertBefore(this.spinner,this.element.nextSibling),bc({target:this.spinner},this.createElement),Go(this.spinner)}hideSpinner(){this.spinner.querySelector(".e-spinner-pane")&&qo(this.spinner),this.spinner.parentElement&&de(this.spinner)}onInput(){this.isDataSourceUpdate=!1,this.isValidKey=!!this.keyDownStatus,this.keyDownStatus=!1,this.refreshClearIcon()}clearText(){this.filterInput.value="",this.refreshClearIcon();const e=document.createEvent("KeyboardEvent");this.isValidKey=!0,this.KeyUp(e)}refreshClearIcon(){this.filterInput.parentElement.querySelector("."+hx.clearIcon)&&(this.filterInput.parentElement.querySelector("."+hx.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible")}onActionComplete(e,t,i){let n;if(this.allowFiltering&&this.list.getElementsByClassName("e-filter-parent")[0]&&(n=this.list.getElementsByClassName("e-filter-parent")[0].cloneNode(!0)),0===t.length){const s=e.childNodes[0];s&&e.removeChild(s)}if(super.onActionComplete(e,t,i),this.allowFiltering&&!h(n)&&(this.list.insertBefore(n,this.list.firstElementChild),this.filterParent=this.list.getElementsByClassName("e-filter-parent")[0],this.filterWireEvents(n)),this.initWrapper(),this.setSelection(),this.initDraggable(),this.mainList=this.ulElement,this.initLoad)this.jsonData=[],O(this.jsonData,t,[]),this.initToolbarAndStyles(),this.wireEvents(),this.showCheckbox&&this.setCheckboxPosition(),this.allowFiltering&&this.setFiltering();else if(this.isDataSourceUpdate&&(this.jsonData=[],O(this.jsonData,t,[]),this.isDataSourceUpdate=!1),this.allowFiltering){const s=this.list.getElementsByClassName("e-input-filter")[0],o=this.filterInput.value.length;s.selectionStart=o,s.selectionEnd=o,s.focus()}if(this.toolbarSettings.items.length&&this.scope&&this.scope.indexOf("#")>-1&&!h(i)){const s=this.scope.replace("#","");la(document.getElementById(s),this.getModuleName()).initToolbar()}this.initLoad=!1}initToolbarAndStyles(){this.initToolbar(),this.setCssClass(),this.setEnable(),this.setHeight()}triggerDragStart(e){let t;e=O(this.getDragArgs(e),{dragSelected:!0}),A.isIos&&(this.list.style.overflow="hidden"),this.trigger("dragStart",e,i=>{this.allowDragAll=i.dragSelected,this.allowDragAll||(t=this.ulElement.getElementsByClassName("e-list-badge")[0],t&&de(t))})}triggerDrag(e){let t,i;const s=e.event;let o;if(e.target&&(e.target.classList.contains("e-listbox-wrapper")||e.target.classList.contains("e-list-item")||e.target.classList.contains("e-filter-parent")||e.target.classList.contains("e-input-group"))&&(o=e.target.classList.contains("e-list-item")||e.target.classList.contains("e-filter-parent")||e.target.classList.contains("e-input-group")?e.target.closest(".e-listbox-wrapper"):e.target,t=this.allowFiltering?o.querySelector(".e-list-parent"):o,i=t.getBoundingClientRect(),i.y+t.offsetHeight-(s.pageY+36)<1?t.scrollTop=t.scrollTop+10:s.pageY-36-i.y<1&&(t.scrollTop=t.scrollTop-10)),null===e.target)return;this.trigger("drag",this.getDragArgs(e));const l=this.getComponent(e.target);if(l&&0===l.listData.length){const a=l.ulElement.childNodes[0];a&&l.ulElement.removeChild(a)}}beforeDragEnd(e){const t=this.getFormattedValue(e.droppedElement.getAttribute("data-value"));e.items=this.value.indexOf(t)>-1?this.getDataByValues(this.value):this.getDataByValues([t]),this.trigger("beforeDrop",e)}dragEnd(e){let t,i,n,s,o,l;const a=this.getFormattedValue(e.droppedElement.getAttribute("data-value")),c=this.getComponent(e.droppedElement),d=this.getDragArgs({target:e.droppedElement},!0),u={previousData:this.dataSource},p={previousData:c.dataSource};let g=O({},d,{target:e.target,source:{previousData:this.dataSource},previousIndex:e.previousIndex,currentIndex:e.currentIndex});if(c!==this){const f=O(u,{currentData:this.listData});g=O(g,{source:f,destination:p})}if(A.isIos&&(this.list.style.overflow=""),c===this){const f=this.ulElement;t=[].slice.call(this.listData),i=[].slice.call(this.liCollections),n=[].slice.call(this.jsonData),l=[].slice.call(this.sortedData);const m=e.currentIndex;let v=e.currentIndex=this.getCurIdx(this,e.currentIndex);const x=t.indexOf(this.getDataByValue(a)),w=n.indexOf(this.getDataByValue(a)),b=l.indexOf(this.getDataByValue(a));t.splice(v,0,t.splice(x,1)[0]),l.splice(m,0,l.splice(b,1)[0]),n.splice(v,0,n.splice(w,1)[0]),i.splice(v,0,i.splice(x,1)[0]),this.allowDragAll&&(o=this.value&&Array.prototype.indexOf.call(this.value,a)>-1?this.value:[a],o.forEach(I=>{if(I!==a){const k=t.indexOf(this.getDataByValue(I)),P=n.indexOf(this.getDataByValue(I)),W=l.indexOf(this.getDataByValue(I));k>v&&v++,n.splice(v,0,n.splice(P,1)[0]),t.splice(v,0,t.splice(k,1)[0]),l.splice(m,0,l.splice(W,1)[0]),i.splice(v,0,i.splice(k,1)[0]),f.insertBefore(this.getItems()[this.getIndexByValue(I)],f.getElementsByClassName("e-placeholder")[0])}})),this.listData=t,this.jsonData=n,this.sortedData=l,this.liCollections=i}else{let f;const m=[].slice.call(this.liCollections);let v=e.currentIndex=this.getCurIdx(c,e.currentIndex);const x=c.ulElement;t=[].slice.call(c.listData),i=[].slice.call(c.liCollections),n=[].slice.call(c.jsonData),l=[].slice.call(c.sortedData),o=this.value&&Array.prototype.indexOf.call(this.value,a)>-1&&this.allowDragAll?this.value:[a];const w=[].slice.call(this.listData),b=[].slice.call(this.sortedData);if(o.forEach((I,k)=>{s=this.getDataByValue(I);const P=this.listData.indexOf(s),W=this.jsonData.indexOf(s),oe=this.sortedData.indexOf(s);w.splice(P,1),this.jsonData.splice(W,1),b.splice(oe,1),this.listData=w,this.sortedData=b;const ae=I===a?e.currentIndex:v;if(t.splice(ae,0,s),n.splice(ae,0,s),l.splice(ae,0,s),i.splice(ae,0,m.splice(P,1)[0]),I)f=this.getItems()[this.getIndexByValue(I)];else{const xe=this.getItems();for(let z=0;z<xe.length;z++)if(null===xe[z].getAttribute("data-value")&&xe[z].classList.contains("e-list-item")){f=xe[z];break}}f||(f=e.helper),this.removeSelected(this,I===a?[e.droppedElement]:[f]),x.insertBefore(f,x.getElementsByClassName("e-placeholder")[0]),v++}),this.fields.groupBy){const I=this.renderItems(this.listData,this.fields);this.updateListItems(I,this.ulElement),this.setSelection()}if("None"!==c.sortOrder||this.selectionSettings.showCheckbox!==c.selectionSettings.showCheckbox||c.fields.groupBy||c.itemTemplate||this.itemTemplate){const I=la(x,"sortable"),k=c.renderItems(t,c.fields);c.updateListItems(k,x),this.setSelection(),I.placeHolderElement&&x.appendChild(I.placeHolderElement),x.appendChild(e.helper),c.setSelection()}this.liCollections=m,c.liCollections=i,c.jsonData=O([],[],n,!1),c.listData=O([],[],t,!1),c.sortedData=O([],[],l,!1),0===this.listData.length&&this.l10nUpdate()}if(this===c){const f=O(u,{currentData:t});g=O(g,{source:f})}else{const f=O(p,{currentData:t});g=O(g,{destination:f})}this.trigger("drop",g)}updateListItems(e,t){for(t.innerHTML="";0<e.childNodes.length;)t.appendChild(e.childNodes[0])}removeSelected(e,t){e.selectionSettings.showCheckbox?t.forEach(i=>{i.getElementsByClassName("e-frame")[0].classList.remove("e-check")}):T(t,Ti.selected)}getCurIdx(e,t){return e.fields.groupBy&&(t-=[].slice.call(e.ulElement.children).slice(0,t).filter(i=>i.classList.contains(Ti.group)).length),t}getComponent(e){let t;const i="EJS-LISTBOX"===this.element.tagName?D(e,".e-listbox"):D(e,".e-listbox-wrapper")&&D(e,".e-listbox-wrapper").querySelector(".e-listbox");return i&&(t=la(i,this.getModuleName())),t}listOption(e,t){return this.listCurrentOptions=super.listOption(e,t),this.listCurrentOptions=O({},this.listCurrentOptions,{itemCreated:this.triggerBeforeItemRender.bind(this)},!0),this.notify("listoption",{module:"CheckBoxSelection"}),this.listCurrentOptions}triggerBeforeItemRender(e){e.item.setAttribute("tabindex","-1"),this.trigger("beforeItemRender",{element:e.item,item:e.curData})}requiredModules(){const e=[];return this.selectionSettings.showCheckbox&&e.push({member:"CheckBoxSelection",args:[this]}),e}enableItems(e,t=!0,i){let n;e.forEach(s=>{n=this.findListElement(this.list,"li","data-value",i?s:this.getValueByText(s)),n&&(t?(T([n],Ti.disabled),n.removeAttribute("aria-disabled")):(_([n],Ti.disabled),n.setAttribute("aria-disabled","true")))})}selectItems(e,t=!0,i){this.setSelection(e,t,!i),this.updateSelectedOptions()}selectAll(e=!0){this.selectAllItems(e)}addItems(e,t){super.addItem(e,t)}removeItems(e,t){this.removeItem(e,t)}removeItem(e,t){const i=[],n=this.list.querySelectorAll("."+et_li);if(e){e=e instanceof Array?e:[e];const s=this.fields;let o,l;const a=[];let c;O(a,[],this.listData);const d=[],u=[];for(let p=0;p<e.length;p++){o=e[p]instanceof Object?M(s.value,e[p]):e[p].toString();for(let g=0,f=a.length;g<f;g++)if(l=a[g]instanceof Object?M(s.value,a[g]):a[g].toString(),l===o){c=this.getIndexByValue(o);const m=c===g?c:g;i.push(n[m]),d.push(m),u.push(m)}}for(let p=d.length-1;p>=0;p--)this.listData.splice(d[p],1);for(let p=d.length-1;p>=0;p--)this.jsonData.splice(d[p],1);for(let p=u.length-1;p>=0;p--)this.updateLiCollection(u[p])}else i.push(n[t=t||0]),this.listData.splice(t,1),this.jsonData.splice(t,1),this.updateLiCollection(t);for(let s=0;s<i.length;s++)this.ulElement.removeChild(i[s]);0===this.listData.length&&this.l10nUpdate(),this.value=null,this.updateToolBarState()}getDataByValues(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.getDataByValue(e[i]));return t}moveUp(e){const t=e?this.getElemByValue(e):this.getSelectedItems();this.moveUpDown(!0,!1,t)}moveDown(e){const t=e?this.getElemByValue(e):this.getSelectedItems();this.moveUpDown(!1,!1,t)}moveTo(e,t,i){const n=e?this.getElemByValue(e):this.getSelectedItems(),s=i?la(i,K2):this.getScopedListBox();this.moveData(this,s,!1,n,t)}moveAllTo(e,t){if(this.listData.length>0){const i=e?la(e,K2):this.getScopedListBox();this.moveAllData(this,i,!1,t)}}getDataList(){return this.jsonData}getSortedList(){let e,t;if(e=t=this.sortedData,this.fields.groupBy){e=[];for(let i=0;i<t.length;i++)t[i].isHeader||e.push(t[i])}return e}getElemByValue(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.ulElement.querySelector('[data-value ="'+e[i]+'"]'));return t}updateLiCollection(e){const t=[].slice.call(this.liCollections);t.splice(e,1),this.liCollections=t}selectAllItems(e,t){if([].slice.call(this.getItems()).forEach(i=>{if(!i.classList.contains(Ti.disabled))if(this.selectionSettings.showCheckbox){const n=i.getElementsByClassName("e-check")[0];(!n&&e||n&&!e)&&(this.notify("updatelist",{li:i,module:"listbox"}),this.maximumSelectionLength>=this.list.querySelectorAll(".e-list-item span.e-check").length&&this.checkMaxSelection())}else e?i.classList.add(Ti.selected):i.classList.remove(Ti.selected)}),this.updateSelectedOptions(),this.allowFiltering&&this.selectionSettings.showCheckbox){const i=this.list.getElementsByTagName("li");let n=0;if(e)for(n=0;n<i.length;n++){const s=this.getFormattedValue(i[n].getAttribute("data-value"));this.value.some(o=>o===s)||this.value.push(this.getFormattedValue(i[n].getAttribute("data-value")))}else for(n=0;n<i.length;n++){const s=this.getFormattedValue(i[n].getAttribute("data-value"));this.value=this.value.filter(o=>o!==s)}document.querySelectorAll("ul").length<2&&this.updateMainList()}this.triggerChange(this.getSelectedItems(),t)}updateMainList(){const e=this.mainList.querySelectorAll(".e-list-item"),t=this.ulElement.querySelectorAll(".e-list-item"),i=e.length,n=t.length;if(this.selectionSettings.showCheckbox||document.querySelectorAll("ul").length>1||i!==n){let s=0,o=0,l=0;for(;s<i;){if(this.value)for(;o<this.value.length;o++)e[s].getAttribute("data-value")===this.value[o]&&l++;!l&&this.selectionSettings.showCheckbox&&e[s].getElementsByClassName("e-frame")[0].classList.remove("e-check"),document.querySelectorAll("ul").length>1&&l&&i!==n?(this.mainList.removeChild(this.mainList.getElementsByTagName("li")[s]),s=0):s++,l=0,o=0}}}wireEvents(){const e=D(this.element,"form"),t="EJS-LISTBOX"===this.element.tagName?this.element:this.list;C.add(this.list,"click",this.clickHandler,this),C.add(t,"keydown",this.keyDownHandler,this),C.add(t,"focusout",this.focusOutHandler,this),this.wireToolbarEvent(),this.selectionSettings.showCheckbox&&C.remove(document,"mousedown",this.checkBoxSelectionModule.onDocumentClick),(this.fields.groupBy||this.element.querySelector("select>optgroup"))&&C.remove(this.list,"scroll",this.setFloatingHeader),e&&C.add(e,"reset",this.formResetHandler,this)}wireToolbarEvent(){this.toolbarSettings.items.length&&C.add(this.getToolElem(),"click",this.toolbarClickHandler,this)}unwireEvents(){const e=D(this.element,"form"),t="EJS-LISTBOX"===this.element.tagName?this.element:this.list;C.remove(this.list,"click",this.clickHandler),C.remove(t,"keydown",this.keyDownHandler),C.remove(t,"focusout",this.focusOutHandler),this.allowFiltering&&this.clearFilterIconElem&&C.remove(this.clearFilterIconElem,"click",this.clearText),this.toolbarSettings.items.length&&C.remove(this.getToolElem(),"click",this.toolbarClickHandler),e&&C.remove(e,"reset",this.formResetHandler)}clickHandler(e){this.selectHandler(e)}checkSelectAll(){let e=0;const t=this.list.querySelectorAll("li."+et_li);for(let n=0;n<t.length;n++)t[n].classList.contains("e-disabled")||e++;const i=this.getSelectedItems().length;this.showSelectAll&&e&&this.notify("checkSelectAll",{module:"CheckBoxSelection",value:e===i?"check":0===i?"uncheck":"indeterminate"})}getQuery(e){let t=e?e.clone():this.query?this.query.clone():new Ze;if(this.allowFiltering){const i=""===this.inputString?"contains":this.filterType;let n=this.typeOfData(this.dataSource).typeof;null===n&&(n=this.typeOfData(this.jsonData).typeof),t.where((this.dataSource instanceof ie||"string"!==n)&&"number"!==n&&this.fields.text?this.fields.text:"",i,this.inputString,this.ignoreCase,this.ignoreAccent)}else t=e||(this.query?this.query:new Ze);return t}setFiltering(){let e;if(this.initLoad||h(this.filterParent))return this.filterParent=this.createElement("span",{className:hx.filterParent}),this.filterInput=this.createElement("input",{attrs:{type:"text"},className:hx.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element),e=ke.createInput({element:this.filterInput,buttons:[hx.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),Jt([e.container],this.filterParent),oo([this.filterParent],this.list),Le(this.filterInput,{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-activedescendant":null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.height.toString().indexOf("%")<0&&_([this.list],"e-filter-list"),this.inputString=this.filterInput.value,this.filterWireEvents(),e}filterWireEvents(e){e&&(this.filterInput=e.querySelector(".e-input-filter")),this.clearFilterIconElem=this.filterInput.parentElement.querySelector("."+hx.clearIcon),this.clearFilterIconElem&&(C.add(this.clearFilterIconElem,"click",this.clearText,this),e||(this.clearFilterIconElem.style.visibility="hidden")),C.add(this.filterInput,"input",this.onInput,this),C.add(this.filterInput,"keyup",this.KeyUp,this),C.add(this.filterInput,"keydown",this.onKeyDown,this)}selectHandler(e,t){let n,i=!0;const s=D(e.target,".e-list-item");let o=[s];if(s&&s.parentElement){if(n=[].slice.call(s.parentElement.children).indexOf(s),this.selectionSettings.showCheckbox?i=!s.getElementsByClassName("e-frame")[0].classList.contains("e-check"):(e.ctrlKey||A.isDevice)&&this.isSelected(s)?(s.classList.remove(Ti.selected),s.removeAttribute("aria-selected"),i=!1):"Multiple"===this.selectionSettings.mode&&(e.ctrlKey||A.isDevice)||(this.getSelectedItems().forEach(l=>{l.removeAttribute("aria-selected")}),T(this.getSelectedItems(),Ti.selected)),e.shiftKey&&!this.selectionSettings.showCheckbox&&"Single"!==this.selectionSettings.mode?o=[].slice.call(s.parentElement.children).slice(Math.min(n,this.prevSelIdx),Math.max(n,this.prevSelIdx)+1).filter(l=>l.classList.contains("e-list-item")):this.prevSelIdx=[].slice.call(s.parentElement.children).indexOf(s),i?(this.selectionSettings.showCheckbox||_(o,Ti.selected),o.forEach(l=>{l.setAttribute("aria-selected","true")}),this.list.setAttribute("aria-activedescendant",s.id)):o.forEach(l=>{l.setAttribute("aria-selected","false")}),!t&&(this.maximumSelectionLength>(this.value&&this.value.length)||!i)&&(this.maximumSelectionLength>=(this.value&&this.value.length)||!i)&&!(this.maximumSelectionLength<(this.value&&this.value.length))&&this.notify("updatelist",{li:s,e,module:"listbox"}),this.allowFiltering&&!t){const l=this.getFormattedValue(s.getAttribute("data-value"));if(i){const a=[];O(a,this.value),a.push(l),this.value=a}else this.value=this.value.filter(a=>a!==l);document.querySelectorAll("ul").length<2&&this.updateMainList()}this.updateSelectedOptions(),this.triggerChange(this.getSelectedItems(),e),this.checkMaxSelection()}}triggerChange(e,t){this.trigger("change",{elements:e,items:this.getDataByElements(e),value:this.value,event:t})}getDataByElems(e){const t=[];for(let i=0,n=e.length;i<n;i++)t.push(this.getDataByValue(this.getFormattedValue(e[i].getAttribute("data-value"))));return t}getDataByElements(e){const t=[];let i,n=0;if(!h(this.listData)){const s=this.typeOfData(this.listData).typeof;if("string"===s||"number"===s||"boolean"===s)for(const o of this.listData){for(let l=n,a=e.length;l<a;l++)if(i=this.getFormattedValue(e[l].getAttribute("data-value")),!h(o)&&o===i){n=l,t.push(o);break}if(e.length===t.length)break}else for(const o of this.listData){for(let l=n,a=e.length;l<a;l++)if(i=this.getFormattedValue(e[l].getAttribute("data-value")),!h(o)&&M(this.fields.value?this.fields.value:"value",o)===i){n=l,t.push(o);break}if(e.length===t.length)break}return t}return null}checkMaxSelection(){const e=this.list.querySelectorAll(".e-list-item span.e-check").length;if(this.selectionSettings.showCheckbox){let t=0;const i=this.list.getElementsByClassName("e-list-item");for(;t<i.length;t++)i[t].querySelector(".e-frame.e-check")||(e===this.maximumSelectionLength?i[t].classList.add("e-disable"):i[t].classList.contains("e-disable")&&i[t].classList.remove("e-disable"))}}toolbarClickHandler(e){const t=D(e.target,"button");if(t){if(this.toolbarAction=t.getAttribute("data-value"),t.disabled)return;switch(this.toolbarAction){case"moveUp":this.moveUpDown(!0);break;case"moveDown":this.moveUpDown();break;case"moveTo":this.moveItemTo();break;case"moveFrom":this.moveItemFrom();break;case"moveAllTo":this.moveAllItemTo();break;case"moveAllFrom":this.moveAllItemFrom();break;default:this.trigger("actionBegin",{cancel:!1,items:this.getDataByElems(this.getSelectedItems()),eventName:this.toolbarAction})}}}moveUpDown(e,t,i){let n=this.getSelectedItems();if(i&&(n=i),(e&&this.isSelected(this.ulElement.firstElementChild)||!e&&this.isSelected(this.ulElement.lastElementChild))&&!i)return;const s=this.getDataByElems(n),o={cancel:!1,items:s,eventName:this.toolbarAction};this.trigger("actionBegin",o),!o.cancel&&((e?n:n.reverse()).forEach(l=>{const a=Array.prototype.indexOf.call(this.ulElement.querySelectorAll(".e-list-item"),l),c=Array.prototype.indexOf.call(this.ulElement.children,l);QD(this.ulElement,this.ulElement,[c],e?c-1:c+2),this.changeData(c,e?c-1:c+1,e?a-1:a+1,l)}),this.trigger("actionComplete",{items:s,eventName:this.toolbarAction}),n[0].focus(),!t&&this.toolbarSettings.items.length&&this.getToolElem().querySelector("[data-value="+(e?"moveUp":"moveDown")+"]").focus(),this.updateToolBarState())}moveItemTo(){this.moveData(this,this.getScopedListBox())}moveItemFrom(){this.moveData(this.getScopedListBox(),this)}moveData(e,t,i,n,s){const o=[],l=[],a=[],c=[],d=[].slice.call(e.listData),u=[].slice.call(t.listData),p=[].slice.call(e.sortedData);let g=[].slice.call(t.sortedData);const f=[].slice.call(e.liCollections),m=[],v=[].slice.call(t.liCollections),x=[],w=[];let b=e.getSelectedItems();n&&(b=n);const I="None"!==t.sortOrder||t.selectionSettings.showCheckbox!==e.selectionSettings.showCheckbox||t.fields.groupBy||t.itemTemplate||e.itemTemplate;if(e.value=[],b.length){this.removeSelected(e,b),b.forEach(oe=>{o.push(Array.prototype.indexOf.call(e.ulElement.children,oe)),m.push(Array.prototype.indexOf.call(e.ulElement.querySelectorAll(".e-list-item"),oe)),l.push(Array.prototype.indexOf.call(e.listData,e.getDataByElems([oe])[0])),c.push(Array.prototype.indexOf.call(e.sortedData,e.getDataByElems([oe])[0])),a.push(Array.prototype.indexOf.call(e.jsonData,e.getDataByElems([oe])[0]))}),"None"!==this.sortOrder?c.forEach(oe=>{x.push(e.sortedData[oe])}):a.forEach(oe=>{x.push(e.jsonData[oe])});const k={cancel:!1,items:x,eventName:this.toolbarAction};if(e.trigger("actionBegin",k),k.cancel)return;const P=[];if(m.sort((oe,ae)=>oe-ae).reverse().forEach(oe=>{P.push(f.splice(oe,1)[0])}),e.liCollections=f,s){const oe=v.splice(0,s);t.liCollections=oe.concat(P.reverse()).concat(v)}else t.liCollections=v.concat(P.reverse());if(0===t.listData.length){const oe=t.ulElement.childNodes[0];oe&&t.ulElement.removeChild(oe)}if(l.sort((oe,ae)=>ae-oe).forEach(oe=>{d.splice(oe,1)}),c.sort((oe,ae)=>ae-oe).forEach(oe=>{p.splice(oe,1)}),a.slice().reverse().forEach(oe=>{w.push(e.jsonData.splice(oe,1)[0])}),I)if(e.fields.groupBy){const oe=e.renderItems(d,e.fields);e.updateListItems(oe,e.ulElement)}else b.forEach(oe=>{de(oe)});else QD(e.ulElement,t.ulElement,o,s),e.trigger("actionComplete",{items:x,eventName:this.toolbarAction});t.mainList.childElementCount!==t.jsonData.length&&(t.mainList=t.ulElement),e.updateMainList();const W=[].slice.call(t.jsonData);g=[].slice.call(t.sortedData),this.selectNextList(b,m,l,e),i&&this.list.focus(),e.listData=d,e.sortedData=p,s=s||u.length;for(let oe=x.length-1;oe>=0;oe--)u.splice(s,0,x[oe]),W.splice(s,0,x[oe]),g.splice(s,0,x[oe]);if(t.listData=u,t.jsonData=W,t.sortedData=g,I){const oe=t.renderItems(u,t.fields);t.updateListItems(oe,t.ulElement),t.setSelection(),e.trigger("actionComplete",{items:x,eventName:this.toolbarAction})}e.updateSelectedOptions(),0===e.listData.length&&e.l10nUpdate()}1===e.value.length&&e.getSelectedItems().length&&(e.value[0]=e.getFormattedValue(e.getSelectedItems()[0].getAttribute("data-value")))}selectNextList(e,t,i,n){const s=n.ulElement.querySelectorAll(".e-list-item").length;let o,l,a=-1;1===e.length&&s&&!n.selectionSettings.showCheckbox&&(l=s<=t[0]?s-1:t[0],o=n.ulElement.querySelectorAll(".e-list-item")[l],a=n.getValidIndex(o,l,s===i[0]?38:40),a>-1&&n.ulElement.querySelectorAll(".e-list-item")[a].classList.add(Ti.selected))}moveAllItemTo(){this.moveAllData(this,this.getScopedListBox())}moveAllItemFrom(){this.moveAllData(this.getScopedListBox(),this)}moveAllData(e,t,i,n){let s=[].slice.call(t.listData);const o=[].slice.call(t.jsonData),l="None"!==t.sortOrder||t.selectionSettings.showCheckbox!==e.selectionSettings.showCheckbox||t.fields.groupBy||t.itemTemplate||e.itemTemplate;this.removeSelected(e,e.getSelectedItems());const a=[].slice.call(e.jsonData),c={cancel:!1,items:a,eventName:this.toolbarAction};if(e.trigger("actionBegin",c),c.cancel)return;if(0===t.listData.length){const p=t.ulElement.childNodes[0];p&&t.ulElement.removeChild(p)}if(l){const p=e.ulElement.childNodes[0];p&&e.ulElement.removeChild(p)}QD(e.ulElement,t.ulElement,Array.apply(null,{length:e.ulElement.childElementCount}).map(Number.call,Number),n),this.trigger("actionComplete",{items:a,eventName:this.toolbarAction}),i&&this.list.focus(),n=n||s.length;for(let p=0;p<e.listData.length;p++)s.splice(n+p,0,e.listData[p]);for(let p=0;p<e.jsonData.length;p++)o.splice(n+p,0,e.jsonData[p]);const d=[].slice.call(e.liCollections),u=[].slice.call(t.liCollections);if(e.liCollections=[],n){const p=u.splice(0,n);t.liCollections=p.concat(d).concat(u)}else t.liCollections=u.concat(d);if(e.value=[],s=s.filter(p=>!0!==p.isHeader),t.listData=s,t.jsonData=o,e.listData=e.sortedData=e.jsonData=[],l){const p=t.renderItems(s,t.fields);t.updateListItems(p,t.ulElement),this.trigger("actionComplete",{items:a,eventName:this.toolbarAction})}else t.sortedData=s;e.updateSelectedOptions(),0===e.listData.length&&e.l10nUpdate()}changeData(e,t,i,n){const s=[].slice.call(this.listData),o=[].slice.call(this.jsonData),l=[].slice.call(this.sortedData),a=Array.prototype.indexOf.call(this.jsonData,this.getDataByElems([n])[0]),c=Array.prototype.indexOf.call(this.sortedData,this.getDataByElems([n])[0]),d=[].slice.call(this.liCollections);s.splice(t,0,s.splice(e,1)[0]),o.splice(i,0,o.splice(a,1)[0]),l.splice(t,0,l.splice(c,1)[0]),d.splice(t,0,d.splice(e,1)[0]),this.listData=s,this.jsonData=o,this.liCollections=d,this.sortedData=l}getSelectedItems(){let e=[];return this.selectionSettings.showCheckbox?[].slice.call(this.ulElement.getElementsByClassName("e-check")).forEach(t=>{e.push(D(t,".e-list-item"))}):e=[].slice.call(this.ulElement.getElementsByClassName(Ti.selected)),e}getScopedListBox(){let e;return this.scope&&[].slice.call(document.querySelectorAll(this.scope)).forEach(t=>{la(t,this.getModuleName())&&(e=la(t,this.getModuleName()))}),e}getGrabbedItems(){return Array.prototype.slice.call(this.element.querySelectorAll(".e-grabbed"))}getDragArgs(e,t){let i=this.getGrabbedItems();return i.length?t&&i.push(e.target):i=[e.target],{elements:i,items:this.getDataByElems(i)}}onKeyDown(e){this.keyDownHandler(e),e.stopPropagation()}keyDownHandler(e){if([32,35,36,37,38,39,40,65].indexOf(e.keyCode)>-1&&!this.allowFiltering){if(e.target&&e.target.className.indexOf("e-edit-template")>-1)return;if(e.preventDefault(),32===e.keyCode&&this.ulElement.children.length)this.selectHandler({target:this.ulElement.getElementsByClassName("e-focused")[0],ctrlKey:e.ctrlKey,shiftKey:e.shiftKey});else if(65===e.keyCode&&e.ctrlKey)this.selectAll();else if((38===e.keyCode||40===e.keyCode)&&e.ctrlKey&&e.shiftKey)this.moveUpDown(38===e.keyCode,!0);else if(!this.toolbarSettings.items.length&&!this.tBListBox||39!==e.keyCode&&37!==e.keyCode||!e.ctrlKey)37!==e.keyCode&&39!==e.keyCode&&"KeyA"!==e.code&&this.upDownKeyHandler(e);else{const t=this.tBListBox||this.getScopedListBox();39===e.keyCode?e.shiftKey?this.moveAllData(this,t,!0):this.moveData(this,t,!0):e.shiftKey?this.moveAllData(t,this,!0):this.moveData(t,this,!0)}}else this.allowFiltering&&(40===e.keyCode||38===e.keyCode)&&this.upDownKeyHandler(e)}upDownKeyHandler(e){const t=this.ulElement;let n=40===e.keyCode||36===e.keyCode?0:t.childElementCount-1;const s=t.getElementsByClassName("e-focused")[0]||t.getElementsByClassName(Ti.selected)[0];if(s){if(35!==e.keyCode&&36!==e.keyCode&&(n=Array.prototype.indexOf.call(t.children,s),40===e.keyCode?n++:n--,n<0||n>t.childElementCount-1))return;T([s],"e-focused")}const o=t.children[n];if(o){if(n=this.getValidIndex(o,n,e.keyCode),-1===n)return void _([s],"e-focused");if(t.children[n].focus(),t.children[n].classList.add("e-focused"),(!e.ctrlKey||!this.selectionSettings.showCheckbox&&e.shiftKey&&(36===e.keyCode||35===e.keyCode))&&this.selectHandler({target:t.children[n],ctrlKey:e.ctrlKey,shiftKey:e.shiftKey},!0),this.selectionSettings.showCheckbox&&e.ctrlKey&&e.shiftKey&&(36===e.keyCode||35===e.keyCode)){const l=Array.prototype.indexOf.call(t.children,s),c="Home"===e.code?l:t.children.length-1;for(let d="Home"===e.code?0:l;d<=c;d++)this.notify("updatelist",{li:t.children[d],e:{target:this.ulElement.getElementsByClassName("e-focused")[0],ctrlKey:e.ctrlKey,shiftKey:e.shiftKey},module:"listbox"})}}}KeyUp(e){if(h(String.fromCharCode(e.keyCode).match(/\w/))||(this.isValidKey=!0),this.isValidKey=8===e.keyCode||46===e.keyCode||this.isValidKey,this.isValidKey&&(this.isValidKey=!1,this.allowFiltering)){const n={preventDefaultAction:!1,text:this.targetElement(),updateData:(s,o,l)=>{n.cancel||(this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(s,o,l))},event:e,cancel:!1};this.trigger("filtering",n,s=>{this.isDataFetched=!1,!(s.cancel||""!==this.filterInput.value&&this.isFiltered)&&(!s.cancel&&!this.isCustomFiltering&&!s.preventDefaultAction&&(this.inputString=this.filterInput.value,this.filteringAction(this.jsonData,new Ze,this.fields)),!this.isFiltered&&!this.isCustomFiltering&&!s.preventDefaultAction&&this.dataUpdater(this.jsonData,new Ze,this.fields))})}}filter(e,t,i){this.isCustomFiltering=!0,this.filteringAction(e,t,i)}filteringAction(e,t,i){this.resetList(e,i,t)}targetElement(){return this.targetInputElement=this.list.getElementsByClassName("e-input-filter")[0],this.targetInputElement.value}dataUpdater(e,t,i){if(this.isDataFetched=!1,""===this.targetElement().trim()){const s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.remoteCustomValue=!1,this.onActionComplete(s,this.jsonData),this.notify("reOrder",{module:"CheckBoxSelection",enable:this.selectionSettings.showCheckbox,e:this})}else this.resetList(e,i,t)}focusOutHandler(){const e=this.list.getElementsByClassName("e-focused")[0];e&&e.classList.remove("e-focused"),this.allowFiltering&&this.refreshClearIcon()}getValidIndex(e,t,i){const n=this.ulElement;return(e.classList.contains("e-disabled")||e.classList.contains(Ti.group))&&(40===i||36===i?t++:t--),t<0||t===n.childElementCount?-1:(((e=n.querySelectorAll(".e-list-item")[t]).classList.contains("e-disabled")||e.classList.contains(Ti.group))&&(t=this.getValidIndex(e,t,i)),t)}updateSelectedOptions(){const e=[],t=[];if(O(t,this.value),this.getSelectedItems().forEach(i=>{i.classList.contains("e-grabbed")||e.push(this.getFormattedValue(i.getAttribute("data-value")))}),this.mainList.childElementCount===this.ulElement.childElementCount)if(this.allowFiltering&&this.selectionSettings.showCheckbox){for(let i=0;i<e.length;i++)t.indexOf(e[i])>-1||t.push(e[i]);this.setProperties({value:t},!0)}else this.setProperties({value:e},!0);this.updateSelectTag(),this.updateToolBarState(),this.tBListBox&&this.tBListBox.updateToolBarState()}clearSelection(e=this.value){if(this.selectionSettings.showCheckbox){let t;this.getSelectedItems().forEach(i=>{t=this.getFormattedValue(i.getAttribute("data-value")),e.indexOf(t)<0&&(i.getElementsByClassName("e-check")[0].classList.remove("e-check"),i.getElementsByClassName("e-checkbox-wrapper")[0].removeAttribute("aria-checked"),i.removeAttribute("aria-selected"))})}}setSelection(e=this.value,t=!0,i=!1){let n,s;e&&e.forEach(o=>{let l;l=i?this.getValueByText(o):o,n=this.list.querySelector('[data-value="'+l+'"]'),n&&(s=this.selectionSettings.showCheckbox?n.getElementsByClassName("e-frame")[0].classList.contains("e-check"):n.classList.contains("e-selected"),(!t&&s||t&&!s&&n)&&(this.selectionSettings.showCheckbox?this.notify("updatelist",{li:n,module:"listbox"}):t?(n.classList.add(Ti.selected),n.setAttribute("aria-selected","true")):(n.classList.remove(Ti.selected),n.removeAttribute("aria-selected"))))}),this.updateSelectTag()}updateSelectTag(){const e=this.getSelectTag();let t="";if(e.innerHTML="",this.value){for(let i=0,n=this.value.length;i<n;i++)t+='<option selected value="'+this.value[i]+'"></option>';e.innerHTML+=t}this.checkSelectAll()}checkDisabledState(e){return 0===e.ulElement.querySelectorAll("."+Ti.li).length}updateToolBarState(){if(this.toolbarSettings.items.length){const e=this.getScopedListBox(),t=this.list.parentElement.getElementsByClassName("e-listbox-tool")[0];this.toolbarSettings.items.forEach(i=>{const n=t.querySelector('[data-value="'+i+'"]');switch(i){case"moveAllTo":n.disabled=this.checkDisabledState(this);break;case"moveAllFrom":n.disabled=this.checkDisabledState(e);break;case"moveFrom":n.disabled=!(e.value&&e.value.length);break;case"moveUp":n.disabled=!(this.value&&this.value.length&&!this.isSelected(this.ulElement.children[0]));break;case"moveDown":n.disabled=!(this.value&&this.value.length&&!this.isSelected(this.ulElement.children[this.ulElement.childElementCount-1]));break;default:n.disabled=!(this.value&&this.value.length)}})}}setCheckboxPosition(){const e=this.list;!this.initLoad&&"Left"===this.selectionSettings.checkboxPosition&&e.classList.remove("e-right"),"Right"===this.selectionSettings.checkboxPosition&&e.classList.add("e-right")}showCheckbox(e){let t=0;const i=this.list.lastElementChild.querySelectorAll("li"),n=this.list.lastElementChild.getElementsByClassName("e-list-item").length;if(e){if(this.ulElement=this.renderItems(this.listData,this.fields),this.mainList=this.ulElement,this.list.removeChild(this.list.getElementsByTagName("ul")[0]),this.list.appendChild(this.ulElement),this.selectionSettings.showSelectAll&&!this.list.getElementsByClassName("e-selectall-parent")[0]){const s=new is(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.showSelectAll=!0,this.selectAllText=s.getConstant("selectAllText"),this.unSelectAllText=s.getConstant("unSelectAllText"),this.popupWrapper=this.list,this.checkBoxSelectionModule.checkAllParent=null,this.notify("selectAll",{}),this.checkSelectAll()}}else{for(this.list.getElementsByClassName("e-selectall-parent")[0]&&this.list.removeChild(this.list.getElementsByClassName("e-selectall-parent")[0]);t<n;t++)i[t].classList.contains("e-list-item")&&i[t].removeChild(i[t].getElementsByClassName("e-checkbox-wrapper")[0]),i[t].hasAttribute("aria-selected")&&i[t].removeAttribute("aria-selected");this.mainList=this.ulElement}this.value=[]}isSelected(e){return!h(e)&&(e.classList.contains(Ti.selected)||null!==e.querySelector(".e-check"))}getSelectTag(){return this.list.getElementsByClassName("e-hidden-select")[0]}getToolElem(){return this.list.parentElement.getElementsByClassName("e-listbox-tool")[0]}formResetHandler(){this.value=this.initialSelectedOptions}getModuleName(){return"listbox"}getPersistData(){return this.addOnPersist(["value"])}getLocaleName(){return"listbox"}destroy(){this.unwireEvents(),"EJS-LISTBOX"===this.element.tagName?this.element.innerHTML="":(this.element.style.display="inline-block",this.toolbarSettings.items.length&&(this.list.parentElement.parentElement.insertBefore(this.list,this.list.parentElement),de(this.list.nextElementSibling)),this.list.parentElement.insertBefore(this.element,this.list)),super.destroy(),this.enableRtlElements=[],this.liCollections=null,this.list=null,this.ulElement=null,this.mainList=null,this.spinner=null,this.rippleFun=null,this.itemTemplate&&this.clearTemplate()}onPropertyChanged(e,t){const i=this.toolbarSettings.items.length?this.list.parentElement:this.list;super.onPropertyChanged(e,t),this.setUpdateInitial(["fields","query","dataSource"],e);for(const n of Object.keys(e))switch(n){case"cssClass":t.cssClass&&T([i],t.cssClass.split(" ")),e.cssClass&&_([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?this.list.classList.add("e-rtl"):this.list.classList.remove("e-rtl");break;case"value":T(this.list.querySelectorAll("."+Ti.selected),Ti.selected),this.clearSelection(this.value),this.setSelection();break;case"height":this.setHeight();break;case"enabled":this.setEnable();break;case"allowDragAndDrop":e.allowDragAndDrop?this.initDraggable():la(this.ulElement,"sortable").destroy();break;case"allowFiltering":this.allowFiltering?this.setFiltering():(this.list.removeChild(this.list.getElementsByClassName("e-filter-parent")[0]),this.filterParent=null,T([this.list],"e-filter-list"));break;case"filterBarPlaceholder":this.allowFiltering&&this.filterInput&&ke.setPlaceholder(e.filterBarPlaceholder,this.filterInput);break;case"scope":this.allowDragAndDrop&&(la(this.ulElement,"sortable").scope=e.scope),this.toolbarSettings.items.length&&(t.scope&&(la(document.querySelector(t.scope),this.getModuleName()).tBListBox=null),e.scope&&(la(document.querySelector(e.scope),this.getModuleName()).tBListBox=this));break;case"toolbarSettings":{let s;const o=e.toolbarSettings.position,l=this.getToolElem();o&&(T([i],["e-right","e-left"]),i.classList.add("e-"+o.toLowerCase()),"Left"===o?i.insertBefore(l,this.list):i.appendChild(l)),e.toolbarSettings.items&&(t.toolbarSettings&&t.toolbarSettings.items.length&&(s=this.list.parentElement,s.parentElement.insertBefore(this.list,s),de(s)),this.initToolbarAndStyles(),this.wireToolbarEvent());break}case"selectionSettings":{const s=e.selectionSettings.showSelectAll,o=e.selectionSettings.showCheckbox;if(!h(s)){if(this.showSelectAll=s,this.showSelectAll){const l=new is(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.checkBoxSelectionModule.checkAllParent=null,this.showSelectAll=!0,this.selectAllText=l.getConstant("selectAllText"),this.unSelectAllText=l.getConstant("selectAllText"),this.popupWrapper=this.list}this.notify("selectAll",{}),this.checkSelectAll()}h(o)||this.showCheckbox(o),this.selectionSettings.showCheckbox&&this.setCheckboxPosition();break}case"dataSource":this.isDataSourceUpdate=!0,this.jsonData=[].slice.call(this.dataSource)}}};qs([y("")],Mr.prototype,"cssClass",void 0),qs([y([])],Mr.prototype,"value",void 0),qs([y("")],Mr.prototype,"height",void 0),qs([y(!1)],Mr.prototype,"allowDragAndDrop",void 0),qs([y(1e3)],Mr.prototype,"maximumSelectionLength",void 0),qs([y(!1)],Mr.prototype,"allowFiltering",void 0),qs([y("")],Mr.prototype,"scope",void 0),qs([y(!0)],Mr.prototype,"ignoreCase",void 0),qs([y(null)],Mr.prototype,"filterBarPlaceholder",void 0),qs([E()],Mr.prototype,"beforeItemRender",void 0),qs([E()],Mr.prototype,"filtering",void 0),qs([E()],Mr.prototype,"select",void 0),qs([E()],Mr.prototype,"change",void 0),qs([E()],Mr.prototype,"beforeDrop",void 0),qs([E()],Mr.prototype,"dragStart",void 0),qs([E()],Mr.prototype,"drag",void 0),qs([E()],Mr.prototype,"drop",void 0),qs([E()],Mr.prototype,"dataBound",void 0),qs([y(null)],Mr.prototype,"groupTemplate",void 0),qs([y("Request failed")],Mr.prototype,"actionFailureTemplate",void 0),qs([y(1e3)],Mr.prototype,"zIndex",void 0),qs([y(!1)],Mr.prototype,"ignoreAccent",void 0),qs([gi({},wO)],Mr.prototype,"toolbarSettings",void 0),qs([gi({},n1)],Mr.prototype,"selectionSettings",void 0),Mr=K2=qs([Pi],Mr);const hx={backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",clearIcon:"e-clear-icon"};var to=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const Iu="e-other-month",bO="e-other-year",s1="e-calendar",fK="e-device",_O="e-year",SO="e-month",vK="e-decade",yK="e-icons",Ao="e-disabled",If="e-overlay",IO="e-week-number",Ic="e-selected",Ba="e-focused-date",Y2="e-month-hide",xK="e-today",Q2="e-zoomin",bK="e-calendar-day-header-lg",DO=864e5;let _K=(()=>{let r=class extends an{constructor(t,i){super(t,i),this.effect="",this.isPopupClicked=!1,this.isDateSelected=!0,this.isTodayClicked=!1,this.preventChange=!1,this.isAngular=!1}render(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new Nn(this.locale),(h(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(s1),this.enableRtl&&this.element.classList.add("e-rtl"),A.isDevice&&this.element.classList.add(fK),Le(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(s1),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),A.isDevice&&this.calendarElement.classList.add(fK),Le(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()}rangeValidation(t,i){h(t)&&this.setProperties({min:new Date(1900,0,1)},!0),h(i)&&this.setProperties({max:new Date(2099,11,31)},!0)}getDefaultKeyConfig(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs}validateDate(t){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!h(t)&&this.min<=this.max&&t>=this.min&&t<=this.max&&(this.currentDate=new Date(this.checkValue(t)))}setOverlayIndex(t,i,n,s){if(s&&!h(i)&&!h(n)&&!h(t)){const o=parseInt(i.style.zIndex,10)?parseInt(i.style.zIndex,10):1e3;n.style.zIndex=(o-1).toString(),t.style.zIndex=o.toString()}}minMaxUpdate(t){+this.min<=+this.max?T([this.element],If):(this.setProperties({min:this.min},!0),_([this.element],If)),this.min=h(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=h(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&t&&+t<=+this.max&&+t>=+this.min?this.currentDate=new Date(this.checkValue(t)):+this.min<=+this.max&&!t&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}createHeader(){this.headerElement=this.createElement("div",{className:"e-header"});const s=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),Ys(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),Le(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),Ys(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),"daterangepicker"===this.getModuleName()&&(Le(this.previousIcon,{tabIndex:"-1"}),Le(this.nextIcon,{tabIndex:"-1"})),Le(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),Le(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev "+yK})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  "+yK})),s.appendChild(this.previousIcon),s.appendChild(this.nextIcon),this.headerElement.appendChild(s),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()}createContent(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()}getCultureValues(){const t=[];let i;const n="days.stand-alone."+this.dayHeaderFormat.toLowerCase();i="en"===this.locale||"en-US"===this.locale?M(n,af()):this.getCultureObjects(xl,""+this.locale);for(const s of Object.keys(i))t.push(M(s,i));return t}toCapitalize(t){return!h(t)&&t.length?t[0].toUpperCase()+t.slice(1):t}createContentHeader(){"calendar"===this.getModuleName()?h(this.element.querySelectorAll(".e-content .e-week-header")[0])||de(this.element.querySelectorAll(".e-content .e-week-header")[0]):h(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||de(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);let i="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(i+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?_([this.element],""+IO):_([this.calendarElement],""+IO));const n=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(let s=0;s<=6;s++)i+='<th  class="">'+this.toCapitalize(n[s])+"</th>";i="<tr>"+i+"</tr>",this.tableHeadElement.innerHTML=i,this.table.appendChild(this.tableHeadElement)}createContentBody(){switch("calendar"===this.getModuleName()?h(this.element.querySelectorAll(".e-content tbody")[0])||de(this.element.querySelectorAll(".e-content tbody")[0]):h(this.calendarElement.querySelectorAll(".e-content tbody")[0])||de(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}}updateFooter(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))}createContentFooter(){if(this.showTodayButton){const t=new Date(+this.min),i=new Date(+this.max),n={today:"Today"};this.globalize=new Nn(this.locale),this.l10=new is(this.getModuleName(),n,this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),Ys(this.todayElement),this.updateFooter(),_([this.todayElement],["e-btn",xK,"e-flat","e-primary","e-css"]),(!(+new Date(t.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(i.setHours(0,0,0,0)))||this.todayDisabled)&&_([this.todayElement],Ao),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(Ao)||C.add(this.todayElement,"click",this.todayButtonClick,this)}}wireEvents(t,i,n,s){C.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=O(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModule="calendar"===this.getModuleName()?new tn(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):new tn(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}dateWireEvents(t,i,n,s){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=O(this.defaultKeyConfigs,n),this.serverModuleName=s}todayButtonClick(t,i,n){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(i)),n):this.navigateTo("Month",new Date(this.checkValue(i)),n))}resetCalendar(){this.calendarElement&&de(this.calendarElement),this.tableBodyElement&&de(this.tableBodyElement),this.table&&de(this.table),this.tableHeadElement&&de(this.tableHeadElement),this.nextIcon&&de(this.nextIcon),this.previousIcon&&de(this.previousIcon),this.footer&&de(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null}keyActionHandle(t,i,n){const s=this.tableBodyElement.querySelector("tr td.e-focused-date");let o;o=n?h(s)||+i!==parseInt(s.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):s:this.tableBodyElement.querySelector("tr td.e-selected");let l=this.getViewNumber(this.currentView());const a=this.getViewNumber(this.depth),c=l===a&&this.getViewNumber(this.start)>=a;switch(this.effect="",t.action){case"moveLeft":this.keyboardNavigate(-1,l,t,this.max,this.min),t.preventDefault();break;case"moveRight":this.keyboardNavigate(1,l,t,this.max,this.min),t.preventDefault();break;case"moveUp":this.keyboardNavigate(0===l?-7:-4,l,t,this.max,this.min),t.preventDefault();break;case"moveDown":this.keyboardNavigate(0===l?7:4,l,t,this.max,this.min),t.preventDefault();break;case"select":if(t.target===this.todayElement)this.todayButtonClick(t,i);else{const d=h(s)?o:s;if(!h(d)&&!d.classList.contains(Ao))if(c){const u=new Date(parseInt(""+d.id,0));this.selectDate(t,u,d)}else this.contentClick(null,--l,d,i)}break;case"controlUp":this.title(),t.preventDefault();break;case"controlDown":(!h(s)||!h(o)&&!c)&&this.contentClick(null,--l,s||o,i),t.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),de(this.tableBodyElement),0===l?this.renderMonths(t):1===l?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,l),de(this.tableBodyElement),0===l?this.renderMonths(t):1===l?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),t.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),t.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()}keyboardNavigate(t,i,n,s,o){const l=new Date(this.checkValue(this.currentDate));switch(i){case 2:this.addYears(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(de(this.tableBodyElement),this.renderDecades(n)):this.currentDate=l;break;case 1:this.addMonths(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(de(this.tableBodyElement),this.renderYears(n)):this.currentDate=l;break;case 0:this.addDay(this.currentDate,t,n,s,o),this.isMinMaxRange(this.currentDate)?(de(this.tableBodyElement),this.renderMonths(n)):this.currentDate=l}}preRender(t){this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=i=>{this.triggerNavigate(i)}}minMaxDate(t){const i=new Date(new Date(+t).setHours(0,0,0,0)),n=new Date(new Date(+this.min).setHours(0,0,0,0)),s=new Date(new Date(+this.max).setHours(0,0,0,0));return(+i==+n||+i==+s)&&(+t<+this.min&&(t=new Date(+this.min)),+t>+this.max&&(t=new Date(+this.max))),t}renderMonths(t,i,n){const s=this.weekNumber?8:7;let o;o="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,i,null,null,n):this.islamicModule.islamicRenderDays(this.currentDate,i),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(o,s,SO,t,i):this.islamicModule.islamicRenderTemplate(o,s,SO,t,i)}renderDays(t,i,n,s,o){const l=[],c=o?new Date(+t):this.getDate(new Date,this.timezone);let u,d=new Date(this.checkValue(t));const p=d.getMonth();this.titleUpdate(t,"days");const g=d;for(d=new Date(g.getFullYear(),g.getMonth(),0,g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds());d.getDay()!==this.firstDayOfWeek;)this.setStartDate(d,-1*DO);for(let f=0;f<42;++f){const m=this.createElement("td",{className:"e-cell"}),v=this.createElement("span");if(f%7==0&&this.weekNumber){const xe="FirstDay"===this.weekRule?6:"FirstFourDayWeek"===this.weekRule?3:0,z=new Date(d.getFullYear(),d.getMonth(),d.getDate()+xe);v.textContent=""+this.getWeek(z),m.appendChild(v),_([m],""+IO),l.push(m)}u=new Date(+d),d=this.minMaxDate(d);const x={type:"dateTime",skeleton:"full"},w=this.globalize.parseDate(this.globalize.formatDate(d,x),x),b=this.dayCell(d),I=this.globalize.formatDate(d,{type:"date",skeleton:"full"}),k=this.createElement("span");k.textContent=this.globalize.formatDate(d,{format:"d",type:"date",skeleton:"yMd"});const P=this.min>d||this.max<d;P?(_([b],Ao),_([b],If)):k.setAttribute("title",""+I),p!==d.getMonth()&&_([b],Iu),(0===d.getDay()||6===d.getDay())&&_([b],"e-weekend"),b.appendChild(k),this.renderDayCellArgs={date:d,isDisabled:!1,element:b,isOutOfRange:P};const W=this.renderDayCellArgs;if(this.renderDayCellEvent(W),W.isDisabled){const xe=new Date(this.checkValue(i)),z=new Date(this.checkValue(W.date));if(n){if(!h(s)&&s.length>0)for(let Re=0;Re<s.length;Re++)+new Date(this.globalize.formatDate(W.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(s[Re],{type:"date",skeleton:"yMd"}))&&(s.splice(Re,1),Re=-1)}else xe&&+xe==+z&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!b.classList.contains(Ic)&&(_([b],Ao),_([b],If),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));const oe=b.classList.contains(Iu),ae=b.classList.contains(Ao);if(ae||C.add(b,"click",this.clickHandler,this),!n||h(s)||ae)!ae&&this.getDateVal(d,i)&&_([b],Ic);else{for(let xe=0;xe<s.length;xe++){const Re={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(d,Re)===this.globalize.formatDate(s[xe],Re)&&this.getDateVal(d,s[xe])||this.getDateVal(d,i)?_([b],Ic):this.updateFocus(oe,ae,d,b,t)}s.length<=0&&this.updateFocus(oe,ae,d,b,t)}this.updateFocus(oe,ae,d,b,t),w.getFullYear()===c.getFullYear()&&w.getMonth()===c.getMonth()&&w.getDate()===c.getDate()&&_([b],xK),l.push(this.renderDayCellArgs.element),d=new Date(+u),this.addDay(d,1,null,this.max,this.min)}return l}updateFocus(t,i,n,s,o){o.getDate()!==n.getDate()||t||i?(o>=this.max&&parseInt(s.id,0)===+this.max&&!t&&!i&&_([s],Ba),o<=this.min&&parseInt(s.id,0)===+this.min&&!t&&!i&&_([s],Ba)):_([s],Ba)}renderYears(t,i){this.removeTableHeadElement();const s=[],o=h(i),l=new Date(this.checkValue(this.currentDate)),a=l.getMonth(),c=l.getFullYear(),d=l,u=d.getFullYear(),p=new Date(this.checkValue(this.min)).getFullYear(),g=new Date(this.checkValue(this.min)).getMonth(),f=new Date(this.checkValue(this.max)).getFullYear(),m=new Date(this.checkValue(this.max)).getMonth();d.setMonth(0),this.titleUpdate(this.currentDate,"months"),d.setDate(1);for(let v=0;v<12;++v){const x=this.dayCell(d),w=this.createElement("span"),b=i&&i.getMonth()===d.getMonth(),I=i&&i.getFullYear()===c&&b;w.textContent=this.toCapitalize(this.globalize.formatDate(d,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(u<p||v<g&&u===p)||this.max&&(u>f||v>m&&u>=f)?_([x],Ao):!o&&I?_([x],Ic):d.getMonth()===a&&this.currentDate.getMonth()===a&&_([x],Ba),d.setDate(1),d.setMonth(d.getMonth()+1),x.classList.contains(Ao)||C.add(x,"click",this.clickHandler,this),x.appendChild(w),s.push(x)}this.renderTemplate(s,4,_O,t,i)}renderDecades(t,i){this.removeTableHeadElement();const o=[],l=new Date(this.checkValue(this.currentDate));l.setMonth(0),l.setDate(1);const a=l.getFullYear(),c=new Date(l.setFullYear(a-a%10)),d=new Date(l.setFullYear(a-a%10+9)),u=c.getFullYear(),p=d.getFullYear(),g=this.globalize.formatDate(c,{format:null,type:"dateTime",skeleton:"y"}),f=this.globalize.formatDate(d,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=g+" - "+f;const v=new Date(a-a%10-1,0,1).getFullYear();for(let x=0;x<12;++x){const w=v+x;l.setFullYear(w);const b=this.dayCell(l);Le(b,{role:"gridcell"});const I=this.createElement("span");I.textContent=this.globalize.formatDate(l,{format:null,type:"dateTime",skeleton:"y"}),w<u||w>p?(_([b],bO),!h(i)&&l.getFullYear()===i.getFullYear()&&_([b],Ic),(w<new Date(this.checkValue(this.min)).getFullYear()||w>new Date(this.checkValue(this.max)).getFullYear())&&_([b],Ao)):w<new Date(this.checkValue(this.min)).getFullYear()||w>new Date(this.checkValue(this.max)).getFullYear()?_([b],Ao):h(i)||l.getFullYear()!==i.getFullYear()?l.getFullYear()===this.currentDate.getFullYear()&&!b.classList.contains(Ao)&&_([b],Ba):_([b],Ic),b.classList.contains(Ao)||C.add(b,"click",this.clickHandler,this),b.appendChild(I),o.push(b)}this.renderTemplate(o,4,"e-decade",t,i)}dayCell(t){const n={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},l={className:"e-cell",attrs:{id:""+Gn(""+this.globalize.parseDate(this.globalize.formatDate(t,n),n).valueOf()),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",l)}firstDay(t){const i="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+Iu):this.tableBodyElement.querySelectorAll("td:not(."+bO);if(i.length)for(let n=0;n<i.length;n++)if(!i[n].classList.contains(Ao)){t=new Date(parseInt(i[n].id,0));break}return t}lastDay(t,i){const n=new Date(t.getFullYear(),t.getMonth()+1,0);if(2!==i){const s=Math.abs(n.getTimezoneOffset()-this.firstDay(t).getTimezoneOffset());return s&&n.setHours(this.firstDay(t).getHours()+s/60),this.findLastDay(n)}return this.findLastDay(this.firstDay(n))}checkDateValue(t){return!h(t)&&t instanceof Date&&!isNaN(+t)?t:null}findLastDay(t){const i="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+bO):this.tableBodyElement.querySelectorAll("td:not(."+Iu);if(i.length)for(let n=i.length-1;n>=0;n--)if(!i[n].classList.contains(Ao)){t=new Date(parseInt(i[n].id,0));break}return t}removeTableHeadElement(){"calendar"===this.getModuleName()?h(this.element.querySelectorAll(".e-content table thead")[0])||de(this.tableHeadElement):h(this.calendarElement.querySelectorAll(".e-content table thead")[0])||de(this.tableHeadElement)}renderTemplate(t,i,n,s,o){const l=this.getViewNumber(this.currentView());let a;this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),T([this.contentElement,this.headerElement],[SO,vK,_O]),_([this.contentElement,this.headerElement],[n]);let p=i,g=0;for(let f=0;f<t.length/i;++f){for(a=this.createElement("tr",{attrs:{role:"row"}}),g=0+g;g<p;g++)!t[g].classList.contains("e-week-number")&&!h(t[g].children[0])&&(_([t[g].children[0]],["e-day"]),Ys(t[g].children[0],{duration:600,isCenterRipple:!0})),a.appendChild(t[g]),this.weekNumber&&7===g&&t[7].classList.contains(Iu)&&_([a],Y2),!this.weekNumber&&6===g&&t[6].classList.contains(Iu)&&_([a],Y2),this.weekNumber?41===g&&t[41].classList.contains(Iu)&&_([a],Y2):35===g&&t[35].classList.contains(Iu)&&_([a],Y2);p+=i,g+=0,this.tableBodyElement.appendChild(a)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(l!==this.getViewNumber(this.currentView())||0===l&&l!==this.getViewNumber(this.currentView()))&&this.navigateHandler(s),this.setAriaActiveDescendant()}clickHandler(t,i){this.clickEventEmitter(t);const n=t.currentTarget,s=this.getViewNumber(this.currentView());n.classList.contains(Iu)?this.contentClick(t,0,null,i):s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)||2===s?this.contentClick(t,1,null,i):n.classList.contains(Iu)||0!==s?this.contentClick(t,0,n,i):this.selectDate(t,this.getIdValue(t,null),null),"calendar"===this.getModuleName()&&this.table.focus()}clickEventEmitter(t){t.preventDefault()}contentClick(t,i,n,s){const o=this.getViewNumber(this.currentView()),l=this.getIdValue(t,n);switch(i){case 0:o===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(de(this.tableBodyElement),this.currentDate=l,this.effect=Q2,this.renderMonths(t)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(l.getMonth()),l.getMonth()>0&&this.currentDate.getMonth()!==l.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(l.getFullYear())):this.currentDate=l,this.effect=Q2,de(this.tableBodyElement),this.renderMonths(t));break;case 1:if(o===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(t,l,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(l.getFullYear());else{const a=this.islamicModule.getIslamicDate(l);this.currentDate=this.islamicModule.toGregorian(a.year,a.month,1)}this.effect=Q2,de(this.tableBodyElement),this.renderYears(t)}}}switchView(t,i,n,s){switch(t){case 0:de(this.tableBodyElement),this.renderMonths(i,null,s),n&&!h(this.tableBodyElement.querySelectorAll("."+Ba)[0])&&this.tableBodyElement.querySelectorAll("."+Ba)[0].classList.remove(Ba);break;case 1:de(this.tableBodyElement),this.renderYears(i);break;case 2:de(this.tableBodyElement),this.renderDecades(i)}}getModuleName(){return"calendar"}requiredModules(){const t=[];return this&&t.push({args:[this],member:"islamic"}),t}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(t,i,n,s){this.effect="";for(const o of Object.keys(t))switch(o){case"enableRtl":t.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===o?{min:this.checkDateValue(new Date(this.checkValue(t.min)))}:{max:this.checkDateValue(new Date(this.checkValue(t.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&de(this.tableBodyElement),this.minMaxUpdate(),n&&this.validateValues(n,s),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(de(this.todayElement),de(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(T([this.todayElement],Ao),de(this.todayElement),de(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody());break;case"locale":this.globalize=new Nn(this.locale),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody()),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":t.showTodayButton?this.createContentFooter():!h(this.todayElement)&&!h(this.footer)&&(de(this.todayElement),de(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:t.showTodayButton},!0)}}validateValues(t,i){if(t&&!h(i)&&i.length>0){const n=this.copyValues(i);for(let s=0;s<n.length;s++){const l="Gregorian"===this.calendarMode?"gregorian":"islamic";let a;a=this.globalize.formatDate(n[s],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});const u=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:l}),f=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:l});(+new Date(a)<+new Date(u)||+new Date(a)>+new Date(f))&&(n.splice(s,1),s=-1)}this.setProperties({values:n},!0)}}setValueUpdate(){h(this.tableBodyElement)||(de(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())}copyValues(t){const i=[];if(!h(t)&&t.length>0)for(let n=0;n<t.length;n++)i.push(new Date(+t[n]));return i}titleUpdate(t,i){const n=new Nn(this.locale);let s,o;const l="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(s=n.formatDate(t,{type:"dateTime",skeleton:"yMMMM",calendar:l}),o=n.formatDate(t,{format:null,type:"dateTime",skeleton:"y",calendar:l})):(s=n.formatDate(t,{type:"dateTime",format:"MMMM y",calendar:l}),o=n.formatDate(t,{type:"dateTime",format:"y",calendar:l})),i){case"days":this.headerTitleElement.textContent=this.toCapitalize(s);break;case"months":this.headerTitleElement.textContent=o}}setActiveDescendant(){let t;const i=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),s="Gregorian"===this.calendarMode?"gregorian":"islamic";let o;const l=this.currentView();return o=this.globalize.formatDate(this.currentDate,"Month"===l?{type:"date",skeleton:"full",calendar:s}:"Year"===l?"islamic"!==s?{type:"date",skeleton:"yMMMM",calendar:s}:{type:"date",skeleton:"GyMMM",calendar:s}:{format:null,type:"date",skeleton:"y",calendar:s}),(n||i)&&(h(n)||n.setAttribute("aria-selected","true"),(i||n).setAttribute("aria-label",o),t=(i||n).getAttribute("id")),t}iconHandler(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}}destroy(){("calendar"===this.getModuleName()&&this.element||this.calendarElement&&this.element)&&T([this.element],[s1]),"calendar"===this.getModuleName()&&this.element&&(C.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&C.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),h(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),super.destroy()}title(t){let i=this.getViewNumber(this.currentView());this.effect=Q2,this.switchView(++i,t)}getViewNumber(t){return"Month"===t?0:"Year"===t?1:2}navigateTitle(t){t.preventDefault(),this.title(t),"calendar"===this.getModuleName()&&this.table.focus()}previous(){this.effect="";const t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(t)}}navigatePrevious(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()}next(){this.effect="";const t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(t)}}navigateNext(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()}navigateTo(t,i,n){+i>=+this.min&&+i<=+this.max&&(this.currentDate=i),+i<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+i>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(t)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(t))&&(t=this.depth),this.switchView(this.getViewNumber(t),null,null,n)}currentView(){return this.contentElement.classList.contains(_O)?"Year":this.contentElement.classList.contains(vK)?"Decade":"Month"}getDateVal(t,i){return!h(i)&&t.getDate()===i.getDate()&&t.getMonth()===i.getMonth()&&t.getFullYear()===i.getFullYear()}getCultureObjects(t,i){const n=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),s=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return M("Gregorian"===this.calendarMode?"main."+this.locale+n:"main."+this.locale+s,t)}getWeek(t){const i=new Date(this.checkValue(t)).valueOf(),n=new Date(t.getFullYear(),0,1).valueOf();return Math.ceil((i-n+DO)/DO/7)}setStartDate(t,i){const n=t.getTimezoneOffset(),s=new Date(t.getTime()+i),o=s.getTimezoneOffset()-n;t.setTime(s.getTime()+6e4*o)}addMonths(t,i){if("Gregorian"===this.calendarMode){const n=t.getDate();t.setDate(1),t.setMonth(t.getMonth()+i),t.setDate(Math.min(n,this.getMaxDays(t)))}else{const n=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(n.year,n.month+i,1)}}addYears(t,i){if("Gregorian"===this.calendarMode){const n=t.getDate();t.setDate(1),t.setFullYear(t.getFullYear()+i),t.setDate(Math.min(n,this.getMaxDays(t)))}else{const n=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(n.year+i,n.month,1)}}getIdValue(t,i){let n;n=t?t.currentTarget:i;const o={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},l=this.globalize.formatDate(new Date(parseInt(""+n.getAttribute("id"),0)),o),a=this.globalize.parseDate(l,o),c=a.valueOf()-a.valueOf()%1e3;return new Date(c)}adjustLongHeaderSize(){T([this.element],bK),"Wide"===this.dayHeaderFormat&&_(["calendar"===this.getModuleName()?this.element:this.calendarElement],bK)}selectDate(t,i,n,s,o){const l=n||t.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,i.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,i);else{if(s&&!this.checkPresentDate(i,o)){const c=this.copyValues(o);!h(o)&&c.length>0?(c.push(new Date(this.checkValue(i))),this.setProperties({values:c},!0),this.setProperties({value:o[o.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(i))]},!0)}else this.setProperties({value:new Date(this.checkValue(i))},!0);this.currentDate=new Date(this.checkValue(i))}let a=D(l,"."+s1);if(h(a)&&(a=this.tableBodyElement),!s&&!h(a.querySelector("."+Ic))&&T([a.querySelector("."+Ic)],Ic),!s&&!h(a.querySelector("."+Ba))&&T([a.querySelector("."+Ba)],Ba),s){const c=this.copyValues(o),d=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td"));for(let u=0;u<d.length;u++){const p=a.querySelectorAll("td."+Ba)[0],g=a.querySelectorAll("td."+Ic)[0];d[u]===p&&T([d[u]],Ba),d[u]===g&&!this.checkPresentDate(new Date(parseInt(g.getAttribute("id").split("_")[0],10)),o)&&T([d[u]],Ic)}if(l.classList.contains(Ic)){T([l],Ic);for(let u=0;u<c.length;u++){const g={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if(this.globalize.formatDate(i,g)===this.globalize.formatDate(c[u],g)){const v=c.indexOf(c[u]);c.splice(v,1),_([l],Ba)}}this.setProperties({values:c},!0)}else _([l],Ic)}else _([l],Ic);this.isDateSelected=!0}checkPresentDate(t,i){let n=!1;if(!h(i))for(let s=0;s<i.length;s++){const o="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(t,{format:null,type:"date",skeleton:"short",calendar:o})===this.globalize.formatDate(i[s],{format:null,type:"date",skeleton:"short",calendar:o})&&(n=!0)}return n}setAriaActiveDescendant(){Le(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})}previousIconHandler(t){t?(C.remove(this.previousIcon,"click",this.navigatePreviousHandler),_([this.previousIcon],""+Ao),_([this.previousIcon],""+If),this.previousIcon.setAttribute("aria-disabled","true")):(C.add(this.previousIcon,"click",this.navigatePreviousHandler),T([this.previousIcon],""+Ao),T([this.previousIcon],""+If),this.previousIcon.setAttribute("aria-disabled","false"))}renderDayCellEvent(t){O(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",t)}navigatedEvent(t){O(this.navigatedArgs,{name:"navigated",event:t}),this.trigger("navigated",this.navigatedArgs)}triggerNavigate(t){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(t)}nextIconHandler(t){t?(C.remove(this.nextIcon,"click",this.navigateNextHandler),_([this.nextIcon],Ao),_([this.nextIcon],If),this.nextIcon.setAttribute("aria-disabled","true")):(C.add(this.nextIcon,"click",this.navigateNextHandler),T([this.nextIcon],Ao),T([this.nextIcon],If),this.nextIcon.setAttribute("aria-disabled","false"))}compare(t,i,n){let o,l,s=i.getFullYear();return o=s,l=0,n&&(s-=s%n,o=s-s%n+n-1),t.getFullYear()>o?l=1:t.getFullYear()<s&&(l=-1),l}isMinMaxRange(t){return+t>=+this.min&&+t<=+this.max}isMonthYearRange(t){if("Gregorian"===this.calendarMode)return t.getMonth()>=this.min.getMonth()&&t.getFullYear()>=this.min.getFullYear()&&t.getMonth()<=this.max.getMonth()&&t.getFullYear()<=this.max.getFullYear();{const i=this.islamicModule.getIslamicDate(t);return i.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&i.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&i.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&i.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year}}compareYear(t,i){return this.compare(t,i,0)}compareDecade(t,i){return this.compare(t,i,10)}shiftArray(t,i){return t.slice(i).concat(t.slice(0,i))}addDay(t,i,n,s,o){let l=i;const a=new Date(+t);if(!h(this.tableBodyElement)&&!h(n)){for(;this.findNextTD(new Date(+t),l,s,o);)l+=i;const c=new Date(a.setDate(a.getDate()+l));l=+c>+s||+c<+o?l===i?i-i:i:l}t.setDate(t.getDate()+l)}findNextTD(t,i,n,s){const o=new Date(t.setDate(t.getDate()+i));let l=[],a=!1;if((!h(o)&&o.getMonth())===(!h(this.currentDate)&&this.currentDate.getMonth())){let c;c="Gregorian"===this.calendarMode?this.renderDays(o):this.islamicModule.islamicRenderDays(this.currentDate,o),l=c.filter(d=>d.classList.contains(Ao))}else l=this.tableBodyElement.querySelectorAll("td."+Ao);if(+o<=+n&&+o>=+s&&l.length)for(let c=0;c<l.length&&(a=+o==+new Date(parseInt(l[c].id,0)),!a);c++);return a}getMaxDays(t){let i;const n=new Date(this.checkValue(t));i=28;const s=n.getMonth();for(;n.getMonth()===s;)++i,n.setDate(i);return i-1}setDateDecade(t,i){t.setFullYear(i),this.setProperties({value:new Date(this.checkValue(t))},!0)}setDateYear(t,i){t.setFullYear(i.getFullYear(),i.getMonth(),t.getDate()),i.getMonth()!==t.getMonth()&&(t.setDate(0),this.currentDate=new Date(this.checkValue(i))),this.setProperties({value:new Date(this.checkValue(t))},!0)}compareMonth(t,i){let n;return n=t.getFullYear()>i.getFullYear()?1:t.getFullYear()<i.getFullYear()?-1:t.getMonth()===i.getMonth()?0:t.getMonth()>i.getMonth()?1:-1,n}checkValue(t){return t instanceof Date?t.toUTCString():""+t}checkView(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)}getDate(t,i){return i&&(t=new Date(t.toLocaleString("en-US",{timeZone:i}))),t}};return to([y(new Date(1900,0,1))],r.prototype,"min",void 0),to([y(!0)],r.prototype,"enabled",void 0),to([y(null)],r.prototype,"cssClass",void 0),to([y(new Date(2099,11,31))],r.prototype,"max",void 0),to([y(null)],r.prototype,"firstDayOfWeek",void 0),to([y("Gregorian")],r.prototype,"calendarMode",void 0),to([y("Month")],r.prototype,"start",void 0),to([y("Month")],r.prototype,"depth",void 0),to([y(!1)],r.prototype,"weekNumber",void 0),to([y("FirstDay")],r.prototype,"weekRule",void 0),to([y(!0)],r.prototype,"showTodayButton",void 0),to([y("Short")],r.prototype,"dayHeaderFormat",void 0),to([y(!1)],r.prototype,"enablePersistence",void 0),to([y(null)],r.prototype,"keyConfigs",void 0),to([y(null)],r.prototype,"serverTimezoneOffset",void 0),to([E()],r.prototype,"created",void 0),to([E()],r.prototype,"destroyed",void 0),to([E()],r.prototype,"navigated",void 0),to([E()],r.prototype,"renderDayCell",void 0),r=to([Pi],r),r})(),KDe=(()=>{let r=class extends _K{constructor(t,i){super(t,i)}render(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&Iy("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!h(this.values)&&this.values.length>0){const t=[],i=[];for(let n=0;n<this.values.length;n++)-1===t.indexOf(+this.values[n])&&(t.push(+this.values[n]),i.push(this.values[n]));this.setProperties({values:i},!0);for(let n=0;n<this.values.length;n++)if(!this.checkDateValue(this.values[n]))if("string"==typeof this.values[n]&&this.checkDateValue(new Date(this.checkValue(this.values[n])))){const s=new Date(this.checkValue(this.values[n]));this.values.splice(n,1),this.values.splice(n,0,s)}else this.values.splice(n,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),"calendar"===this.getModuleName()&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),super.render(),"calendar"===this.getModuleName()){const t=D(this.element,"form");t&&C.add(t,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()}setEnable(t){t?T([this.element],Ao):_([this.element],Ao)}setClass(t,i){h(i)||(i=i.replace(/\s+/g," ").trim()),h(t)||(t=t.replace(/\s+/g," ").trim()),!h(i)&&""!==i&&T([this.element],i.split(" ")),h(t)||_([this.element],t.split(" "))}isDayLightSaving(){const t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(i,t)}setTimeZone(t){if(!h(this.serverTimezoneOffset)&&this.value){let s=t+(new Date).getTimezoneOffset()/60;s=this.isDayLightSaving()?s--:s,this.value=new Date(this.value.getTime()+60*s*60*1e3)}}formResetHandler(){this.setProperties({value:null},!0)}validateDate(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),super.validateDate(this.value),!h(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)}minMaxUpdate(){"calendar"===this.getModuleName()&&(!h(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!h(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||h(this.value)?super.minMaxUpdate(this.value):!h(this.value)&&this.value<this.min&&this.min<=this.max?super.minMaxUpdate(this.min):!h(this.value)&&this.value>this.max&&this.min<=this.max&&super.minMaxUpdate(this.max)}generateTodayVal(t){let i=new Date;return h(this.timezone)||(i=super.getDate(i,this.timezone)),t&&h(this.timezone)?(i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds()),i.setMilliseconds(t.getMilliseconds())):i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),i}todayButtonClick(t){if(this.showTodayButton){const i=this.generateTodayVal(this.value);if(this.setProperties({value:i},!0),this.isTodayClicked=!0,this.todayButtonEvent=t,this.isMultiSelection){const n=this.copyValues(this.values);super.checkPresentDate(i,this.values)||(n.push(i),this.setProperties({values:n}))}super.todayButtonClick(t,new Date(+this.value))}}keyActionHandle(t){super.keyActionHandle(t,this.value,this.isMultiSelection)}preRender(){this.changeHandler=t=>{this.triggerChange(t)},this.checkView(),super.preRender(this.value)}createContent(){this.previousDate=this.value,this.previousDateTime=this.value,super.createContent()}minMaxDate(t){return super.minMaxDate(t)}renderMonths(t,i,n){super.renderMonths(t,this.value,n)}renderDays(t,i,n,s,o){const l=super.renderDays(t,this.value,this.isMultiSelection,this.values,o);return this.isMultiSelection&&super.validateValues(this.isMultiSelection,this.values),l}renderYears(t){"Gregorian"===this.calendarMode?super.renderYears(t,this.value):this.islamicModule.islamicRenderYears(t,this.value)}renderDecades(t){"Gregorian"===this.calendarMode?super.renderDecades(t,this.value):this.islamicModule.islamicRenderDecade(t,this.value)}renderTemplate(t,i,n,s){"Gregorian"===this.calendarMode?super.renderTemplate(t,i,n,s,this.value):this.islamicModule.islamicRenderTemplate(t,i,n,s,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}clickHandler(t){const i=t.currentTarget;if(this.isPopupClicked=!0,i.classList.contains(Iu))if(this.isMultiSelection){const s=this.copyValues(this.values);s.push(this.getIdValue(t,null)),this.setProperties({values:s},!0),this.setProperties({value:this.values[this.values.length-1]},!0)}else this.setProperties({value:this.getIdValue(t,null)},!0);const n=this.currentView();super.clickHandler(t,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!h(this.tableBodyElement.querySelectorAll("."+Ba)[0])&&"Year"===n&&this.tableBodyElement.querySelectorAll("."+Ba)[0].classList.remove(Ba)}switchView(t,i,n,s){super.switchView(t,i,this.isMultiSelection,s)}getModuleName(){return super.getModuleName(),"calendar"}getPersistData(){return super.getPersistData(),this.addOnPersist(["value","values"])}onPropertyChanged(t,i){this.effect="",this.rangeValidation(this.min,this.max);for(const n of Object.keys(t))switch(n){case"value":this.isDateSelected&&("string"==typeof t.value?this.setProperties({value:new Date(this.checkValue(t.value))},!0):t.value=new Date(this.checkValue(t.value)),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof t.values||"number"==typeof t.values)this.setProperties({values:null},!0);else{const s=this.copyValues(this.values);for(let o=0;o<s.length;o++){const l=s[o];this.checkDateValue(l)&&!super.checkPresentDate(l,s)&&s.push(l)}this.setProperties({values:s},!0),this.values.length>0&&this.setProperties({value:t.values[t.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:t.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":"calendar"===this.getModuleName()&&this.setClass(t.cssClass,i.cssClass);break;default:super.onPropertyChanged(t,i,this.isMultiSelection,this.values)}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange}destroy(){if(super.destroy(),"calendar"===this.getModuleName()){const t=D(this.element,"form");t&&C.remove(t,"reset",this.formResetHandler.bind(this))}}navigateTo(t,i,n){this.minMaxUpdate(),super.navigateTo(t,i,n)}currentView(){return super.currentView()}addDate(t){if("string"!=typeof t&&"number"!=typeof t){let i=this.copyValues(this.values);if("object"==typeof t&&t.length>0){const n=t;for(let s=0;s<n.length;s++)this.checkDateValue(n[s])&&!super.checkPresentDate(n[s],i)&&(!h(i)&&i.length>0?i.push(n[s]):i=[new Date(+n[s])])}else this.checkDateValue(t)&&!super.checkPresentDate(t,i)&&(!h(i)&&i.length>0?i.push(t):i=[new Date(+t)]);this.setProperties({values:i},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,i),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}removeDate(t){if("string"!=typeof t&&"number"!=typeof t&&!h(this.values)&&this.values.length>0){const i=this.copyValues(this.values);if("object"==typeof t&&t.length>0){const n=t;for(let s=0;s<n.length;s++)for(let o=0;o<i.length;o++)+i[o]==+n[s]&&i.splice(o,1)}else for(let n=0;n<i.length;n++)+i[n]==+t&&i.splice(n,1);this.setProperties({values:i},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}setTodayDate(t){const i=new Date(+t);this.setProperties({value:i},!0),super.todayButtonClick(null,i,!0)}update(){this.validateDate(),this.minMaxUpdate(),super.setValueUpdate()}selectDate(t,i,n){super.selectDate(t,i,n,this.isMultiSelection,this.values),this.isMultiSelection&&!h(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(t)}changeEvent(t){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))}triggerChange(t){!h(this.todayButtonEvent)&&this.isTodayClicked&&(t=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=t||null,this.changedArgs.isInteracted=!h(t),h(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate&&(null!=this.previousDate||isNaN(+this.value))?!h(this.values)&&this.previousValues!==this.values.length&&(this.changeEvent(t),this.previousValues=this.values.length):this.changeEvent(t)}};return to([y(null)],r.prototype,"value",void 0),to([y(null)],r.prototype,"values",void 0),to([y(!1)],r.prototype,"isMultiSelection",void 0),to([E()],r.prototype,"change",void 0),r=to([Pi],r),r})();var rr=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const J2="e-datepicker",TK="e-popup-wrapper",EO="e-input-focus",RK="e-error",Z2="e-active",kK="e-date-overflow",eE="e-selected",TO="e-non-edit",AK=["title","class","style"];let rs=class extends KDe{constructor(e,t){super(e,t),this.previousElementValue="",this.isDateIconClicked=!1,this.isAltKeyPressed=!1,this.isInteracted=!0,this.invalidValueString=null,this.checkPreviousValue=null,this.maskedDateValue="",this.isAngular=!1,this.preventChange=!1,this.isIconClicked=!1,this.isDynamicValueChanged=!1,this.moduleName=this.getModuleName(),this.isFocused=!1,this.datepickerOptions=e}render(){this.initialize(),this.bindEvents(),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)}setTimeZone(e){if(!h(this.serverTimezoneOffset)&&this.value){let n=e+(new Date).getTimezoneOffset()/60;n=this.isDayLightSaving()?n--:n,this.value=new Date(this.value.getTime()+60*n*60*1e3),this.updateInput()}}isDayLightSaving(){const e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)}setAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Le(this.inputElement,{readonly:""}),this.updateIconState()}updateIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&T([this.inputWrapper.container],[TO]):""===this.inputElement.value?T([this.inputWrapper.container],[TO]):_([this.inputWrapper.container],[TO])}initialize(){this.checkInvalidValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),this.updateInput(),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&this.updateInputValue(this.maskedDateValue),this.previousElementValue=this.inputElement.value,this.previousDate=h(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value}createInput(){const e={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};if("datepicker"===this.getModuleName()){const n={placeholder:this.placeholder};this.globalize=new Nn(this.locale),this.l10n=new is("datepicker",n,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}let t=this.cssClass;!h(this.cssClass)&&""!==this.cssClass&&(t=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=ke.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:!this.enableMask,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),this.inputElement.setAttribute("name",""!==this.inputElement.name?""+this.inputElement.getAttribute("name"):""+this.element.id),Le(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),ke.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),_([this.inputWrapper.container],"e-date-wrapper")}updateInput(e=!1){let t;if(this.value&&!this.isCalendar()&&!e&&this.disabledDates(),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(super.validateDate(),this.minMaxUpdates(),super.minMaxUpdate()),!h(this.value)){const i=this.value;let n;const s=h(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?n=this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:s,type:"dateTime",skeleton:"yMd"}:{format:s,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(t="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n=this.globalize.formatDate(this.value,t)),+i<=+this.max&&+i>=+this.min)this.updateInputValue(n);else{const o=+i>=+this.max||!+this.value||!+this.value||+i<=+this.min;!this.strictMode&&o&&this.updateInputValue(n)}}h(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&h(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()}minMaxUpdates(){!h(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!h(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})}checkStringValue(e){let t=null,i=null,n=null;if("datetimepicker"===this.getModuleName()){const s=new Nn(this.locale);"Gregorian"===this.calendarMode?(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},n={format:s.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n={format:s.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return t=this.checkDateValue(this.globalize.parseDate(e,i)),h(t)&&"datetimepicker"===this.getModuleName()&&(t=this.checkDateValue(this.globalize.parseDate(e,n))),t}checkInvalidValue(e){if(!(e instanceof Date||h(e))){let t=null,i=e;"number"==typeof e&&(i=e.toString());let n=null,s=null;if("datetimepicker"===this.getModuleName()){const l=new Nn(this.locale);"Gregorian"===this.calendarMode?(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},s={format:l.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s={format:l.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};let o=!1;if("string"!=typeof i)i=null,o=!0;else if("string"==typeof i&&(i=i.trim()),t=this.checkStringValue(i),!t){let l=null,a=null;l=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,a=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!l.test(i)&&!a.test(i)||/^[a-zA-Z0-9- ]*$/.test(i)||isNaN(+new Date(this.checkValue(i)))?o=!0:t=new Date(i)}o?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0)):this.setProperties({value:t},!0)}}bindInputEvent(){(!h(this.formatString)||this.enableMask)&&(this.enableMask||-1===this.formatString.indexOf("y")?C.add(this.inputElement,"input",this.inputHandler,this):C.remove(this.inputElement,"input",this.inputHandler))}bindEvents(){C.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),C.add(this.inputElement,"mouseup",this.mouseUpHandler,this),C.add(this.inputElement,"focus",this.inputFocusHandler,this),C.add(this.inputElement,"blur",this.inputBlurHandler,this),this.enableMask&&C.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),C.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&C.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&C.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=O(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new tn(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}keydownHandler(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&("Delete"!==e.code&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}))}}unBindEvents(){C.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),C.remove(this.inputElement,"mouseup",this.mouseUpHandler),C.remove(this.inputElement,"focus",this.inputFocusHandler),C.remove(this.inputElement,"blur",this.inputBlurHandler),C.remove(this.inputElement,"change",this.inputChangeHandler),this.enableMask&&C.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&C.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&C.remove(this.formElement,"reset",this.resetFormHandler)}resetFormHandler(){if(this.enabled&&!this.inputElement.disabled){let e=this.inputElement.getAttribute("value");("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass())}}restoreValue(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=h(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})}inputChangeHandler(e){!this.enabled||e.stopPropagation()}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&C.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}resetHandler(e){!this.enabled||(e.preventDefault(),this.clear(e))}mouseUpHandler(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))}clear(e){this.setProperties({value:null},!0),this.enableMask||this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"})}preventEventBubbling(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")}updateInputValue(e){ke.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}dateIconHandler(e){!this.enabled||(this.isIconClicked=!0,A.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),_([this.inputWrapper.container],[EO]),_(this.inputWrapper.buttons,Z2))),this.isIconClicked=!1)}updateHtmlAttributeToWrapper(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(!h(this.htmlAttributes[e])&&AK.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&_([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);h(t)?t=this.htmlAttributes[e]:";"===t.charAt(t.length-1)?t+=this.htmlAttributes[e]:t=t+";"+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))AK.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){h(t)||(t=t.replace(/\s+/g," ").trim()),h(e)||(e=e.replace(/\s+/g," ").trim()),ke.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&ke.setCssClass(e,[this.popupWrapper],t)}calendarKeyActionHandle(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value!=+this.currentDate&&!this.isCalendar()&&this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}}inputFocusHandler(){if(this.isFocused=!0,!this.enabled)return;this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length);const e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState(),this.openOnFocus&&!this.isIconClicked&&this.show()}inputHandler(){this.isPopupClicked=!1,this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})}inputBlurHandler(e){this.enabled&&(this.strictModeUpdate(),""===this.inputElement.value&&h(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value==this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&this.updateInputValue(""),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=O(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new tn(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1)}documentHandler(e){!h(this.popupObj)&&(this.inputWrapper.container.contains(e.target)||this.popupObj.element&&this.popupObj.element.contains(e.target))&&"touchstart"!==e.type&&e.preventDefault();const t=e.target;D(t,".e-datepicker.e-popup-wrapper")||D(t,".e-input-group")===this.inputWrapper.container||t.classList.contains("e-day")?D(t,".e-datepicker.e-popup-wrapper")&&(t.classList.contains("e-day")&&!h(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&D(t,".e-content")&&D(t,".e-content").classList.contains("e-"+this.depth.toLowerCase())||D(t,".e-footer-container")&&t.classList.contains("e-today")&&t.classList.contains("e-btn")&&+new Date(+this.value)==+super.generateTodayVal(this.value))&&this.hide(e):(this.hide(e),this.focusOut())}inputKeyActionHandle(e){const t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),"datepicker"===this.getModuleName()&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),!this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":let i=this.inputElement.selectionStart,n=this.inputElement.selectionEnd;if(this.enableMask&&!this.popupObj&&!this.readonly){let s=this.inputElement.value.length;(0==i&&n==s||n!==s&&"tab"==e.action||0!==i&&"shiftTab"==e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}),i=this.inputElement.selectionStart,n=this.inputElement.selectionEnd}this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=i,this.inputElement.selectionEnd=n),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}}defaultAction(e){this.previousDate=!h(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(super.keyActionHandle(e),this.isCalendar()&&Le(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))}popupUpdate(){if((h(this.value)&&!h(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll("."+eE).length>0&&T(this.popupObj.element.querySelectorAll("."+eE),[eE]),!h(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){const e=new Date(this.checkValue(this.value));super.navigateTo("Month",e)}}strictModeUpdate(){let e,t,i,n;e="datetimepicker"===this.getModuleName()?h(this.formatString)?this.dateTimeFormat:this.formatString:h(this.formatString)?this.formatString:this.formatString.replace("dd","d"),h(e)||e.split("M").length-1<3&&(e=e.replace("MM","M")),"datetimepicker"===this.getModuleName()?i="Gregorian"===this.calendarMode?{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:(t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=t),"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,i))?n=this.globalize.parseDate(this.inputElement.value,i):(t="Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"},n=this.globalize.parseDate(this.inputElement.value,t)):(n=this.globalize.parseDate(this.inputElement.value,i),n=!h(n)&&isNaN(+n)?null:n,!h(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&n.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&n&&n.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&n?(this.updateInputValue(this.globalize.formatDate(n,i)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:n},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:n},!0),this.strictMode&&!n&&this.inputElement.value===(this.enableMask?this.maskedDateValue:"")&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),h(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))}createCalendar(){this.popupWrapper=this.createElement("div",{className:J2+" "+TK}),h(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),A.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=J2+" e-date-modal",document.body.className+=" "+kK,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new wc(this.popupWrapper,{content:this.calendarElement,relateTo:A.isDevice?document.body:this.inputWrapper.container,position:A.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:A.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:()=>{"datetimepicker"!==this.getModuleName()&&document.activeElement!==this.inputElement&&(this.defaultKeyConfigs=O(this.defaultKeyConfigs,this.keyConfigs),this.calendarElement.children[1].firstElementChild.focus(),this.calendarKeyboardModules=new tn(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}),this.calendarKeyboardModules=new tn(this.inputWrapper.container.children[this.index],{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}))},close:()=>{this.isDateIconClicked&&this.inputWrapper.container.children[this.index].focus(),this.value&&this.disabledDates(),this.popupObj&&this.popupObj.destroy(),this.resetCalendar(),de(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.preventArgs=null,this.calendarKeyboardModules=null,this.setAriaAttributes()},targetExitViewport:()=>{A.isDevice||this.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()}setAriaDisabled(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)}modelHeader(){let e;const t=this.createElement("div",{className:"e-model-header"}),i=this.createElement("h1",{className:"e-model-year"}),n=this.createElement("div"),s=this.createElement("span",{className:"e-model-day"}),o=this.createElement("span",{className:"e-model-month"});e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},i.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},s.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},o.textContent=""+this.globalize.formatDate(this.value||new Date,e),t.appendChild(i),n.appendChild(s),n.appendChild(o),t.appendChild(n),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)}changeTrigger(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!h(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0)}navigatedEvent(){this.trigger("navigated",this.navigatedArgs)}changeEvent(e){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(e),this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass())}requiredModules(){const e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e}selectCalendar(e){let t,i,n;i="datetimepicker"===this.getModuleName()&&h(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&("datetimepicker"===this.getModuleName()?(n="Gregorian"===this.calendarMode?{format:i,type:"dateTime",skeleton:"yMd"}:{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,n)):(n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,n)),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})),h(t)||(this.updateInputValue(t),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))}isCalendar(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+TK))}setWidth(e){this.inputWrapper.container.style.width="number"==typeof e?$e(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:$e(this.width):"100%"}show(e,t){if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){let n,i=!0;h(this.value)||+this.value>=+this.min&&+this.value<=+this.max?n=this.value||null:(n=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(super.render(),this.setProperties({value:n||null},!0),this.previousDate=n,this.createCalendar()),A.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:()=>{i=!1},popup:this.popupObj,event:t||null,cancel:!1,appendTo:A.isDevice?this.mobilePopupWrapper:document.body},this.trigger("open",this.preventArgs,o=>{if(this.preventArgs=o,i&&!this.preventArgs.cancel){_(this.inputWrapper.buttons,Z2),this.preventArgs.appendTo.appendChild(this.popupWrapper),this.popupObj.refreshPosition(this.inputElement);this.popupObj.show(new _s({name:"FadeIn",duration:A.isDevice?0:300}),1e3===this.zIndex?this.element:null),super.setOverlayIndex(this.mobilePopupWrapper,this.popupObj.element,this.modal,A.isDevice),this.setAriaAttributes()}else this.popupObj.destroy(),this.popupWrapper=this.popupObj=null;!h(this.inputElement)&&""===this.inputElement.value&&!h(this.tableBodyElement)&&this.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(_([this.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),T(this.tableBodyElement.querySelectorAll("td.e-selected"),eE)),C.add(document,"mousedown touchstart",this.documentHandler,this)})}}hide(e){if(h(this.popupWrapper))A.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{let t=!0;this.preventArgs={preventDefault:()=>{t=!1},popup:this.popupObj,event:e||null,cancel:!1},T(this.inputWrapper.buttons,Z2),T([document.body],kK);const i=this.preventArgs;this.isCalendar()?this.trigger("close",i,n=>{this.closeEventCallback(t,n)}):this.closeEventCallback(t,i)}}closeEventCallback(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),T(this.inputWrapper.buttons,Z2)),this.setAriaAttributes(),A.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),A.isDevice&&(h(this.mobilePopupWrapper)||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),C.remove(document,"mousedown touchstart",this.documentHandler),A.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}focusIn(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),_([this.inputWrapper.container],[EO]))}focusOut(){document.activeElement===this.inputElement&&(T([this.inputWrapper.container],[EO]),this.inputElement.blur())}currentView(){let e;return this.calendarElement&&(e=super.currentView()),e}navigateTo(e,t){this.calendarElement&&super.navigateTo(e,t)}destroy(){this.unBindEvents(),super.destroy(),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&super.destroy(),this.inputElement&&(ke.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},this.inputElement),h(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),C.remove(this.inputElement,"blur",this.inputBlurHandler),C.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&de(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),T([this.inputElement],["e-input"])),T([this.element],[J2]),de(this.inputWrapper.container)),this.formElement&&C.remove(this.formElement,"reset",this.resetFormHandler)}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)h(this.inputElementCopy.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.inputElementCopy.getAttribute(e[t])))}preRender(){this.inputElementCopy=this.element.cloneNode(!0),T([this.inputElementCopy],[J2,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=D(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=Gn("ej2-datetimepicker"),null!==this.ngTag&&Le(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=Gn("ej2-datepicker"),null!==this.ngTag&&Le(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),super.preRender()}getDefaultKeyConfig(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const n=["required","aria-required","form"];for(let s=0;s<n.length;s++){if(h(e.getAttribute(n[s])))continue;const o=e.getAttribute(n[s]);t.setAttribute(n[s],o),e.removeAttribute(n[s])}}checkFormat(){const e=new Nn(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||h(this.format.skeleton))this.formatString="datetimepicker"===this.getModuleName()?this.dateTimeFormat:null;else{const t=this.format.skeleton;this.formatString="datetimepicker"===this.getModuleName()?e.getDatePattern({skeleton:t,type:"dateTime"}):e.getDatePattern({skeleton:t,type:"date"})}else this.formatString=null}checkHtmlAttributes(e){this.globalize=new Nn(this.locale),this.checkFormat(),this.checkView();const t=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];let i;i="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(const n of t)if(!h(this.inputElement.getAttribute(n)))switch(n){case"disabled":if(h(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e){const s=!("disabled"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n));this.setProperties({enabled:s},!e)}break;case"readonly":if(h(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e){const s="readonly"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n);this.setProperties({readonly:s},!e)}break;case"placeholder":(h(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(n));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(n));break;case"value":if(h(this.datepickerOptions)||void 0===this.datepickerOptions.value||e){const s=this.inputElement.getAttribute(n);this.setProperties(Ne(n,this.globalize.parseDate(s,i),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){const s=this.inputElement.getAttribute(n);this.setProperties(Ne(n,this.globalize.parseDate(s),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){const s=this.inputElement.getAttribute(n);this.setProperties(Ne(n,this.globalize.parseDate(s),{}),!e)}break;case"type":"text"!==this.inputElement.getAttribute(n)&&this.inputElement.setAttribute("type","text")}}getModuleName(){return"datepicker"}disabledDates(){let e,t;const i=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value)),n=this.previousDate;this.minMaxUpdates(),super.render(),this.previousDate=n;const o='*[id^="/id"]'.replace("/id",""+(i&&+i));let l;this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+i)&&this.setProperties({value:i},!0),h(this.calendarElement.querySelectorAll(o)[0])||this.calendarElement.querySelectorAll(o)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),"datetimepicker"===this.getModuleName()?(t=this.globalize.formatDate(i,"Gregorian"===this.calendarMode?{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:h(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),l=t):(e="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},l=this.globalize.formatDate(i,e)),this.popupObj||(this.updateInputValue(l),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})))}setAriaAttributes(){this.isCalendar()?(ke.addAttributes({"aria-expanded":"true"},this.inputElement),Le(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(ke.addAttributes({"aria-expanded":"false"},this.inputElement),Le(this.inputElement,{"aria-activedescendant":"null"}))}errorClass(){const e='*[id^="/id"]'.replace("/id",""+ +this.value),t=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!h(this.value)&&!(+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&this.inputElement.value!==this.maskedDateValue&&h(this.value)||t?(_([this.inputWrapper.container],RK),Le(this.inputElement,{"aria-invalid":"true"})):(T([this.inputWrapper.container],RK),Le(this.inputElement,{"aria-invalid":"false"}))}onPropertyChanged(e,t){for(const i of Object.keys(e)){switch(i){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,h(this.value)&&(this.updateInputValue(""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!=+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"allowEdit":this.setAllowEdit();break;case"placeholder":ke.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":ke.setReadonly(this.readonly,this.inputElement);break;case"enabled":ke.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new Nn(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),ke.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":ke.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&super.onPropertyChanged(e,t);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"showClearButton":ke.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,ke.removeFloating(this.inputWrapper),ke.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&super.onPropertyChanged(e,t)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}}};rr([y(null)],rs.prototype,"width",void 0),rr([y(null)],rs.prototype,"value",void 0),rr([y(null)],rs.prototype,"cssClass",void 0),rr([y(!1)],rs.prototype,"strictMode",void 0),rr([y(null)],rs.prototype,"format",void 0),rr([y(!0)],rs.prototype,"enabled",void 0),rr([y({})],rs.prototype,"htmlAttributes",void 0),rr([y(null)],rs.prototype,"values",void 0),rr([y(!1)],rs.prototype,"isMultiSelection",void 0),rr([y(!0)],rs.prototype,"showClearButton",void 0),rr([y(!0)],rs.prototype,"allowEdit",void 0),rr([y(null)],rs.prototype,"keyConfigs",void 0),rr([y(!1)],rs.prototype,"enablePersistence",void 0),rr([y(1e3)],rs.prototype,"zIndex",void 0),rr([y(!1)],rs.prototype,"readonly",void 0),rr([y(null)],rs.prototype,"placeholder",void 0),rr([y("Never")],rs.prototype,"floatLabelType",void 0),rr([y(null)],rs.prototype,"serverTimezoneOffset",void 0),rr([y(!1)],rs.prototype,"openOnFocus",void 0),rr([y(!1)],rs.prototype,"enableMask",void 0),rr([y({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],rs.prototype,"maskPlaceholder",void 0),rr([E()],rs.prototype,"open",void 0),rr([E()],rs.prototype,"cleared",void 0),rr([E()],rs.prototype,"close",void 0),rr([E()],rs.prototype,"blur",void 0),rr([E()],rs.prototype,"focus",void 0),rr([E()],rs.prototype,"created",void 0),rr([E()],rs.prototype,"destroyed",void 0),rs=rr([Pi],rs);var sn=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const MK="e-input-group",RO="e-popup",Mo="e-left-calendar",Dl="e-right-calendar",o1="e-daterangepicker",FK="e-error",Ws="e-active",Na="e-start-date",cd="e-end-date",PK="e-start-btn",y0="e-input-focus",xp="e-range-hover",ux="e-other-month",tE="e-start-label",iE="e-end-label",os="e-disabled",kh="e-selected",uo="e-calendar",nE="e-next",sE="e-prev",ec="e-header",x0="e-title",kO="e-icon-container",AO="e-date-range-container",l1="e-presets",LK="e-today",C0="e-focused-date",px="e-content",a1="e-day-span",c1="e-week-number",Ef="e-date-disabled",tc="e-icon-disabled",OK="e-device",Dc="e-overlay",Cp="e-list-item",Ec="e-hover",BK="e-range-overflow",MO="e-non-edit",HK="e-daterange-hidden",zK=["title","class","style"];class rE extends Nt{}sn([y()],rE.prototype,"label",void 0),sn([y()],rE.prototype,"start",void 0),sn([y()],rE.prototype,"end",void 0);let dn=class extends _K{constructor(e,t){super(e,t),this.isCustomRange=!1,this.isCustomWindow=!1,this.presetsItem=[],this.liCollections=[],this.previousEleValue="",this.isKeyPopup=!1,this.dateDisabled=!1,this.isRangeIconClicked=!1,this.isMaxDaysClicked=!1,this.disabledDays=[],this.preventBlur=!1,this.preventFocus=!1,this.invalidValueString=null,this.isAngular=!1,this.preventChange=!1,this.dateRangeOptions=e}render(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue(),this.setDataAttribute(!1),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()}preRender(){if(this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow",moveUp:"uparrow",moveDown:"downarrow",spacebar:"space"},this.defaultConstant={placeholder:this.placeholder,startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),T([this.cloneElement],[o1,"e-control","e-lib"]),this.updateHtmlAttributeToElement(),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=Gn("ej2-datetimepicker"),null!==this.angularTag&&Le(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),!this.invalidValueString&&"string"==typeof this.value){const e=this.value.split(" "+this.separator+" ");this.value=[new Date(e[0]),new Date(e[1])]}this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),super.preRender(),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=D(this.element,"form")}updateValue(){this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"==typeof this.value[0]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):"string"==typeof this.value[1]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue()):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1])),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):"string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end)),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):h(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())}initProperty(){this.globalize=new Nn(this.locale),this.checkFormat(),this.checkView(),(h(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()}checkFormat(){this.formatString=this.format?"string"==typeof this.format?this.format:""===this.format.skeleton||h(this.format.skeleton)?null:this.globalize.getDatePattern({skeleton:this.format.skeleton,type:"date"}):null}initialize(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(!1),Nr(this.defaultKeyConfigs,{shiftTab:"shift+tab",tab:"tab"});const e=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:e},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new is("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setRangeAllowEdit(),this.bindEvents()}setDataAttribute(e){let t={};if(e)t=this.htmlAttributes;else for(let i=0;i<this.element.attributes.length;i++)t[this.element.attributes[i].name]=this.element.getAttribute(this.element.attributes[i].name);for(const i of Object.keys(t))0===i.indexOf("data")&&(this.firstHiddenChild.setAttribute(i,t[i]),this.secondHiddenChild.setAttribute(i,t[i]))}setRangeAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Le(this.inputElement,{readonly:""}),this.updateClearIconState()}updateClearIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&T([this.inputWrapper.container],[MO]):""===this.inputElement.value?T([this.inputWrapper.container],[MO]):_([this.inputWrapper.container],[MO])}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const n=["required","aria-required","form"];for(let s=0;s<n.length;s++){if(h(e.getAttribute(n[s])))continue;const o=e.getAttribute(n[s]);t.setAttribute(n[s],o),e.removeAttribute(n[s])}}updateHtmlAttributeToWrapper(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(zK.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&_([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);t=h(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))zK.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){h(t)||(t=t.replace(/\s+/g," ").trim()),h(e)||(e=e.replace(/\s+/g," ").trim()),ke.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&ke.setCssClass(e,[this.popupWrapper],t)}processPresets(){this.presetsItem=[];let e=0;if(!Et(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(const n of this.presets){const s=n.label.replace(/\s+/g,"")+"_"+ ++e;this.presetsItem.push("string"==typeof n.end?{id:s,text:n.label,end:new Date(this.checkValue(n.end)),start:new Date(this.checkValue(n.start))}:{id:s,text:n.label,start:n.start,end:n.end})}const t=h(this.startValue)?null:new Date(+this.startValue),i=h(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:t,end:i}),!h(this.startValue)&&!h(this.endValue)&&(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}}bindEvents(){C.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),C.add(this.inputElement,"focus",this.inputFocusHandler,this),C.add(this.inputElement,"blur",this.inputBlurHandler,this),C.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&C.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.keyInputConfigs=O(this.keyInputConfigs,this.keyConfigs),this.inputKeyboardModule=new tn(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&C.add(this.formElement,"reset",this.formResetHandler,this),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1}unBindEvents(){C.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),C.remove(this.inputElement,"blur",this.inputBlurHandler),C.remove(this.inputElement,"focus",this.inputFocusHandler),C.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&C.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||h(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&C.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1}updateHiddenInput(){if(this.firstHiddenChild&&this.secondHiddenChild){const e={type:"datetime",skeleton:"yMd"};"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,e)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,e)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change")}}inputChangeHandler(e){!this.enabled||(e.stopPropagation(),this.updateHiddenInput())}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&C.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)}resetHandler(e){if(!this.enabled)return;this.valueType=this.value,e.preventDefault(),this.clear();const t={event:e};this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.trigger("cleared",t),this.changeTrigger(e),this.clearRange(),this.hide(e)}restoreValue(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()}formResetHandler(e){if(this.enabled&&this.formElement&&e.target===this.formElement&&!this.inputElement.disabled){let t=this.inputElement.getAttribute("value");h(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(h(this.value)||h(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),t="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement&&(ke.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}}clear(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&this.value.length>0&&this.setProperties({value:null},!0),ke.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),h(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()}rangeIconHandler(e){!this.enabled||(this.isMobile&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.targetElement=null,this.isPopupOpen()&&document.body.contains(this.popupObj.element)?this.applyFunction(e):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,e),this.isMobile||h(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),_([this.inputWrapper.container],[y0])))}checkHtmlAttributes(e){this.globalize=new Nn(this.locale);const t=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type","value"],i={format:this.formatString,type:"date",skeleton:"yMd"};for(const n of t)if(!h(this.inputElement.getAttribute(n)))switch(n){case"disabled":if(h(this.dateRangeOptions)||void 0===this.dateRangeOptions.enabled||e){const s="disabled"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n);this.setProperties({enabled:!s},!e)}break;case"readonly":if(h(this.dateRangeOptions)||void 0===this.dateRangeOptions.readonly||e){const s="readonly"===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n);this.setProperties({readonly:s},!e)}break;case"placeholder":(h(this.dateRangeOptions)||void 0===this.dateRangeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!e);break;case"value":if(h(this.dateRangeOptions)||void 0===this.dateRangeOptions.value||e){const s=this.inputElement.getAttribute(n);this.setProperties(Ne(n,s,{}),!e)}break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(n));break;case"min":if(h(this.min)||+this.min==+new Date(1900,0,1)||e){const s=this.globalize.parseDate(this.inputElement.getAttribute(n),i);this.setProperties(Ne(n,s,{}),!e)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(n));break;case"max":if(h(this.max)||+this.max==+new Date(2099,11,31)||e){const s=this.globalize.parseDate(this.inputElement.getAttribute(n),i);this.setProperties(Ne(n,s,{}),!e)}break;case"startDate":if(h(this.startDate)){const s=this.globalize.parseDate(this.inputElement.getAttribute(n),i);this.startValue=s,this.setValue()}break;case"endDate":if(h(this.endDate)){const s=this.globalize.parseDate(this.inputElement.getAttribute(n),i);this.endValue=s,this.setValue()}break;case"minDays":h(this.minDays)&&this.setProperties(Ne(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"maxDays":h(this.maxDays)&&this.setProperties(Ne(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(n)&&this.inputElement.setAttribute("type","text")}}createPopup(){for(let t=0;t<this.presetsItem.length;t++)t!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[t].id&&this.presetsItem.splice(t,1);this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0;for(let t=0;t<=this.presetsItem.length-2;t++){const i=this.presetsItem[t].start,n=this.presetsItem[t].end;this.startValue&&this.endValue&&+new Date(i.setHours(0,0,0,0))==+new Date(this.startValue.setHours(0,0,0,0))&&+new Date(n.setHours(0,0,0,0))==+new Date(this.endValue.setHours(0,0,0,0))&&(this.activeIndex=t,this.isCustomRange=!1)}this.popupWrapper=Xe("div",{id:this.element.id+"_popup",className:o1+" "+RO}),this.adjustLongHeaderWidth();const e=!this.isCustomRange||this.isMobile;!Et(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&e?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())}renderControl(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),!h(this.endValue)&&!h(this.startValue)&&this.disabledDateRender(),this.updateHeader()}clearCalendarEvents(){C.clearEvents(this.leftCalPrevIcon),C.clearEvents(this.leftCalNextIcon),C.clearEvents(this.rightCalPrevIcon),C.clearEvents(this.rightCalNextIcon)}updateNavIcons(){super.iconHandler()}calendarIconEvent(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(os)&&C.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(os)&&C.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(os)&&C.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(os)&&C.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)}bindCalendarEvents(){this.isMobile?(this.deviceCalendarEvent(),C.add(this.startButton.element,"click",this.deviceHeaderClick,this),C.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector("."+Dl+" ."+ec+" ."+x0),this.headerTitleElement=this.popupObj.element.querySelector("."+Mo+" ."+ec+" ."+x0),this.defaultKeyConfigs=O(this.defaultKeyConfigs,this.keyConfigs),this.leftKeyboardModule=new tn(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs}),this.rightKeyboardModule=new tn(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()}calendarIconRipple(){Ys(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ys(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),Ys(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ys(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})}deviceCalendarEvent(){C.clearEvents(this.nextIcon),C.clearEvents(this.previousIcon),Ys(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ys(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(os)&&C.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(os)&&C.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)}deviceNavNext(e){const t=D(e.target,"."+uo);this.updateDeviceCalendar(t),this.navigateNext(e),this.deviceNavigation()}deviceNavPrevious(e){const t=D(e.target,"."+uo);this.updateDeviceCalendar(t),this.navigatePrevious(e),this.deviceNavigation()}updateDeviceCalendar(e){e&&(this.previousIcon=e.querySelector("."+sE),this.nextIcon=e.querySelector("."+nE),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector("."+px),this.tableBodyElement=G("."+px+" tbody",e),this.table=e.querySelector("."+px).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+ec+" ."+x0),this.headerElement=e.querySelector("."+ec))}deviceHeaderClick(e){if(e.currentTarget.classList.contains(PK)&&!h(this.startValue)){this.endButton.element.classList.remove(Ws),this.startButton.element.classList.add(Ws);const i=this.popupObj.element.querySelector("."+uo);this.updateDeviceCalendar(i),h(this.calendarElement.querySelector("."+Na+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),X(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()}else if(!h(this.startValue)&&!h(this.endValue)){this.startButton.element.classList.remove(Ws),this.endButton.element.classList.add(Ws);const i=this.popupObj.element.querySelector("."+uo);this.updateDeviceCalendar(i),h(this.calendarElement.querySelector("."+cd+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),X(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+uo)),this.selectableDates()}}inputFocusHandler(){this.enabled&&(this.preventBlur=!1,this.preventFocus||this.trigger("focus",{model:this}),this.updateClearIconState(),this.updateHiddenInput(),this.openOnFocus&&!this.preventFocus?(this.preventFocus=!0,this.show()):this.preventFocus=!0)}inputBlurHandler(e){if(this.enabled){if(!this.preventBlur){const t=this.inputElement.value;if(h(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!h(t)&&""!==t.trim()){const i=t.split(" "+this.separator+" ");if(i.length>1){this.invalidValueString=null;const n={format:this.formatString,type:"date",skeleton:"yMd"},s=this.globalize.parseDate(i[0].trim(),n),o=this.globalize.parseDate(i[1].trim(),n);if(!(h(s)||isNaN(+s)||h(o)||isNaN(+o))){const l=this.startValue;this.startValue=s;const a=this.endValue;return this.endValue=o,this.setValue(),this.refreshControl(),t!==this.previousEleValue&&this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this})),this.updateHiddenInput(),void(this.isMobile&&this.isPopupOpen()&&(this.startValue=l,this.endValue=a))}this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}this.strictMode?(!h(t)&&""===t.trim()&&(this.startValue=null,this.endValue=null),ke.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(h(this.popupObj)&&(this.currentDate=null),this.previousStartValue=this.previousEndValue=null,this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this}))}this.updateHiddenInput()}}clearRange(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null}errorClass(){const e=this.inputElement.value.trim();(h(this.endValue)&&h(this.startValue)&&""!==e||!h(this.startValue)&&+this.startValue<+this.min||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue||!h(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==e?(_([this.inputWrapper.container],FK),Le(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(T([this.inputWrapper.container],FK),Le(this.inputElement,{"aria-invalid":"false"}))}keyCalendarUpdate(e,t,i=!0){return i&&this.removeFocusedDate(),e?(this.leftCalCurrentDate=new Date(+this.currentDate),t=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),t=this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t}navInCalendar(e,t,i,n,s){const o=this.getViewNumber(this.currentView());let l;const a=this.min;let c;switch(c=h(this.maxDays)||!this.isMaxDaysClicked||h(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),e.action){case"moveRight":l=new Date(+this.currentDate),this.addDay(l,1,e,c,a),t&&+l==+n&&(s=this.keyCalendarUpdate(!1,s)),this.keyboardNavigate(1,o,e,c,a),this.keyNavigation(s,e);break;case"moveLeft":l=new Date(+this.currentDate),this.addDay(l,-1,e,c,a),t||+l==+i&&(s=this.keyCalendarUpdate(!0,s)),this.keyboardNavigate(-1,o,e,c,a),this.keyNavigation(s,e);break;case"moveUp":0===o?(l=new Date(+this.currentDate),this.addDay(l,-7,e,c,a),+l<=+i&&!t&&(s=this.keyCalendarUpdate(!0,s)),this.keyboardNavigate(-7,o,e,c,a)):this.keyboardNavigate(-4,o,e,this.max,this.min),this.keyNavigation(s,e);break;case"moveDown":0===o?(l=new Date(+this.currentDate),this.addDay(l,7,e,c,a),t&&+l>=+n&&(s=this.keyCalendarUpdate(!1,s)),this.keyboardNavigate(7,o,e,c,a)):this.keyboardNavigate(4,o,e,this.max,this.min),this.keyNavigation(s,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),X(this.tableBodyElement),0===o?this.renderMonths(e):1===o?this.renderYears(e):this.renderDecades(e),this.keyNavigation(s,e);break;case"end":this.currentDate=this.lastDay(this.currentDate,o),X(this.tableBodyElement),0===o?this.renderMonths(e):1===o?this.renderYears(e):this.renderDecades(e),this.keyNavigation(s,e);break;case"tab":this.tabKeyValidation(s,Mo)&&(h((s=this.keyCalendarUpdate(!1,s,!1)).querySelector(".e-focused-date"))&&(this.currentDate=this.firstCellToFocus(this.rightCalendar)),this.keyboardNavigate(0,o,e,c,a),this.keyNavigation(s,e));break;case"shiftTab":this.tabKeyValidation(s,Dl)&&(h((s=this.keyCalendarUpdate(!0,s,!1)).querySelector(".e-focused-date"))&&(this.currentDate=this.firstCellToFocus(this.leftCalendar)),this.keyboardNavigate(0,o,e,c,a),this.keyNavigation(s,e))}}firstCellToFocus(e){const t=e.children[1].firstElementChild.querySelector("td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)"),i=t&&t.id?t.id.split("_")[0]:null,n=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),1);return i?new Date(+i):n}keyInputHandler(e,t){let i,n=this.getViewNumber(this.currentView());const s=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),o=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0);let l=D(e.target,"."+Dl);l=h(l)?this.leftCalendar:l;const a=l.classList.contains(Mo);this.updateCalendarElement(l);const c=this.tableBodyElement.querySelector("tr td.e-selected"),d=l.querySelector("tr td."+C0),u=l.querySelector("tr td."+Na),p=l.querySelector("tr td."+cd),g=this.getViewNumber(this.depth),f=n===g&&this.getViewNumber(this.start)>=g,m=D(e.target,"."+Mo),v=D(e.target,"."+Dl),x=D(e.target,"."+l1);switch(h(d)?h(p)||this.dateDisabled?h(u)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.inputElement.focus(),_([this.inputWrapper.container],[y0]));break;case"select":if(f){const w=h(d)?u:d;!h(w)&&!w.classList.contains(os)&&this.selectRange(null,w)}else(!h(c)&&!f||!h(d))&&(h(this.value)||(t=this.calendarElement.classList.contains(Mo)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--n,d||c,t));e.preventDefault();break;case"controlHome":{const w=new Date(this.currentDate.getFullYear(),0,1);!a&&+w<+o&&(l=this.keyCalendarUpdate(!0,l)),super.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(l,e)}break;case"altRightArrow":h(m)?h(v)?h(x)||this.cancelButton.element.focus():h(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault();break;case"altLeftArrow":h(m)?h(v)||this.leftCalendar.children[1].firstElementChild.focus():!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(Mo),this.calendarNavigation(e,this.calendarElement),e.preventDefault();break;case"controlDown":(!h(c)||!h(d))&&!f&&(h(this.value)||(t=this.calendarElement.classList.contains(Mo)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--n,c||d,t)),e.preventDefault();break;case"controlEnd":{const w=new Date(this.currentDate.getFullYear(),11,31);a&&+w>+s&&(l=this.keyCalendarUpdate(!1,l)),super.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(l,e)}break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!a&&+i<=+o&&(l=this.keyCalendarUpdate(!0,l)),this.addMonths(this.currentDate,-1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),a&&+i>=+s&&(l=this.keyCalendarUpdate(!1,l)),this.addMonths(this.currentDate,1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!a&&+i<=+o&&(l=this.keyCalendarUpdate(!0,l)),this.addYears(this.currentDate,-1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),a&&+i>=+s&&(l=this.keyCalendarUpdate(!1,l)),this.addYears(this.currentDate,1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftTab":h(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),a&&e.preventDefault(),this.tabKeyValidation(l,Dl)&&(this.currentDate=new Date(+this.leftCalCurrentDate),this.navInCalendar(e,a,o,s,l));break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;case"tab":this.tabKeyValidation(l,Mo)&&(this.currentDate=new Date(+this.rightCalCurrentDate),this.navInCalendar(e,a,o,s,l));break;default:this.navInCalendar(e,a,o,s,l),this.checkMinMaxDays()}this.presetHeight()}tabKeyValidation(e,t){const i=e.classList.contains(t),n=this.rightCalendar.querySelector(".e-header"),s=this.leftCalendar.querySelector(".e-header"),o=!!n&&n.classList.contains("e-month"),l=!!s&&s.classList.contains("e-month");return i&&l&&o&&!this.isMobile}keyNavigation(e,t){this.bindCalendarCellEvents(e),e.classList.contains(Mo)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),t.preventDefault()}inputHandler(e){switch(e.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(e),this.clearRange()),this.show(null,e),this.isRangeIconClicked=!1,this.isMobile||h(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(e);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(e),this.hide(e));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(e),e.preventDefault())}}bindCalendarCellEvents(e){let t;t=e?e.querySelectorAll("."+uo+" td"):this.popupObj.element.querySelectorAll("."+uo+" td");for(const i of t)C.clearEvents(i),!i.classList.contains(os)&&!i.classList.contains(Ef)&&!i.classList.contains(c1)&&(this.isMobile||C.add(i,"mouseover",this.hoverSelection,this),C.add(i,"mousedown",this.selectRange,this))}removeFocusedDate(){const e=!h(this.startValue)||!h(this.endValue),t=this.popupObj.element.querySelectorAll("."+uo+" ."+C0);for(const i of t){const n=new Date,s=this.getIdValue(null,i);("Month"===this.depth&&"Month"===this.currentView()&&(!i.classList.contains(LK)||i.classList.contains(LK)&&e)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(n,s)&&!this.isSameYear(n,s)||e)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(n,s)||e))&&(i.classList.remove(C0),!i.classList.contains(Na)&&!i.classList.contains(cd)&&i.removeAttribute("aria-label"))}}hoverSelection(e,t){const n=this.getIdValue(null,t||e.currentTarget);if(!h(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&h(this.endValue)&&h(this.startValue)||!h(this.startValue)&&h(this.endValue))){const s=this.popupObj.element.querySelectorAll("."+uo+" td");for(const o of s){const l=!o.classList.contains(os)||o.classList.contains(Ef);if(!o.classList.contains(c1)&&l){const a=this.getIdValue(null,o),c=new Date(+this.startValue);new Date(+a).setHours(0,0,0,0)>=c.setHours(0,0,0,0)&&+a<=+n?_([o],xp):T([o],[xp])}}}}isSameStartEnd(e,t){let i=!1;return"Month"===this.depth?e.setHours(0,0,0,0)===t.setHours(0,0,0,0)&&(i=!0):"Year"===this.depth?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&(i=!0):"Decade"===this.depth&&e.getFullYear()===t.getFullYear()&&(i=!0),i}updateRange(e){if(!h(this.startValue))for(const t of e){const i=t.querySelectorAll("."+uo+" td");for(const n of i)if(!n.classList.contains(c1)&&!n.classList.contains(os)){const s=this.getIdValue(null,n),o=this.getIdValue(null,n);if(h(this.endValue)?T([n],[xp]):this.currentView()===this.depth&&+o.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+o.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&_([n],xp),n.classList.contains(kh)&&n.classList.contains(cd)&&+o!=+this.endValue&&(T([n],[kh]),T([n],[cd])),n.classList.contains(xp)&&+o>+this.endValue&&T([n],[xp]),!n.classList.contains(ux)){const l=new Date(+this.startValue);let a=new Date(+s);this.currentView()===this.depth&&+a.setHours(0,0,0,0)==+l.setHours(0,0,0,0)&&+a.setHours(0,0,0,0)>=+l.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(_([n],[Na,kh]),this.addSelectedAttributes(n,this.startValue,!0));const c=new Date(+this.endValue);"Year"===this.currentView()?a=new Date(a.getFullYear(),a.getMonth()+1,0):"Decade"===this.currentView()&&(a=new Date(a.getFullYear(),11,31)),this.currentView()===this.depth&&!h(this.endValue)&&+a.setHours(0,0,0,0)==+c.setHours(0,0,0,0)&&+a.setHours(0,0,0,0)<=+c.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&(_([n],[cd,kh]),this.addSelectedAttributes(n,this.startValue,!1)),+s==+this.startValue&&!h(this.endValue)&&+s==+this.endValue&&this.addSelectedAttributes(n,this.endValue,!1,!0)}}}}checkMinMaxDays(){(!h(this.minDays)&&this.minDays>0||!h(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+uo)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+Mo)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+Dl))))}rangeArgs(e){let t,i;const n=h(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:"yMd"}),s=h(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:"yMd"});return h(this.endValue)||h(this.startValue)?(t="",i=0):(t=n+" "+this.separator+" "+s,i=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:i,event:e||null,element:this.element,isInteracted:!h(e),text:t}}otherMonthSelect(e,t,i){const n=+this.getIdValue(null,e),s='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+n),o=this.popupObj&&this.popupObj.element.querySelector(s);h(o)||(t?(_([o],[Na,kh]),this.addSelectedAttributes(o,this.startValue,!0)):(_([o],[cd,kh]),this.addSelectedAttributes(o,this.endValue,!0)),i&&this.addSelectedAttributes(e,this.endValue,!1,!0))}selectRange(e,t){let i,n;e&&e.preventDefault();const s=h(e)?this.getIdValue(null,t):this.getIdValue(e,null),o=s.getFullYear(),l=s.getMonth(),a=new Date(o,l,1),c=new Date(o,l+1,0),d=new Date(o,0,1),u=new Date(o,11,31);h(this.endValue)||h(this.startValue)?this.isMobile&&this.startButton.element.classList.contains(Ws)&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains(Ws))&&this.removeSelection();const p=t||e.currentTarget;if(h(this.startValue))h(this.previousStartValue)||(s.setHours(this.previousStartValue.getHours()),s.setMinutes(this.previousStartValue.getMinutes()),s.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(s)):"Year"===this.depth?a:d,this.endValue=null,this.setValue(),_([p],Na),this.addSelectedAttributes(p,this.startValue,!0),p.classList.contains(ux)&&this.otherMonthSelect(p,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add(Ws),this.startButton.element.classList.remove(Ws),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(e));else if(+s==+this.startValue||+s>+this.startValue){if(+s==+this.startValue&&!h(this.minDays)&&this.minDays>1)return;this.endValue=null,this.setValue(),(this.isMobile||t)&&this.hoverSelection(e,t),h(this.previousEndValue)||(s.setHours(this.previousEndValue.getHours()),s.setMinutes(this.previousEndValue.getMinutes()),s.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(s)):"Year"===this.depth?c:u,this.setValue();let g=this.popupObj.element.querySelectorAll("."+cd);if(this.isMobile){this.startButton.element.classList.remove(Ws),this.endButton.element.classList.add(Ws);for(const f of g)f.removeAttribute("aria-label"),f.classList.contains(Na)?(this.addSelectedAttributes(f,this.startValue,!0),T([f],[cd])):(f.setAttribute("aria-selected","false"),T([f],[cd,kh]))}_([p],cd),+this.endValue==+this.startValue?this.addSelectedAttributes(p,this.endValue,!1,!0):this.addSelectedAttributes(p,this.endValue,!1),p.classList.contains(ux)&&(+this.endValue==+this.startValue?this.otherMonthSelect(p,!1,!0):this.otherMonthSelect(p,!1)),g=this.popupObj.element.querySelectorAll("."+cd);for(const f of g)f.classList.contains(Na)&&T([f],[xp]);this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs(e))}else+s<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(s)):"Year"===this.depth?a:d,this.setValue(),this.removeSelectedAttributes(),T(this.popupObj.element.querySelectorAll("."+Na),[Na,kh]),_([p],Na),this.addSelectedAttributes(p,this.startValue,!0),p.classList.contains(ux)&&this.otherMonthSelect(p,!0),this.checkMinMaxDays());e&&(i=D(e.target,"."+Mo)),h(i)?(e&&(n=e&&D(e.target,"."+Dl)),h(n)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),_([p],kh),this.updateHeader(),this.removeFocusedDate()}selectableDates(){if(!h(this.startValue)){const e=this.calendarElement.querySelectorAll("."+uo+" td");let t=!1;if(this.currentView()===this.depth){for(const i of e){if(!i.classList.contains(Na)&&!i.classList.contains(c1)&&!i.classList.contains(os)){if(+this.getIdValue(null,i)<+this.startValue){_([i],[Ef,os,Dc]),C.clearEvents(i);continue}break}if(i.classList.contains(Na)&&!i.classList.contains(ux)){t=!0;break}}t&&(this.previousIcon.classList.contains(os)||_([this.previousIcon],[tc,os,Dc]))}else{for(const i of e){const n=this.startValue.getMonth(),s=this.startValue.getFullYear(),o=this.getIdValue(null,i);if(this.startButton.element.classList.contains(Ws)||!("Year"===this.currentView()&&o.getMonth()<n&&o.getFullYear()<=s||"Decade"===this.currentView()&&o.getMonth()<=n&&o.getFullYear()<s))break;_([i],[os])}e[0].classList.contains(os)?this.previousIconHandler(!0):e[e.length-1].classList.contains(os)&&this.nextIconHandler(!0)}}}updateMinMaxDays(e){if(!h(this.startValue)&&h(this.endValue)||this.isMobile&&this.endButton.element.classList.contains(Ws)){if(!h(this.minDays)&&this.minDays>0||!h(this.maxDays)&&this.maxDays>0){const t=this.removeTimeValueFromDate(this.startValue);let i=new Date(new Date(+t).setDate(t.getDate()+(this.minDays-1))),n=new Date(new Date(+t).setDate(t.getDate()+(this.maxDays-1)));i=!h(this.minDays)&&this.minDays>0?i:null,n=!h(this.maxDays)&&this.maxDays>0?n:null,"Year"===this.currentView()?(i=h(i)?null:new Date(i.getFullYear(),i.getMonth(),0),n=h(n)?null:new Date(n.getFullYear(),n.getMonth(),1)):"Decade"===this.currentView()&&(i=h(i)?null:new Date(i.getFullYear()-1,11,1),n=h(n)?null:new Date(n.getFullYear(),0,1));const s=e.querySelectorAll("."+uo+" td");let o;for(const l of s)if(!l.classList.contains(Na)&&!l.classList.contains(c1)){let a=this.getIdValue(null,l);if(a=this.removeTimeValueFromDate(a),!h(i)&&+a==+i&&l.classList.contains(os)&&i.setDate(i.getDate()+1),!l.classList.contains(os)){if(+a<=+t)continue;!h(i)&&+a<+i&&(_([l],[Ef,os,Dc]),C.clearEvents(l)),!h(n)&&+a>+n&&(_([l],[Ef,os,Dc]),this.isMaxDaysClicked=!0,C.clearEvents(l),h(o)&&!l.classList.contains(ux)&&(o=l))}}if(!h(o))if(this.isMobile)this.nextIcon.classList.contains(os)||_([this.nextIcon],[tc,os,Dc]);else{let l=D(o,"."+Dl);l=h(l)?this.leftCalendar:l,l.classList.contains(Mo)?(this.rightCalNextIcon.classList.contains(os)||_([this.rightCalNextIcon],[tc,os,Dc]),this.leftCalNextIcon.classList.contains(os)||_([this.leftCalNextIcon],[tc,os,Dc]),this.rightCalPrevIcon.classList.contains(os)||_([this.rightCalPrevIcon],[tc,os,Dc])):this.rightCalNextIcon.classList.contains(os)||_([this.rightCalNextIcon],[tc,os,Dc])}}}else this.isMaxDaysClicked=!1}removeTimeValueFromDate(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}removeClassDisabled(){const e=this.popupObj.element.querySelectorAll("."+uo+" td."+Ef);for(const t of e)t.classList.contains(Ef)&&(T([t],[Ef,os,Dc]),C.add(t,"click",this.selectRange,this),this.isMobile||C.add(t,"mouseover",this.hoverSelection,this));this.isMobile?(this.nextIcon.classList.contains(tc)&&T([this.nextIcon],[tc,os,Dc]),this.previousIcon.classList.contains(tc)&&T([this.previousIcon],[tc,os,Dc])):(this.rightCalNextIcon.classList.contains(tc)&&T([this.rightCalNextIcon],[tc,os,Dc]),this.rightCalPrevIcon.classList.contains(tc)&&T([this.rightCalPrevIcon],[tc,os,Dc]),this.leftCalNextIcon.classList.contains(tc)&&T([this.leftCalNextIcon],[tc,os,Dc]))}updateHeader(){const e={type:"date",skeleton:"yMMMd"};if(h(this.endValue)||h(this.startValue))this.popupObj.element.querySelector("."+a1).textContent=this.l10n.getConstant("selectedDays");else{let t=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1;h(this.disabledDayCnt)||(t-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+a1).textContent=t.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(this.startButton.element.textContent=h(this.startValue)?this.l10n.getConstant("startLabel"):this.globalize.formatDate(this.startValue,e),this.endButton.element.textContent=h(this.endValue)||h(this.startValue)?this.l10n.getConstant("endLabel"):this.globalize.formatDate(this.endValue,e)):(h(this.endValue)||h(this.startValue)?this.popupObj.element.querySelector("."+iE).textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector("."+iE).textContent=this.globalize.formatDate(this.endValue,e),h(this.startValue)?this.popupObj.element.querySelector("."+tE).textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector("."+tE).textContent=this.globalize.formatDate(this.startValue,e)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!h(this.startValue)&&+this.startValue<+this.min||!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+a1).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+a1).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector("."+tE).textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector("."+iE).textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")}removeSelection(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(this.popupObj.element.querySelectorAll("."+kh).length>0&&T(this.popupObj.element.querySelectorAll("."+kh),[Na,cd,kh]),this.popupObj.element.querySelectorAll("."+C0).length>0&&T(this.popupObj.element.querySelectorAll("."+C0),C0),this.popupObj.element.querySelectorAll("."+xp).length>0&&T(this.popupObj.element.querySelectorAll("."+xp),[xp]))}addSelectedAttributes(e,t,i,n){if(e){const s=this.globalize.formatDate(t,{type:"date",skeleton:"full"});!h(n)&&n?e.setAttribute("aria-label","The current start and end date is "+s):e.setAttribute("aria-label","The current "+(i?"start":"end")+" date is "+s),e.setAttribute("aria-selected","true")}}removeSelectedAttributes(){if(this.popupObj){const e=this.popupObj.element.querySelectorAll("."+Na);for(const i of e)i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label");const t=this.popupObj.element.querySelectorAll("."+cd);for(const i of t)i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label")}}updateCalendarElement(e){e.classList.contains(Mo)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector("."+px),this.tableBodyElement=G("."+px+" tbody",e),this.table=e.querySelector("."+px).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+ec+" ."+x0),this.headerElement=e.querySelector("."+ec)}navPrevMonth(e){e.preventDefault();let t=D(e.target,"."+Mo);t=h(t)?D(e.target,"."+Dl):t,this.updateCalendarElement(t),this.navigatePrevious(e),!h(this.startValue)&&h(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)}deviceNavigation(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+uo)]),this.endButton.element.classList.contains(Ws)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+uo)),this.endButton.element.classList.contains(Ws)&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()}updateControl(e,t=null){e.classList.contains(Dl)?this.rightCalCurrentDate=new Date(+(t||this.currentDate)):this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e])}navNextMonth(e){e.preventDefault();let t=D(e.target,"."+Mo);t=h(t)?D(e.target,"."+Dl):t,this.updateCalendarElement(t),this.navigateNext(e),!h(this.startValue)&&h(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)}isPopupOpen(){return!(h(this.popupObj)||!this.popupObj.element.classList.contains(RO))}createRangeHeader(){const e=this.createElement("div",{className:"e-start-end"});if(this.isMobile){const t=this.createElement("button",{className:"e-end-btn"}),i=this.createElement("button",{className:PK});this.startButton=new ks({content:this.l10n.getConstant("startLabel")},i),this.endButton=new ks({content:this.l10n.getConstant("endLabel")},t),e.appendChild(i),e.appendChild(t)}else{const t=this.createElement("a",{className:tE}),i=this.createElement("a",{className:iE}),n=this.createElement("span",{className:"e-change-icon e-icons"});Le(t,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),Le(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),e.appendChild(t),e.appendChild(n),e.appendChild(i),t.textContent=this.l10n.getConstant("startLabel"),i.textContent=this.l10n.getConstant("endLabel")}return e}disableInput(){this.strictMode?!h(this.previousStartValue)&&!h(this.previousEndValue)&&(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),ke.setEnabled(this.enabled,this.inputElement),this.bindEvents()}validateMinMax(){this.min=h(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=h(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(!h(this.minDays)&&!h(this.maxDays)&&this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!h(this.minDays)&&this.minDays<0&&(this.minDays=null),!h(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()}validateRangeStrict(){h(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),h(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()}validateRange(){this.validateMinMaxDays()}validateMinMaxDays(){if(!h(this.startValue)&&!h(this.endValue)){const e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1;if(!h(this.minDays)&&this.minDays>0&&!(e>=this.minDays))if(this.strictMode){const t=new Date(+this.startValue);t.setDate(t.getDate()+(this.minDays-1)),+t>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=t,this.setValue())}else this.startValue=null,this.endValue=null,this.setValue();!h(this.maxDays)&&this.maxDays>0&&!(e<=this.maxDays)&&(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue()))}}renderCalendar(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(uo),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),Le(this.calendarElement,{role:"calendar"}),super.createHeader(),super.createContent()}isSameMonth(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}isSameYear(e,t){return e.getFullYear()===t.getFullYear()}isSameDecade(e,t){const i=e.getFullYear(),n=t.getFullYear();return i-i%10==n-n%10}startMonthCurrentDate(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}selectNextMonth(){if(h(this.endValue)||h(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);if(this.currentDate=new Date(+this.endValue),!h(this.startValue)&&+this.startValue<+this.min||!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue){this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1);const e=this.currentDate.getMonth()+1;this.currentDate.setMonth(e)}}selectNextYear(){if(h(this.endValue)||h(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setMonth(0);const e=this.currentDate.getFullYear()+1;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue||!h(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1))}selectNextDecade(){if(h(this.endValue)||h(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){const e=this.currentDate.getFullYear()+10;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue||!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10))}selectStartMonth(){h(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!h(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate=this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?new Date(+this.startValue):new Date((new Date).setHours(0,0,0,0)),(!h(this.endValue)&&+this.endValue>+this.max||!h(this.startValue)&&+this.startValue<+this.min||!h(this.startValue)&&!h(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()}createCalendar(){const e=this.createElement("div",{className:"e-calendar-container"});if(this.isMobile){h(this.startValue)||(this.currentDate=new Date(+this.startValue)),super.validateDate(),super.minMaxUpdate(),super.render();const t=this.calendarElement.querySelector("."+uo+" ."+sE),i=this.calendarElement.querySelector("."+uo+" ."+nE);X(this.calendarElement.querySelector("."+uo+" ."+kO)),this.calendarElement.querySelector("."+uo+" ."+ec).appendChild(i),this.calendarElement.querySelector("."+uo+" ."+ec).appendChild(t),oo([t],this.calendarElement.querySelector("."+uo+" ."+ec)),this.deviceCalendar=this.calendarElement,e.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector("."+uo+" ."+ec+" ."+x0)}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(Mo),this.leftCalPrevIcon=this.calendarElement.querySelector("."+Mo+" ."+sE),this.leftCalNextIcon=this.calendarElement.querySelector("."+Mo+" ."+nE),this.leftTitle=this.calendarElement.querySelector("."+Mo+" ."+x0),X(this.calendarElement.querySelector("."+Mo+" ."+kO)),this.calendarElement.querySelector("."+Mo+" ."+ec).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector("."+Mo+" ."+ec).appendChild(this.leftCalPrevIcon),oo([this.leftCalPrevIcon],this.calendarElement.querySelector("."+Mo+" ."+ec)),this.leftCalendar=this.calendarElement;const t=this.createElement("div",{className:"e-left-container"}),i=this.createElement("div",{className:"e-right-container"});t.appendChild(this.leftCalendar),e.appendChild(t),this.isMobile||C.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),_([this.calendarElement],Dl),this.rightCalendar=this.calendarElement,T([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),T([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector("."+Dl+" ."+sE),this.rightCalNextIcon=this.calendarElement.querySelector("."+Dl+" ."+nE),this.rightTitle=this.calendarElement.querySelector("."+Dl+" ."+x0),X(this.calendarElement.querySelector("."+Dl+" ."+kO)),this.calendarElement.querySelector("table").setAttribute("tabindex","0"),this.calendarElement.querySelector("."+Dl+" ."+ec).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector("."+Dl+" ."+ec).appendChild(this.rightCalPrevIcon),oo([this.rightCalPrevIcon],this.calendarElement.querySelector("."+Dl+" ."+ec)),i.appendChild(this.rightCalendar),e.appendChild(i),this.isMobile||C.add(this.rightTitle,"click",this.rightNavTitle,this)}return e}leftNavTitle(e){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(e,this.calendarElement))}calendarNavigation(e,t){this.table=t.querySelector("table"),this.headerTitleElement=t.querySelector(".e-title"),this.tableBodyElement=t.querySelector("tbody"),this.tableHeadElement=t.querySelector("thead"),this.contentElement=t.querySelector(".e-content"),this.updateCalendarElement(t),super.navigateTitle(e),this.updateNavIcons()}rightNavTitle(e){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(e,this.calendarElement))}clickEventEmitter(e){this.isMobile||(D(e.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))}currentView(){return super.currentView()}getCalendarView(e){return"Year"===e?"Year":"Decade"===e?"Decade":"Month"}navigatedEvent(e){if(this.trigger("navigated",this.navigatedArgs),!h(this.popupObj)){let t;const i=this.getCalendarView(this.currentView());this.isMobile?i===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates():this.isMobile||i!==this.depth?(this.updateNavIcons(),this.calendarIconEvent()):(t=this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar,t!==this.leftCalendar||(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&h(this.controlDown)?(e&&!e.currentTarget.children[0].classList.contains("e-icons")||!h(this.controlDown))&&(this.rightCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&h(this.endValue)&&("Month"===i&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()||"Year"===i&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear())?super.navigateTo.call(this,i,new Date(+this.startValue)):super.navigateTo.call(this,i,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null):(this.leftCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),super.navigateTo.call(this,i,this.rightCalCurrentDate),this.updateControl(this.rightCalendar,this.rightCalCurrentDate?this.rightCalCurrentDate:this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null),this.checkMinMaxDays())}}createControl(){const e=this.createElement("div",{className:AO}),t=this.createElement("div",{className:"e-range-header"}),i=this.createRangeHeader();t.appendChild(i);const n=this.createElement("div",{className:a1});Le(n,{"aria-label":"Selected Days"}),n.textContent=this.l10n.getConstant("selectedDays"),t.appendChild(n);const s=this.createElement("div",{className:"e-separator"}),o=this.createCalendar();e.appendChild(t),e.appendChild(s),e.appendChild(o);const l=this.createElement("div",{className:"e-footer"}),a=this.createElement("button",{className:"e-cancel e-flat e-css"}),c=this.createElement("button");_([c],["e-apply","e-flat","e-primary","e-css"]),l.appendChild(c),l.appendChild(a);const d=!h(this.startValue)&&!h(this.endValue);this.cancelButton=new ks({content:this.l10n.getConstant("cancelText")},a),this.applyButton=new ks({content:this.l10n.getConstant("applyText"),disabled:!d},c),C.add(c,"click",this.applyFunction,this),C.add(a,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),this.isMobile||Et(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),_([e],"e-range-border"),_([this.popupWrapper],"e-preset-wrapper"),this.popupWrapper.querySelector("."+l1).style.height=this.popupWrapper.querySelector("."+AO).getBoundingClientRect().height+"px"),this.popupWrapper.appendChild(l),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()}cancelFunction(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),_([this.inputWrapper.container],[y0])),e.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(e)}deviceHeaderUpdate(){h(this.startValue)&&h(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(Ws)):h(this.startValue)||this.startButton.element.classList.add(Ws)}applyFunction(e){let t=!1;"touchstart"!==e.type&&e.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),_([this.inputWrapper.container],[y0])),"touchstart"!==e.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&e.preventDefault(),h(this.startValue)||h(this.endValue)?this.hide(e||null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,ke.setValue(this.rangeArgs(e).text,this.inputElement,this.floatLabelType,this.showClearButton),(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(t=!0),this.changeTrigger(e),this.hide(e||null),this.errorClass(),t=!0),!D(e.target,"."+MK)&&!t&&this.focusOut(),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.keyInputConfigs=O(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new tn(this.inputWrapper.container.children[1],{eventName:"keydown",keyConfigs:this.keyInputConfigs,keyAction:this.popupKeyActionHandle.bind(this)})))}onMouseClick(e,t){if("touchstart"===e.type)return;const n=D(t||e.target,"."+Cp),s=n&&n.classList.contains(Ws);n&&n.classList.contains(Cp)&&this.setListSelection(n,e),this.preventFocus=!0,this.inputElement.focus(),this.isMobile||(this.preventFocus=!0,n&&n.classList.contains(Cp)&&"custom_range"===n.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():!s&&"keydown"===e.type&&this.inputElement.focus())}onMouseOver(e){const t=D(e.target,"."+Cp);t&&t.classList.contains(Cp)&&!t.classList.contains(Ec)&&_([t],Ec)}onMouseLeave(e){const t=D(e.target,"."+Ec);h(t)||T([t],Ec)}setListSelection(e,t){if(e&&(!e.classList.contains(Ws)||this.isMobile&&e.classList.contains(Ws))){if(this.isMobile&&e.classList.contains(Ws))return this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),"custom_range"===this.presetsItem[this.activeIndex].id?void this.renderCustomPopup():void 0;this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),_([e],Ws),e.setAttribute("aria-selected","true");const i=this.presetsItem[this.activeIndex];"custom_range"===i.id?this.renderCustomPopup():this.applyPresetRange(i,t)}}removeListSelection(){const e=this.presetElement.querySelector("."+Ws);h(e)||(T([e],Ws),e.removeAttribute("aria-selected"))}setValue(){this.modelValue=[this.startValue,this.endValue]}applyPresetRange(e,t){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=e.start,this.endValue=e.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(t)),this.changeTrigger(t),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())}showPopup(e,t){this.presetHeight(),this.popupObj.show(null,1e3===this.zIndex?this.element:null),this.isMobile&&this.popupObj.refreshPosition()}renderCustomPopup(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:o1+" "+RO}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()}listRippleEffect(){for(const e of this.liCollections)Ys(e)}createPresets(){if(!Et(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:l1,attrs:{tabindex:"0"}});const e=Cn.createList(this.createElement,this.presetsItem,null,!0);Le(e,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement);const t=this.presetElement.querySelector("#custom_range");h(t)||(t.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+Cp),this.wireListEvents(),this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!h(this.activeIndex)&&this.activeIndex>-1&&_([this.liCollections[this.activeIndex]],Ws)}}wireListEvents(){C.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(C.add(this.presetElement,"mouseover",this.onMouseOver,this),C.add(this.presetElement,"mouseout",this.onMouseLeave,this))}unWireListEvents(){h(this.presetElement)||(C.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(C.remove(this.presetElement,"mouseover",this.onMouseOver),C.remove(this.presetElement,"mouseout",this.onMouseLeave)))}renderPopup(){this.popupWrapper.classList.add("e-control");const e=this.popupWrapper.getBoundingClientRect().width;!h(this.cssClass)&&""!==this.cssClass.trim()&&(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new wc(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:h(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?Et(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-e,offsetY:4,collision:this.isMobile?Et(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:()=>{Le(this.inputElement,{"aria-expanded":"true"}),_([this.inputWrapper.buttons[0]],Ws),this.isMobile||(this.cancelButton&&(this.btnKeyboardModule=new tn(this.cancelButton.element,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),this.btnKeyboardModule=new tn(this.applyButton.element,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),h(this.leftCalendar)||this.isRangeIconClicked||this.calendarFocus(),h(this.presetElement)||(this.keyInputConfigs=O(this.keyInputConfigs,this.keyConfigs),this.presetKeyboardModule=new tn(this.presetElement,{eventName:"keydown",keyAction:this.presetKeyActionHandler.bind(this),keyConfigs:this.keyInputConfigs}),this.presetKeyboardModule=new tn(this.presetElement,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),h(this.leftCalendar)?(this.preventBlur=!0,this.presetElement.focus()):this.presetElement.setAttribute("tabindex","-1")),this.popupKeyBoardHandler()),this.isMobile&&!A.isDevice&&C.add(document,"keydown",this.popupCloseHandler,this)},close:()=>{Le(this.inputElement,{"aria-expanded":"false"}),T([this.inputWrapper.buttons[0]],Ws),this.isRangeIconClicked&&this.inputWrapper.container.children[1].focus(),Et(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.unWireListEvents(),h(this.popupObj)||(h(this.popupObj.element.parentElement)||de(this.popupObj.element),this.popupObj.destroy(),this.popupObj=null),this.isMobile&&!A.isDevice&&C.remove(document,"keydown",this.popupCloseHandler)},targetExitViewport:()=>{A.isDevice||this.hide()}}),this.isMobile&&(this.popupObj.element.classList.add(OK),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(_([this.modal],[OK,o1,"e-range-modal"]),document.body.className+=" "+BK,this.modal.style.display="block"),C.add(document,"mousedown touchstart",this.documentHandler,this)}popupCloseHandler(e){27===e.keyCode&&this.hide(e)}calendarFocus(){const e=this.popupObj&&this.popupObj.element.querySelector("."+Na);if(e){let t=D(e,"."+Dl);t=h(t)?this.leftCalendar:t,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,t.children[1].firstElementChild.focus()),_([e],C0)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())}presetHeight(){const e=this.popupObj&&this.popupObj.element.querySelector("."+l1),t=this.popupObj&&this.popupObj.element.querySelector("."+AO);!h(e)&&!h(t)&&(e.style.height=t.getBoundingClientRect().height+"px")}presetKeyActionHandler(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":{const t=this.getHoverLI(),i=this.getActiveLI();if(!h(this.leftCalendar)&&!h(i)&&(h(t)||!h(i)&&i===t)&&(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(i),"custom_range"===this.presetsItem[this.activeIndex].id))return this.calendarFocus(),i.classList.remove(Ec),void e.preventDefault();(!h(t)||!h(i))&&this.onMouseClick(e,t||i),e.preventDefault()}break;case"tab":if(this.leftCalendar){const t=this.getHoverLI();h(t)||t.classList.remove(Ec)}else this.hide(e),e.preventDefault()}}listMoveDown(e){const t=this.getHoverLI(),i=this.getActiveLI();if(h(t))if(h(i))_([this.liCollections[0]],Ec);else{const n=i.nextElementSibling;!h(n)&&n.classList.contains(Cp)&&_([n],Ec)}else{const n=t.nextElementSibling;!h(n)&&n.classList.contains(Cp)&&(T([t],Ec),_([n],Ec))}}listMoveUp(e){const t=this.getHoverLI(),i=this.getActiveLI();if(h(t)){if(!h(i)){const n=i.previousElementSibling;!h(n)&&n.classList.contains(Cp)&&_([n],Ec)}}else{const n=t.previousElementSibling;!h(n)&&n.classList.contains(Cp)&&(T([t],Ec),_([n],Ec))}}getHoverLI(){return this.presetElement.querySelector("."+Ec)}getActiveLI(){return this.presetElement.querySelector("."+Ws)}popupKeyBoardHandler(){this.popupKeyboardModule=new tn(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.keyInputConfigs=O(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new tn(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})}setScrollPosition(){const e=this.presetElement.getBoundingClientRect().height,t=this.presetElement.querySelector("."+Ec),i=this.presetElement.querySelector("."+Ws),n=h(t)?i:t;if(!h(n)){const s=n.nextElementSibling,o=s?s.offsetTop:n.offsetTop,l=n.getBoundingClientRect().height;this.presetElement.scrollTop=o+n.offsetTop>e?s?o-(e/2+l/2):o:0}}popupKeyActionHandle(e){const t=D(e.target,"."+l1);switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(e)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,e);break;case"tab":this.hide(e);break;case"altRightArrow":h(t)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"altLeftArrow":h(t)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element.focus():h(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault()}}documentHandler(e){if(h(this.popupObj))return;const t=e.target;(!this.inputWrapper.container.contains(t)||!h(this.popupObj)&&!D(t,'[id="'+this.popupWrapper.id+'"]'))&&"touchstart"!==e.type&&("mousedown"===e.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&e.preventDefault(),(h(this.targetElement)||!h(this.targetElement)&&t!==this.targetElement)&&!D(t,'[id="'+this.popupWrapper.id+'"]')&&D(t,"."+MK)!==this.inputWrapper.container&&(!D(t,".e-daterangepicker.e-popup")||t.classList.contains("e-day"))&&(this.preventBlur=!1,this.isPopupOpen()&&document.body.contains(this.popupObj.element)&&(this.applyFunction(e),this.isMobile||(this.isRangeIconClicked=!1)))}createInput(){let e=this.cssClass;!h(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=ke.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),Le(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),ke.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),!h(this.placeholder)&&""!==this.placeholder.trim()&&ke.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),_([this.inputWrapper.container],"e-date-range-wrapper"),h(this.inputElement.getAttribute("name"))&&Le(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate}setEleWidth(e){this.inputWrapper.container.style.width="string"==typeof e?this.width:"number"==typeof e?$e(this.width):"100%"}adjustLongHeaderWidth(){"Wide"===this.dayHeaderFormat&&_([this.popupWrapper],"e-daterange-day-header-lg")}refreshControl(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();const e=this.disabledDates();this.strictMode&&e&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),!h(this.endValue)&&!h(this.startValue)&&!e&&this.disabledDateRender(),this.errorClass(),this.previousStartValue=h(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=h(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)}updateInput(){if(!h(this.endValue)&&!h(this.startValue)){const e={format:this.formatString,type:"date",skeleton:"yMd"},t=this.globalize.formatDate(this.startValue,e),i=this.globalize.formatDate(this.endValue,e);ke.setValue(t+" "+this.separator+" "+i,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)}!this.strictMode&&h(this.value)&&this.invalidValueString&&ke.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)}checkInvalidRange(e){if(!h(e)){let i,n,t=!1,s=null,o=null,l=null,a=!1,c=!1,d=!1;if("string"==typeof e){const u=e.split(" "+this.separator+" ");2===u.length?(s=u[0],o=u[1]):(t=!0,l=e)}else e.length>0?(i=e[0],n=e[1]):(i=e.start,n=e.end),i instanceof Date||"object"==typeof i?i instanceof Date?a=!0:h(i)||(d=!0):s=this.getstringvalue(i),n instanceof Date||"object"==typeof n?n instanceof Date?c=!0:h(n)||(d=!0):o=this.getstringvalue(n);(h(s)&&!a&&!h(o)||!h(s)&&!c&&h(o))&&(t=!0),d&&(s=o=l=null,t=!0),s&&(t=t||this.checkInvalidValue(s)),o&&(t=t||this.checkInvalidValue(o)),t&&(a&&!d&&(s=i.toLocaleDateString()),c&&!d&&(o=n.toLocaleDateString()),h(s)||h(o)?h(s)?h(o)||(l=o):l=s:l=s+" "+this.separator+" "+o,this.invalidValueString=l,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)}}getstringvalue(e){let t=null;return h(e)||"number"!=typeof e?!h(e)&&"string"==typeof e&&(t=""+e):t=e.toString(),t}checkInvalidValue(e){const t=e;let i=!1,n=null;if(n={format:this.formatString,type:"date",skeleton:"yMd"},"string"!=typeof t)i=!0;else{const s=new Nn(this.locale);if(!this.checkDateValue(s.parseDate(t,n))){let o=null,l=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,l=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(!o.test(t)&&!l.test(t)||/^[a-zA-Z0-9- ]*$/.test(t)||isNaN(+new Date(this.checkValue(t))))&&(i=!0)}}return i}isDateDisabled(e){if(h(e))return!1;const t=new Date(+e);if(+t<+this.min||+t>+this.max)return!0;this.virtualRenderCellArgs={date:t,isDisabled:!1};const i=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(i),!!i.isDisabled}disabledDateRender(){this.disabledDays=[],this.disabledDayCnt=null;const e=new Date(+this.startValue);let t=0;for(;+e<=+this.endValue&&+this.endValue<=+this.max;){this.virtualRenderCellArgs={date:e,isDisabled:!1};const i=this.virtualRenderCellArgs;this.virtualRenderCellEvent(i),i.isDisabled&&(this.disabledDays.push(new Date(+i.date)),+e>+this.startValue&&+e<+this.endValue&&t++),this.addDay(e,1,null,this.max,this.min)}this.disabledDayCnt=t}virtualRenderCellEvent(e){O(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)}disabledDates(){let e=!1,t=!1;return!h(this.endValue)&&!h(this.startValue)&&(e=this.isDateDisabled(this.startValue),t=this.isDateDisabled(this.endValue),this.isPopupOpen()||(this.currentDate=null),this.setValue()),e||t}setModelValue(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?((+this.startDate!=+this.value[0]||+this.endDate!=+this.value[1])&&this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()}dispatchEvent(e,t){const i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i),this.firstHiddenChild.dispatchEvent(i)}changeTrigger(e){(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.rangeArgs(e))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)}navigateTo(e,t){if(this.isPopupOpen()){if("month"===e.toLowerCase())e="Month";else if("year"===e.toLowerCase())e="Year";else{if("decade"!==e.toLowerCase())return;e="Decade"}this.getViewNumber(e)<this.getViewNumber(this.depth)&&(e=this.depth),this.isMobile?super.navigateTo.call(this,e,t):(t<this.min?t=new Date(+this.min):t>=this.max&&(t=new Date(+this.max)),"Month"===e&&this.isSameMonth(t,this.max)?t=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===e&&this.isSameYear(t,this.max)?t=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===e&&this.isSameDecade(t,this.max)&&(t=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=t,this.navigate(this.leftCalendar,this.leftCalCurrentDate,e),t="Month"===e?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===e?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=t,this.navigate(this.rightCalendar,this.rightCalCurrentDate,e),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}}navigate(e,t,i){this.calendarElement=e,this.table=e.querySelector("table"),this.tableBodyElement=e.querySelector("tbody"),this.headerTitleElement=e.querySelector(".e-title"),this.tableHeadElement=e.querySelector("thead"),this.contentElement=e.querySelector(".e-content"),this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.effect="e-zoomin",super.navigateTo.call(this,i,t)}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&(_([this.inputWrapper.container],[y0]),this.inputElement.focus())}focusOut(){const e=this.preventBlur;document.activeElement===this.inputElement&&(T([this.inputWrapper.container],[y0]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=e)}destroy(){this.unBindEvents(),this.hide(null);const e={"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(T([this.inputElement],[o1]),C.remove(this.inputElement,"blur",this.inputBlurHandler),ke.removeAttributes(e,this.inputElement),h(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),h(this.inputWrapper)||(C.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),de(this.inputWrapper.container))),!h(this.inputKeyboardModule)&&!this.isMobile&&this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),super.destroy(),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&C.remove(this.formElement,"reset",this.formResetHandler),!h(this.firstHiddenChild)&&!h(this.secondHiddenChild)&&(de(this.firstHiddenChild),de(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name"))}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)h(this.cloneElement.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])))}getModuleName(){return"daterangepicker"}getPersistData(){return this.addOnPersist(["startDate","endDate","value"])}getSelectedRange(){let e;return h(this.startValue)||h(this.endValue)?e=0:(e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1,this.disabledDateRender(),h(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:e}}show(e,t){this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen()||(e&&(this.targetElement=e),this.createPopup(),(this.isMobile||A.isDevice)&&(this.mobileRangePopupWrap=this.createElement("div",{className:"e-daterangepick-mob-popup-wrap"}),document.body.appendChild(this.mobileRangePopupWrap)),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:t||null,appendTo:this.isMobile||A.isDevice?this.mobileRangePopupWrap:document.body},this.trigger("open",this.openEventArgs,n=>{if(this.openEventArgs=n,!this.openEventArgs.cancel){this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(e,t);const s=!this.isCustomRange||this.isMobile&&this.isCustomRange;!Et(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&s&&this.setScrollPosition(),this.checkMinMaxDays(),this.isMobile&&!h(this.startDate)&&h(this.endDate)&&(this.endButton.element.classList.add(Ws),this.startButton.element.classList.remove(Ws),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),super.setOverlayIndex(this.mobileRangePopupWrap,this.popupObj.element,this.modal,this.isMobile||A.isDevice)}}))}hide(e){this.popupObj?(h(this.previousEndValue)&&h(this.previousStartValue)?this.clearRange():(h(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),h(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue())),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:e||null},this.trigger("close",this.closeEventArgs,i=>{this.closeEventArgs=i,this.closeEventArgs.cancel?T([this.inputWrapper.buttons[0]],Ws):(this.isMobile&&!h(this.startButton)&&!h(this.endButton)&&(C.remove(this.startButton.element,"click touchstart",this.deviceHeaderClick),C.remove(this.endButton.element,"click touchstart",this.deviceHeaderClick)),this.popupObj&&(this.popupObj.hide(),this.preventBlur&&(this.inputElement.focus(),_([this.inputWrapper.container],[y0]))),this.isMobile||(!h(this.leftKeyboardModule)&&!h(this.rightKeyboardModule)&&(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),h(this.presetElement)||this.presetKeyboardModule.destroy(),h(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null,T([document.body],BK),C.remove(document,"mousedown touchstart",this.documentHandler),this.isMobile&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),(this.isMobile||A.isDevice)&&(h(this.mobileRangePopupWrap)||(this.mobileRangePopupWrap.remove(),this.mobileRangePopupWrap=null)),this.isKeyPopup=this.dateDisabled=!1),this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")}))):(this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"))}setLocale(){this.globalize=new Nn(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),ke.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.updateHiddenInput(),this.changeTrigger()}refreshChange(){this.checkView(),this.refreshControl(),this.changeTrigger()}setDate(){ke.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()}enableInput(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),ke.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())}clearModelvalue(e,t){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),t.value&&t.value.length>0?this.setProperties({value:null},!0):(t.value&&t.value.start||t.value&&!t.value.start)&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()}createHiddenInput(){h(this.firstHiddenChild)&&h(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),h(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),Le(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:HK}),Le(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:HK});const e={type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild)}setMinMaxDays(){this.isPopupOpen()&&(this.removeClassDisabled(),this.checkMinMaxDays(),this.isMobile&&this.selectableDates(),!this.strictMode&&h(this.startValue)&&h(this.endValue)?this.removeSelection():this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader())}onPropertyChanged(e,t){const i={format:this.formatString,type:"date",skeleton:"yMd"};for(const n of Object.keys(e))switch(["maxDays","minDays","value"].indexOf(n)<0&&this.hide(null),n){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":ke.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":ke.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly),this.setRangeAllowEdit();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":this.setProperties({enabled:e.enabled},!0),ke.setEnabled(this.enabled,this.inputElement),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1;break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),ke.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new Nn(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),ke.setPlaceholder(this.placeholder,this.inputElement),this.setLocale();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.setDataAttribute(!0),this.checkHtmlAttributes(!0);break;case"showClearButton":ke.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof e.startDate&&(e.startDate=this.globalize.parseDate(e.startDate,i)),+this.initStartDate!=+e.startDate&&(this.startValue=this.checkDateValue(new Date(this.checkValue(e.startDate))),this.setDate(),this.setValue());break;case"endDate":"string"==typeof e.endDate&&(e.endDate=this.globalize.parseDate(e.endDate,i)),+this.initEndDate!=+e.endDate&&(this.endValue=this.checkDateValue(new Date(this.checkValue(e.endDate))),this.setDate(),this.setValue());break;case"value":if(this.invalidValueString=null,this.checkInvalidRange(e.value),"string"==typeof e.value)if(this.invalidValueString)this.clearModelvalue(e,t);else{const o=e.value.split(" "+this.separator+" ");this.value=[new Date(o[0]),new Date(o[1])],this.updateValue(),this.setDate()}else!h(e.value)&&e.value.length>0||!h(e.value)&&e.value.start?(this.valueType=e.value,null===e.value[0]||null===e.value.start?(1===e.value.length||e.value.start||null===e.value[1]||null===e.value.start)&&this.clearModelvalue(e,t):(+this.initStartDate!=+e.value[0]||+this.initEndDate!=+e.value[1]||+this.initStartDate!=+(e.value.start||+this.initEndDate!=+e.value.start))&&((1===e.value.length||e.value.start)&&(this.modelValue=e.value),this.updateValue(),this.setDate())):(h(this.value)||null==e.value.start)&&(this.valueType=e.value,this.startValue=null,this.endValue=null,this.clearModelvalue(e,t));if(this.isPopupOpen()){if(h(this.startValue)&&h(this.endValue))return this.removeSelection(),void(this.isMobile&&this.deviceHeaderUpdate());this.isMobile?(this.navigate(this.deviceCalendar,this.startValue,this.currentView()),this.deviceHeaderUpdate()):(this.navigate(this.leftCalendar,this.startValue,this.currentView()),this.updateControl(this.leftCalendar),this.navigate(this.rightCalendar,this.endValue,this.currentView()),this.updateControl(this.rightCalendar)),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader(),this.applyButton.disabled=this.applyButton.element.disabled=!1}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"minDays":this.setProperties({minDays:e.minDays},!0),this.refreshChange(),this.setMinMaxDays();break;case"maxDays":this.setProperties({maxDays:e.maxDays},!0),this.refreshChange(),this.setMinMaxDays();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:e.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=e.floatLabelType,ke.removeFloating(this.inputWrapper),ke.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"start":this.setProperties({start:e.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:e.depth},!0),this.refreshChange()}}};sn([y(null)],dn.prototype,"value",void 0),sn([y(!1)],dn.prototype,"enablePersistence",void 0),sn([y(new Date(1900,0,1))],dn.prototype,"min",void 0),sn([y(new Date(2099,11,31))],dn.prototype,"max",void 0),sn([y(null)],dn.prototype,"locale",void 0),sn([y(null)],dn.prototype,"firstDayOfWeek",void 0),sn([y(!1)],dn.prototype,"weekNumber",void 0),sn([y("Gregorian")],dn.prototype,"calendarMode",void 0),sn([y(!1)],dn.prototype,"openOnFocus",void 0),sn([E()],dn.prototype,"created",void 0),sn([E()],dn.prototype,"destroyed",void 0),sn([E()],dn.prototype,"change",void 0),sn([E()],dn.prototype,"cleared",void 0),sn([E()],dn.prototype,"navigated",void 0),sn([E()],dn.prototype,"renderDayCell",void 0),sn([y(null)],dn.prototype,"startDate",void 0),sn([y(null)],dn.prototype,"endDate",void 0),sn([Hr([{}],rE)],dn.prototype,"presets",void 0),sn([y("")],dn.prototype,"width",void 0),sn([y(1e3)],dn.prototype,"zIndex",void 0),sn([y(!0)],dn.prototype,"showClearButton",void 0),sn([y(!0)],dn.prototype,"showTodayButton",void 0),sn([y("Month")],dn.prototype,"start",void 0),sn([y("Month")],dn.prototype,"depth",void 0),sn([y("")],dn.prototype,"cssClass",void 0),sn([y("-")],dn.prototype,"separator",void 0),sn([y(null)],dn.prototype,"minDays",void 0),sn([y(null)],dn.prototype,"maxDays",void 0),sn([y(!1)],dn.prototype,"strictMode",void 0),sn([y(null)],dn.prototype,"keyConfigs",void 0),sn([y(null)],dn.prototype,"format",void 0),sn([y(!0)],dn.prototype,"enabled",void 0),sn([y(!1)],dn.prototype,"readonly",void 0),sn([y(!0)],dn.prototype,"allowEdit",void 0),sn([y("Never")],dn.prototype,"floatLabelType",void 0),sn([y(null)],dn.prototype,"placeholder",void 0),sn([y({})],dn.prototype,"htmlAttributes",void 0),sn([E()],dn.prototype,"open",void 0),sn([E()],dn.prototype,"close",void 0),sn([E()],dn.prototype,"select",void 0),sn([E()],dn.prototype,"focus",void 0),sn([E()],dn.prototype,"blur",void 0),dn=sn([Pi],dn);var Wn=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const jK="e-error",qK=(new Date).getDate(),WK=(new Date).getMonth(),UK=(new Date).getFullYear(),oE="e-timepicker",w0="e-active",FO="e-hover",PO="e-navigation",Du="e-disabled",LO="e-input-focus",vg="e-list-item",YK="e-time-overflow",OO="e-non-edit",QK=["title","class","style"];var BO;(BO||(BO={})).createListItems=function e(t,i,n,s,o,l){let a;const c=6e4*l,d=[],u=[];a=+i.setMilliseconds(0);const p=+n.setMilliseconds(0);for(;p>=a;)u.push(a),d.push(s.formatDate(new Date(a),{format:o,type:"time"})),a+=c;return{collection:u,list:Cn.createList(t,d,null,!0)}};class b0 extends Nt{}Wn([y("day")],b0.prototype,"day",void 0),Wn([y("month")],b0.prototype,"month",void 0),Wn([y("year")],b0.prototype,"year",void 0),Wn([y("day of the week")],b0.prototype,"dayOfTheWeek",void 0),Wn([y("hour")],b0.prototype,"hour",void 0),Wn([y("minute")],b0.prototype,"minute",void 0),Wn([y("second")],b0.prototype,"second",void 0);let Ms=class extends an{constructor(e,t){super(e,t),this.liCollections=[],this.timeCollections=[],this.disableItemCollection=[],this.invalidValueString=null,this.isAngular=!1,this.preventChange=!1,this.maskedDateValue="",this.moduleName=this.getModuleName(),this.timeOptions=e}preRender(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),T([this.cloneElement],[oE,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=D(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}}render(){this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setValue(this.getFormattedValue(this.value)),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value),this.renderComplete()}setTimeAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Le(this.inputElement,{readonly:""}),this.clearIconState()}clearIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&T([this.inputWrapper.container],[OO]):""===this.inputElement.value?T([this.inputWrapper.container],[OO]):_([this.inputWrapper.container],[OO])}validateDisable(){this.setMinMax(this.initMin,this.initMax),this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null,!isNaN(+this.value)&&null!==this.value&&(this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax)))}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const n=["required","aria-required","form"];for(let s=0;s<n.length;s++){if(h(e.getAttribute(n[s])))continue;const o=e.getAttribute(n[s]);t.setAttribute(n[s],o),e.removeAttribute(n[s])}}initialize(){this.globalize=new Nn(this.locale),this.defaultCulture=new Nn("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1),this.l10n=new is("timepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,h(this.element.getAttribute("id"))?(this.element.id=Gn("ej2_timepicker"),null!==this.angularTag&&Le(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),h(this.inputElement.getAttribute("name"))&&Le(this.inputElement,{name:this.element.id}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})}checkTimeFormat(){this.formatString=this.format?"string"==typeof this.format?this.format:h(this.format.skeleton)||""===this.format.skeleton?this.globalize.getDatePattern({type:"time",skeleton:"short"}):this.globalize.getDatePattern({type:"time",skeleton:this.format.skeleton}):null}checkDateValue(e){return!h(e)&&e instanceof Date&&!isNaN(+e)?e:null}createInputElement(){let e=this.cssClass,t=!this.enableMask;!h(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=ke.createInput({element:this.inputElement,bindClearAction:t,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),Le(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||ke.addAttributes({style:this.inputStyle},this.inputElement),_([this.inputWrapper.container],"e-time-wrapper")}getCldrDateTimeFormat(){let t;const i=new Nn(this.locale).getDatePattern({skeleton:"yMd"});return t=this.isNullOrEmpty(this.formatString)?i+" "+this.cldrFormat("time"):this.formatString,t}checkInvalidValue(e){let t=!1;if("object"!=typeof e&&!h(e)){let i=e;"string"==typeof i&&(i=i.trim());let n=null,s=null;if("number"==typeof e?i=e.toString():"string"==typeof e&&(/^[a-zA-Z0-9- ]*$/.test(e)||(n=this.setCurrentDate(this.getDateObject(e)),h(n)&&(n=this.checkDateValue(this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"})),h(n)&&(n=this.checkDateValue(this.globalize.parseDate(i,{format:this.formatString,type:"dateTime",skeleton:"yMd"})))))),s=this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"}),n=!h(s)&&s instanceof Date&&!isNaN(+s)?s:null,h(n)&&i.replace(/\s/g,"").length){let o=null,l=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,l=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!o.test(i)&&!l.test(i)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+i))?t=!0:n=new Date(""+i)}t?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:n},!0),this.initValue=this.value)}}requiredModules(){const e=[];return this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e}cldrFormat(e){let t;return t="en"===this.locale||"en-US"===this.locale?M("timeFormats.short",af()):this.getCultureTimeObject(xl,""+this.locale),t}destroy(){this.hide(),this.unBindEvents(),this.inputElement&&(ke.removeAttributes({"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"},this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),h(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),h(this.cloneElement.getAttribute("disabled"))&&ke.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&de(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],h(this.rippleFn)||this.rippleFn(),super.destroy(),this.formElement&&C.remove(this.formElement,"reset",this.formResetHandler)}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)h(this.cloneElement.getAttribute(e[t]))?(this.inputElement.removeAttribute(e[t]),"value"===e[t].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])),"value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])))}popupCreation(){this.popupWrapper=this.createElement("div",{className:oE+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),h(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!h(this.step)&&this.step>0&&(this.generateList(),Jt([this.listWrapper],this.popupWrapper)),this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.addSelection(),this.renderPopup(),de(this.popupWrapper)}getPopupHeight(){const e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t}generateList(){this.createListItems(),this.wireListEvents(),this.rippleFn=Ys(this.listWrapper,{duration:300,selector:"."+vg}),this.liCollections=this.listWrapper.querySelectorAll("."+vg)}renderPopup(){this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new wc(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:A.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:A.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:A.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:()=>{this.popupWrapper.style.visibility="visible",_([this.inputWrapper.buttons[0]],w0)},close:()=>{T([this.inputWrapper.buttons[0]],w0),this.unWireListEvents(),this.inputElement.setAttribute("aria-activedescendant","null"),X(this.popupObj.element),this.popupObj.destroy(),this.popupWrapper.innerHTML="",this.listWrapper=this.popupWrapper=this.listTag=void 0},targetExitViewport:()=>{A.isDevice||this.hide()}}),A.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"}getFormattedValue(e){return h(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})}getDateObject(e){if(!this.isNullOrEmpty(e)){const t=this.createDateObj(e),i=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(t)){const n=i?this.initValue.getDate():qK,s=i?this.initValue.getMonth():WK,o=i?this.initValue.getFullYear():UK;return new Date(o,s,n,t.getHours(),t.getMinutes(),t.getSeconds())}}return null}updateHtmlAttributeToWrapper(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(QK.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&_([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);t=h(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!h(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))QK.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){h(t)||(t=t.replace(/\s+/g," ").trim()),h(e)||(e=e.replace(/\s+/g," ").trim()),ke.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&ke.setCssClass(e,[this.popupWrapper],t)}removeErrorClass(){T([this.inputWrapper.container],jK),Le(this.inputElement,{"aria-invalid":"false"})}checkErrorState(e){const t=this.getDateObject(e);this.validateState(t)&&!this.invalidValueString||this.enableMask&&this.inputElement.value===this.maskedDateValue?this.removeErrorClass():(_([this.inputWrapper.container],jK),Le(this.inputElement,{"aria-invalid":"true"}))}validateInterval(){!h(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()}disableTimeIcon(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()}disableElement(e){_(e,Du)}enableElement(e){T(e,Du)}selectInputText(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)}setCursorToEnd(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)}getMeridianText(){let e;return e="en"===this.locale||"en-US"===this.locale?M("dayPeriods.format.wide",af()):M("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",xl),e}getCursorSelection(){const e=this.inputElement;let t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}}getActiveElement(){return h(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+w0)}isNullOrEmpty(e){return!!(h(e)||"string"==typeof e&&""===e.trim())}setWidth(e){return"number"==typeof e?$e(e):"string"==typeof e?e.match(/px|%|em/)?e:$e(e):"100%"}setPopupWidth(e){return(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e}setScrollPosition(){const e=this.selectedElement;h(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)}findScrollTop(e){const t=this.getPopupHeight(),i=e.nextElementSibling,n=i?i.offsetTop:e.offsetTop,s=e.getBoundingClientRect().height;this.popupWrapper.scrollTop=n+e.offsetTop>t?i?n-(t/2+s/2):n:0}setScrollTo(){let e;if(h(this.popupWrapper))this.popupWrapper.scrollTop=0;else{const t=this.popupWrapper.querySelectorAll("."+vg);if(t.length){const i=this.timeCollections[0],n=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((n-i)/(6e4*this.step))]}}h(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)}getText(){return h(this.checkDateValue(this.value))?"":this.getValue(this.value)}getValue(e){return h(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})}cldrDateFormat(){let e;return e="en"===this.locale||"en-US"===this.locale?M("dateFormats.short",af()):this.getCultureDateObject(xl,""+this.locale),e}cldrTimeFormat(){let e;return e=this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?M("timeFormats.short",af()):this.getCultureTimeObject(xl,""+this.locale):this.formatString,e}dateToNumeric(){let e;return e="en"===this.locale||"en-US"===this.locale?M("timeFormats.medium",af()):M("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",xl),e}getExactDateTime(e){return h(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})}setValue(e){const t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)}compareFormatChange(e){return h(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)}updatePlaceHolder(){ke.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)}updateInputValue(e){ke.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}preventEventBubbling(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")}popupHandler(e){!this.enabled||(A.isDevice&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.isPopupOpen()?this.closePopup(0,e):(this.inputElement.focus(),this.show(e)))}mouseDownHandler(){!this.enabled||this.readonly||(this.inputElement.setSelectionRange(0,0),C.add(this.inputElement,"mouseup",this.mouseUpHandler,this))}mouseUpHandler(e){if(!this.readonly){if(e.preventDefault(),this.enableMask)return e.preventDefault(),void this.notify("setMaskSelection",{module:"MaskedDateTime"});{C.remove(this.inputElement,"mouseup",this.mouseUpHandler);const t=this.getCursorSelection();0===t.start&&t.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}}}focusSelection(){const e=new RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split("");t.push(" ");const i=this.getCursorSelection();let n=0,s=0,o=!1;if(this.isTextSelected)n=i.start,s=i.end,this.isTextSelected=!1;else for(let l=0;l<t.length;l++)if(e.test(t[l])||(s=l,o=!0),o){if(i.start>=n&&i.end<=s){s=s,this.isTextSelected=!0;break}n=l+1,o=!1}return{start:n,end:s}}inputHandler(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.enableMask&&!this.readonly&&!this.isPopupOpen()&&(e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e})),(!this.enableMask||this.isPopupOpen())&&this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.show(e);break;case"escape":this.updateInputValue(this.objToString(this.value)),this.enableMask&&(this.value||this.updateInputValue(this.maskedDateValue),this.createMask()),this.previousState(this.value),this.hide();break;case"close":this.hide();break;case"right":case"left":case"tab":case"shiftTab":!this.isPopupOpen()&&this.enableMask&&!this.readonly&&((0==this.inputElement.selectionStart&&this.inputElement.selectionEnd==this.inputElement.value.length||this.inputElement.selectionEnd!==this.inputElement.value.length&&"tab"==e.action||0!==this.inputElement.selectionStart&&"shiftTab"==e.action||"left"==e.action||"right"==e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}));break;default:this.isNavigate=!1}}onMouseClick(e){const i=this.selectedElement=D(e.target,"."+vg);this.setSelection(i,e),i&&i.classList.contains(vg)&&this.hide()}closePopup(e,t){if(this.isPopupOpen()&&this.popupWrapper){const i={popup:this.popupObj,event:t||null,cancel:!1,name:"open"};T([document.body],YK),this.trigger("close",i,n=>{n.cancel||(this.popupObj.hide(new _s({name:"FadeOut",duration:50,delay:e||0})),T([this.inputWrapper.container],["e-icon-anim"]),Le(this.inputElement,{"aria-expanded":"false"}),C.remove(document,"mousedown touchstart",this.documentClickHandler)),A.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),A.isDevice&&(h(this.mobileTimePopupWrap)||(this.mobileTimePopupWrap.remove(),this.mobileTimePopupWrap=null)),A.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")})}else A.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")}disposeServerPopup(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")}checkValueChange(e,t){if(this.strictMode||this.validateState(this.valueWithMinutes))if(t){const i=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+i&&this.valueProcess(e,i)}else(this.prevValue!==this.inputElement.value||h(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e)}onMouseOver(e){const t=D(e.target,"."+vg);this.setHover(t,FO)}setHover(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),_([e],t),t===PO&&e.setAttribute("aria-selected","true"))}setSelection(e,t){this.isValidLI(e)&&(this.checkValue(e.getAttribute("data-value")),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),_([this.selectedElement],w0),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0))}onMouseLeave(){this.removeHover(FO)}scrollHandler(){"timepicker"===this.getModuleName()&&A.isDevice||this.hide()}setMinMax(e,t){h(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),h(this.checkDateValue(t))&&(this.initMax=this.getDateObject("11:59:59 PM"))}validateMinMax(e,t,i){const n=e instanceof Date?e:this.getDateObject(e);return h(this.checkDateValue(n))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,n),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e}valueIsDisable(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;const t=e instanceof Date?this.objToString(e):e;for(let i=0;i<this.disableItemCollection.length;i++)if(t===this.disableItemCollection[i])return!1}return!0}validateState(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;{const t=this.setCurrentDate(this.getDateObject(e)),i=this.setCurrentDate(this.getDateObject(this.initMax)),n=this.setCurrentDate(this.getDateObject(this.initMin));if(h(this.checkDateValue(t))){if(+i<+n||""!==this.inputElement.value)return!1}else if(+t>+i||+t<+n)return!1}}return!0}strictOperation(e,t,i,n){const s=this.createDateObj(this.getFormattedValue(t)),o=this.createDateObj(this.getFormattedValue(e)),l=this.createDateObj(this.getFormattedValue(n));if(this.strictMode){if(+o>+s)return this.disableTimeIcon(),this.initValue=this.getDateObject(s),this.updateInputValue(this.getValue(this.initValue)),this.enableMask&&this.createMask(),this.inputElement.value;if(+o>=+l)return this.getDateObject(o);if(+l>=+s||+o==+s)return this.getDateObject(s)}else if(+o>+s&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))))return i;return i}bindEvents(){C.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),C.add(this.inputElement,"blur",this.inputBlurHandler,this),C.add(this.inputElement,"focus",this.inputFocusHandler,this),C.add(this.inputElement,"change",this.inputChangeHandler,this),C.add(this.inputElement,"input",this.inputEventHandler,this),this.enableMask&&C.add(this.inputElement,"keydown",this.keydownHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&C.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&C.add(this.formElement,"reset",this.formResetHandler,this),A.isDevice||(this.keyConfigure=O(this.keyConfigure,this.keyConfigs),this.inputEvent=new tn(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&C.add(this.inputElement,"mousedown",this.mouseDownHandler,this))}keydownHandler(e){"Delete"===e.code&&this.enableMask&&!this.popupObj&&!this.readonly&&this.notify("keyDownHandler",{module:"MaskedDateTime",e})}formResetHandler(){if(this.enabled&&!this.inputElement.disabled){let e=this.inputElement.getAttribute("value"),t=this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(t=null,e="",this.inputElement.setAttribute("value","")),this.setProperties({value:t},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(this.updateInputValue(e),this.enableMask&&(e||this.updateInputValue(this.maskedDateValue),this.createMask()),this.checkErrorState(e),this.prevValue=this.inputElement.value)}}inputChangeHandler(e){!this.enabled||e.stopPropagation()}inputEventHandler(){this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})}unBindEvents(){this.inputWrapper&&C.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),C.remove(this.inputElement,"blur",this.inputBlurHandler),C.remove(this.inputElement,"focus",this.inputFocusHandler),C.remove(this.inputElement,"change",this.inputChangeHandler),C.remove(this.inputElement,"input",this.inputEventHandler),this.inputEvent&&this.inputEvent.destroy(),C.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!h(this.inputWrapper.clearButton)&&C.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&C.remove(this.formElement,"reset",this.formResetHandler)}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&C.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)}raiseClearedEvent(e){this.trigger("cleared",{event:e})}clearHandler(e){!this.enabled||(e.preventDefault(),h(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}))}clear(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.changeEvent(e)}setZIndex(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())}checkAttributes(e){const t=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"];let i;for(const n of t)if(!h(this.inputElement.getAttribute(n)))switch(n){case"disabled":if(h(this.timeOptions)||void 0===this.timeOptions.enabled||e){const s=!("disabled"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n));this.setProperties({enabled:s},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(n);break;case"readonly":if(h(this.timeOptions)||void 0===this.timeOptions.readonly||e){const s="readonly"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n);this.setProperties({readonly:s},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(n));break;case"step":this.step=parseInt(this.inputElement.getAttribute(n),10);break;case"placeholder":(h(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!e);break;case"min":(h(this.timeOptions)||void 0===this.timeOptions.min||e)&&(i=new Date(this.inputElement.getAttribute(n)),h(this.checkDateValue(i))||this.setProperties({min:i},!e));break;case"max":(h(this.timeOptions)||void 0===this.timeOptions.max||e)&&(i=new Date(this.inputElement.getAttribute(n)),h(this.checkDateValue(i))||this.setProperties({max:i},!e));break;case"value":(h(this.timeOptions)||void 0===this.timeOptions.value||e)&&(i=new Date(this.inputElement.getAttribute(n)),h(this.checkDateValue(i))||(this.initValue=i,this.updateInput(!1,this.initValue),this.setProperties({value:i},!e)))}}setCurrentDate(e){return h(this.checkDateValue(e))?null:new Date(UK,WK,qK,e.getHours(),e.getMinutes(),e.getSeconds())}getTextFormat(){let e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0){const t=this.cldrTimeFormat().split(" ");for(let i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf("h")>=0){e=i;break}}return e}updateValue(e,t){let i;if(this.isNullOrEmpty(e))this.resetState();else if(i=this.checkValue(e),this.strictMode){const n=null===i&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(n),this.enableMask&&(n||this.updateInputValue(this.maskedDateValue),h(i)&&e!=this.maskedDateValue&&this.createMask(),h(i)&&e==this.maskedDateValue&&this.updateInputValue(this.maskedDateValue))}this.checkValueChange(t,"string"!=typeof e)}previousState(e){const t=this.getDateObject(e);for(let i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.prevValue}resetState(){this.removeSelection(),ke.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)}objToString(e){return h(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})}checkValue(e){if(!this.isNullOrEmpty(e)){const t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null}validateValue(e,t){let i;const n=this.validateMinMax(t,this.min,this.max),s=this.createDateObj(n);if(this.getFormattedValue(s)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=h(s)?null:s,i=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=s),this.valueWithMinutes=this.checkDateValue(e),i=this.objToString(this.valueWithMinutes)),!this.strictMode&&h(i)){const o=n.trim().length>0?n:"";this.updateInputValue(o),this.enableMask&&(o||this.updateInputValue(this.maskedDateValue))}else this.updateInputValue(i),this.enableMask&&(""==i&&this.updateInputValue(this.maskedDateValue),h(i)&&t!=this.maskedDateValue&&this.createMask(),h(i)&&t==this.maskedDateValue&&this.updateInputValue(this.maskedDateValue));return i}createMask(){this.notify("createMask",{module:"MaskedDateTime"})}findNextElement(e){const t=this.inputElement.value,i=h(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes);let n=null;const s=this.liCollections.length,o=this.timeCollections;if(h(this.checkDateValue(i))&&h(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){const l=this.validLiElement(0);n=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l}else if("end"===e.action){const l=this.validLiElement(o.length-1,!0);n=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l}else if("down"===e.action)for(let l=0;l<s;l++){if(+i<this.timeCollections[l]){const a=this.validLiElement(l);n=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}if(l===s-1){const a=this.validLiElement(0);n=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}}else for(let l=s-1;l>=0;l--){if(+i>this.timeCollections[l]){const a=this.validLiElement(l,!0);n=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}if(0===l){const a=this.validLiElement(s-1);n=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(h(n)?null:new Date(n))}}selectNextItem(e){const t=this.validLiElement(0,"down"!==e.action);this.activeIndex=t,this.selectedElement=this.liCollections[t],this.elementValue(new Date(this.timeCollections[t]))}elementValue(e){h(this.checkDateValue(e))||this.checkValue(e)}validLiElement(e,t){let i=null;const n=h(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+vg);let s=!0;if(n.length)if(t)for(let o=e;o>=0;o--){if(!n[o].classList.contains(Du)){i=o;break}0===o&&s&&(e=o=n.length,s=!1)}else for(let o=e;o<=n.length-1;o++){if(!n[o].classList.contains(Du)){i=o;break}o===n.length-1&&s&&(e=o=-1,s=!1)}return i}keyHandler(e){if(h(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains(Du))return;const t=this.timeCollections.length;if(h(this.getActiveElement())||0===this.getActiveElement().length)if(this.liCollections.length>0)if(h(this.value)&&h(this.activeIndex)){const i=this.validLiElement(0,"down"!==e.action);this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]))}else this.findNextElement(e);else this.findNextElement(e);else{let i;if(e.keyCode>=37&&e.keyCode<=40){let n=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=n=this.activeIndex===t?0:this.activeIndex,this.activeIndex=n=this.activeIndex<0?t-1:this.activeIndex,this.activeIndex=n=this.validLiElement(this.activeIndex,!(40===e.keyCode||39===e.keyCode)),i=h(this.timeCollections[n])?this.timeCollections[0]:this.timeCollections[n]}else if("home"===e.action){const n=this.validLiElement(0);this.activeIndex=n,i=this.timeCollections[n]}else if("end"===e.action){const n=this.validLiElement(t-1,!0);this.activeIndex=n,i=this.timeCollections[n]}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(i))}this.isNavigate=!0,this.setHover(this.selectedElement,PO),this.setActiveDescendant(),this.selectInputText(),this.isPopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setScrollPosition()}getCultureTimeObject(e,t){return M("main."+t+".dates.calendars.gregorian.timeFormats.short",e)}getCultureDateObject(e,t){return M("main."+t+".dates.calendars.gregorian.dateFormats.short",e)}wireListEvents(){C.add(this.listWrapper,"click",this.onMouseClick,this),A.isDevice||(C.add(this.listWrapper,"mouseover",this.onMouseOver,this),C.add(this.listWrapper,"mouseout",this.onMouseLeave,this))}unWireListEvents(){this.listWrapper&&(C.remove(this.listWrapper,"click",this.onMouseClick),A.isDevice||(C.remove(this.listWrapper,"mouseover",this.onMouseOver),C.remove(this.listWrapper,"mouseout",this.onMouseLeave)))}valueProcess(e,t){const i=h(this.checkDateValue(t))?null:t;+this.prevDate!=+i&&(this.initValue=i,this.changeEvent(e))}changeEvent(e){this.addSelection(),this.updateInput(!0,this.initValue);const t={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!h(e),element:this.element};t.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",t),this.invalidValueString=null,this.checkErrorState(this.value)}updateInput(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,("number"!=typeof t||(this.value&&+new Date(+this.value).setMilliseconds(0))!==+t)&&(this.setProperties({value:t},!0),this.enableMask&&this.createMask()),!this.strictMode&&h(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()}setActiveDescendant(){h(this.selectedElement)?Le(this.inputElement,{"aria-activedescendant":"null"}):Le(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})}removeSelection(){if(this.removeHover(FO),!h(this.popupWrapper)){const e=this.popupWrapper.querySelectorAll("."+w0);e.length&&(T(e,w0),e[0].removeAttribute("aria-selected"))}}removeHover(e){const t=this.getHoverItem(e);t&&t.length&&(T(t,e),e===PO&&t[0].removeAttribute("aria-selected"))}getHoverItem(e){let t;return h(this.popupWrapper)||(t=this.popupWrapper.querySelectorAll("."+e)),t}setActiveClass(){if(!h(this.popupWrapper)){const e=this.popupWrapper.querySelectorAll("."+vg);if(e.length)for(let t=0;t<e.length;t++)if(this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}}addSelection(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),h(this.selectedElement)||(_([this.selectedElement],w0),this.selectedElement.setAttribute("aria-selected","true"))}isValidLI(e){return e&&e.classList.contains(vg)&&!e.classList.contains(Du)}createDateObj(e){let i=this.globalize.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),n=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(i=this.defaultCulture.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),n=isNaN(+new Date(i+" "+e))?null:new Date(new Date(i+" "+e).setMilliseconds(0)),h(n)&&(n=this.timeParse(i,e))):n=this.timeParse(i,e):e instanceof Date&&(n=e),n}timeParse(e,t){let i;return i=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),i=h(i)?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):i,i=h(i)?i:new Date(i.setMilliseconds(0)),i}createListItems(){let e;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});const t=6e4*this.step,i=[];this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0);const n=+this.getDateObject(this.initMax).setMilliseconds(0);for(;n>=e;)this.timeCollections.push(e),i.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=t;this.listTag=Cn.createList(this.createElement,i,{itemCreated:o=>{const l={element:o.item,text:o.text,value:this.getDateObject(o.text),isDisabled:!1};this.trigger("itemRender",l,a=>{a.isDisabled&&a.element.classList.add(Du),a.element.classList.contains(Du)&&this.disableItemCollection.push(a.element.getAttribute("data-value"))})}},!0),Le(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Jt([this.listTag],this.listWrapper)}documentClickHandler(e){const t=e.target;!h(this.popupObj)&&(this.inputWrapper.container.contains(t)||this.popupObj.element&&this.popupObj.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),D(t,'[id="'+this.popupObj.element.id+'"]')||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)?t!==this.inputElement&&(A.isDevice||(this.isPreventBlur=(A.isIE||"edge"===A.info.name)&&document.activeElement===this.inputElement&&t===this.popupWrapper)):this.isPopupOpen()&&(this.hide(),this.focusOut())}setEnableRtl(){ke.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())}setEnable(){ke.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(T([this.inputWrapper.container],Du),Le(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),_([this.inputWrapper.container],Du),Le(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)}getProperty(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)}inputBlurHandler(e){this.enabled&&(this.isPreventBlur&&this.isPopupOpen()?this.inputElement.focus():(this.closePopup(0,e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value==this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&this.updateInputValue(""),T([this.inputWrapper.container],[LO]),this.trigger("blur",{model:this}),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)))}focusOut(){document.activeElement===this.inputElement&&(this.inputElement.blur(),T([this.inputWrapper.container],[LO]),this.trigger("blur",{model:this}))}isPopupOpen(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+oE))}inputFocusHandler(){if(!this.enabled)return;const e={model:this};!this.readonly&&!A.isDevice&&!this.enableMask&&this.selectInputText(),this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.trigger("focus",e),this.clearIconState(),this.openOnFocus&&this.show()}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()}hide(){this.closePopup(100,null),this.clearIconState()}show(e){this.enabled&&this.readonly||!this.enabled||this.popupWrapper||(this.popupCreation(),A.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=oE+" e-time-modal",document.body.className+=" "+YK,document.body.appendChild(this.modal)),A.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:A.isDevice?this.mobileTimePopupWrap:document.body},this.trigger("open",this.openPopupEventArgs,i=>{if(this.openPopupEventArgs=i,this.openPopupEventArgs.cancel||this.inputWrapper.buttons[0].classList.contains(Du))this.popupObj.destroy(),this.popupWrapper=this.listTag=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],this.popupObj=null;else{this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.popupAlignment(this.openPopupEventArgs),this.setScrollPosition(),A.isDevice||this.inputElement.focus();const n={name:"FadeIn",duration:50};this.popupObj.refreshPosition(this.anchor),this.popupObj.show(new _s(n),1e3===this.zIndex?this.element:null),this.setActiveDescendant(),Le(this.inputElement,{"aria-expanded":"true"}),_([this.inputWrapper.container],LO),C.add(document,"mousedown touchstart",this.documentClickHandler,this),this.setOverlayIndex(this.mobileTimePopupWrap,this.popupObj.element,this.modal,A.isDevice)}}))}setOverlayIndex(e,t,i,n){if(n&&!h(t)&&!h(i)&&!h(e)){const s=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(s-1).toString(),e.style.zIndex=s.toString()}}formatValues(e){let t;return"number"==typeof e?t=$e(e):"string"==typeof e&&(t=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:$e(e)),t}popupAlignment(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),(!isNaN(parseFloat(e.popup.position.X))||!isNaN(parseFloat(e.popup.position.Y)))&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),A.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-this.containerStyle.width/2}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-this.containerStyle.height/2}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}}getPersistData(){return this.addOnPersist(["value"])}getModuleName(){return"timepicker"}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"placeholder":ke.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"readonly":ke.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.getProperty(e,i);break;case"showClearButton":ke.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new Nn(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"width":lt(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.setValue(this.value),this.enableMask&&(this.createMask(),this.value||this.updateInputValue(this.maskedDateValue));break;case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.checkValueChange(null,!1),this.isPopupOpen()&&this.setScrollPosition(),this.isAngular&&this.preventChange&&(this.preventChange=!1),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"floatLabelType":this.floatLabelType=e.floatLabelType,ke.removeFloating(this.inputWrapper),ke.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue)):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("")}}checkInValue(e){return e instanceof Date?e.toUTCString():""+e}};Wn([y(null)],Ms.prototype,"width",void 0),Wn([y(null)],Ms.prototype,"cssClass",void 0),Wn([y(!1)],Ms.prototype,"strictMode",void 0),Wn([y(null)],Ms.prototype,"keyConfigs",void 0),Wn([y(null)],Ms.prototype,"format",void 0),Wn([y(!0)],Ms.prototype,"enabled",void 0),Wn([y(!1)],Ms.prototype,"readonly",void 0),Wn([y({})],Ms.prototype,"htmlAttributes",void 0),Wn([y("Never")],Ms.prototype,"floatLabelType",void 0),Wn([y(null)],Ms.prototype,"placeholder",void 0),Wn([y(1e3)],Ms.prototype,"zIndex",void 0),Wn([y(!1)],Ms.prototype,"enablePersistence",void 0),Wn([y(!0)],Ms.prototype,"showClearButton",void 0),Wn([y(30)],Ms.prototype,"step",void 0),Wn([y(null)],Ms.prototype,"scrollTo",void 0),Wn([y(null)],Ms.prototype,"value",void 0),Wn([y(null)],Ms.prototype,"min",void 0),Wn([y(null)],Ms.prototype,"max",void 0),Wn([y(!0)],Ms.prototype,"allowEdit",void 0),Wn([y(!1)],Ms.prototype,"openOnFocus",void 0),Wn([y(!1)],Ms.prototype,"enableMask",void 0),Wn([y({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],Ms.prototype,"maskPlaceholder",void 0),Wn([E()],Ms.prototype,"change",void 0),Wn([E()],Ms.prototype,"created",void 0),Wn([E()],Ms.prototype,"destroyed",void 0),Wn([E()],Ms.prototype,"open",void 0),Wn([E()],Ms.prototype,"itemRender",void 0),Wn([E()],Ms.prototype,"close",void 0),Wn([E()],Ms.prototype,"cleared",void 0),Wn([E()],Ms.prototype,"blur",void 0),Wn([E()],Ms.prototype,"focus",void 0),Ms=Wn([Pi],Ms);var xs=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const $2e=(new Date).getDate(),K2e=(new Date).getMonth(),Y2e=(new Date).getFullYear(),Q2e=(new Date).getHours(),X2e=(new Date).getMinutes(),J2e=(new Date).getSeconds(),Z2e=(new Date).getMilliseconds(),d1="e-datetimepicker",XK="e-datetimepopup-wrapper",JK="e-popup",h1="e-input-focus",eY="e-icon-anim",NO="e-disabled",tY="e-error",Tf="e-active",VO="e-hover",Rf="e-list-item",sY="e-time-overflow";let In=class extends rs{constructor(e,t){super(e,t),this.valueWithMinutes=null,this.scrollInvoked=!1,this.moduleName=this.getModuleName(),this.dateTimeOptions=e}focusHandler(){!this.enabled||_([this.inputWrapper.container],h1)}focusIn(){super.focusIn()}focusOut(){document.activeElement===this.inputElement&&(this.inputElement.blur(),T([this.inputWrapper.container],[h1]))}blurHandler(e){if(!this.enabled)return;if(this.isTimePopupOpen()&&this.isPreventBlur)return void this.inputElement.focus();T([this.inputWrapper.container],h1);const t={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)}destroy(){this.popupObject&&this.popupObject.element.classList.contains(JK)&&(this.popupObject.destroy(),de(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],h(this.rippleFn)||this.rippleFn()),this.inputElement&&(ke.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&de(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),super.destroy()}render(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,super.updateHtmlAttributeToElement(),this.checkAttributes(!1),this.l10n=new is("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),super.render(),this.createInputElement(),super.updateHtmlAttributeToWrapper(),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&ke.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),this.renderComplete()}setValue(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){const e=this.validateMinMaxRange(this.initValue);ke.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else h(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,super.updateInput()}validateMinMaxRange(e){let t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t}checkValidState(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()}checkErrorState(){this.isValidState?T([this.inputWrapper.container],tY):_([this.inputWrapper.container],tY),Le(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})}validateValue(e){let t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t}disablePopupButton(e){e?(_([this.inputWrapper.buttons[0],this.timeIcon],NO),this.hide()):T([this.inputWrapper.buttons[0],this.timeIcon],NO)}getFormattedValue(e){let t;return h(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))}isDateObject(e){return!h(e)&&!isNaN(+e)}createInputElement(){T([this.inputElement],"e-datepicker"),T([this.inputWrapper.container],"e-date-wrapper"),_([this.inputWrapper.container],"e-datetime-wrapper"),_([this.inputElement],d1),this.renderTimeIcon()}renderTimeIcon(){this.timeIcon=ke.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)}bindInputEvents(){C.add(this.timeIcon,"mousedown",this.timeHandler,this),C.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),C.add(this.inputElement,"blur",this.blurHandler,this),C.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=O(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new tn(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})}unBindInputEvents(){C.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),C.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(C.remove(this.inputElement,"blur",this.blurHandler),C.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()}cldrTimeFormat(){let e;return e=this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?M("timeFormats.short",af()):this.getCultureTimeObject(xl,""+this.locale):this.timeFormat,e}cldrDateTimeFormat(){let e;const i=new Nn(this.locale).getDatePattern({skeleton:"yMd"});return e=this.isNullOrEmpty(this.formatString)?i+" "+this.getCldrFormat("time"):this.formatString,e}getCldrFormat(e){let t;return t="en"===this.locale||"en-US"===this.locale?M("timeFormats.short",af()):this.getCultureTimeObject(xl,""+this.locale),t}isNullOrEmpty(e){return!!(h(e)||"string"==typeof e&&""===e.trim())}getCultureTimeObject(e,t){return M("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.timeFormats.short":"main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)}timeHandler(e){!this.enabled||(this.isIconClicked=!0,A.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&super.hide(e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),_([this.inputWrapper.container],[h1]))),this.isIconClicked=!1)}dateHandler(e){!this.enabled||(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),h(this.popupWrapper)||this.popupCreation("date",e)))}show(e,t){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(t),super.show(),this.popupCreation("date",t)):(this.isDatePopupOpen()&&this.hide(t),this.popupCreation("time",t)))}toggle(e){this.isDatePopupOpen()?(super.hide(e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),super.show(null,e),this.popupCreation("date",null)):this.show(null,e)}listCreation(){let e;e=this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"datetime"}:{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});const t=h(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=t,this.listWrapper=Xe("div",{className:"e-content",attrs:{tabindex:"0"}});const i=this.startTime(t),n=this.endTime(t),s=BO.createListItems(this.createElement,i,n,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=s.collection,this.listTag=s.list,Le(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Jt([s.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=Ys(this.listWrapper,{duration:300,selector:"."+Rf}),this.liCollections=this.listWrapper.querySelectorAll("."+Rf)}popupCreation(e,t){A.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(_([this.popupWrapper],XK),Le(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=Xe("div",{className:d1+" "+JK,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),h(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!h(this.step)&&this.step>0&&(this.listCreation(),Jt([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),this.popupObject.refreshPosition(this.inputElement))}openPopup(e){this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.trigger("open",this.preventArgs,i=>{if(this.preventArgs=i,!this.preventArgs.cancel&&!this.readonly){this.popupObject.show(new _s({name:"FadeIn",duration:100}),1e3===this.zIndex?this.element:null),_([this.inputWrapper.container],[eY]),Le(this.inputElement,{"aria-expanded":"true"}),C.add(document,"mousedown touchstart",this.documentClickHandler,this)}})}documentClickHandler(e){const t=e.target;!h(this.popupObject)&&(this.inputWrapper.container.contains(t)||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),D(t,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))||t===this.inputElement||t===this.timeIcon||t===this.inputWrapper.container?t!==this.inputElement&&(A.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(A.isIE||"edge"===A.info.name)&&t===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())}isTimePopupOpen(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+d1))}isDatePopupOpen(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+XK))}renderPopup(){this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),A.isDevice&&(this.timeModal=Xe("div"),this.timeModal.className=d1+" e-time-modal",document.body.className+=" "+sY,this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new wc(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:A.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:A.isDevice?document.body:this.inputWrapper.container,position:A.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:()=>{this.dateTimeWrapper.style.visibility="visible",_([this.timeIcon],Tf),A.isDevice||(this.timekeyConfigure=O(this.timekeyConfigure,this.keyConfigs),this.inputEvent=new tn(this.inputWrapper.container,{keyAction:this.timeKeyActionHandle.bind(this),keyConfigs:this.timekeyConfigure,eventName:"keydown"}))},close:()=>{T([this.timeIcon],Tf),this.unWireTimeListEvents(),this.inputElement.setAttribute("aria-activedescendant","null"),X(this.popupObject.element),this.popupObject.destroy(),this.dateTimeWrapper.innerHTML="",this.listWrapper=this.dateTimeWrapper=void 0,this.inputEvent&&this.inputEvent.destroy()},targetExitViewport:()=>{A.isDevice||this.hide()}}),this.popupObject.element.style.maxHeight="250px"}setDimension(e){return"number"==typeof e?$e(e):"string"==typeof e?e:"100%"}setPopupWidth(){let e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e}wireTimeListEvents(){C.add(this.listWrapper,"click",this.onMouseClick,this),A.isDevice||(C.add(this.listWrapper,"mouseover",this.onMouseOver,this),C.add(this.listWrapper,"mouseout",this.onMouseLeave,this))}unWireTimeListEvents(){this.listWrapper&&(C.remove(this.listWrapper,"click",this.onMouseClick),C.remove(document,"mousedown touchstart",this.documentClickHandler),A.isDevice||(C.add(this.listWrapper,"mouseover",this.onMouseOver,this),C.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))}onMouseOver(e){const t=D(e.target,"."+Rf);this.setTimeHover(t,VO)}onMouseLeave(){this.removeTimeHover(VO)}setTimeHover(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),_([e],t))}getPopupHeight(){const e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>e?e:t}changeEvent(e){(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(super.changeEvent(e),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))}updateValue(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!h(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.previousDate=this.value)}setTimeScrollPosition(){const e=this.selectedElement;h(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)}findScrollTop(e){const t=this.getPopupHeight(),i=e.nextElementSibling,n=i?i.offsetTop:e.offsetTop,s=e.getBoundingClientRect().height;this.dateTimeWrapper.scrollTop=n+e.offsetTop>t?i?n-(t/2+s/2):n:0}setScrollTo(){let e;const t=this.dateTimeWrapper.querySelectorAll("."+Rf);if(t.length>=0){this.scrollInvoked=!0;const i=this.timeCollections[0],n=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((n-i)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;h(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)}setInputValue(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{const t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));ke.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()}this.updateIconState()}getFullDateTime(){let e=null;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)}createMask(){this.notify("createMask",{module:"MaskedDateTime"})}combineDateTime(e){if(this.isDateObject(e)){const t=this.previousDate.getDate(),i=this.previousDate.getMonth(),n=this.previousDate.getFullYear(),s=e.getHours(),o=e.getMinutes(),l=e.getSeconds();return new Date(n,i,t,s,o,l)}return this.previousDate}onMouseClick(e){const i=this.selectedElement=D(e.target,"."+Rf);i&&i.classList.contains(Rf)&&(this.timeValue=i.getAttribute("data-value"),this.hide(e)),this.setSelection(i,e)}setSelection(e,t){if(this.isValidLI(e)&&!e.classList.contains(Tf)){this.selectedElement=e;const i=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=i,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),_([this.selectedElement],Tf),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}}setTimeActiveClass(){const e=h(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!h(e)){const t=e.querySelectorAll("."+Rf);if(t.length)for(let i=0;i<t.length;i++)if(this.timeCollections[i]===+this.valueWithMinutes){t[i].setAttribute("aria-selected","true"),this.selectedElement=t[i],this.activeIndex=i,this.setTimeActiveDescendant();break}}}setTimeActiveDescendant(){h(this.selectedElement)?Le(this.inputElement,{"aria-activedescendant":"null"}):Le(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})}addTimeSelection(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),h(this.selectedElement)||(_([this.selectedElement],Tf),this.selectedElement.setAttribute("aria-selected","true"))}removeTimeSelection(){if(this.removeTimeHover(VO),!h(this.dateTimeWrapper)){const e=this.dateTimeWrapper.querySelectorAll("."+Tf);e.length&&(T(e,Tf),e[0].removeAttribute("aria-selected"))}}removeTimeHover(e){const t=this.getTimeHoverItem(e);t&&t.length&&T(t,e)}getTimeHoverItem(e){const t=h(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;let i;return h(t)||(i=t.querySelectorAll("."+e)),i}isValidLI(e){return e&&e.classList.contains(Rf)&&!e.classList.contains(NO)}calculateStartEnd(e,t,i){const n=e.getDate(),s=e.getMonth(),o=e.getFullYear(),l=e.getHours(),a=e.getMinutes(),c=e.getSeconds(),d=e.getMilliseconds();return t?"starttime"===i?new Date(o,s,n,0,0,0):new Date(o,s,n,23,59,59):new Date(o,s,n,l,a,c,d)}startTime(e){let t,i;const n=this.min,s=null===e?new Date:e;return+s.getDate()==+n.getDate()&&+s.getMonth()==+n.getMonth()&&+s.getFullYear()==+n.getFullYear()||+new Date(s.getFullYear(),s.getMonth(),s.getDate())<=+new Date(n.getFullYear(),n.getMonth(),n.getDate())?(i=!1,t=this.min):+s<+this.max&&+s>+this.min?(i=!0,t=s):+s>=+this.max&&(i=!0,t=this.max),this.calculateStartEnd(t,i,"starttime")}endTime(e){let t,i;const n=this.max,s=null===e?new Date:e;return+s.getDate()==+n.getDate()&&+s.getMonth()==+n.getMonth()&&+s.getFullYear()==+n.getFullYear()||+new Date(s.getUTCFullYear(),s.getMonth(),s.getDate())>=+new Date(n.getFullYear(),n.getMonth(),n.getDate())?(i=!1,t=this.max):+s<+this.max&&+s>+this.min?(i=!0,t=s):+s<=+this.min&&(i=!0,t=this.min),this.calculateStartEnd(t,i,"endtime")}hide(e){if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};const t=this.preventArgs;h(this.popupObj)?this.trigger("close",t,i=>{this.dateTimeCloseEventCallback(e,i)}):this.dateTimeCloseEventCallback(e,t)}else A.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}dateTimeCloseEventCallback(e,t){this.preventArgs=t,this.preventArgs.cancel||(this.isDatePopupOpen()?super.hide(e):this.isTimePopupOpen()&&(this.closePopup(e),T([document.body],sY),A.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),A.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}closePopup(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new _s({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove(eY),Le(this.inputElement,{"aria-expanded":"false"}),C.remove(document,"mousedown touchstart",this.documentClickHandler))}preRender(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),super.preRender(),T([this.inputElementCopy],[d1])}getProperty(e,t){this.setProperties("min"===t?{min:this.validateValue(e.min)}:{max:this.validateValue(e.max)},!0)}checkAttributes(e){const t=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];let i;for(const n of t)if(!h(this.inputElement.getAttribute(n)))switch(n){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(n));break;case"step":this.step=parseInt(this.inputElement.getAttribute(n),10);break;case"readonly":if(h(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){const s="disabled"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n);this.setProperties({readonly:s},!e)}break;case"placeholder":(h(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!e);break;case"min":(h(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(i=new Date(this.inputElement.getAttribute(n)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({min:i},!e));break;case"disabled":if(h(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){const s=!("disabled"===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n));this.setProperties({enabled:s},!e)}break;case"value":(h(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(i=new Date(this.inputElement.getAttribute(n)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({value:i},!e));break;case"max":(h(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(i=new Date(this.inputElement.getAttribute(n)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({max:i},!e))}}requiredModules(){const e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e}maskedDateModule(){return{args:[this],member:"MaskedDateTime"}}getTimeActiveElement(){return h(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+Tf)}createDateObj(e){return e instanceof Date?e:null}getDateObject(e){if(!this.isNullOrEmpty(e)){const t=this.createDateObj(e),i=this.valueWithMinutes,n=!h(i);if(this.checkDateValue(t)){const s=n?i.getDate():$2e,o=n?i.getMonth():K2e,l=n?i.getFullYear():Y2e,a=n?i.getHours():Q2e,c=n?i.getMinutes():X2e,d=n?i.getSeconds():J2e,u=n?i.getMilliseconds():Z2e;return this.scrollInvoked?(this.scrollInvoked=!1,new Date(l,o,s,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):new Date(l,o,s,a,c,d,u)}}return null}findNextTimeElement(e){const t=this.inputElement.value,i=h(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes);let n=null;const s=this.liCollections.length;if(!h(this.activeIndex)||!h(this.checkDateValue(i))){if("home"===e.action)n=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)n=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(let o=0;o<s;o++)if(+i<this.timeCollections[o]){n=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(let o=s-1;o>=0;o--)if(+i>this.timeCollections[o]){n=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(h(n)?null:new Date(n))}}setTimeValue(e,t){let i,n;const s=this.validateMinMaxRange(t),o=this.createDateObj(s);return this.getFormattedValue(o)!==(h(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=h(o)?null:o,n=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=o),this.valueWithMinutes=this.checkDateValue(e),n=new Date(+this.valueWithMinutes)),i=this.globalize.formatDate(n,"Gregorian"===this.calendarMode?{format:h(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}:{format:h(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&h(n),ke.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),n}timeElementValue(e){if(!h(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){const t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null}timeKeyHandler(e){if(h(this.step)||this.step<=0)return;const t=this.timeCollections.length;if(h(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(h(this.value)&&h(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{let i;if(e.keyCode>=37&&e.keyCode<=40){let n=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=n=this.activeIndex===t?0:this.activeIndex,this.activeIndex=n=this.activeIndex<0?t-1:this.activeIndex,i=h(this.timeCollections[n])?this.timeCollections[0]:this.timeCollections[n]}else"home"===e.action?(this.activeIndex=0,i=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,i=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(i))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),this.isTimePopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setTimeScrollPosition()}timeKeyActionHandle(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),_([this.inputWrapper.container],h1),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}}inputKeyAction(e){"altDownArrow"===e.action&&(this.strictModeUpdate(),this.updateInput(),this.toggle(e))}onPropertyChanged(e,t){for(const i of Object.keys(e)){switch(i){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),ke.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(e,i),this.updateInput();break;case"enableRtl":ke.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":h(t.cssClass)||(t.cssClass=t.cssClass.replace(/\s+/g," ").trim()),h(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),ke.setCssClass(e.cssClass,[this.inputWrapper.container],t.cssClass),this.dateTimeWrapper&&ke.setCssClass(e.cssClass,[this.dateTimeWrapper],t.cssClass);break;case"locale":this.globalize=new Nn(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),ke.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),super.updateInput();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||ke.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":ke.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":ke.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1);break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":ke.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,ke.removeFloating(this.inputWrapper),ke.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),ke.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",ke.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:super.onPropertyChanged(e,t)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}}getModuleName(){return"datetimepicker"}restoreValue(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=h(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)}};function _Ee(r){return"[object String]"===Object.prototype.toString.call(r)?"$s"+r:"$o"+r.toString()}xs([y(null)],In.prototype,"timeFormat",void 0),xs([y(30)],In.prototype,"step",void 0),xs([y(null)],In.prototype,"scrollTo",void 0),xs([y(1e3)],In.prototype,"zIndex",void 0),xs([y(null)],In.prototype,"value",void 0),xs([y(null)],In.prototype,"keyConfigs",void 0),xs([y({})],In.prototype,"htmlAttributes",void 0),xs([y(!1)],In.prototype,"enablePersistence",void 0),xs([y(!0)],In.prototype,"allowEdit",void 0),xs([y(!1)],In.prototype,"isMultiSelection",void 0),xs([y(null)],In.prototype,"values",void 0),xs([y(!0)],In.prototype,"showClearButton",void 0),xs([y(null)],In.prototype,"placeholder",void 0),xs([y(!1)],In.prototype,"strictMode",void 0),xs([y(null)],In.prototype,"serverTimezoneOffset",void 0),xs([y(new Date(1900,0,1))],In.prototype,"min",void 0),xs([y(new Date(2099,11,31))],In.prototype,"max",void 0),xs([y(null)],In.prototype,"firstDayOfWeek",void 0),xs([y("Gregorian")],In.prototype,"calendarMode",void 0),xs([y("Month")],In.prototype,"start",void 0),xs([y("Month")],In.prototype,"depth",void 0),xs([y(!1)],In.prototype,"weekNumber",void 0),xs([y(!0)],In.prototype,"showTodayButton",void 0),xs([y("Short")],In.prototype,"dayHeaderFormat",void 0),xs([y(!1)],In.prototype,"openOnFocus",void 0),xs([y(!1)],In.prototype,"enableMask",void 0),xs([y({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],In.prototype,"maskPlaceholder",void 0),xs([E()],In.prototype,"open",void 0),xs([E()],In.prototype,"close",void 0),xs([E()],In.prototype,"cleared",void 0),xs([E()],In.prototype,"blur",void 0),xs([E()],In.prototype,"focus",void 0),xs([E()],In.prototype,"created",void 0),xs([E()],In.prototype,"destroyed",void 0),In=xs([Pi],In),new Int16Array(286),new Uint8Array(286),new Int16Array(30),new Uint8Array(30);class qr{constructor(e){this.table={},this.nElements=0,this.toStr=e||_Ee}getValue(e){const t=this.table["$"+this.toStr(e)];if(void 0!==t)return t.value}setValue(e,t){let i;const n="$"+this.toStr(e);return this.nElements++,i=void 0,void(this.table[n]={key:e,value:t})}remove(e){const t="$"+this.toStr(e),i=this.table[t];return delete this.table[t],this.nElements--,i.value}keys(){const e=[];let t=Object.keys(this.table);for(let i=0;i<t.length;i++)e.push(this.table[t[i]].key);return e}values(){const e=[];let t=Object.keys(this.table);for(let i=0;i<t.length;i++)e.push(this.table[t[i]].value);return e}containsKey(e){let t=!0;return t=void 0===this.getValue(e),!t}clear(){this.table={},this.nElements=0}size(){return this.nElements}}let tt=(()=>{class r{constructor(){this.forTest="test",this.forTest=r.obj}}return r.obj="obj",r.endObj="endobj",r.r="R",r.whiteSpace=" ",r.slash="/",r.newLine="\r\n",r.stream="stream",r.endStream="endstream",r.xref="xref",r.f="f",r.n="n",r.trailer="trailer",r.startxref="startxref",r.eof="%%EOF",r.header="%PDF-1.5",r.beginText="BT",r.endText="ET",r.beginPath="m",r.appendLineSegment="l",r.stroke="S",r.fill="f",r.fillEvenOdd="f*",r.fillStroke="B",r.fillStrokeEvenOdd="B*",r.appendbeziercurve="c",r.appendRectangle="re",r.saveState="q",r.restoreState="Q",r.paintXObject="Do",r.modifyCtm="cm",r.modifyTM="Tm",r.setLineWidth="w",r.setLineCapStyle="J",r.setLineJoinStyle="j",r.setDashPattern="d",r.setFlatnessTolerance="i",r.closePath="h",r.closeStrokePath="s",r.closeFillStrokePath="b",r.setCharacterSpace="Tc",r.setWordSpace="Tw",r.setHorizontalScaling="Tz",r.setTextLeading="TL",r.setFont="Tf",r.setRenderingMode="Tr",r.setTextRise="Ts",r.setTextScaling="Tz",r.setCoords="Td",r.goToNextLine="T*",r.setText="Tj",r.setTextWithFormatting="TJ",r.setTextOnNewLine="'",r.selectcolorspaceforstroking="CS",r.selectcolorspacefornonstroking="cs",r.setrbgcolorforstroking="RG",r.setrbgcolorfornonstroking="rg",r.setcmykcolorforstroking="K",r.setcmykcolorfornonstroking="k",r.setgraycolorforstroking="G",r.setgraycolorfornonstroking="g",r.clipPath="W",r.clipPathEvenOdd="W*",r.endPath="n",r.setGraphicsState="gs",r.comment="%",r.evenOdd="*",r.setMiterLimit="M",r.setColorAndPattern="scn",r.setColorAndPatternStroking="SCN",r})();class Yt{constructor(e){this.position5=-1,this.value=e}get intValue(){return this.value}set intValue(e){this.value=e}get isInteger(){return this.integer}set isInteger(e){this.integer=e}get status(){return this.status5}set status(e){this.status5=e}get isSaving(){return this.isSaving5}set isSaving(e){this.isSaving5=e}get objectCollectionIndex(){return this.index5}set objectCollectionIndex(e){this.index5=e}get position(){return this.position5}set position(e){this.position5=e}get clonedObject(){return null}save(e){e.write(this.intValue.toString())}clone(e){return new Yt(this.value)}static floatToString(e){let t=e.toFixed(2);return"0.00"===t&&(t=".00"),t}static min(e,t,i){let n=Math.min(e,t);return Math.min(i,n)}}class ls{constructor(e){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,void 0===e)this.internalElements=[];else if(void 0===e||e instanceof ls){let t=e;this.internalElements=[];for(let i=0;i<t.elements.length;i++)this.internalElements.push(t.elements[i])}else{let t=e;for(let i=0;i<t.length;i++){let n=new Yt(t[i]);this.add(n)}}}items(e){return this.internalElements[e]}get count(){return this.internalElements.length}get status(){return this.status9}set status(e){this.status9=e}get isSaving(){return this.isSaving9}set isSaving(e){this.isSaving9=e}get clonedObject(){return this.clonedObject9}get position(){return this.position9}set position(e){this.position9=e}get objectCollectionIndex(){return this.index9}set objectCollectionIndex(e){this.index9=e}get CrossTable(){return this.pdfCrossTable}get elements(){return this.internalElements}add(e){void 0===this.internalElements&&(this.internalElements=[]),this.internalElements.push(e),this.markedChange()}markedChange(){this.bChanged=!0}contains(e){for(let i=0;i<this.internalElements.length;i++){let n=this.internalElements[i],s=e;if(null!=n&&void 0!==n&&null!=s&&void 0!==s&&n.value===s.value)return!0}return!1}getItems(e){return this.internalElements[e]}save(e){e.write(this.startMark);for(let t=0,i=this.count;t<i;t++)this.getItems(t).save(e),t+1!==i&&e.write(tt.whiteSpace);e.write(this.endMark)}clone(e){this.clonedObject9=null;let t=new ls;for(let i=0;i<this.internalElements.length;i++)t.add(this.internalElements[i].clone(e));return t.pdfCrossTable=e,this.clonedObject9=t,t}static fromRectangle(e){return new ls([e.x,e.y,e.width,e.height])}insert(e,t){if(e<this.internalElements.length&&e>0){let i=[];for(let n=0;n<e;n++)i.push(this.internalElements[n]);i.push(t);for(let n=e;n<this.internalElements.length;n++)i.push(this.internalElements[n]);this.internalElements=i}else this.internalElements.push(t);this.markChanged()}indexOf(e){return this.internalElements.indexOf(e)}remove(e){let t=this.internalElements.indexOf(e);this.internalElements[t]=null,this.markChanged()}removeAt(e){if(this.internalElements.length>e){let t=[];for(let i=0;i<e;i++)t.push(this.internalElements[i]);for(let i=e+1;i<this.internalElements.length;i++)t.push(this.internalElements[i]);this.internalElements=t}this.markChanged()}clear(){this.internalElements=[],this.markChanged()}markChanged(){this.bChanged=!0}}var v1;!function(r){let e;var i;let t;(i=e=r.ForceEncoding||(r.ForceEncoding={}))[i.None=0]="None",i[i.Ascii=1]="Ascii",i[i.Unicode=2]="Unicode",function(i){i[i.StringValue=0]="StringValue",i[i.ByteBuffer=1]="ByteBuffer"}(t||(t={}))}(v1||(v1={}));var Ha=(()=>{return(r=Ha||(Ha={}))[r.Top=0]="Top",r[r.Middle=1]="Middle",r[r.Bottom=2]="Bottom",Ha;var r})(),Dn=(()=>{return(r=Dn||(Dn={}))[r.Rgb=0]="Rgb",r[r.Cmyk=1]="Cmyk",r[r.GrayScale=2]="GrayScale",r[r.Indexed=3]="Indexed",Dn;var r})();class ee{constructor(e,t,i,n){void 0===e?void 0!==t&&void 0!==i&&void 0!==n?this.assignRGB(t,i,n):this.filled=!1:e instanceof ee?(this.redColor=e.r,this.greenColor=e.g,this.blueColor=e.b,this.grayColor=e.gray,this.alpha=e.alpha,this.filled=0!==this.alpha):"number"==typeof e&&void 0===t&&void 0===i&&void 0===n?(e<0&&(e=0),e>1&&(e=1),this.redColor=e*ee.maxColourChannelValue,this.greenColor=e*ee.maxColourChannelValue,this.blueColor=e*ee.maxColourChannelValue,this.cyanColor=e,this.magentaColor=e,this.yellowColor=e,this.blackColor=e,this.grayColor=e,this.alpha=ee.maxColourChannelValue,this.filled=!0):void 0===n?this.assignRGB(e,t,i):this.assignRGB(t,i,n,e)}assignRGB(e,t,i,n){void 0===e||void 0===t||void 0===i?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=e,this.greenColor=t,this.blueColor=i,this.alpha=void 0===n?ee.maxColourChannelValue:n,this.filled=!0,this.assignCMYK(e,t,i))}assignCMYK(e,t,i){let n=e/ee.maxColourChannelValue,s=t/ee.maxColourChannelValue,o=i/ee.maxColourChannelValue,l=Yt.min(1-n,1-s,1-o),a=1===l?0:(1-n-l)/(1-l),c=1===l?0:(1-s-l)/(1-l),d=1===l?0:(1-o-l)/(1-l);this.blackColor=l,this.cyanColor=a,this.magentaColor=c,this.yellowColor=d}get r(){return this.redColor}set r(e){this.redColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get red(){return this.r/ee.maxColourChannelValue}get b(){return this.blueColor}set b(e){this.blueColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get blue(){return this.b/ee.maxColourChannelValue}get c(){return this.cyanColor}set c(e){this.cyanColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0}get k(){return this.blackColor}set k(e){this.blackColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0}get m(){return this.magentaColor}set m(e){this.magentaColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0}get y(){return this.yellowColor}set y(e){this.yellowColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0}get g(){return this.greenColor}set g(e){this.greenColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get green(){return this.g/ee.maxColourChannelValue}get gray(){return(this.redColor+this.greenColor+this.blueColor)/(3*ee.maxColourChannelValue)}set gray(e){this.grayColor=e<0?0:e>1?1:e,this.r=this.grayColor*ee.maxColourChannelValue,this.g=this.grayColor*ee.maxColourChannelValue,this.b=this.grayColor*ee.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get isEmpty(){return!this.filled}get a(){return this.alpha}set a(e){this.alpha=e<0?0:e,this.filled=!0}toString(e,t){if(this.isEmpty)return"";let i="";switch(e){case Dn.Rgb:i=this.rgbToString(t);break;case Dn.GrayScale:i=this.grayScaleToString(t);break;case Dn.Cmyk:i=this.cmykToString(t)}return i}grayScaleToString(e){let t=this.gray,i="",n=null;return n=e?ee.grayStringsSroke.containsKey(t)?ee.grayStringsSroke.getValue(t):null:ee.grayStringsFill.containsKey(t)?ee.grayStringsFill.getValue(t):null,null==n?e&&(i=t.toString()+" G",ee.grayStringsSroke.setValue(t,i)):i=n.toString(),i+tt.newLine}rgbToString(e){let t=this.r,i=this.g,n=this.b,s=(t<<16)+(i<<8)+n;e&&(s+=1<<24);let o="",l=null;if(ee.rgbStrings.containsKey(s)&&(l=ee.rgbStrings.getValue(s)),null==l){let a=t/ee.maxColourChannelValue,c=i/ee.maxColourChannelValue,d=n/ee.maxColourChannelValue;o=e?a.toString()+" "+c.toString()+" "+d.toString()+" RG":a.toString()+" "+c.toString()+" "+d.toString()+" rg",ee.rgbStrings.setValue(s,o)}else o=l.toString();return o+tt.newLine}cmykToString(e){let i=this.m,n=this.y,s=this.b,o="";return o=this.c.toString()+" "+i.toString()+" "+n.toString()+" "+s.toString()+" K",o+tt.newLine}toArray(e){let t=new ls;return e===Dn.Rgb&&(t.add(new Yt(this.red)),t.add(new Yt(this.green)),t.add(new Yt(this.blue))),t}}ee.rgbStrings=new qr,ee.grayStringsSroke=new qr,ee.grayStringsFill=new qr,ee.maxColourChannelValue=255;class at{constructor(e,t){void 0===e?(this.x=0,this.y=0):(this.x=null!==e?e:0,this.y=null!==t?t:0)}}class je{constructor(e,t){void 0===t?(this.height=0,this.width=0):(this.height=null!==t?t:0,this.width=null!==e?e:0)}}class xt{constructor(e,t,i,n){if(typeof e==typeof e&&void 0===e)this.x=0,this.y=0,this.height=0,this.width=0;else if(e instanceof at&&t instanceof je&&void 0===i){let s=e;this.x=s.x,this.y=s.y;let o=t;this.height=o.height,this.width=o.width}else{let o=t,l=i,a=n;this.x=e,this.y=o,this.height=a,this.width=l}}}var bi=(()=>{return(r=bi||(bi={}))[r.Regular=0]="Regular",r[r.Bold=1]="Bold",r[r.Italic=2]="Italic",r[r.Underline=4]="Underline",r[r.Strikeout=8]="Strikeout",bi;var r})(),Eu=(()=>{return(r=Eu||(Eu={}))[r.None=0]="None",r[r.Word=1]="Word",r[r.WordOnly=2]="WordOnly",r[r.Character=3]="Character",Eu;var r})(),xg=(()=>{return(r=xg||(xg={}))[r.None=0]="None",r[r.SuperScript=1]="SuperScript",r[r.SubScript=2]="SubScript",xg;var r})();class El{constructor(e,t){this.scalingFactor=100,this.wordWrapType=Eu.Word,this.internalLineLimit=!0,this.wordWrapType=Eu.Word,void 0!==e&&"string"!=typeof e&&(this.textAlignment=e),void 0!==t&&(this.verticalAlignment=t)}get alignment(){return this.textAlignment}set alignment(e){this.textAlignment=e}get textDirection(){return this.direction}set textDirection(e){this.direction=e}get lineAlignment(){return void 0===this.verticalAlignment||null==this.verticalAlignment?Ha.Top:this.verticalAlignment}set lineAlignment(e){this.verticalAlignment=e}get rightToLeft(){return void 0!==this.isRightToLeft&&null!=this.isRightToLeft&&this.isRightToLeft}set rightToLeft(e){this.isRightToLeft=e}get characterSpacing(){return void 0===this.internalCharacterSpacing||null==this.internalCharacterSpacing?0:this.internalCharacterSpacing}set characterSpacing(e){this.internalCharacterSpacing=e}get wordSpacing(){return void 0===this.internalWordSpacing||null==this.internalWordSpacing?0:this.internalWordSpacing}set wordSpacing(e){this.internalWordSpacing=e}get lineSpacing(){return void 0===this.leading||null==this.leading?0:this.leading}set lineSpacing(e){this.leading=e}get clipPath(){return void 0!==this.clip&&null!=this.clip&&this.clip}set clipPath(e){this.clip=e}get subSuperScript(){return void 0===this.pdfSubSuperScript||null==this.pdfSubSuperScript?xg.None:this.pdfSubSuperScript}set subSuperScript(e){this.pdfSubSuperScript=e}get paragraphIndent(){return void 0===this.internalParagraphIndent||null==this.internalParagraphIndent?0:this.internalParagraphIndent}set paragraphIndent(e){this.internalParagraphIndent=e,this.firstLineIndent=e}get lineLimit(){return this.internalLineLimit}set lineLimit(e){this.internalLineLimit=e}get measureTrailingSpaces(){return void 0!==this.trailingSpaces&&null!=this.trailingSpaces&&this.trailingSpaces}set measureTrailingSpaces(e){this.trailingSpaces=e}get noClip(){return void 0!==this.isNoClip&&null!=this.isNoClip&&this.isNoClip}set noClip(e){this.isNoClip=e}get wordWrap(){return this.wordWrapType}set wordWrap(e){this.wordWrapType=e}get horizontalScalingFactor(){return this.scalingFactor}set horizontalScalingFactor(e){if(e<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=e}get firstLineIndent(){return void 0===this.initialLineIndent||null==this.initialLineIndent?0:this.initialLineIndent}set firstLineIndent(e){this.initialLineIndent=e}clone(){return this}}class Tl{constructor(e){if(this.currentPosition=0,null==e)throw new Error("ArgumentNullException:text");this.text=e}get length(){return this.text.length}get end(){return this.currentPosition===this.text.length}get position(){return this.currentPosition}set position(e){this.currentPosition=e}static getCharsCount(e,t){if("string"==typeof t){if(null==e)throw new Error("ArgumentNullException:wholeText");let i=0,n=0;for(;n=e.indexOf(t,n),-1!==n;)i++,n++;return i}{if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:symbols");let i=0;for(let n=0,s=e.length;n<s;n++)this.contains(t,e[n])&&i++;return i}}readLine(){let e=this.currentPosition;for(;e<this.length;){let t=this.text[e];switch(t){case"\r":case"\n":{let i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i}}e++}if(e>this.currentPosition){let t=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,t}return null}peekLine(){let e=this.currentPosition,t=this.readLine();return this.currentPosition=e,t}readWord(){let e=this.currentPosition;for(;e<this.length;){let t=this.text[e];switch(t){case"\r":case"\n":let i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i;case" ":case"\t":{e===this.currentPosition&&e++;let n=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,n}}e++}if(e>this.currentPosition){let t=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,t}return null}peekWord(){let e=this.currentPosition,t=this.readWord();return this.currentPosition=e,t}read(e){if(void 0===e){let t="0";return this.end||(t=this.text[this.currentPosition],this.currentPosition++),t}{let t=0,i="";for(;!this.end&&t<e;)i+=this.read(),t++;return i}}peek(){let e="0";return this.end||(e=this.text[this.currentPosition]),e}close(){this.text=null}readToEnd(){let e;return e=0===this.currentPosition?this.text:this.text.substr(this.currentPosition,this.length-this.currentPosition),this.currentPosition=this.length,e}static contains(e,t){let i=!1;for(let n=0;n<e.length;n++)if(e[n]===t){i=!0;break}return i}}Tl.whiteSpace=" ",Tl.tab="\t",Tl.spaces=[Tl.whiteSpace,Tl.tab],Tl.whiteSpacePattern="^[ \t]+$";class Cg{constructor(){this.isOverloadWithPosition=!1}layout(e,t,i,n,s,o,l){if(n instanceof xt){this.initialize(e,t,i,n,s),this.isOverloadWithPosition=o,this.clientSize=l;let a=this.doLayout();return this.clear(),a}{this.initialize(e,t,i,n),this.isOverloadWithPosition=s,this.clientSize=o;let a=this.doLayout();return this.clear(),a}}initialize(e,t,i,n,s){if("number"==typeof s){if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:font");this.text=e,this.font=t,this.format=i,this.size=new je(n.width,n.height),this.rectangle=n,this.pageHeight=s,this.reader=new Tl(e)}else this.initialize(e,t,i,new xt(new at(0,0),n),0)}clear(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null}doLayout(){let e=new qO,t=new qO,i=[],n=this.reader.peekLine(),s=this.getLineIndent(!0);for(;null!=n;){if(t=this.layoutLine(n,s),null!==t||void 0!==t){let o=0,l=this.copyToResult(e,t,i,o);if(o=l.numInserted,!l.success){this.reader.read(o);break}}this.reader.readLine(),n=this.reader.peekLine(),s=this.getLineIndent(!1)}return this.finalizeResult(e,i),e}getLineIndent(e){let t=0;return null!=this.format&&(t=e?this.format.firstLineIndent:this.format.paragraphIndent,t=this.size.width>0?Math.min(this.size.width,t):t),t}getLineHeight(){let e=this.font.height;return null!=this.format&&0!==this.format.lineSpacing&&(e=this.format.lineSpacing+this.font.height),e}getLineWidth(e){return this.font.getLineWidth(e,this.format)}layoutLine(e,t){let i=new qO;i.layoutLineHeight=this.getLineHeight();let n=[],s=this.size.width,o=this.getLineWidth(e)+t,l=Ld.FirstParagraphLine,a=!0;if(s<=0||Math.round(o)<=Math.round(s))this.addToLineResult(i,n,e,o,Ld.NewLineBreak|l);else{let c="",d="";o=t;let u=t,p=new Tl(e),g=p.peekWord();for(g.length!==p.length&&" "===g&&(d+=g,c+=g,p.position+=1,g=p.peekWord());null!=g;){d+=g;let f=this.getLineWidth(d.toString())+u;if(" "===d.toString()&&(d="",f=0),f>s){if(this.getWrapType()===Eu.None)break;if(d.length===g.length){if(this.getWrapType()===Eu.WordOnly){i.textRemainder=e.substring(p.position);break}if(1===d.length){c+=g;break}a=!1,d="",g=p.peek().toString();continue}if(this.getLineWidth(g.toString())>s?this.format.wordWrap=Eu.Character:null!=this.format&&(this.format.wordWrap=Eu.Word),this.getWrapType()===Eu.Character&&a)a=!1,d="",d+=c.toString(),g=p.peek().toString();else{let m=c.toString();" "!==m&&this.addToLineResult(i,n,m,o,Ld.LayoutBreak|l),this.isOverloadWithPosition&&(s=this.clientSize.width),d="",c="",o=0,u=0,f=0,l=Ld.None,g=a?g:p.peekWord(),a=!0}}else c+=g,o=f,a?(p.readWord(),g=p.peekWord()):(p.read(),g=p.peek().toString())}if(c.length>0){let f=c.toString();this.addToLineResult(i,n,f,o,Ld.NewLineBreak|Ld.LastParagraphLine)}p.close()}i.layoutLines=[];for(let c=0;c<n.length;c++)i.layoutLines.push(n[c]);return n=[],i}addToLineResult(e,t,i,n,s){let o=new PEe;o.text=i,o.width=n,o.lineType=s,t.push(o);let l=e.actualSize;l.height+=this.getLineHeight(),l.width=Math.max(l.width,n),e.size=l}copyToResult(e,t,i,n){let s=!0,o=null!=this.format&&!this.format.lineLimit,l=e.actualSize.height,a=this.size.height;if(this.pageHeight>0&&a+this.rectangle.y>this.pageHeight&&(a=this.rectangle.y-this.pageHeight,a=Math.max(a,-a)),n=0,null!=t.lines)for(let c=0,d=t.lines.length;c<d;c++){let u=l+t.lineHeight;if(!(u<=a||a<=0||o)){s=!1;break}{let p=t.lines[c];n+=p.text.length,p=this.trimLine(p,0===i.length),i.push(p);let g=e.actualSize;g.width=Math.max(g.width,p.width),e.size=g,l=u}}if(l!=e.size.height){let c=e.actualSize;c.height=l,e.size=c}return{success:s,numInserted:n}}finalizeResult(e,t){e.layoutLines=[];for(let i=0;i<t.length;i++)e.layoutLines.push(t[i]);e.layoutLineHeight=this.getLineHeight(),this.reader.end||(e.textRemainder=this.reader.readToEnd()),t=[]}trimLine(e,t){let i=e.text,n=e.width;return i=i.trim(),i.length!==e.text.length&&(n=this.getLineWidth(i),(e.lineType&Ld.FirstParagraphLine)>0&&(n+=this.getLineIndent(t))),e.text=i,e.width=n,e}getWrapType(){return null!=this.format?this.format.wordWrap:Eu.Word}}class qO{get remainder(){return this.textRemainder}get actualSize(){return void 0===this.size&&(this.size=new je(0,0)),this.size}get lines(){return this.layoutLines}get lineHeight(){return this.layoutLineHeight}get empty(){return null==this.layoutLines||0===this.layoutLines.length}get lineCount(){return this.empty?0:this.layoutLines.length}}class PEe{get lineType(){return this.type}set lineType(e){this.type=e}get text(){return this.content}set text(e){this.content=e}get width(){return this.lineWidth}set width(e){this.lineWidth=e}}var Ld=(()=>{return(r=Ld||(Ld={}))[r.None=0]="None",r[r.NewLineBreak=1]="NewLineBreak",r[r.LayoutBreak=2]="LayoutBreak",r[r.FirstParagraphLine=4]="FirstParagraphLine",r[r.LastParagraphLine=8]="LastParagraphLine",Ld;var r})();class kc{constructor(e,t){this.fontStyle=bi.Regular,"number"==typeof e&&void 0===t?this.fontSize=e:(this.fontSize=e,this.setStyle(t))}get name(){return this.metrics.name}get size(){return this.fontSize}get height(){return this.metrics.getHeight(null)}get style(){return this.fontStyle}set style(e){this.fontStyle=e}get bold(){return(this.style&bi.Bold)>0}get italic(){return(this.style&bi.Italic)>0}get strikeout(){return(this.style&bi.Strikeout)>0}get underline(){return(this.style&bi.Underline)>0}get metrics(){return this.fontMetrics}set metrics(e){this.fontMetrics=e}get element(){return this.pdfFontInternals}measureString(e,t,i,n,s){if("string"==typeof e&&void 0===t)return this.measureString(e,null);if("string"==typeof e&&(t instanceof El||null==t)&&void 0===i&&void 0===n)return this.measureString(e,t,0,0);if("string"==typeof e&&(t instanceof El||null==t)&&"number"==typeof i&&"number"==typeof n)return this.measureString(e,0,t,i,n);if("string"==typeof e&&"number"==typeof t&&(i instanceof El||null==i)&&"number"==typeof n&&"number"==typeof s){let o=new je(t,0);return this.measureString(e,o,i,n,s)}{if(null==e)throw Error('ArgumentNullException("text")');let o=t,l=i,c=(new Cg).layout(e,this,l,o,!1,new je(0,0));return n=e.length,s=c.empty?0:c.lines.length,c.actualSize}}equalsTo(e){return this.equalsToFont(e)}getInternals(){return this.pdfFontInternals}setInternals(e){if(null==e)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=e}setStyle(e){this.fontStyle=e}applyFormatSettings(e,t,i){let n=i;return null!=t&&i>0&&(0!==t.characterSpacing&&(n+=(e.length-1)*t.characterSpacing),0!==t.wordSpacing)&&(n+=Tl.getCharsCount(e,Tl.spaces)*t.wordSpacing),n}}kc.charSizeMultiplier=.001,kc.syncObject=new Object;class Qs{constructor(){}}Qs.letter=new je(612,792),Qs.note=new je(540,720),Qs.legal=new je(612,1008),Qs.a0=new je(2380,3368),Qs.a1=new je(1684,2380),Qs.a2=new je(1190,1684),Qs.a3=new je(842,1190),Qs.a4=new je(595,842),Qs.a5=new je(421,595),Qs.a6=new je(297,421),Qs.a7=new je(210,297),Qs.a8=new je(148,210),Qs.a9=new je(105,148),Qs.a10=new je(74,105),Qs.b0=new je(2836,4008),Qs.b1=new je(2004,2836),Qs.b2=new je(1418,2004),Qs.b3=new je(1002,1418),Qs.b4=new je(709,1002),Qs.b5=new je(501,709),Qs.archE=new je(2592,3456),Qs.archD=new je(1728,2592),Qs.archC=new je(1296,1728),Qs.archB=new je(864,1296),Qs.archA=new je(648,864),Qs.flsa=new je(612,936),Qs.halfLetter=new je(396,612),Qs.letter11x17=new je(792,1224),Qs.ledger=new je(1224,792);Math;new qr;class E0{constructor(e){this.intl=new Nn,h(e)||(this.intl.culture=e)}getFormatFunction(e){return e.type?this.intl.getDateFormat(e):this.intl.getNumberFormat(e)}getParserFunction(e){return e.type?this.intl.getDateParser(e):this.intl.getNumberParser(e)}fromView(e,t,i){return"date"!==i&&"datetime"!==i&&"number"!==i||h(t)?e:t(e)}toView(e,t){let i=e;return!h(t)&&!h(e)&&(i=t(e)),i}setCulture(e){h(e)||rq(e)}}class Fc{constructor(e,t){this.disableHtmlEncode=!0,this.allowSorting=!0,this.allowResizing=!0,this.allowFiltering=!0,this.allowGrouping=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.enableGroupByFormat=!1,this.allowEditing=!0,this.filter={},this.showInColumnChooser=!0,this.edit={},this.allowSearching=!0,this.autoFit=!1,this.sortDirection="Descending",this.getEditTemplate=()=>this.editTemplateFn,this.getFilterTemplate=()=>this.filterTemplateFn,Nr(this,e),this.parent=t,"none"===this.type?this.type=null:this.type&&(this.type="string"==typeof this.type?this.type.toLowerCase():void 0),this.editType&&(this.editType=this.editType.toLowerCase()),h(this.uid)&&(this.uid=Ca("grid-column"));const i=new E0;if(e.format&&(e.format.skeleton||e.format.format&&"string"==typeof e.format.format)&&(this.setFormatter(i.getFormatFunction(O({},e.format))),this.setParser(i.getParserFunction(e.format))),this.toJSON=()=>{const n={},s=["filter","dataSource","headerText","template","headerTemplate","edit","editTemplate","filterTemplate","commandsTemplate","parent"],o=Object.keys(this);for(let l=0;l<o.length;l++)if("columns"===o[l]){n[o[l]]=[];for(let a=0;a<this[o[l]].length;a++)n[o[l]].push(this[o[l]][a].toJSON())}else s.indexOf(o[l])<0&&(n[o[l]]=this[o[l]]);return n},this.field||(this.allowFiltering=!1,this.allowGrouping=!1,this.allowSorting=!1,this.columns&&(this.allowResizing=this.columns.some(n=>n.allowResizing))),this.commands&&!this.textAlign&&(this.textAlign="Right"),(this.template||this.commandsTemplate)&&(this.templateFn=Jl(this.template||this.commandsTemplate)),this.headerTemplate&&(this.headerTemplateFn=Jl(this.headerTemplate)),!h(this.filter)&&this.filter.itemTemplate&&(this.fltrTemplateFn=Jl(this.filter.itemTemplate)),this.editTemplate&&(this.editTemplateFn=Jl(this.editTemplate)),this.filterTemplate&&(this.filterTemplateFn=Jl(this.filterTemplate)),this.isForeignColumn()&&(h(this.editType)||"dropdownedit"===this.editType||"defaultedit"===this.editType)&&(this.editType="dropdownedit",this.edit.params&&this.edit.params.dataSource&&(this.edit.params.ddEditedData=!0),this.edit.params=O({dataSource:this.dataSource,query:new Ze,fields:{value:this.foreignKeyField||this.field,text:this.foreignKeyValue}},this.edit.params)),this.sortComparer){let n=this.sortComparer;this.sortComparer=(s,o,l,a)=>{if("string"==typeof n&&(n=Mt(n,window)),"Descending"===this.sortDirection){const c=s;s=o,o=c;const d=l;l=a,a=d}return n(s,o,l,a)}}!this.sortComparer&&this.isForeignColumn()&&(this.sortComparer=(n,s)=>(n=Mt(this.foreignKeyValue,Wf(this,{},n)[0]),s=Mt(this.foreignKeyValue,Wf(this,{},s)[0]),"Descending"===this.sortDirection?Ie.fnDescending(n,s):Ie.fnAscending(n,s)))}getSortDirection(){return this.sortDirection}setSortDirection(e){this.sortDirection=e}getFreezeTableName(){return this.freezeTable}setProperties(e){const t=Object.keys(e);for(let i=0;i<t.length;i++)this[t[i]]=e[t[i]],this.parent&&this.parent.isReact&&("template"===t[i]?this.parent.refreshReactColumnTemplateByUid(this.uid):"headerTemplate"===t[i]&&(this.headerTemplateFn=Jl(e[t[i]]),this.parent.refreshReactHeaderTemplateByUid(this.uid)))}isForeignColumn(){return!(!this.dataSource||!this.foreignKeyValue)}getFormatter(){return this.formatFn}setFormatter(e){this.formatFn=e}getParser(){return this.parserFn}setParser(e){this.parserFn=e}getColumnTemplate(){return this.templateFn}getHeaderTemplate(){return this.headerTemplateFn}getFilterItemTemplate(){return this.fltrTemplateFn}getDomSetter(){return this.disableHtmlEncode?"textContent":"innerHTML"}}const sQ="rowDataBound",ZO="queryCellInfo",rQ="headerCellInfo",Pn="actionBegin",yi="actionComplete",Ix="actionFailure",za="dataBound",e5="rowSelecting",Dx="rowSelected",oQ="rowDeselecting",wE="rowDeselected",A1="cellSelecting",bE="cellSelected",lQ="cellDeselecting",aQ="cellDeselected",t5="columnSelecting",i5="columnSelected",cQ="beforePrint",dQ="printComplete",R0="batchAdd",Rx="batchCancel",_E="batchDelete",SE="beforeDataBound",hQ="beforeOpenAdaptiveDialog",pQ="filterchoicerequest",gQ="filterafteropen",fQ="filterbeforeopen",Au="initial-load",ol="initial-end",Od="data-ready",Is="content-ready",as="ui-update",Mh="on-empty",ll="inbound-model-changed",fo="model-changed",IE="colgroup-refresh",io="header-refreshed",vQ="filtering-complete",yQ="searching-complete",Nf="group-aggregates",Ig="refresh-footer-rendered",kx="beforecellfocused",DE="cellfocused",lr="key-pressed",kl="click",Ri="destroy",Bd="column-visible-changed",M1="column-width-changed",Ax="column-position-changed",l5="rows-added",EE="rows-removed",F1="datasource-modified",TE="refresh-virtual-block",P1="dblclick",Dg="toolbar-refresh",SQ="bulk-save",k0="auto-col",A0="tooltip-destroy",L1="update-data",Pc="prevent-batch",RE="dialog-destroy",DQ="crud-Action",EQ="add-delete-Action",d5="destroy-form",h5="double-tap",Nd="freezerender",u5="filterOpen",O1="filterDialogCreated",dd="filter-menu-close",kE="getForeignKeyData",Fx="generateQuery",kQ="showEmptyGrid",AQ="foreignKeyData",B1="dataStateChange",MQ="dataSourceChanged",FQ="beforeFragAppend",N1="frozenHeight",f5="textWrapRefresh",m5="recordAdded",AE="cancel-Begin",ME="editNextValCell",v5="hierarchyprint",V1="partial-refresh",OQ="select-virtual-Row",x5="columns-prepared",C5="cbox-filter-begin",Px="cbox-filter-complete",H1="filter-Prevent",M0="restore-Focus",NQ="detail-indentcell-info",VQ="virtaul-cell-focus",FE="virtual-scroll-edit-action-begin",z1="virtual-scroll-edit-success",HQ="virtual-scroll-edit-cancel",zQ="virtual-scroll-edit",PE="refresh-virtual-cache",LE="edit-reset",OE="virtual-scroll-add-action-begin",Eg="get-virtual-data",BE="infinite-scroll-handler",NE="infinite-edit-handler",T5="close-filter-dialog",k5="group-collapse",j1="refreshResizeHandlers",A5="set-freeze-selection",M5="before-refresh-on-data-change",F5="refresh-virtual-frozenrows",VE="filter-dialog-close",L5="refresh-cutsom-filter-ok-button",KQ="refresh-cutsom-filter-clear-button",O5="render-responsive-cmenu",YQ="filter-cmenu-select",QQ="custom-filter-close",G1="set-fullscreen-dialog",B5="row-mode-change",zE="enter-key-handler",N5="refresh-virtual-max-page",jE="set-virtual-page-query",XQ="pager-refresh",JQ="close-edit",ZQ="reset-virtual-focus",eX="refresh-virtual-editform-cells",tX="scroll-to-edit",GE="create-virtual-validation-form",H5="validate-virtual-form",G5="refresh-infinite-persist-selection",qE="after-filter-column-menu-close";var Ct=(()=>{return(r=Ct||(Ct={}))[r.Data=0]="Data",r[r.Header=1]="Header",r[r.Summary=2]="Summary",r[r.GroupSummary=3]="GroupSummary",r[r.CaptionSummary=4]="CaptionSummary",r[r.Filter=5]="Filter",r[r.Indent=6]="Indent",r[r.GroupCaption=7]="GroupCaption",r[r.GroupCaptionEmpty=8]="GroupCaptionEmpty",r[r.Expand=9]="Expand",r[r.HeaderIndent=10]="HeaderIndent",r[r.StackedHeader=11]="StackedHeader",r[r.DetailHeader=12]="DetailHeader",r[r.DetailExpand=13]="DetailExpand",r[r.CommandColumn=14]="CommandColumn",r[r.DetailFooterIntent=15]="DetailFooterIntent",r[r.RowDragIcon=16]="RowDragIcon",r[r.RowDragHIcon=17]="RowDragHIcon",Ct;var r})(),Xs=(()=>{return(r=Xs||(Xs={}))[r.Header=0]="Header",r[r.Content=1]="Content",r[r.Summary=2]="Summary",Xs;var r})(),En=(()=>{return(r=En||(En={}))[r.isEdit=0]="isEdit",r[r.isAdd=1]="isAdd",r[r.isSort=2]="isSort",r[r.isFilter=3]="isFilter",En;var r})(),Vf=(()=>{return(r=Vf||(Vf={}))[r.isInitial=0]="isInitial",r[r.isSearch=1]="isSearch",Vf;var r})();class W5{constructor(e,t){this.dataState={isPending:!1,resolver:null,group:[]},this.foreignKeyDataState={isPending:!1,resolver:null},this.parent=e,this.serviceLocator=t,this.initDataManager(),!this.parent.isDestroyed&&"foreignKey"!==this.getModuleName()&&(this.parent.on(l5,this.addRows,this),this.parent.on("row-position-changed",this.reorderRows,this),this.parent.on(EE,this.removeRows,this),this.parent.on(F1,this.initDataManager,this),this.parent.on(Ri,this.destroy,this),this.parent.on(L1,this.crudActions,this),this.parent.on(EQ,this.getData,this),this.parent.on(k0,this.refreshFilteredCols,this),this.parent.on(x5,this.refreshFilteredCols,this))}reorderRows(e){this.dataManager.dataSource.json.splice(e.toIndex,0,this.dataManager.dataSource.json.splice(e.fromIndex,1)[0])}getModuleName(){return"data"}initDataManager(){const e=this.parent;this.dataManager=e.dataSource instanceof ie?e.dataSource:h(e.dataSource)?new ie:new ie(e.dataSource),!e.isAngular||e.query instanceof Ze?(this.isQueryInvokedFromData=!0,e.query=e.query instanceof Ze?e.query:new Ze):e.setProperties({query:new Ze},!0)}generateQuery(e){const i=this.parent.getQuery().clone();if("ExcludeHidden"===this.parent.columnQueryMode)i.select(this.parent.getColumns().filter(n=>!(!0!==n.isPrimaryKey&&!1===n.visible||void 0===n.field)).map(n=>n.field));else if("Schema"===this.parent.columnQueryMode){const n=[],s=this.parent.columns;for(let o=0;o<s.length;o++)n.push(s[o].field);i.select(n)}return this.filterQuery(i),this.searchQuery(i),this.aggregateQuery(i),this.sortQuery(i),dr(this.parent)?this.virtualGroupPageQuery(i):this.pageQuery(i,e),this.groupQuery(i),i}aggregateQuery(e){const t=this.parent.aggregates;for(let i=0;i<t.length;i++){const n=t[i];for(let s=0;s<n.columns.length;s++){const o=n.columns[s],l=o.type instanceof Array?o.type:[o.type];for(let a=0;a<l.length;a++)e.aggregate(l[a].toLowerCase(),o.field)}}return e}virtualGroupPageQuery(e){if(e.queries.length)for(let i=0;i<e.queries.length;i++)"onPage"===e.queries[i].fn&&e.queries.splice(i,1);return e}pageQuery(e,t){const i=this.parent,s={query:e,skipPage:!1};if(i.notify(jE,s),s.skipPage)return e;if((i.allowPaging||i.enableVirtualization||i.enableInfiniteScrolling)&&!0!==t){if(i.pageSettings.currentPage=Math.max(1,i.pageSettings.currentPage),i.pageSettings.pageCount<=0&&(i.pageSettings.pageCount=8),i.pageSettings.pageSize<=0&&(i.pageSettings.pageSize=12),e.queries.length)for(let o=0;o<e.queries.length;o++)"onPage"===e.queries[o].fn&&e.queries.splice(o,1);!h(i.infiniteScrollModule)&&i.enableInfiniteScrolling?this.parent.notify("infinite-page-query",e):e.page(i.pageSettings.currentPage,i.allowPaging&&i.pagerModule&&i.pagerModule.pagerObj.isAllPage&&!this.dataManager.dataSource.offline?null:i.pageSettings.pageSize)}return e}groupQuery(e){const t=this.parent;if(t.allowGrouping&&t.groupSettings.columns.length){this.parent.groupSettings.enableLazyLoading&&e.lazyLoad.push({key:"isLazyLoad",value:this.parent.groupSettings.enableLazyLoading});const i=t.groupSettings.columns;for(let n=0,s=i.length;n<s;n++){const o=this.getColumnByField(i[n]);o||this.parent.log("initial_action",{moduleName:"group",columnName:i[n]});const a=o.format;o.enableGroupByFormat?e.group(i[n],this.formatGroupColumn.bind(this),a):e.group(i[n],null)}}return e}sortQuery(e){const t=this.parent;if((t.allowSorting||t.allowGrouping)&&t.sortSettings.columns.length){const i=t.sortSettings.columns,n=[];for(let s=i.length-1;s>-1;s--){const o=this.getColumnByField(i[s].field);if(!o)return this.parent.log("initial_action",{moduleName:"sort",columnName:i[s].field}),e;o.setSortDirection(i[s].direction);let l=i[s].direction;o.sortComparer&&(this.parent.log("grid_sort_comparer"),l=this.isRemote()?i[s].direction:o.sortComparer.bind(o)),-1===t.groupSettings.columns.indexOf(i[s].field)?o.isForeignColumn()||o.sortComparer?e.sortByForeignKey(o.field,l,void 0,i[s].direction.toLowerCase()):e.sortBy(o.field,l):n.push({direction:l,field:o.field})}for(let s=0,o=n.length;s<o;s++)if("string"==typeof n[s].direction)e.sortBy(n[s].field,n[s].direction);else{const l=this.getColumnByField(n[s].field);e.sortByForeignKey(n[s].field,n[s].direction,void 0,l.getSortDirection().toLowerCase())}}return e}searchQuery(e,t,i){const n=this.parent.searchSettings;let s=n.fields.length?n.fields:this.getSearchColumnFieldNames(),o=[],l=!1;if(this.parent.searchSettings.key.length){l=this.parent.getForeignKeyColumns().some(c=>s.indexOf(c.field)>-1);const a=i?t.dataSource.adaptor:this.dataManager.adaptor;if(l||a.getModuleName&&"ODataV4Adaptor"===a.getModuleName()){s=i?[t.foreignKeyValue]:s;for(let d=0;d<s.length;d++){const u=i?t:this.getColumnByField(s[d]);u.isForeignColumn()&&!i?o=this.fGeneratePredicate(u,o):o.push(new qt(s[d],n.operator,n.key,n.ignoreCase,n.ignoreAccent))}const c=qt.or(o);c.key=n.key,e.where(c)}else e.search(n.key,s,n.operator,n.ignoreCase,n.ignoreAccent)}return e}filterQuery(e,t,i){const n=this.parent;let s=[];const o=[],l=this.parent.getForeignKeyColumns();let a;if(n.allowFiltering&&n.filterSettings.columns.length){const c=t||n.filterSettings.columns,d={};for(const g of n.getColumns())d[g.field]=g.filter.type?g.filter.type:n.filterSettings.type;const u=[],p=[];for(const g of c){const f=n.getColumnByField(g.field);h(g.type)&&f&&("date"===f.type||"datetime"===f.type)&&(g.type=n.getColumnByField(g.field).type),g.isForeignKey?u.push(g):p.push(g)}if(p.length){for(let f=0,m=p.length;f<m;f++)p[f].uid=p[f].uid||this.parent.grabColumnByFieldFromAllCols(p[f].field).uid;const g=Zl.getPredicate(p);for(const f of Object.keys(g))s.push(g[f])}if(u.length)for(const g of u){g.uid=g.uid||this.parent.grabColumnByFieldFromAllCols(g.field).uid;const f=this.parent.grabColumnByUidFromAllCols(g.uid);if(f||this.parent.log("initial_action",{moduleName:"filter",columnName:g.field}),f.isForeignColumn()&&J1(g.field,l)&&!i)o.push(g),f.columnData.length||(a=!0),s=this.fGeneratePredicate(f,s);else{const m=Zl.getPredicate(c);for(const v of Object.keys(m))s.push(m[v])}}s.length&&!a?e.where(qt.and(s)):this.parent.notify(kQ,{})}return e}fGeneratePredicate(e,t){const i={};return e&&(this.parent.notify(Fx,{predicate:i,column:e}),i.predicate.predicates.length&&t.push(i.predicate)),t}getData(e={requestType:""},t){const i=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());if(this.parent.log("datasource_syntax_mismatch",{dataState:this.parent}),this.parent.dataSource&&"result"in this.parent.dataSource)return this.eventPromise(e,t,i).promise;{let n;switch(e.requestType){case"delete":if(t=t||this.generateQuery(),1===Object.keys(e.data).length)n=this.dataManager.remove(i,e.data[0],t.fromTable,t);else{const l={addedRecords:[],deletedRecords:[],changedRecords:[]};l.deletedRecords=e.data,n=this.dataManager.saveChanges(l,i,t.fromTable,t.requiresCount())}break;case"save":t=t||this.generateQuery(),e.index=h(e.index)?0:e.index,n=this.dataManager.insert(e.data,t.fromTable,t,e.index)}return e.promise=n,!n||Array.isArray(n)||n.hasOwnProperty("deletedRecords")?this.insert(t,e):n.then(()=>this.insert(t,e))}}insert(e,t){return"save"===t.requestType&&this.parent.notify(m5,t),this.executeQuery(e)}executeQuery(e){if(this.dataManager.ready){const t=new Ss;return this.dataManager.ready.then(()=>{this.dataManager.executeQuery(e).then(n=>{t.resolve(n)})}).catch(n=>{t.reject(n)}),t.promise}return this.dataManager.executeQuery(e)}formatGroupColumn(e,t){const i=this.serviceLocator,n=this.getColumnByField(t),s=e;return n.type||(n.type=s.getDay?s.getHours()>0||s.getMinutes()>0||s.getSeconds()>0||s.getMilliseconds()>0?"datetime":"date":typeof e),h(n.getFormatter())&&yX(i,n),E0.prototype.toView(e,n.getFormatter())}crudActions(e){const t=this.generateQuery();let i=null;const n="promise",s=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());"save"===(this.parent.dataSource&&"result"in this.parent.dataSource&&this.eventPromise(e,t,s),e.requestType)&&(i=this.dataManager.update(s,e.data,t.fromTable,t,e.previousData)),e[n]=i||e[n],this.parent.notify(DQ,e)}saveChanges(e,t,i,n=this.generateQuery()){if(n.requiresCount(),"result"in this.parent.dataSource){const s=new Ss,o={requestType:"batchsave",changes:e,key:t,query:n,endEdit:s.resolve};return this.setState({isPending:!0,resolver:s.resolve}),this.parent.trigger(MQ,o),s.promise}return this.dataManager.saveChanges(e,t,n.fromTable,n,i)}getKey(e){if(e&&e.length)return e[0]}isRemote(){return!0!==this.dataManager.dataSource.offline&&void 0!==this.dataManager.dataSource.url&&""!==this.dataManager.dataSource.url}addRows(e){for(let t=e.records.length;t>0;t--)this.dataManager.dataSource.json.splice(e.toIndex,0,e.records[t-1])}removeRows(e){this.dataManager.dataSource.json=this.dataManager.dataSource.json.filter(i=>-1===e.records.indexOf(i))}getColumnByField(e){let t;return this.parent.columnModel.some(i=>(t=i,i.field===e))&&t}destroy(){this.parent.isDestroyed||(this.parent.off(l5,this.addRows),this.parent.off(EE,this.removeRows),this.parent.off(F1,this.initDataManager),this.parent.off(Ri,this.destroy),this.parent.off(L1,this.crudActions),this.parent.off(EQ,this.getData),this.parent.off(k0,this.refreshFilteredCols),this.parent.off(x5,this.refreshFilteredCols))}getState(){return this.dataState}setState(e){return this.dataState=e}getForeignKeyDataState(){return this.foreignKeyDataState}setForeignKeyDataState(e){this.foreignKeyDataState=e}getStateEventArgument(e){const t=new ca,i=new ie({url:"",adaptor:new ca}),n=t.processQuery(i,e);return O(JSON.parse(n.data),n.pvtData)}eventPromise(e,t,i){const n=e,s=this.getStateEventArgument(t),o=new Ss,l=new Ss;if(void 0!==e.requestType&&!1!==this.dataState.isDataChanged)if(s.action=e,"save"===e.requestType||"delete"===e.requestType){const a=e;a.key=i,a.promise=l.promise,a.state=s,this.setState({isPending:!0,resolver:l.resolve}),n.endEdit=l.resolve,n.cancelEdit=l.reject,this.parent.trigger(MQ,a),l.promise.then(()=>{this.setState({isPending:!0,resolver:o.resolve,group:s.group,aggregates:s.aggregates}),"save"===a.requestType&&this.parent.notify(m5,a),this.parent.trigger(B1,s)}).catch(()=>{})}else this.setState({isPending:!0,resolver:o.resolve,group:s.group,aggregates:s.aggregates}),this.parent.trigger(B1,s);else this.setState({}),o.resolve(this.parent.dataSource);return o}getSearchColumnFieldNames(){const e=[],t=this.parent.getColumns();for(const i of t)i.allowSearching&&!h(i.field)&&e.push(i.field);return e}refreshFilteredCols(){this.parent.allowFiltering&&this.parent.filterSettings.columns.length&&function Gke(r,e){for(let t=0;t<e.length;t++)e[t].uid=e[t].isForeignKey?J1(e[t].field,r.getForeignKeyColumns()).uid:r.enableColumnVirtualization?TX(r,e[t].field).uid:r.getColumnByField(e[t].field).uid}(this.parent,this.parent.filterSettings.columns)}}class Vd{constructor(e,t){Nr(this,e),this.parent=t}clone(){const e=new Vd({});return Nr(e,this),e.cells=this.cells.map(t=>t.clone()),e}setRowValue(e){if(!this.parent)return;const t=this.data[this.parent.getPrimaryKeyFieldNames()[0]];this.parent.setRowData(t,e)}setCellValue(e,t){if(this.parent&&this.data[e].toString()!==t.toString()){const n=this.parent.getPrimaryKeyFieldNames()[0];this.parent.setCellValue(this.data[n],e,t),this.makechanges(n,this.data)}}makechanges(e,t){this.parent&&this.parent.getDataModule().dataManager.update(e,t)}}class ja{constructor(e){this.isSpanned=!1,this.isRowSpanned=!1,Nr(this,e)}clone(){const e=new ja({});return Nr(e,this),e}}class iX{constructor(e,t){this.serviceLocator=e,this.parent=t}render(e,t,i,n){const o=this.serviceLocator.getService("cellRendererFactory").getCellRenderer(t.cells[i].cellType||Ct.Data);let l=t.cells[i].cellSpan?t.cells[i].cellSpan:e.colSpan+i<=t.cells.length?e.colSpan:t.cells.length-i;const a=e.rowSpan;let d,c=0;if(t.index>0){const p=this.parent.groupSettings.columns.length>0&&!this.parent.getRowsObject()[t.index-1].isDataRow?this.parent.getRowsObject()[t.index].cells:this.parent.getRowsObject()[t.index-1].cells,g=t.cells[i],f="uid";d=p.filter(m=>m.column.uid===g.column[f])[0]}const u=d&&d.colSpanRange>1&&d.rowSpanRange>1?d.colSpanRange:l;for(let p=i+1;p<i+u&&p<t.cells.length;p++)!1===t.cells[p].visible?c++:t.cells[p].isSpanned=!0;if(c>0){for(let p=i+l;p<i+l+c&&p<t.cells.length;p++)t.cells[p].isSpanned=!0;i+l+c>=t.cells.length&&(l-=i+l+c-t.cells.length)}return t.cells[i].cellSpan&&(t.data[e.column.field]=t.cells[i].spanText,n=o.render(t.cells[i],t.data,{index:h(t.index)?"":t.index.toString()})),l>1&&Le(n,{colSpan:l.toString(),"aria-colSpan":l.toString()}),a>1&&(Le(n,{rowspan:a.toString(),"aria-rowspan":a.toString()}),t.cells[i].isRowSpanned=!0,t.cells[i].rowSpanRange=Number(a),l>1&&(t.cells[i].colSpanRange=Number(l))),t.index>0&&d.rowSpanRange>1&&(t.cells[i].isSpanned=!0,t.cells[i].rowSpanRange=Number(d.rowSpanRange-1),t.cells[i].colSpanRange=d.rowSpanRange>0?d.colSpanRange:1),this.parent.enableColumnVirtualization&&!t.cells[i].cellSpan&&!this.containsKey(e.column.field,e.data[e.column.field])&&this.backupMergeCells(e.column.field,e.data[e.column.field],e.colSpan),n}backupMergeCells(e,t,i){this.setMergeCells(this.generteKey(e,t),i)}generteKey(e,t){return e+"__"+t.toString()}splitKey(e){return e.split("__")}containsKey(e,t){return this.getMergeCells().hasOwnProperty(this.generteKey(e,t))}getMergeCells(){return this.parent.mergeCells}setMergeCells(e,t){this.parent.mergeCells[e]=t}updateVirtualCells(e){const t=this.getMergeCells();for(const i of Object.keys(t)){const n=t[i],s=this.splitKey(i),o=this.getIndexFromAllColumns(s[0]),l=this.parent.getColumnIndexesInView(),a=n-(l[0]-o);if(o<l[0]&&a>1)for(const c of e)if(c.data[s[0]].toString()===s[1].toString()){c.cells[0].cellSpan=a,c.cells[0].spanText=s[1];break}}return e}getIndexFromAllColumns(e){return Tp(this.parent.getVisibleColumns(),(i,n)=>{if(i.field===e)return n})[0]}}const Ii="e-rowcell",br="e-gridheader",ar="e-gridcontent",F0="e-gridfooter",cr="e-headercontent",hn="e-movablecontent",un="e-movableheader",hd="e-frozencontent",Fh="e-frozenheader",Ls="e-content",Tn="e-table",Oi="e-row",P0="e-gridchkbox",al="e-editedrow",va="e-addedrow",Mu="addedRecords",Hf="deletedRecords",Lt="Left-Right",Ln="frozen-right",Os="frozen-left",_r="aria-colindex",Zt="aria-rowindex",Ke="tbody",ni="colgroup",ud="open",Ox="change",Bx="focus",WE="created",nX="beforeOpen";class ya{constructor(e,t,i){this.isSpan=!1,this.cellType=t,this.serviceLocator=e,this.parent=i,this.element=this.parent.createElement("tr",{attrs:{role:"row"}})}render(e,t,i,n,s){return this.refreshRow(e,t,i,n,s)}refresh(e,t,i,n,s){i&&(e.data=oT({},e.changes),this.refreshMergeCells(e));const o=this.parent.element.querySelector("[data-uid="+e.uid+"]"),l=this.refreshRow(e,t,n,s,null,i),a=[].slice.call(l.cells),c=[].slice.call(o.querySelectorAll(".e-templatecell"));if(this.parent.isReact&&c.length)for(let d=0,u=t.length;d<u;d++)t[d].template&&this.parent.refreshReactColumnTemplateByUid(t[d].uid);o.innerHTML="";for(const d of a)o.appendChild(d)}refreshRow(e,t,i,n,s,o){const l=h(s)?this.element.cloneNode():s,a={data:e.data},c={data:e.data},d=this.parent.getColumns().filter(v=>"checkbox"===v.type&&v.field)[0];let u=!1;d&&(u=Mt(d.field,a.data));const p=this.parent.getSelectedRowIndexes();e.isDataRow&&(e.isSelected=p.indexOf(e.index)>-1||u),e.isDataRow&&this.parent.isCheckBoxSelection&&"Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0,-1===p.indexOf(e.index)&&p.push(e.index)),this.buildAttributeFromRow(l,e),Le(l,O({},i,{})),Fu(l,e.attributes);const g=this.serviceLocator.getService("cellRendererFactory");for(let v=0,x=e.cells.length;v<x;v++){const w=e.cells[v];w.isSelected=e.isSelected,w.isColumnSelected=w.column.isSelected;const b=g.getCellRenderer(e.cells[v].cellType||Ct.Data),I={index:h(e.index)?"":e.index.toString()};e.isExpand&&e.cells[v].cellType===Ct.DetailExpand&&(I.class=this.parent.isPrinting?"e-detailrowcollapse":"e-detailrowexpand");let k=b.render(e.cells[v],e.data,I,e.isExpand,o);if(e.cells[v].cellType!==Ct.Filter){if(e.cells[v].cellType===Ct.Data||e.cells[v].cellType===Ct.CommandColumn){this.parent.trigger(ZO,O(c,{cell:k,column:w.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[v].foreignKeyData,requestType:this.parent.requestTypeAction}));let P=!1;if(e.index>0&&this.isSpan){const W=this.parent.groupSettings.columns.length>0&&!this.parent.getRowsObject()[e.index-1].isDataRow?this.parent.getRowsObject()[e.index].cells:this.parent.getRowsObject()[e.index-1].cells,oe="uid",ae=W.filter(xe=>xe.column.uid===e.cells[v].column[oe])[0];P=ae.isRowSpanned?ae.isRowSpanned:ae.rowSpanRange>1}(c.colSpan>1||e.cells[v].cellSpan>1||c.rowSpan>1||P)&&(this.isSpan=!0,k=new iX(this.serviceLocator,this.parent).render(c,e,v,k))}e.cells[v].isSpanned||l.appendChild(k)}}if(e.isDataRow&&(this.parent.trigger(sQ,O(a,{row:l,rowHeight:this.parent.rowHeight})),this.parent.childGrid||this.parent.isRowDragable()||this.parent.detailTemplate)){const v=l.querySelectorAll(".e-rowcell:not(.e-hide)")[0];v&&v.classList.add("e-detailrowvisible")}if(this.parent.enableVirtualization&&(a.rowHeight=this.parent.rowHeight),a.rowHeight?l.style.height=a.rowHeight+"px":this.parent.rowHeight&&(l.querySelector(".e-headercell")||l.querySelector(".e-groupcaption"))&&(l.style.height=this.parent.rowHeight+"px"),e.cssClass&&l.classList.add(e.cssClass),e.lazyLoadCssClass&&l.classList.add(e.lazyLoadCssClass),(!this.parent.enableColumnVirtualization||0===this.parent.frozenColumns)&&this.parent.aggregates.length&&this.parent.element.scrollHeight>this.parent.height)for(let v=0;v<this.parent.aggregates.length;v++)if(this.parent.aggregates[v].properties.columns[0].footerTemplate){const b=[].slice.call(l.getElementsByClassName("e-summarycell"));b.length&&(_([b[b.length-1]],["e-lastsummarycell"]),_([b[0]],["e-firstsummarycell"]))}return l}refreshMergeCells(e){for(const t of e.cells)t.isSpanned=!1;return e}buildAttributeFromRow(e,t){const i={},s=[];t.isDataRow&&s.push(Oi),t.isAltRow&&s.push("e-altrow"),h(t.index)||(i["aria-rowindex"]=t.index),t.rowSpan&&(i.rowSpan=t.rowSpan),t.uid&&(i["data-uid"]=t.uid),t.isSelected&&(i["aria-selected"]=!0),!1===t.visible&&s.push("e-hide"),i.class=s,Fu(e,i)}}class Ph{constructor(e){this.parent=e}generateRows(e,t){const i=[];let n=this.parent.enableVirtualization&&t?t.startIndex:0;n=this.parent.enableInfiniteScrolling&&t?this.getInfiniteIndex(t):n;for(let s=0,o=Object.keys(e).length;s<o;s++,n++)i[s]=this.generateRow(e[s],n);return i}ensureColumns(){const e=[];if(this.parent.detailTemplate||this.parent.childGrid){const t={};this.parent.notify(NQ,t),e.push(this.generateCell(t,null,Ct.DetailExpand))}return this.parent.isRowDragable()&&e.push(this.generateCell({},null,Ct.RowDragIcon)),e}generateRow(e,t,i,n,s,o,l){const a={foreignKeyData:{}};a.uid=Ca("grid-row"),a.data=e,a.index=t,a.indent=n,a.tIndex=o,a.isDataRow=!0,a.parentGid=s,a.parentUid=l,this.parent.isPrinting&&("All"===this.parent.hierarchyPrintMode?a.isExpand=!0:"Expanded"===this.parent.hierarchyPrintMode&&this.parent.expandedRows&&this.parent.expandedRows[t]&&(a.isExpand=this.parent.expandedRows[t].isExpand)),a.cssClass=i,a.isAltRow=!!this.parent.enableAltRow&&t%2!=0,a.isAltRow=!!this.parent.enableAltRow&&t%2!=0,a.isSelected=this.parent.getSelectedRowIndexes().indexOf(t)>-1,this.refreshForeignKeyRow(a);const c=this.ensureColumns(),d=new Vd(a,this.parent);return d.cells="Right"===this.parent.getFrozenMode()?this.generateCells(a).concat(c):c.concat(this.generateCells(a)),d}refreshForeignKeyRow(e){const t=this.parent.getForeignKeyColumns();for(let i=0;i<t.length;i++)Ne(t[i].field,Wf(t[i],e.data),e.foreignKeyData)}generateCells(e){const t=this.parent.getColumns(),i=[];for(let n=0;n<t.length;n++)i.push(this.generateCell(t[n],e.uid,h(t[n].commands)?void 0:Ct.CommandColumn,null,n,e.foreignKeyData));return i}generateCell(e,t,i,n,s,o){const l={visible:e.visible,isDataCell:!h(e.field||e.template),isTemplate:!h(e.template),rowID:t,column:e,cellType:h(i)?Ct.Data:i,colSpan:n,commands:e.commands,isForeignKey:e.isForeignColumn&&e.isForeignColumn(),foreignKeyData:e.isForeignColumn&&e.isForeignColumn()&&M(e.field,o)};return(l.isDataCell||"checkbox"===l.column.type||l.commands)&&(l.index=s),new ja(l)}refreshRows(e){for(let t=0;t<e.length;t++)this.refreshForeignKeyRow(e[t]),e[t].cells=this.generateCells(e[t]);return e}getInfiniteIndex(e){return"infiniteScroll"===e.requestType||"delete"===e.requestType||"add"===e.action?e.startIndex:0}}class W1{constructor(e){this.parent=e}getData(){const e=[],t=this.parent.aggregates.slice();for(let i=0;i<t.length;i++){const n=t[i].columns.filter(s=>!(s.footerTemplate||s.groupFooterTemplate||s.groupCaptionTemplate)||this.columnSelector(s));n.length&&e.push({columns:n})}return e}columnSelector(e){return void 0!==e.footerTemplate}getColumns(e,t){const i=[];if(this.parent.allowGrouping)for(let n=0;n<this.parent.groupSettings.columns.length;n++)i.push(new Fc({}));return(this.parent.detailTemplate||!h(this.parent.childGrid))&&i.push(new Fc({})),this.parent.isRowDragable()&&!e&&i.push(new Fc({})),i.push(...this.parent.getColumns()),t=t&&!e?t+this.parent.getIndentCount():t,h(e)?i:i.slice(e,t)}generateRows(e,t,i,n,s){if(0===e.length&&(void 0===t||!t.count))return[];const o=this.buildSummaryData(e,t),l=[],a=this.getData();for(let c=0;c<a.length;c++)l.push(this.getGeneratedRow(a[c],o[c],t?t.level:void 0,i,n,t?t.parentUid:void 0,s));return l}getGeneratedRow(e,t,i,n,s,o,l){const a=[];let c=this.getIndentByLevel();const d=!h(this.parent.childGrid),u=n?0:this.parent.getIndentCount();this.parent.isRowDragable()&&!n&&(c=["e-indentcelltop"]);const p=l||this.getColumns(n,s);for(let f=0;f<p.length;f++)a.push(this.getGeneratedCell(p[f],e,f>=u?this.getCellType():f<this.parent.groupSettings.columns.length?Ct.Indent:Ct.DetailFooterIntent,c[f],d));const g=new Vd({data:t,attributes:{class:"e-summaryrow"}});return g.cells=a,g.uid=Ca("grid-row"),g.parentUid=o,g.isAggregateRow=!0,g.visible=a.some(f=>f.isDataCell&&f.visible),g}getGeneratedCell(e,t,i,n,s){const o=t.columns.filter(c=>c.columnName===e.field)[0],l={style:{textAlign:e.textAlign},"e-mappinguid":e.uid,index:e.index};n&&(l.class=n),h(n)&&s&&(l.class="e-detailindentcelltop");const a={visible:e.visible,isDataCell:!h(o),isTemplate:o&&!h(o.footerTemplate||o.groupFooterTemplate||o.groupCaptionTemplate),column:o||{},attributes:l,cellType:i};return a.column.headerText=e.headerText,new ja(a)}buildSummaryData(e,t){const i=[],n=this.getData();let s={};for(let o=0;o<n.length;o++){s={};const l=n[o].columns;for(let a=0;a<l.length;a++)s=this.setTemplate(l[a],t&&t.aggregates?t:e,s);i.push(s)}return i}getIndentByLevel(){return this.parent.groupSettings.columns.map(()=>"e-indentcelltop")}setTemplate(e,t,i){let n=e.type;const s={},o=e.getFormatter()||(a=>a),l=t;n instanceof Array||(n=[e.type]);for(let a=0;a<n.length;a++){const c=e.field+" - "+n[a].toLowerCase(),d=e.columnName,u="Custom"!==n[a]&&l.aggregates&&c in l.aggregates?l.aggregates[c]:o4(n[a],l.aggregates?l:t,e,this.parent);i[d]=i[d]||{},i[d][c]=u,i[d][n[a]]=h(u)?" ":o(u),l.field&&(i[d].field=l.field,i[d].key=l.key)}return s.format=e.getFormatter(),e.setTemplate(s),i}getCellType(){return Ct.Summary}}class Nx extends W1{columnSelector(e){return void 0!==e.groupFooterTemplate}getIndentByLevel(e=this.parent.groupSettings.columns.length){return this.parent.groupSettings.columns.map((t,i)=>i<=e-1?"":"e-indentcelltop")}getCellType(){return Ct.GroupSummary}}class U1 extends W1{columnSelector(e){return void 0!==e.groupCaptionTemplate}getData(){return[super.getData().reduce((t,i)=>(t.columns=[...t.columns,...i.columns],t),{columns:[]})]}isEmpty(){return 0===(this.getData()[0].columns||[]).length}getCellType(){return Ct.CaptionSummary}}class $E extends Ph{constructor(e){super(e),this.rows=[],this.index=0,this.infiniteChildCount=0,this.renderInfiniteAgg=!0,this.parent=e,this.summaryModelGen=new Nx(e),this.captionModelGen=new U1(e)}generateRows(e,t){if(0===this.parent.groupSettings.columns.length)return super.generateRows(e,t);this.isInfiniteScroll="infiniteScroll"===t.requestType,this.rows=[],this.index=this.parent.enableVirtualization||this.isInfiniteScroll?t.startIndex:0;for(let i=0,n=e.length;i<n;i++)this.infiniteChildCount=0,this.renderInfiniteAgg=!0,this.getGroupedRecords(0,e[i],e.level,i,void 0,this.rows.length);return this.index=0,this.parent.isCollapseStateEnabled()&&this.ensureRowVisibility(),this.rows}getGroupedRecords(e,t,i,n,s,o,l){const a=i;if(h(t.items))if(h(t.GroupGuid))this.rows=this.rows.concat(this.generateDataRows(t,e,n,this.rows.length,l));else for(let c=0,d=t.length;c<d;c++)this.getGroupedRecords(e,t[c],t.level,n,e,this.rows.length,l);else{let c;const d=this.generateCaptionRow(t,e,n,s,o,l);if(this.isInfiniteScroll&&(c=this.getPreCaption(e,d.data.key)),c?d.uid=c.uid:this.rows=this.rows.concat(d),t.items&&t.items.length&&this.getGroupedRecords(e+1,t.items,t.items.level,n,e+1,this.rows.length,d.uid),this.parent.aggregates.length&&this.isRenderAggregate(d)){const u=this.rows.length;this.rows.push(...this.summaryModelGen.generateRows(t,{level:a,parentUid:d.uid}));for(let p=u-1;p>=0;p--)if(this.rows[p].isCaptionRow)this.rows[p].aggregatesCount=this.rows.length-u;else if(!this.rows[p].isCaptionRow&&!this.rows[p].isDataRow)break}c&&this.setInfiniteRowVisibility(c)}}isRenderAggregate(e){return this.parent.enableInfiniteScrolling?!!this.renderInfiniteAgg&&(this.getPreCaption(e.indent,e.data.key),this.renderInfiniteAgg=e.data.count===this.infiniteChildCount,this.renderInfiniteAgg):!this.parent.enableInfiniteScrolling}getPreCaption(e,t){const i=[...this.parent.getRowsObject(),...this.rows];let n;this.infiniteChildCount=0;let s=i.length;for(;s--&&(i[s].isCaptionRow&&i[s].indent===e&&i[s].data.key===t&&(n=i[s]),!(i[s].indent===e||i[s].indent<e));)i[s].indent===e+1&&this.infiniteChildCount++;return n}getCaptionRowCells(e,t,i){const n=[];let s=[],o=this.parent.getColumnByField(e);const l=this.parent.getColumnIndexesInView();this.parent.enableColumnVirtualization&&(o=this.parent.columns.filter(p=>p.field===e)[0]);const a=this.parent.groupSettings.columns.length,c=this.parent;if(!this.parent.enableColumnVirtualization||-1!==l.indexOf(t)){for(let p=0;p<t;p++)n.push(this.generateIndentCell());n.push(this.generateCell({},null,Ct.Expand))}if(t=this.parent.enableColumnVirtualization?1:this.parent.getVisibleColumns().length+a+(c.detailTemplate||c.childGrid?1:0)-t+(this.parent.getVisibleColumns().length?-1:0),this.parent.aggregates.length&&!this.captionModelGen.isEmpty()){const p=this.captionModelGen.generateRows(i)[0];O(i,p.data);let g=0;p.cells.some((f,m)=>(g=m,f.visible&&f.isDataCell)),s=p.cells.slice(g).filter(f=>f.visible),p.visible&&s[0].column.field===this.parent.getVisibleColumns()[0].field&&(s=s.slice(1)),1===this.parent.getVisibleColumns().length&&(s=[]),t-=s.length}const d=this.parent.enableColumnVirtualization?this.parent.getColumns():[o];let u=!0;for(let p=0;p<d.length;p++){const g=u&&-1!==l.indexOf(t);g&&(u=!1);const f=!this.parent.enableColumnVirtualization||g?Ct.GroupCaption:Ct.GroupCaptionEmpty;t=this.parent.enableColumnVirtualization&&f===Ct.GroupCaption?t+a:t,c.isRowDragable()&&t++,n.push(this.generateCell(o,null,f,t))}return n.push(...s),n}generateCaptionRow(e,t,i,n,s,o){const l={},a="records",c=this.parent.getColumnByField(e.field);l.data=O({},e),c&&(l.data.field=e.field),l.isDataRow=!1,l.isExpand=!this.parent.groupSettings.enableLazyLoading&&!this.parent.isCollapseStateEnabled(),l.parentGid=i,l.childGid=n,l.tIndex=s,l.isCaptionRow=!0,l.parentUid=o,l.gSummary=h(e.items[a])?e.items.length:e.items[a].length,l.uid=Ca("grid-row");const d=new Vd(l);return d.indent=t,this.getForeignKeyData(d),d.cells=this.getCaptionRowCells(e.field,t,d.data),d}getForeignKeyData(e){const t=e.data,i=this.parent.getColumnByField(t.field);i&&i.isForeignColumn&&i.isForeignColumn()&&Ne("foreignKey",h(t.key)?"":i.valueAccessor(i.foreignKeyValue,Wf(i,{},t.key)[0],i),e.data)}generateDataRows(e,t,i,n,s){const o=[],l=this.parent.getColumnIndexesInView();for(let a=0,c=e.length;a<c;a++,n++){o[a]=this.generateRow(e[a],this.index,a?void 0:"e-firstchildrow",t,i,n,s);for(let d=0;d<t;d++)this.parent.enableColumnVirtualization&&-1===l.indexOf(t)||o[a].cells.unshift(this.generateIndentCell());this.index++}return o}generateIndentCell(){return this.generateCell({},null,Ct.Indent)}refreshRows(e){const t=this.parent.getColumnIndexesInView();for(let i=0;i<e.length;i++)if(e[i].isDataRow){e[i].cells=this.generateCells(e[i]);for(let n=0;n<e[i].indent;n++)this.parent.enableColumnVirtualization&&-1===t.indexOf(e[i].indent)||e[i].cells.unshift(this.generateIndentCell())}else{const n=this.generateCaptionRow(e[i].data,e[i].indent);e[i].cells=n.cells}return e}setInfiniteRowVisibility(e){if(!e.isExpand||!1===e.visible)for(const t of this.rows)t.parentUid===e.uid&&(t.visible=!1,t.isCaptionRow&&this.setInfiniteRowVisibility(t))}ensureRowVisibility(){for(let e=0;e<this.rows.length;e++){const t=this.rows[e];if(t.isCaptionRow)for(let i=e+1;i<this.rows.length;i++)t.uid===this.rows[i].parentUid&&(this.rows[i].visible=t.isExpand)}}}class KE{constructor(e,t){this.rows=[],this.freezeRows=[],this.movableRows=[],this.freezeRowElements=[],this.currentInfo={},this.prevCurrentView=[],this.isLoaded=!0,this.viewColIndexes=[],this.drop=i=>{this.parent.notify("columnDrop",{target:i.target,droppedElement:i.droppedElement}),X(i.droppedElement)},this.infiniteCache={},this.isRemove=!1,this.visibleRows=[],this.visibleFrozenRows=[],this.rightFreezeRows=[],this.isAddRows=!1,this.isInfiniteFreeze=!1,this.useGroupCache=!1,this.rafCallback=i=>{const n=i;return()=>{if(this.parent.isFrozenGrid()&&this.parent.enableVirtualization){const o=i.tableName;if(this.isLoaded=this.parent.getFrozenMode()===Lt?"frozen-right"===o:"movable"===o,this.parent.enableColumnVirtualization&&"virtualscroll"===i.requestType&&this.isLoaded){const l=[].slice.call(this.parent.getMovableVirtualHeader().getElementsByClassName(Oi)),a=[].slice.call(this.parent.getFrozenVirtualHeader().getElementsByClassName(Oi));this.isLoaded=l.length===a.length}}if(this.ariaService.setBusy(this.getPanel().querySelector("."+Ls),!1),this.parent.isDestroyed)return;let s=this.rows.slice(0);if(this.parent.enableInfiniteScrolling){s=this.parent.getRowsObject();const o=n.prevPage;if(this.parent.infiniteScrollSettings.enableCache&&o){const l=this.parent.infiniteScrollSettings.maxBlocks;s=[];const a=parseInt(this.rowElements[0].getAttribute("aria-rowindex"),10)+1;for(let d=0,u=Math.ceil(a/this.parent.pageSettings.pageSize);d<l;d++,u++)this.infiniteCache[u]&&(s=[...s,...this.infiniteCache[u]])}}if(this.parent.isFrozenGrid()&&(s=i.isFrozen?this.freezeRows:i.renderFrozenRightContent?this.parent.getFrozenRightRowsObject():this.movableRows),this.parent.notify(Is,{rows:s,args:n}),this.isLoaded&&(this.parent.isManualRefresh=!1,this.parent.trigger(za,{},()=>{this.parent.allowTextWrap&&this.parent.notify(Nd,{case:"textwrap"})})),n){const o=(n.requestType||"").toLowerCase()+"-complete";this.parent.notify(o,n),"batchsave"===i.requestType&&(i.cancel=!1,this.parent.trigger(yi,i))}this.isLoaded&&this.parent.hideSpinner()}},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.parent.enableDeepCompare=this.parent.getDataModule().isRemote(),this.generator=this.getModelGenerator(),!this.parent.isDestroyed&&(!this.parent.enableColumnVirtualization&&!this.parent.enableVirtualization&&!this.parent.groupSettings.enableLazyLoading&&this.parent.on(Bd,this.setVisible,this),this.parent.on(IE,this.colGroupRefresh,this),this.parent.on(as,this.enableAfterRender,this),this.parent.on("refresh-infinite-mode-blocks",this.refreshContentRows,this),this.parent.on(kx,this.beforeCellFocused,this),this.parent.on(Ri,this.droppableDestroy,this))}beforeCellFocused(e){this.pressedKey=!e.byKey||"upArrow"!==e.keyArgs.action&&"downArrow"!==e.keyArgs.action?void 0:e.keyArgs.action}renderPanel(){const e=this.parent;let t=this.parent.element.querySelector("."+ar);if(t)return this.ariaService.setOptions(this.parent.element.querySelector("."+Ls),{busy:!1}),void this.setPanel(t);t=this.parent.createElement("div",{className:ar});const i=this.parent.createElement("div",{className:Ls});this.ariaService.setOptions(i,{busy:!1}),t.appendChild(i),this.setPanel(t),e.element.appendChild(t)}renderTable(){const e=this.getPanel(),t=e.querySelector(".e-virtualtable"),i=e.querySelector(".e-virtualtrack");this.parent.enableVirtualization&&!h(t)&&!h(i)&&(X(t),X(i)),e.appendChild(this.createContentTable("_content_table")),this.setTable(e.querySelector("."+Tn)),this.ariaService.setOptions(this.getTable(),{multiselectable:"Multiple"===this.parent.selectionSettings.type}),this.initializeContentDrop(),this.parent.frozenRows&&this.parent.getHeaderContent().classList.add("e-frozenhdrcont")}createContentTable(e){const t=this.getPanel().firstElementChild;this.getTable()&&X(this.getTable());const i=t.querySelector("."+Tn)?t.querySelector("."+Tn):this.parent.createElement("table",{className:Tn,attrs:{cellspacing:"0.25px",role:"grid",id:this.parent.element.id+e}});return this.setColGroup(this.parent.getHeaderTable().querySelector(ni).cloneNode(!0)),i.appendChild(this.getColGroup()),i.appendChild(this.parent.createElement(Ke,{attrs:{role:"rowgroup"}})),t.appendChild(i),t}refreshContentRows(e={}){const t=this.parent;if(0===t.currentViewData.length)return;const i=this.currentMovableRows||t.currentViewData,n=this.parent.contentModule,s=t.isReact&&!h(t.rowTemplate);let o=s?t.createElement(Ke,{attrs:{role:"rowgroup"}}):document.createDocumentFragment();this.initialPageRecords||(this.initialPageRecords=O([],i));const l=s?t.createElement(Ke,{attrs:{role:"rowgroup"}}):document.createDocumentFragment(),a=t.getColumns();let c,d;const u=t.getFrozenColumns(),p=this.parent.isFrozenGrid();let g;const f=new ya(this.serviceLocator,null,this.parent),m=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;t.notify("destroy-child-grid",{}),this.rowElements=[],this.rows=[];const v=this.getPanel().querySelector("."+hd),x=this.getPanel().querySelector("."+hn),w=this.getPanel().querySelector("."+Ls);let b,I,k;dr(t)&&["sorting","filtering","searching","grouping","ungrouping","reorder"].some(z=>e.requestType===z)&&this.emptyVcRows(),this.parent.enableVirtualization&&this.parent.isFrozenGrid()?(this.parent.enableColumnVirtualization&&"virtualscroll"===e.requestType&&"X"===e.virtualInfo.sentinelInfo.axis&&(k=this.parent.contentModule.generateRows(i,e),e.renderMovableContent=!0),k=this.parent.contentModule.generateRows(i,e)):(k=this.checkCache(k,e),!this.isAddRows&&!this.useGroupCache&&(k=this.generator.generateRows(i,e))),this.setGroupCache(k,e),this.parent.notify("set-infinite-cache",{isInfiniteScroll:m,modelData:k,args:e});const P=k[0].cells[0].index;p&&(I=n.setTbody(k,e),b=n.getTbody(I));const W=this.parent.getFrozenMode()===Lt&&I===Ln;if("infiniteScroll"!==e.requestType&&this.parent.registeredTemplate&&this.parent.registeredTemplate.template&&!e.isFrozen&&!W){const z=[];for(let Re=0;Re<this.parent.registeredTemplate.template.length;Re++)for(let ye=0;ye<this.parent.registeredTemplate.template[Re].rootNodes.length;ye++)h(this.parent.registeredTemplate.template[Re].rootNodes[ye].parentNode)&&z.push(this.parent.registeredTemplate.template[Re]);this.parent.destroyTemplate(["template"],z)}!this.parent.isReact&&!this.parent.isVue||"infiniteScroll"===e.requestType||e.isFrozen||t_(this.parent,[this.parent.isVue?"template":"columnTemplate","rowTemplate","detailTemplate","captionTemplate","commandsTemplate","groupFooterTemplate","groupCaptionTemplate"]),this.parent.enableColumnVirtualization&&new iX(this.serviceLocator,this.parent).updateVirtualCells(k),p||(this.tbody=this.getTable().querySelector(Ke));let oe=0,ae=!0;if(dr(t)&&t.vcRows.length){const z="top",Re=h(e.virtualInfo.offsets)?h(e.scrollTop)?0:e.scrollTop[z]:e.virtualInfo.offsets.top;if(0!==Re){const ye=t.vGroupOffsets,le=t.pageSettings.pageSize/2,ge=Object.keys(ye).map(Y=>ye[Y]);for(let Y=0;Y<ge.length;Y++)if(Re<ge[Y]){if(h(e.virtualInfo)||"up"!==e.virtualInfo.direction){oe=Y*le,(this.parent.contentModule.isEndBlock(Y)||this.parent.contentModule.isEndBlock(Y+1))&&(e.virtualInfo.blockIndexes=[Y,Y+1]);break}oe=Y>0?(Y-1)*le:Y*le;break}Math.round(Re+this.contentPanel.firstElementChild.offsetHeight)>=this.contentPanel.firstElementChild.scrollHeight&&!e.rowObject&&(ae=!1)}}const xe=t.frozenRows&&!t.isFrozenGrid()&&this.parent.enableVirtualization&&"reorder"===e.requestType;if(t.frozenRows&&"virtualscroll"===e.requestType&&"X"===e.virtualInfo.sentinelInfo.axis||xe){const z=e.virtualInfo.blockIndexes,Re=e.virtualInfo.page;e.virtualInfo.blockIndexes=[1,2],xe&&(e.virtualInfo.page=1);const le=this.vgenerator.generateRows(xe?this.initialPageRecords:i,e);le.splice(this.parent.frozenRows);for(let ge=0;ge<this.parent.frozenRows;ge++)le[ge].cells.splice(0,this.parent.getFrozenColumns()),c=f.render(le[ge],a),l.appendChild(c);e.virtualInfo.blockIndexes=z,e.virtualInfo.page=Re,xe&&1===e.virtualInfo.page&&k.splice(0,this.parent.frozenRows)}this.virtualFrozenHdrRefresh(l,k,f,e,i,a);for(let z=oe,Re=k.length;z<Re;z++)if(this.rows.push(k[z]),!this.parent.groupSettings.enableLazyLoading||this.useGroupCache||!this.parent.groupSettings.columns.length||(this.setRowsInLazyGroup(k[z],z),!h(k[z].indent))){if(this.setInfiniteVisibleRows(e,k[z],I),dr(t)&&e.virtualInfo&&e.virtualInfo.blockIndexes&&this.rowElements.length>=e.virtualInfo.blockIndexes.length*this.parent.contentModule.getBlockSize()&&ae){this.parent.currentViewData.records=this.rows.map(ye=>ye.data);break}if(t.rowTemplate){const ye=t.element.id+"rowTemplate";let le;if(t.isReact){const Y=t.frozenRows&&z<t.frozenRows,U=O({index:z},i[z]);t.getRowTemplate()(U,t,"rowTemplate",ye,null,null,Y?l:o),t.renderTemplates()}else le=t.getRowTemplate()(O({index:z},i[z]),t,"rowTemplate",ye,void 0,void 0,void 0,this.parent.root);if(t.isReact||"TBODY"!==le[0].tagName)t.frozenRows&&z<t.frozenRows?c=t.isReact?l.lastElementChild:Ur(l,le):(t.isReact||(c=Ur(o,le)),g=t.isReact?o.lastElementChild:c.lastElementChild);else{for(let Y=0;Y<le.length;Y++){const U="tr"===le[Y].nodeName.toLowerCase();(U||le[Y].querySelectorAll&&le[Y].querySelectorAll("tr").length)&&(c=U?le[Y]:le[Y].querySelector("tr"))}t.frozenRows&&z<t.frozenRows?l.appendChild(c):o.appendChild(c)}this.parent.trigger(sQ,{data:k[z].data,row:g||c})}else{c=f.render(k[z],a);const ye=this.ensureFrozenHeaderRender(e);t.frozenRows&&z<t.frozenRows&&!m&&"virtualscroll"!==e.requestType&&ye&&this.ensureVirtualFrozenHeaderRender(e)?l.appendChild(c):o.appendChild(c),k[z].isExpand&&t.notify("expandchildgrid",c.cells[t.groupSettings.columns.length])}k[z].isDataRow&&this.rowElements.push(c),this.ariaService.setOptions(this.getTable(),{colcount:t.getColumns().length.toString()})}if(p&&n.splitRows(I),t.frozenRows&&"virtualscroll"!==e.requestType&&!m&&this.ensureVirtualFrozenHeaderRender(e)||"virtualscroll"===e.requestType&&e.virtualInfo.sentinelInfo&&"X"===e.virtualInfo.sentinelInfo.axis)if(d=p?n.getFrozenHeader(I):t.getHeaderTable().querySelector(Ke),s){const z=d.parentElement;X(d),z.appendChild(l)}else d.innerHTML="",d.appendChild(l);!t.enableVirtualization&&t.frozenRows&&0===P&&w.offsetHeight===Number(t.height)&&(w.style.height=w.offsetHeight-d.offsetHeight+"px"),e.rows=this.rows.slice(0),p&&n.setIsFrozen(e,I),this.index=P,gX(()=>{this.parent.notify(FQ,e);const z=this.parent.enableVirtualization&&this.parent.isFrozenGrid();if(!this.parent.enableVirtualization&&!m&&(this.parent.isFrozenGrid()?(X(n.getTbody(I)),b=this.parent.createElement(Ke,{attrs:{role:"rowgroup"}})):(this.tbody.innerHTML="",X(this.tbody),this.tbody=this.parent.createElement(Ke,{attrs:{role:"rowgroup"}}))),!p||z||this.parent.enableInfiniteScrolling)if(z){if(e.renderFrozenRightContent){const Re=t.getContent().querySelector(".e-frozen-right-content").querySelector(Ke);this.appendContent(Re,o,e)}else e.renderMovableContent?(this.appendContent(x.querySelector(Ke),o,e),e.renderMovableContent=!1):this.appendContent(v.querySelector(Ke),o,e);this.parent.getFrozenColumns()||n.renderNextFrozentPart(e,I)}else!h(this.parent.infiniteScrollModule)&&this.parent.enableInfiniteScrolling?(this.isAddRows=!1,this.parent.notify("remove-infinite-rows",{args:e}),this.parent.notify("append-infinite-content",{tbody:b||this.tbody,frag:o,args:e,rows:this.rows,rowElements:this.rowElements,visibleRows:this.visibleRows,tableName:I}),!u&&p&&(t.getFrozenMode()!==Lt&&(I===Os||I===Ln)||t.getFrozenMode()===Lt&&(I===Os||"movable"===I))&&this.refreshContentRows(O({},e))):(this.useGroupCache=!1,this.appendContent(this.tbody,o,e));else this.appendContent(b,o,e,I);u&&n.renderNextFrozentPart(e,I),o=null},this.rafCallback(O({},e)))}emptyVcRows(){this.parent.vcRows=[],this.parent.vRows=[]}appendContent(e,t,i,n){this.parent.isReact&&!h(this.parent.rowTemplate)?this.getTable().appendChild(t):(e.appendChild(t),this.getTable().appendChild(e))}setRowsInLazyGroup(e,t){this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&this.parent.contentModule.maintainRows(e,t)}setGroupCache(e,t){!this.useGroupCache&&this.parent.groupSettings.enableLazyLoading&&this.parent.notify("group-cache",{args:t,data:e})}ensureFrozenHeaderRender(e){return!(this.parent.enableVirtualization&&("reorder"===e.requestType||"refresh"===e.requestType)||this.parent.infiniteScrollSettings.enableCache&&this.parent.frozenRows&&"delete"===this.parent.infiniteScrollModule.requestType&&1!==this.parent.pageSettings.currentPage)}ensureVirtualFrozenHeaderRender(e){return!(this.parent.enableVirtualization&&"delete"===e.requestType)}checkCache(e,t){if(this.parent.infiniteScrollSettings.enableCache&&"infiniteScroll"===t.requestType){const i=t.isFrozen?1:0,n=this.parent.isFrozenGrid();if(this.isAddRows=!h(this.infiniteCache[this.parent.pageSettings.currentPage]),n&&!h(this.infiniteCache[this.parent.pageSettings.currentPage])&&(this.isAddRows=0!==this.infiniteCache[this.parent.pageSettings.currentPage][i].length),this.isAddRows){const s=n?this.infiniteCache[this.parent.pageSettings.currentPage][i]:this.infiniteCache[this.parent.pageSettings.currentPage];e=1===this.parent.pageSettings.currentPage?s.slice(this.parent.frozenRows):s}return e}return this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length&&("paging"===t.requestType||"columnstate"===t.requestType||"reorder"===t.requestType)&&this.parent.contentModule.getGroupCache()[this.parent.pageSettings.currentPage]?(this.useGroupCache=!0,this.parent.contentModule.initialGroupRows("reorder"===t.requestType)):null}setInfiniteVisibleRows(e,t,i){const n=this.parent.isFrozenGrid();this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&(n?i===Os||"Right"===this.parent.getFrozenMode()&&i===Ln?this.visibleFrozenRows.push(t):"movable"===i?this.visibleRows.push(t):this.rightFreezeRows.push(t):this.parent.infiniteScrollSettings.enableCache||this.visibleRows.push(t))}getCurrentBlockInfiniteRecords(e){let t=[];if(this.parent.infiniteScrollSettings.enableCache){if(!Object.keys(this.infiniteCache).length)return[];const i=this.parent.isFrozenGrid(),n=this.parent.getRows();let s=parseInt(n[this.parent.frozenRows].getAttribute(Zt),10);const o=Math.ceil((s+1)/this.parent.pageSettings.pageSize);s=parseInt(n[n.length-1].getAttribute(Zt),10);const l=Math.ceil(s/this.parent.pageSettings.pageSize);if(i){const a=e?0:1;for(let c=o;c<=l;c++)t=t.length?t.concat(this.infiniteCache[c][a]):this.infiniteCache[c][a];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(t=this.infiniteCache[1][a].slice(0,this.parent.frozenRows).concat(t))}else{for(let a=o;a<=l;a++)t=t.length?t.concat(this.infiniteCache[a]):this.infiniteCache[a];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(t=this.infiniteCache[1].slice(0,this.parent.frozenRows).concat(t))}}return t}getReorderedVFRows(e){return this.parent.contentModule.getReorderedFrozenRows(e)}getReorderedRows(e){return this.parent.contentModule.getReorderedFrozenRows(e)}virtualFrozenHdrRefresh(e,t,i,n,s,o){if(this.parent.frozenRows&&this.parent.enableVirtualization&&("reorder"===n.requestType||"refresh"===n.requestType)){let l,a=[];this.parent.isFrozenGrid()?(this.currentMovableRows=s,a=this.getReorderedVFRows(n)):a=this.getReorderedRows(n);for(let c=0;c<a.length;c++)l=i.render(a[c],o),e.appendChild(l);1===n.virtualInfo.page&&t.splice(0,this.parent.frozenRows),n.renderMovableContent&&(this.parent.currentViewData=this.currentMovableRows,this.currentMovableRows=null)}}getInfiniteRows(){let e=[];const t=this.parent.isFrozenGrid();if(this.parent.enableInfiniteScrolling)if(this.parent.infiniteScrollSettings.enableCache){const i=Object.keys(this.infiniteCache);for(let n=0;n<i.length;n++)e=t?[...e,...this.infiniteCache[i[n]][0]]:[...e,...this.infiniteCache[i[n]]]}else e=t?this.visibleFrozenRows:this.visibleRows;return e}getInfiniteMovableRows(){const e=this.getCurrentBlockInfiniteRecords();return this.parent.enableInfiniteScrolling?e.length?e:this.visibleRows:[]}getPanel(){return this.contentPanel}setPanel(e){this.contentPanel=e}getTable(){return this.contentTable}setTable(e){this.contentTable=e}getRows(){const e=this.getInfiniteRows();return e.length?e:this.parent.getFrozenColumns()?this.freezeRows:this.rows}getMovableRows(){const e=this.getInfiniteMovableRows();return e.length?e:this.movableRows}getRowElements(){return this.parent.getFrozenColumns()?this.freezeRowElements:this.rowElements}getMovableRowElements(){return this.rowElements}setRowElements(e){this.rowElements=e}getColGroup(){return this.colgroup}setColGroup(e){return h(e)||(e.id="content-"+e.id),this.colgroup=e}setVisible(e){const t=this.parent,i=this.parent.isFrozenGrid(),n=t.getFrozenColumns();let o,s=[];if(i){const p=this.freezeRows,g=this.movableRows,f=p.length;let m,v=[];t.getFrozenMode()===Lt&&(v=t.getFrozenRightRowsObject());for(let w,x=0;x<f;x++){m=g[x].cells.length;const b=v.length?v[x].cells.length:0;w=p[x].clone();for(let I=0;I<m;I++)w.cells.push(g[x].cells[I]);for(let I=0;I<b;I++)w.cells.push(v[x].cells[I]);s.push(w)}}else s=this.getRows();s.some(p=>(p.isDataRow&&(o=p),p.isDataRow));let l=!0;!t.groupSettings.columns.length&&o&&(l=!1);let a=t.getDataRows(),u=this.infiniteRowVisibility()||this.rows.filter(p=>!p.isDetailRow);for(let p=0,g=e.length;p<g;p++){const f=e[p];let m=this.parent.getNormalizedColumnIndex(f.uid),v=this.parent.getColumnIndexByUid(f.uid);const x=!0===f.visible?"":"none";if(-1!==m&&o&&m<o.cells.length)if(i)if("movable"!==f.getFreezeTableName())f.getFreezeTableName()===Ln?(v=m-=this.parent.getFrozenLeftColumnsCount()+this.parent.getMovableColumnsCount(),lt(this.parent.getContent().querySelector(".e-frozen-right-content").querySelector(ni).childNodes[m],{display:x}),u=t.getFrozenRightRowsObject(),a=t.getFrozenRightDataRows()):(lt(this.getColGroup().childNodes[m],{display:x}),u=this.infiniteRowVisibility(!0)||this.freezeRows,a=t.getDataRows());else{const w=t.getContent().querySelector("."+hn).querySelector(ni);v=m=m-n-this.parent.getFrozenLeftColumnsCount(),lt(w.childNodes[m],{display:x}),a=t.getMovableDataRows(),u=this.infiniteRowVisibility()||this.movableRows}else lt(this.getColGroup().childNodes[m],{display:x});l||(this.setDisplayNone(a,v,x,u),i&&this.parent.notify(Nd,{case:"refreshHeight",isModeChg:!0})),!this.parent.invokedFromMedia&&f.hideAtMedia&&this.parent.updateMediaColumns(f),this.parent.invokedFromMedia=!1}l?this.refreshContentRows({requestType:"refresh"}):this.parent.getFrozenColumns()?(this.parent.notify(V1,{rows:this.freezeRows,args:{isFrozen:!0,rows:this.freezeRows}}),this.parent.notify(V1,{rows:this.movableRows,args:{isFrozen:!1,rows:this.movableRows}})):this.parent.notify(V1,{rows:u,args:{}})}setDisplayNone(e,t,i,n){(function EX(r,e,t,i,n,s){const o=Object.keys(r);for(let l=0;l<o.length;l++){const a=r[o[l]].querySelectorAll("td.e-rowcell")[e];if(r[o[l]].querySelectorAll("td.e-rowcell").length&&a)if(lt(r[o[l]].querySelectorAll("td.e-rowcell")[e],{display:t}),r[o[l]].querySelectorAll("td.e-rowcell")[e].classList.contains("e-hide")&&T([r[o[l]].querySelectorAll("td.e-rowcell")[e]],["e-hide"]),s&&n.isRowDragable()){const c=n.getFrozenColumns()?e:e+1;i[o[l]].cells[c].visible=""===t}else i[o[l]].cells[e].visible=""===t}})(e,t,i,n,this.parent,this.parent.isRowDragable()),this.parent.notify("infinite-show-hide",{visible:i,index:t,isFreeze:this.isInfiniteFreeze})}infiniteRowVisibility(e){let t;return this.parent.enableInfiniteScrolling&&(this.isInfiniteFreeze=e,t=this.parent.infiniteScrollSettings.enableCache?e?this.getCurrentBlockInfiniteRecords(!0):this.getCurrentBlockInfiniteRecords():e?this.visibleFrozenRows:this.visibleRows),t}colGroupRefresh(){if(this.getColGroup()){let e;e=this.parent.enableColumnVirtualization&&this.parent.getFrozenColumns()&&this.parent.contentModule.isXaxis()?this.parent.getMovableVirtualHeader().querySelector(ni).cloneNode(!0):this.getHeaderColGroup(),this.getTable().replaceChild(e,this.getColGroup()),this.setColGroup(e)}}getHeaderColGroup(){return this.parent.element.querySelector("."+br).querySelector(ni).cloneNode(!0)}initializeContentDrop(){this.droppable=new id(this.parent.element,{accept:".e-dragclone",drop:this.drop})}droppableDestroy(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy()}canSkip(e,t,i){return h(t)||h(e.visible)||t.cells[i].visible===e.visible}getModelGenerator(){return this.generator=this.parent.allowGrouping?new $E(this.parent):new Ph(this.parent)}renderEmpty(e){this.getTable().appendChild(e),this.parent.frozenRows&&(this.parent.getHeaderContent().querySelector(Ke).innerHTML="")}setSelection(e,t,i){this.parent.notify(A5,{uid:e,set:t,clearAll:i});const n=this.parent.isFrozenGrid();if(n&&this.parent.enableVirtualization)return;if(n){const o=this.getMovableRows().filter(l=>i||e===l.uid);for(let l=0;l<o.length;l++)o[l].isSelected=t}const s=this.getRows().filter(o=>i||e===o.uid);for(let o=0;o<s.length;o++){s[o].isSelected=t;const l=s[o].cells;for(let a=0;a<l.length;a++)l[a].isSelected=t}}getRowByIndex(e){return e=this.getInfiniteRowIndex(e),this.parent.getDataRows()[e]}getInfiniteRowIndex(e){if(this.parent.infiniteScrollSettings.enableCache){const t=this.parent.frozenRows,i=t>e?0:t,n=parseInt(this.parent.getRows()[i].getAttribute(Zt),10);e=t>e?e:e-n+t}return e}getVirtualRowIndex(e){return e}getMovableRowByIndex(e){return e=this.getInfiniteRowIndex(e),this.parent.getMovableDataRows()[e]}enableAfterRender(e){"group"===e.module&&e.enable&&(this.generator=this.getModelGenerator())}setRowObjects(e){this.rows=e}immutableModeRendering(e={}){const t=this.parent;t.hideSpinner();const i=t.getPrimaryKeyFieldNames()[0],n={},s={},o=[],l={},a=t.getRowsObject().slice(),c=this.getBatchEditedRecords(i,a),d={},u=0!==Object.keys(c).length;if(t.getContent().querySelector(".e-emptyrow")||"reorder"===e.requestType||this.parent.groupSettings.columns.length)this.refreshContentRows(e);else{if(0===t.currentViewData.length)return;const p={},g=t.createElement(Ke,{attrs:{role:"rowgroup"}}),f=t.currentViewData,m=[].slice.call(this.getTable().querySelector(Ke).children);if(this.prevCurrentView.length){const v=this.prevCurrentView.length,x=f.length;if(v===x)for(let w=0;w<x;w++)"Batch"===this.parent.editSettings.mode&&m[w].classList.contains("e-insertedrow")?(m.splice(w,1),--w):(s[f[w][i]]=n[this.prevCurrentView[w][i]]=w,d[w]=f[w][i],p[a[w].uid]=m[w],l[w]=this.prevCurrentView[w][i]);else{for(let w=0;w<x;w++)s[f[w][i]]=w,d[w]=f[w][i];for(let w=0;w<v;w++)"Batch"===this.parent.editSettings.mode&&m[w].classList.contains("e-insertedrow")?(m.splice(w,1),--w):(p[a[w].uid]=m[w],n[this.prevCurrentView[w][i]]=w,l[w]=this.prevCurrentView[w][i])}}for(let v=0;v<f.length;v++){const x=n[f[v][i]];if(h(x)){const w=new ya(this.serviceLocator,null,t),b=this.generator.generateRows([f[v]]);o.push(b[0]);const I=w.render(b[0],t.getColumns());g.appendChild(I),this.refreshImmutableContent(v,I,o[v])}else{let w=!1;this.parent.enableDeepCompare&&(w=this.objectEqualityChecker(this.prevCurrentView[x],f[v]));const b=p[a[x].uid];if(o.push(a[x]),this.rowElements[x]&&this.rowElements[x].getAttribute("data-uid")===o[v].uid&&(u&&h(c[d[v]])||!u&&(w||this.prevCurrentView[x]===f[v]))){x!==v&&this.refreshImmutableContent(v,b,o[v]),g.appendChild(b);continue}(u&&!h(c[d[v]])||!this.parent.enableDeepCompare&&f[v]!==this.prevCurrentView[x]||this.parent.enableDeepCompare&&!w)&&a[x].setRowValue(f[v]),g.appendChild(b),this.refreshImmutableContent(v,b,o[v])}}if(this.rows=o,this.rowElements=[].slice.call(g.children),X(this.getTable().querySelector(Ke)),this.getTable().appendChild(g),this.parent.trigger(za,{},()=>{this.parent.allowTextWrap&&this.parent.notify(Nd,{case:"textwrap"})}),e){const v=(e.requestType||"").toLowerCase()+"-complete";this.parent.notify(v,e)}}}objectEqualityChecker(e,t){const i=Object.keys(e);let n=!0;for(let s=0;s<i.length;s++)if(!(e[i[s]]===t[i[s]]||e[i[s]]instanceof Date&&t[i[s]]instanceof Date&&e[i[s]].getTime()===t[i[s]].getTime())){n=!1;break}return n}getBatchEditedRecords(e,t){const i={},n=this.parent.getBatchChanges();let s=[],o=[];Object.keys(n).length&&(s=n.changedRecords,o=n.addedRecords);const l={cancel:!1};this.parent.notify("immutable-batch-cancel",{rows:t,args:l}),o.length&&("Bottom"===this.parent.editSettings.newRowPosition?t.splice(t.length-1,o.length):l.cancel||t.splice(0,o.length));for(let a=0;a<s.length;a++)i[s[a][e]]=a;return i}refreshImmutableContent(e,t,i){i.isAltRow=!!this.parent.enableAltRow&&e%2!=0,i.isAltRow?t.classList.add("e-altrow"):t.classList.remove("e-altrow"),i.index=e,i.edit=void 0,i.isDirty=!1,t.setAttribute(Zt,e.toString()),this.updateCellIndex(t,e)}updateCellIndex(e,t){for(let i=0;i<e.cells.length;i++)e.cells[i].setAttribute("index",t.toString())}}class K5{constructor(e,t){this.frzIdx=0,this.notfrzIdx=0,this.isFirstCol=!1,this.isReplaceDragEle=!0,this.helper=i=>{const n=this.parent,s=this.draggable.currentStateTarget,o=Ce(s,"e-headercell");if(!n.allowReordering&&!n.allowGrouping||!h(o)&&o.getElementsByClassName("e-checkselectall").length>0)return!1;const l=this.parent.createElement("div",{className:"e-cloneproperties e-dragclone e-headerclone"}),a=s.classList.contains("e-headercell")?s:o;if(!a||!n.allowReordering&&a.classList.contains("e-stackedheadercell"))return!1;const c=a.offsetHeight,d=a.querySelector(".e-headercelldiv")||a.querySelector(".e-stackedheadercelldiv");let u;if(d){if(u=a.querySelector(".e-stackedheadercelldiv")?n.getStackedHeaderColumnByHeaderText(d.innerText.trim(),n.columns):n.getColumnByUid(d.getAttribute("e-mappinguid")),this.column=u,this.column.lockColumn)return!1;l.setAttribute("e-mappinguid",this.column.uid)}if(u&&!h(u.headerTemplate))if(h(u.headerTemplate))l.innerHTML=u.headerTemplate;else{const p=n.getColumnIndexByField(u.field);Ur(l,u.getHeaderTemplate()(O({index:p},u),n,"headerTemplate"))}else l.innerHTML=d?u.headerText:a.firstElementChild.innerHTML;return l.style.width=a.offsetWidth+"px",l.style.height=a.offsetHeight+"px",l.style.lineHeight=(c-6).toString()+"px",n.element.appendChild(l),l},this.dragStart=i=>{const n=this.parent;n.element.querySelector(".e-gridpopup").style.display="none",n.notify("columnDragStart",{target:this.draggable.currentStateTarget,column:this.column,event:i.event})},this.drag=i=>{const n=this.parent,s=i.target;if(s){const o=D(s,".e-grid"),l=this.parent.element.querySelector(".e-cloneproperties");if(!(o&&o.getAttribute("id")===n.element.getAttribute("id")||(ze(l,["e-notallowedcur"],["e-defaultcur"]),n.allowReordering&&(n.element.querySelector(".e-reorderuparrow").style.display="none",n.element.querySelector(".e-reorderdownarrow").style.display="none"),n.groupSettings.allowReordering)))return;n.notify("columnDrag",{target:i.target,column:this.column,event:i.event})}},this.dragStop=i=>{const n=this.parent;let s;n.element.querySelector(".e-gridpopup").style.display="none",(!Ce(i.target,"e-headercell")&&!Ce(i.target,"e-groupdroparea")||!n.allowReordering&&Ce(i.target,"e-headercell")||!i.helper.getAttribute("e-mappinguid")&&Ce(i.target,"e-groupdroparea"))&&(X(i.helper),s=!0),n.notify("column-drag-stop",{target:i.target,event:i.event,column:this.column,cancel:s})},this.drop=i=>{const n=this.parent,s=i.droppedElement.getAttribute("e-mappinguid"),o=D(i.target,".e-grid");X(i.droppedElement),!(o&&o.getAttribute("id")!==n.element.getAttribute("id")||!n.allowReordering&&!n.allowGrouping)&&n.notify("header-drop",{target:i.target,uid:s,droppedElement:i.droppedElement})},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.widthService=this.serviceLocator.getService("widthService"),!this.parent.isDestroyed&&(!this.parent.enableColumnVirtualization&&!this.parent.getFrozenLeftColumnsCount()&&!this.parent.getFrozenRightColumnsCount()&&this.parent.on(Bd,this.setVisible,this),this.parent.on(Ax,this.colPosRefresh,this),this.parent.on(ol,this.renderCustomToolbar,this),"Vertical"===this.parent.rowRenderingMode&&this.parent.on(as,this.updateCustomResponsiveToolbar,this))}renderPanel(){let e=this.parent.element.querySelector("."+br);const t=null!=e;e=t?e:this.parent.createElement("div",{className:"e-gridheader"});const i=t?e.querySelector("."+cr):this.parent.createElement("div",{className:cr});this.toggleStackClass(e),e.appendChild(i),this.setPanel(e),t||this.parent.element.appendChild(e)}renderTable(){const e=this.getPanel();e.appendChild(this.createHeaderTable()),this.setTable(e.querySelector("."+Tn)),!this.parent.getFrozenColumns()&&!this.parent.getFrozenRightColumnsCount()&&!this.parent.getFrozenLeftColumnsCount()&&(this.initializeHeaderDrag(),this.initializeHeaderDrop()),this.parent.notify(io,{rows:this.rows,args:{isFrozen:this.parent.isFrozenGrid()}})}getPanel(){return this.headerPanel}setPanel(e){this.headerPanel=e}getTable(){return this.headerTable}setTable(e){this.headerTable=e}getColGroup(){return this.colgroup}setColGroup(e){return this.colgroup=e}getRows(){return this.getTable().tHead.rows}createHeaderTable(){const e=this.createTable(),t=this.getPanel().querySelector("."+cr);return t.appendChild(e),t}createHeader(e=null,t){const i=this.parent,n=i.isFrozenGrid();this.getTable()&&!n&&X(this.getTable());const s=this.parent.createElement("table",{className:Tn,attrs:{cellspacing:"0.25px",role:"grid"}}),o=t||(i.getFrozenLeftCount()?"frozen-left":"frozen-right"),l=this.createHeaderContent(o),a=l.thead,c=this.parent.createElement(Ke,{className:this.parent.frozenRows?"":"e-hide",attrs:{role:"rowgroup"}});this.caption=this.parent.createElement("caption",{innerHTML:this.parent.element.id+"_header_table",className:"e-hide"});const d=this.parent.createElement(ni),u=this.parent.createElement("tr",{attrs:{role:"row"}});let p;const g=this.rows=l.rows;for(let f=0,m=g.length;f<m;f++)for(let v=0,x=g[f].cells.length;v<x;v++)p=this.parent.createElement("td"),u.appendChild(p);return(i.allowFiltering||i.allowSorting||i.allowGrouping)&&s.classList.add("e-sortfilter"),this.updateColGroup(d),c.appendChild(u),s.appendChild(this.setColGroup(d)),s.appendChild(a),s.appendChild(c),s.appendChild(this.caption),this.ariaService.setOptions(s,{colcount:i.getColumns().length.toString()}),s}createTable(e=null){return this.createHeader(e)}createHeaderContent(e){const t=this.parent;let i=1;const n=t.getFrozenMode(),s=t.getColumns(),o=this.parent.createElement("thead",{attrs:{role:"rowgroup"}}),l=this.parent.createElement("tr",{className:"e-columnheader",attrs:{role:"row"}}),a=new ya(this.serviceLocator,Ct.Header,t);a.element=l;let d,c=[];this.colDepth=function lT(r){let e=0;for(let t=0;t<r.length;t++){const i=bX(r[t],0);e<i&&(e=i)}return e+1}(t.columns);for(let g=0,f=this.colDepth;g<f;g++)c[g]=this.generateRow(g),c[g].cells=[];"Right"!==n&&(c=this.ensureColumns(c)),c=this.getHeaderCells(c,e),"Right"===n&&(i=0,c=this.ensureColumns(c));const u=this.parent.getFrozenColumns();if(this.parent.isRowDragable()&&this.parent.isFrozenGrid()&&c[0].cells[i]){const g=c[0].cells[i].column.getFreezeTableName();"movable"===g||n===Lt&&g===Ln?"Right"===n?c[0].cells.pop():c[0].cells.shift():u||g!==Os?"Right"===n&&g===Ln&&(c[0].cells[c[0].cells.length-1].column.freeze="Right"):c[0].cells[0].column.freeze=g===Os?"Left":"Right"}for(let g=0,f=this.colDepth;g<f;g++)d=a.render(c[g],s),this.parent.rowHeight&&d.querySelector(".e-headercell")&&(d.style.height=this.parent.rowHeight+"px"),o.appendChild(d);return{thead:o,rows:c}}updateColGroup(e){let i,t=this.parent.getColumns();const n=this.parent.getColumnIndexesInView();if(this.parent.enableColumnVirtualization&&this.parent.getFrozenColumns()&&this.parent.contentModule.isXaxis()&&(t=O([],this.parent.getColumns()),t.splice(0,this.parent.getFrozenColumns())),e.id=this.parent.element.id+ni,this.parent.allowGrouping)for(let s=0,o=this.parent.groupSettings.columns.length;s<o;s++)this.parent.enableColumnVirtualization&&-1===n.indexOf(s)||(i=this.parent.createElement("col",{className:"e-group-intent"}),e.appendChild(i));(this.parent.detailTemplate||this.parent.childGrid)&&(i=this.parent.createElement("col",{className:"e-detail-intent"}),e.appendChild(i)),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(i=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(i));for(let s=0,o=t.length;s<o;s++)i=this.parent.createElement("col"),!1===t[s].visible&&lt(i,{display:"none"}),e.appendChild(i);return this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&(i=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(i)),e}ensureColumns(e){const t=this.parent,i=this.parent.getColumnIndexesInView();for(let n=0,s=e.length;n<s;n++){if(t.allowGrouping)for(let o=0,l=t.groupSettings.columns.length;o<l;o++)this.parent.enableColumnVirtualization&&-1===i.indexOf(o)||e[n].cells.push(this.generateCell({},Ct.HeaderIndent));if(t.detailTemplate||t.childGrid){const o={};this.parent.notify(NQ,o),e[n].cells.push(this.generateCell(o,Ct.DetailHeader))}t.isRowDragable()&&e[n].cells.push(this.generateCell({},Ct.RowDragHIcon))}return e}getHeaderCells(e,t){const i=this.parent.getHeaderTable()&&this.parent.getHeaderTable().querySelector("thead"),n=this.parent.enableColumnVirtualization?this.parent.getColumns(this.parent.enablePersistence):this.parent.columns;if(this.frzIdx=0,this.notfrzIdx=0,this.parent.lockcolPositionCount)for(let s=0;s<n.length;s++)this.lockColsRendered=!1,e=this.appendCells(n[s],e,0,0===s,!1,s===n.length-1,i,t,!1);for(let s=0,o=n.length;s<o;s++)this.notfrzIdx=0,this.lockColsRendered=!0,e=this.appendCells(n[s],e,0,0===s,!1,s===o-1,i,t,!1);return e}appendCells(e,t,i,n,s,o,l,a,c){const d=o?c?"e-laststackcell":"e-lastcell":"",u=this.parent.isFrozenGrid(),p=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered,g=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered,f=this.parent.getContent().querySelector(".e-movablescrollbar");let m;if(u&&f&&this.parent.enableColumnVirtualization&&(m=f.scrollLeft),e.columns){this.isFirstCol=!1;const v=this.getCellCnt(e,0);if(v){const x=this.getStackedLockColsCount(e,0),w=0===this.parent.lockcolPositionCount||!this.lockColsRendered&&0!==x||this.lockColsRendered&&v-x!=0,b=u&&this.ensureStackedFrozen(e.columns,a,!1);(!u&&w||b)&&t[i].cells.push(new ja({cellType:Ct.StackedHeader,column:e,colSpan:this.getColSpan(v,x,e.columns,a,u),className:n?"":s?"e-firstcell":""}))}if(this.parent.lockcolPositionCount&&!this.lockColsRendered)for(let x=0;x<e.columns.length;x++)t=this.appendCells(e.columns[x],t,i+1,n,0===x,x===e.columns.length-1&&o,l,a,!1);if(this.lockColsRendered)for(let x=0,w=e.columns.length;x<w;x++){n=n&&0===x;const b=this.isFirstCol=e.columns[x].visible&&!n,I=x===w-1&&o;t=this.appendCells(e.columns[x],t,i+1,n,b&&!I,I,l,a,!0)}}else(m&&m>0&&this.parent.contentModule.isXaxis()&&0!==this.parent.inViewIndexes[0]&&"movable"===e.getFreezeTableName()||!u&&p||u&&e.getFreezeTableName()===a&&g)&&t[i].cells.push(this.generateCell(e,Ct.Header,this.colDepth-i,(n?"":s?"e-firstcell":"")+d,i,this.parent.getColumnIndexByUid(e.uid))),this.parent.lockcolPositionCount?this.frzIdx+this.notfrzIdx<this.parent.frozenColumns&&(e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered)?this.frzIdx++:this.notfrzIdx++:this.frzIdx++;return t}ensureStackedFrozen(e,t,i){const n=e.length;for(let s=0;s<n;s++)if(e[s].columns)i=this.ensureStackedFrozen(e[s].columns,t,i);else if(e[s].getFreezeTableName()===t){i=!0;break}return i}getStackedLockColsCount(e,t){if(e.columns)for(let i=0;i<e.columns.length;i++)t=this.getStackedLockColsCount(e.columns[i],t);else e.lockColumn&&t++;return t}getColSpan(e,t,i,n,s){return s?e=this.getFrozenColSpan(i,n,0):this.parent.lockcolPositionCount&&(e=this.lockColsRendered?e-t:t),e}getFrozenColSpan(e,t,i){const n=e.length;for(let s=0;s<n;s++)e[s].columns?i=this.getFrozenColSpan(e[s].columns,t,i):e[s].getFreezeTableName()===t&&e[s].visible&&i++;return i}generateRow(e){return new Vd({})}generateCell(e,t,i,n,s,o){const l={visible:e.visible,isDataCell:!1,isTemplate:!h(e.headerTemplate),rowID:"",column:e,cellType:t,rowSpan:i,className:n,index:s,colIndex:o};return(!l.rowSpan||l.rowSpan<2)&&delete l.rowSpan,new ja(l)}setVisible(e){const t=this.parent;let i,n;const s=t.getFrozenColumns();for(let o=0,l=e.length;o<l;o++){const a=e[o];if(n=t.getNormalizedColumnIndex(a.uid),i=a.visible?"":"none",s){const c=this.parent.isRowDragable()?s+1:s;lt(n<c?this.getColGroup().children[n]:t.getHeaderContent().querySelector("."+un).querySelector(ni).children[n-c],{display:i})}else lt(this.getColGroup().children[n],{display:i})}this.refreshUI()}colPosRefresh(){this.refreshUI()}refreshUI(){const e=this.parent.isFrozenGrid(),t=this.parent.enableColumnVirtualization&&e,i=this.getPanel();this.toggleStackClass(i);let n=this.freezeReorder?this.headerPanel.querySelector("."+un).querySelector("."+Tn):this.getTable(),s=this.parent.isFrozenGrid()?this.parent.getFrozenLeftCount()?"frozen-left":"frozen-right":void 0;if(t&&(n=this.parent.contentModule.getVirtualFreezeHeader(),s=this.parent.contentModule.isXaxis()?"movable":s),n){X(n),n.removeChild(n.firstChild),n.removeChild(n.childNodes[0]);const o=this.parent.createElement(ni),l=this.createHeaderContent(s);this.rows=l.rows,n.insertBefore(l.thead,n.firstChild),this.updateColGroup(o),n.insertBefore(this.setColGroup(o),n.firstChild),t||this.setTable(n),this.appendContent(n),this.parent.notify(IE,{}),this.widthService.setWidthToColumns(),this.parent.updateDefaultCursor(),(!e||this.parent.enableColumnVirtualization&&e)&&this.initializeHeaderDrag();const a=[].slice.call(i.querySelectorAll("tr.e-columnheader"));for(const c of a){const d=[].slice.call(c.getElementsByClassName("e-grouptopleftcell"));d.length&&d[d.length-1].classList.add("e-lastgrouptopleftcell")}e||this.parent.notify(io,{rows:this.rows,args:{isFrozen:e}}),this.parent.enableColumnVirtualization&&Ce(n,un)&&this.parent.notify(io,{rows:this.rows,args:{isFrozen:!1,isXaxis:!0}}),this.parent.allowTextWrap&&"Header"===this.parent.textWrapSettings.wrapMode&&Lc(a,!0)}}toggleStackClass(e){this.parent.columns.some(n=>!h(n.columns))?e.classList.add("e-stackedheader"):e.classList.remove("e-stackedheader")}appendContent(e){this.getPanel().querySelector("."+cr).appendChild(e)}getCellCnt(e,t){if(e.columns)for(let i=0,n=e.columns.length;i<n;i++)t=this.getCellCnt(e.columns[i],t);else e.visible&&t++;return t}initializeHeaderDrag(){!(this.parent.allowReordering||this.parent.allowGrouping&&this.parent.groupSettings.showDropArea)||(this.draggable=new Yn(this.parent.getHeaderContent(),{dragTarget:".e-headercell",distance:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,abort:".e-rhandler",isReplaceDragEle:this.isReplaceDragEle}))}initializeHeaderDrop(){new id(this.parent.getHeaderContent(),{accept:".e-dragclone",drop:this.drop})}renderCustomToolbar(){const e=this.parent;if("Vertical"===e.rowRenderingMode&&!e.toolbar&&(e.allowSorting||e.allowFiltering&&"FilterBar"!==e.filterSettings.type)){const t=e.createElement("div",{className:"e-res-toolbar e-toolbar"}),i=e.createElement("div",{className:"e-toolbar-items"}),n=e.createElement("div",{className:"e-toolbar-left"}),s=this.parent.allowFiltering&&this.parent.allowSorting?2:1;for(let o=0;o<s;o++){const l=e.createElement("div",{className:"e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align"}),a=1===s?this.parent.allowSorting?"sort":"filter":1===o?"sort":"filter",c=e.createElement("button",{className:"e-tbar-btn e-control e-btn e-lib e-icon-btn"}),d=e.createElement("span",{className:"e-btn-icon e-res"+a+"-icon e-icons"});c.appendChild(d),new ks({cssClass:this.parent.cssClass?this.parent.cssClass:""}).appendTo(c),c.onclick=p=>{p.target.classList.contains("e-ressort-btn")||p.target.classList.contains("e-ressort-icon")?this.parent.showResponsiveCustomSort():this.parent.showResponsiveCustomFilter()},l.appendChild(c),n.appendChild(l)}i.appendChild(n),t.appendChild(i),e.element.insertBefore(t,this.parent.element.querySelector("."+br))}else e.enableAdaptiveUI&&!e.toolbar&&e.getContent().classList.add("e-responsive-header")}updateCustomResponsiveToolbar(e){const t=this.parent.element.querySelector(".e-responsive-toolbar");"toolbar"===e.module&&(t?X(t):this.renderCustomToolbar())}}class xa{constructor(e,t){this.localizer=t.getService("localization"),this.formatter=t.getService("valueFormatter"),this.parent=e,this.element=this.parent.createElement("TD",{className:Ii,attrs:{role:"gridcell",tabindex:"-1"}}),this.rowChkBox=this.parent.createElement("input",{className:"e-checkselect",attrs:{type:"checkbox","aria-label":"checkbox"}})}getGui(){return""}format(e,t,i){return h(e.format)||("number"===e.type&&isNaN(parseInt(t,10))&&(t=null),t=this.formatter.toView(t,e.getFormatter())),h(t)?"":t.toString()}evaluate(e,t,i,n,s,o){let l;if(t.column.template){const a=this.parent.isReact&&"string"!=typeof t.column.template,c=["index"],d=oT({},i,{[AQ]:s,column:t.column}),u=this.parent.element.id+t.column.uid,p="isStringTemplate";if(a){const g={index:n[c[0]]};t.column.getColumnTemplate()(O(g,d),this.parent,"columnTemplate",u,this.parent[p],null,e),this.parent.renderTemplates()}else l=t.column.getColumnTemplate()(O({index:n[c[0]]},d),this.parent,"template",u,this.parent[p],void 0,void 0,this.parent.root);return a||Ur(e,l),this.parent.notify("template-result",{template:l}),l=null,e.setAttribute("aria-label",e.innerText+" is template cell column header "+t.column.headerText),!1}return!0}invokeFormatter(e,t,i){return h(e.formatter)||(t=function Mke(r,e){return r.prototype&&e in r.prototype}(e.formatter,"getValue")?(new(0,e.formatter)).getValue(e,i):"function"==typeof e.formatter?e.formatter(e,i):e.formatter.getValue(e,i)),t}render(e,t,i,n,s){return this.refreshCell(e,t,i,s)}refreshTD(e,t,i,n){const s="Batch"===this.parent.editSettings.mode&&e.classList.contains("e-editedbatchcell");if(this.parent.isReact){e.innerHTML="";const o=e.cellIndex,l=e.parentElement;X(e);const a=this.refreshCell(t,i,n,s);this.cloneAttributes(a,e),l.cells.length!==o-1?l.insertBefore(a,l.cells[o]):l.appendChild(a)}else{const o=this.refreshCell(t,i,n,s);e.innerHTML="",e.setAttribute("aria-label",o.getAttribute("aria-label"));const l=[].slice.call(o.childNodes);for(const a of l)e.appendChild(a)}}cloneAttributes(e,t){const i=t.attributes;let s,n=i.length;for(;n--;)s=i[n],e.setAttribute(s.name,s.value)}refreshCell(e,t,i,n){const s=this.element.cloneNode(),o=e.column;let l;e.isForeignKey&&(l=e.foreignKeyData[0]||{[o.foreignKeyValue]:o.format?null:""});let a=this.getGui(),c=e.isForeignKey?this.getValue(o.foreignKeyValue,l,o):this.getValue(o.field,t,o);if(("date"===o.type||"datetime"===o.type)&&!h(c)&&(c=new Date(c)),c=this.format(o,c,t),a=c.toString(),"boolean"===o.type&&!o.displayAsCheckBox){const u="true"!==c&&"false"!==c?null:"true"===c?"True":"False";a=u?this.localizer.getConstant(u):a}const d=this.invokeFormatter(o,c,t);if(a=h(o.formatter)?a:h(d)?"":d.toString(),s.setAttribute("aria-label",a+" column header "+e.column.headerText),this.evaluate(s,e,t,i,l,n)&&"checkbox"!==o.type)this.appendHtml(s,a,o.getDomSetter?o.getDomSetter():"innerHTML");else if("checkbox"===o.type){s.classList.add(P0),s.setAttribute("aria-label","checkbox"),c=!!this.parent.selectionSettings.persistSelection&&"true"===c;const u=tl(this.parent.createElement,!1,{checked:c,label:" "});this.rowChkBox.id="checkbox-"+e.rowID,u.insertBefore(this.rowChkBox.cloneNode(),u.firstChild),s.appendChild(u)}if("Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0),this.setAttributes(s,e,i),"boolean"===o.type&&o.displayAsCheckBox){const u=isNaN(parseInt(c.toString(),10))?"true"===c:parseInt(c.toString(),10)>0,p=tl(this.parent.createElement,!1,{checked:u,label:" "});s.innerHTML="",p.classList.add("e-checkbox-disabled"),s.appendChild(p),s.setAttribute("aria-label",u+" column header "+e.column.headerText)}return s}appendHtml(e,t,i="innerHTML"){return e[i]=t,e}setAttributes(e,t,i){const n=t.column;this.buildAttributeFromCell(e,t,"checkbox"===n.type),Fu(e,i),Fu(e,t.attributes),n.customAttributes&&Fu(e,n.customAttributes),"Vertical"===this.parent.rowRenderingMode&&Fu(e,{"data-cell":n.headerText}),n.textAlign&&(e.style.textAlign=n.textAlign),"Clip"===n.clipMode||!n.clipMode&&"Clip"===this.parent.clipMode?e.classList.add("e-gridclip"):("EllipsisWithTooltip"===n.clipMode||!n.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&"checkbox"!==n.type&&e.classList.add("e-ellipsistooltip")}buildAttributeFromCell(e,t,i){const n={},o=[];t.colSpan&&(n.colSpan=t.colSpan),t.rowSpan&&(n.rowSpan=t.rowSpan),t.isTemplate&&o.push("e-templatecell"),t.isSelected&&(o.push("e-selectionbackground","e-active"),i&&e.querySelector(".e-frame").classList.add("e-check")),t.isColumnSelected&&o.push("e-columnselection"),t.cellType===Ct.Header?n["aria-colindex"]=t.colIndex:h(t.index)||(n["aria-colindex"]=t.index),t.visible||o.push("e-hide"),n.class=o,Fu(e,n)}getValue(e,t,i){return i.valueAccessor(e,t,i)}}class $1{setOptions(e,t){const i=Object.keys(t);for(let n=0;n<i.length;n++)L0(e,O0[i[n]],t[i[n]])}setExpand(e,t){L0(e,O0.expand,t)}setSort(e,t){L0(e,O0.sort,t,"boolean"==typeof t)}setBusy(e,t){L0(e,O0.busy,t),L0(e,O0.invalid,null,!0)}setGrabbed(e,t,i){L0(e,O0.grabbed,t,i)}setDropTarget(e,t){L0(e,O0.dropeffect,"copy",!t)}}function L0(r,e,t,i){i&&r?r.removeAttribute(e):r&&r.setAttribute(e,t)}const O0={expand:"aria-expanded",role:"role",datarole:"data-role",selected:"aria-selected",multiselectable:"aria-multiselectable",sort:"aria-sort",busy:"aria-busy",invalid:"aria-invalid",grabbed:"aria-grabbed",dropeffect:"aria-dropeffect",haspopup:"aria-haspopup",level:"aria-level",colcount:"aria-colcount",rowcount:"aria-rowcount"};class sX extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-headercell",attrs:{role:"columnheader",tabindex:"-1"}}),this.ariaService=new $1,this.hTxtEle=this.parent.createElement("span",{className:"e-headertext"}),this.sortEle=this.parent.createElement("div",{className:"e-sortfilterdiv e-icons"}),this.gui=this.parent.createElement("div"),this.chkAllBox=this.parent.createElement("input",{className:"e-checkselectall",attrs:{type:"checkbox","aria-label":"checkbox"}})}getGui(){return this.gui.cloneNode()}render(e,t,i){const n=this.element.cloneNode(),s=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter"});return this.prepareHeader(e,n,s)}refresh(e,t){this.clean(t);const i=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter"});return this.prepareHeader(e,t,i)}clean(e){e.innerHTML=""}prepareHeader(e,t,i){const n=e.column,s={},o=this.getGui();let l,a;if(Le(o,{"e-mappinguid":n.uid,class:"e-headercelldiv"}),h(n.headerValueAccessor)||(l=this.getValue(n.headerText,n)),"checkbox"!==n.type){let u=n.headerText;h(l)||(u=l);const p=this.hTxtEle.cloneNode();p[n.getDomSetter()]=u,o.appendChild(p)}else{n.editType="booleanedit";const u=tl(this.parent.createElement,!1,{checked:!1,label:" "});this.chkAllBox.id="checkbox-"+n.uid,u.insertBefore(this.chkAllBox.cloneNode(),u.firstChild),o.appendChild(u),o.classList.add("e-headerchkcelldiv")}if(this.buildAttributeFromCell(t,e),this.appendHtml(t,o),t.appendChild(this.sortEle.cloneNode()),this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&n.allowFiltering&&!h(n.field)&&(!this.parent.showColumnMenu||!n.showColumnMenu)){Le(i,{"e-mappinguid":"e-flmenu-"+n.uid}),t.classList.add("e-fltr-icon");const u=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==u.length){const p=this.parent.getForeignKeyColumns();for(let g=0;g<this.parent.columns.length;g++)for(let f=0;f<this.parent.filterSettings.columns.length;f++)if(this.parent.filterSettings.columns[f].field===n.field||p.length&&n.foreignKeyValue===this.parent.filterSettings.columns[f].field){i.classList.add("e-filtered"),u.push(n.field);break}}t.appendChild(i.cloneNode())}e.className&&t.classList.add(e.className),n.customAttributes&&Fu(t,n.customAttributes),n.allowSorting&&(s.sort="none"),(this.parent.allowGrouping&&n.allowGrouping||n.allowReordering)&&(s.grabbed=!1),t=this.extendPrepareHeader(n,t);const c=this.parent,d=c.getColumnIndexByField(n.field);if(!h(n.headerTemplate)){const u=c.element.id+n.uid+"headerTemplate",p="isStringTemplate",g=n;if(this.parent.isReact&&"string"!=typeof n.headerTemplate){const m={index:d};t.firstElementChild.innerHTML="",n.getHeaderTemplate()(O(m,g),c,"headerTemplate",u,this.parent[p],null,t.firstElementChild),this.parent.renderTemplates()}else a=n.getHeaderTemplate()(O({index:d},g),c,"headerTemplate",u,this.parent[p],void 0,void 0,this.parent.root),t.firstElementChild.innerHTML="",Ur(t.firstElementChild,a)}if(this.ariaService.setOptions(t,s),!h(n.headerTextAlign)||!h(n.textAlign)){const u=n.headerTextAlign||n.textAlign;o.style.textAlign=u,"Right"===u||"Left"===u?t.classList.add("Right"===u?"e-rightalign":"e-leftalign"):"Center"===u&&t.classList.add("e-centeralign")}return"Clip"===n.clipMode||!n.clipMode&&"Clip"===this.parent.clipMode?t.classList.add("e-gridclip"):("EllipsisWithTooltip"===n.clipMode||!n.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&"checkbox"!==n.type&&t.classList.add("e-ellipsistooltip"),t.setAttribute("aria-rowspan",(h(e.rowSpan)?1:e.rowSpan).toString()),t.setAttribute("aria-colspan","1"),this.parent.trigger(rQ,{cell:e,node:t}),t}getValue(e,t){return t.headerValueAccessor(e,t)}extendPrepareHeader(e,t){if(this.parent.showColumnMenu&&e.showColumnMenu&&!h(e.field)){const i=this.parent.createElement("div",{className:"e-icons e-columnmenu"}),n=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==n.length)for(let s=0;s<this.parent.columns.length;s++)for(let o=0;o<this.parent.filterSettings.columns.length;o++)if(this.parent.filterSettings.columns[o].field===e.field){i.classList.add("e-filtered"),n.push(e.field);break}t.classList.add("e-fltr-icon"),t.appendChild(i)}if(this.parent.allowResizing){const i=this.parent.createElement("div");i.className=e.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",t.appendChild(i)}return t}appendHtml(e,t){return e.appendChild(t),e}}class rX extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-headercell e-stackedheadercell",attrs:{role:"columnheader",tabindex:"-1"}})}render(e,t,i){const n=this.element.cloneNode(),s=this.parent.createElement("div",{className:"e-stackedheadercelldiv",attrs:{"e-mappinguid":e.column.uid}}),o=e.column;if(n.appendChild(s),h(o.headerTemplate)?this.appendHtml(s,o.headerText,o.getDomSetter()):Ur(s,o.getHeaderTemplate()(o,this.parent,"headerTemplate")),e.column.toolTip&&n.setAttribute("title",e.column.toolTip),"Clip"===o.clipMode||!o.clipMode&&"Clip"===this.parent.clipMode?n.classList.add("e-gridclip"):("EllipsisWithTooltip"===o.clipMode||!o.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&n.classList.add("e-ellipsistooltip"),h(e.column.textAlign)||(s.style.textAlign=e.column.textAlign),e.column.customAttributes&&Fu(n,e.column.customAttributes),n.setAttribute("colspan",e.colSpan.toString()),n.setAttribute("aria-colspan",e.colSpan.toString()),n.setAttribute("aria-rowspan","1"),this.parent.allowResizing){const l=this.parent.createElement("div");l.className=e.column.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",n.appendChild(l)}return e.className&&n.classList.add(e.className),this.parent.trigger(rQ,{cell:e,node:n}),n}}class Y5 extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TD",{className:"e-indentcell"})}render(e,t){const i=this.element.cloneNode();return Fu(i,e.attributes),i}}class dke extends xa{constructor(){super(...arguments),this.cellUid=0,this.element=this.parent.createElement("TD",{className:"e-groupcaption",attrs:{id:this.parent.element.id+"captioncell",role:"gridcell",tabindex:"-1"}})}render(e,t){this.element.id=this.parent.element.id+"captioncell"+this.cellUid++;const i=this.element.cloneNode(),n=this.parent;let s,o,l;t.headerText=e.column.headerText,e.isForeignKey&&(o=this.format(e.column,e.column.valueAccessor("foreignKey",t,e.column)));const a=e.isForeignKey?o:e.column.enableGroupByFormat?t.key:this.format(e.column,e.column.valueAccessor("key",t,e.column));for(var c=0;c<n.aggregates.length;c++)for(var d=0;d<n.aggregates[c].columns.length;d++)if(n.getVisibleColumns()[0].field==n.aggregates[c].columns[d].field&&n.aggregates[c].columns[d].groupCaptionTemplate){l=n.aggregates[c].columns[d].groupCaptionTemplate.includes("$")?n.aggregates[c].columns[d].groupCaptionTemplate.split("$")[0]+t[n.getVisibleColumns()[0].field][n.aggregates[c].columns[d].type]+n.aggregates[c].columns[d].groupCaptionTemplate.split("}")[1]:n.aggregates[c].columns[d].groupCaptionTemplate;break}if(h(n.groupSettings.captionTemplate))i.innerHTML=n.groupSettings.enableLazyLoading?e.column.headerText+": "+a+(l?"   "+l:""):e.column.headerText+": "+a+" - "+t.count+" "+this.localizer.getConstant(t.count<2?"Item":"Items")+(l?"   "+l:"");else{const u=this.parent.isReact&&"string"!=typeof n.groupSettings.captionTemplate;if(u){const p=n.element.id+"captionTemplate";Jl(n.groupSettings.captionTemplate)(t,this.parent,"captionTemplate",p,null,null,i),this.parent.renderTemplates()}else s=this.parent.isVue?Jl(n.groupSettings.captionTemplate)(t,this.parent):Jl(n.groupSettings.captionTemplate)(t);u||Ur(i,s)}return i.setAttribute("colspan",e.colSpan.toString()),i.setAttribute("aria-label",i.innerHTML+" is groupcaption cell"),i.setAttribute("title",i.innerHTML),i}}class hke extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TD",{className:"e-groupcaption"})}render(e,t){const i=this.element.cloneNode();return i.innerHTML="&nbsp;",i.setAttribute("colspan",e.colSpan.toString()),i}}class uke extends Y5{render(e,t,i,n){const s=this.element.cloneNode();return s.className=n?"e-recordplusexpand":"e-recordpluscollapse",s.setAttribute("ej-mappingname",t.field),s.setAttribute("ej-mappingvalue",t.key),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("tabindex","-1"),s.appendChild(this.parent.createElement("div",{className:n?"e-icons e-gdiagonaldown e-icon-gdownarrow":"e-icons e-gnextforward e-icon-grightarrow"})),s}}class pke extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-grouptopleftcell"})}render(e,t){const i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-headercelldiv e-emptycell",innerHTML:""})),i}}class gke extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-detailheadercell"})}render(e,t){const i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-emptycell"})),i}}class fke extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TD",{className:"e-detailrowcollapse",attrs:{"aria-expanded":"false",role:"gridcell",tabindex:"-1"}})}render(e,t,i){const n=this.element.cloneNode();return i&&!h(i.class)?(n.className="",n.className=i.class,n.appendChild(this.parent.createElement("div",{className:"e-icons e-dtdiagonaldown e-icon-gdownarrow"}))):n.appendChild(this.parent.createElement("div",{className:"e-icons e-dtdiagonalright e-icon-grightarrow"})),n}}class mke extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TD",{className:"e-rowdragdrop e-rowdragdropcell",attrs:{role:"gridcell",tabindex:"-1"}})}render(e,t){const i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon"})),e.isSelected&&(i.classList.add("e-selectionbackground"),i.classList.add("e-active")),i}}class vke extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-rowdragheader"})}render(e,t){const i=this.element.cloneNode();return i.appendChild(Xe("div",{className:"e-emptycell"})),i}}class yke{constructor(e,t){this.emptyGrid=!1,this.counter=0,this.parent=e,this.locator=t,this.data=new W5(e,t),this.l10n=t.getService("localization"),this.ariaService=this.locator.getService("ariaService"),this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}render(){const e=this.parent;this.headerRenderer=this.renderer.getRenderer(Xs.Header),this.contentRenderer=this.renderer.getRenderer(Xs.Content),this.headerRenderer.renderPanel(),this.contentRenderer.renderPanel(),e.getColumns().length&&(this.isLayoutRendered=!0,this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.emptyRow(!1)),this.parent.scrollModule.setWidth(),this.parent.scrollModule.setHeight(),"auto"!==this.parent.height&&this.parent.scrollModule.setPadding(),this.refreshDataManager()}refresh(e={requestType:"refresh"}){const t=this.parent;t.notify(`${e.requestType}-begin`,e),t.trigger(Pn,e,(i={requestType:"refresh"})=>{if(i.cancel)t.notify(AE,i);else{if("delete"===i.requestType&&t.allowPaging){const n=i.data.length,s=t.pageSettings.totalRecordsCount-n;!(t.getCurrentViewRecords().length-n)&&s&&(t.pageSettings.currentPage-1)*t.pageSettings.pageSize===s&&(t.prevPageMoving=!0,t.setProperties({pageSettings:{totalRecordsCount:s,currentPage:Math.ceil(s/t.pageSettings.pageSize)}},!0),t.pagerModule.pagerObj.totalRecordsCount=s)}"reorder"===i.requestType&&this.parent.dataSource&&"result"in this.parent.dataSource||("paging"===i.requestType||"columnstate"===i.requestType||"reorder"===i.requestType)&&this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length&&this.parent.contentModule.getGroupCache()[this.parent.pageSettings.currentPage]?this.contentRenderer.refreshContentRows(i):this.refreshDataManager(i)}})}resetTemplates(){const e=this.parent,t=e.getColumns();if(e.detailTemplate){const n=e.element.id+"detailTemplate";xh[n]=[],zo(n)}e.groupSettings.captionTemplate&&zo(e.element.id+"captionTemplate"),e.rowTemplate&&zo(e.element.id+"rowTemplate"),e.toolbarTemplate&&zo(e.element.id+"toolbarTemplate"),e.pageSettings.template&&zo(e.element.id+"_template");for(let n=0;n<t.length;n++)t[n].template&&(xh[e.element.id+t[n].uid]=[],zo(e.element.id+t[n].uid)),t[n].headerTemplate&&zo(e.element.id+t[n].uid+"headerTemplate"),t[n].filterTemplate&&zo(e.element.id+t[n].uid+"filterTemplate");const i="guid";for(let n=0;n<e.aggregates.length;n++)for(let s=0;s<e.aggregates[n].columns.length;s++)e.aggregates[n].columns[s].footerTemplate&&zo(e.element.id+e.aggregates[n].columns[s][i]+"footerTemplate"),e.aggregates[n].columns[s].groupFooterTemplate&&zo(e.element.id+e.aggregates[n].columns[s][i]+"groupFooterTemplate"),e.aggregates[n].columns[s].groupCaptionTemplate&&zo(e.element.id+e.aggregates[n].columns[s][i]+"groupCaptionTemplate")}refreshComplete(e){this.parent.trigger(yi,e)}refreshDataManager(e={}){let t;"virtualscroll"!==e.requestType&&!e.isCaptionCollapse&&this.parent.showSpinner(),this.parent.notify("reset-infinite-blocks",e),this.emptyGrid=!1;const i=this.isNeedForeignAction();if(this.ariaService.setBusy(this.parent.getContent().querySelector("."+Ls),!0),i){const n=new Ss;t=this.getFData(n,e)}if(t=t?t.then(n=>{const s=this.data.generateQuery().requiresCount();if(this.emptyGrid){const o=new Ss;return o.resolve({result:[],count:0}),o.promise}return this.data.getData(e,s)}):this.data.getData(e,this.data.generateQuery().requiresCount()),this.parent.getForeignKeyColumns().length&&(!i||this.parent.searchSettings.key.length)){const n=new Ss;t=t.then(s=>(this.parent.notify(kE,{dataManager:t,result:s,promise:n,action:e}),n.promise))}this.parent.groupSettings.disablePageWiseAggregates&&this.parent.groupSettings.columns.length&&(t=t.then(n=>this.validateGroupRecords(n))),t.then(n=>this.dataManagerSuccess(n,e)).catch(n=>this.dataManagerFailure(n,e))}getFData(e,t){return this.parent.notify(kE,{isComplex:!0,promise:e,action:t}),e.promise}isNeedForeignAction(){const e=this.parent;return!!(e.allowFiltering&&e.filterSettings.columns.length||e.searchSettings.key.length)&&this.foreignKey(this.parent.getForeignKeyColumns())}foreignKey(e){return e.some(t=>{let i=!1;return i=this.parent.filterSettings.columns.some(n=>t.uid===n.uid),!(!i&&!this.parent.searchSettings.key.length)})}sendBulkRequest(e){e.requestType="batchsave";const t=this.data.saveChanges(e.changes,this.parent.getPrimaryKeyFieldNames()[0],e.original),i=this.data.generateQuery().requiresCount();this.data.dataManager.dataSource.offline?this.refreshDataManager({requestType:"batchsave"}):t.then(n=>{this.data.getData(e,i).then(s=>this.dmSuccess(s,e)).catch(s=>this.dmFailure(s,e))}).catch(n=>this.dmFailure(n,e))}dmSuccess(e,t){this.dataManagerSuccess(e,t)}dmFailure(e,t){this.dataManagerFailure(e,t)}renderEmptyRow(){this.emptyRow(!0)}emptyRow(e){const t=this.parent;let i=this.contentRenderer.getTable().querySelector(Ke);h(i)||X(i),i=this.parent.createElement(Ke,{attrs:{role:"rowgroup"}});let n=0;(t.detailTemplate||t.childGrid)&&++n;const s=this.parent.createElement("tr",{className:"e-emptyrow",attrs:{role:"row"}});s.appendChild(this.parent.createElement("td",{innerHTML:this.l10n.getConstant("EmptyRecord"),attrs:{colspan:(t.getVisibleColumns().length+n+t.groupSettings.columns.length).toString()}})),i.appendChild(s),this.contentRenderer.renderEmpty(i),e&&(this.parent.trigger(za,{}),this.parent.notify(Mh,{rows:[new Vd({isDataRow:!0,cells:[new ja({isDataCell:!0,visible:!0})]})]}))}dynamicColumnChange(){this.parent.getCurrentViewRecords().length&&this.updateColumnType(this.parent.getCurrentViewRecords()[0])}updateColumnType(e){const t=this.parent.getColumns();let i;const n="customFormat",s="equalTo",o=e&&e.items?e.items[0]:e,l=this.locator.getService("valueFormatter");for(let a=0,c=t.length;a<c;a++){i=Mt(t[a].field||"",o),h(t[a][n])||(t[a].format=t[a][n]),!h(t[a].validationRules)&&!h(t[a].validationRules[s])&&(t[a].validationRules[s][0]=this.parent.element.id+t[a].validationRules[s][0]),t[a].isForeignColumn()&&t[a].columnData&&(i=Mt(t[a].foreignKeyValue||"",t[a].columnData[0])),h(i)?t[a].type=t[a].type||null:(this.isColTypeDef=!0,t[a].type||(t[a].type=i.getDay?i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0||i.getMilliseconds()>0?"datetime":"date":typeof i));const d=new E0;t[a].format&&(t[a].format.skeleton||t[a].format.format&&"string"==typeof t[a].format.format)&&(t[a].setFormatter(d.getFormatFunction(O({},t[a].format))),t[a].setParser(d.getParserFunction(t[a].format))),"string"==typeof t[a].format?yX(this.locator,t[a]):!t[a].format&&"number"===t[a].type&&t[a].setParser(l.getParserFunction({format:"n2"}))}}dataManagerSuccess(e,t){const i=this.parent;this.contentRenderer=this.renderer.getRenderer(Xs.Content),this.headerRenderer=this.renderer.getRenderer(Xs.Header),e.actionArgs=t;const n=this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&("delete"===t.requestType||"save"===t.requestType&&"add"===this.parent.infiniteScrollModule.requestType&&!(i.sortSettings.columns.length||i.filterSettings.columns.length||this.parent.groupSettings.columns.length||i.searchSettings.key));i.trigger(SE,e,s=>{if(s.cancel)return;s.result=h(s.result)?[]:s.result;const o=Object.keys(s.result).length;if(!this.parent.isDestroyed){if(!(i.getColumns().length||o||i.columns.length&&i.columns[0]instanceof Fc))return void i.hideSpinner();if(this.isInfiniteEnd(t)&&!o)return void this.parent.notify(NE,{e:t,result:e.result,count:e.count,agg:e.aggregates});if(this.parent.isEdit=!1,this.parent.notify(LE,{}),this.parent.notify(A0,{}),this.contentRenderer.prevCurrentView=this.parent.currentViewData.slice(),i.currentViewData=s.result,i.notify("refresh-infinite-current-view-data",{args:t,data:s.result}),!o&&s.count&&i.allowPaging&&t&&"delete"!==t.requestType)return this.parent.groupSettings.enableLazyLoading&&("grouping"===t.requestType||"ungrouping"===t.requestType)&&this.parent.notify("grouping-complete",t),i.prevPageMoving=!0,i.pageSettings.totalRecordsCount=s.count,"paging"!==t.requestType&&(i.pageSettings.currentPage=Math.ceil(s.count/i.pageSettings.pageSize)),void i.dataBind();if((!i.getColumns().length&&o||!this.isLayoutRendered)&&!dr(i)&&this.updatesOnInitialRender(s),!this.isColTypeDef&&i.getCurrentViewRecords()&&this.updateColumnType(this.data.dataManager.dataSource.offline&&i.dataSource&&i.dataSource.length?i.dataSource[0]:i.getCurrentViewRecords()[0]),!this.parent.isInitialLoad&&this.parent.groupSettings.disablePageWiseAggregates&&!this.parent.groupSettings.columns.length&&(s.result=this.parent.dataSource instanceof Array?this.parent.dataSource:this.parent.currentViewData),(this.parent.isReact||this.parent.isVue)&&!h(t)&&"infiniteScroll"!==t.requestType&&!t.isFrozen&&t_(this.parent,["footerTemplate"]),this.parent.notify(Od,O({count:s.count,result:s.result,aggregates:s.aggregates},t)),(i.groupSettings.columns.length||t&&"ungrouping"===t.requestType)&&t&&"filtering"!==t.requestType&&this.headerRenderer.refreshUI(),o)dr(i)&&(t.scrollTop={top:this.contentRenderer.content.scrollTop}),n?this.parent.notify(NE,{e:t,result:e.result,count:e.count,agg:e.aggregates}):this.parent.enableImmutableMode?this.contentRenderer.immutableModeRendering(t):this.contentRenderer.refreshContentRows(t);else{if(t&&t.isCaptionCollapse)return;if(!i.getColumns().length)return i.element.innerHTML="",void alert(this.l10n.getConstant("EmptyDataSourceError"));if(this.contentRenderer.setRowElements([]),this.contentRenderer.setRowObjects([]),this.ariaService.setBusy(this.parent.getContent().querySelector("."+Ls),!1),this.renderEmptyRow(),t){const l=(t.requestType||"").toLowerCase()+"-complete";this.parent.notify(l,t),"batchsave"===t.requestType&&(t.cancel=!1,t.rows=[],t.isFrozen=0!==this.parent.getFrozenColumns()&&!t.isFrozen,this.parent.trigger(yi,t))}this.parent.hideSpinner()}this.parent.notify(Dg,{}),this.setRowCount(this.parent.getCurrentViewRecords().length),this.parent.getDataModule().isQueryInvokedFromData=!1}})}dataManagerFailure(e,t){this.ariaService.setOptions(this.parent.getContent().querySelector("."+Ls),{busy:!1,invalid:!0}),this.setRowCount(1),this.parent.trigger(Ix,{error:e}),this.parent.hideSpinner(),"save"!==t.requestType&&"delete"!==t.requestType&&"bulk-save"!==t.name&&(this.parent.currentViewData=[],this.renderEmptyRow(),this.parent.log("actionfailure",{error:e}))}setRowCount(e){this.ariaService.setOptions(this.parent.getHeaderTable(),{rowcount:e?e.toString():"1"})}isInfiniteEnd(e){return this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&"delete"===e.requestType}updatesOnInitialRender(e){this.isLayoutRendered=!0,this.parent.columns.length<1&&this.buildColumns(e.result[0]),zx(this.parent.columns,null,this.parent),this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.parent.isAutoGen=!0,this.parent.notify(k0,{})}iterateComplexColumns(e,t,i){const n=Object.keys(e);for(let s=0;s<n.length;s++)("object"!=typeof e[n[s]]||!e[n[s]]||e[n[s]]instanceof Date?[]:Object.keys(e[n[s]])).length?this.iterateComplexColumns(e[n[s]],t+(n[s]+"."),i):(i[this.counter]=t+n[s],this.counter++)}buildColumns(e){const t=[],i={};this.iterateComplexColumns(e,"",i);const n=Object.keys(i).filter(s=>"BlazId"!==i[s]).map(s=>i[s]);for(let s=0,o=n.length;s<o;s++)t[s]={field:n[s]},this.parent.enableColumnVirtualization&&(t[s].width=h(t[s].width)?200:t[s].width);this.parent.setProperties({columns:t},!0)}instantiateRenderer(){this.renderer.addRenderer(Xs.Header,new K5(this.parent,this.locator)),this.renderer.addRenderer(Xs.Content,new KE(this.parent,this.locator));const e=this.locator.getService("cellRendererFactory");e.addCellRenderer(Ct.Header,new sX(this.parent,this.locator)),e.addCellRenderer(Ct.Data,new xa(this.parent,this.locator)),e.addCellRenderer(Ct.StackedHeader,new rX(this.parent,this.locator)),e.addCellRenderer(Ct.Indent,new Y5(this.parent,this.locator)),e.addCellRenderer(Ct.GroupCaption,new dke(this.parent,this.locator)),e.addCellRenderer(Ct.GroupCaptionEmpty,new hke(this.parent,this.locator)),e.addCellRenderer(Ct.Expand,new uke(this.parent,this.locator)),e.addCellRenderer(Ct.HeaderIndent,new pke(this.parent,this.locator)),e.addCellRenderer(Ct.StackedHeader,new rX(this.parent,this.locator)),e.addCellRenderer(Ct.DetailHeader,new gke(this.parent,this.locator)),e.addCellRenderer(Ct.RowDragHIcon,new vke(this.parent,this.locator)),e.addCellRenderer(Ct.DetailExpand,new fke(this.parent,this.locator)),e.addCellRenderer(Ct.DetailFooterIntent,new Y5(this.parent,this.locator)),e.addCellRenderer(Ct.RowDragIcon,new mke(this.parent,this.locator))}addEventListener(){this.parent.isDestroyed||(this.parent.on(Au,this.instantiateRenderer,this),this.parent.on("refreshdataSource",this.dataManagerSuccess,this),this.parent.on(fo,this.refresh,this),this.parent.on("refresh-complete",this.refreshComplete,this),this.parent.on(SQ,this.sendBulkRequest,this),this.parent.on(kQ,()=>{this.emptyGrid=!0},this),this.parent.on(k0,this.dynamicColumnChange,this))}validateGroupRecords(e){const t=e.result.length-1;if(t<0)return Promise.resolve(e);const i=e.result[0],n=e.result[t],s=[],o=g=>{const f=[i,n];for(let m=0;m<f.length;m++)s.push(new qt("field","==",f[m].field).and(this.getPredicate("key","equal",f[m].key)));g.where(qt.or(s))},l=new Ze;o(l);const c=new ie(e.result).executeLocal(l),d=this.data.generateQuery(!0),u=[];if(this.data.isRemote()){const g=[i,n];for(let f=0;f<g.length;f++)u.push(this.getPredicate(g[f].field,"equal",g[f].key));d.where(qt.or(u))}else o(d);const p=new Ss;return this.data.getData({},d).then(g=>{this.updateGroupInfo(c,g.result),p.resolve(e)}).catch(g=>p.reject(g)),p.promise}getPredicate(e,t,i){return i instanceof Date?Uf({field:e,operator:t,value:i}):new qt(e,t,i)}updateGroupInfo(e,t){const i=new ie(t),n=e;for(let s=0;s<n.length;s++){const o=i.executeLocal((new Ze).where(new qt("field","==",n[s].field).and(this.getPredicate("key","equal",n[s].key))))[0];n[s].count=o.count;const l=n[s].items,a=o.items;l.GroupGuid&&(n[s].items=this.updateGroupInfo(n[s].items,o.items));const c=this.parent.aggregates;for(let d=0;d<c.length;d++){const u=c[d];for(let p=0;p<u.columns.length;p++){const g=u.columns[p].type instanceof Array?u.columns[p].type:[u.columns[p].type];for(let f=0;f<g.length;f++){const m=u.columns[p].field+" - "+g[f].toLowerCase(),v=l.level?a.records:o.items,x=this.parent;if("Custom"===g[f]){const w=l.level?a:o;let b=u.columns[p].customAggregate;"string"==typeof b&&(b=M(b,window)),n[s].aggregates[m]=b?b.call(x,w,u.columns[p]):""}else n[s].aggregates[m]=Ie.aggregates[g[f].toLowerCase()](v,u.columns[p].field)}}}}return e}}class xke{constructor(){this.cellRenderMap={}}addCellRenderer(e,t){e="string"==typeof e?e:bs(Ct,e),h(this.cellRenderMap[e])&&(this.cellRenderMap[e]=t)}getCellRenderer(e){if(e="string"==typeof e?e:bs(Ct,e),h(this.cellRenderMap[e]))throw`The cellRenderer ${e} is not found`;return this.cellRenderMap[e]}}class oX{constructor(e,t){this.sortedCols=[],this.sortPredicate=[],this.isCustomDialog=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}addEventListener(){this.evtHandlers=[{event:VE,handler:this.closeCustomDialog},{event:L5,handler:this.refreshCustomFilterOkBtn},{event:O5,handler:this.renderResponsiveContextMenu},{event:YQ,handler:this.renderCustomFilterDiv},{event:QQ,handler:this.customExFilterClose},{event:KQ,handler:this.refreshCustomFilterClearBtn}],vo(this.parent,this.evtHandlers,!0,this),this.onActionCompleteFn=this.editComplate.bind(this),this.parent.addEventListener(yi,this.onActionCompleteFn)}customExFilterClose(){this.isCustomDlgRender=!1}renderCustomFilterDiv(){const e=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),t=e.querySelector(".e-dlg-custom-header"),i=e.querySelector(".e-dlg-closeicon-btn");this.isCustomDlgRender=!0,this.parent.filterModule.filterModule.closeDialog(),this.saveBtn.element.style.display="",this.refreshCustomFilterOkBtn({disabled:!1}),this.backBtn.element.style.display="none",i.style.display="",t.innerHTML=this.parent.localeObj.getConstant("CustomFilter");const n=this.customResponsiveDlg.element.querySelector(".e-dlg-content");this.customExcelFilterParent=this.parent.createElement("div",{className:"e-xl-customfilterdiv e-default-filter"}),n.appendChild(this.customExcelFilterParent)}renderResponsiveContextMenu(e){if(this.action===En.isFilter){const t=this.customResponsiveDlg.element.querySelector(".e-dlg-content"),i=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),n=i.querySelector(".e-dlg-closeicon-btn"),s=i.querySelector(".e-dlg-custom-header");if(e.isOpen){t.firstChild.style.display="none",t.appendChild(e.target),n.style.display="none",this.saveBtn.element.style.display="none",this.filterClearBtn.element.style.display="none",s.innerHTML=e.header;const o=this.parent.createElement("button"),l=this.parent.createElement("span",{className:"e-btn-icon e-resfilterback e-icons"});o.appendChild(l),this.backBtn=new ks({cssClass:this.parent.cssClass?"e-res-back-btn "+this.parent.cssClass:"e-res-back-btn"}),this.backBtn.appendTo(o),s.parentElement.insertBefore(o,s)}else this.backBtn&&!this.isCustomDlgRender&&(t.firstChild.style.display="",X(this.backBtn.element),n.style.display="",this.saveBtn.element.style.display="",this.isFiltered&&(this.filterClearBtn.element.style.display=""),s.innerHTML=this.getHeaderTitle({action:En.isFilter},e.col))}}refreshCustomFilterClearBtn(e){this.filterClearBtn&&(this.isFiltered=e.isFiltered,this.filterClearBtn.element.style.display=e.isFiltered?"":"none")}refreshCustomFilterOkBtn(e){this.saveBtn&&(this.saveBtn.disabled=e.disabled)}renderResponsiveContent(e){const t=this.parent;if(e)return this.filterParent=this.parent.createElement("div",{className:"e-mainfilterdiv e-default-filter",id:e.uid+"-main-filter"}),this.filterParent;{const i=t.getColumns();this.customColumnDiv=t.createElement("div",{className:"columndiv",styles:"width: 100%"});const n=t.createElement("div",{className:"e-ressortbutton-parent"}),s=[],o=this.action===En.isSort,l=this.action===En.isFilter;if(l)for(let a=0;a<t.filterSettings.columns.length;a++)s.push(t.filterSettings.columns[a].field);for(let a=0;a<i.length;a++){if(!i[a].visible||!i[a].allowSorting&&o||!i[a].allowFiltering&&l)continue;const c=t.createElement("div",{className:"e-responsivecoldiv"});c.setAttribute("data-e-mappingname",i[a].field),c.setAttribute("data-e-mappinguid",i[a].uid);const d=t.createElement("span",{innerHTML:i[a].headerText,className:"e-res-header-text"});if(c.appendChild(d),this.customColumnDiv.appendChild(c),o){const p=this.getSortedFieldsAndDirections("field").indexOf(i[a].field),g=t.createElement("button",{id:t.element.id+i[a].field+"sortbutton"}),f=n.cloneNode();f.appendChild(g),c.appendChild(f),new ks({cssClass:this.parent.cssClass?"e-ressortbutton "+this.parent.cssClass:"e-ressortbutton"}).appendTo(g),g.innerHTML=p>-1?this.parent.sortSettings.columns[p].direction:"None",g.onclick=v=>{this.sortButtonClickHandler(v.target)}}if(l&&s.indexOf(i[a].field)>-1){const u=t.createElement("div",{className:"e-icons e-res-icon e-filtersetdiv"}),p=t.createElement("span",{className:"e-icons e-res-icon e-filterset"});p.setAttribute("colType",i[a].type),u.appendChild(p),c.appendChild(u)}}return C.add(this.customColumnDiv,"click",this.customFilterColumnClickHandler,this),this.customColumnDiv}}getSortedFieldsAndDirections(e){const t=[];for(let i=0;i<this.parent.sortSettings.columns.length;i++)t.push(this.parent.sortSettings.columns[i][e]);return t}sortButtonClickHandler(e){if(e){const i=Ce(e,"e-responsivecoldiv").getAttribute("data-e-mappingname");this.parent.allowMultiSorting||(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1,this.resetSortButtons(e));const n=e.textContent,s="None"===n?"Ascending":"Ascending"===n?"Descending":"None";e.innerHTML=s,this.setSortedCols(i,s)}}resetSortButtons(e){const t=[].slice.call(this.customColumnDiv.getElementsByClassName("e-ressortbutton"));for(let i=0;i<t.length;i++)t[i]!==e&&(t[i].innerHTML="None")}setSortedCols(e,t){const n=this.getCurrentSortedFields().indexOf(e);this.parent.allowMultiSorting&&n>-1&&(this.sortedCols.splice(n,1),this.sortPredicate.splice(n,1)),this.isSortApplied=!0,"None"!==t&&(this.sortedCols.push(e),this.sortPredicate.push({field:e,direction:t}))}getCurrentSortedFields(){const e=[];for(let t=0;t<this.sortedCols.length;t++)e.push(this.sortedCols[t]);return e}customFilterColumnClickHandler(e){if(this.action!==En.isFilter)return;const t=this.parent,i=e.target;if("FilterBar"!==t.filterSettings.type)if(i.classList.contains("e-responsivecoldiv")||i.parentElement.classList.contains("e-responsivecoldiv")){let n=i.getAttribute("data-e-mappingname");if(n||(n=i.parentElement.getAttribute("data-e-mappingname")),n){const s=t.getColumnByField(n);this.isRowResponsive=!0,this.showResponsiveDialog(s)}}else if(i.classList.contains("e-filterset")||i.parentElement.classList.contains("e-filtersetdiv")){const n=Ce(i,"e-responsivecoldiv");if(n){const s=n.getAttribute("data-e-mappingname"),o=t.getColumnByField(s);("Menu"===o.filter.type||!o.filter.type&&"Menu"===t.filterSettings.type)&&(this.isDialogClose=!0),this.parent.filterModule.filterModule.clearCustomFilter(o),this.removeCustomDlgFilterEle(i)}}}showResponsiveDialog(e){if(this.isCustomDialog&&this.action===En.isFilter&&!this.isRowResponsive)this.renderCustomFilterDialog();else{if(this.filteredCol=e,this.renderResponsiveDialog(e),this.parent.enableAdaptiveUI&&e&&(this.parent.filterModule.setFilterModel(e),this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(e,void 0))),this.action===En.isSort){const t={cancel:!1,dialogObj:this.customResponsiveDlg,requestType:"beforeOpenAptiveSortDialog"};if(this.parent.trigger(hQ,t),t.cancel)return}this.customResponsiveDlg.show(!0),this.customResponsiveDlg.element.style.maxHeight="100%",this.setTopToChildDialog(this.customResponsiveDlg.element)}}setTopToChildDialog(e){const t=e.querySelector(".e-dialog");if(t){const i=e.querySelector(".e-dlg-header-content").getBoundingClientRect().height;t.style.top=i+"px"}}renderCustomFilterDialog(e){const t=this.parent;if(this.action===En.isFilter&&"FilterBar"===t.filterSettings.type)return;const i=this.parent.createElement("div",{id:t.element.id+"customfilter",className:"e-customfilterdiv e-responsive-dialog"});this.parent.element.appendChild(i),this.customFilterDlg=this.getDialogOptions(e,!0);const n={cancel:!1,dialogObj:this.customFilterDlg,requestType:"beforeOpenAptiveFilterDialog"};this.parent.trigger(hQ,n),!n.cancel&&(this.customFilterDlg.appendTo(i),this.customFilterDlg.show(!0),this.customFilterDlg.element.style.maxHeight="100%")}getDialogOptions(e,t,i){const n=new qi({isModal:!0,showCloseIcon:!0,closeOnEscape:!1,locale:this.parent.locale,target:this.parent.adaptiveDlgTarget?this.parent.adaptiveDlgTarget:document.body,visible:!1,enableRtl:this.parent.enableRtl,content:this.renderResponsiveContent(e),open:this.dialogOpen.bind(this),created:this.dialogCreated.bind(this),close:this.beforeDialogClose.bind(this),width:"100%",height:"100%",animationSettings:{effect:"None"},cssClass:this.parent.cssClass?this.parent.cssClass:""});return n.isStringTemplate=!0,t?(n.header=this.renderResponsiveHeader(e,void 0,!0),n.cssClass="e-customfilter"):(n.header=this.renderResponsiveHeader(e),n.cssClass="Vertical"===this.parent.rowRenderingMode&&this.action===En.isFilter?"e-res"+i+" e-row-responsive-filter":"e-res"+i),n}renderResponsiveDialog(e){const t=this.parent;if(this.action===En.isFilter&&"FilterBar"===t.filterSettings.type)return;const i=this.action===En.isFilter?"filter":"sort",n=this.parent.createElement("div",{id:t.element.id+"responsive"+i,className:"e-res"+i+"div e-responsive-dialog"});this.parent.element.appendChild(n),this.customResponsiveDlg=this.getDialogOptions(e,!1,i),this.customResponsiveDlg.appendTo(n)}dialogCreated(){DX(this.parent)}dialogOpen(){if(this.action===En.isSort&&this.parent.allowMultiSorting)for(let e=0;e<this.parent.sortSettings.columns.length;e++)this.sortedCols.push(this.parent.sortSettings.columns[e].field),this.sortPredicate.push({field:this.parent.sortSettings.columns[e].field,direction:this.parent.sortSettings.columns[e].direction})}beforeDialogClose(e){this.isDialogClose=e.element&&!e.element.querySelector(".e-xl-customfilterdiv")&&e.element.classList.contains("e-resfilterdiv"),this.action===En.isFilter?e.element.classList.contains("e-resfilterdiv")?this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender):e.element.classList.contains("e-customfilterdiv")&&this.closeCustomFilter():this.action===En.isSort&&this.closeCustomDialog(),this.parent.off(zE,this.keyHandler)}sortColumn(){if(this.isSortApplied){this.sortPredicate.length&&this.parent.setProperties({sortSettings:{columns:[]}},!0);for(let e=0;e<this.sortPredicate.length;e++)this.parent.sortColumn(this.sortPredicate[e].field,this.sortPredicate[e].direction,this.parent.allowMultiSorting);this.sortPredicate.length||this.parent.clearSorting(),this.closeCustomDialog()}else this.closeCustomDialog()}getHeaderTitle(e,t){const i=this.parent;let n;return this.action===En.isEdit?n=i.localeObj.getConstant("EditFormTitle")+e.primaryKeyValue[0]:this.action===En.isAdd?n=i.localeObj.getConstant("AddFormTitle"):this.action===En.isFilter?n=t?t.headerText||t.field:i.localeObj.getConstant("FilterButton"):this.action===En.isSort&&(n=i.localeObj.getConstant("Sort")),n}getDialogName(e){let t;return e===En.isAdd||e===En.isEdit?t="dialogEdit_wrapper_title":e===En.isFilter&&(t="responsive_filter_dialog_wrapper"),t}getButtonText(e){let t;return e===En.isAdd||e===En.isEdit?t="Save":(e===En.isFilter||this.action===En.isSort)&&(t="OKButton"),t}renderResponsiveHeader(e,t,i){const n=this.parent;n.on(zE,this.keyHandler,this);const s=n.element.id+this.getDialogName(this.action),o=n.createElement("div",{className:"e-res-custom-element"}),l=n.createElement("div",{className:"e-dlg-custom-header",id:s});l.innerHTML=this.getHeaderTitle(t,e),o.appendChild(l);const a=n.createElement("button");i||(this.saveBtn=new ks({cssClass:this.parent.cssClass?"e-primary e-flat e-res-apply-btn "+this.parent.cssClass:"e-primary e-flat e-res-apply-btn"}),a.innerHTML=n.localeObj.getConstant(this.getButtonText(this.action)),this.saveBtn.appendTo(a),a.onclick=u=>{this.dialogHdrBtnClickHandler()});const c=this.action===En.isSort,d=this.action===En.isFilter;if(d||c){const u=c?"sort":"filter",p=n.createElement("button");if(this.filterClearBtn=new ks({cssClass:this.parent.cssClass?"e-primary e-flat e-res-"+u+"-clear-btn "+this.parent.cssClass:"e-primary e-flat e-res-"+u+"-clear-btn"}),d){const g=n.createElement("span",{className:"e-btn-icon e-icon-filter-clear e-icons"});p.appendChild(g)}else p.innerHTML=n.localeObj.getConstant("Clear");o.appendChild(p),this.filterClearBtn.appendTo(p),p.onclick=g=>{Ce(g.target,"e-customfilter")?(this.parent.filterModule.clearFiltering(),this.removeCustomDlgFilterEle()):d?this.filterClear():(this.resetSortButtons(),this.sortedCols=[],this.sortPredicate=[],this.isSortApplied=!0)},o.appendChild(p)}return i||o.appendChild(a),o}filterClear(){this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol),this.parent.filterModule.filterModule.closeResponsiveDialog()}dialogHdrBtnClickHandler(){this.action===En.isEdit||this.action===En.isAdd?this.parent.endEdit():this.action===En.isFilter?this.parent.filterModule.filterModule.applyCustomFilter({col:this.filteredCol,isCustomFilter:this.isCustomDlgRender}):this.action===En.isSort&&this.sortColumn()}closeCustomDialog(){this.isCustomDlgRender?X(this.customResponsiveDlg.element.querySelector(".e-mainfilterdiv")):(this.isRowResponsive=!1,this.isCustomDlgRender=!1,this.destroyCustomFilterDialog())}destroyCustomFilterDialog(){if(!this.customResponsiveDlg)return;const e=document.getElementById(this.customResponsiveDlg.element.id);this.customResponsiveDlg&&!this.customResponsiveDlg.isDestroyed&&e&&(this.customResponsiveDlg.destroy(),X(e)),this.closeCustomFilter(),this.action===En.isSort&&(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1)}closeCustomFilter(){if(!this.isDialogClose&&this.customFilterDlg){const e=document.getElementById(this.customFilterDlg.element.id);this.customFilterDlg&&!this.customFilterDlg.isDestroyed&&e&&(this.customFilterDlg.destroy(),X(e))}this.isCustomDialog=!1,this.isDialogClose=!1}removeCustomDlgFilterEle(e){if(e)e.parentElement.classList.contains("e-filtersetdiv")?X(e.parentElement):X(e);else{const t=this.customColumnDiv.children;for(let i=0;i<t.length;i++)(e=t[i].querySelector(".e-filtersetdiv"))&&(X(e),i--)}}keyHandler(e){13===e.keyCode&&(this.action===En.isFilter&&e.target.classList.contains("e-searchinput")||this.action===En.isEdit||this.action===En.isAdd)&&this.dialogHdrBtnClickHandler()}editComplate(e){("save"===e.requestType||"cancel"===e.requestType)&&this.parent.off(zE,this.keyHandler)}removeEventListener(){this.customColumnDiv&&C.remove(this.customColumnDiv,"click",this.customFilterColumnClickHandler),vo(this.parent,this.evtHandlers,!0,this),this.parent.removeEventListener(yi,this.onActionCompleteFn)}}class Cke{constructor(){this.services={}}register(e,t){h(this.services[e])&&(this.services[e]=t)}getService(e){if(h(this.services[e]))throw`The service ${e} is not registered`;return this.services[e]}registerAdaptiveService(e,t,i){t?(e.responsiveDialogRenderer=new oX(e.parent,e.serviceLocator),e.responsiveDialogRenderer.action=i):e.responsiveDialogRenderer&&(e.responsiveDialogRenderer.removeEventListener(),e.responsiveDialogRenderer=void 0)}}class wke{constructor(){this.rendererMap={}}addRenderer(e,t){const i=bs(Xs,e);h(this.rendererMap[i])&&(this.rendererMap[i]=t)}getRenderer(e){const t=bs(Xs,e);if(h(this.rendererMap[t]))throw`The renderer ${t} is not found`;return this.rendererMap[t]}}class Q5{constructor(e){this.parent=e}setWidthToColumns(){let e=0;const t=this.parent.getColumnIndexesInView();let i=!0,n=0;if(this.parent.allowGrouping)for(let o=this.parent.groupSettings.columns.length;e<o;e++)this.parent.enableColumnVirtualization&&-1===t.indexOf(e)?i=!1:this.setColumnWidth(new Fc({width:"30px"}),e);(this.parent.detailTemplate||this.parent.childGrid)&&(this.setColumnWidth(new Fc({width:"30px"}),e),e++),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(this.setColumnWidth(new Fc({width:"30px"}),e),e++);const s=this.parent.getColumns();for(let o=0;o<s.length;o++)this.setColumnWidth(s[o],i&&this.parent.enableColumnVirtualization?void 0:o+e);this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&this.setColumnWidth(new Fc({width:"30px"}),s.length),n=this.getTableWidth(this.parent.getColumns()),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(n)}setMinwidthBycalculation(e){let t=0;const i=this.parent.getColumns().filter(n=>h(n.width)||"auto"===n.width);if(i.length){t=h(this.parent.width)||"auto"===this.parent.width||"string"!=typeof this.parent.width||-1!==this.parent.width.indexOf("%")?this.parent.element.getBoundingClientRect().width-e:("string"==typeof this.parent.width?parseInt(this.parent.width,10):this.parent.width)-e;let n=0;for(const s of i)n+=h(s.minWidth)?0:"string"==typeof s.minWidth?parseInt(s.minWidth,10):s.minWidth;for(let s=0;s<i.length;s++){0===e&&this.parent.allowResizing&&this.isWidthUndefined()&&s!==i.length-1&&this.setUndefinedColumnWidth(i);const o=this.parent.getColumnIndexByField(i[s].field)+this.parent.getIndentCount();0!==e&&t<n?this.setWidth(i[s].minWidth,o):0!==e&&t>n&&this.setWidth("",o,!0)}}}setUndefinedColumnWidth(e){for(let t=0;t<e.length;t++)t!==e.length-1&&(e[t].width=200,this.setWidth(200,this.parent.getColumnIndexByField(e[t].field)))}setColumnWidth(e,t,i){if(this.parent.getColumns().length<1)return;const n=h(t)?this.parent.getNormalizedColumnIndex(e.uid):t,s=this.getWidth(e),o=this.getTableWidth(this.parent.getColumns());null!==s&&(this.setWidth(s,n),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(o),(this.parent.allowResizing&&"resize"===i||this.parent.getFrozenColumns()&&this.parent.allowResizing)&&this.setWidthToTable(),this.parent.notify(M1,{index:n,width:s,column:e,module:i}))}setWidth(e,t,i){this.parent.groupSettings.columns.length>t&&h4(this.parent)&&(e=(30/this.parent.element.offsetWidth*100).toFixed(1)+"%");const n=this.parent.getHeaderTable(),s=this.parent.getContentTable(),o=$e(e);let l,a=this.parent.getFrozenColumns();const c=this.parent.isRowDragable();a=a&&c?a+1:a;const d=this.parent.getHeaderContent().querySelector("."+un),u=this.parent.getContent().querySelector("."+hn),p=this.parent.getFrozenLeftColumnsCount(),g=this.parent.getFrozenRightColumnsCount(),f=this.parent.getMovableColumnsCount(),m=0!==p||0!==g;if(a&&t>=a){if(!d||!d.querySelector(ni))return;l=d.querySelector(ni).children[t-a]}else if(this.parent.enableColumnVirtualization&&a&&this.parent.contentModule.isXaxis()&&d.scrollLeft>0){const x=d.querySelector(ni);l=x.children[x.children.length-1-t]}else if(m){let x;if(p&&!g)x=(t=c?t-1:t)<p?n:d;else if(!p&&g)x=t>=f?n:d;else if(p&&g){t=c?t-1:t;const w=this.parent.getFrozenRightHeader();x=t<p?n:t<p+f?d:w}if(l=this.getColumnLevelFrozenColgroup(t,p,f,x),!l)return}else l=n.querySelector(ni).children[t];let v;if(l&&!i?l.style.width=o:l&&i&&(l.style.width=""),a&&t>=a)v=this.parent.getContent().querySelector("."+hn).querySelector(ni).children[t-a];else if(this.parent.enableColumnVirtualization&&a&&this.parent.contentModule.isXaxis()&&u.scrollLeft>0){const x=this.parent.getContent().querySelector("."+hn).querySelector(ni);v=x.children[x.children.length-1-t]}else if(m){let x;if(p&&!g&&(x=t<p?s:u),!p&&g&&(x=t>=f?s:u),p&&g){const w=this.parent.getContent().querySelector(".e-frozen-right-content");x=t<p?s:t<p+f?u:w}v=this.getColumnLevelFrozenColgroup(t,p,f,x)}else v=s.querySelector(ni).children[t];if(v&&!i?v.style.width=o:v&&i&&(v.style.width=""),!this.parent.enableColumnVirtualization){const x=this.parent.element.querySelectorAll(".e-table.e-inline-edit"),w=[];for(let b=0;b<x.length;b++)if(Ce(x[b],"e-grid").id===this.parent.element.id)for(let I=0;I<x[b].querySelector("colgroup").children.length;I++)w.push(x[b].querySelector("colgroup").children[I]);x.length&&w.length&&(w[t].style.width=o)}this.parent.isFrozenGrid()&&this.refreshFrozenScrollbar()}getColumnLevelFrozenColgroup(e,t,i,n){if(!n||!n.querySelector(ni))return null;const s=this.parent.getColumns(),o=this.parent.isRowDragable(),l=this.parent.getFrozenMode();let a;const c=[].slice.call(n.querySelector(ni).children);return a="Right"===l&&o&&e===i+this.parent.getFrozenRightColumnsCount()?c[c.length-1]:o&&-1===e?c[0]:"Left"===s[e].freeze?c[o?e+1:e]:"Right"===s[e].freeze?c[e-(t+i)]:c[e-t],a}refreshFrozenScrollbar(){const e={cancel:!1};if(this.parent.notify("prevent-frozen-scroll-refresh",e),e.cancel)return;const t=qf(),i=this.parent.element.querySelector(".e-frozenscrollbar"),n=this.parent.element.querySelector(".e-movablescrollbar"),s=this.parent.getContent().querySelector("."+hd),o=this.parent.getContent().querySelector("."+hn);let l=s.firstElementChild.getBoundingClientRect().width,a=o.firstElementChild.getBoundingClientRect().width;if("Right"===this.parent.getFrozenMode()&&(l+=t),i.style.width=l+"px",this.parent.getFrozenMode()===Lt){const c=this.parent.element.querySelector(".e-frozen-right-scrollbar");let d=this.parent.getContent().querySelector(".e-frozen-right-content").firstElementChild.getBoundingClientRect().width;"auto"!==this.parent.height&&(d+=t),c.style.width=d+"px"}else{if(this.parent.enableColumnVirtualization){const c=this.parent.getMovableVirtualContent().querySelector(".e-virtualtrack");c&&(a=c.scrollWidth)}"Right"!==this.parent.getFrozenMode()&&"auto"!==this.parent.height&&(a+=t)}n.firstElementChild.style.width=a+"px"}getSiblingsHeight(e){return this.getHeightFromDirection(e,"previous")+this.getHeightFromDirection(e,"next")}getHeightFromDirection(e,t){let i=e[t+"ElementSibling"],n=0;const s=[br,F0,"e-groupdroparea","e-gridpager","e-toolbar"];for(;i;)s.some(o=>i.classList.contains(o))&&(n+=i.offsetHeight),i=i[t+"ElementSibling"];return n}isWidthUndefined(){const e=this.parent.getColumns().filter(t=>h(t.width)&&h(t.minWidth)).length;return this.parent.getColumns().length===e}getWidth(e){if(h(e.width)&&this.parent.allowResizing&&h(e.minWidth)&&!this.isWidthUndefined()&&(e.width=200),this.parent.isFrozenGrid()&&h(e.width)&&(e.getFreezeTableName()===Os||e.getFreezeTableName()===Ln)&&(e.width=200),!e.width)return null;const t=parseInt(e.width.toString(),10);return e.minWidth&&t<parseInt(e.minWidth.toString(),10)?e.minWidth:e.maxWidth&&t>parseInt(e.maxWidth.toString(),10)?e.maxWidth:e.width}getTableWidth(e){let t=0;for(const i of e){let n=this.getWidth(i);"auto"===i.width&&(n=0),!1!==i.visible&&null!==n&&(t+=parseInt(n.toString(),10))}return t}calcMovableOrFreezeColWidth(e){const t=this.parent.getColumns().slice(),i=this.parent.getFrozenLeftColumnsCount()||this.parent.getFrozenColumns(),n=this.parent.getMovableColumnsCount(),s=this.parent.getFrozenRightColumnsCount();return"movable"===e?(s&&t.splice(i+n,t.length),i&&t.splice(0,i)):"freeze-left"===e?t.splice(i,t.length):"freeze-right"===e&&t.splice(0,i+n),$e(this.getTableWidth(t))}setWidthToFrozenRightTable(){let e=this.calcMovableOrFreezeColWidth("freeze-right");e=this.isAutoResize()?"100%":e;const t=this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector("."+Tn),i=this.parent.getContent().querySelector(".e-frozen-right-content").querySelector("."+Tn);t.style.width=e,i.style.width=e}setWidthToFrozenLeftTable(){let e=this.calcMovableOrFreezeColWidth("freeze-left");e=this.isAutoResize()?"100%":e,this.parent.getHeaderTable().style.width=e,this.parent.getContentTable().style.width=e}setWidthToMovableTable(){let e="";const t=this.parent.getColumns().filter(n=>h(n.width)).length>=1,i=this.parent.getColumns().filter(n=>"auto"===n.width).length>=1;"number"!=typeof this.parent.width||t||i?!t&&!i&&(e=this.calcMovableOrFreezeColWidth("movable")):e=$e(this.parent.width-parseInt(this.calcMovableOrFreezeColWidth("freeze").split("px")[0],10)-5),e=this.isAutoResize()?"100%":e,this.parent.getHeaderContent().querySelector("."+un).firstElementChild&&(this.parent.getHeaderContent().querySelector("."+un).firstElementChild.style.width=e),this.parent.getContent().querySelector("."+hn).firstElementChild.style.width=e}setWidthToFrozenEditTable(){let e=this.calcMovableOrFreezeColWidth("freeze");e=this.isAutoResize()?"100%":e,this.parent.element.querySelectorAll(".e-table.e-inline-edit")[0].style.width=e}setWidthToMovableEditTable(){let e=this.calcMovableOrFreezeColWidth("movable");e=this.isAutoResize()?"100%":e,this.parent.element.querySelectorAll(".e-table.e-inline-edit")[1].style.width=e}setWidthToTable(){let e=$e(this.getTableWidth(this.parent.getColumns()));this.parent.isFrozenGrid()?((this.parent.getFrozenColumns()||this.parent.getFrozenLeftColumnsCount())&&this.setWidthToFrozenLeftTable(),this.setWidthToMovableTable(),this.parent.getFrozenRightColumnsCount()&&this.setWidthToFrozenRightTable()):((this.parent.detailTemplate||this.parent.childGrid)&&this.setColumnWidth(new Fc({width:"30px"})),e=this.isAutoResize()?"100%":e,this.parent.getHeaderTable().style.width=e,this.parent.getContentTable().style.width=e);const t=this.parent.element.querySelector(".e-table.e-inline-edit");t&&this.parent.getFrozenColumns()?(this.setWidthToFrozenEditTable(),this.setWidthToMovableEditTable()):t&&(t.style.width=e)}isAutoResize(){return this.parent.allowResizing&&"Auto"===this.parent.resizeSettings.mode}}class bke{constructor(e){this.currentInfo={},this.oneTime=!0,this.swap={},this.isInfiniteScroll=!1,this.forget=!1,this.skipFocus=!0,this.focusByClick=!1,this.prevIndexes={},this.refMatrix=this.refreshMatrix(!0),this.actions=["downArrow","upArrow"],this.isVirtualScroll=!1,this.parent=e,this.rowModelGen=new Ph(this.parent),this.addEventListener()}focusCheck(e){const t=e.target;this.focusByClick=!0,this.skipFocus=t.classList.contains("e-grid")}onFocus(e){if(this.parent.isDestroyed||A.isDevice||this.parent.enableVirtualization)return;this.setActive(!this.parent.enableHeaderFocus&&0===this.parent.frozenRows,this.parent.isFrozenGrid()),!this.parent.enableHeaderFocus&&!this.parent.getCurrentViewRecords().length&&("Batch"!==this.parent.editSettings.mode||"Batch"===this.parent.editSettings.mode&&!this.parent.editModule.getBatchChanges()[Mu].length)&&this.getContent().matrix.generate(this.rowModelGen.generateRows({rows:[new Vd({isDataRow:!0})]}),this.getContent().selector,!1);const t=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(t[0],t[1]),this.skipFocus&&(this.focus(e),this.skipFocus=!1)}passiveFocus(e){this.parent.isDestroyed||e.target&&e.target.classList.contains("e-detailcell")&&(this.currentInfo.skipAction=!1,_([this.currentInfo.element],["e-focused","e-focus"]))}onBlur(e){(this.parent.isEdit||e&&(!e.relatedTarget||D(e.relatedTarget,".e-grid")))&&(!h(e.relatedTarget)||0!==parseInt(e.target.getAttribute("aria-colindex"),10)||0!==parseInt(e.target.getAttribute("index"),10))||(this.removeFocus(),this.skipFocus=!0,this.currentInfo.skipAction=!1,this.parent.element.tabIndex=0)}onClick(e,t){if(Ce(e.target,"e-filterbarcell")&&(Ce(e.target,"e-multiselect")||e.target.classList.contains("e-input-group-icon")))return;let i=!h(D(e.target,"."+ar));const n=!h(D(e.target,"."+br));i=i&&n?!i:i;let s=!h(D(e.target,"."+hd))||!h(D(e.target,"."+Fh)),o=!1;if(this.parent.getFrozenMode()===Lt&&(o=!h(D(e.target,".e-frozen-right-content"))||!h(D(e.target,".e-frozen-right-header")),s=s&&!o),!i&&h(D(e.target,"."+br))||e.target.classList.contains(Ls)||!h(D(e.target,".e-unboundcell")))return;if(this.setActive(i,s,o),!i&&h(D(e.target,"."+br)))return void this.clearOutline();const l={cancel:!1,byKey:!1,byClick:!h(e.target),clickArgs:e};if(this.parent.notify(kx,l),!l.cancel&&!D(e.target,".e-inline-edit")&&(this.setActive(i,s,o),this.getContent())){if(!1===this.getContent().onClick(e,t))return;this.focus()}}onKeyPress(e){if(this.parent.allowPaging){if(this.parent.pagerModule.pagerObj.checkPagerHasFocus())return void this.parent.pagerModule.pagerObj.changePagerFocus(e);if(0===this.parent.pagerModule.pagerObj.element.tabIndex&&(38===e.keyCode||e.shiftKey&&9===e.keyCode))return e.preventDefault(),void this.getFocusedElement().focus();if(0===this.parent.pagerModule.pagerObj.element.tabIndex&&9===e.keyCode)return e.preventDefault(),void this.parent.pagerModule.pagerObj.setPagerFocus();if(this.parent.pagerModule.pagerObj.checkFirstPagerFocus()){const o=this.getContent().matrix.rows,l=this.getContent().matrix.columns;this.getContent().matrix.current=[o,l]}}if(this.skipOn(e))return;this.activeKey=e.action;const t={cancel:!1,byKey:!0,byClick:!1,keyArgs:e};if(this.parent.notify(kx,t),t.cancel)return;const i=this.getContent().matrix.current;this.currentInfo.outline=!0;const n=this.getContent().jump(e.action,i);if(this.swap=n,n.swap&&(this.setActive(!n.toHeader,n.toFrozen,n.toFrozenRight),this.getContent().matrix.current=this.getContent().getNextCurrent(i,n,this.active,e.action),this.prevIndexes={}),this.setActiveByKey(e.action,this.getContent()),!1===(!this.content.lastIdxCell&&this.getContent().onKeyPress(e)))return this.clearIndicator(),"shiftTab"===e.action&&i.toString()===[0,0].toString()&&(this.parent.element.tabIndex=-1),void(this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.allowToPaging(e)&&i.toString()!==[0,0].toString()&&(e.preventDefault(),40===e.keyCode?this.parent.pagerModule.pagerObj.setPagerContainerFocus():9===e.keyCode&&this.parent.pagerModule.pagerObj.setPagerFocus()));e.preventDefault(),this.focus(e)}allowToPaging(e){return!("Batch"===this.parent.editSettings.mode&&this.parent.editSettings.allowAdding&&40!==e.keyCode)}skipOn(e){const t=e.target;if(!t)return!1;if(this.currentInfo.skipAction)return this.clearIndicator(),!0;if(["pageUp","pageDown","altDownArrow"].indexOf(e.action)>-1)return this.clearIndicator(),!0;const i=D(t,"th")&&!D(t,"th").tabIndex;e.target.classList.contains("e-filterbaroperator")&&(13===e.keyCode||27===e.keyCode)&&D(e.target,".e-filterbarcell").querySelector("input").focus(),i&&null!==D(document.activeElement,".e-filterbarcell")&&this.removeFocus();let n=null!==D(document.activeElement,".e-filterbarcell");if(this.parent.enableHeaderFocus&&n){const s=this.active.matrix,o=s.current;n=s.matrix[o[0]].lastIndexOf(1)!==o[1]}return"delete"===e.action||"Batch"!==this.parent.editSettings.mode&&(this.parent.isEdit||["insert","f2"].indexOf(e.action)>-1)||n||null!==D(document.activeElement,"#"+this.parent.element.id+"_searchbar")&&["enter","leftArrow","rightArrow","shiftLeft","shiftRight","ctrlPlusA"].indexOf(e.action)>-1||null===D(t,"."+ar)&&null===D(t,"."+br)||"space"===e.action&&!t.classList.contains(P0)&&null===D(t,"."+P0)&&null===D(t,".e-headerchkcelldiv")||null!==D(t,".e-filter-popup")}focusVirtualElement(e){if(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling){const t={virtualData:{},isAdd:!1,isCancel:!1};this.parent.notify(Eg,t);const i=this.actions.some(s=>s===this.activeKey),n=!!this.parent.contentModule&&this.parent.contentModule.selectedRowIndex>-1;t.isAdd||Object.keys(t.virtualData).length||i||t.isCancel||n?(this.parent.notify(ZQ,{isCancel:!1}),t.isCancel=!1,this.parent.contentModule.selectedRowIndex=-1,i&&(this.activeKey=this.empty,this.parent.notify("virtaul-key-handler",e)),this.currentInfo.elementToFocus.focus({preventScroll:!0})):this.isVirtualScroll||this.isInfiniteScroll?this.currentInfo.elementToFocus.focus({preventScroll:!0}):this.currentInfo.elementToFocus.focus()}this.isVirtualScroll=this.isInfiniteScroll=!1}getFocusedElement(){return this.currentInfo.elementToFocus}getContent(){return this.active||this.content}setActive(e,t,i){this.active=e?t?this.fContent:i?this.frContent:this.content:t?this.fHeader:i?this.frHeader:this.header}setFocusedElement(e,t){this.currentInfo.elementToFocus=e,setTimeout(()=>{h(this.currentInfo.elementToFocus)||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling?this.focusVirtualElement(t):this.currentInfo.elementToFocus.focus())},0)}focus(e){this.parent.notify(VQ,e),this.removeFocus(),this.addFocus(this.getContent().getFocusInfo(),e)}removeFocus(e){!this.currentInfo.element||(T([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focused","e-focus"]),this.currentInfo.element.tabIndex=-1)}addOutline(){const e=this.getContent().getFocusInfo();e.element&&(_([e.element],["e-focused"]),_([e.elementToFocus],["e-focus"]))}focusHeader(){this.setActive(!1,this.parent.isFrozenGrid()),this.resetFocus()}focusContent(){this.setActive(!0,this.parent.isFrozenGrid()),this.resetFocus()}resetFocus(){const e=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(e[0],e[1]),this.focus()}addFocus(e,t){if(this.currentInfo=e,this.currentInfo.outline=e.outline&&!h(t),this.isInfiniteScroll&&(this.currentInfo.outline=!0),!e.element)return;const i=e.elementToFocus.classList.contains("e-focus");if(i)return;this.currentInfo.outline&&_([e.element],["e-focused"]),_([e.elementToFocus],["e-focus"]),e.element.tabIndex=0,i||this.setFocusedElement(e.elementToFocus,t),this.parent.notify(DE,{element:e.elementToFocus,parent:e.element,indexes:this.getContent().matrix.current,byKey:!h(t),byClick:h(t),keyArgs:t,isJump:this.swap.swap,container:this.getContent().getInfo(t),outline:!h(t),swapInfo:this.swap});const[n,s]=this.getContent().matrix.current;this.prevIndexes={rowIndex:n,cellIndex:s},this.focusedColumnUid=this.parent.getColumnByIndex(s).uid,this.focusByClick=!1}refreshMatrix(e){return t=>{e&&t.args&&t.args.isFrozen&&!this.fContent?this.fContent=new Ske(this.parent):e&&!this.frContent&&t.args&&t.args.renderFrozenRightContent?this.frContent=new Dke(this.parent):e&&!this.content&&(this.content=new YE(this.parent)),!e&&t.args&&t.args.isFrozen&&!this.fHeader?this.fHeader=new Ike(this.parent):!e&&t.args&&t.args.renderFrozenRightContent&&!this.frHeader?this.frHeader=new Eke(this.parent):!e&&!this.header&&(this.header=new X5(this.parent));const i=e?t.args&&t.args.isFrozen?this.fContent:t.args&&t.args.renderFrozenRightContent?this.frContent:this.content:t.args&&t.args.isFrozen?this.fHeader:t.args&&t.args.renderFrozenRightContent?this.frHeader:this.header;let n=e?t.rows.slice(this.parent.frozenRows):t.rows;const s=e?t.rows.slice(0,this.parent.frozenRows):t.rows;this.parent.isCollapseStateEnabled()&&e&&(n=n.filter(a=>!1!==a.visible));const o=!h(this.parent.rowTemplate),l=i.matrix.generate(s,i.selector,o);if("batchAdd"===t.name&&this.parent.isFrozenGrid()){const c=this.parent.getMovableRowsObject().map(u=>u.clone()),d=n.map(u=>u.clone());if(this.fContent.matrix.generate(d,this.fContent.selector,o),this.content.matrix.generate(c,this.content.selector,o),this.parent.getFrozenMode()===Lt){const p=this.parent.getFrozenRightRowsObject().map(g=>g.clone());this.frContent.matrix.generate(p,this.frContent.selector,o)}}else i.matrix.generate(n,i.selector,o);if(i.generateRows(s,{matrix:l,handlerInstance:t.args&&t.args.isFrozen?this.fHeader:t.args&&t.args.renderFrozenRightContent?this.frHeader:this.header}),!A.isDevice&&t&&t.args&&(!this.focusByClick&&"paging"===t.args.requestType&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&(this.skipFocus=!1,this.parent.element.focus()),"grouping"===t.args.requestType&&(this.skipFocus=!0)),t&&t.args&&"virtualscroll"===t.args.requestType)if(this.currentInfo.uid){let a;if(t.rows.some((d,u)=>(a=u,d.uid===this.currentInfo.uid))){this.content.matrix.current[0]=a,this.content.matrix.current[1]=this.parent.getColumnIndexByUid(this.focusedColumnUid)||0;const d=this.getContent().getFocusInfo().elementToFocus;if(d){const u=d.getBoundingClientRect(),p=this.parent.element.getBoundingClientRect();u.top>=0&&u.left>=0&&u.right<=Math.min(p.right,window.innerWidth||document.documentElement.clientWidth)&&u.bottom<=Math.min(p.bottom,window.innerHeight||document.documentElement.clientHeight)&&(this.isVirtualScroll=!0,this.focus())}}}else if(t.args.focusElement&&t.args.focusElement.classList.contains("e-filtertext")){const a=this.parent.element.querySelector("#"+t.args.focusElement.id);a&&a.focus()}}}addEventListener(){this.parent.isDestroyed||(C.add(this.parent.element,"mousedown",this.focusCheck,this),C.add(this.parent.element,"focus",this.onFocus,this),this.parent.element.addEventListener("focus",this.passiveHandler=e=>this.passiveFocus(e),!0),C.add(this.parent.element,"focusout",this.onBlur,this),this.evtHandlers=[{event:lr,handler:this.onKeyPress},{event:kl,handler:this.onClick},{event:Is,handler:this.refMatrix},{event:V1,handler:this.refMatrix},{event:"refresh-Expand-and-Collapse",handler:this.refMatrix},{event:io,handler:this.refreshMatrix()},{event:JQ,handler:this.restoreFocus},{event:M0,handler:this.restoreFocus},{event:"start-edit",handler:this.clearIndicator},{event:"start-add",handler:this.clearIndicator},{event:"sorting-complete",handler:this.restoreFocus},{event:"filtering-complete",handler:this.filterfocus},{event:"grouping-complete",handler:this.restoreFocusWithAction},{event:"ungrouping-complete",handler:this.restoreFocusWithAction},{event:R0,handler:this.refMatrix},{event:Rx,handler:this.refMatrix},{event:_E,handler:this.refMatrix},{event:"detailDataBound",handler:this.refMatrix},{event:Mh,handler:this.refMatrix},{event:DE,handler:this.internalCellFocus}],vo(this.parent,this.evtHandlers,!0,this))}filterfocus(){"FilterBar"!==this.parent.filterSettings.type&&this.restoreFocus()}removeEventListener(){this.parent.isDestroyed||(C.remove(this.parent.element,"mousedown",this.focusCheck),C.remove(this.parent.element,"focus",this.onFocus),C.remove(this.parent.element,"focusout",this.onBlur),this.parent.element.removeEventListener("focus",this.passiveHandler,!0),vo(this.parent,this.evtHandlers,!1))}destroy(){this.removeEventListener()}restoreFocus(){this.addFocus(this.getContent().getFocusInfo())}restoreFocusWithAction(e){if(!this.parent.enableInfiniteScrolling){const t=this.getContent().matrix,i=t.current;switch(e.requestType){case"grouping":case"ungrouping":i[1]=!i.length||this.parent.groupSettings.showGroupedColumn||h(t.matrix[i[0]])?"grouping"===e.requestType?i[1]+1:i[1]-1:t.matrix[i[0]].indexOf(1)}this.getContent().matrix.current=i,this.addFocus(this.getContent().getFocusInfo())}}clearOutline(){this.getContent().matrix.current=this.getContent().matrix.get(0,-1,[0,1],"downArrow",this.getContent().validator()),this.clearIndicator()}clearIndicator(){!this.currentInfo.element||!this.currentInfo.elementToFocus||T([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focus","e-focused"])}getPrevIndexes(){const e=this.forget;return this.forget=!1,e||!Object.keys(this.prevIndexes).length?{rowIndex:null,cellIndex:null}:this.prevIndexes}forgetPrevious(){this.forget=!0}setActiveByKey(e,t){if(!this.parent.isFrozenGrid()&&0===this.parent.frozenRows)return;let i;const n={home:()=>({toHeader:!i.isContent,toFrozen:!0}),end:()=>({toHeader:!i.isContent,toFrozen:!1}),ctrlHome:()=>({toHeader:!0,toFrozen:this.parent.isFrozenGrid()}),ctrlEnd:()=>({toHeader:!1,toFrozen:!1})};if(!(e in n))return;i=t.getInfo();const s=n[e]();this.setActive(!s.toHeader,s.toFrozen),this.getContent().matrix.current=t.matrix.current}internalCellFocus(e){if(!(e.byKey&&e.container.isContent&&"enter"===e.keyArgs.action&&(e.parent.classList.contains("e-detailcell")||e.parent.classList.contains("e-unboundcell")||e.parent.classList.contains("e-templatecell"))))return;this.clearIndicator();const t=this.getContent().getFocusable(this.getFocusedElement());this.setFocusedElement(t),this.currentInfo.skipAction=!0}}class _ke{constructor(){this.matrix=[],this.current=[]}set(e,t,i){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.columns)),this.matrix[e]=this.matrix[e]||[],this.matrix[e][t]=i?1:0}get(e,t,i,n,s){const o=t;if(e+i[0]<0)return[e,t];e=Math.max(0,Math.min(e+i[0],this.rows));let l=!0;if(h(this.matrix[e]))return null;if(t=Math.max(0,Math.min(t+i[1],this.matrix[e].length-1)),o+i[1]>this.matrix[e].length-1&&s(e,t,n))return[e,o];const a=this.first(this.matrix[e],t,i,!0,n),c=M(`${e}.${t=null===a?o:a}`,this.matrix);if(e===this.rows&&("downArrow"===n||"enter"===n)&&(i[0]=-1),null===a){for(let d=0;d<this.rows;d++)if(this.matrix[d].some(u=>1===u)){l=!1;break}if(l)return[e=this.current[0],t]}return this.inValid(c)||!s(e,t,n)?this.get(e,o,i,n,s):[e,t]}first(e,t,i,n,s){return(t<0||t===e.length)&&this.inValid(e[t])&&"upArrow"!==s&&"downArrow"!==s||!e.some(o=>1===o)?null:this.inValid(e[t])?this.first(e,-1!==["upArrow","downArrow","shiftUp","shiftDown"].indexOf(s)?n?0:++t:t+i[1],i,!1,s):t}select(e,t){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.matrix[e].length-1)),this.current=[e,t]}generate(e,t,i){this.rows=e.length-1,this.matrix=[];for(let n=0;n<e.length;n++){const s=e[n].cells.filter(o=>!0!==o.isSpanned);this.columns=Math.max(s.length-1,0|this.columns);for(let o=0;o<s.length;o++)this.set(n,o,!1!==e[n].visible&&t(e[n],s[o],i))}return this.matrix}inValid(e){return 0===e||void 0===e}}class YE{constructor(e){this.matrix=new _ke,this.lastIdxCell=!1,this.parent=e,this.keyActions={rightArrow:[0,1],tab:[0,1],leftArrow:[0,-1],shiftTab:[0,-1],upArrow:[-1,0],downArrow:[1,0],shiftUp:[-1,0],shiftDown:[1,0],shiftRight:[0,1],shiftLeft:[0,-1],enter:[1,0],shiftEnter:[-1,0]},this.indexesByKey=t=>({home:[this.matrix.current[0],-1,0,1],end:[this.matrix.current[0],this.matrix.columns+1,0,-1],ctrlHome:[0,-1,0,1],ctrlEnd:[this.matrix.rows,this.matrix.columns+1,0,-1]}[t]||null)}getTable(){return this.parent.isFrozenGrid()?this.parent.getContent().querySelector(".e-movablecontent .e-table"):this.parent.getContentTable()}onKeyPress(e){let i=this.getCurrentFromAction(e.action,this.keyActions[e.action],e.action in this.keyActions,e);if(i){if((["tab","shiftTab"].indexOf(e.action)>-1&&this.matrix.current||[]).toString()===i.toString()||this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.matrix.current[0]===this.matrix.rows&&("Batch"===this.parent.editSettings.mode&&this.parent.editSettings.allowAdding&&40===e.keyCode||40===e.keyCode)){if(i.toString()===[this.matrix.rows,this.matrix.columns].toString()||i.toString()===[0,0].toString()||this.matrix.current[0]===this.matrix.rows&&this.matrix.current.toString()===i.toString())return!1;i=this.editNextRow(i[0],i[1],e.action)}this.matrix.select(i[0],i[1])}}editNextRow(e,t,i){const n=this.parent,s=n.editSettings.allowNextRowEdit&&(n.isEdit||n.isLastCellPrimaryKey),o=n.getColumnIndexByField(n.getVisibleColumns()[0].field),l=this.getTable().rows[e].cells[t];return"tab"===i&&s&&(e++,t=o+(this.getTable().rows[e].getElementsByClassName("e-indentcell").length+this.getTable().rows[e].getElementsByClassName("e-detailrowcollapse").length)),"shiftTab"===i&&s&&(e--,t=n.getColumnIndexByField(n.getVisibleColumns()[n.getVisibleColumns().length-1].field)),l.classList.contains(Ii)||l.classList.contains("e-headercell")||l.classList.contains("e-groupcaption")?[e,t]:this.editNextRow(e,t,i)}getCurrentFromAction(e,t=[0,0],i,n){if(!i&&!this.indexesByKey(e)||0===this.matrix.current.length)return null;if(!this.shouldFocusChange(n))return this.matrix.current;const[s,o,l,a]=this.indexesByKey(e)||[...this.matrix.current,...t];return this.matrix.get(s,o,[l,a],e,this.validator())}onClick(e,t){let i=e.target;if(this.target=i,i=i.classList.contains(Ii)?i:D(i,"td"),i=i||D(e.target,"td.e-detailrowcollapse")||D(e.target,"td.e-detailrowexpand"),i=D(e.target,"td.e-detailcell")&&h(D(D(e.target,".e-grid"),"td.e-detailcell"))?null:i,i=i&&D(i,"table").classList.contains(Tn)?i:null,!i)return!1;const[n,s]=[i.parentElement.rowIndex,i.cellIndex],[o,l]=this.matrix.current,a=M(`${n}.${s}`,this.matrix.matrix);if(this.matrix.inValid(a)||!t&&o===n&&l===s||!Ce(e.target,Ii)&&!Ce(e.target,"e-groupcaption"))return!1;this.matrix.select(n,s)}getFocusInfo(){const e={},[t=0,i=0]=this.matrix.current;return this.matrix.current=[t,i],e.element=h(this.getTable().rows[t])?null:this.getTable().rows[t].cells[i],e.element&&(e.elementToFocus=e.element.classList.contains("e-unboundcell")||e.element.classList.contains("e-detailcell")?e.element:this.getFocusable(e.element),e.outline=!0,e.uid=e.element.parentElement.getAttribute("data-uid")),e}getFocusable(e){let t='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';const i=!h(D(e,".e-templatecell"));this.parent.isEdit&&(t='input:not([type="hidden"]), select:not([aria-hidden="true"]), textarea');const n=[].slice.call(e.querySelectorAll(t));return n.length?i&&n.length>1?this.target:n[0]:e}selector(e,t,i){const n=[Ct.Expand,Ct.GroupCaption,Ct.CaptionSummary,Ct.GroupSummary];return(e.isDataRow&&t.visible&&(t.isDataCell||t.isTemplate)||e.isDataRow&&t.cellType===Ct.DetailExpand&&h(t.visible)||!e.isDataRow&&n.indexOf(t.cellType)>-1||t.column&&t.visible&&"checkbox"===t.column.type||t.cellType===Ct.CommandColumn||e.isDataRow&&i)&&!("delete"===e.edit&&e.isDirty)}nextRowFocusValidate(e){const t=e;for(let i=e,n=this.matrix.rows;i<=n;i++){if(-1!==this.matrix.matrix[e].indexOf(1))return e;e+=1}return this.lastIdxCell=!0,t}previousRowFocusValidate(e){const t=e;for(let i=e,n=0;i>=n;i--){if(-1!==this.matrix.matrix[e].indexOf(1))return e;if((e-=1)<0)return this.lastIdxCell=!0,t}return t}jump(e,t){let i=this.parent.getFrozenLeftCount()&&("leftArrow"===e||"shiftTab"===e)&&0===t[1];const n=("rightArrow"===e||"tab"===e)&&t[1]===this.matrix.columns,s=this.parent.getFrozenMode()===Lt&&n;"Right"===this.parent.getFrozenMode()&&(i=n),this.lastIdxCell=!1;const o=0!==this.parent.frozenRows&&"shiftEnter"===e;"tab"===e&&!this.parent.isEdit&&t[1]===this.matrix.matrix[t[0]].lastIndexOf(1)&&this.matrix.matrix.length-1!==t[0]&&(this.matrix.current[0]=this.nextRowFocusValidate(this.matrix.current[0]+1),this.matrix.current[1]=-1,i=this.parent.isFrozenGrid()),"shiftTab"===e&&!this.parent.isEdit&&0!==t[0]&&this.matrix.matrix[t[0]].indexOf(1)===t[1]&&(this.matrix.current[0]=this.previousRowFocusValidate(this.matrix.current[0]-1),this.matrix.current[1]=this.matrix.matrix[t[0]].length);let l=!1;const a=document.activeElement.parentElement;return(this.parent.enableVirtualization||this.parent.infiniteScrollSettings.enableCache)&&a.classList.contains(Oi)&&(l=parseInt(a.getAttribute(Zt),10)>0),{swap:!l&&(("upArrow"===e||o)&&0===t[0]||i||s),toHeader:("upArrow"===e||o)&&0===t[0],toFrozen:i,toFrozenRight:s}}getNextCurrent(e=[],t,i,n){const s=[];return"Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===Lt?(("leftArrow"===n||"shiftTab"===n)&&(s[0]=e[0],s[1]=i.matrix.columns+1),this.parent.getFrozenMode()===Lt&&("rightArrow"===n||"tab"===n)&&(s[0]=e[0],s[1]=-1)):("rightArrow"===n||"tab"===n)&&(s[0]=e[0],s[1]=-1),("downArrow"===n||"enter"===n)&&(s[0]=-1,s[1]=e[1]),s}generateRows(e,t){const{matrix:i,handlerInstance:n}=t,s=n.matrix.matrix.length,o=this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type?s+1:s;n.matrix.matrix=n.matrix.matrix.slice(0,o),n.matrix.rows=o,n.matrix.matrix.push(...i),n.matrix.rows+=i.length}getInfo(e){const t=this.getFocusInfo(),[i,n]=this.matrix.current,s=t.element.classList.contains(Ii),o=s||e&&"enter"!==e.action&&(t.element.classList.contains("e-detailrowcollapse")||t.element.classList.contains("e-detailrowexpand")),[l,a]=[Math.min(parseInt(t.element.parentElement.getAttribute(Zt),10),i),Math.min(parseInt(t.element.getAttribute(_r),10),n)];return{isContent:!0,isDataCell:s,indexes:[l,a],isSelectable:o}}validator(){const e=this.getTable();return(t,i,n)=>{if(!h(e.rows[t])){let s;i=e.querySelector(".e-emptyrow")?0:i,s=e.rows[t].cells[0].classList.contains("e-editcell")?e.rows[t].cells[0].querySelectorAll("td")[i]:e.rows[t].cells[i];const o=0!==s.getBoundingClientRect().width;if("enter"===n||"shiftEnter"===n)return o&&s.classList.contains(Ii);if(("shiftUp"===n||"shiftDown"===n)&&s.classList.contains(Ii))return o;if("shiftUp"!==n&&"shiftDown"!==n)return o}return!1}}shouldFocusChange(e){const[t=-1,i=-1]=this.matrix.current;if(t<0||i<0)return!0;const n=M(`${t}.cells.${i}`,this.getTable().rows);return!n||"enter"!==e.action&&"shiftEnter"!==e.action||n.classList.contains(Ii)&&!n.classList.contains("e-unboundcell")&&(!n.classList.contains("e-templatecell")||n.classList.contains("e-editedbatchcell"))&&!n.classList.contains("e-detailcell")}getGridSeletion(){return this.parent.allowSelection&&this.parent.selectionSettings.allowColumnSelection}}class X5 extends YE{constructor(e){super(e)}getTable(){return this.parent.isFrozenGrid()?this.parent.getHeaderContent().querySelector(".e-movableheader .e-table"):this.parent.getHeaderTable()}onClick(e){let t=e.target;if(this.target=t,t=t.classList.contains("e-headercell")?t:D(t,"th"),!t&&0!==this.parent.frozenRows&&(t=e.target.classList.contains(Ii)?e.target:D(e.target,"td")),e.target.classList.contains("e-columnheader")||e.target.querySelector(".e-stackedheadercell"))return!1;if(!t)return;const[i,n]=[t.parentElement.rowIndex,t.cellIndex],s=M(`${i}.${n}`,this.matrix.matrix);if(this.matrix.inValid(s))return!1;this.matrix.select(t.parentElement.rowIndex,t.cellIndex)}getFocusInfo(){const e={},[t=0,i=0]=this.matrix.current;return e.element=this.getTable().rows[t].cells[i],h(e.element)||(e.elementToFocus=this.getFocusable(e.element),e.outline=!e.element.classList.contains("e-filterbarcell")),e}selector(e,t){return t.visible&&(void 0!==t.column.field||t.isTemplate||!h(t.column.template))||"checkbox"===t.column.type||t.cellType===Ct.StackedHeader}jump(e,t){let i=this.parent.getFrozenLeftCount()&&("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1];const n=("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns,s=this.parent.getFrozenMode()===Lt&&n;"Right"===this.parent.getFrozenMode()&&(i=n);const o=0!==this.parent.frozenRows&&"enter"===e;let l,a,c=i||s;const d=this.parent.focusModule.fHeader&&this.parent.focusModule.fHeader.matrix.matrix,u=d&&!h(d[t[0]]);return this.parent.enableHeaderFocus&&"tab"===e&&(a=this.matrix.matrix.length-1===t[0],l=t[1]===this.matrix.matrix[t[0]].lastIndexOf(1),l&&(this.matrix.current[0]=a?0:this.matrix.current[0]+1,this.matrix.current[1]=-1),this.parent.isFrozenGrid()&&a&&l&&(i=!0,c=!1)),{swap:("downArrow"===e||o)&&t[0]===this.matrix.matrix.length-1||u&&(i||s)||"tab"===e&&a&&l,toHeader:c,toFrozen:i,toFrozenRight:s}}getNextCurrent(e=[],t,i,n){const s=[];return"Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===Lt?(("leftArrow"===n||"shiftLeft"===n&&this.getGridSeletion()||"shiftTab"===n)&&(s[0]=e[0],s[1]=i.matrix.columns+1),this.parent.getFrozenMode()===Lt&&("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(s[0]=e[0],s[1]=-1)):("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(s[0]=e[0],s[1]=-1),("upArrow"===n||"shiftEnter"===n)&&(s[0]=this.matrix.matrix.length,s[1]=e[1]),s}generateRows(e){const t=this.matrix.matrix.length;if(this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type){this.matrix.rows=++this.matrix.rows;const i=e[0].cells;for(let n=0;n<i.length;n++)this.matrix.set(t,n,i[n].visible&&!1!==i[n].column.allowFiltering)}}getInfo(e){return O(super.getInfo(e),{isContent:!1,isHeader:!0})}validator(){return()=>!0}shouldFocusChange(e){const[t,i]=this.matrix.current;if(t<0||i<0)return!0;const n=M(`${t}.cells.${i}`,this.getTable().rows);return!n||"enter"!==e.action&&"altDownArrow"!==e.action||!n.classList.contains("e-headercell")}}class Ske extends YE{getTable(){return this.parent.getContent().querySelector(".e-frozencontent .e-table")}jump(e,t){const n=("upArrow"===e||0!==this.parent.frozenRows&&"shiftEnter"===e)&&0===t[0];return"Right"===this.parent.getFrozenMode()?{swap:n||("shiftTab"===e||"leftArrow"===e)&&0===t[1],toHeader:n,toFrozen:n}:{swap:n||("tab"===e||"rightArrow"===e)&&t[1]===this.matrix.columns,toHeader:n,toFrozen:n}}getNextCurrent(e=[],t,i,n){const s=[];return"Right"===this.parent.getFrozenMode()?("rightArrow"===n||"tab"===n)&&(s[0]=e[0],s[1]=-1):("tab"===n&&this.parent.enableHeaderFocus&&(s[0]=e[0],s[1]=-1),("leftArrow"===n||"shiftTab"===n)&&(s[0]=e[0],s[1]=i.matrix.columns+1)),("downArrow"===n||"enter"===n)&&(s[0]=-1,s[1]=e[1]),s}}class Ike extends X5{jump(e,t){const i=0!==this.parent.frozenRows&&"enter"===e,n=this.parent.focusModule.header&&this.parent.focusModule.header.matrix.matrix,s=n&&!h(n[t[0]]);if("Right"===this.parent.getFrozenMode()){const o=("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1];return{swap:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1||s&&o,toHeader:o,toFrozen:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1}}return{swap:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1||("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns&&s,toHeader:("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns,toFrozen:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1}}getTable(){return this.parent.getHeaderContent().querySelector(".e-frozenheader .e-table")}getNextCurrent(e=[],t,i,n){const s=[];return"Right"===this.parent.getFrozenMode()?("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(s[0]=e[0],s[1]=-1):("leftArrow"===n||"shiftLeft"===n&&this.getGridSeletion()||"shiftTab"===n)&&(s[0]=e[0],s[1]=i.matrix.columns+1),("upArrow"===n||"shiftEnter"===n)&&(s[0]=this.matrix.matrix.length,s[1]=e[1]),s}}class lX{constructor(e){this.searchBox=e}searchFocus(e){e.target.parentElement.classList.add("e-input-focus")}searchBlur(e){e.target.parentElement.classList.remove("e-input-focus")}wireEvent(){this.searchBox&&(C.add(this.searchBox,"focus",this.searchFocus,this),C.add(this.searchBox,"blur",this.searchBlur,this))}unWireEvent(){this.searchBox&&(C.remove(this.searchBox,"focus",this.searchFocus),C.remove(this.searchBox,"blur",this.searchBlur))}}class Dke extends YE{getTable(){return this.parent.getContent().querySelector(".e-frozen-right-content .e-table")}jump(e,t){const n=("upArrow"===e||0!==this.parent.frozenRows&&"shiftEnter"===e)&&0===t[0];return{swap:n||("shiftTab"===e||"leftArrow"===e)&&0===t[1],toHeader:n,toFrozenRight:n}}getNextCurrent(e=[],t,i,n){const s=[];return("rightArrow"===n||"tab"===n)&&(s[0]=e[0],s[1]=-1),("downArrow"===n||"enter"===n)&&(s[0]=-1,s[1]=e[1]),s}}class Eke extends X5{jump(e,t){const i=this.parent.focusModule.header&&this.parent.focusModule.header.matrix.matrix,n=i&&!h(i[t[0]]),s=0!==this.parent.frozenRows&&"enter"===e,o=("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1];return{swap:("downArrow"===e||s)&&t[0]===this.matrix.matrix.length-1||n&&o,toHeader:o,toFrozenRight:("downArrow"===e||s)&&t[0]===this.matrix.matrix.length-1}}getTable(){return this.parent.getHeaderContent().querySelector(".e-frozen-right-header .e-table")}getNextCurrent(e=[],t,i,n){const s=[];return("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(s[0]=e[0],s[1]=0),("upArrow"===n||"shiftEnter"===n)&&(s[0]=this.matrix.matrix.length,s[1]=e[1]),s}}var B0=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class zf extends Nt{}B0([y(12)],zf.prototype,"pageSize",void 0),B0([y(8)],zf.prototype,"pageCount",void 0),B0([y(1)],zf.prototype,"currentPage",void 0),B0([y()],zf.prototype,"totalRecordsCount",void 0),B0([y(!1)],zf.prototype,"enableQueryString",void 0),B0([y(!1)],zf.prototype,"pageSizes",void 0),B0([y(null)],zf.prototype,"template",void 0);var aX=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class J5 extends Nt{}aX([y("startsWith")],J5.prototype,"operator",void 0),aX([y(!1)],J5.prototype,"ignoreAccent",void 0);class Tke{constructor(e,t,i){this.selectedRowIndexes=[],this.selectedRowCellIndexes=[],this.selectedRecords=[],this.preventFocus=!1,this.selectedColumnsIndexes=[],this.checkBoxState=!1,this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1,this.enableSelectMultiTouch=!1,this.clearRowCheck=!1,this.selectRowCheck=!1,this.selectedRowState={},this.totalRecordsCount=0,this.chkAllCollec=[],this.isCheckedOnAdd=!1,this.persistSelectedData=[],this.deSelectedData=[],this.needColumnSelection=!1,this.isCancelDeSelect=!1,this.isPreventCellSelect=!1,this.disableUI=!1,this.isPersisted=!1,this.cmdKeyPressed=!1,this.cellselected=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.initialRowSelection=!1,this.isPrevRowSelection=!1,this.isKeyAction=!1,this.isRowDragSelected=!1,this.autoFillRLselection=!0,this.bottom="0 0 2px 0",this.top="2px 0 0 0",this.right_bottom="0 2px 2px 0",this.bottom_left="0 0 2px 2px",this.top_right="2px 2px 0 0",this.top_left="2px 0 0 2px",this.top_bottom="2px 0 2px 0",this.top_right_bottom="2px 2px 2px 0",this.top_bottom_left="2px 0 2px 2px",this.top_right_left="2px 2px 0 2px",this.right_bottom_left="0 2px 2px 2px",this.all_border="2px",this.parent=e,this.selectionSettings=t,this.factory=i.getService("rendererFactory"),this.focus=i.getService("focus"),this.addEventListener(),this.wireEvents()}initializeSelection(){this.parent.log("selection_key_missing"),this.render()}onActionBegin(e,t){this.parent.trigger(t,this.fDataUpdate(e))}fDataUpdate(e){if(!(this.isMultiSelection||h(e.cellIndex)&&h(e.rowIndex))){const t=this.getRowObj(h(e.rowIndex)?h(e.cellIndex)?this.currentIndex:e.cellIndex.rowIndex:e.rowIndex);e.foreignKeyData=t.foreignKeyData}return e}onActionComplete(e,t){this.parent.trigger(t,this.fDataUpdate(e)),this.isMultiSelection=!1}getModuleName(){return"selection"}destroy(){const e=this.parent.element;!e||!e.querySelector("."+br)&&!e.querySelector("."+ar)||(this.hidePopUp(),this.clearSelection(),this.removeEventListener(),this.unWireEvents(),C.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),C.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler))}isEditing(){return("Normal"===this.parent.editSettings.mode||"Batch"===this.parent.editSettings.mode&&this.parent.editModule&&this.parent.editModule.formObj&&!this.parent.editModule.formObj.validate())&&this.parent.isEdit&&!this.parent.isPersistSelection}getSelectedMovableRow(e){const t=this.parent;return t.isFrozenGrid()&&this.parent.getContent().querySelector("."+hn)?t.getMovableRowByIndex(e):null}getSelectedFrozenRightRow(e){const t=this.parent;return t.isFrozenGrid()&&t.getFrozenMode()===Lt&&t.getFrozenRightContent()?t.getFrozenRightRowByIndex(e):null}getCurrentBatchRecordChanges(){const e=this.parent;if("Batch"===e.editSettings.mode&&e.editModule){let t=K1(this.parent.getCurrentViewRecords());t="Bottom"===e.editSettings.newRowPosition?t.concat(this.parent.editModule.getBatchChanges()[Mu]):this.parent.editModule.getBatchChanges()[Mu].concat(t);const i=this.parent.editModule.getBatchChanges()[Hf],n=this.parent.getPrimaryKeyFieldNames()[0];for(let s=0;s<i.length;s++)for(let o=0;o<t.length;o++)if(i[s][n]===t[o][n]){t.splice(o,1);break}return t}return e.getCurrentViewRecords()}selectRow(e,t){if(this.selectedRowIndexes.length&&this.selectionSettings.enableSimpleMultiRowSelection)return void this.addRowsToSelection([e]);const i=this.parent,n=i.getRowByIndex(e),s=this.getSelectedMovableRow(e),o=this.getSelectedFrozenRightRow(e);let l;if(i.enableVirtualization&&e>-1){const p={selectedIndex:e,isAvailable:!0};this.parent.notify(OQ,p);const g=i.isFrozenGrid()?i.contentModule.getRowObjectByIndex(e):null;if(!n||!i.getRowObjectFromUID(n.getAttribute("data-uid"))&&!g)return void(p.isAvailable&&!i.selectionSettings.persistSelection&&this.parent.getSelectedRecords().length>0&&this.clearRowSelection());l=g||i.getRowObjectFromUID(n.getAttribute("data-uid")).data}else l=this.getRowObj(e).data;if(!this.isRowType()||!n||this.isEditing())return;const c=n.hasAttribute("aria-selected");let d;this.activeTarget(),t=t&&!(!this.selectedRowIndexes.length||1!==this.selectedRowIndexes.length)&&(!this.isKeyAction||!this.parent.isCheckBoxSelection)&&e===this.selectedRowIndexes[0],this.isKeyAction=!1;const u="cancel";t?this.rowSelectingCallBack(d,t,e,l,!1,c,u)(d):(d={data:l,rowIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,row:n,previousRow:i.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked},d=this.addMovableArgs(d,s,o),this.parent.trigger(e5,this.fDataUpdate(d),this.rowSelectingCallBack(d,t,e,l,!1,c,u)))}rowSelectingCallBack(e,t,i,n,s,o,l){return a=>{h(a)||!0!==a[l]?(this.index=i,this.toggle=t,this.data=n,this.removed=s,o&&this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode?(this.clearSelectedRow(i),this.selectRowCallBack()):!o&&this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode&&this.selectRowCallBack(),"ResetOnRowClick"===this.selectionSettings.checkboxMode&&this.clearSelection(),(!this.selectionSettings.persistSelection||"ResetOnRowClick"===this.selectionSettings.checkboxMode||!this.parent.isCheckBoxSelection&&this.selectionSettings.persistSelection)&&(this.selectRowCheck=!0,this.clearRow())):this.disableInteracted()}}selectRowCallBack(){const e=this.parent;let t;const i=this.index,n=this.toggle,s=this.data,o=this.removed,l=e.getRowByIndex(i),a=this.getSelectedMovableRow(i),c=this.getSelectedFrozenRightRow(i);!n&&!o&&(this.selectedRowIndexes.indexOf(i)<=-1&&(this.updateRowSelection(l,i),this.selectMovableRow(a,c,i)),this.selectRowIndex(i)),n||(t={data:s,rowIndex:i,row:l,previousRow:e.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,isInteracted:this.isInteracted,isHeaderCheckBoxClicked:this.isHeaderCheckboxClicked},t=this.addMovableArgs(t,a,c),this.onActionComplete(t,Dx)),this.isInteracted=!1,this.updateRowProps(i)}selectMovableRow(e,t,i){this.parent.isFrozenGrid()&&(this.updateRowSelection(e,i),this.parent.getFrozenMode()===Lt&&t&&this.updateRowSelection(t,i))}addMovableArgs(e,t,i){if(this.parent.isFrozenGrid()){const n={mRow:t,previousMovRow:this.parent.getMovableRows()[this.prevRowIndex]},s="frozenRightRow",o="previousFrozenRightRow";this.parent.getFrozenMode()===Lt&&i&&(n[s]=i,n[o]=this.parent.getFrozenRightDataRows()[this.prevRowIndex]),e=Object.assign({},e,n)}return e}selectRowsByRange(e,t){this.selectRows(this.getCollectionFromIndexes(e,t)),this.selectRowIndex(t)}selectedDataUpdate(e,t,i,n){for(let s=0,o=n.length;s<o;s++){const l=this.parent.getDataRows()[n[s]],a=this.getRowObj(l);a&&(e.push(a.data),i.push(l),t.push(a.foreignKeyData))}}selectRows(e){const t=this.parent,i=this.isSingleSel()?e[e.length-1]:e[0];this.isMultiSelection=!0;const n=[],s=[],o=this.getSelectedMovableRow(i),l=this.getSelectedFrozenRightRow(i),c=[];if(!this.isRowType()||this.isEditing())return;this.selectedDataUpdate(c,s,n,e),this.activeTarget();let d={cancel:!1,rowIndexes:e,row:n,rowIndex:i,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isInteracted:this.isInteracted,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,data:c,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,foreignKeyData:s};d=this.addMovableArgs(d,o,l),this.parent.trigger(e5,this.fDataUpdate(d),u=>{if(!h(u)&&!0===u.cancel)return void this.disableInteracted();this.clearRow(),this.selectRowIndex(e.slice(-1)[0]);const p=g=>{if(this.updateRowSelection(t.getRowByIndex(g),g),t.isFrozenGrid()){const f=this.parent.getFrozenMode()===Lt?t.getFrozenRightRowByIndex(g):void 0;this.selectMovableRow(t.getMovableRowByIndex(g),f,g)}this.updateRowProps(i)};if(this.isSingleSel())p(i);else for(const g of e)p(g);u={rowIndexes:e,row:n,rowIndex:i,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,data:this.getSelectedRecords(),isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,foreignKeyData:s},u=this.addMovableArgs(u,o,l),this.isRowSelected&&this.onActionComplete(u,Dx),this.isInteracted=!1})}addRowsToSelection(e){const t=this.parent,n=this.target;this.isMultiSelection=!0;const s=[],o=[],l=[],a=t.getSelectedRowIndexes().concat(e),c=this.isSingleSel()?t.getRowByIndex(e[e.length-1]):t.getRowByIndex(e[0]),d=this.isSingleSel()?this.getSelectedMovableRow(e[e.length-1]):this.getSelectedMovableRow(e[0]),u=this.isSingleSel()?this.getSelectedFrozenRightRow(e[e.length-1]):this.getSelectedFrozenRightRow(e[0]);if((!this.isRowType()||this.isEditing())&&!this.selectionSettings.checkboxOnly)return;let p;const g=this.parent.getColumns().filter(f=>"checkbox"===f.type);this.isMultiCtrlRequest&&!g.length&&this.selectedDataUpdate(l,o,s,a);for(const f of e){const m=this.getRowObj(f),v=this.selectedRowIndexes.indexOf(f)>-1;if(this.selectRowIndex(f),v&&(g.length||this.selectionSettings.enableToggle||this.isMultiCtrlRequest)){if(this.isAddRowsToSelection=!0,this.rowDeselect(oQ,[f],[m.data],[c],[m.foreignKeyData],n),this.isCancelDeSelect)return;this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(f),1),this.selectedRecords.splice(this.selectedRecords.indexOf(c),1),this.selectRowIndex(this.selectedRowIndexes.length?this.selectedRowIndexes[this.selectedRowIndexes.length-1]:-1),c.removeAttribute("aria-selected"),this.addRemoveClassesForRow(c,!1,null,"e-selectionbackground","e-active"),d&&(this.selectedRecords.splice(this.selectedRecords.indexOf(d),1),d.removeAttribute("aria-selected"),this.addRemoveClassesForRow(d,!1,null,"e-selectionbackground","e-active")),u&&(this.selectedRecords.splice(this.selectedRecords.indexOf(u),1),u.removeAttribute("aria-selected"),this.addRemoveClassesForRow(u,!1,null,"e-selectionbackground","e-active")),this.rowDeselect(wE,[f],[m.data],[c],[m.foreignKeyData],n,[d],void 0,[u]),this.isInteracted=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1}else{if(this.activeTarget(),p={cancel:!1,data:l.length?l:m.data,rowIndex:f,row:s.length?s:c,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,foreignKeyData:o.length?o:m.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:a},p=this.addMovableArgs(p,d,u),this.parent.trigger(e5,this.fDataUpdate(p)),!h(p)&&!0===p.cancel)return void this.disableInteracted();this.isSingleSel()&&this.clearRow(),this.updateRowSelection(c,f),this.selectMovableRow(d,u,f)}if(v||(p={data:l.length?l:m.data,rowIndex:f,row:s.length?s:c,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,foreignKeyData:o.length?o:m.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:a},p=this.addMovableArgs(p,d,u),this.onActionComplete(p,Dx)),this.isInteracted=!1,this.updateRowProps(f),this.isSingleSel())break}}getCollectionFromIndexes(e,t){const i=[];let{i:n,max:s}=e<=t?{i:e,max:t}:{i:t,max:e};for(;n<=s;n++)i.push(n);return e>t&&i.reverse(),i}clearRow(){this.clearRowCheck=!0,this.clearRowSelection()}clearRowCallBack(){this.isCancelDeSelect&&"Check"!==this.parent.checkAllRows||(this.selectedRowIndexes=[],this.selectedRecords=[],this.selectRowIndex(-1),this.isSingleSel()&&this.parent.isPersistSelection&&(this.selectedRowState={}))}clearSelectedRow(e){if(this.toggle){const t=this.parent.getRowByIndex(e);this.disableUI||(t.removeAttribute("aria-selected"),this.addRemoveClassesForRow(t,!1,!0,"e-selectionbackground","e-active")),this.removed=!0,this.updatePersistCollection(t,!1),this.updateCheckBoxes(t),this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(e),1),this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(e)),1)}}updateRowProps(e){this.prevRowIndex=e,this.isRowSelected=this.selectedRowIndexes.length&&!0}updatePersistCollection(e,t){if((this.parent.isPersistSelection||this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0)&&!h(e)){this.parent.isPersistSelection||this.ensureCheckboxFieldSelection();const i=this.getRowObj(e),n=i.data?i.data[this.primaryKey]:null;if(null===n)return;i.isSelected=t,t?(this.selectedRowState[n]=t,this.persistSelectedData.some(s=>s[this.primaryKey]===n)||this.persistSelectedData.push(i.data)):this.updatePersistDelete(n)}}updatePersistDelete(e){let t;delete this.selectedRowState[e],this.persistSelectedData.some((n,s)=>(t=s,n[this.primaryKey]===e))&&this.persistSelectedData.splice(t,1)}updateCheckBoxes(e,t,i){if(!h(e)){const n=e.querySelector(".e-checkselect");h(n)||(X1(n.nextElementSibling,t),N0(n,t),(h(this.checkedTarget)||!h(this.checkedTarget)&&!this.checkedTarget.classList.contains("e-checkselectall"))&&this.setCheckAllState(i))}}updateRowSelection(e,t){if(!e)return;this.selectedRowIndexes.push(t);const i=this.selectedRowIndexes.length;if(this.parent.isFrozenGrid()&&i>1&&this.selectedRowIndexes[i-2]===this.selectedRowIndexes[i-1]&&this.selectedRowIndexes.pop(),this.selectedRecords.push(e),e.setAttribute("aria-selected","true"),this.updatePersistCollection(e,!0),this.updateCheckBoxes(e,!0),this.addRemoveClassesForRow(e,!0,null,"e-selectionbackground","e-active"),!this.preventFocus){let n=this.focus.getPrevIndexes().cellIndex?e.cells[this.focus.getPrevIndexes().cellIndex]:e.querySelector(".e-selectionbackground:not(.e-hide):not(.e-detailrowcollapse):not(.e-detailrowexpand)");if(this.parent.contextMenuModule&&2===this.mouseButton&&(n=this.parent.contextMenuModule.cell),!n)return;this.focus.onClick({target:n},!0)}}clearSelection(){if(this.checkSelectAllClicked=!0,this.selectionSettings.persistSelection&&this.persistSelectedData.length&&(this.deSelectedData=K1(this.persistSelectedData)),!this.parent.isPersistSelection||this.parent.isPersistSelection&&!this.parent.isEdit||!h(this.checkedTarget)&&this.checkedTarget.classList.contains("e-checkselectall")){const e=this.parent.element.querySelector(".e-gridpopup").querySelector("span");e.classList.contains("e-rowselect")&&e.classList.remove("e-spanclicked"),this.parent.isPersistSelection&&(this.persistSelectedData=[],this.selectedRowState={}),this.clearRowSelection(),this.clearCellSelection(),this.clearColumnSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0,this.enableSelectMultiTouch=!1,this.isInteracted=!1,this.checkSelectAllClicked=!1}}clearRowSelection(){if(this.isRowSelected){const e=this.parent,t=this.parent.getDataRows(),i=[],n=[],s=[],o=[],l=[],a=[],c=this.target;for(let d=0,u=this.selectedRowIndexes.length;d<u;d++){const p="Batch"===this.parent.editSettings.mode?this.parent.getRows()[this.selectedRowIndexes[d]]:this.parent.getDataRows()[this.selectedRowIndexes[d]],g=this.getRowObj(p);if(g&&(i.push(g.data),n.push(p),l.push(this.selectedRowIndexes[d]),a.push(g.foreignKeyData)),e.isFrozenGrid()){const f=e.getMovableRows();if(f&&f.length&&s.push(f[this.selectedRowIndexes[d]]),e.getFrozenMode()===Lt){const m=e.getFrozenRightRows();m&&m.length&&o.push(m[this.selectedRowIndexes[d]])}}}this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode&&(this.isRowClicked=!!this.checkSelectAllClicked),this.rowDeselect(oQ,l,i,n,a,c,s,()=>{if(this.isCancelDeSelect&&(this.isRowClicked||this.checkSelectAllClicked||this.isInteracted&&!this.parent.isPersistSelection)){if(this.parent.isPersistSelection)if("Intermediate"===this.getCheckAllStatus(this.parent.element.querySelector(".e-checkselectall")))for(let u=0;u<this.selectedRecords.length;u++)this.updatePersistCollection(this.selectedRecords[u],!0);else this.parent.checkAllRows="Check",this.updatePersistSelectedData(!0);return void(this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1)))}const d=[].slice.call(t.filter(u=>u.hasAttribute("aria-selected")));for(let u=0;u<d.length;u++)this.disableUI||(d[u].removeAttribute("aria-selected"),this.addRemoveClassesForRow(d[u],!1,!0,"e-selectionbackground","e-active")),this.isPrevRowSelection||this.updatePersistCollection(d[u],!1),this.updateCheckBoxes(d[u]);for(let u=0,p=this.selectedRowIndexes.length;u<p;u++){const g=this.getSelectedMovableRow(this.selectedRowIndexes[u]);g&&(this.disableUI||(g.removeAttribute("aria-selected"),this.addRemoveClassesForRow(g,!1,!0,"e-selectionbackground","e-active")),this.updateCheckBoxes(g),this.isPrevRowSelection||this.updatePersistCollection(g,!1));const f=this.getSelectedFrozenRightRow(this.selectedRowIndexes[u]);f&&(this.disableUI||(f.removeAttribute("aria-selected"),this.addRemoveClassesForRow(f,!1,!0,"e-selectionbackground","e-active")),this.updateCheckBoxes(f),this.isPrevRowSelection||this.updatePersistCollection(f,!1))}this.selectedRowIndexes=[],this.selectedRecords=[],this.isRowSelected=!1,this.selectRowIndex(-1),this.isPrevRowSelection=!1,this.rowDeselect(wE,l,i,n,a,c,s,void 0,o),this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1))},o)}else this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1))}rowDeselect(e,t,i,n,s,o,l,a,c){if(this.selectionSettings.persistSelection&&(this.isRowClicked||this.checkSelectAllClicked)||!this.selectionSettings.persistSelection){const d="cancel",u=1===t.length&&1===this.deSelectedData.length,p={rowIndex:t[0],data:this.selectionSettings.persistSelection&&"Uncheck"===this.parent.checkAllRows&&!u&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode?this.deSelectedData:i,foreignKeyData:s,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked};"rowDeselected"===e&&delete p.cancel;const g="row",f="target",m="rowIndex",v="rowIndexes",x="data",w="foreignKeyData";p[g]=n,p[f]=this.actualTarget,this.actualTarget&&!h(D(this.actualTarget,"thead"))||t.length>1?(p[m]=t[0],p[v]=t):1===t.length&&(p[x]=p[x][0],p[g]=p[g][0],p[w]=p[w][0],this.isAddRowsToSelection&&(p[v]=t)),this.parent.trigger(e,this.parent.isFrozenGrid()?Object.assign({},p,{mRow:l,frozenRightRow:c}):p,I=>{this.isCancelDeSelect=I[d],(!this.isCancelDeSelect||!this.isRowClicked&&!this.isInteracted&&!this.checkSelectAllClicked)&&(this.updatePersistCollection(n[0],!1),this.updateCheckBoxes(n[0],void 0,t[0]),l&&this.updateCheckBoxes(l[0],void 0,t[0]),c&&this.updateCheckBoxes(c[0],void 0,t[0])),void 0!==a&&a()})}else this.selectionSettings.persistSelection&&!this.isInteracted&&void 0!==a&&a()}getRowObj(e=this.currentIndex){return h(e)?{}:("number"==typeof e&&(e=this.parent.getRowByIndex(e)),e&&this.parent.getRowObjectFromUID(e.getAttribute("data-uid"))||{})}getSelectedMovableCell(e){const t=this.parent,i=t.getColumnByIndex(e.cellIndex);return t.isFrozenGrid()&&"movable"===i.getFreezeTableName()?t.getMovableCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex)):null}selectCell(e,t){if(!this.isCellType())return;const i=this.parent;let s,n=this.getSelectedMovableCell(e);n||(n=i.getCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex))),this.currentIndex=e.rowIndex;const o=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!this.isCellType()||!n||this.isEditing())return;const l=n.classList.contains("e-cellselectionbackground");(t=t&&!Et(this.prevCIdxs)&&e.rowIndex===this.prevCIdxs.rowIndex&&e.cellIndex===this.prevCIdxs.cellIndex&&l)?this.successCallBack(s,t,e,n,o)(s):(s={data:o,cellIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,cancel:!1},s.currentCell=n,s.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(A1,this.fDataUpdate(s),this.successCallBack(s,t,e,n,o)),this.cellselected=!0)}successCallBack(e,t,i,n,s){return o=>{const a="currentCell";if((h(o)||!0!==o.cancel)&&(t||(o[a]=o[a]?o[a]:n),this.clearCell(),t||this.updateCellSelection(n,i.rowIndex,i.cellIndex),!t)){const c={data:s,cellIndex:i,currentCell:n,selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};c.previousRowCellIndex=this.prevECIdxs,this.updateCellProps(i,i),this.onActionComplete(c,bE)}}}getCellIndex(e,t){return this.parent.getFrozenColumns()&&t>=this.parent.getFrozenColumns()?this.parent.getMovableCellFromIndex(e,t):this.parent.getCellFromIndex(e,t)}selectCellsByRange(e,t){if(!this.isCellType())return;const i=this.parent;let n=this.getSelectedMovableCell(e);const s=i.getFrozenColumns();let o,l;n||(n=i.getCellFromIndex(e.rowIndex,e.cellIndex));const a=e,c=t=t||e;let d;this.currentIndex=e.rowIndex;const p=this.getCurrentBatchRecordChanges()[this.currentIndex];if(this.isSingleSel()||!this.isCellType()||this.isEditing())return;const g={data:p,cellIndex:e,currentCell:n,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};g.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(A1,this.fDataUpdate(g),m=>{if(!h(m)&&!0===m.cancel)return;if(this.clearCell(),e.rowIndex>t.rowIndex){const w=e;e=t,t=w}for(let w=e.rowIndex;w<=t.rowIndex;w++){this.selectionSettings.cellSelectionMode.indexOf("Box")<0?(o=w===e.rowIndex?e.cellIndex:0,l=w===t.rowIndex?t.cellIndex:this.getLastColIndex(w)):(o=e.cellIndex,l=t.cellIndex),d=[];for(let b=o<l?o:l,I=o>l?o:l;b<=I;b++)n=s?b<s?i.getCellFromIndex(w,b):i.getMovableCellFromIndex(w,b):i.getCellFromIndex(w,b),n&&(d.push(b),this.updateCellSelection(n),this.addAttribute(n));this.selectedRowCellIndexes.push({rowIndex:w,cellIndexes:d})}const v={data:p,cellIndex:c,currentCell:i.getCellFromIndex(c.rowIndex,c.cellIndex),selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};v.previousRowCellIndex=this.prevECIdxs,this.isDragged||(this.onActionComplete(v,bE),this.cellselected=!0),this.updateCellProps(a,c)})}selectCells(e){if(!this.isCellType())return;const t=this.parent;let i=this.getSelectedMovableCell(e[0]);const n=t.getFrozenColumns();i||(i=t.getCellFromIndex(e[0].rowIndex,e[0].cellIndexes[0])),this.currentIndex=e[0].rowIndex;const s=this.getCurrentBatchRecordChanges()[this.currentIndex];if(this.isSingleSel()||!this.isCellType()||this.isEditing())return;const o={data:s,cellIndex:e[0].cellIndexes[0],currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};o.previousRowCellIndex=this.prevECIdxs,this.onActionBegin(o,A1);for(let d=0,u=e.length;d<u;d++)for(let p=0,g=e[d].cellIndexes.length;p<g;p++)i=n?e[d].cellIndexes[p]<n?t.getCellFromIndex(e[d].rowIndex,e[d].cellIndexes[p]):t.getMovableCellFromIndex(e[d].rowIndex,e[d].cellIndexes[p]):t.getCellFromIndex(e[d].rowIndex,e[d].cellIndexes[p]),i&&(this.updateCellSelection(i),this.addAttribute(i),this.addRowCellIndex({rowIndex:e[d].rowIndex,cellIndex:e[d].cellIndexes[p]}));this.updateCellProps({rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]},{rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]});const a={data:s,cellIndex:e[0].cellIndexes[0],currentCell:i,selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};a.previousRowCellIndex=this.prevECIdxs,this.onActionComplete(a,bE)}addCellsToSelection(e){if(!this.isCellType())return;const t=this.parent;let i,n;this.currentIndex=e[0].rowIndex;const o=this.getCurrentBatchRecordChanges()[this.currentIndex],l=t.getFrozenLeftCount(),a=t.getMovableColumnsCount();if(this.isSingleSel()||!this.isCellType()||this.isEditing())return;this.hideAutoFill();const c=t.getColumnByIndex(e[0].cellIndex);let d;Kf(this.parent,(p,g)=>{d=g[e[0].rowIndex]},[c.getFreezeTableName()&&c.getFreezeTableName()!==Os?[]:t.getRowsObject(),"movable"===c.getFreezeTableName()?t.getMovableRowsObject():[],c.getFreezeTableName()===Ln?t.getFrozenRightRowsObject():[]]),t.groupSettings.columns.length>0&&(d=t.getRowObjectFromUID(this.target.parentElement.getAttribute("data-uid")));const u=[];for(const p of e){for(let x=0,w=this.selectedRowCellIndexes.length;x<w;x++)if(this.selectedRowCellIndexes[x].rowIndex===p.rowIndex){n=x;break}i=this.getSelectedMovableCell(p),i||(i=t.getCellFromIndex(p.rowIndex,this.getColIndex(p.rowIndex,p.cellIndex)));const g="movable"===c.getFreezeTableName()?p.cellIndex-l:c.getFreezeTableName()===Ln?p.cellIndex-(l+a):p.cellIndex;u.push(t.groupSettings.columns.length>0?d.cells[g+t.groupSettings.columns.length].foreignKeyData:d.cells[g].foreignKeyData);const f={cancel:!1,data:o,cellIndex:e[0],isShiftPressed:this.isMultiShiftRequest,currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,previousRowCell:this.prevECIdxs?t.getCellFromIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},m="previousRowCellIndex";f[m]=this.prevECIdxs;let v=n>-1;if(v){const x=this.selectedRowCellIndexes[n].cellIndexes;x.indexOf(p.cellIndex)>-1?(this.cellDeselect(lQ,[{rowIndex:p.rowIndex,cellIndexes:[p.cellIndex]}],o,[i],u),x.splice(x.indexOf(p.cellIndex),1),0===x.length&&this.selectedRowCellIndexes.splice(n,1),i.classList.remove("e-cellselectionbackground"),i.removeAttribute("aria-selected"),this.cellDeselect(aQ,[{rowIndex:p.rowIndex,cellIndexes:[p.cellIndex]}],o,[i],u)):(v=!1,this.onActionBegin(f,A1),this.addRowCellIndex({rowIndex:p.rowIndex,cellIndex:p.cellIndex}),this.updateCellSelection(i),this.addAttribute(i))}else{if(this.onActionBegin(f,A1),!h(f)&&!0===f.cancel)return;this.updateCellSelection(i,p.rowIndex,p.cellIndex)}if(!v){const x={data:o,cellIndex:e[0],currentCell:i,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,selectedRowCellIndex:this.selectedRowCellIndexes};x[m]=this.prevECIdxs,this.onActionComplete(x,bE),this.cellselected=!0}this.updateCellProps(p,p)}}getColIndex(e,t){const i=this.parent.isFrozenGrid(),n=this.parent.getColumnByIndex(t),s=_X(this.parent,n,e);if(s)for(let o=0;o<s.length;o++)if(parseInt(s[o].getAttribute(_r),10)===t)return i&&("movable"===n.getFreezeTableName()?o+=this.parent.getFrozenLeftCount():n.getFreezeTableName()===Ln&&(o+=this.parent.getFrozenLeftColumnsCount()+this.parent.getMovableColumnsCount())),o;return-1}getLastColIndex(e){const t=this.parent.getFrozenColumns()?this.parent.getMovableDataRows()[e].querySelectorAll("td.e-rowcell"):this.parent.getDataRows()[e].querySelectorAll("td.e-rowcell");return parseInt(t[t.length-1].getAttribute(_r),10)}clearCell(){this.clearCellSelection()}cellDeselect(e,t,i,n,s){n[0]&&n[0].classList.contains(P0)&&this.updateCheckBoxes(D(n[0],"tr"));const l={cells:n,data:i,cellIndexes:t,foreignKeyData:s,cancel:!1};this.parent.trigger(e,l),this.isPreventCellSelect=l.cancel}updateCellSelection(e,t,i){h(t)||this.addRowCellIndex({rowIndex:t,cellIndex:i}),e.classList.add("e-cellselectionbackground"),e.classList.contains(P0)&&this.updateCheckBoxes(D(e,"tr"),!0),this.addAttribute(e)}addAttribute(e){this.target=e,h(e)||(e.setAttribute("aria-selected","true"),this.preventFocus||this.focus.onClick({target:e},!0))}updateCellProps(e,t){this.prevCIdxs=e,this.prevECIdxs=t,this.isCellSelected=this.selectedRowCellIndexes.length&&!0}addRowCellIndex(e){let t,i;for(let n=0,s=this.selectedRowCellIndexes.length;n<s;n++)if(this.selectedRowCellIndexes[n].rowIndex===e.rowIndex){t=!0,i=n;break}t?this.selectedRowCellIndexes[i].cellIndexes.indexOf(e.cellIndex)<0&&this.selectedRowCellIndexes[i].cellIndexes.push(e.cellIndex):this.selectedRowCellIndexes.push({rowIndex:e.rowIndex,cellIndexes:[e.cellIndex]})}clearCellSelection(){if(this.isCellSelected){const e=this.parent,t=this.getSelectedCellsElement(),i=this.selectedRowCellIndexes,n=[],s=[],o=[],l=this.getCurrentBatchRecordChanges(),a=e.isFrozenGrid();this.hideAutoFill();for(let c=0,d=i.length;c<d;c++){n.push(l[i[c].rowIndex]);const u=this.getRowObj(i[c].rowIndex);for(let p=0,g=i[c].cellIndexes.length;p<g;p++)if(a){const f=e.getColumnByIndex(i[c].cellIndexes[p]);s.push(p4(this.parent,f,i[c].rowIndex,i[c].cellIndexes[p]))}else u.cells&&o.push(u.cells[i[c].cellIndexes[p]].foreignKeyData),s.push(e.getCellFromIndex(i[c].rowIndex,i[c].cellIndexes[p]))}if(this.cellDeselect(lQ,i,n,s,o),!0===this.isPreventCellSelect)return;for(let c=0,d=t.length;c<d;c++)t[c].classList.remove("e-cellselectionbackground"),t[c].removeAttribute("aria-selected");this.bdrElement&&this.showHideBorders("none"),this.selectedRowCellIndexes=[],this.isCellSelected=!1,!this.isDragged&&this.cellselected&&this.cellDeselect(aQ,i,n,s,o)}}getSelectedCellsElement(){const e=this.parent;let i,t=e.getDataRows();e.isFrozenGrid()&&(i=e.getMovableDataRows(),t=e.addMovableRows(t,i),e.getFrozenMode()===Lt&&(t=e.addMovableRows(t,e.getFrozenRightDataRows())));let n=[];for(let s=0,o=t.length;s<o;s++)n=n.concat([].slice.call(t[s].getElementsByClassName("e-cellselectionbackground")));return n}mouseMoveHandler(e){e.preventDefault();const t=this.parent.element.getBoundingClientRect();let i=this.x,n=this.y;const s=Gf(e);let a,o=s.x-t.left,l=s.y-t.top,c=D(e.target,"tr");if(this.isDragged=!0,this.isCellDrag||(c||(c=D(document.elementFromPoint(this.parent.element.offsetLeft+2,e.clientY),"tr")),i>o&&(a=o,o=i,i=a),n>l&&(a=l,l=n,n=a),this.element.style.left=i+"px",this.element.style.top=n+"px",this.element.style.width=o-i+"px",this.element.style.height=l-n+"px"),c&&!e.ctrlKey&&!e.shiftKey){const d=parseInt(c.getAttribute(Zt),10);if(this.isCellDrag){const u=Ce(e.target,Ii);u&&(this.startAFCell=this.startCell,this.endAFCell=Ce(e.target,Ii),this.selectLikeExcel(e,d,parseInt(u.getAttribute(_r),10)))}else this.hideAutoFill(),this.selectRowsByRange(this.startDIndex,d),this.isRowDragSelected=!0}}selectLikeExcel(e,t,i){this.isAutoFillSel?(this.showAFBorders(),this.selectLikeAutoFill(e)):(this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:t,cellIndex:i}),this.drawBorders())}drawBorders(){"BoxWithBorder"===this.selectionSettings.cellSelectionMode&&this.selectedRowCellIndexes.length&&!this.parent.isEdit?(this.parent.element.classList.add("e-enabledboxbdr"),this.bdrElement||this.createBorders(),this.positionBorders()):this.showHideBorders("none")}isLastCell(e){const t=[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"));return t[t.length-1]===e}isLastRow(e){const t=[].slice.call(D(e,Ke).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[t.length-1]}isFirstRow(e){const t=[].slice.call(D(e,Ke).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[0]}isFirstCell(e){return[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"))[0]===e}setBorders(e,t,i){const n=[].slice.call(e.getElementsByClassName("e-cellselectionbackground")).filter(s=>""===s.style.display);if(n.length){const s=this.parent.isFrozenGrid(),o=n[0],l=n[n.length-1],a=o.getBoundingClientRect(),c=l.getBoundingClientRect(),d=o.offsetParent.getBoundingClientRect(),u=!this.isLastRow(l)||"1"!==i&&"2"!==i&&"5"!==i?0:2,p=this.parent.frozenRows&&("1"===i||"2"===i)&&this.isFirstRow(o)?1.5:0,g=s&&("2"===i||"4"===i)&&this.isFirstCell(o)?1:0,f=("Right"!==this.parent.getFrozenMode()||"1"!==i&&"3"!==i)&&(this.parent.getFrozenMode()!==Lt||"5"!==i&&"6"!==i)||!this.isFirstCell(o)?0:1;this.parent.enableRtl?(t.style.right=d.right-a.right-g+"px",t.style.width=a.right-c.left+g+1+"px"):(t.style.left=a.left-d.left-g-f+"px",t.style.width=c.right-a.left+g-f+1+"px"),t.style.top=a.top-d.top-p+"px",t.style.height=c.top-a.top>0?c.top-d.top+c.height+1-(a.top-d.top)-u+p+"px":c.height+p-u+1+"px",this.selectDirection+=i}else t.style.display="none"}positionBorders(){this.updateStartEndCells(),this.startCell&&this.bdrElement&&this.selectedRowCellIndexes.length&&(this.selectDirection="",this.showHideBorders(""),this.setBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.contentModule.getMovableContent(),this.mcBdrElement,"2"),this.parent.getFrozenMode()===Lt&&this.setBorders(this.parent.contentModule.getFrozenRightContent(),this.frcBdrElement,"5")),this.parent.frozenRows&&(this.setBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.headerModule.getMovableHeader(),this.mhBdrElement,"4"),this.parent.getFrozenMode()===Lt&&this.setBorders(this.parent.headerModule.getFrozenRightHeader(),this.frhBdrElement,"6"))),this.applyBorders(this.selectDirection))}applyBothFrozenBorders(e){const t=this.parent.enableRtl;switch(e.length){case 6:this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=this.bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=this.top,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right;break;case 4:e.includes("1")&&e.includes("2")&&e.includes("3")&&e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom),e.includes("2")&&e.includes("4")&&e.includes("5")&&e.includes("6")&&(this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 3:this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mcBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mhBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom);break;case 2:e.includes("1")&&(this.mcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.top_right_left)),e.includes("2")&&(this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.mhBdrElement.style.borderWidth=this.top_right_left)),e.includes("3")&&(this.mhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.bdrElement.style.borderWidth=this.right_bottom_left),e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.mcBdrElement.style.borderWidth=this.right_bottom_left),e.includes("5")&&(this.mcBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.parent.frozenRows&&(this.frhBdrElement.style.borderWidth=this.top_right_left)),e.includes("6")&&(this.mhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=this.right_bottom_left);break;default:this.bdrElement.style.borderWidth=this.all_border,this.mcBdrElement.style.borderWidth=this.all_border,this.frcBdrElement.style.borderWidth=this.all_border,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.mhBdrElement.style.borderWidth=this.all_border,this.frhBdrElement.style.borderWidth=this.all_border)}}applyBorders(e){const t=this.parent.enableRtl;if(this.parent.getFrozenMode()===Lt)this.applyBothFrozenBorders(e);else switch(e.length){case 4:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.fhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left):(this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 2:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left,this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom,this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left)):(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom)));break;default:this.bdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=this.all_border),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=this.all_border))}}createBorders(){this.bdrElement||(this.bdrElement=this.parent.getContentTable().parentElement.appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_bdr",styles:"width: 2px; border-width: 0;"})),this.parent.isFrozenGrid()&&(this.mcBdrElement=this.parent.contentModule.getMovableContent().appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_mcbdr",styles:"height: 2px; border-width: 0;"})),this.parent.getFrozenMode()===Lt&&(this.frcBdrElement=this.parent.contentModule.getFrozenRightContent().appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_frcbdr",styles:"height: 2px; border-width: 0;"})))),this.parent.frozenRows&&(this.fhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_fhbdr",styles:"height: 2px;"}))),this.parent.frozenRows&&this.parent.isFrozenGrid()&&(this.mhBdrElement=this.parent.headerModule.getMovableHeader().appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_mhbdr",styles:"height: 2px;"})),this.parent.getFrozenMode()===Lt&&(this.frhBdrElement=this.parent.headerModule.getFrozenRightHeader().appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_frhbdr",styles:"height: 2px;"})))))}showHideBorders(e){this.bdrElement&&(this.bdrElement.style.display=e,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.display=e,this.parent.getFrozenMode()===Lt&&(this.frcBdrElement.style.display=e)),this.parent.frozenRows&&(this.fhBdrElement.style.display=e),this.parent.frozenRows&&this.parent.isFrozenGrid()&&(this.mhBdrElement.style.display=e,this.parent.getFrozenMode()===Lt&&(this.frhBdrElement.style.display=e)))}drawAFBorders(){this.bdrAFBottom||this.createAFBorders(),this.positionAFBorders()}positionAFBorders(){if(!this.startCell||!this.bdrAFLeft)return;const e=this.startAFCell.getBoundingClientRect(),t=this.endAFCell.getBoundingClientRect(),i=t.top-e.top>0?1:0,n=t.top-e.top>=0&&(Ce(this.startAFCell,hn)||Ce(this.startAFCell,"e-frozencontent"))&&this.isFirstRow(this.startAFCell)?1.5:0,s=(Ce(this.startAFCell,hn)||Ce(this.startAFCell,un))&&this.isFirstCell(this.startAFCell)?1:0,o=this.isLastRow(this.endAFCell)&&(Ce(this.endAFCell,hn)||Ce(this.endAFCell,"e-frozencontent"))?2:0,l=this.startAFCell.offsetParent.getBoundingClientRect(),a=this.parent.element.getBoundingClientRect();let u=this.startAFCell.offsetParent.parentElement.scrollTop-this.startAFCell.offsetTop,p=this.startAFCell.offsetParent.parentElement.scrollLeft-this.startAFCell.offsetLeft;const g=this.parent.element.clientHeight,f=this.parent.element.clientWidth;u=u>0?Math.floor(u)-1:0,p=p>0?p:0;const m=e.left-a.left;if(this.parent.enableRtl){const v=Ce(this.startAFCell,hn)||Ce(this.startAFCell,un)?e.right-this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width-a.left:0;this.bdrAFLeft.style.right=a.right-t.right-2+t.width+"px",this.bdrAFLeft.style.width=f<=parseInt(this.bdrAFLeft.style.right,10)?"0px":"2px",this.bdrAFRight.style.right=a.right-e.right-s+v-1+"px",this.bdrAFTop.style.left=t.left-a.left-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFLeft.style.right,10)-parseInt(this.bdrAFRight.style.right,10)-s+1+"px",parseInt(this.bdrAFTop.style.left,10)<0&&(this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)+"px",this.bdrAFTop.style.left="0px")}else if(this.bdrAFLeft.style.left=m-s+p-1+"px",this.bdrAFRight.style.left=t.left-a.left-2+t.width+"px",this.bdrAFRight.style.width=f<=parseInt(this.bdrAFRight.style.left,10)?"0px":"2px",this.bdrAFTop.style.left=m+p-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFRight.style.left,10)-parseInt(this.bdrAFLeft.style.left,10)-s+1+"px",f<=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)){const v=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)-f;this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)-v+"px"}if(this.bdrAFLeft.style.top=e.top-a.top-n+u+"px",this.bdrAFLeft.style.height=t.top-e.top>0?t.top-l.top+t.height+1-(e.top-l.top)+n-o-u+"px":t.height+n-o-u+"px",this.bdrAFRight.style.top=this.bdrAFLeft.style.top,this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px",this.bdrAFTop.style.top=this.bdrAFRight.style.top,this.bdrAFBottom.style.left=this.bdrAFTop.style.left,this.bdrAFBottom.style.top=parseFloat(this.bdrAFLeft.style.top)+parseFloat(this.bdrAFLeft.style.height)-i-1+"px",this.bdrAFBottom.style.width=g<=parseFloat(this.bdrAFBottom.style.top)?"0px":this.bdrAFTop.style.width,g<=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)){const v=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)-g;this.bdrAFLeft.style.height=parseInt(this.bdrAFLeft.style.height,10)-v+"px",this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px"}}createAFBorders(){this.bdrAFLeft||(this.bdrAFLeft=this.parent.element.appendChild(Xe("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafleft",styles:"width: 2px;"})),this.bdrAFRight=this.parent.element.appendChild(Xe("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafright",styles:"width: 2px;"})),this.bdrAFBottom=this.parent.element.appendChild(Xe("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafbottom",styles:"height: 2px;"})),this.bdrAFTop=this.parent.element.appendChild(Xe("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdraftop",styles:"height: 2px;"})))}showAFBorders(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="",this.bdrAFRight.style.display="",this.bdrAFBottom.style.display="",this.bdrAFTop.style.display="")}hideAFBorders(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="none",this.bdrAFRight.style.display="none",this.bdrAFBottom.style.display="none",this.bdrAFTop.style.display="none")}updateValue(e,t,i){const n=this.createBeforeAutoFill(e,t,i);if(!n.cancel){const s=this.parent.getColumnByIndex(t);this.parent.editModule&&i&&this.parent.editModule.updateCell(e,s.field,"number"===s.type?parseFloat(n.value):n.value)}}createBeforeAutoFill(e,t,i){const s={column:this.parent.getColumnByIndex(t),value:i.innerText};return this.parent.trigger("beforeAutoFill",s),s}getAutoFillCells(e,t){const i=".e-cellselectionbackground";let n=[].slice.call(this.parent.getDataRows()[e].querySelectorAll(i));return this.parent.isFrozenGrid()&&(n=n.concat([].slice.call(this.parent.getMovableDataRows()[e].querySelectorAll(i))),this.parent.getFrozenMode()===Lt&&(n=n.concat([].slice.call(this.parent.getFrozenRightDataRows()[e].querySelectorAll(i))))),n}selectLikeAutoFill(e,t){const i=parseInt(Ce(this.startAFCell,Oi).getAttribute(Zt),10),n=parseInt(this.startAFCell.getAttribute(_r),10);let s=parseInt(Ce(this.endAFCell,Oi).getAttribute(Zt),10),o=parseInt(this.endAFCell.getAttribute(_r),10);const l=this.selectedRowCellIndexes.length-1,a=this.selectedRowCellIndexes[0].cellIndexes.length-1;switch(!0){case!t&&this.endAFCell.classList.contains("e-cellselectionbackground")&&!!Ce(e.target,Ii):this.startAFCell=this.parent.getCellFromIndex(i,n),this.endAFCell=this.parent.getCellFromIndex(i+l,n+a),this.drawAFBorders();break;case this.autoFillRLselection&&n+a<o&&o-n-a+1>s-i-l&&o-n-a+1>i-s:if(this.endAFCell=this.parent.getCellFromIndex(i+l,o),s=parseInt(Ce(this.endAFCell,Oi).getAttribute(Zt),10),o=parseInt(this.endAFCell.getAttribute(_r),10),t){const c=parseInt(this.endCell.getAttribute(_r),10);for(let d=i;d<=s;d++){const u=this.getAutoFillCells(d,n);let p=0;for(let g=c+1;g<=o;g++)p>a&&(p=0),this.updateValue(d,g,u[p]),p++}this.selectCellsByRange({rowIndex:i,cellIndex:this.startCellIndex},{rowIndex:s,cellIndex:o})}else this.drawAFBorders();break;case this.autoFillRLselection&&n>o&&n-o+1>s-i-l&&n-o+1>i-s:if(this.startAFCell=this.parent.getCellFromIndex(i,o),this.endAFCell=this.endCell,t){for(let c=i;c<=i+l;c++){const d=this.getAutoFillCells(c,n);d.reverse();let u=0;for(let p=this.startCellIndex-1;p>=o;p--)u>a&&(u=0),this.updateValue(c,p,d[u]),u++}this.selectCellsByRange({rowIndex:i,cellIndex:o},{rowIndex:i+l,cellIndex:this.startCellIndex+a})}else this.drawAFBorders();break;case i>s:if(this.startAFCell=this.parent.getCellFromIndex(s,n),this.endAFCell=this.endCell,t){const c=parseInt(this.endCell.parentElement.getAttribute(Zt),10);let d=c;for(let u=i-1;u>=s;u--){d===this.startIndex-1&&(d=c);const p=this.getAutoFillCells(d,n);let g=0;d--;for(let f=this.startCellIndex;f<=this.startCellIndex+a;f++)this.updateValue(u,f,p[g]),g++}this.selectCellsByRange({rowIndex:s,cellIndex:n+a},{rowIndex:i+l,cellIndex:n})}else this.drawAFBorders();break;default:if(this.endAFCell=this.parent.getCellFromIndex(s,n+a),t){const c=parseInt(this.endCell.parentElement.getAttribute(Zt),10);let d=this.startIndex;for(let u=c+1;u<=s;u++){d===c+1&&(d=this.startIndex);const p=this.getAutoFillCells(d,n);d++;let g=0;for(let f=this.startCellIndex;f<=this.startCellIndex+a;f++)this.updateValue(u,f,p[g]),g++}this.selectCellsByRange({rowIndex:c-l,cellIndex:n},{rowIndex:s,cellIndex:n+a})}else this.drawAFBorders()}}mouseUpHandler(e){if(document.body.classList.remove("e-disableuserselect"),this.element&&X(this.element),this.mUPTarget=this.isDragged&&1===this.selectedRowCellIndexes.length&&1===this.selectedRowCellIndexes[0].cellIndexes.length?Ce(e.target,Ii):null,this.isDragged&&!this.isAutoFillSel&&"Cell"===this.selectionSettings.mode&&e.target.classList.contains(Ii)){const t=e.target,i=parseInt(t.parentElement.getAttribute(Zt),10),n=parseInt(t.getAttribute(_r),10);this.isDragged=!1,this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:i,cellIndex:n})}if(this.isDragged=!1,this.updateAutoFillPosition(),this.isAutoFillSel){const t=Ce(e.target,Ii);this.endAFCell=t||(this.endCell===this.endAFCell?this.startAFCell:this.endAFCell),this.startAFCell=this.startCell,this.updateStartCellsIndex(),this.selectLikeAutoFill(e,!0),this.updateAutoFillPosition(),this.hideAFBorders(),this.positionBorders(),this.isAutoFillSel=!1}C.remove(this.parent.getContent(),"mousemove",this.mouseMoveHandler),this.parent.frozenRows&&C.remove(this.parent.getHeaderContent(),"mousemove",this.mouseMoveHandler),C.remove(document,"mouseup",this.mouseUpHandler)}hideAutoFill(){this.autofill&&(this.autofill.style.display="none")}updateAutoFillPosition(){if(this.parent.enableAutoFill&&!this.parent.isEdit&&this.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel()&&this.selectedRowCellIndexes.length){const e=parseInt(this.target.getAttribute(_r),10),t=parseInt(this.target.getAttribute("index"),10),n=this.getAutoFillCells(this.selectedRowCellIndexes[this.selectedRowCellIndexes.length-1].rowIndex,e).filter(d=>""===d.style.display),s=this.parent.getColumnByIndex(e),o="movable"===s.getFreezeTableName(),l=t<this.parent.frozenRows,a=this.parent.getFrozenMode()===Lt&&s.getFreezeTableName()===Ln;G("#"+this.parent.element.id+"_autofill",Ce(this.target,Tn))||(G("#"+this.parent.element.id+"_autofill",this.parent.element)&&G("#"+this.parent.element.id+"_autofill",this.parent.element).remove(),this.autofill=Xe("div",{className:"e-autofill",id:this.parent.element.id+"_autofill"}),this.autofill.style.display="none",l?o?this.parent.headerModule.getMovableHeader().appendChild(this.autofill):this.parent.getHeaderTable().parentElement.appendChild(this.autofill):o?this.parent.contentModule.getMovableContent().appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill),a&&(l?this.parent.getFrozenRightHeader().appendChild(this.autofill):this.parent.getFrozenRightContent().appendChild(this.autofill)));const c=n[n.length-1];if(c&&c.offsetParent){const d=c.getBoundingClientRect(),u=c.offsetParent.getBoundingClientRect(),p=this.isLastCell(c)?4:0,g=this.isLastRow(c)?3:0;this.parent.enableRtl?this.autofill.style.right=u.right-d.right+d.width-4-p+"px":this.autofill.style.left=d.left-u.left+d.width-4-p+"px",this.autofill.style.top=d.top-u.top+d.height-5-g+"px"}this.autofill.style.display=""}else this.hideAutoFill()}mouseDownHandler(e){this.mouseButton=e.button;const t=e.target,i=this.parent;let n;const s=Ce(t,"e-grid");if(!(s&&s.id!==i.element.id||Ce(t,cr)&&!this.parent.frozenRows||Ce(t,"e-editedbatchcell")||Ce(t,al))){if((e.shiftKey||e.ctrlKey)&&e.preventDefault(),Ce(t,Ii)&&!e.shiftKey&&!e.ctrlKey){if(i.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel())this.isCellDrag=!0,n=!0;else if(i.allowRowDragAndDrop&&!i.isEdit&&!this.parent.selectionSettings.checkboxOnly){if(this.isRowDragSelected=!1,!this.isRowType()||this.isSingleSel()||D(t,"td").classList.contains("e-selectionbackground"))return void(this.isDragged=!1);n=!0,this.element=this.parent.createElement("div",{className:"e-griddragarea"}),i.getContent().appendChild(this.element)}n&&this.enableDrag(e,!0)}this.updateStartEndCells(),(t.classList.contains("e-autofill")||t.classList.contains("e-xlsel"))&&(this.isCellDrag=!0,this.isAutoFillSel=!0,this.enableDrag(e))}}updateStartEndCells(){const e=[].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground"));this.startCell=e[0],this.endCell=e[e.length-1],this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(Zt),10),this.startCellIndex=parseInt(Ce(this.startCell,Ii).getAttribute(_r),10))}updateStartCellsIndex(){this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(Zt),10),this.startCellIndex=parseInt(Ce(this.startCell,Ii).getAttribute(_r),10))}enableDrag(e,t){const i=this.parent;if(t){const o=D(e.target,"tr");this.startDIndex=parseInt(o.getAttribute(Zt),10),this.startDCellIndex=parseInt(Ce(e.target,Ii).getAttribute(_r),10)}document.body.classList.add("e-disableuserselect");const n=i.element.getBoundingClientRect(),s=Gf(e);this.x=s.x-n.left,this.y=s.y-n.top,C.add(i.getContent(),"mousemove",this.mouseMoveHandler,this),this.parent.frozenRows&&C.add(i.getHeaderContent(),"mousemove",this.mouseMoveHandler,this),C.add(document,"mouseup",this.mouseUpHandler,this)}clearSelAfterRefresh(e){"virtualscroll"!==e.requestType&&!this.parent.isPersistSelection&&(!this.parent.enableInfiniteScrolling||"infiniteScroll"!==e.requestType)&&this.clearSelection()}addEventListener(){this.parent.isDestroyed||(this.evtHandlers=[{event:as,handler:this.enableAfterRender},{event:ol,handler:this.initializeSelection},{event:"rowselected",handler:this.onActionComplete},{event:"cellselected",handler:this.onActionComplete},{event:ll,handler:this.onPropertyChanged},{event:DE,handler:this.onCellFocused},{event:FQ,handler:this.clearSelAfterRefresh},{event:Ax,handler:this.columnPositionChanged},{event:Is,handler:this.initialEnd},{event:EE,handler:this.rowsRemoved},{event:io,handler:this.refreshHeader},{event:Ri,handler:this.destroy}],vo(this.parent,this.evtHandlers,!0,this),this.actionBeginFunction=this.actionBegin.bind(this),this.actionCompleteFunction=this.actionComplete.bind(this),this.parent.addEventListener(Pn,this.actionBeginFunction),this.parent.addEventListener(yi,this.actionCompleteFunction),this.addEventListener_checkbox())}removeEventListener(){this.parent.isDestroyed||(vo(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(Pn,this.actionBeginFunction),this.parent.removeEventListener(yi,this.actionCompleteFunction),this.removeEventListener_checkbox())}wireEvents(){this.isMacOS=-1!==navigator.userAgent.indexOf("Mac OS"),this.isMacOS?(C.add(this.parent.element,"keydown",this.keyDownHandler,this),C.add(this.parent.element,"keyup",this.keyUpHandler,this)):this.parent.allowKeyboard||C.add(this.parent.element,"keydown",this.keyDownHandler,this)}unWireEvents(){this.isMacOS?(C.remove(this.parent.element,"keydown",this.keyDownHandler),C.remove(this.parent.element,"keyup",this.keyUpHandler)):this.parent.allowKeyboard||C.remove(this.parent.element,"keydown",this.keyDownHandler)}columnPositionChanged(){this.parent.isPersistSelection||this.clearSelection()}refreshHeader(){this.setCheckAllState()}rowsRemoved(e){for(let t=0;t<e.records.length;t++)delete this.selectedRowState[e.records[t][this.primaryKey]],--this.totalRecordsCount;this.setCheckAllState()}beforeFragAppend(e){"virtualscroll"!==e.requestType&&!this.parent.isPersistSelection&&this.clearSelection()}getCheckAllBox(){return this.parent.getHeaderContent().querySelector(".e-checkselectall")}enableAfterRender(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.initPerisistSelection())}render(e){C.add(this.parent.getContent(),"mousedown",this.mouseDownHandler,this),C.add(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler,this)}onPropertyChanged(e){if(e.module!==this.getModuleName())return;const t=this.parent;!h(e.properties.type)&&"Single"===this.selectionSettings.type&&(this.selectedRowCellIndexes.length>1&&(this.clearCellSelection(),this.prevCIdxs=void 0),this.selectedRowIndexes.length>1&&(this.clearRowSelection(),this.prevRowIndex=void 0),this.selectedColumnsIndexes.length>1&&(this.clearColumnSelection(),this.prevColIndex=void 0),this.enableSelectMultiTouch=!1,this.hidePopUp()),(!h(e.properties.mode)||!h(e.properties.cellSelectionMode))&&(this.clearSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevColIndex=void 0),this.isPersisted=!0,this.checkBoxSelectionChanged(),this.isPersisted=!1,this.parent.isCheckBoxSelection||this.initPerisistSelection(),this.parent.getColumns().filter(n=>"checkbox"===n.type).length&&(t.isCheckBoxSelection="ResetOnRowClick"!==this.selectionSettings.checkboxMode),this.drawBorders()}hidePopUp(){this.parent.element.querySelector(".e-gridpopup").getElementsByClassName("e-rowselect").length&&(this.parent.element.querySelector(".e-gridpopup").style.display="none")}initialEnd(e){const t=this.parent.isFrozenGrid(),i=this.parent.getFrozenMode()===Lt;(!t||t&&!i&&!e.args.isFrozen||i&&e.args.renderFrozenRightContent)&&!this.selectedRowIndexes.length&&(this.parent.off(Is,this.initialEnd),this.selectRow(this.parent.selectedRowIndex))}checkBoxSelectionChanged(){const e=this.parent;e.off(Is,this.checkBoxSelectionChanged);const t=e.getColumns().filter(i=>"checkbox"===i.type);t.length>0&&(e.isCheckBoxSelection=!0,this.chkField=t[0].field,this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount,h(this.totalRecordsCount)&&(this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.isSingleSel()?(e.selectionSettings.type="Multiple",e.dataBind()):this.initPerisistSelection()),!e.isCheckBoxSelection&&!this.isPersisted&&(this.chkField=null,this.initPerisistSelection())}initPerisistSelection(){const e=this.parent;this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!0,this.ensureCheckboxFieldSelection()):this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!1,this.ensureCheckboxFieldSelection()):(e.isPersistSelection=!1,this.selectedRowState={})}ensureCheckboxFieldSelection(){const e=this.parent;if(this.primaryKey=this.parent.getPrimaryKeyFieldNames()[0],!e.enableVirtualization&&this.chkField&&(e.isPersistSelection&&0===Object.keys(this.selectedRowState).length||!e.isPersistSelection)){const t=this.parent.getDataModule(),i=(new Ze).where(this.chkField,"equal",!0);i.params||(i.params=this.parent.query.params);const n=t.getData({},i),s=this;this.parent.showSpinner(),n.then(o=>{s.dataSuccess(o.result),s.refreshPersistSelection(),s.parent.hideSpinner()})}}dataSuccess(e){for(let t=0;t<e.length;t++)h(this.selectedRowState[e[t][this.primaryKey]])&&e[t][this.chkField]&&(this.selectedRowState[e[t][this.primaryKey]]=e[t][this.chkField]);this.persistSelectedData=e}setRowSelection(e){if(!this.parent.getDataModule().isRemote())if(e)if(this.parent.groupSettings.columns.length)for(const t of this.getData().records)this.selectedRowState[t[this.primaryKey]]=!0;else for(const t of this.getData())this.selectedRowState[t[this.primaryKey]]=!0;else this.selectedRowState={}}getData(){return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(!0))}refreshPersistSelection(){let e=this.parent.getRows();if(this.parent.isCheckBoxSelection&&this.parent.isFrozenGrid()&&(this.parent.getMovableContentTbody().querySelector(".e-checkselect")&&(e=this.parent.getMovableRows()),this.parent.getFrozenMode()===Lt&&this.parent.getFrozenRightContentTbody().querySelector(".e-checkselect")&&(e=this.parent.getFrozenRightRows())),this.totalRecordsCount=this.parent.getCurrentViewRecords().length,this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),null!==e&&e.length>0&&(this.parent.isPersistSelection||this.chkField)){const t=[];for(let i=0;i<e.length;i++){const n=this.getRowObj(e[i]),s=n&&n.data?n.data[this.primaryKey]:null;if(null===s)return;let o;const l=e[i].querySelector(".e-checkselect");this.selectedRowState[s]||"Check"===this.parent.checkAllRows&&this.selectedRowState[s]&&this.totalRecordsCount===Object.keys(this.selectedRowState).length&&this.chkAllCollec.indexOf(s)<0||"Uncheck"===this.parent.checkAllRows&&this.chkAllCollec.indexOf(s)>0||"Intermediate"===this.parent.checkAllRows&&!h(this.chkField)&&n.data[this.chkField]?(t.push(parseInt(e[i].getAttribute(Zt),10)),o=!0):(o=!1,this.checkedTarget!==l&&this.parent.isCheckBoxSelection&&l&&X1(l.nextElementSibling,o)),this.updatePersistCollection(e[i],o)}this.isSingleSel()&&t.length>0?this.selectRow(t[0],!0):this.selectRows(t)}this.parent.isCheckBoxSelection&&this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState()}actionBegin(e){if("save"===e.requestType&&this.parent.isPersistSelection){const t=this.parent.element.querySelector(".e-edit-checkselect");if(!h(t)){let i=D(t,"."+al);if(i){"Dialog"===this.parent.editSettings.mode&&(i=this.parent.element.querySelector(".e-dlgeditrow"));const n=this.getRowObj(i);if(!n)return;this.selectedRowState[n.data[this.primaryKey]]=n.isSelected=t.checked}else this.isCheckedOnAdd=t.checked}}}actionComplete(e){if("save"===e.requestType&&this.parent.isPersistSelection){if("add"===e.action&&this.isCheckedOnAdd){const t=this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute("data-uid"));this.selectedRowState[t.data[this.primaryKey]]=t.isSelected=this.isCheckedOnAdd}this.refreshPersistSelection()}if("delete"===e.requestType&&this.parent.isPersistSelection){const i=e.data.slice();for(let n=0;n<i.length;n++)h(i[n][this.primaryKey])||this.updatePersistDelete(i[n][this.primaryKey]);this.setCheckAllState(),this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount}"paging"===e.requestType&&(this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0)}onDataBound(){if(!this.parent.enableVirtualization&&this.parent.isPersistSelection&&(this.selectedRecords.length&&(this.isPrevRowSelection=!0),this.refreshPersistSelection()),this.parent.enableVirtualization&&this.setCheckAllState(),this.initialRowSelection=!!(this.isRowType()&&this.parent.element.querySelectorAll(".e-selectionbackground")&&this.parent.getSelectedRows().length),this.parent.isCheckBoxSelection&&!this.initialRowSelection){const e=this.parent.getRowsObject(),t=[];for(let i=0;i<e.length;i++)e[i].isSelected&&t.push(i);t.length&&this.selectRows(t),this.initialRowSelection=!0}}updatePersistSelectedData(e){if(this.parent.isPersistSelection){const t=this.parent.getRows();for(let i=0;i<t.length;i++)this.updatePersistCollection(t[i],e);"Uncheck"===this.parent.checkAllRows?(this.setRowSelection(!1),this.persistSelectedData=this.parent.getDataModule().isRemote()?this.persistSelectedData:[]):"Check"===this.parent.checkAllRows&&(this.setRowSelection(!0),this.persistSelectedData=this.parent.getDataModule().isRemote()?this.persistSelectedData:this.parent.groupSettings.columns.length?this.getData().records.slice():this.getData().slice())}}checkSelectAllAction(e){const t=this.getRenderer(),i=this.parent.element.querySelector(".e-gridform");if(this.checkedTarget=this.getCheckAllBox(),e&&this.getCurrentBatchRecordChanges().length?(this.parent.checkAllRows="Check",this.updatePersistSelectedData(e),this.selectRowsByRange(t.getVirtualRowIndex(0),t.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length-1))):(this.parent.checkAllRows="Uncheck",this.updatePersistSelectedData(e),this.clearSelection()),this.chkAllCollec=[],!h(i)){const n=i.querySelector(".e-edit-checkselect");h(n)||X1(n.nextElementSibling,e)}}checkSelectAll(e){const t=this.getCheckAllStatus(e);let i="Check"===t;this.isHeaderCheckboxClicked=!0,"Intermediate"===t&&(i=this.getCurrentBatchRecordChanges().some(n=>n[this.primaryKey]in this.selectedRowState)),this.parent.isPersistSelection&&this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),this.checkSelectAllAction(!i),this.target=null,this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState(),this.triggerChkChangeEvent(e,!i)}getCheckAllStatus(e){const t=e?e.nextElementSibling.classList:this.getCheckAllBox().nextElementSibling.classList;let i;return i=t.contains("e-check")?"Check":t.contains("e-uncheck")?"Uncheck":t.contains("e-stop")?"Intermediate":"None",i}checkSelect(e){const t=D(this.checkedTarget,"."+Ii),i=this.parent;this.isMultiCtrlRequest=!0;let n=0;if(this.isHeaderCheckboxClicked=!1,dr(i)){const s=t.parentElement.getAttribute("data-uid");n=i.getRows().map(o=>o.getAttribute("data-uid")).indexOf(s)}else n=parseInt(t.parentElement.getAttribute(Zt),10);this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(va).length>0&&"Top"===this.parent.editSettings.newRowPosition&&++n,this.rowCellSelectionHandler(n,parseInt(t.getAttribute(_r),10)),this.moveIntoUncheckCollection(D(t,"."+Oi)),this.setCheckAllState(),this.isMultiCtrlRequest=!1,this.triggerChkChangeEvent(e,e.nextElementSibling.classList.contains("e-check"))}moveIntoUncheckCollection(e){if("Check"===this.parent.checkAllRows||"Uncheck"===this.parent.checkAllRows){const t=this.getRowObj(e),i=t&&t.data?t.data[this.primaryKey]:null;if(!i)return;this.chkAllCollec.indexOf(i)<0?this.chkAllCollec.push(i):this.chkAllCollec.splice(this.chkAllCollec.indexOf(i),1)}}triggerChkChangeEvent(e,t){this.parent.trigger("checkBoxChange",{checked:t,selectedRowIndexes:this.parent.getSelectedRowIndexes(),target:e}),this.parent.isEdit||(this.checkedTarget=null)}updateSelectedRowIndex(e){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.getDataModule().isRemote())if("Check"===this.parent.checkAllRows){this.selectedRowIndexes=[];const t=this.getData().length;for(let i=0;i<t;i++)this.selectedRowIndexes.push(i)}else if("Uncheck"===this.parent.checkAllRows)this.selectedRowIndexes=[];else{const t=this.parent.getRowByIndex(e);if(e&&t&&"false"===t.getAttribute("aria-selected")){const i=this.selectedRowIndexes.indexOf(e);this.selectedRowIndexes.splice(i,1)}}}isAllSelected(){const e=this.getData();for(let t=0;t<e.length;t++)if(!this.selectedRowState[e[t][this.primaryKey]])return!1;return!0}setCheckAllState(e,t){if(this.parent.isCheckBoxSelection||"ResetOnRowClick"===this.parent.selectionSettings.checkboxMode){let i=!0,n=Object.keys(this.selectedRowState).length;this.parent.isPersistSelection||(n=this.selectedRowIndexes.length,this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.parent.isPersistSelection&&!this.parent.getDataModule().isRemote()&&(this.parent.searchSettings.key.length||this.parent.filterSettings.columns.length)&&(i=this.isAllSelected());const s=this.getCheckAllBox();if(s){const o=s.nextElementSibling;T([o],["e-check","e-stop","e-uncheck"]),N0(s,!1),s.indeterminate=!1,i&&n===this.totalRecordsCount&&this.totalRecordsCount||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&!this.parent.getDataModule().isRemote()&&this.getData().length&&n===this.getData().length?(_([o],["e-check"]),N0(s,!0),t&&this.getRenderer().setSelection(null,!0,!0),this.parent.checkAllRows="Check"):!this.selectedRowIndexes.length||0===n&&0===this.getCurrentBatchRecordChanges().length?(_([o],["e-uncheck"]),t&&this.getRenderer().setSelection(null,!1,!0),this.parent.checkAllRows="Uncheck",0===n&&0===this.getCurrentBatchRecordChanges().length?_([o.parentElement],["e-checkbox-disabled"]):T([o.parentElement],["e-checkbox-disabled"])):(_([o],["e-stop"]),this.parent.checkAllRows="Intermediate",s.indeterminate=!0),(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&!this.parent.getDataModule().isRemote()&&this.updateSelectedRowIndex(e)}}}keyDownHandler(e){(("chrome"===A.info.name||"safari"===A.info.name)&&(91===e.keyCode||93===e.keyCode)||"opera"===A.info.name&&17===e.keyCode||"mozilla"===A.info.name&&224===e.keyCode)&&(this.cmdKeyPressed=!0),32===e.keyCode&&e.preventDefault()}keyUpHandler(e){(("chrome"===A.info.name||"safari"===A.info.name)&&(91===e.keyCode||93===e.keyCode)||"opera"===A.info.name&&17===e.keyCode||"mozilla"===A.info.name&&224===e.keyCode)&&(this.cmdKeyPressed=!1)}clickHandler(e){let t=e.target;this.actualTarget=t,this.selectionSettings.persistSelection&&(this.deSelectedData=K1(this.persistSelectedData)),(Ce(t,Oi)||Ce(t,"e-headerchkcelldiv")||this.selectionSettings.allowColumnSelection&&t.classList.contains("e-headercell"))&&(this.isInteracted=!0),this.isMultiCtrlRequest=e.ctrlKey||this.enableSelectMultiTouch||this.isMacOS&&this.cmdKeyPressed,this.parent.allowKeyboard?this.isMultiShiftRequest=e.shiftKey:(this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1),this.popUpClickHandler(e);let n,i=!1;this.preventFocus=!0;const s=Ce(t,"e-checkbox-wrapper");if(this.checkSelectAllClicked=!!(s&&s.getElementsByClassName("e-checkselectall")||this.selectionSettings.persistSelection&&Ce(t,Oi)),s&&s.querySelectorAll(".e-checkselect,.e-checkselectall").length>0&&(n=s.querySelector('input[type="checkbox"]'),i=!0),this.drawBorders(),this.updateAutoFillPosition(),t=Ce(t,Ii),(t&&t.parentElement.classList.contains(Oi)&&!this.parent.selectionSettings.checkboxOnly||i)&&!this.isRowDragSelected){if(this.parent.isCheckBoxSelection&&(this.isMultiCtrlRequest=!0),this.target=t,h(n)){const o=this.parent;let l=0;if(dr(o)){const a=t.parentElement.getAttribute("data-uid");l=o.getRows().map(c=>c.getAttribute("data-uid")).indexOf(a)}else l=parseInt(t.parentElement.getAttribute(Zt),10);this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(va).length>0&&++l,(!this.mUPTarget||!this.mUPTarget.isEqualNode(t))&&this.rowCellSelectionHandler(l,parseInt(t.getAttribute(_r),10)),this.parent.hoverFrozenRows(e),this.parent.isCheckBoxSelection&&(this.moveIntoUncheckCollection(D(t,"."+Oi)),this.setCheckAllState())}else this.checkedTarget=n,n.classList.contains("e-checkselectall")?this.checkSelectAll(n):this.checkSelect(n);!this.parent.isCheckBoxSelection&&A.isDevice&&!this.isSingleSel()&&this.showPopup(e)}else if(e.target.classList.contains("e-headercell")&&!e.target.classList.contains("e-stackedheadercell")){const o=e.target.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");this.headerSelectionHandler(this.parent.getColumnIndexByUid(o))}this.isMultiCtrlRequest=!1,this.isMultiShiftRequest=!1,h(D(e.target,".e-unboundcell"))&&(this.preventFocus=!1)}popUpClickHandler(e){const t=e.target;D(t,".e-headercell")||e.target.classList.contains(Ii)||D(t,".e-gridpopup")?t.classList.contains("e-rowselect")&&(t.classList.contains("e-spanclicked")?(t.classList.remove("e-spanclicked"),this.enableSelectMultiTouch=!1,this.parent.element.querySelector(".e-gridpopup").style.display="none"):(t.classList.add("e-spanclicked"),this.enableSelectMultiTouch=!0)):this.parent.element.querySelector(".e-gridpopup").style.display="none"}showPopup(e){this.selectionSettings.enableSimpleMultiRowSelection||vX(this.parent.element.querySelector(".e-gridpopup"),e,"e-rowselect e-icons e-icon-rowselect"+(!this.isSingleSel()&&(this.selectedRecords.length>(this.parent.getFrozenColumns()?2:1)||this.selectedRowCellIndexes.length>1)?" e-spanclicked":""))}rowCellSelectionHandler(e,t){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?(this.isDragged||this.selectRow(e,this.selectionSettings.enableToggle),this.selectCell({rowIndex:e,cellIndex:t},this.selectionSettings.enableToggle),this.selectedRowCellIndexes.length&&this.updateAutoFillPosition(),this.drawBorders()):this.isMultiShiftRequest?(this.parent.isCheckBoxSelection||!this.parent.isCheckBoxSelection&&!D(this.target,"."+Ii).classList.contains(P0)?this.selectRowsByRange(Et(this.prevRowIndex)?e:this.prevRowIndex,e):this.addRowsToSelection([e]),this.selectCellsByRange(Et(this.prevCIdxs)?{rowIndex:e,cellIndex:t}:this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.updateAutoFillPosition(),this.drawBorders()):(this.addRowsToSelection([e]),this.addCellsToSelection([{rowIndex:e,cellIndex:t}]),this.showHideBorders("none")),this.isDragged=!1}onCellFocused(e){if(this.parent.frozenRows&&e.container.isHeader&&e.byKey)if("upArrow"===e.keyArgs.action)e.isJump=this.parent.allowFiltering?"INPUT"===e.element.tagName:"TH"===e.element.tagName;else if("downArrow"===e.keyArgs.action){const a=Number(e.element.parentElement.getAttribute(Zt));e.isJump=0===a}else"ctrlHome"===e.keyArgs.action&&(e.isJump=!0);const t=this.parent.isFrozenGrid()?(e.container.isHeader&&"TD"!==e.element.tagName&&e.isJump&&!this.selectionSettings.allowColumnSelection||(e.container.isContent||"TD"===e.element.tagName)&&!(e.container.isSelectable||"TD"===e.element.tagName))&&!(e.byKey&&"space"===e.keyArgs.action):(e.container.isHeader&&e.isJump||e.container.isContent&&!e.container.isSelectable)&&!(e.byKey&&"space"===e.keyArgs.action)&&!(e.element.classList.contains("e-detailrowexpand")||e.element.classList.contains("e-detailrowcollapse")),i=e.container.isHeader&&"TD"!==e.element.tagName&&!D(e.element,"."+Ii)&&!(e.byKey&&"space"===e.keyArgs.action);if(!e.byKey||t)return void(t&&!this.parent.isCheckBoxSelection&&this.clearSelection());let[n,s]=e.container.isContent?e.container.indexes:e.indexes;const o=this.focus.getPrevIndexes();if(this.parent.frozenRows)if(e.container.isHeader&&("TD"===e.element.tagName||D(e.element,"."+Ii))){const a=this.parent.getHeaderTable().querySelector("thead").childElementCount;n-=a,o.rowIndex=h(o.rowIndex)?null:o.rowIndex-a}else n+=this.parent.frozenRows,o.rowIndex=0!==o.rowIndex&&h(o.rowIndex)?null:o.rowIndex+this.parent.frozenRows;if(this.parent.isFrozenGrid()){const a=Number(e.element.getAttribute(_r)),c=this.parent.getSelectedRowCellIndexes();c.length&&0===o.cellIndex&&(o.cellIndex=c[c.length-1].cellIndexes[0]),o.cellIndex=h(o.cellIndex)?null:o.cellIndex===s?a:a-1,s=a}if(this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache&&(n=parseInt(e.element.parentElement.getAttribute("aria-rowindex"),10)),(i||-1===["ctrlPlusA","escape"].indexOf(e.keyArgs.action)&&"space"!==e.keyArgs.action&&n===o.rowIndex&&s===o.cellIndex)&&!this.selectionSettings.allowColumnSelection)return;this.preventFocus=!0;const l=this.getKeyColIndex(e);switch(this.needColumnSelection&&(s=l),e.keyArgs.action){case"downArrow":case"upArrow":case"enter":case"shiftEnter":this.target=e.element,this.isKeyAction=!0,this.applyDownUpKey(n,s);break;case"rightArrow":case"leftArrow":this.applyRightLeftKey(n,s);break;case"shiftDown":case"shiftUp":this.shiftDownKey(n,s);break;case"shiftLeft":case"shiftRight":this.applyShiftLeftRightKey(n,s);break;case"home":case"end":s="end"===e.keyArgs.action?this.getLastColIndex(n):0,this.applyHomeEndKey(n,s);break;case"ctrlHome":case"ctrlEnd":this.applyCtrlHomeEndKey(n,s);break;case"escape":this.clearSelection();break;case"ctrlPlusA":this.ctrlPlusA();break;case"space":this.applySpaceSelection(e.element);break;case"tab":this.parent.editSettings.allowNextRowEdit&&this.selectRow(n)}this.needColumnSelection=!1,this.preventFocus=!1,this.positionBorders(),this.updateAutoFillPosition()}getKeyColIndex(e){let t,i=null;const n=e.element.querySelector(".e-stackedheadercelldiv");if(this.selectionSettings.allowColumnSelection&&Ce(e.element,"e-columnheader"))if(this.needColumnSelection=!!e.container.isHeader,n){if("rightArrow"===e.keyArgs.action||"leftArrow"===e.keyArgs.action)return i;t=n.getAttribute("e-mappinguid");const s=this.getstackedColumns(this.parent.getColumnByUid(t).columns),o=this.parent.getColumnIndexByUid(s[s.length-1].uid),l=this.parent.getColumnIndexByUid(s[0].uid);i=this.prevColIndex>=o?l:o}else i=this.parent.getColumnIndexByUid(e.element.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));return i}ctrlPlusA(){this.isRowType()&&!this.isSingleSel()&&this.selectRowsByRange(0,this.getCurrentBatchRecordChanges().length-1),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange({rowIndex:0,cellIndex:0},{rowIndex:this.parent.getRows().length-1,cellIndex:this.parent.getColumns().length-1})}applySpaceSelection(e){e.classList.contains("e-checkselectall")?(this.checkedTarget=e,this.checkSelectAll(this.checkedTarget)):e.classList.contains("e-checkselect")&&(this.checkedTarget=e,this.checkSelect(this.checkedTarget))}applyDownUpKey(e,t){const i=this.parent;this.parent.isCheckBoxSelection&&"Check"===this.parent.checkAllRows&&!this.selectionSettings.persistSelection&&(this.checkSelectAllAction(!1),this.checkedTarget=null),this.isRowType()&&(this.selectRow(e,!0),this.applyUpDown(i.selectedRowIndex)),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0),this.selectionSettings.allowColumnSelection&&this.needColumnSelection&&this.selectColumn(t)}applyUpDown(e){if(e<0)return;this.target||(this.target=this.parent.getRows()[0].children[this.parent.groupSettings.columns.length||0]);const t=parseInt(this.target.getAttribute(_r),10),i=this.parent.getFrozenColumns();if(i)this.target=t>=i?this.contentRenderer.getMovableRowByIndex(e).getElementsByClassName(Ii)[t-i]:this.contentRenderer.getRowByIndex(e).getElementsByClassName(Ii)[t];else{const n=this.contentRenderer.getRowByIndex(e);n&&(this.target=n.getElementsByClassName(Ii)[t])}this.addAttribute(this.target)}applyRightLeftKey(e,t){this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumn(t):this.isCellType()&&(this.selectCell({rowIndex:e,cellIndex:t},!0),this.addAttribute(this.target))}applyHomeEndKey(e,t){this.isCellType()?this.selectCell({rowIndex:e,cellIndex:t},!0):this.addAttribute(this.parent.getCellFromIndex(e,t))}shiftDownKey(e,t){this.isMultiShiftRequest=!0,this.isRowType()&&!this.isSingleSel()&&(Et(this.prevRowIndex)?this.selectRow(0,!0):(this.selectRowsByRange(this.prevRowIndex,e),this.applyUpDown(e))),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange(this.prevCIdxs||{rowIndex:0,cellIndex:0},{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1}applyShiftLeftRightKey(e,t){this.isMultiShiftRequest=!0,this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumnsByRange(this.prevColIndex,t):this.selectCellsByRange(this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1}getstackedColumns(e){const t=[];for(let i=0,n=e.length;i<n;i++)e[i].columns?this.getstackedColumns(e[i].columns):t.push(e[i]);return t}applyCtrlHomeEndKey(e,t){this.isRowType()&&(this.selectRow(e,!0),this.addAttribute(this.parent.getCellFromIndex(e,t))),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0)}addRemoveClassesForRow(e,t,i,...n){if(e){const s=[].slice.call(e.getElementsByClassName(Ii)),o=e.querySelector(".e-detailrowcollapse")||e.querySelector(".e-detailrowexpand"),l=e.querySelector(".e-rowdragdrop");o&&s.push(o),l&&s.push(l),jd(s,t,...n)}this.getRenderer().setSelection(e?e.getAttribute("data-uid"):null,t,i)}isRowType(){return"Row"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode}isCellType(){return"Cell"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode}isSingleSel(){return"Single"===this.selectionSettings.type}getRenderer(){return h(this.contentRenderer)&&(this.contentRenderer=this.factory.getRenderer(Xs.Content)),this.contentRenderer}getSelectedRecords(){let e=[];return e=this.selectionSettings.persistSelection?this.persistSelectedData:this.parent.getRowsObject().filter(t=>t.isSelected).map(t=>t.data),e}selectColumn(e){const t=this.parent;if(h(t.getColumns()[e]))return;const i=t.getColumnByIndex(e),n=t.getColumnHeaderByUid(i.uid),s=n.classList.contains("e-columnselection");if(!t.selectionSettings.allowColumnSelection)return;const o=this.selectedColumnsIndexes.length>1&&this.selectedColumnsIndexes.indexOf(e)>-1;if(this.clearColDependency(),!s||!this.selectionSettings.enableToggle||o){const l={columnIndex:e,headerCell:n,column:i,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(l,t5),l.cancel)return void this.disableInteracted();(!t.selectionSettings.enableToggle||e!==this.prevColIndex||!s||o)&&this.updateColSelection(n,e),this.onActionComplete({columnIndex:e,headerCell:n,column:i,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex},i5)}this.updateColProps(e)}selectColumnsByRange(e,t){const i=this.parent;if(h(i.getColumns()[e]))return;const n=[];if("Single"===i.selectionSettings.type||h(t))n[0]=e;else{const s=e<t;for(let o=e;s?o<=t:o>=t;s?o++:o--)n.push(o)}this.selectColumns(n)}selectColumns(e){const t=this.parent;let i=this.getselectedCols();if("Single"===t.selectionSettings.type&&(e=[e[0]]),!t.selectionSettings.allowColumnSelection)return;this.clearColDependency();const n={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(n,t5),n.cancel)return void this.disableInteracted();for(let o=0,l=e.length;o<l;o++)this.updateColSelection(t.getColumnHeaderByUid(t.getColumnByIndex(e[o]).uid),e[o]);i=this.getselectedCols();const s={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(s,i5),this.updateColProps(e[0])}selectColumnWithExisting(e){const t=this.parent;if(h(t.getColumns()[e]))return;const i=t.getColumnHeaderByUid(t.getColumnByIndex(e).uid);let n=this.getselectedCols();if("Single"===t.selectionSettings.type&&this.clearColDependency(),t.selectionSettings.allowColumnSelection){if(this.selectedColumnsIndexes.indexOf(e)>-1)this.clearColumnSelection(e);else{const s={columnIndex:e,headerCell:n,columnIndexes:this.selectedColumnsIndexes,column:t.getColumnByIndex(e),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(s,t5),s.cancel)return void this.disableInteracted();this.updateColSelection(i,e),n=this.getselectedCols();const o={columnIndex:e,headerCell:n,column:t.getColumnByIndex(e),columnIndexes:this.selectedColumnsIndexes,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(o,i5)}this.updateColProps(e)}}clearColumnSelection(e){if(this.isColumnSelected){const t=this.parent;if(!h(e)&&-1===this.selectedColumnsIndexes.indexOf(e))return;const i=h(e)?this.selectedColumnsIndexes[this.selectedColumnsIndexes.length-1]:e,n=t.getColumnByIndex(i);let s;const o=t.getColumnByIndex(i);s=n.getFreezeTableName()===Ln?t.getFrozenRightColumnHeaderByIndex(i):"movable"===n.getFreezeTableName()?t.getMovableColumnHeaderByIndex(i):t.getColumnHeaderByUid(o.uid);const l={columnIndex:i,headerCell:s,columnIndexes:this.selectedColumnsIndexes,column:o,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted};if(this.columnDeselect(l,"columnDeselecting"))return void this.disableInteracted();const c=h(e)?[].slice.call(t.getHeaderContent().getElementsByClassName("e-columnselection")):[s],d=this.getSelectedColumnCells(e);for(let u=0,p=c.length;u<p;u++)jd([c[u]],!1,"e-columnselection");for(let u=0,p=d.length;u<p;u++)jd([d[u]],!1,"e-columnselection");h(e)?(this.columnDeselect(l,"columnDeselected"),this.selectedColumnsIndexes=[],this.isColumnSelected=!1,this.parent.getColumns().filter(u=>u.isSelected=!1)):(this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(e),1),this.parent.getColumns()[e].isSelected=!1)}}getselectedCols(){const e=this.parent;let t;if(this.selectedColumnsIndexes.length>1){t=[];for(let i=0;i<this.selectedColumnsIndexes.length;i++)t.push(e.getColumnHeaderByUid(e.getColumnByIndex(this.selectedColumnsIndexes[i]).uid))}else t=e.getColumnHeaderByUid(e.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);return t}getSelectedColumnCells(e){const t=this.parent,i=!h(this.parent.rowTemplate);let s,o,n=i?t.getRows():t.getDataRows();t.isFrozenGrid()&&t.getContent().querySelector("."+hn)&&(s=i?t.getMovableRows():t.getMovableDataRows(),n=t.addMovableRows(n,s),t.getFrozenMode()===Lt&&(o=i?t.getFrozenRightRows():t.getFrozenRightDataRows(),n=t.addMovableRows(n,o)));let l=[];const a=h(e)?".e-columnselection":'[aria-colindex="'+e+'"]';for(let c=0,d=n.length;c<d;c++)l=l.concat([].slice.call(n[c].querySelectorAll(a)));return l}columnDeselect(e,t){return"columnDeselected"===t&&delete e.cancel,this.onActionComplete(e,t),e.cancel}updateColProps(e){this.prevColIndex=e,this.isColumnSelected=this.selectedColumnsIndexes.length&&!0}clearColDependency(){this.clearColumnSelection(),this.selectedColumnsIndexes=[]}updateColSelection(e,t){if(h(this.parent.getColumns()[t]))return;const i=this.parent.getFrozenLeftCount(),n=this.parent.getMovableColumnsCount(),s=this.parent.getColumnByIndex(t),o=!h(this.parent.rowTemplate);let l;this.selectedColumnsIndexes.push(t),this.parent.getColumns()[t].isSelected=!0,s.getFreezeTableName()===Ln?(t-=i+n,l=o?this.parent.getFrozenRightRows():this.parent.getFrozenRightDataRows()):"movable"===s.getFreezeTableName()?(t-=i,l=o?this.parent.getMovableRows():this.parent.getMovableDataRows()):(t+=this.parent.getIndentCount(),l=o?this.parent.getRows():this.parent.getDataRows()),jd([e],!0,"e-columnselection");for(let a=0,c=l.length;a<c;a++)l[a].classList.contains(Oi)&&(!l[a].classList.contains(al)&&!l[a].classList.contains(va)||"Normal"!==this.parent.editSettings.mode||h(l[a].querySelector("tr").childNodes[t])?h(l[a].childNodes[t])||jd([l[a].childNodes[t]],!0,"e-columnselection"):jd([l[a].querySelector("tr").childNodes[t]],!0,"e-columnselection"))}headerSelectionHandler(e){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?this.selectColumn(e):this.isMultiShiftRequest?this.selectColumnsByRange(Et(this.prevColIndex)?e:this.prevColIndex,e):this.selectColumnWithExisting(e)}addEventListener_checkbox(){this.parent.on(Od,this.dataReady,this),this.onDataBoundFunction=this.onDataBound.bind(this),this.parent.addEventListener(za,this.onDataBoundFunction),this.parent.on(G5,this.onDataBoundFunction),this.parent.on(Is,this.checkBoxSelectionChanged,this),this.parent.on(M5,this.initPerisistSelection,this),this.parent.on(Mh,this.setCheckAllForEmptyGrid,this),this.actionCompleteFunc=this.actionCompleteHandler.bind(this),this.parent.addEventListener(yi,this.actionCompleteFunc),this.parent.on(kl,this.clickHandler,this),this.resizeEndFn=()=>{this.updateAutoFillPosition(),this.drawBorders()},this.resizeEndFn.bind(this),this.parent.addEventListener("resizeStop",this.resizeEndFn)}removeEventListener_checkbox(){this.parent.off(Od,this.dataReady),this.parent.removeEventListener(za,this.onDataBoundFunction),this.parent.removeEventListener(yi,this.actionCompleteFunc),this.parent.off(G5,this.onDataBoundFunction),this.parent.off(Mh,this.setCheckAllForEmptyGrid),this.parent.off(kl,this.clickHandler),this.parent.off(M5,this.initPerisistSelection)}setCheckAllForEmptyGrid(){const e=this.getCheckAllBox();e&&(this.parent.isCheckBoxSelection=!0,T([e.nextElementSibling],["e-check","e-stop","e-uncheck"]))}dataReady(e){this.isHeaderCheckboxClicked=!1,"virtualscroll"!==e.requestType&&!this.parent.isPersistSelection&&(!this.parent.enableInfiniteScrolling||"infiniteScroll"!==e.requestType)&&(this.parent.enableImmutableMode&&(this.disableUI=!0),this.clearSelection(),this.setCheckAllState(),this.disableUI=!1)}actionCompleteHandler(e){"save"===e.requestType&&this.parent.isPersistSelection&&this.refreshPersistSelection()}selectRowIndex(e){this.parent.isSelectedRowIndexUpdating=!0,this.parent.selectedRowIndex=e}disableInteracted(){this.isInteracted=!1}activeTarget(){this.actualTarget=this.isInteracted?this.actualTarget:null}}class Rke{constructor(e){this.parent=e,this.addEventListener()}search(e){const t=this.parent;e=h(e)?"":e,Pu(t)?t.notify(Pc,{instance:this,handler:this.search,arg1:e}):e!==t.searchSettings.key?(t.searchSettings.key=e.toString(),t.dataBind()):this.refreshSearch&&t.refresh()}addEventListener(){this.parent.isDestroyed||(this.parent.on(ll,this.onPropertyChanged,this),this.parent.on(yQ,this.onSearchComplete,this),this.parent.on(Ri,this.destroy,this),this.actionCompleteFunc=this.onActionComplete.bind(this),this.parent.addEventListener(yi,this.actionCompleteFunc),this.parent.on(AE,this.cancelBeginEvent,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(ll,this.onPropertyChanged),this.parent.off(yQ,this.onSearchComplete),this.parent.off(Ri,this.destroy),this.parent.removeEventListener(yi,this.actionCompleteFunc),this.parent.off(AE,this.cancelBeginEvent))}destroy(){this.removeEventListener()}onPropertyChanged(e){e.module===this.getModuleName()&&(h(e.properties.key)?this.parent.notify(fo,{requestType:"searching",type:Pn}):this.parent.notify(fo,{requestType:"searching",type:Pn,searchString:this.parent.searchSettings.key}))}onSearchComplete(e){this.parent.trigger(yi,O(e,{searchString:this.parent.searchSettings.key,requestType:"searching",type:yi}))}onActionComplete(e){this.refreshSearch="searching"!==e.requestType}cancelBeginEvent(e){"searching"===e.requestType&&this.parent.setProperties({searchSettings:{key:""}},!0)}getModuleName(){return"search"}}class kke{constructor(e){this.parent=e}show(e,t){const i=this.getToggleFields(e),n=this.getColumns(i,t);this.parent.notify(A0,{module:"edit"});for(let s=0;s<n.length;s++)n[s].visible=!0;this.setVisible(n)}hide(e,t){const i=this.getToggleFields(e),n=this.getColumns(i,t);this.parent.notify(A0,{module:"edit"});for(let s=0;s<n.length;s++)n[s].visible=!1;this.setVisible(n)}getToggleFields(e){let t=[];return t="string"==typeof e?[e]:e,t}getColumns(e,t){return Tp(e,n=>Tp(this.parent.columnModel,s=>{if(s[t]===n)return s})[0])}setVisible(e,t=[]){const i={requestType:"columnstate",cancel:!1,columns:t=t.length>0?t:e};this.parent.enableInfiniteScrolling&&this.parent.allowGrouping&&this.parent.groupModule.groupSettings.columns.length>0&&(this.parent.contentModule.visibleRows=[]),this.parent.trigger(Pn,i,s=>{const o=this.parent.getColumns();if(e=h(e)?o:e,s.cancel)return this.parent.notify("reset-columns",{showHideArgs:s}),void(e.length>0&&(e[0].visible=!0));dr(this.parent)&&this.parent.contentModule.emptyVcRows(),this.parent.allowSelection&&this.parent.getSelectedRecords().length&&!this.parent.selectionSettings.persistSelection&&this.parent.clearSelection(),this.parent.enableColumnVirtualization?e.filter(c=>o.some(d=>c.field===d.field)).length&&this.parent.notify(Bd,e):this.parent.notify(Bd,e),this.parent.trigger(yi,{requestType:"columnstate",columns:t}),"All"!==this.parent.columnQueryMode&&this.parent.refresh()})}}class Vx{constructor(e){this.previousValues={top:0,left:0},this.oneTimeReady=!0,this.parent=e,this.widthService=new Q5(e),this.addEventListener()}getModuleName(){return"scroll"}setWidth(e){this.parent.element.style.width=$e(this.parent.width),e&&this.widthService.setWidthToColumns(),this.parent.toolbarModule&&this.parent.toolbarModule.toolbar&&this.parent.toolbarModule.toolbar.element&&this.parent.toolbarModule.toolbar.refreshOverflow()}setHeight(){let e=0;const t=this.parent.getContent().querySelector("."+Ls);let i=this.parent.height;if(this.parent.isFrozenGrid()&&"auto"!==this.parent.height&&this.parent.height.toString().indexOf("%")<0&&(i=parseInt(i,10)-Vx.getScrollBarWidth()),!this.parent.enableVirtualization&&this.parent.frozenRows&&"auto"!==this.parent.height){const n=this.parent.getHeaderContent().querySelector(Ke);e=n?n.offsetHeight:0,n&&e&&(e-=n.getElementsByClassName(va).length*this.parent.getRowHeight()),t.style.height=$e(i-e)}else t.style.height=$e(i);this.ensureOverflow(t),this.parent.isFrozenGrid()&&this.refresh()}setPadding(){const e=this.parent.getHeaderContent(),t=Vx.getScrollBarWidth()-this.getThreshold(),i=this.getCssProperties(),n="Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===Lt?"0.5px":"1px";e.querySelector("."+cr).style[i.border]=t>0?n:"0px",e.style[i.padding]=t>0?t+"px":"0px"}removePadding(e){const t=this.getCssProperties(e),i=this.parent.getHeaderContent().querySelector("."+cr);i.style[t.border]="",i.parentElement.style[t.padding]="";const n=this.parent.getFooterContent();n&&n.classList.contains("e-footerpadding")&&n.classList.remove("e-footerpadding")}refresh(){if("100%"!==this.parent.height)return;const e=this.parent.getContent();this.parent.element.style.height="100%";const t=this.widthService.getSiblingsHeight(e);e.style.height="calc(100% - "+t+"px)",this.parent.isFrozenGrid()&&(e.firstElementChild.style.height="calc(100% - "+qf()+"px)")}getThreshold(){return"mozilla"===A.info.name?.5:1}addEventListener(){this.parent.isDestroyed||(this.parent.on(Mh,this.wireEvents,this),this.parent.on(Is,this.wireEvents,this),this.parent.on(as,this.onPropertyChanged,this),this.parent.on(f5,this.wireEvents,this),this.parent.on(io,this.setScrollLeft,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(Mh,this.wireEvents),this.parent.off(Is,this.wireEvents),this.parent.off(as,this.onPropertyChanged),this.parent.off(f5,this.wireEvents),this.parent.off(io,this.setScrollLeft))}setScrollLeft(){this.parent.isFrozenGrid()?this.parent.headerModule.getMovableHeader().scrollLeft=this.previousValues.left:this.parent.getHeaderContent().querySelector("."+cr).scrollLeft=this.previousValues.left}onFrozenContentScroll(){return e=>{null===this.content.querySelector(Ke)||this.parent.isPreventScrollEvent||(!h(this.parent.infiniteScrollModule)&&this.parent.enableInfiniteScrolling&&this.parent.notify(BE,e),this.previousValues.top=e.target.scrollTop)}}onContentScroll(e){const t=e,i=t.classList.contains(cr);return n=>{if(null===this.content.querySelector(Ke)||this.parent.isPreventScrollEvent)return;const s=n.target,o=s.scrollLeft;if(!h(this.parent.infiniteScrollModule)&&this.parent.enableInfiniteScrolling&&this.parent.notify(BE,{target:n.target,isLeft:this.previousValues.left!==o}),this.parent.groupSettings.columns.length&&this.parent.groupSettings.enableLazyLoading){const a=this.previousValues.top<this.parent.getContent().firstElementChild.scrollTop;this.parent.notify("lazy-load-scroll-handler",{scrollDown:a})}this.parent.notify(zQ,{});const l=s.classList.contains("e-summarycontent");this.previousValues.left!==o?(this.parent.notify(T5,n),t.scrollLeft=o,l&&(this.header.scrollLeft=o),this.previousValues.left=o,this.parent.notify("scroll",{left:o})):this.previousValues.top=i?s.scrollTop:this.previousValues.top}}onCustomScrollbarScroll(e,t){const i=e,n=t;return s=>{if(null===this.content.querySelector(Ke))return;const l=s.target.scrollLeft;this.previousValues.left!==l&&(i.scrollLeft=l,n.scrollLeft=l,this.previousValues.left=l,this.parent.notify("scroll",{left:l}))}}onTouchScroll(e){const t=e;return i=>{if("mouse"===i.pointerType)return;const n=this.parent.isFrozenGrid(),s=this.getPointXY(i),o=t.scrollLeft+(this.pageXY.x-s.x),l=n?this.parent.getHeaderContent().querySelector("."+un):this.parent.getHeaderContent().querySelector("."+cr),a=n?this.parent.getContent().querySelector("."+hn):this.parent.getContent().querySelector("."+Ls);this.previousValues.left===o||o<0||l.scrollWidth-l.clientWidth<o||(i.preventDefault(),l.scrollLeft=o,a.scrollLeft=o,n&&(this.parent.getContent().querySelector(".e-movablescrollbar").scrollLeft=o),this.pageXY.x=s.x,this.previousValues.left=o)}}setPageXY(){return e=>{"mouse"!==e.pointerType&&(this.pageXY=this.getPointXY(e))}}getPointXY(e){const t={x:0,y:0};return e.touches&&e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t}getScrollbleParent(e){if(null===e)return null;const t=h(e.tagName)?e.scrollingElement:e,i=document.defaultView.getComputedStyle(t,null).overflowY;return t.scrollHeight>t.clientHeight&&"hidden"!==i&&"visible"!==i||"HTML"===e.tagName||"BODY"===e.tagName?e:this.getScrollbleParent(e.parentNode)}addStickyListener(e){this.parentElement=this.getScrollbleParent(this.parent.element.parentElement),e?this.parentElement&&C.add("HTML"===this.parentElement.tagName||"BODY"===this.parentElement.tagName?document:this.parentElement,"scroll",this.makeStickyHeader,this):C.remove(this.parentElement,"scroll",this.makeStickyHeader)}wireEvents(){if(this.oneTimeReady){const s=this.parent.isFrozenGrid();this.content=this.parent.getContent().querySelector("."+Ls),this.header=this.parent.getHeaderContent().querySelector("."+cr);const o=this.content.querySelector("."+hn),l=this.header.querySelector("."+un),a=this.parent.getContent().querySelector(".e-movablescrollbar");this.parent.frozenRows&&(C.add(s?l:this.header,"touchstart pointerdown",this.setPageXY(),this),C.add(s?l:this.header,"touchmove pointermove",this.onTouchScroll(s?o:this.content),this)),this.parent.isFrozenGrid()?(C.add(a,"scroll",this.onCustomScrollbarScroll(o,l),this),C.add(o,"scroll",this.onCustomScrollbarScroll(a,l),this),C.add(l,"scroll",this.onCustomScrollbarScroll(a,o),this),C.add(this.content,"scroll",this.onFrozenContentScroll(),this),C.add(l,"touchstart pointerdown",this.setPageXY(),this),C.add(l,"touchmove pointermove",this.onTouchScroll(o),this),C.add(o,"touchstart pointerdown",this.setPageXY(),this),/macintosh|ipad/.test(A.userAgent.toLowerCase())&&A.isDevice||C.add(o,"touchmove pointermove",this.onTouchScroll(l),this)):(C.add(this.content,"scroll",this.onContentScroll(this.header),this),C.add(this.header,"scroll",this.onContentScroll(this.content),this)),this.parent.aggregates.length&&C.add(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll(this.content),this),this.parent.enableStickyHeader&&this.addStickyListener(!0),this.refresh(),this.oneTimeReady=!1}const e=this.parent.getContentTable();let t,i,n;gX(()=>{t=this.header.scrollLeft,i=e.scrollHeight,n=this.parent.getContent().clientHeight},()=>{const s={cancel:!1};this.parent.notify("check-scroll-reset",s),!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&(i<n&&(_(e.querySelectorAll("tr:last-child td"),"e-lastrowcell"),this.parent.isFrozenGrid()&&(_(this.parent.getContent().querySelector("."+hn).querySelectorAll("tr:last-child td"),"e-lastrowcell"),this.parent.getFrozenRightColumnsCount()&&_(this.parent.getContent().querySelector(".e-frozen-right-content").querySelectorAll("tr:last-child td"),"e-lastrowcell"))),s.cancel||((this.parent.frozenRows>0||this.parent.isFrozenGrid())&&this.header.querySelector("."+un)?this.header.querySelector("."+un).scrollLeft=this.previousValues.left:this.header.scrollLeft=this.previousValues.left,this.content.scrollLeft=this.previousValues.left,this.content.scrollTop=this.previousValues.top)),this.parent.enableColumnVirtualization||(this.content.scrollLeft=t),this.parent.isFrozenGrid()&&this.header.querySelector("."+un)&&(this.header.querySelector("."+un).scrollLeft=this.content.querySelector("."+hn).scrollLeft)}),this.parent.isPreventScrollEvent=!1}getCssProperties(e){const t={},i=h(e)?this.parent.enableRtl:e;return t.border=i?"borderLeftWidth":"borderRightWidth",t.padding=i?"paddingLeft":"paddingRight",t}ensureOverflow(e){e.style.overflowY="auto"===this.parent.height?"auto":"scroll"}onPropertyChanged(e){e.module===this.getModuleName()&&(this.setPadding(),this.oneTimeReady=!0,"auto"===this.parent.height&&this.removePadding(),this.wireEvents(),this.setHeight(),this.setWidth(!h(e.properties.width)))}makeStickyHeader(){if(this.parent.enableStickyHeader&&this.parent.element&&this.parent.getContent()){const e=this.parent.getContent().getClientRects()[0];if(e){const t=this.parent.getHeaderContent(),i=this.parent.element.querySelector(".e-toolbar"),n=this.parent.element.querySelector(".e-groupdroparea"),s=t.offsetHeight+(i?i.offsetHeight:0)+(n?n.offsetHeight:0),o=this.parentElement.getClientRects()[0].top,a=e.left;if(e.top-(o<0?0:o)<s&&e.bottom>0){t.classList.add("e-sticky");let c=0;n&&this.parent.groupSettings.showDropArea&&(this.setSticky(n,c,e.width,a,!0),c+=n.getClientRects()[0].height),i&&(this.setSticky(i,c,e.width,a,!0),c+=i.getClientRects()[0].height),this.setSticky(t,c,e.width,a,!0)}else if(t.classList.contains("e-sticky")){this.setSticky(t,null,null,null,!1),i&&this.setSticky(i,null,null,null,!1),n&&this.setSticky(n,null,null,null,!1);const c=this.parent.element.querySelector(".e-ccdlg");c&&c.classList.remove("e-sticky")}this.parent.notify("sticky-scroll-complete",{})}}}setSticky(e,t,i,n,s){s?(e.style.width=i+"px",e.classList.add("e-sticky")):e.classList.remove("e-sticky"),e.style.top=null!=t?t+"px":"",e.style.left=null!==n?parseInt(e.style.left,10)!==n?n+"px":e.style.left:""}destroy(){const e=this.parent.element;if(!e||!e.querySelector("."+br)&&!e.querySelector("."+ar))return;this.removeEventListener();const t=this.parent.getContent().querySelector("."+Ls);C.remove(t,"scroll",this.onContentScroll),this.parent.enableStickyHeader&&this.addStickyListener(!1),this.removePadding(),T([this.parent.getHeaderContent().querySelector("."+cr)],cr),T([t],Ls),t.style.height="",this.parent.element.style.width=""}static getScrollBarWidth(){return qf()}}var Tg=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Rg extends Nt{constructor(){super(...arguments),this.templateFn={}}setFormatter(e){this.formatFn=e}getFormatter(){return this.formatFn}setTemplate(e={}){void 0!==this.footerTemplate&&(this.templateFn[bs(Ct,Ct.Summary)]={fn:ci(this.footerTemplate,e),property:"footerTemplate"}),void 0!==this.groupFooterTemplate&&(this.templateFn[bs(Ct,Ct.GroupSummary)]={fn:ci(this.groupFooterTemplate,e),property:"groupFooterTemplate"}),void 0!==this.groupCaptionTemplate&&(this.templateFn[bs(Ct,Ct.CaptionSummary)]={fn:ci(this.groupCaptionTemplate,e),property:"groupCaptionTemplate"})}getTemplate(e){return this.templateFn[bs(Ct,e)]}setPropertiesSilent(e){this.setProperties(e,!0)}}Tg([y()],Rg.prototype,"type",void 0),Tg([y()],Rg.prototype,"field",void 0),Tg([y()],Rg.prototype,"columnName",void 0),Tg([y()],Rg.prototype,"format",void 0),Tg([y()],Rg.prototype,"footerTemplate",void 0),Tg([y()],Rg.prototype,"groupFooterTemplate",void 0),Tg([y()],Rg.prototype,"groupCaptionTemplate",void 0),Tg([y()],Rg.prototype,"customAggregate",void 0);class cX extends Nt{}Tg([Hr([],Rg)],cX.prototype,"columns",void 0);class dX{constructor(e){this.copyContent="",this.isSelect=!1,this.parent=e,this.addEventListener()}addEventListener(){this.parent.isDestroyed||(this.parent.on(Is,this.initialEnd,this),this.parent.on(lr,this.keyDownHandler,this),this.parent.on(kl,this.clickHandler,this),C.add(this.parent.element,"keydown",this.pasteHandler,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(lr,this.keyDownHandler),this.parent.off(Is,this.initialEnd),this.parent.off(kl,this.clickHandler),C.remove(this.parent.element,"keydown",this.pasteHandler))}clickHandler(e){let t=e.target;t=Ce(t,"e-rowcell")}pasteHandler(e){const t=this.parent,i=/(Mac)/i.test(navigator.platform);if(67===e.keyCode&&i&&e.metaKey&&!t.isEdit&&this.copy(),86===e.keyCode&&(e.ctrlKey||i&&e.metaKey)&&!t.isEdit){if(!D(document.activeElement,"."+Ii)||!t.editSettings.allowEditing||"Batch"!==t.editSettings.mode||"Cell"!==t.selectionSettings.mode||"Flow"===t.selectionSettings.cellSelectionMode)return;this.activeElement=document.activeElement,this.clipBoardTextArea.value="";const s=window.scrollX,o=window.scrollY;this.clipBoardTextArea.focus(),setTimeout(()=>{this.activeElement.focus(),window.scrollTo(s,o),this.paste(this.clipBoardTextArea.value,this.parent.getSelectedRowCellIndexes()[0].rowIndex,this.parent.getSelectedRowCellIndexes()[0].cellIndexes[0])},10)}}paste(e,t,i){const n=this.parent;let l,a,c,s=i,o=t;if(!n.editSettings.allowEditing||"Batch"!==n.editSettings.mode||"Cell"!==n.selectionSettings.mode||"Flow"===n.selectionSettings.cellSelectionMode)return;const d=e.split("\n");let u;const p=n.getDataRows();let g,f;const m=this.parent.isFrozenGrid();m&&(g=n.getMovableDataRows(),n.getFrozenRightColumnsCount()&&(f=n.getFrozenRightDataRows()));for(let x=0;x<d.length;x++){if(u=d[x].split("\t"),s=i,x===d.length-1&&""===d[x]||Et(n.getRowByIndex(o))){s++;break}for(let w=0;w<u.length;w++){if(c=n.getCellFromIndex(o,s),m){const I=g[o];c=!!p[o].querySelector('[aria-colindex="'+s+'"]')||I.querySelector('[aria-colindex="'+s+'"]'),f&&!c&&(c=f[o].querySelector('[aria-colindex="'+s+'"]'))}if(!c){s++;break}if(l=n.getColumnByIndex(s),a=l.getParser()?l.getParser()(u[w]):u[w],l.allowEditing&&!l.isPrimaryKey&&!l.template){const b={column:l,data:a,rowIndex:o};this.parent.trigger("beforePaste",b),o=b.rowIndex,b.cancel||n.editModule&&("number"===l.type?this.parent.editModule.updateCell(o,l.field,parseFloat(b.data)):n.editModule.updateCell(o,l.field,b.data))}s++}o++}n.selectionModule.selectCellsByRange({rowIndex:t,cellIndex:i},{rowIndex:o-1,cellIndex:s-1});const v=this.parent.getCellFromIndex(o-1,s-1);v&&ze(v,["e-focus","e-focused"],[])}initialEnd(){this.parent.off(Is,this.initialEnd),this.clipBoardTextArea=this.parent.createElement("textarea",{className:"e-clipboard",styles:"opacity: 0",attrs:{tabindex:"-1","aria-label":"clipboard"}}),this.parent.element.appendChild(this.clipBoardTextArea)}keyDownHandler(e){"ctrlPlusC"===e.action?this.copy():"ctrlShiftPlusH"===e.action&&this.copy(!0)}setCopyData(e){if(""===window.getSelection().toString()){const t=this.parent.isFrozenGrid();let i,n;this.clipBoardTextArea.value=this.copyContent="";const s=this.parent.getRows();if(t&&(i=this.parent.getMovableDataRows(),this.parent.getFrozenMode()===Lt&&(n=this.parent.getFrozenRightRows())),"Cell"!==this.parent.selectionSettings.mode){const l=this.parent.getSelectedRowIndexes().sort((a,c)=>a-c);if(e){const a=[];for(let c=0;c<this.parent.getVisibleColumns().length;c++)a[c]=this.parent.getVisibleColumns()[c].headerText;this.getCopyData(a,!1,"\t",e),this.copyContent+="\n"}for(let a=0;a<l.length;a++){a>0&&(this.copyContent+="\n");const c=[].slice.call(s[l[a]].querySelectorAll(".e-rowcell:not(.e-hide)"));t&&(c.push(...[].slice.call(i[l[a]].querySelectorAll(".e-rowcell:not(.e-hide)"))),n&&c.push(...[].slice.call(n[l[a]].querySelectorAll(".e-rowcell:not(.e-hide)")))),this.getCopyData(c,!1,"\t",e)}}else{const l=this.checkBoxSelection();if(l.status){if(e){const a=[];for(let c=0;c<l.colIndexes.length;c++)a.push(this.parent.getColumnHeaderByIndex(l.colIndexes[c]));this.getCopyData(a,!1,"\t",e),this.copyContent+="\n"}for(let a=0;a<l.rowIndexes.length;a++){a>0&&(this.copyContent+="\n");const c=[].slice.call(s[l.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground"));t&&(c.push(...[].slice.call(i[l.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground"))),n&&c.push(...[].slice.call(n[l.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground")))),this.getCopyData(c,!1,"\t",e)}}else this.getCopyData([].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground")),!0,"\n",e)}const o={data:this.copyContent,cancel:!1};if(this.parent.trigger("beforeCopy",o),o.cancel)return;this.clipBoardTextArea.value=this.copyContent=o.data,A.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this.isSelect=!0}}getCopyData(e,t,i,n){const s="string"!=typeof e[0];for(let o=0;o<e.length;o++){if(n&&t){const l=parseInt(e[o].getAttribute(_r),10);this.copyContent+=this.parent.getColumns()[l].headerText+"\n"}s?e[o].classList.contains("e-hide")||(this.copyContent+=e[o].innerText):this.copyContent+=e[o],o<e.length-1&&(this.copyContent+=i)}}copy(e){document.queryCommandSupported("copy")&&(this.setCopyData(e),document.execCommand("copy"),this.clipBoardTextArea.blur()),this.isSelect&&(window.getSelection().removeAllRanges(),this.isSelect=!1)}getModuleName(){return"clipboard"}destroy(){this.removeEventListener(),this.clipBoardTextArea&&X(this.clipBoardTextArea)}checkBoxSelection(){const e=this.parent;let t={status:!1};if("Cell"===e.selectionSettings.mode){const i=e.getSelectedRowCellIndexes();let n;const s=[];let o;for(o=0;o<i.length&&(i[o].cellIndexes.length&&s.push(i[o].rowIndex),!i[o].cellIndexes.length||(n||(n=JSON.stringify(i[o].cellIndexes.sort())),n===JSON.stringify(i[o].cellIndexes.sort())));o++);s.sort((l,a)=>l-a),o===i.length&&s[s.length-1]-s[0]==s.length-1&&(t={status:!0,rowIndexes:s,colIndexes:i[0].cellIndexes})}return t}}var Z5,ue=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class QE extends Nt{}ue([y()],QE.prototype,"field",void 0),ue([y()],QE.prototype,"direction",void 0),ue([y(!1)],QE.prototype,"isFromGroup",void 0);class e4 extends Nt{}ue([Hr([],QE)],e4.prototype,"columns",void 0),ue([y(!0)],e4.prototype,"allowUnsort",void 0);class Hd extends Nt{}ue([y()],Hd.prototype,"field",void 0),ue([y()],Hd.prototype,"operator",void 0),ue([y()],Hd.prototype,"value",void 0),ue([y()],Hd.prototype,"matchCase",void 0),ue([y(!1)],Hd.prototype,"ignoreAccent",void 0),ue([y()],Hd.prototype,"predicate",void 0),ue([y({})],Hd.prototype,"actualFilterValue",void 0),ue([y({})],Hd.prototype,"actualOperator",void 0),ue([y()],Hd.prototype,"type",void 0),ue([y()],Hd.prototype,"ejpredicate",void 0),ue([y()],Hd.prototype,"uid",void 0),ue([y()],Hd.prototype,"isForeignKey",void 0);class XE extends Nt{}ue([y(!1)],XE.prototype,"enableCache",void 0),ue([y(3)],XE.prototype,"maxBlocks",void 0),ue([y(3)],XE.prototype,"initialBlocks",void 0);class Ip extends Nt{}ue([Hr([],Hd)],Ip.prototype,"columns",void 0),ue([y("FilterBar")],Ip.prototype,"type",void 0),ue([y()],Ip.prototype,"mode",void 0),ue([y(!0)],Ip.prototype,"showFilterBarStatus",void 0),ue([y(1500)],Ip.prototype,"immediateModeDelay",void 0),ue([y()],Ip.prototype,"operators",void 0),ue([y(!1)],Ip.prototype,"ignoreAccent",void 0),ue([y(!1)],Ip.prototype,"enableCaseSensitivity",void 0),ue([y(!1)],Ip.prototype,"showFilterBarOperator",void 0);class Dp extends Nt{}ue([y("Row")],Dp.prototype,"mode",void 0),ue([y("Flow")],Dp.prototype,"cellSelectionMode",void 0),ue([y("Single")],Dp.prototype,"type",void 0),ue([y(!1)],Dp.prototype,"checkboxOnly",void 0),ue([y(!1)],Dp.prototype,"persistSelection",void 0),ue([y("Default")],Dp.prototype,"checkboxMode",void 0),ue([y(!1)],Dp.prototype,"enableSimpleMultiRowSelection",void 0),ue([y(!0)],Dp.prototype,"enableToggle",void 0),ue([y(!1)],Dp.prototype,"allowColumnSelection",void 0);class Hx extends Nt{}ue([y([])],Hx.prototype,"fields",void 0),ue([y("")],Hx.prototype,"key",void 0),ue([y("contains")],Hx.prototype,"operator",void 0),ue([y(!0)],Hx.prototype,"ignoreCase",void 0),ue([y(!1)],Hx.prototype,"ignoreAccent",void 0);class t4 extends Nt{}ue([y()],t4.prototype,"targetID",void 0);class hX extends Nt{}ue([y("Both")],hX.prototype,"wrapMode",void 0);class uX extends Nt{}ue([y("Normal")],uX.prototype,"mode",void 0);class Ep extends Nt{}ue([y(!0)],Ep.prototype,"showDropArea",void 0),ue([y(!1)],Ep.prototype,"allowReordering",void 0),ue([y(!1)],Ep.prototype,"showToggleButton",void 0),ue([y(!1)],Ep.prototype,"showGroupedColumn",void 0),ue([y(!0)],Ep.prototype,"showUngroupButton",void 0),ue([y(!1)],Ep.prototype,"disablePageWiseAggregates",void 0),ue([y([])],Ep.prototype,"columns",void 0),ue([y()],Ep.prototype,"captionTemplate",void 0),ue([y(!1)],Ep.prototype,"enableLazyLoading",void 0);class pd extends Nt{}ue([y(!1)],pd.prototype,"allowAdding",void 0),ue([y(!1)],pd.prototype,"allowEditing",void 0),ue([y(!1)],pd.prototype,"allowDeleting",void 0),ue([y("Normal")],pd.prototype,"mode",void 0),ue([y(!0)],pd.prototype,"allowEditOnDblClick",void 0),ue([y(!0)],pd.prototype,"showConfirmDialog",void 0),ue([y(!1)],pd.prototype,"showDeleteConfirmDialog",void 0),ue([y("")],pd.prototype,"template",void 0),ue([y("")],pd.prototype,"headerTemplate",void 0),ue([y("")],pd.prototype,"footerTemplate",void 0),ue([y("Top")],pd.prototype,"newRowPosition",void 0),ue([y({})],pd.prototype,"dialog",void 0),ue([y(!1)],pd.prototype,"allowNextRowEdit",void 0);let Oe=Z5=class extends an{constructor(e,t){super(e,t),this.isPreventScrollEvent=!1,this.inViewIndexes=[],this.keyA=!1,this.frozenRightCount=0,this.frozenLeftCount=0,this.tablesCount=1,this.movableCount=0,this.visibleFrozenLeft=0,this.visibleFrozenRight=0,this.visibleMovable=0,this.frozenLeftColumns=[],this.frozenRightColumns=[],this.movableColumns=[],this.media={},this.isFreezeRefresh=!1,this.tableIndex=0,this.componentRefresh=an.prototype.refresh,this.isVirtualAdaptive=!1,this.vRows=[],this.vcRows=[],this.vGroupOffsets={},this.rowUid=0,this.currentViewData=[],this.isManualRefresh=!1,this.isAutoFitColumns=!1,this.enableDeepCompare=!1,this.lockcolPositionCount=0,this.prevPageMoving=!1,this.pageTemplateChange=!1,this.isAutoGen=!1,this.mediaBindInstance={},this.commandDelIndex=void 0,this.asyncTimeOut=50,this.isExportGrid=!1,this.enableLogger=!0,this.needsID=!0,Z5.Inject(Tke),Ne("mergePersistData",this.mergePersistGridData,this)}getPersistData(){const e=["pageSettings","sortSettings","filterSettings","groupSettings","columns","searchSettings","selectedRowIndex","scrollPosition"],t={pageSettings:["template","pageSizes","enableQueryString","totalRecordsCount","pageCount"],filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent"],groupSettings:["showDropArea","showToggleButton","showGroupedColumn","showUngroupButton","disablePageWiseAggregates","hideCaptionCount"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[],scrollPosition:[]};for(let o=0;o<e.length;o++){const l=this[e[o]];for(const a of t[e[o]])delete l[a]}const i=this.pageSettings.template,n=Object.assign({template:void 0},this.pageSettings);this.setProperties({pageSettings:n},!0),this.isAngular&&delete this.groupSettings.properties.captionTemplate,this.pageTemplateChange=!h(this.pagerTemplate);const s=this.addOnPersist(e);return n.template=i,this.setProperties({pageSettings:n},!0),s}requiredModules(){this.setFrozenCount(),this.enableInfiniteAggrgate();const e=[];return this.isDestroyed||(this.allowFiltering&&e.push({member:"filter",args:[this,this.filterSettings,this.serviceLocator]}),this.allowExcelExport&&e.push({member:"ExcelExport",args:[this,this.serviceLocator]}),this.allowPdfExport&&e.push({member:"PdfExport",args:[this]}),this.allowSorting&&e.push({member:"sort",args:[this,this.sortSettings,this.sortedColumns,this.serviceLocator]}),this.allowPaging&&e.push({member:"pager",args:[this,this.pageSettings]}),this.allowSelection&&e.push({member:"selection",args:[this,this.selectionSettings,this.serviceLocator]}),e.push({member:"resize",args:[this]}),this.allowReordering&&e.push({member:"reorder",args:[this]}),this.allowRowDragAndDrop&&e.push({member:"rowDragAndDrop",args:[this]}),this.allowGrouping&&e.push({member:"group",args:[this,this.groupSettings,this.sortedColumns,this.serviceLocator]}),this.aggregates.length&&e.push({member:"aggregate",args:[this,this.serviceLocator]}),this.isDetail()&&e.push({member:"detailRow",args:[this,this.serviceLocator]}),(this.toolbar||this.toolbarTemplate)&&e.push({member:"toolbar",args:[this,this.serviceLocator]}),(this.enableVirtualization||this.enableColumnVirtualization)&&e.push({member:"virtualscroll",args:[this,this.serviceLocator]}),(this.getFrozenColumns()||this.frozenRows||this.frozenRightCount||this.frozenLeftCount)&&e.push({member:"freeze",args:[this,this.serviceLocator]}),this.isCommandColumn(this.columns)&&e.push({member:"commandColumn",args:[this,this.serviceLocator]}),(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&e.push({member:"edit",args:[this,this.serviceLocator]}),this.extendRequiredModules(e)),e}extendRequiredModules(e){this.enableInfiniteScrolling&&e.push({member:"infiniteScroll",args:[this,this.serviceLocator]}),this.groupSettings.enableLazyLoading&&e.push({member:"lazyLoadGroup",args:[this,this.serviceLocator]}),this.contextMenuItems&&e.push({member:"contextMenu",args:[this,this.serviceLocator]}),this.showColumnMenu&&e.push({member:"columnMenu",args:[this,this.serviceLocator]}),this.showColumnChooser&&e.push({member:"columnChooser",args:[this,this.serviceLocator]}),this.isForeignKeyEnabled(this.columns)&&e.push({member:"foreignKey",args:[this,this.serviceLocator]}),this.enableLogger&&e.push({member:"logger",args:[this]})}preRender(){this.serviceLocator=new Cke,this.initProperties(),this.initializeServices()}initProperties(){this.isInitial=!0,this.sortedColumns=[],this.inViewIndexes=[],this.mediaCol=[],this.isInitialLoad=!1,this.allowServerDataBinding=!1,this.ignoreCollectionWatch=!0,this.mergeCells={},this.isEdit=!1,this.checkAllRows="None",this.isCheckBoxSelection=!1,this.isPersistSelection=!1,this.componentRefresh=an.prototype.refresh,this.filterOperators={contains:"contains",endsWith:"endswith",equal:"equal",greaterThan:"greaterthan",greaterThanOrEqual:"greaterthanorequal",lessThan:"lessthan",lessThanOrEqual:"lessthanorequal",notEqual:"notequal",startsWith:"startswith"},this.defaultLocale={EmptyRecord:"No records to display",True:"true",False:"false",InvalidFilterMessage:"Invalid Filter Data",GroupDropArea:"Drag a column header here to group its column",UnGroup:"Click here to ungroup",UnGroupButton:"Click here to ungroup",GroupDisable:"Grouping is disabled for this column",FilterbarTitle:"'s filter bar cell",EmptyDataSourceError:"DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid",Add:"Add",Edit:"Edit",Cancel:"Cancel",Update:"Update",Delete:"Delete",Print:"Print",Pdfexport:"PDF Export",Excelexport:"Excel Export",Wordexport:"Word Export",Csvexport:"CSV Export",Search:"Search",Columnchooser:"Columns",Save:"Save",Item:"item",Items:"items",EditOperationAlert:"No records selected for edit operation",DeleteOperationAlert:"No records selected for delete operation",SaveButton:"Save",OKButton:"OK",CancelButton:"Cancel",EditFormTitle:"Details of ",AddFormTitle:"Add New Record",BatchSaveConfirm:"Are you sure you want to save changes?",BatchSaveLostChanges:"Unsaved changes will be lost. Are you sure you want to continue?",ConfirmDelete:"Are you sure you want to Delete Record?",CancelEdit:"Are you sure you want to Cancel the changes?",ChooseColumns:"Choose Column",SearchColumns:"search columns",Matchs:"No matches found",FilterButton:"Filter",ClearButton:"Clear",StartsWith:"Starts With",EndsWith:"Ends With",Contains:"Contains",Equal:"Equal",NotEqual:"Not Equal",LessThan:"Less Than",LessThanOrEqual:"Less Than Or Equal",GreaterThan:"Greater Than",GreaterThanOrEqual:"Greater Than Or Equal",ChooseDate:"Choose a Date",EnterValue:"Enter the value",Copy:"Copy",Group:"Group by this column",Ungroup:"Ungroup by this column",autoFitAll:"Autofit all columns",autoFit:"Autofit this column",AutoFitAll:"Autofit all columns",AutoFit:"Autofit this column",Export:"Export",FirstPage:"First Page",LastPage:"Last Page",PreviousPage:"Previous Page",NextPage:"Next Page",SortAscending:"Sort Ascending",SortDescending:"Sort Descending",EditRecord:"Edit Record",DeleteRecord:"Delete Record",FilterMenu:"Filter",SelectAll:"Select All",Blanks:"Blanks",FilterTrue:"True",FilterFalse:"False",NoResult:"No matches found",ClearFilter:"Clear Filter",Clear:"Clear",NumberFilter:"Number Filters",TextFilter:"Text Filters",DateFilter:"Date Filters",DateTimeFilter:"DateTime Filters",MatchCase:"Match Case",Between:"Between",CustomFilter:"Custom Filter",CustomFilterPlaceHolder:"Enter the value",CustomFilterDatePlaceHolder:"Choose a date",AND:"AND",OR:"OR",ShowRowsWhere:"Show rows where:",FilterMenuDialogARIA:"Filter menu dialog",ExcelFilterDialogARIA:"Excel filter dialog",DialogEditARIA:"Edit dialog",ColumnChooserDialogARIA:"Column chooser dialog",ColumnMenuDialogARIA:"Column menu dialog",CustomFilterDialogARIA:"Customer filter dialog",SortAtoZ:"Sort A to Z",SortZtoA:"Sort Z to A",SortByOldest:"Sort by Oldest",SortByNewest:"Sort by Newest",SortSmallestToLargest:"Sort Smallest to Largest",SortLargestToSmallest:"Sort Largest to Smallest",Sort:"Sort"},this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftRight:"shift+rightarrow",shiftLeft:"shift+leftarrow",home:"home",end:"end",escape:"escape",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",pageUp:"pageup",pageDown:"pagedown",ctrlAltPageUp:"ctrl+alt+pageup",ctrlAltPageDown:"ctrl+alt+pagedown",altPageUp:"alt+pageup",altPageDown:"alt+pagedown",altDownArrow:"alt+downarrow",altUpArrow:"alt+uparrow",ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlPlusA:"ctrl+A",ctrlPlusP:"ctrl+P",insert:"insert",delete:"delete",f2:"f2",enter:"enter",ctrlEnter:"ctrl+enter",shiftEnter:"shift+enter",tab:"tab",shiftTab:"shift+tab",space:"space",ctrlPlusC:"ctrl+C",ctrlShiftPlusH:"ctrl+shift+H",ctrlSpace:"ctrl+space",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow"}}render(){this.log(["module_missing","promise_enabled","locale_missing","check_datasource_columns"]),this.ariaService.setOptions(this.element,{datarole:"grid"}),bc({target:this.element},this.createElement),this.renderModule=new yke(this,this.serviceLocator),this.searchModule=new Rke(this),this.scrollModule=new Vx(this),this.notify(Au,{}),(!0===this.getDataModule().dataManager.dataSource.offline||void 0===this.getDataModule().dataManager.dataSource.url)&&(this.isVirtualAdaptive=!0),this.trigger("load"),zx(this.columns,this.enableColumnVirtualization,this),this.enablePersistence&&this.notify(x5,{}),this.getMediaColumns(),eT(this.columns),this.checkLockColumns(this.columns),this.getColumns(),this.processModel(),this.gridRender(),this.wireEvents(),this.addListener(),this.updateDefaultCursor(),this.updateStackedFilter(),this.showSpinner(),this.notify(ol,{}),this.refreshing&&this.trigger("created")}showSpinner(){this.isExportGrid||Go(this.element)}hideSpinner(){this.isExportGrid||qo(this.element)}updateStackedFilter(){this.allowFiltering&&"FilterBar"===this.filterSettings.type&&this.getHeaderContent().getElementsByClassName("e-stackedheadercell").length?this.getHeaderContent().classList.add("e-stackedfilter"):this.getHeaderContent().classList.remove("e-stackedfilter")}getMediaColumns(){if(!this.enableColumnVirtualization){const e=this.getColumns();if(this.getShowHideService=this.serviceLocator.getService("showHideService"),!h(e))for(let t=0;t<e.length;t++)!h(e[t].hideAtMedia)&&(h(e[t].visible)||e[t].visible)&&this.pushMediaColumn(e[t],t)}}pushMediaColumn(e,t){this.mediaCol.push(e),this.media[e.uid]=window.matchMedia(e.hideAtMedia),this.mediaQueryUpdate(t,this.media[e.uid]),this.mediaBindInstance[t]=this.mediaQueryUpdate.bind(this,t),this.media[e.uid].addListener(this.mediaBindInstance[t])}updateMediaColumns(e){if(!this.enableColumnVirtualization){const t=this.getColumnIndexByUid(e.uid);for(let i=0;i<this.mediaCol.length;i++)if(e.uid===this.mediaCol[i].uid)return void this.mediaCol.splice(i,1);this.pushMediaColumn(e,t)}}mediaQueryUpdate(e,t){const i=this.getColumns()[e];this.mediaCol.some(n=>n.uid===i.uid)&&(i.visible=t.matches,this.isInitialLoad&&(this.invokedFromMedia=!0,i.visible?this.showHider.show(i.headerText,"headerText"):this.showHider.hide(i.headerText,"headerText")))}refreshMediaCol(){this.isInitialLoad=!0;const e=this.element.querySelector("."+F0);this.aggregates.length&&this.element.scrollHeight>this.height&&e&&_([e],["e-footerpadding"]),this.getColumns().filter(i=>"checkbox"===i.type).length&&"ResetOnRowClick"===this.selectionSettings.checkboxMode&&(this.isCheckBoxSelection=!1),"Vertical"===this.rowRenderingMode&&this.enableHover&&(this.setProperties({enableAdaptiveUI:!0,enableHover:!1},!0),T([this.element],"e-gridhover")),this.enableAdaptiveUI&&this.scrollModule&&this.scrollModule.refresh()}removeMediaListener(){for(let e=0;e<this.mediaCol.length;e++)this.media[this.mediaCol[e].uid].removeListener(this.mediaBindInstance[this.mediaCol[e].index])}eventInitializer(){}destroy(){const e=this.element;if(!e)return;const t=!(!e.querySelector("."+br)||!e.querySelector("."+ar));t&&this.unwireEvents(),this.removeListener(),this.removeMediaListener(),this.notify(Ri,{}),this.destroyDependentModules(),(this.isReact||this.isVue)&&this.destroyTemplate(["template"]),t&&super.destroy(),this.toolTipObj.destroy(),this.isReact&&!A.isIE&&(this.element.innerHTML="");const i=["renderModule","headerModule","contentModule","valueFormatterService","serviceLocator","ariaService","keyboardModule","widthService","searchModule","showHider","scrollModule","printModule","clipboardModule","focusModule"];for(let n=0;n<i.length;n++)this[i[n]]&&(this[i[n]]=null);this.element.innerHTML="",ze(this.element,[],["e-rtl","e-gridhover","e-responsive","e-default","e-device","e-grid-min-height"]),this.isFreezeRefresh=!1}destroyDependentModules(){const e=this.element;!e||!e.querySelector("."+br)&&!e.querySelector("."+ar)||(this.scrollModule.destroy(),this.keyboardModule.destroy(),this.focusModule.destroy(),this.clipboardModule.destroy(),this.printModule.destroy())}getModuleName(){return"grid"}enableBoxSelection(){this.enableAutoFill?(this.selectionSettings.cellSelectionMode="BoxWithBorder",this.element.classList.add("e-afenabled")):this.element.classList.remove("e-afenabled")}onPropertyChanged(e,t){let o,i=!1,n=!1,s=!1;if(this.isDestroyed)return;this.log("module_missing"),this.isEllipsisTooltip()&&this.toolTipObj.close();const a=Object.keys(e);a.indexOf("columns")>-1&&(this.enableColumnVirtualization&&(this.columnModel=[]),this.updateColumnObject(),n=!0);for(const c of a)switch(c){case"allowPaging":this.notify(as,{module:"pager",enable:this.allowPaging}),i=!0;break;case"pageSettings":if(this.pageTemplateChange){this.pageTemplateChange=!1,this.notify(ll,{module:"pager",properties:e.pageSettings});break}this.notify(ll,{module:"pager",properties:e.pageSettings}),(h(e.pageSettings.currentPage)&&h(e.pageSettings.pageSize)&&h(e.pageSettings.totalRecordsCount)||!h(t.pageSettings)&&e.pageSettings.currentPage!==t.pageSettings.currentPage&&!this.enableColumnVirtualization&&!this.enableVirtualization&&this.pageSettings.totalRecordsCount<=this.pageSettings.pageSize)&&(i=!0);break;case"allowSorting":this.notify(as,{module:"sort",enable:this.allowSorting}),i=!0,o=!0;break;case"allowFiltering":this.updateStackedFilter(),this.notify(as,{module:"filter",enable:this.allowFiltering}),i=!0,"FilterBar"!==this.filterSettings.type&&this.refreshHeader();break;case"height":case"width":this.notify(as,{module:"scroll",properties:{width:e.width,height:e.height}});break;case"allowReordering":this.headerModule.refreshUI(),o=!0;break;case"allowRowDragAndDrop":this.notify(as,{module:"rowDragAndDrop",enable:this.allowRowDragAndDrop}),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"allowSelection":this.notify(as,{module:"selection",enable:this.allowSelection});break;case"enableAutoFill":this.selectionModule&&(this.enableBoxSelection(),this.selectionModule.updateAutoFillPosition());break;case"rowTemplate":this.rowTemplateFn=Jl(this.rowTemplate),i=!0;break;case"detailTemplate":this.detailTemplateFn=Jl(this.detailTemplate),i=!0;break;case"allowGrouping":this.notify(as,{module:"group",enable:this.allowGrouping}),this.headerModule.refreshUI(),i=!0,o=!0;break;case"enableInfiniteScrolling":case"childGrid":i=!0;break;case"toolbar":this.notify(as,{module:"toolbar"});break;case"groupSettings":this.notify(ll,{module:"group",properties:e.groupSettings,oldProperties:t.groupSettings});break;case"aggregates":!this.aggregates.length&&this.allowGrouping&&this.groupSettings.columns.length&&(i=!0),this.notify(as,{module:"aggregate",properties:e});break;case"frozenColumns":case"frozenRows":case"enableVirtualization":case"currencyCode":case"locale":this.log("frozen_rows_columns"),s=!0,n=!0;break;case"query":this.getDataModule().isQueryInvokedFromData||(i=!0),this.getDataModule().isQueryInvokedFromData=!1;break;default:this.extendedPropertyChange(c,e,n)}o&&this.updateDefaultCursor(),n?s||this.getFrozenColumns()||this.frozenRows?this.freezeRefresh():this.refresh():i&&(this.notify(fo,{requestType:"refresh"}),i=!1,this.maintainSelection(e.selectedRowIndex))}extendedPropertyChange(e,t,i){switch(e){case"enableRtl":this.updateRTL(),this.allowPaging&&(this.element.querySelector(".e-gridpager").ej2_instances[0].enableRtl=t.enableRtl,this.element.querySelector(".e-gridpager").ej2_instances[0].dataBind()),"auto"!==this.height&&(this.scrollModule.removePadding(!t.enableRtl),this.scrollModule.setPadding()),this.toolbar&&this.toolbarModule&&(this.toolbarModule.getToolbar().ej2_instances[0].enableRtl=t.enableRtl,this.toolbarModule.getToolbar().ej2_instances[0].dataBind()),this.contextMenuItems&&this.contextMenuModule&&(this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl=t.enableRtl,this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind()),this.showColumnMenu&&this.columnMenuModule&&(this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl=t.enableRtl,this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind()),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator&&this.refreshHeader(),this.notify("rtl-updated",{});break;case"enableAltRow":this.renderModule.refresh();break;case"allowResizing":this.headerModule.refreshUI(),this.updateResizeLines();break;case"rowHeight":this.rowHeight?_([this.element],"e-grid-min-height"):T([this.element],"e-grid-min-height"),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"gridLines":this.updateGridLines();break;case"showColumnMenu":this.headerModule.refreshUI(),this.notify(as,{module:"columnMenu",enable:!0});break;case"columnMenuItems":this.notify(as,{module:"columnMenu",enable:this.columnMenuItems});break;case"contextMenuItems":this.notify(as,{module:"contextMenu",enable:this.contextMenuItems});break;case"showColumnChooser":this.notify(as,{module:"columnChooser",enable:this.showColumnChooser});break;case"filterSettings":this.updateStackedFilter(),this.notify(ll,{module:"filter",properties:t.filterSettings});break;case"searchSettings":this.notify(ll,{module:"search",properties:t.searchSettings});break;case"sortSettings":this.notify(ll,{module:"sort"});break;case"selectionSettings":this.notify(ll,{module:"selection",properties:t.selectionSettings});break;case"editSettings":this.notify(ll,{module:"edit",properties:t.editSettings});break;case"allowTextWrap":case"textWrapSettings":this.allowTextWrap?this.applyTextWrap():this.removeTextWrap(),this.notify(Nd,{case:"textwrap",isModeChg:"textWrapSettings"===e});break;case"dataSource":const n=this.getDataModule().getState();if(Object.getPrototypeOf(t).deepWatch){const o=this.getPrimaryKeyFieldNames()[0];for(let l=0,a=Object.keys(t.dataSource);l<a.length;l++)this.setRowData(M(o,this.dataSource[a[l]]),this.dataSource[a[l]])}else if(n.isPending){let o=h(this.dataSource)?[]:this.dataSource.result;const l=n.group||[];for(let a=0;a<l.length;a++)o=Ie.group(o,l[a],n.aggregates||[]);this.dataSource={result:o,count:this.dataSource.count,aggregates:this.dataSource.aggregates},this.getDataModule().setState({}),n.resolver(this.dataSource)}else this.getDataModule().setState({isDataChanged:!1}),this.notify(F1,{}),i||(this.renderModule.refresh(),this.isCheckBoxSelection&&this.notify(M5,{}));this.scrollRefresh();break;case"enableHover":(t.enableHover?_:T)([this.element],"e-gridhover");break;case"selectedRowIndex":this.isSelectedRowIndexUpdating||this.selectRow(t.selectedRowIndex),this.isSelectedRowIndexUpdating=!1;break;case"resizeSettings":this.widthService.setWidthToTable();break;case"enableAdaptiveUI":this.notify(G1,{});break;case"rowRenderingMode":this.enableVerticalRendering(),this.notify(B5,{}),this.refresh();break;case"enableStickyHeader":this.scrollModule.addStickyListener(t.enableStickyHeader)}}maintainSelection(e){if(-1!==e){const t=()=>{this.selectRow(e),this.off(Is,t)};this.on(Is,t,this)}}setProperties(e,t){super.setProperties(e,t),e.filterSettings&&this.filterModule&&t&&this.filterModule.refreshFilter()}setTablesCount(){const e=this.getFrozenColumns(),t=this.getFrozenLeftColumnsCount(),i=this.getFrozenRightColumnsCount();!e||t||i?!e&&(t||i)&&(t&&!i||i&&!t?this.tablesCount=2:t&&i&&(this.tablesCount=3)):this.tablesCount=2}getTablesCount(){return this.tablesCount}updateDefaultCursor(){let e=[].slice.call(this.getHeaderContent().querySelectorAll(".e-headercell:not(.e-stackedheadercell)"));const t=[].slice.call(this.getHeaderContent().getElementsByClassName("e-stackedheadercell")),i=this.getColumns();if(this.enableColumnVirtualization&&this.getFrozenColumns()){const n=this.contentModule.getHeaderCells();e=n.length?n:e}for(let n=0;n<e.length;n++){const s=e[n];(this.allowGrouping||this.allowReordering||this.allowSorting)&&s.classList.add(i[n].allowReordering&&i[n].allowSorting&&i[n].allowGrouping?"e-mousepointer":"e-defaultcursor")}for(let n=0;n<t.length;n++)this.allowReordering&&t[n].classList.add("e-mousepointer")}updateColumnModel(e){for(let t=0,i=e.length;t<i;t++)e[t].columns?this.updateColumnModel(e[t].columns):this.columnModel.push(e[t]);this.updateColumnLevelFrozen(),this.updateFrozenColumns(),this.updateLockableColumns()}updateColumnLevelFrozen(){const e=this.columnModel,t=[],i=[],n=[];if(this.frozenLeftCount||this.frozenRightCount){for(let s=0,o=e.length;s<o;s++){const l=e[s];"Left"===l.freeze?(l.freezeTable=Os,t.push(l)):"Right"===l.freeze?(l.freezeTable=Ln,i.push(l)):(l.freezeTable="movable",n.push(l))}this.columnModel=t.concat(n).concat(i)}}updateFrozenColumns(){if(this.frozenLeftCount||this.frozenRightCount)return;const e=this.columnModel,t=this.frozenColumns,i=this.getFrozenColumns();let n=0;for(let s=0,o=e.length;s<o;s++){const l=e[s];t&&(l.freezeTable=s<t?Os:"movable"),l.isFrozen&&s>=t?(l.freezeTable=Os,e.splice(this.frozenColumns+n,0,e.splice(s,1)[0]),n++):i&&!t&&(l.freezeTable="movable")}}getFrozenLeftCount(){return this.getFrozenColumns()||this.getFrozenLeftColumnsCount()}isFrozenGrid(){return 0!==this.getFrozenColumns()||0!==this.getFrozenLeftColumnsCount()||0!==this.getFrozenRightColumnsCount()}getFrozenMode(){return this.frozenName}updateLockableColumns(){const e=this.columnModel;let t=0,i=0;const n=this.getFrozenColumns();for(let s=0;s<e.length;s++)e[s].lockColumn&&(s<n?(e.splice(t,0,e.splice(s,1)[0]),t++):(e.splice(n+i,0,e.splice(s,1)[0]),i++))}checkLockColumns(e){for(let t=0;t<e.length;t++)e[t].columns?this.checkLockColumns(e[t].columns):e[t].lockColumn&&this.lockcolPositionCount++}getColumns(e){const t=this.inViewIndexes.map(s=>s-this.groupSettings.columns.length).filter(s=>s>-1),i=t.length;(!this.enableColumnVirtualization||h(this.columnModel)||0===this.columnModel.length||e)&&(this.columnModel=[],this.updateColumnModel(this.columns));let n=0===i?this.columnModel:this.columnModel.slice(t[0],t[i-1]+1);return this.contentModule&&this.enableColumnVirtualization&&this.isFrozenGrid()&&t.length&&t[0]>0&&(n=this.contentModule.ensureFrozenCols(n)),n}getStackedHeaderColumnByHeaderText(e,t){for(let i=0;i<t.length;i++){const n=t[i];if(n.field===e||n.headerText===e){this.stackedColumn=n;break}n.columns&&this.getStackedHeaderColumnByHeaderText(e,n.columns)}return this.stackedColumn}getColumnIndexesInView(){return this.inViewIndexes}getQuery(){return this.query}getLocaleConstants(){return this.defaultLocale}setColumnIndexesInView(e){this.inViewIndexes=e}getVisibleColumns(){return this.getCurrentVisibleColumns()}getHeaderContent(){return this.headerModule.getPanel()}setGridHeaderContent(e){this.headerModule.setPanel(e)}getContentTable(){return this.contentModule.getTable()}setGridContentTable(e){this.contentModule.setTable(e)}getContent(){return this.contentModule.getPanel()}setGridContent(e){this.contentModule.setPanel(e)}getHeaderTable(){return this.headerModule.getTable()}setGridHeaderTable(e){this.headerModule.setTable(e)}getFooterContent(){return this.footerElement=this.element.getElementsByClassName(F0)[0],this.footerElement}getFooterContentTable(){return this.footerElement=this.element.getElementsByClassName(F0)[0],this.footerElement.firstChild.firstChild}getPager(){return this.gridPager}setGridPager(e){this.gridPager=e}getRowByIndex(e){return this.contentModule.getRowByIndex(e)}getMovableRowByIndex(e){return this.contentModule.getMovableRowByIndex(e)}getFrozenRowByIndex(e){return this.getFrozenDataRows()[e]}getRows(){return this.contentModule.getRowElements()}getFrozenRightRowByIndex(e){return this.contentModule.getFrozenRightRowByIndex(e)}getRowInfo(e){const t=e;let i={target:e};if(!h(e)&&h(Ce(t,"e-detailrowcollapse")&&h(Ce(t,"e-recordplusexpand")))){const n=D(t,"."+Ii);if(!n){const o=D(t,"."+Oi);if(!h(o)&&!o.classList.contains("e-addedrow")){const l=this.getRowObjectFromUID(o.getAttribute("data-uid")),a=parseInt(o.getAttribute(Zt),10);i={row:o,rowData:l.data,rowIndex:a}}return i}const s=parseInt(n.getAttribute(_r),10);if(!h(n)&&!isNaN(s)){const o=D(n,"."+Oi),l=parseInt(o.getAttribute(Zt),10),a=this.getFrozenColumns(),c=this.columnModel[s].getFreezeTableName();let d=this.contentModule.getRows(),u=s+this.getIndentCount();this.isFrozenGrid()&&(c===Os?d=this.contentModule.getRows():"movable"===c?(u=s-a-this.frozenLeftCount,d=this.contentModule.getMovableRows()):c===Ln&&(u=s-(this.frozenLeftCount+this.movableCount),d=this.contentModule.getFrozenRightRows()));const p=d.filter(m=>m.uid===o.getAttribute("data-uid"));let f,g={};Object.keys(p).length&&(g=p[0].data,f=p[0].cells[u].column),i={cell:n,cellIndex:s,row:o,rowIndex:l,rowData:g,column:f,target:e}}}return i}getMovableRows(){return this.contentModule.getMovableRowElements()}getFrozenRightRows(){return this.contentModule.getFrozenRightRowElements()}getDataRows(){return this.getAllDataRows()}getAllDataRows(e){if(h(this.getContentTable().querySelector(Ke)))return[];const t=this.isFrozenGrid()?this.getFrozenLeftContentTbody():this.getContentTable().querySelector(Ke);let i=[].slice.call(t.children);if(this.frozenRows){const s=this.isFrozenGrid()?this.getHeaderContent().querySelector("."+Fh).querySelector(Ke):this.getHeaderTable().querySelector(Ke),o=[].slice.call(s.children);i=this.addMovableRows(o,i)}return this.generateDataRows(i,e)}addMovableRows(e,t){for(let i=0,n=t.length;i<n;i++)e.push(t[i]);return e}generateDataRows(e,t){const i=[];for(let n=0,s=e.length;n<s;n++)e[n].classList.contains(Oi)&&(!e[n].classList.contains("e-hiddenrow")||t)&&(this.isCollapseStateEnabled()?i[parseInt(e[n].getAttribute("aria-rowindex"),10)]=e[n]:i.push(e[n]));return i}getMovableDataRows(){return this.getAllMovableDataRows()}getAllMovableDataRows(e){if(!this.isFrozenGrid())return[];let t=[].slice.call(this.getContent().querySelector("."+hn).querySelector(Ke).children);if(this.frozenRows){const n=[].slice.call(this.getHeaderContent().querySelector("."+un).querySelector(Ke).children);t=this.addMovableRows(n,t)}return this.generateDataRows(t,e)}getFrozenDataRows(){return this.getAllFrozenDataRows()}getAllFrozenDataRows(e){let t=[].slice.call(this.getContent().querySelector("."+hd).querySelector(Ke).children);if(this.frozenRows){const n=[].slice.call(this.getHeaderContent().querySelector("."+Fh).querySelector(Ke).children);t=this.addMovableRows(n,t)}return this.generateDataRows(t,e)}getFrozenRightDataRows(){return this.getAllFrozenRightDataRows()}getAllFrozenRightDataRows(e){if("Right"!==this.getFrozenMode()&&"Left-Right"!==this.getFrozenMode())return[];let t=[].slice.call(this.getContent().querySelector(".e-frozen-right-content").querySelector(Ke).children);if(this.frozenRows){const n=[].slice.call(this.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(Ke).children);t=this.addMovableRows(n,t)}return this.generateDataRows(t,e)}setCellValue(e,t,i){const s="data",o="index",a="Right"===this.getFrozenMode(),c=this.getPrimaryKeyFieldNames()[0],d=new xa(this,this.serviceLocator);let u=this.getColumnIndexByField(t);const p=this.getColumnByField(t),f=("movable"===p.getFreezeTableName()?this.contentModule.getMovableRows():"frozen-right"===p.getFreezeTableName()?this.getFrozenRightRowsObject():this.contentModule.getRows()).filter(v=>M(c,v.data)===e)[0];if(!h(f?this.element.querySelector("[data-uid="+f.uid+"]"):null)){Ne(t,i,f[s]);let v=this.getFrozenLeftColumnsCount()||this.getFrozenColumns();const x=this.getMovableColumnsCount();this.isRowDragable()&&!a&&v++;const w=v+x,b=this.getCellFromIndex(f[o],u);if(!h(b)){const I="movable"===p.getFreezeTableName()?v:"frozen-right"===p.getFreezeTableName()?w:0;this.groupSettings.columns.length&&(u+=this.groupSettings.columns.length),(this.childGrid||this.detailTemplate)&&u++,this.isRowDragable()&&!a&&u++,d.refreshTD(b,f.cells[u-I],f[s],{index:f[o]}),this.aggregates.length>0&&(this.notify(Ig,{}),this.groupSettings.columns.length>0&&this.notify(Nf,{})),!h(f)&&!h(f.changes)&&(f.changes[t]=i),this.trigger(ZO,{cell:b,column:p,data:f[s]})}}}refreshReactColumnTemplateByUid(e){this.isReact&&this.clearTemplate(["columnTemplate"],void 0,()=>{const n=this.getDataRows(),s=this.getIndentCount(),o=this.getNormalizedColumnIndex(e);for(let l=0;l<n.length;l++){const a=this.getRowObjectFromUID(n[l].getAttribute("data-uid"));if(a&&a.isDataRow&&!h(a.index)){const c=a.cells[o],d=new xa(this,this.serviceLocator),u=this.getCellFromIndex(l,o-s);d.refreshTD(u,c,a.data,{index:a.index})}}})}refreshReactHeaderTemplateByUid(e){if(this.isReact){const t="cells",i=this.headerModule.rows,n=this.getNormalizedColumnIndex(e);for(let s=0;s<i.length;s++){const o=i[s][t][n];if(o&&o.column.uid===e){const l=new sX(this,this.serviceLocator),a=Ce(this.element.querySelectorAll("[e-mappinguid="+e+"]")[0],"e-templatecell");l.refresh(o,a)}}}}setRowData(e,t){let n=this.contentModule.getRows();const s=this.getPrimaryKeyFieldNames()[0],o=new ya(this.serviceLocator,null,this);this.groupSettings.columns.length>0&&this.aggregates.length>0&&(n=n.filter(a=>a.isDataRow));const l=n.filter(a=>M(s,a.data)===e)[0];!h(l)&&this.element.querySelectorAll("[data-uid="+l.uid+"]").length&&(l.changes=t,iT(l,this.getForeignKeyColumns(),l.changes),o.refresh(l,this.getColumns(),!0),this.aggregates.length>0&&(this.notify(Ig,{}),this.groupSettings.columns.length>0&&this.notify(Nf,{})))}getCellFromIndex(e,t){return p4(this,this.getColumnByIndex(t),e,t)}getMovableCellFromIndex(e,t){if("Left-Right"===this.frozenName&&t>=this.movableCount)return;const i=this.getFrozenColumns()||this.getFrozenLeftColumnsCount();return this.getMovableDataRows()[e]&&this.getMovableDataRows()[e].getElementsByClassName(Ii)[t-i]}getFrozenRightCellFromIndex(e,t){const i=this.getFrozenLeftColumnsCount()+this.getMovableColumnsCount(),n=this.getFrozenRightDataRows();return n[e]&&n[e].getElementsByClassName(Ii)[t-i]}getColumnHeaderByIndex(e){return this.getHeaderTable().getElementsByClassName("e-headercell")[e]}getMovableColumnHeaderByIndex(e){const t=this.getFrozenColumns()||this.getFrozenLeftColumnsCount();return this.getMovableVirtualHeader().getElementsByClassName("e-headercell")[e-t]}getFrozenRightColumnHeaderByIndex(e){const t=this.getFrozenLeftColumnsCount()+this.getMovableColumnsCount();return this.getFrozenRightHeader().getElementsByClassName("e-headercell")[e-t]}getFrozenLeftColumnHeaderByIndex(e){return this.getFrozenVirtualHeader().getElementsByClassName("e-headercell")[e]}getRowObjectFromUID(e,t,i){const n=this.contentModule.getRows();let s=this.rowObject(n,e);return this.isFrozenGrid()&&(!s||t||i)?(s=this.rowObject(this.contentModule.getMovableRows(),e),(!s&&"Left-Right"===this.getFrozenMode()||i)&&(s=this.rowObject(this.contentModule.getFrozenRightRows(),e)),s):(h(s)&&this.enableVirtualization&&this.groupSettings.columns.length>0&&(s=this.rowObject(this.vRows,e)),s)}rowObject(e,t){for(const i of e)if(i.uid===t)return i;return null}getRowsObject(){return this.contentModule.getRows()}getMovableRowsObject(){let e=[];return this.isFrozenGrid()&&(e=this.contentModule.getMovableRows()),e}getFrozenRightRowsObject(){let e=[];return("Right"===this.getFrozenMode()||"Left-Right"===this.getFrozenMode())&&(e=this.contentModule.getFrozenRightRows()),e}getColumnHeaderByField(e){const t=this.getColumnByField(e);return t?this.getColumnHeaderByUid(t.uid):void 0}getColumnHeaderByUid(e){const t=this.getHeaderContent().querySelector("[e-mappinguid="+e+"]");return t?t.parentElement:void 0}getColumnByIndex(e){let t;return this.getColumns().some((i,n)=>(t=i,n===e)),t}getColumnByField(e){return Tp(this.getColumns(),t=>{if(t.field===e)return t})[0]}getColumnIndexByField(e){const t=this.getColumns();for(let i=0;i<t.length;i++)if(t[i].field===e)return i;return-1}getColumnByUid(e){return Tp([...this.getColumns(),...this.getStackedColumns(this.columns)],t=>{if(t.uid===e)return t})[0]}getStackedColumns(e,t=[]){for(const i of e)i.columns&&(t.push(i),this.getStackedColumns(i.columns,t));return t}getColumnIndexByUid(e){const t=Tp(this.getColumns(),(i,n)=>{if(i.uid===e)return n})[0];return h(t)?-1:t}getUidByColumnField(e){return Tp(this.getColumns(),t=>{if(t.field===e)return t.uid})[0]}getNormalizedColumnIndex(e){return this.getColumnIndexByUid(e)+this.getIndentCount()}getIndentCount(){let e=0;return this.allowGrouping&&(e+=this.groupSettings.columns.length),this.isDetail()&&e++,this.isRowDragable()&&h(this.rowDropSettings.targetID)&&e++,e}getColumnFieldNames(){const e=[];let t;for(let i=0,n=this.getColumns().length;i<n;i++)t=this.getColumns()[i],t.visible&&e.push(t.field);return e}getRowTemplate(){return this.rowTemplateFn}getDetailTemplate(){return this.detailTemplateFn}getEditTemplate(){return this.editTemplateFn}getEditHeaderTemplate(){return this.editHeaderTemplateFn}getEditFooterTemplate(){return this.editFooterTemplateFn}getPrimaryKeyFieldNames(){const e=[];for(let t=0;t<this.columnModel.length;t++)this.columnModel[t].isPrimaryKey&&e.push(this.columnModel[t].field);return e}refresh(){this.isDestroyed||(this.isManualRefresh=!0,this.headerModule.refreshUI(),this.updateStackedFilter(),this.renderModule.refresh())}refreshHeader(){this.headerModule.refreshUI()}getSelectedRows(){return this.selectionModule?this.selectionModule.selectedRecords:[]}getSelectedRowIndexes(){return this.selectionModule?this.selectionModule.selectedRowIndexes:[]}getSelectedRowCellIndexes(){return this.selectionModule?this.selectionModule.selectedRowCellIndexes:[]}getSelectedRecords(){return this.selectionModule?this.selectionModule.getSelectedRecords():[]}getSelectedColumnsUid(){const e=[];return this.selectionModule&&this.selectionModule.selectedColumnsIndexes.filter(t=>e.push(this.getColumns()[t].uid)),e}getDataModule(){return this.renderModule.data}showColumns(e,t){this.showHider.show(e,t=t||"headerText")}hideColumns(e,t){this.showHider.hide(e,t=t||"headerText")}getFrozenColumns(){return this.frozenColumns+this.getFrozenCount(this.columns,0,0)}getFrozenRightColumnsCount(){return this.frozenRightCount}getFrozenLeftColumnsCount(){return this.frozenLeftCount}getMovableColumnsCount(){return this.movableCount}setFrozenCount(){this.frozenLeftCount=this.frozenRightCount=this.movableCount=0,this.visibleFrozenLeft=this.visibleFrozenRight=this.visibleMovable=0,this.frozenLeftColumns=[],this.frozenRightColumns=[],this.movableColumns=[],this.splitFrozenCount(this.columns),this.frozenColumns&&(this.frozenLeftCount||this.frozenRightCount)&&this.setProperties({frozenColumns:0},!0),this.setTablesCount(),this.frozenName=this.frozenLeftCount&&!this.frozenRightCount?"Left":this.frozenRightCount&&!this.frozenLeftCount?"Right":this.frozenLeftCount&&this.frozenRightCount?"Left-Right":void 0}getVisibleFrozenLeftCount(){return this.visibleFrozenLeft}getVisibleFrozenRightCount(){return this.visibleFrozenRight}getVisibleMovableCount(){return this.visibleMovable}getFrozenRightColumns(){return this.frozenRightColumns}getFrozenLeftColumns(){return this.frozenLeftColumns}getMovableColumns(){return this.movableColumns}splitFrozenCount(e){for(let t=0;t<e.length;t++)e[t].columns?this.splitFrozenCount(e[t].columns):"Right"===e[t].freeze?(!1!==e[t].visible&&this.visibleFrozenRight++,this.frozenRightColumns.push(e[t]),this.frozenRightCount++):"Left"===e[t].freeze?(!1!==e[t].visible&&this.visibleFrozenLeft++,this.frozenLeftColumns.push(e[t]),this.frozenLeftCount++):(!1!==e[t].visible&&this.visibleMovable++,this.movableColumns.push(e[t]),this.movableCount++)}getVisibleFrozenColumns(){return this.getVisibleFrozenColumnsCount()+this.getVisibleFrozenCount(this.columns,0)}getFilterUIInfo(){return this.filterModule?this.filterModule.getFilterUIInfo():{}}getVisibleFrozenColumnsCount(){let e=0;const t=this.columnModel;for(let i=0;i<this.frozenColumns;i++)t[i].visible&&e++;if(this.frozenLeftCount||this.frozenRightCount)for(let i=0;i<t.length;i++)t[i].visible&&("Left"===t[i].freeze||"Right"===t[i].freeze)&&e++;return e}getVisibleFrozenCount(e,t){if(!this.frozenLeftCount&&!this.frozenRightCount)for(let i=0,n=e.length;i<n;i++)e[i].columns?t=this.getVisibleFrozenCount(e[i].columns,t):e[i].isFrozen&&e[i].visible&&t++;return t}getFrozenCount(e,t,i){for(let n=0,s=e.length;n<s;n++)e[n].columns?t=this.getFrozenCount(e[n].columns,t,i):(e[n].isFrozen&&i>this.frozenColumns-1&&t++,i++);return t}goToPage(e){this.pagerModule&&this.pagerModule.goToPage(e)}updateExternalMessage(e){this.pagerModule&&this.pagerModule.updateExternalMessage(e)}sortColumn(e,t,i){this.sortModule&&this.sortModule.sortColumn(e,t,i)}clearSorting(){this.sortModule&&this.sortModule.clearSorting()}removeSortColumn(e){this.sortModule&&this.sortModule.removeSortColumn(e)}clearGridActions(){this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping?this.setProperties({groupSettings:{columns:[]}},!1):this.freezeRefresh()}filterByColumn(e,t,i,n,s,o,l,a){this.filterModule&&this.filterModule.filterByColumn(e,t,i,n,s,o,l,a)}clearFiltering(e){this.filterModule&&this.filterModule.clearFiltering(e)}removeFilteredColsByField(e,t){this.filterModule&&this.filterModule.removeFilteredColsByField(e,t)}selectRow(e,t){this.selectionModule&&this.selectionModule.selectRow(e,t)}selectRows(e){this.selectionModule&&this.selectionModule.selectRows(e)}clearSelection(){this.selectionModule&&this.selectionModule.clearSelection()}selectCell(e,t){this.selectionModule&&this.selectionModule.selectCell(e,t)}selectCellsByRange(e,t){this.selectionModule.selectCellsByRange(e,t)}search(e){this.searchModule&&this.searchModule.search(e)}print(){this.printModule&&this.printModule.print()}deleteRecord(e,t){this.editModule&&this.editModule.deleteRecord(e,t)}startEdit(){this.editModule&&this.editModule.startEdit()}endEdit(){this.editModule&&this.editModule.endEdit()}closeEdit(){this.editModule&&this.editModule.closeEdit()}addRecord(e,t){this.editModule&&this.editModule.addRecord(e,t)}deleteRow(e){this.editModule&&this.editModule.deleteRow(e)}editCell(e,t){this.editModule&&this.editModule.editCell(e,t)}saveCell(){this.editModule&&this.editModule.saveCell()}updateCell(e,t,i){this.editModule&&this.editModule.updateCell(e,t,i)}updateRow(e,t){this.editModule&&this.editModule.updateRow(e,t)}getBatchChanges(){return this.editModule?this.editModule.getBatchChanges():{}}enableToolbarItems(e,t){this.toolbarModule&&this.toolbarModule.enableItems(e,t)}copy(e){this.clipboardModule&&this.clipboardModule.copy(e)}recalcIndentWidth(){if(!this.getHeaderTable().querySelector(".e-emptycell")||!this.groupSettings.columns.length&&!this.isDetail()&&!this.isRowDragable()||this.getHeaderTable().querySelector(".e-emptycell").getAttribute("indentRefreshed")||!this.getContentTable())return;let e=this.getHeaderTable().querySelector(".e-emptycell").parentElement.offsetWidth;const t=[].slice.call(this.getHeaderTable().querySelector(ni).childNodes),i=[].slice.call(this.getContentTable().querySelector(ni).childNodes),n=e/30;let s="Right"===this.getFrozenMode()?this.frozenRightCount:0;const o=this.element.offsetWidth,l=(a,c)=>{if(h4(this)){const d=(c/o*100).toFixed(1)+"%";t[a].style.width=d,i[a].style.width=d}else t[a].style.width=c+"px",i[a].style.width=c+"px";this.notify(M1,{index:a,width:c})};for(n>=1&&(e=30/n),e<1&&(e=1),(this.enableColumnVirtualization||this.isAutoGen||this.columns.length===this.groupSettings.columns.length)&&(e=30);s<this.groupSettings.columns.length;)l(s,e),s++;this.isDetail()&&(l(s,e),s++),this.isRowDragable()&&l(s,e),this.isAutoGen=!1,this.getHeaderTable().querySelector(".e-emptycell").setAttribute("indentRefreshed","true")}resetIndentWidth(){if(h4(this)&&(this.getHeaderTable().querySelector(".e-emptycell").removeAttribute("indentRefreshed"),this.widthService.setWidthToColumns(),this.recalcIndentWidth()),("auto"===this.width||"string"==typeof this.width&&-1!==this.width.indexOf("%"))&&this.getColumns().filter(e=>(!e.width||"auto"===e.width)&&e.minWidth).length>0){const e=this.widthService.getTableWidth(this.getColumns());this.widthService.setMinwidthBycalculation(e)}this.isFrozenGrid()&&this.widthService&&this.widthService.refreshFrozenScrollbar(),this.allowTextWrap&&"Content"!==this.textWrapSettings.wrapMode&&this.notify(j1,{})}isRowDragable(){return this.allowRowDragAndDrop&&!this.rowDropSettings.targetID}reorderColumns(e,t){this.reorderModule&&this.reorderModule.reorderColumns(e,t)}reorderColumnByIndex(e,t){this.reorderModule&&this.reorderModule.reorderColumnByIndex(e,t)}reorderColumnByTargetIndex(e,t){this.reorderModule&&this.reorderModule.reorderColumnByTargetIndex(e,t)}reorderRows(e,t){this.rowDragAndDropModule&&this.rowDragAndDropModule.reorderRows(e,t)}refreshDataSource(e){this.notify("refreshdataSource",e)}disableRowDD(e){const t=this.getHeaderTable(),i=this.getContentTable(),n=t.querySelectorAll("th.e-rowdragheader, th.e-mastercell"),s=this.getRows(),o=e?"none":"";lt(t.querySelector(ni).childNodes[0],{display:o}),lt(i.querySelector(ni).childNodes[0],{display:o});for(let l=0;l<this.getRows().length;l++){const a=s[l].firstElementChild;e?_([a],"e-hide"):T([a],["e-hide"])}for(let l=0;l<t.querySelectorAll("th.e-rowdragheader, th.e-mastercell").length;l++){const a=n[l];e?_([a],"e-hide"):T([a],["e-hide"])}}autoFitColumns(e){this.resizeModule&&this.resizeModule.autoFitColumns(e)}createColumnchooser(e,t,i){this.columnChooserModule&&this.columnChooserModule.renderColumnChooser(e,t,i)}initializeServices(){this.serviceLocator.register("widthService",this.widthService=new Q5(this)),this.serviceLocator.register("cellRendererFactory",new xke),this.serviceLocator.register("rendererFactory",new wke),this.serviceLocator.register("localization",this.localeObj=new is(this.getModuleName(),this.defaultLocale,this.locale)),this.serviceLocator.register("valueFormatter",this.valueFormatterService=new E0(this.locale)),this.serviceLocator.register("showHideService",this.showHider=new kke(this)),this.serviceLocator.register("ariaService",this.ariaService=new $1),this.serviceLocator.register("focus",this.focusModule=new bke(this))}processModel(){const e=this.groupSettings.columns,t=this.sortSettings.columns;let i,n;if(this.allowGrouping)for(let s=0,o=e.length;s<o;s++){n=0;for(let l=t.length;n<l;n++)if(t[n].field===e[s]){i=!0;break}if(i?this.allowSorting?this.sortedColumns.push(t[n].field):t[n].direction="Ascending":t.push({field:e[s],direction:"Ascending",isFromGroup:!0}),!this.groupSettings.showGroupedColumn){const l=this.enableColumnVirtualization?this.columns.filter(a=>a.field===e[s])[0]:this.getColumnByField(e[s]);l?l.visible=!1:this.log("initial_action",{moduleName:"group",columnName:e[s]})}}if(!e.length)for(let s=0;s<t.length;s++)this.sortedColumns.push(t[s].field);if(this.rowTemplateFn=Jl(this.rowTemplate),this.detailTemplateFn=Jl(this.detailTemplate),this.editTemplateFn=Jl(this.editSettings.template),this.editHeaderTemplateFn=Jl(this.editSettings.headerTemplate),this.editFooterTemplateFn=Jl(this.editSettings.footerTemplate),!h(this.parentDetails)){const s=h(this.parentDetails.parentKeyFieldValue)?"undefined":this.parentDetails.parentKeyFieldValue;this.query.where(this.queryString,"equal",s,!0)}this.initForeignColumn()}initForeignColumn(){this.isForeignKeyEnabled(this.getColumns())&&this.notify("initForeignKeyColumn",this.getForeignKeyColumns())}enableVerticalRendering(){"Vertical"===this.rowRenderingMode?this.element.classList.add("e-row-responsive"):this.element.classList.remove("e-row-responsive")}gridRender(){this.updateRTL(),"Vertical"===this.rowRenderingMode&&this.element.classList.add("e-row-responsive"),this.enableHover&&this.element.classList.add("e-gridhover"),A.isDevice&&this.element.classList.add("e-device"),this.rowHeight&&this.element.classList.add("e-grid-min-height"),this.cssClass&&this.element.classList.add(this.cssClass),ze(this.element,["e-responsive","e-default"],[]);const e=this.serviceLocator.getService("rendererFactory");this.headerModule=e.getRenderer(Xs.Header),this.contentModule=e.getRenderer(Xs.Content),this.printModule=new JE(this,this.scrollModule),this.clipboardModule=new dX(this),this.renderModule.render(),this.eventInitializer(),this.createGridPopUpElement(),this.widthService.setWidthToColumns(),this.updateGridLines(),this.applyTextWrap(),this.createTooltip(),this.enableBoxSelection()}dataReady(){this.scrollModule.setWidth(),this.scrollModule.setHeight(),"auto"!==this.height&&this.scrollModule.setPadding()}updateRTL(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}createGridPopUpElement(){const e=this.createElement("div",{className:"e-gridpopup",styles:"display:none;"}),t=this.createElement("div",{className:Ls,attrs:{tabIndex:"-1"}});Jt([t,this.createElement("div",{className:"e-uptail e-tail"})],e),t.appendChild(this.createElement("span")),Jt([t,this.createElement("div",{className:"e-downtail e-tail"})],e),this.element.appendChild(e)}updateGridLines(){switch(ze(this.element,[],["e-verticallines","e-horizontallines","e-hidelines","e-bothlines"]),this.gridLines){case"Horizontal":this.element.classList.add("e-horizontallines");break;case"Vertical":this.element.classList.add("e-verticallines");break;case"None":this.element.classList.add("e-hidelines");break;case"Both":this.element.classList.add("e-bothlines")}this.updateResizeLines()}updateResizeLines(){this.allowResizing&&"Vertical"!==this.gridLines&&"Both"!==this.gridLines?this.element.classList.add("e-resize-lines"):this.element.classList.remove("e-resize-lines")}applyTextWrap(){if(this.allowTextWrap){const e=[].slice.call(this.element.getElementsByClassName("e-columnheader"));switch(this.textWrapSettings.wrapMode){case"Header":Lc(this.element,!1),Lc(this.getContent(),!1),Lc(e,!0);break;case"Content":Lc(this.getContent(),!0),Lc(this.element,!1),Lc(e,!1);break;default:Lc(this.element,!0),Lc(this.getContent(),!1),Lc(e,!1)}"Content"!==this.textWrapSettings.wrapMode&&this.notify(j1,{})}}removeTextWrap(){Lc(this.element,!1),Lc([].slice.call(this.element.getElementsByClassName("e-columnheader")),!1),Lc(this.getContent(),!1),"Content"!==this.textWrapSettings.wrapMode&&this.notify(j1,{})}createTooltip(){this.toolTipObj=new vs({opensOn:"custom",content:"",cssClass:this.cssClass?this.cssClass:null},this.element)}freezeRefresh(){this.isFreezeRefresh=!0,this.enableVirtualization&&(this.pageSettings.currentPage=1),this.componentRefresh()}getTooltipStatus(e){const t=this.getHeaderTable(),i="e-gridheader",n=this.createTable(t,i,"header"),s=this.createTable(t,i,"content"),o=e.classList.contains("e-headercell")?n:s,l=e.classList.contains("e-headercell")?"th":"tr";o.querySelector(l).className=e.className,o.querySelector(l).innerHTML=e.innerHTML;const a=o.querySelector(l).getBoundingClientRect().width;return document.body.removeChild(n),document.body.removeChild(s),a>e.getBoundingClientRect().width}mouseMoveHandler(e){if(this.isEllipsisTooltip()){const t=Ce(e.target,"e-ellipsistooltip");(this.prevElement!==t||"mouseout"===e.type)&&this.toolTipObj.close();const i=e.target.tagName,n=["A","BUTTON","INPUT"];if(t&&"mouseout"!==e.type&&(!A.isDevice||-1===n.indexOf(i))){if(t.getAttribute("aria-describedby"))return;this.getTooltipStatus(t)&&(this.toolTipObj.content=t.getElementsByClassName("e-headertext").length?t.getElementsByClassName("e-headertext")[0].innerText:t.innerText,this.prevElement=t,this.getColumns()[parseInt(t.getAttribute(_r),10)].disableHtmlEncode&&(this.toolTipObj.enableHtmlParse=!1),this.toolTipObj.open(t))}}this.hoverFrozenRows(e)}hoverFrozenRows(e){if(this.isFrozenGrid()){const t=Ce(e.target,Oi);if([].slice.call(this.element.getElementsByClassName("e-frozenhover")).length&&"mouseout"===e.type){const i=[].slice.call(this.element.getElementsByClassName("e-frozenhover"));for(let n=0;n<i.length;n++)i[n].classList.remove("e-frozenhover")}else if(t){const i=[].slice.call(this.element.querySelectorAll('tr[aria-rowindex="'+t.getAttribute(Zt)+'"]'));i.splice(i.indexOf(t),1);for(let n=0;n<i.length;n++)"true"!==t.getAttribute("aria-selected")&&i[n]?i[n].classList.add("e-frozenhover"):i[n]&&i[n].classList.remove("e-frozenhover")}}}isEllipsisTooltip(){const e=this.getColumns();if("EllipsisWithTooltip"===this.clipMode)return!0;for(let t=0;t<e.length;t++)if("EllipsisWithTooltip"===e[t].clipMode)return!0;return!1}scrollHandler(){this.isEllipsisTooltip()&&this.toolTipObj.close()}createTable(e,t,i){const n=this.createElement("div");n.className=this.element.className,n.style.cssText="display: inline-block;visibility:hidden;position:absolute";const s=this.createElement("div");s.className=t;const o=this.createElement("table",{attrs:{role:"grid"}});o.className=e.className,o.style.cssText="table-layout: auto;width: auto";const l="header"===i?"th":"td",a=this.createElement("tr",{attrs:{role:"row"}}),c=this.createElement(l);return a.appendChild(c),o.appendChild(a),s.appendChild(o),n.appendChild(s),document.body.appendChild(n),n}onKeyPressed(e){("tab"===e.action||"shiftTab"===e.action)&&this.toolTipObj.close()}wireEvents(){C.add(this.element,"click",this.mouseClickHandler,this),C.add(this.element,"touchend",this.mouseClickHandler,this),C.add(this.element,"focusout",this.focusOutHandler,this),C.add(this.element,"dblclick",this.dblClickHandler,this),C.add(this.element,"keydown",this.keyPressHandler,this),C.add(window,"resize",this.resetIndentWidth,this),this.allowKeyboard&&(this.element.tabIndex=-1===this.element.tabIndex?0:this.element.tabIndex),this.keyboardModule=new tn(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),C.add(this.getContent().firstElementChild,"scroll",this.scrollHandler,this),C.add(this.element,"mousemove",this.mouseMoveHandler,this),C.add(this.element,"mouseout",this.mouseMoveHandler,this),C.add(this.getContent(),"touchstart",this.tapEvent,this),C.add(document.body,"keydown",this.keyDownHandler,this)}unwireEvents(){C.remove(this.element,"click",this.mouseClickHandler),C.remove(this.element,"touchend",this.mouseClickHandler),C.remove(this.element,"focusout",this.focusOutHandler),C.remove(this.element,"dblclick",this.dblClickHandler),C.remove(this.getContent().firstElementChild,"scroll",this.scrollHandler),C.remove(this.element,"mousemove",this.mouseMoveHandler),C.remove(this.element,"mouseout",this.mouseMoveHandler),C.remove(this.element,"keydown",this.keyPressHandler),C.remove(this.getContent(),"touchstart",this.tapEvent),C.remove(document.body,"keydown",this.keyDownHandler),C.remove(window,"resize",this.resetIndentWidth)}addListener(){this.isDestroyed||(this.on(Od,this.dataReady,this),this.on(Is,this.recalcIndentWidth,this),this.on(io,this.recalcIndentWidth,this),this.dataBoundFunction=this.refreshMediaCol.bind(this),this.addEventListener(za,this.dataBoundFunction),this.on(lr,this.onKeyPressed,this))}removeListener(){this.isDestroyed||(this.off(Od,this.dataReady),this.off(Is,this.recalcIndentWidth),this.off(io,this.recalcIndentWidth),this.removeEventListener(za,this.dataBoundFunction),this.off(lr,this.onKeyPressed))}getCurrentViewRecords(){return dr(this)?h(this.currentViewData.records)?this.currentViewData:this.currentViewData.records:this.groupSettings.enableLazyLoading?this.currentViewData:this.allowGrouping&&this.groupSettings.columns.length&&this.currentViewData.length&&this.currentViewData.records?this.currentViewData.records:this.currentViewData}mouseClickHandler(e){if(this.isChildGrid(e)||Ce(e.target,"e-gridpopup")&&e.touches||this.element.getElementsByClassName("e-cloneproperties").length||this.checkEdit(e)||(!this.allowRowDragAndDrop&&(Ce(e.target,ar)||"TD"===e.target.tagName)||!this.allowGrouping&&!this.allowReordering&&Ce(e.target,"e-gridheader"))&&e.touches)return;Ce(e.target,"e-gridheader")&&this.allowRowDragAndDrop&&!Ce(e.target,"e-filterbarcell")&&e.preventDefault();const t=this.getRowInfo(e.target);t.cancel=!1;let n=!1;const s=D(e.target,"tr");if(s&&s.getAttribute("data-uid")){const o=this.getRowObjectFromUID(s.getAttribute("data-uid"));n=!!o&&o.isDataRow}n&&this.trigger("recordClick",t),this.notify(kl,e)}checkEdit(e){const t=Ce(e.target,Oi),i="Batch"!==this.editSettings.mode&&this.isEdit&&t&&(t.classList.contains(al)||t.classList.contains(va));return!Ce(e.target,"e-unboundcelldiv")&&(i||Ce(e.target,Ii)&&Ce(e.target,Ii).classList.contains("e-editedbatchcell"))}dblClickHandler(e){const t=Ce(e.target,"e-grid");if(h(t)||t.id!==this.element.id||D(e.target,".e-unboundcelldiv"))return;let i=!1;const n=D(e.target,"tr");if(n&&n.getAttribute("data-uid")){const o=this.getRowObjectFromUID(n.getAttribute("data-uid"));i=!!o&&o.isDataRow}const s=this.getRowInfo(e.target);s.target=e.target,i&&this.trigger("recordDoubleClick",s),this.notify(P1,e)}focusOutHandler(e){if(this.isChildGrid(e))return;Ce(e.target,"e-grid")||(this.element.querySelector(".e-gridpopup").style.display="None");const t=this.element.querySelector(".e-cancel:not(.e-hide)");t&&t.classList.add("e-hide");const i=e.relatedTarget,n=i?i.getAttribute("aria-owns"):null;(!i||!Ce(i,"e-grid")&&(!h(n)&&n)!==e.target.getAttribute("aria-owns"))&&!this.keyPress&&this.isEdit&&!A.isDevice&&("Batch"===this.editSettings.mode&&!((Ce(i,"e-ddl")||Ce(i,"e-ddt"))&&Ce(i,"e-input-group"))&&(this.editModule.saveCell(),this.notify(ME,{})),"Normal"===this.editSettings.mode&&this.editModule.editFormValidate()),this.keyPress=!1}isChildGrid(e){const t=Ce(e.target,"e-grid");return!!(t&&t.id!==this.element.id||Ce(e.target,"e-unboundcelldiv")&&h(t))}mergePersistGridData(e){const t=this.getLocalData();if(!h(t)&&""!==t||!h(e)){const i=h(e)?JSON.parse(t):e;this.enableVirtualization&&(i.pageSettings.currentPage=1);const n=Object.keys(i);this.isProtectedOnChange=!0;for(const s of n)"object"!=typeof this[s]||h(this[s])?this[s]=i[s]:Array.isArray(this[s])&&"columns"===s?(eT(this[s]),this.mergeColumns(i[s],this[s]),this[s]=i[s]):O(this[s],i[s]);this.isProtectedOnChange=!1}}mergeColumns(e,t){const i=e;for(let n=0;n<i.length;n++){const s=t.filter(o=>o.index===i[n].index)[0];h(s)||(s.columns&&s.columns.length?(this.mergeColumns(i[n].columns,s.columns),i[n]=O(s,i[n],{},!0)):i[n]=O(s,i[n],{},!0))}}isDetail(){return!h(this.detailTemplate)||!h(this.childGrid)}isCommandColumn(e){return e.some(t=>t.columns?this.isCommandColumn(t.columns):!(!t.commands&&!t.commandsTemplate))}isForeignKeyEnabled(e){return e.some(t=>t.columns?this.isForeignKeyEnabled(t.columns):!(!t.dataSource||!t.foreignKeyValue))}keyPressHandler(e){const t=O(e,{cancel:!1});this.trigger("keyPressed",t),!0===t.cancel&&e.stopImmediatePropagation()}keyDownHandler(e){e.altKey&&(74===e.keyCode&&(this.keyA?(this.notify(k5,{target:e.target,collapse:!1}),this.keyA=!1):(this.focusModule.focusHeader(),this.focusModule.addOutline())),87===e.keyCode&&(this.focusModule.focusContent(),this.focusModule.addOutline()),65===e.keyCode&&(this.keyA=!0),72===e.keyCode&&this.keyA&&(this.notify(k5,{target:e.target,collapse:!0}),this.keyA=!1)),13===e.keyCode&&this.notify(zE,e)}keyActionHandler(e){this.isChildGrid(e)||this.isEdit&&"escape"!==e.action&&"enter"!==e.action&&"shiftEnter"!==e.action&&"tab"!==e.action&&"shiftTab"!==e.action||(this.keyPress=!0,this.allowKeyboard&&("ctrlPlusP"===e.action&&(e.preventDefault(),this.print()),this.notify(lr,e)))}setInjectedModules(e){this.injectedModules=e}updateColumnObject(){zx(this.columns,this.enableColumnVirtualization,this),eT(this.columns),this.initForeignColumn(),this.notify(k0,{})}getForeignKeyColumns(){return this.getColumns().filter(e=>e.isForeignColumn())}getRowHeight(){return this.rowHeight?this.rowHeight:function Nke(r){if(void 0!==Q1)return Q1;const e=Xe("table",{className:Tn,styles:"visibility: hidden",attrs:{role:"grid"}});e.innerHTML='<tr><td class="e-rowcell">A<td></tr>',r.appendChild(e);const t=e.querySelector("td").getBoundingClientRect();return r.removeChild(e),Q1=Math.ceil(t.height),Q1}(this.element)}refreshColumns(){this.setFrozenCount();const e=this.getContent().querySelector(".e-frozen-left-content"),t=this.getContent().querySelector(".e-frozen-right-content"),i=!this.frozenRightCount&&!this.frozenLeftCount;if(0===this.getFrozenColumns()&&(!e&&this.frozenLeftCount||!t&&this.frozenRightCount||e&&!this.frozenLeftCount||t&&!this.frozenRightCount))this.tableIndex=0,this.tablesCount=1,this.enableColumnVirtualization&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.freezeRefresh();else if(i&&(1===this.getFrozenColumns()&&!e||0===this.getFrozenColumns()&&e))this.tableIndex=0,this.tablesCount=1,this.enableColumnVirtualization&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.freezeRefresh();else if(this.isPreventScrollEvent=!0,this.updateColumnObject(),this.checkLockColumns(this.getColumns()),this.refresh(),this.isFrozenGrid()){const s=this.contentModule.getMovableContent().querySelector("."+Tn);X(s.querySelector(ni));const o=this.getHeaderContent().querySelector("."+un).querySelector(ni).cloneNode(!0);if(s.insertBefore(o,s.querySelector(Ke)),"Left-Right"===this.getFrozenMode()){const l=this.contentModule.getFrozenRightContent().querySelector("."+Tn);X(l.querySelector(ni));const a=this.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(ni).cloneNode(!0);l.insertBefore(a,l.querySelector(Ke))}}if(this.isFrozenGrid()){const s=this.getContent().querySelector(".e-movablescrollbar").scrollLeft;this.headerModule.getMovableHeader().scrollLeft=s,this.contentModule.getMovableContent().scrollLeft=s}}excelExport(e,t,i,n){return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!1,n):null}csvExport(e,t,i,n){return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!0,n):null}pdfExport(e,t,i,n){return this.pdfExportModule?this.pdfExportModule.Map(this,e,t,i,n):null}groupColumn(e){this.groupModule&&this.groupModule.groupColumn(e)}groupExpandAll(){this.groupModule&&this.groupModule.expandAll()}groupCollapseAll(){this.groupModule&&this.groupModule.collapseAll()}clearGrouping(){this.groupModule&&this.groupModule.clearGrouping()}ungroupColumn(e){this.groupModule&&this.groupModule.ungroupColumn(e)}openColumnChooser(e,t){this.columnChooserModule&&this.columnChooserModule.openColumnChooser(e,t)}scrollRefresh(){const e=()=>{this.scrollModule.refresh(),this.off(Is,e)};this.on(Is,e,this)}detailCollapseAll(){this.detailRowModule&&this.detailRowModule.collapseAll()}detailExpandAll(){this.detailRowModule&&this.detailRowModule.expandAll()}clearCellSelection(){this.selectionModule&&this.selectionModule.clearCellSelection()}clearRowSelection(){this.selectionModule&&this.selectionModule.clearRowSelection()}selectCells(e){this.selectionModule&&this.selectionModule.selectCells(e)}selectRowsByRange(e,t){this.selectionModule&&this.selectionModule.selectRowsByRange(e,t)}isContextMenuOpen(){return this.contextMenuModule&&this.contextMenuModule.isOpen}ensureModuleInjected(e){return this.getInjectedModules().indexOf(e)>=0}destroyTemplate(e,t){this.clearTemplate(e,t)}log(e,t){this.loggerModule&&this.loggerModule.log(e,t)}applyBiggerTheme(e){this.element.classList.contains("e-bigger")&&e.classList.add("e-bigger")}getPreviousRowData(){return this.getRowsObject()[this.getRows().length-1].data}hideScroll(){const e=this.getContent().querySelector("."+Ls),t=this.getContent().querySelector(".e-scrollbar");if(e.scrollHeight<=e.clientHeight&&(this.scrollModule.removePadding(),e.style.overflowY="auto"),this.isFrozenGrid()&&t){const i=this.getContent().querySelector(".e-movablescrollbar"),n=this.getContent().querySelector(".e-movablechild");t.style.display="flex",i.offsetWidth>=n.offsetWidth&&(t.style.display="none",this.notify(N1,0))}}getRowIndexByPrimaryKey(e){const t=this.getPrimaryKeyFieldNames()[0];e="object"==typeof e?e[t]:e;const i=this.getRowsObject();for(let n=0;n<i.length;n++){if(i[n].isDetailRow||i[n].isCaptionRow)continue;let s=i[n].data[t];if(t.split(".").length>1&&(s=g4(t,i[n].data)),s===e)return i[n].index}return-1}grabColumnByFieldFromAllCols(e){let t;this.columnModel=[],this.updateColumnModel(this.columns);const i=this.columnModel;for(let n=0;n<i.length;n++)e===i[n].field&&(t=i[n]);return t}grabColumnByUidFromAllCols(e){let t;this.columnModel=[],this.updateColumnModel(this.columns);const i=this.columnModel;for(let n=0;n<i.length;n++)e===i[n].uid&&(t=i[n]);return t}getFilteredRecords(){if(this.allowFiltering&&this.filterSettings.columns.length){const e=this.renderModule.data.generateQuery(!0);return this.dataSource&&this.renderModule.data.isRemote()&&this.dataSource instanceof ie?this.renderModule.data.getData(this.dataSource,e):this.dataSource instanceof ie?this.dataSource.executeLocal(e):new ie(this.dataSource,e).executeLocal(e)}return[]}getUserAgent(){const e=A.userAgent.toLowerCase();return/iphone|ipod|ipad/.test(e)}tapEvent(e){this.getUserAgent()&&(Gd.timer?(clearTimeout(Gd.timer),Gd.timer=null,this.dblClickHandler(e),this.notify(h5,e)):Gd.timer=setTimeout(()=>{Gd.timer=null},300))}getRowUid(e){return`${e}${this.rowUid++}`}getMovableVirtualContent(){return this.getContent().querySelector("."+hn)}getFrozenVirtualContent(){return this.getContent().querySelector("."+hd)}getMovableVirtualHeader(){return this.getHeaderContent().querySelector("."+un)}getFrozenVirtualHeader(){return this.getHeaderContent().querySelector("."+Fh)}getRowElementByUID(e){let t,i=[];if(this.isFrozenGrid()){const n=[].slice.call(this.getFrozenVirtualContent().querySelector(Ke).children),s=[].slice.call(this.getMovableVirtualContent().querySelector(Ke).children);let o=[];if(3===this.tablesCount&&(o=[].slice.call(this.getContent().querySelector(".e-frozen-right-content").querySelector(Ke).children)),this.frozenRows){if(i=[].slice.call(this.getFrozenVirtualHeader().querySelector(Ke).children),i=i.concat([].slice.call(this.getMovableVirtualHeader().querySelector(Ke).children)),3===this.tablesCount){const l=this.getHeaderContent().querySelector(".e-frozen-right-header");i=i.concat([].slice.call(l.querySelector(Ke).children)).concat(o)}i=i.concat(n).concat(s)}else i=n.concat(s).concat(o)}else{const n=[].slice.call(this.getContent().querySelector(Ke).children);this.frozenRows?(i=[].slice.call(this.getHeaderContent().querySelector(Ke).children),i=i.concat(n)):i=n}for(const n of i)if(n.getAttribute("data-uid")===e){t=n;break}return t}getHiddenColumns(){const e=[];for(const t of this.columnModel)!1===t.visible&&e.push(t);return e}calculatePageSizeByParentHeight(e){if(this.allowPaging&&(this.allowTextWrap&&"Header"===this.textWrapSettings.wrapMode||!this.allowTextWrap)){let t=0;if(-1!==e.indexOf("%")&&(e=parseInt(e,10)/100*this.element.clientHeight),e>this.getNoncontentHeight()+this.getRowHeight()){let n=0;n=e-this.getNoncontentHeight(),t=n/this.getRowHeight()}if(t>0)return Math.floor(t)}return 0}getNoncontentHeight(){let e=0;if(h(this.getHeaderContent().clientHeight)||(e+=this.getHeaderContent().clientHeight),this.toolbar&&!h(this.element.querySelector(".e-toolbar").clientHeight)&&(e+=this.element.querySelector(".e-toolbar").clientHeight),this.allowPaging&&!h(this.element.querySelector(".e-gridpager").clientHeight)&&(e+=this.element.querySelector(".e-gridpager").clientHeight),this.showColumnChooser&&!h(this.element.querySelector(".e-columnheader").clientHeight)&&(e+=this.element.querySelector(".e-columnheader").clientHeight),this.allowGrouping&&this.groupSettings.showDropArea&&!h(this.element.querySelector(".e-groupdroparea").clientHeight)&&(e+=this.element.querySelector(".e-groupdroparea").clientHeight),this.aggregates.length>0&&!h(this.element.querySelector(".e-summaryrow").clientHeight))for(let t=0;t<this.element.getElementsByClassName("e-summaryrow").length;t++)e+=this.element.getElementsByClassName("e-summaryrow")[t].clientHeight;return e}getSummaryValues(e,t){return Ie.aggregates[e.type.toLowerCase()](t,e.field)}serverExcelExport(e){this.isExcel=!0,this.exportGrid(e)}serverPdfExport(e){this.isExcel=!1,this.exportGrid(e)}serverCsvExport(e){this.isExcel=!0,this.exportGrid(e)}exportGrid(e){const i=this.getDataModule().generateQuery(!0),n=(new ca).processQuery(new ie({url:""}),i),s=JSON.parse(n.data),o=JSON.parse(this.addOnPersist(["allowGrouping","allowPaging","pageSettings","sortSettings","allowPdfExport","allowExcelExport","aggregates","filterSettings","groupSettings","columns","locale","searchSettings"]));o.filterSettings.columns=s.where,o.searchSettings.fields=s.search&&s.search[0].fields||[],o.sortSettings.columns=s.sorted,o.columns=this.setHeaderText(o.columns,["field","headerText","type","format","visible","foreignKeyValue","foreignKeyField","template","index","width","textAlign","headerTextAlign","columns"]);const a=this.createElement("form",{id:"ExportForm",styles:"display:none;"}),c=this.createElement("input",{id:"gridInput",attrs:{name:"gridModel"}});c.value=JSON.stringify(o),a.method="POST",a.action=e,a.appendChild(c),document.body.appendChild(a),a.submit(),a.remove()}setHeaderText(e,t){for(let i=0;i<e.length;i++){const n=this.getColumnByUid(e[i].uid);e[i].headerText=n.headerText,h(n.template)||(e[i].template="true"),e[i].format&&(e[i].format=Zke(this.getFormat(e[i].format),e[i].type,this.isExcel)),e[i].columns&&this.setHeaderText(e[i].columns,t);const s=Object.keys(e[i]);for(let o=0;o<s.length;o++)t.indexOf(s[o])<0&&delete e[i][s[o]]}return e}getFormat(e){return"object"==typeof e?h(e.format)?e.skeleton:e.format:e}isCollapseStateEnabled(){return!1===this.isExpanded}updateRowValue(e,t){const i={requestType:"save",data:t};this.showSpinner(),this.notify(L1,i),this.refresh()}setForeignKeyData(){this.dataBind();const e=this.getDataModule().getForeignKeyDataState();e.isPending?(this.getDataModule().setForeignKeyDataState({}),e.resolver()):(this.getDataModule().setForeignKeyDataState({isDataChanged:!1}),(this.contentModule||this.headerModule)&&this.renderModule.render())}resetFilterDlgPosition(e){const t=this.getColumnHeaderByField(e);if(t){const i=t.querySelector(".e-filtermenudiv"),n=this.element.querySelector(".e-filter-popup");if(i&&n){const s=this.element.getBoundingClientRect(),o=i.getBoundingClientRect();n&&(n.style.left=n.offsetWidth+o.right>s.right?(o.right-n.offsetWidth-s.left).toString()+"px":(o.right-s.left).toString()+"px")}}}renderTemplates(){this.notify("reactTemplateRender",this.portals),this.renderReactTemplates()}batchUpdate(e){this.processRowChanges(e)}batchAsyncUpdate(e){this.processBulkRowChanges(e)}processBulkRowChanges(e){if(this.dataToBeUpdated){const t=[Mu,"changedRecords",Hf],i=this.getPrimaryKeyFieldNames()[0];for(let n=0;n<t.length;n++)e[t[n]]&&Yke(this,e,t[n],i)}else this.dataToBeUpdated=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e),setTimeout(()=>{this.processRowChanges(this.dataToBeUpdated),this.dataToBeUpdated=null},this.asyncTimeOut)}processRowChanges(e){const t=this.getPrimaryKeyFieldNames()[0];e=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e);const i=this.getDataModule().saveChanges(e,t,{},this.getDataModule().generateQuery().requiresCount());this.getDataModule().isRemote()?i.then(()=>{this.setNewData()}):this.setNewData()}setNewData(){const e=JSON.parse(JSON.stringify(this.getCurrentViewRecords()));this.getDataModule().getData({},this.getDataModule().generateQuery().requiresCount()).then(i=>{this.bulkRefresh(i.result,e,i.count)})}deleteRowElement(e){const t=this.getRowElementByUID(e.uid),i=parseInt(t.getAttribute(Zt),10);X(t),this.getFrozenColumns()&&X(this.getMovableRows()[i])}bulkRefresh(e,t,i){const n=this.getRowsObject(),s=this.getPrimaryKeyFieldNames()[0];for(let l=0;l<n.length;l++)e.filter(a=>a[s]===n[l].data[s]).length||(this.deleteRowElement(n[l]),n.splice(l,1),l--);for(let l=0;l<e.length;l++){let a;t.filter(c=>{c[s]===e[l][s]&&(c!==e[l]&&this.setRowData(e[l][s],e[l]),a=!0)}),a||this.renderRowElement(e[l],l)}this.currentViewData=e;const o=[].slice.call(this.getContentTable().getElementsByClassName(Oi));$f(this,this.getRowsObject(),o),function jx(r){if(r.isFrozenGrid()){r.contentModule.rowElements=[].slice.call(r.element.querySelectorAll(".e-movableheader .e-row, .e-movablecontent .e-row"));const e=r.getFrozenMode()===Lt?".e-frozen-left-header .e-row, .e-frozen-left-content .e-row":".e-frozenheader .e-row, .e-frozencontent .e-row";r.contentModule.freezeRowElements=[].slice.call(r.element.querySelectorAll(e)),r.getFrozenMode()===Lt&&(r.contentModule.frozenRightRowElements=[].slice.call(r.element.querySelectorAll(".e-frozen-right-header .e-row, .e-frozen-right-content .e-row")))}else r.contentModule.rowElements=[].slice.call(r.element.querySelectorAll(".e-row:not(.e-addedrow)"))}(this),this.allowPaging&&this.notify(ll,{module:"pager",properties:{totalRecordsCount:i}})}renderRowElement(e,t){const i=new ya(this.serviceLocator,null,this),s=new Ph(this).generateRows([e]),o=i.render(s[0],this.getColumns());let l,a;this.addRowObject(s[0],t);let c=this.getContentTable().querySelector(Ke);if(c.querySelector(".e-emptyrow")){const d=c.querySelector(".e-emptyrow");if(d.parentNode.removeChild(d),this.getFrozenColumns()){const u=this.getContent().querySelector("."+hn).querySelector(Ke);u.firstElementChild.parentNode.removeChild(u.firstElementChild)}}this.getFrozenColumns()&&(l=nT(o,this.getFrozenColumns(),this),a=this.frozenRows&&t<this.frozenRows?this.getHeaderContent().querySelector("."+un).querySelector(Ke):this.getContent().querySelector("."+hn).querySelector(Ke),a.appendChild(l),"auto"===this.height&&this.notify(N1,{})),c=this.frozenRows&&t<this.frozenRows?this.getHeaderContent().querySelector(Ke):this.getContent().querySelector(Ke),c=this.getContent().querySelector(Ke),c.appendChild(o)}addRowObject(e,t){const i=this.getFrozenColumns();if(i){const n=this.getMovableRowsObject(),s=e.clone();s.cells=s.cells.slice(i),e.cells=e.cells.slice(0,i),n.splice(t,1,s)}this.getRowsObject().splice(t,1,e)}updateVisibleExpandCollapseRows(){const e=this.getRowsObject();for(let t=0,i=e.length;t<i;t++)e[t].visible=!e[t].isDataRow&&!e[t].isAggregateRow||"none"!==this.getRowElementByUID(e[t].uid).style.display}getHeight(e){return Number.isInteger(e)||-1===e.indexOf("%")?Number.isInteger(e)||"auto"===this.height?this.height:parseInt(e,10):parseInt(e,10)/100*this.element.clientHeight}getFrozenRightContent(){return this.getContent().querySelector(".e-frozen-right-content")}getFrozenRightHeader(){return this.getHeaderContent().querySelector(".e-frozen-right-header")}getMovableHeaderTbody(){return this.getMovableVirtualHeader().querySelector(Ke)}getMovableContentTbody(){return this.getMovableVirtualContent().querySelector(Ke)}getFrozenHeaderTbody(){return this.getFrozenVirtualHeader().querySelector(Ke)}getFrozenLeftContentTbody(){return this.getFrozenVirtualContent().querySelector(Ke)}getFrozenRightHeaderTbody(){return this.getFrozenRightHeader().querySelector(Ke)}getFrozenRightContentTbody(){let t;return this.getFrozenRightContent()&&(t=this.getFrozenRightContent().querySelector(Ke)),t}showResponsiveCustomFilter(e){this.filterModule&&this.filterModule.showCustomFilter(e||"Vertical"===this.rowRenderingMode)}showResponsiveCustomSort(e){this.sortModule&&this.sortModule.showCustomSort(e||"Vertical"===this.rowRenderingMode)}showAdaptiveFilterDialog(){this.enableAdaptiveUI&&this.showResponsiveCustomFilter(!0)}showAdaptiveSortDialog(){this.enableAdaptiveUI&&this.showResponsiveCustomSort(!0)}getCurrentVisibleColumns(e){const t=[],i=e?this.getColumns():this.columnModel;for(const n of i)n.visible&&t.push(n);return t}enableInfiniteAggrgate(){this.enableInfiniteScrolling&&this.groupSettings.columns.length&&!this.groupSettings.disablePageWiseAggregates&&this.setProperties({groupSettings:{disablePageWiseAggregates:!0}},!0)}};ue([y()],Oe.prototype,"parentDetails",void 0),ue([y([])],Oe.prototype,"columns",void 0),ue([y(!0)],Oe.prototype,"enableAltRow",void 0),ue([y(!0)],Oe.prototype,"enableHover",void 0),ue([y(!1)],Oe.prototype,"enableAutoFill",void 0),ue([y(!0)],Oe.prototype,"allowKeyboard",void 0),ue([y(!1)],Oe.prototype,"enableStickyHeader",void 0),ue([y(!1)],Oe.prototype,"allowTextWrap",void 0),ue([gi({},hX)],Oe.prototype,"textWrapSettings",void 0),ue([gi({},uX)],Oe.prototype,"resizeSettings",void 0),ue([y(!1)],Oe.prototype,"allowPaging",void 0),ue([gi({},zf)],Oe.prototype,"pageSettings",void 0),ue([y(!1)],Oe.prototype,"enableVirtualization",void 0),ue([y(!1)],Oe.prototype,"enableColumnVirtualization",void 0),ue([y(!1)],Oe.prototype,"enableInfiniteScrolling",void 0),ue([gi({},Hx)],Oe.prototype,"searchSettings",void 0),ue([y(!1)],Oe.prototype,"allowSorting",void 0),ue([y("Ellipsis")],Oe.prototype,"clipMode",void 0),ue([y(!0)],Oe.prototype,"allowMultiSorting",void 0),ue([y(!1)],Oe.prototype,"allowExcelExport",void 0),ue([y(!1)],Oe.prototype,"allowPdfExport",void 0),ue([gi({},e4)],Oe.prototype,"sortSettings",void 0),ue([gi({},XE)],Oe.prototype,"infiniteScrollSettings",void 0),ue([y(!0)],Oe.prototype,"allowSelection",void 0),ue([y(-1)],Oe.prototype,"selectedRowIndex",void 0),ue([gi({},Dp)],Oe.prototype,"selectionSettings",void 0),ue([y(!1)],Oe.prototype,"allowFiltering",void 0),ue([y("Horizontal")],Oe.prototype,"rowRenderingMode",void 0),ue([y(!1)],Oe.prototype,"enableAdaptiveUI",void 0),ue([y(!1)],Oe.prototype,"allowReordering",void 0),ue([y(!1)],Oe.prototype,"allowResizing",void 0),ue([y(!1)],Oe.prototype,"allowRowDragAndDrop",void 0),ue([gi({},t4)],Oe.prototype,"rowDropSettings",void 0),ue([gi({},Ip)],Oe.prototype,"filterSettings",void 0),ue([y(!1)],Oe.prototype,"allowGrouping",void 0),ue([y(!1)],Oe.prototype,"enableImmutableMode",void 0),ue([y(!1)],Oe.prototype,"showColumnMenu",void 0),ue([gi({},Ep)],Oe.prototype,"groupSettings",void 0),ue([gi({},pd)],Oe.prototype,"editSettings",void 0),ue([Hr([],cX)],Oe.prototype,"aggregates",void 0),ue([y(!1)],Oe.prototype,"showColumnChooser",void 0),ue([gi({},J5)],Oe.prototype,"columnChooserSettings",void 0),ue([y(!1)],Oe.prototype,"enableHeaderFocus",void 0),ue([y("auto")],Oe.prototype,"height",void 0),ue([y("auto")],Oe.prototype,"width",void 0),ue([y("Default")],Oe.prototype,"gridLines",void 0),ue([y()],Oe.prototype,"rowTemplate",void 0),ue([y()],Oe.prototype,"detailTemplate",void 0),ue([y()],Oe.prototype,"childGrid",void 0),ue([y()],Oe.prototype,"queryString",void 0),ue([y("AllPages")],Oe.prototype,"printMode",void 0),ue([y("Expanded")],Oe.prototype,"hierarchyPrintMode",void 0),ue([y([])],Oe.prototype,"dataSource",void 0),ue([y(null)],Oe.prototype,"rowHeight",void 0),ue([y()],Oe.prototype,"query",void 0),ue([y("USD")],Oe.prototype,"currencyCode",void 0),ue([y()],Oe.prototype,"toolbar",void 0),ue([y()],Oe.prototype,"contextMenuItems",void 0),ue([y()],Oe.prototype,"columnMenuItems",void 0),ue([y()],Oe.prototype,"toolbarTemplate",void 0),ue([y()],Oe.prototype,"pagerTemplate",void 0),ue([y(0)],Oe.prototype,"frozenRows",void 0),ue([y(0)],Oe.prototype,"frozenColumns",void 0),ue([y("")],Oe.prototype,"cssClass",void 0),ue([y("All")],Oe.prototype,"columnQueryMode",void 0),ue([y({})],Oe.prototype,"currentAction",void 0),ue([y("20.1.60")],Oe.prototype,"ej2StatePersistenceVersion",void 0),ue([E()],Oe.prototype,"created",void 0),ue([E()],Oe.prototype,"destroyed",void 0),ue([E()],Oe.prototype,"load",void 0),ue([E()],Oe.prototype,"rowDataBound",void 0),ue([E()],Oe.prototype,"queryCellInfo",void 0),ue([E()],Oe.prototype,"headerCellInfo",void 0),ue([E()],Oe.prototype,"actionBegin",void 0),ue([E()],Oe.prototype,"actionComplete",void 0),ue([E()],Oe.prototype,"actionFailure",void 0),ue([E()],Oe.prototype,"dataBound",void 0),ue([E()],Oe.prototype,"recordDoubleClick",void 0),ue([E()],Oe.prototype,"recordClick",void 0),ue([E()],Oe.prototype,"rowSelecting",void 0),ue([E()],Oe.prototype,"rowSelected",void 0),ue([E()],Oe.prototype,"rowDeselecting",void 0),ue([E()],Oe.prototype,"rowDeselected",void 0),ue([E()],Oe.prototype,"cellSelecting",void 0),ue([E()],Oe.prototype,"cellSelected",void 0),ue([E()],Oe.prototype,"cellDeselecting",void 0),ue([E()],Oe.prototype,"cellDeselected",void 0),ue([E()],Oe.prototype,"columnSelecting",void 0),ue([E()],Oe.prototype,"columnSelected",void 0),ue([E()],Oe.prototype,"columnDeselecting",void 0),ue([E()],Oe.prototype,"columnDeselected",void 0),ue([E()],Oe.prototype,"columnDragStart",void 0),ue([E()],Oe.prototype,"columnDrag",void 0),ue([E()],Oe.prototype,"columnDrop",void 0),ue([E()],Oe.prototype,"printComplete",void 0),ue([E()],Oe.prototype,"beforePrint",void 0),ue([E()],Oe.prototype,"pdfQueryCellInfo",void 0),ue([E()],Oe.prototype,"pdfHeaderQueryCellInfo",void 0),ue([E()],Oe.prototype,"pdfAggregateQueryCellInfo",void 0),ue([E()],Oe.prototype,"excelAggregateQueryCellInfo",void 0),ue([E()],Oe.prototype,"exportDetailDataBound",void 0),ue([E()],Oe.prototype,"excelQueryCellInfo",void 0),ue([E()],Oe.prototype,"excelHeaderQueryCellInfo",void 0),ue([E()],Oe.prototype,"beforeExcelExport",void 0),ue([E()],Oe.prototype,"excelExportComplete",void 0),ue([E()],Oe.prototype,"beforePdfExport",void 0),ue([E()],Oe.prototype,"pdfExportComplete",void 0),ue([E()],Oe.prototype,"rowDragStartHelper",void 0),ue([E()],Oe.prototype,"detailDataBound",void 0),ue([E()],Oe.prototype,"rowDragStart",void 0),ue([E()],Oe.prototype,"rowDrag",void 0),ue([E()],Oe.prototype,"rowDrop",void 0),ue([E()],Oe.prototype,"toolbarClick",void 0),ue([E()],Oe.prototype,"beforeOpenColumnChooser",void 0),ue([E()],Oe.prototype,"beforeOpenAdaptiveDialog",void 0),ue([E()],Oe.prototype,"batchAdd",void 0),ue([E()],Oe.prototype,"batchDelete",void 0),ue([E()],Oe.prototype,"batchCancel",void 0),ue([E()],Oe.prototype,"beforeBatchAdd",void 0),ue([E()],Oe.prototype,"beforeBatchDelete",void 0),ue([E()],Oe.prototype,"beforeBatchSave",void 0),ue([E()],Oe.prototype,"beginEdit",void 0),ue([E()],Oe.prototype,"commandClick",void 0),ue([E()],Oe.prototype,"cellEdit",void 0),ue([E()],Oe.prototype,"cellSave",void 0),ue([E()],Oe.prototype,"cellSaved",void 0),ue([E()],Oe.prototype,"resizeStart",void 0),ue([E()],Oe.prototype,"resizing",void 0),ue([E()],Oe.prototype,"resizeStop",void 0),ue([E()],Oe.prototype,"keyPressed",void 0),ue([E()],Oe.prototype,"beforeDataBound",void 0),ue([E()],Oe.prototype,"contextMenuOpen",void 0),ue([E()],Oe.prototype,"contextMenuClick",void 0),ue([E()],Oe.prototype,"columnMenuOpen",void 0),ue([E()],Oe.prototype,"columnMenuClick",void 0),ue([E()],Oe.prototype,"checkBoxChange",void 0),ue([E()],Oe.prototype,"beforeCopy",void 0),ue([E()],Oe.prototype,"beforePaste",void 0),ue([E()],Oe.prototype,"beforeAutoFill",void 0),ue([E()],Oe.prototype,"columnDataStateChange",void 0),ue([E()],Oe.prototype,"dataStateChange",void 0),ue([E()],Oe.prototype,"dataSourceChanged",void 0),ue([E()],Oe.prototype,"exportGroupCaption",void 0),ue([E()],Oe.prototype,"lazyLoadGroupExpand",void 0),ue([E()],Oe.prototype,"lazyLoadGroupCollapse",void 0),Oe=Z5=ue([Pi],Oe);class JE{constructor(e,t){this.isAsyncPrint=!1,this.defered=new Ss,this.parent=e,!this.parent.isDestroyed&&(this.parent.on(Is,this.isContentReady(),this),this.actionBeginFunction=this.actionBegin.bind(this),this.parent.addEventListener(Pn,this.actionBeginFunction),this.parent.on(Mh,this.onEmpty.bind(this)),this.parent.on(v5,this.hierarchyPrint,this),this.scrollModule=t)}isContentReady(){return!this.isPrintGrid()||"None"!==this.parent.hierarchyPrintMode&&this.parent.childGrid?()=>{this.defered.promise.then(()=>{this.contentReady()}),this.isPrintGrid()&&this.hierarchyPrint()}:this.contentReady}hierarchyPrint(){this.removeColGroup(this.parent);const e=window.printGridObj;e&&!e.element.querySelector("[aria-busy=true")&&e.printModule.defered.resolve()}print(){this.renderPrintGrid()}onEmpty(){this.isPrintGrid()&&this.contentReady()}actionBegin(){this.isPrintGrid()&&(this.isAsyncPrint=!0)}renderPrintGrid(){const e=this.parent,t=Xe("div",{id:this.parent.element.id+"_print",className:e.element.className+" e-print-grid"});t.classList.remove("e-gridhover"),document.body.appendChild(t);const i=new Oe(rT(e,e.hierarchyPrintMode));for(let o=0;o<i.columns.length;o++)i.columns[o]=O({},i.columns[o]),e.isFrozenGrid()&&!e.getFrozenColumns()&&(i.columns[o].freeze=void 0);this.parent.isAngular&&(i.viewContainerRef=this.parent.viewContainerRef),i.load=()=>{},i.query=e.getQuery().clone(),window.printGridObj=i,i.isPrinting=!0;const n=i.getInjectedModules(),s=e.getInjectedModules();(!n||n.length!==s.length)&&i.setInjectedModules(s),e.notify("printGrid-Init",{element:t,printgrid:i}),this.parent.log("exporting_begin",this.getModuleName()),i.registeredTemplate=this.parent.registeredTemplate,i.isVue=this.parent.isVue,i.appendTo(t),i.trigger=e.trigger}contentReady(){if(this.isPrintGrid()){const e=this.parent;if(this.isAsyncPrint)return void this.printGrid();const t={requestType:"print",element:e.element,selectedRows:e.getContentTable().querySelectorAll('tr[aria-selected="true"]'),cancel:!1,hierarchyPrintMode:e.hierarchyPrintMode};if(this.isAsyncPrint||e.trigger(cQ,t),t.cancel)return void de(e.element);this.isAsyncPrint||this.printGrid()}}printGrid(){const e=this.parent;if("auto"!==e.height){const n=this.scrollModule.getCssProperties(),s=e.element.querySelector("."+Ls),o=e.element.querySelector("."+br);s.style.height="auto",s.style.overflowY="auto",o.style[n.padding]="",o.firstElementChild.style[n.border]=""}e.allowGrouping&&(e.groupSettings.columns.length?this.removeColGroup(e):e.element.querySelector(".e-groupdroparea").style.display="none");for(const n of[].slice.call(e.element.getElementsByClassName(Ls)))n.style.overflowX="hidden";const t=[].slice.call(e.element.getElementsByClassName("e-spin-show"));for(const n of[].slice.call(t))ze(n,["e-spin-hide"],["e-spin-show"]);this.printGridElement(e),e.isPrinting=!1,delete window.printGridObj,e.trigger(dQ,{element:e.element}),e.destroy(),this.parent.log("exporting_complete",this.getModuleName())}printGridElement(e){ze(e.element,["e-print-grid-layout"],["e-print-grid"]),e.isPrinting&&de(e.element),this.printWind=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWind.moveTo(0,0),this.printWind.resizeTo(screen.availWidth,screen.availHeight),this.printWind=KG(e.element,this.printWind)}removeColGroup(e){const t=e.groupSettings.columns.length,i=e.element,n="#"+e.element.id;if(!t)return;const s=gt(".e-groupcaption",i),o=s[t-1].getAttribute("colspan");for(let c=0;c<s.length;c++)s[c].setAttribute("colspan",o);const l=gt(`colgroup${n}colgroup`,i),a=gt(".e-content colgroup",i);this.hideColGroup(l,t),this.hideColGroup(a,t)}hideColGroup(e,t){for(let i=0;i<e.length;i++)for(let n=0;n<t;n++)e[i].children[n].style.display="none"}isPrintGrid(){return this.parent.element.id.indexOf("_print")>0&&this.parent.isPrinting}destroy(){this.parent.isDestroyed||(this.parent.off(Is,this.contentReady.bind(this)),this.parent.removeEventListener(Pn,this.actionBeginFunction),this.parent.off(Mh,this.onEmpty.bind(this)),this.parent.off(v5,this.hierarchyPrint))}getModuleName(){return"print"}}function pX(r,e,t){return h(r)||""===r?"":Ie.getObject(r,e)}function gX(r,e){requestAnimationFrame(()=>{try{e(null,r())}catch(t){e(t)}})}function Tp(r,e){const t=[];for(let i=0,n=r.length;i<n;i++){const s=e(r[i],i);h(s)||t.push(s)}return t}function K1(r){const e=[];for(let t=0;t<r.length;t++)e.push(O({},Fs(r[t]),{},!0));return e}function Jl(r){if(r)try{return document.querySelectorAll(r).length?ci(document.querySelector(r).innerHTML.trim()):ci(r)}catch(e){return ci(r)}}function Fu(r,e){const t={},i=["style","class"];O(t,e,{}),"style"in t&&(lt(r,t[i[0]]),delete t[i[0]]),"class"in t&&(_([r],t[i[1]]),delete t[i[1]]),Le(r,t)}function jf(r,e,t,i){const n=O(r,e,t),s=Object.keys(n);for(let o=0;o<s.length;o++)i&&-1!==i.indexOf(s[o])&&delete n[s[o]];return n}function eT(r,e=0){for(let t=0,i=r.length;t<i;t++)r[t].columns?(r[t].index=h(r[t].index)?e:r[t].index,e++,e=eT(r[t].columns,e)):(r[t].index=h(r[t].index)?e:r[t].index,e++);return e}function zx(r,e,t){for(let i=0,n=r.length;i<n;i++){let s;"string"==typeof r[i]?s=new Fc({field:r[i]},t):r[i]instanceof Fc&&!r[i].columns?s=r[i]:r[i].columns?(r[i].columns=zx(r[i].columns,null,t),s=new Fc(r[i],t)):s=new Fc(r[i],t),s.type&&"checkbox"===s.type.toLowerCase()&&(s.allowReordering=!1),s.headerText=h(s.headerText)?s.foreignKeyValue||s.field||"":s.headerText,s.foreignKeyField=s.foreignKeyField||s.field,s.valueAccessor=("string"==typeof s.valueAccessor?M(s.valueAccessor,window):s.valueAccessor)||pX,s.width=e&&h(s.width)?200:s.width,h(s.visible)&&(s.visible=!0),r[i]=s}return r}function vX(r,e,t){const i=r.querySelector("span"),n=r.parentElement.getBoundingClientRect(),s=e.target.getBoundingClientRect();i.className=t,r.style.display="";const o=(h(e.clientY)?e.changedTouches[0].clientY:e.clientY)>r.offsetHeight+10;r.style.top=s.top-n.top+(o?-(r.offsetHeight+10):r.offsetHeight+10)+"px",r.style.left=function Lke(r,e,t,i){const n=r.offsetWidth/2,s=Gf(e).x;return s-t.left<n?t.left-i:t.right-s<n?t.right-i-2*n:s-i-n}(r,e,s,n.left)+"px",o?(r.querySelector(".e-downtail").style.display="",r.querySelector(".e-uptail").style.display="none"):(r.querySelector(".e-downtail").style.display="none",r.querySelector(".e-uptail").style.display="")}function Fs(r){return r instanceof Nt?M("properties",r):r}function Ce(r,e,t){let i=r;for(;i&&!(t?i.id===e:i.classList.contains(e));)i=i.parentElement;return i}function s4(r){const e=[];for(let t=0,i=r.length;t<i;t++)r[t].hasOwnProperty("properties")?e.push(r[t].properties):e.push(r[t]);return e}function Gf(r){const e={};return e.x=h(r.clientX)?r.changedTouches[0].clientX:r.clientX,e.y=h(r.clientY)?r.changedTouches[0].clientY:r.clientY,e}JE.printGridProp=["aggregates","allowGrouping","allowFiltering","allowMultiSorting","allowReordering","allowSorting","allowTextWrap","childGrid","columns","currentViewData","dataSource","detailTemplate","enableAltRow","enableColumnVirtualization","filterSettings","gridLines","groupSettings","height","locale","pageSettings","printMode","query","queryString","enableRtl","rowHeight","rowTemplate","sortSettings","textWrapSettings","allowPaging","hierarchyPrintMode","searchSettings","queryCellInfo","beforeDataBound",cQ,dQ,"load"];let Oke=0;function Ca(r){return r+Oke++}function Ur(r,e){for(let t=0,i=e.length;t<i;t++)r.appendChild(i===e.length?e[t]:e[0]);return r}function o4(r,e,t,i){if("Custom"===r){let n=t.customAggregate;return"string"==typeof n&&(n=M(n,window)),n?n.call(i,e,t):""}return t.field in e||e instanceof Array?Ie.aggregates[r.toLowerCase()](e,t.field):null}let Q1,l4=null;function qf(){if(null!==l4)return l4;const r=document.createElement("div");let e=0;return r.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(r),e=r.offsetWidth-r.clientWidth|0,document.body.removeChild(r),l4=e}function Rp(r){return r.split(".").length>1}function mo(r=""){return r.replace(/\./g,"___")}function tT(r=""){return r.replace(/___/g,".")}function kp(r,e,t){const i=Ce(t,Oi),n=!i||i&&!i.classList.contains("e-insertedrow");return"beginEdit"===e&&n?!(r.isIdentity||r.isPrimaryKey||!r.allowEditing):!("add"===e&&r.isIdentity||n&&!r.allowEditing&&!r.isIdentity&&!r.isPrimaryKey)}function Pu(r){const e=G("#"+r.element.id+"EditConfirm",r.element);return"Batch"===r.editSettings.mode&&gt(".e-updatedtd",r.element).length&&r.editSettings.showConfirmDialog&&(!e||e.classList.contains("e-popup-close"))}function Lc(r,e){const t="e-wrap";r=r instanceof Array?r:[r];for(let i=0;i<r.length;i++)e?r[i].classList.add(t):r[i].classList.remove(t)}function yX(r,e){const t=r.getService("valueFormatter");let n;switch(("date"===e.type||"datetime"===e.type)&&(n={type:e.type,skeleton:e.format},"string"==typeof e.format&&"yMd"!==e.format&&(n.format=e.format)),e.type){case"date":case"datetime":e.setFormatter(t.getFormatFunction(n)),e.setParser(t.getParserFunction(n));break;case"number":e.setFormatter(t.getFormatFunction({format:e.format})),e.setParser(t.getParserFunction({format:e.format}))}}function jd(r,e,...t){for(let i=0,n=r.length;i<n;i++)e?(ze(r[i],[...t],[]),r[i].setAttribute("aria-selected","true")):(ze(r[i],[],[...t]),r[i].removeAttribute("aria-selected"))}function xX(r,e){const t=e.element.style.display;e.element.style.display="block";const i=e.width,n=Ym(r,e.element);e.element.style.display=t,e.element.style.top=n.top+r.getBoundingClientRect().height-5+"px";const s=n.left-i+r.clientWidth;e.element.style.left=s<1?i+s-16+"px":s+-4+"px"}function CX(r,e){r.popup.element.style.zIndex=(e.zIndex+1).toString()}function N0(r,e){r.checked=e}function a4(r,e,t){const i=Xe("div",{className:t});return i.appendChild(e),i.setAttribute("uid",r),i}function X1(r,e){T([r],["e-check","e-stop","e-uncheck"]),r.classList.add(e?"e-check":"e-uncheck")}function iT(r,e,t){for(let n=0;n<e.length;n++)Ne(e[n].field,Wf(e[n],t),r.foreignKeyData);const i=r.cells;for(let n=0;n<i.length;n++)i[n].isForeignKey&&Ne("foreignKeyData",M(i[n].column.field,r.foreignKeyData),i[n])}function Wf(r,e,t,i){const n=r.foreignKeyField;let s=h(t)?pX(r.field,e):t;s=h(s)?"":s;const o=new Ze,l=i||(r.dataSource instanceof ie&&r.dataSource.dataSource.json.length?r.dataSource.dataSource.json:r.columnData);return s.getDay?o.where(Uf({field:n,operator:"equal",value:s,matchCase:!1})):o.where(n,"==",s,!1),new ie(l).executeLocal(o)}function J1(r,e){let t;return e.some(i=>(t=i,i.foreignKeyValue===r))&&t}function Uf(r,e){let t,i,n;const s=O({},Fs(r)),o=O({},Fs(r));if(h(r.value)||""===r.value)return t=new qt(s.field,s.operator,s.value,!1),t;const l=new Date(r.value);if("equal"===r.operator||"notequal"===r.operator){"datetime"===e?(i=new Date(l.setSeconds(l.getSeconds()-1)),n=new Date(l.setSeconds(l.getSeconds()+2)),r.value=new Date(l.setSeconds(n.getSeconds()-1))):(i=new Date(l.setHours(0)-1),n=new Date(l.setHours(24))),s.value=i,o.value=n,"equal"===r.operator?(s.operator="greaterthan",o.operator="lessthan"):"notequal"===r.operator&&(s.operator="lessthanorequal",o.operator="greaterthanorequal");const a=new qt(s.field,s.operator,s.value,!1),c=new qt(o.field,o.operator,o.value,!1);t="equal"===r.operator?a.and(c):a.or(c)}else"date"===e&&("lessthanorequal"===r.operator||"greaterthan"===r.operator)&&(s.value=new Date(l.setHours(24)-1)),"string"==typeof s.value&&(s.value=new Date(s.value)),t=new qt(s.field,s.operator,s.value,!1);return r.setProperties?r.setProperties({ejpredicate:t},!0):r.ejpredicate=t,t}function nT(r,e,t){e=e&&t&&t.isRowDragable()?e+1:e;const i=r.cloneNode(!0);for(let n=0;n<e;n++)i.removeChild(i.children[0]);for(let n=e,s=r.childElementCount;n<s;n++)r.removeChild(r.children[r.childElementCount-1]);return i}function dr(r){return r.enableVirtualization&&r.groupSettings.columns.length>0&&r.isVirtualAdaptive}function Mt(r="",e){if(r){let t=e;const i=r.split(".");for(let n=0;n<i.length&&!h(t);n++)t=t[i[n]];return t}}function sT(r,e){let i;const n="format",s="type";return i=(new Nn).getDatePattern("date"===e?"object"==typeof r?{type:r[s]?r[s]:"date",format:r[n]}:{type:"dateTime",skeleton:r}:"object"==typeof r?{type:r[s]?r[s]:"dateTime",format:r[n]}:{type:"dateTime",skeleton:r},!1),i}function rT(r,e="Expanded"){const t={};if(!r)return t;const i=r.isFrozenGrid()&&!r.getFrozenColumns();for(const n of JE.printGridProp)t[n]="columns"===n?s4(i?r.getColumns():r[n]):"allowPaging"===n?"CurrentPage"===r.printMode:Fs(r[n]);return t.enableHover=!1,r.childGrid&&"None"!==e&&(t.expandedRows=function zke(r,e){const t=r.getRowsObject(),i={};for(const n of t)if(n.isExpand&&!n.isDetailRow){const s=r.allowPaging&&"AllPages"===r.printMode?n.index+r.pageSettings.currentPage*r.pageSettings.pageSize-r.pageSettings.pageSize:n.index;i[s]={},i[s].isExpand=!0,i[s].gridModel=rT(n.childGrid,e),i[s].gridModel.query=r.childGrid.query}return i}(r,e)),t}function oT(r,e,t,i){const n=r||{};let s=arguments.length;i&&(s-=1);for(let o=1;o<s;o++){if(!arguments[o])continue;const l=arguments[o],a=Object.keys(Object.getPrototypeOf(l)).length?Object.keys(l).concat(jke(l)):Object.keys(l);for(let c=0;c<a.length;c++){const d=n[a[c]],u=l[a[c]];let p;i&&(td(u)||Array.isArray(u))?td(u)?(p=d||{},n[a[c]]=O({},p,u,i)):(p=d||[],n[a[c]]=O([],p,u,i)):n[a[c]]=u}}return n}function jke(r){let e=[];for(;Object.getPrototypeOf(r)&&Object.keys(Object.getPrototypeOf(r)).length;)e=e.concat(Object.keys(Object.getPrototypeOf(r))),r=Object.getPrototypeOf(r);return e}function bX(r,e){let t=e;const i=[];if(r.columns){e++;for(let n=0;n<r.columns.length;n++)i[n]=bX(r.columns[n],e);for(let n=0;n<i.length;n++)t<i[n]&&(t=i[n]);e=t}return e}var Gd=(()=>((Gd||(Gd={})).timer=null,Gd))();function Z1(r,e){r.classList.contains("e-bigger")&&e.classList.add("e-bigger")}function aT(r,e){if(r&&e){const t=D(r,"."+Oi).getBoundingClientRect().height,i=D(e,"."+Oi).getBoundingClientRect().height;t>i?e.style.height=t+"px":r.style.height=i+"px"}}function c4(r,e){const t=r.getPrimaryKeyFieldNames()[0];let i;return r.getCurrentViewRecords().filter((n,s)=>{n[t]===e[t]&&(i=s)}),i}function d4(r,e){const t=function Kke(r){const e=new ca,t=new ie({url:"",adaptor:new ca}),i=e.processQuery(t,r);return JSON.parse(i.data)}(e),i=new Ss;return t.dataSource=i.resolve,t.action=r,{state:t,deffered:i}}function h4(r){const e=r.getVisibleColumns();let t=0,i=0;for(let n=0;n<e.length;n++)Et(e[n].width)?i++:-1!==e[n].width.toString().indexOf("%")&&t++;return("auto"===r.width||"string"==typeof r.width&&-1!==r.width.indexOf("%"))&&!r.groupSettings.showGroupedColumn&&r.groupSettings.columns.length&&t&&!i}function $f(r,e,t,i,n){let s=i||0;for(let o=n||0;o<e.length;o++)if(e[o].isDataRow){e[o].index=s,e[o].isAltRow=!!r.enableAltRow&&s%2!=0,t[o].setAttribute(Zt,s.toString()),e[o].isAltRow?t[o].classList.add("e-altrow"):t[o].classList.remove("e-altrow");for(let l=0;l<t[o].cells.length;l++)t[o].cells[l].setAttribute("index",s.toString());s++}e.length||r.renderModule.emptyRow(!0)}function Yke(r,e,t,i){const n=r.dataToBeUpdated[t].concat(e[t]).reduce((s,o)=>(s[o[i]]=void 0===s[o[i]]?o:Object.assign(s[o[i]],o),s),{});r.dataToBeUpdated[t]=Object.keys(n).map(s=>n[s])}function cT(r,e,t){const i=r.getFrozenLeftCount(),n=r.getMovableColumnsCount(),s=r.getFrozenRightColumnsCount(),o=r.getFrozenMode(),l=r.isRowDragable()?1:0,a="Right"===o?i+n:i+n+l,c="Right"===o?i:i+l,d="Right"===o?e.length-s-l:s?e.length-s:e.length;return t===Os?e=e.slice(0,i?i+l:e.length):t===Ln?e=e.slice(a,e.length):"movable"===t&&(e=e.slice(c,d)),e}function Kf(r,e,t,i,n){(t[0].length||i)&&(n?e(Os,t[0],n[0]):e(Os,t[0])),r.isFrozenGrid()&&(t[1].length||i)&&(n?e("movable",t[1],n[1]):e("movable",t[1])),(r.getFrozenMode()===Lt||"Right"===r.getFrozenMode())&&(t[2].length||i)&&(n?e(Ln,t[2],n[2]):e(Ln,t[2]))}function dT(r){return["Right"!==r.getFrozenMode()?r.getRowsObject():[],r.getMovableRowsObject(),r.getFrozenRightRowsObject()]}function u4(r,e,t){const n=r.children.length;let s=0;for(let o=0;o<n;o++,s++)o>=e&&o<t||(r.removeChild(r.children[s]),s--)}function _X(r,e,t){return"movable"===e.getFreezeTableName()?[].slice.call(r.getMovableDataRows()[t].getElementsByClassName(Ii)):e.getFreezeTableName()===Ln?[].slice.call(r.getFrozenRightDataRows()[t].getElementsByClassName(Ii)):[].slice.call(r.getDataRows()[t].getElementsByClassName(Ii))}function p4(r,e,t,i){const n=r.getFrozenLeftCount(),s=r.getMovableColumnsCount();return i="movable"===e.getFreezeTableName()?i-n:e.getFreezeTableName()===Ln?i-(n+s):i,_X(r,e,t)[i]}function SX(r,e,t,i,n,s,o){o||r.getFreezeTableName()===Os||!e&&r.getFreezeTableName()===Ln||1===s?t[mo(r.field)]=r.validationRules:"movable"!==r.getFreezeTableName()&&r.getFreezeTableName()?r.getFreezeTableName()===Ln&&(n[mo(r.field)]=r.validationRules):i[mo(r.field)]=r.validationRules}function Zke(r,e,t){let i;const n=new Nn;if("number"===e)try{i=n.getNumberPattern({format:r,currency:this.currency,useGrouping:!0},!0)}catch(s){i=r}else if("date"===e||"time"===e||"datetime"===e)try{if(i=n.getDatePattern({skeleton:r,type:e},t),h(i))throw"error"}catch(s){try{i=n.getDatePattern({format:r,type:e},t)}catch(o){i=r}}else i=r;if("number"!==e){const o={G:"",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};i=i.replace(/G|H|c|'| a|yy|y|EEEE|E/g,l=>o[l])}return i}function DX(r){if(r.enableAdaptiveUI){const e=document.getElementsByClassName("e-responsive-dialog");for(let t=0;t<e.length;t++)e[t].classList.add("e-bigger")}}function g4(r,e){let t;const i=r.split(".").length,n=r.split(".");let s=e;for(let o=0;o<i;o++)t=s[n[o]],s=t;return t}function vo(r,e,t,i){for(const n of e)t?r.on(n.event,n.handler,i):r.off(n.event,n.handler)}function e_(r,e,t,i){const n=mo(e.field);return i=Object.assign(i,{id:r.element.id+n,name:n,"e-mappinguid":e.uid}),r.createElement("input",{className:t,attrs:i})}function eAe(r,e){let t;for(const i of r.columnModel)if(i.uid===e){t=i;break}return t}function TX(r,e){let t;r.columnModel||r.getColumns();for(const i of r.columnModel)if(i.field===e){t=i;break}return t}function RX(r,e,t,i){i.eventHandlers[r]={};for(let n=0;n<e.length;n++)i.eventHandlers[r][e[n]]=t[e[n]]}function kX(r,e,t){for(let i=0;i<e.length&&!r.isDestroyed;i++)r.removeEventListener(e[i],t.eventHandlers[r.element.id][e[i]])}function t_(r,e){r.destroyTemplate(e),r.isReact&&r.renderTemplates()}class Zl{constructor(e){this.existingPredicate={},this.foreignKeyQuery=new Ze,this.filterState=!0,this.values={},this.renderEmpty=!1,this.isCheckboxFilterTemplate=!1,this.parent=e,this.id=this.parent.element.id,this.valueFormatter=new E0(this.parent.locale),this.cBoxTrue=tl(this.parent.createElement,!1,{checked:!0,label:" "}),this.cBoxFalse=tl(this.parent.createElement,!1,{checked:!1,label:" "}),this.cBoxTrue.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxTrue.firstChild),this.cBoxFalse.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxFalse.firstChild),this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"),this.parent.enableRtl&&_([this.cBoxTrue,this.cBoxFalse],["e-rtl"])}destroy(){this.closeDialog()}wireEvents(){C.add(this.dlg,"click",this.clickHandler,this),C.add(this.dlg,"keyup",this.keyupHandler,this),this.searchHandler=Xp(this.searchBoxKeyUp,200);const e=this.dialogObj.element.querySelector(".e-searchinput");e&&C.add(e,"keyup",this.searchHandler,this)}unWireEvents(){C.remove(this.dlg,"click",this.clickHandler),C.remove(this.dlg,"keyup",this.keyupHandler);const e=this.dialogObj.element.querySelector(".e-searchinput");e&&C.remove(e,"keyup",this.searchHandler)}foreignKeyFilter(e,t,i){const n={},s=[],o=this.foreignKeyQuery.clone();this.options.column.dataSource.executeQuery(o.where(i)).then(l=>{this.options.column.columnData=l.result,this.parent.notify(Fx,{predicate:n,column:this.options.column}),e.ejpredicate=n.predicate.predicates;const a=n.predicate.predicates;for(let c=0;c<a.length;c++)s.push({field:a[c].field,predicate:"or",matchCase:a[c].ignoreCase,ignoreAccent:a[c].ignoreAccent,operator:a[c].operator,value:a[c].value,type:this.options.type});e.filterCollection=s.length?s:t.filter(c=>c.field=this.options.field),this.options.handler(e)})}foreignFilter(e,t){const n=new qt(this.options.column.foreignKeyValue,this.options.isRemote?"string"===this.options.column.type?"contains":"equal":this.options.column.type?"contains":"equal",t,!0,this.options.ignoreAccent);this.foreignKeyFilter(e,[e.filterCollection],n)}searchBoxClick(e){e.target.classList.contains("e-searchclear")&&(this.sInput.value="",this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon(),this.sInput.focus())}searchBoxKeyUp(e){this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon()}updateSearchIcon(){this.sInput.value.length?ze(this.sIcon,["e-chkcancel-icon"],["e-search-icon"]):ze(this.sIcon,["e-search-icon"],["e-chkcancel-icon"])}getLocalizedLabel(e){return this.localeObj.getConstant(e)}updateDataSource(){const e=this.options.dataSource;if(!(e instanceof ie))for(let i=0;i<e.length;i++)if("object"!=typeof e){const n={};n[this.options.field]=e[i],e[i]=n}}updateModel(e){this.options=e,this.existingPredicate=e.actualPredicate||{},this.options.dataSource=e.dataSource,this.options.dataManager=e.dataManager?e.dataManager:e.dataSource,this.updateDataSource(),this.options.type=e.type,this.options.format=e.format||"",this.options.ignoreAccent=e.ignoreAccent||!1,this.options.filteredColumns=e.filteredColumns||this.parent.filterSettings.columns,this.options.query=e.query||new Ze,this.options.allowCaseSensitive=e.allowCaseSensitive||!1,this.options.uid=e.column.uid,this.values={},this.localeObj=e.localeObj,this.isFiltered=e.filteredColumns.length}getAndSetChkElem(e){if(this.dlg=this.parent.createElement("div",{id:this.id+this.options.type+"_excelDlg",attrs:{uid:this.options.column.uid},className:"e-checkboxfilter e-filter-popup"}),this.sBox=this.parent.createElement("div",{className:"e-searchcontainer"}),!e.hideSearchbox){this.sInput=this.parent.createElement("input",{id:this.id+"_SearchBox",className:"e-searchinput"}),this.sIcon=this.parent.createElement("span",{className:"e-searchclear e-search-icon e-icons e-input-group-icon",attrs:{type:"text",title:this.getLocalizedLabel("Search")}}),this.searchBox=this.parent.createElement("span",{className:"e-searchbox e-fields"}),this.searchBox.appendChild(this.sInput),this.sBox.appendChild(this.searchBox);const t={element:this.sInput,floatLabelType:"Never",properties:{placeholder:this.getLocalizedLabel("Search")}};ke.createInput(t,this.parent.createElement),this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)}return this.spinner=this.parent.createElement("div",{className:"e-spinner"}),this.cBox=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxList",className:"e-checkboxlist e-fields"}),this.spinner.appendChild(this.cBox),this.sBox.appendChild(this.spinner),this.sBox}showDialog(e){const t={requestType:fQ,columnName:this.options.field,columnType:this.options.type,cancel:!1};t.filterModel=this,this.parent.notify(C5,t),t.cancel?e.cancel=t.cancel:(this.dialogObj=new qi({visible:!1,content:this.sBox,close:this.closeDialog.bind(this),enableRtl:this.parent.enableRtl,width:!h(Ce(e.target,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:255,target:this.parent.element,animationSettings:{effect:"None"},buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton"),cssClass:this.parent.cssClass?"e-primary "+this.parent.cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:this.parent.cssClass?"e-flat "+this.parent.cssClass:"e-flat",content:this.getLocalizedLabel(this.isExcel?"CancelButton":"ClearButton")}}],created:this.dialogCreated.bind(this),open:this.dialogOpen.bind(this),cssClass:this.parent.cssClass?this.parent.cssClass:""}),this.dialogObj.isStringTemplate=!0,this.renderResponsiveFilter(e),this.dlg.setAttribute("aria-label",this.getLocalizedLabel("ExcelFilterDialogARIA")),e.isResponsiveFilter?document.querySelector(".e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv").appendChild(this.dlg):this.parent.element.appendChild(this.dlg),this.dialogObj.appendTo(this.dlg),this.dialogObj.element.style.maxHeight=e.isResponsiveFilter?"none":this.options.height+"px",this.dialogObj.show(),this.dialogObj.element.querySelector(".e-dlg-content").appendChild(this.sBox),this.wireEvents(),bc({target:this.spinner},this.parent.createElement),Go(this.spinner),this.getAllData())}renderResponsiveFilter(e){e.isResponsiveFilter&&(this.dialogObj.buttons=[{}],this.dialogObj.position={X:"",Y:""},this.dialogObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv"),this.dialogObj.width="100%")}dialogCreated(e){this.options.isResponsiveFilter?this.dialogObj.element.style.left="0px":A.isDevice?this.dialogObj.position={X:"center",Y:"center"}:xX(this.options.target,this.dialogObj),this.options.column.showColumnMenu&&this.parent.notify(O1,e)}openDialog(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e)}closeDialog(){if(this.dialogObj&&!this.dialogObj.isDestroyed){this.isBlanks=!1;const e=this.options.columns.filter(i=>i.getFilterItemTemplate()),t=this.parent.registeredTemplate;e.length&&!h(t)&&t.filterItemTemplate&&this.parent.destroyTemplate(["filterItemTemplate"]),(this.parent.isReact||this.parent.isVue)&&void 0!==this.parent.destroyTemplate&&t_(this.parent,["filterItemTemplate"]),this.parent.notify(dd,{field:this.options.field}),this.dialogObj.destroy(),this.unWireEvents(),X(this.dlg),this.dlg=null,this.parent.notify(VE,{})}}clearFilter(e){const t={instance:this,handler:this.clearFilter,cancel:!1};this.parent.notify(H1,t),!t.cancel&&this.options.handler({action:"clear-filter",field:e?e.field:this.options.field})}btnClick(e){if(this.filterState){if("input"===e.target.tagName.toLowerCase()&&e.target.classList.contains("e-searchinput")||13===e.keyCode)this.isCheckboxFilterTemplate||this.fltrBtnHandler();else{const t=e.target.firstChild.textContent.toLowerCase();this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton").toLowerCase()===t?this.isCheckboxFilterTemplate||this.fltrBtnHandler():this.getLocalizedLabel("ClearButton").toLowerCase()===t&&this.clearFilter()}this.closeDialog()}else"input"!==e.target.tagName.toLowerCase()&&(this.clearFilter(),this.closeDialog());this.options.column.showColumnMenu&&this.parent.notify(qE,{})}fltrBtnHandler(){let e=[].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall)"));const t=e;let i="equal";const n=this.dialogObj.element.querySelector(".e-dropdownlist");let s;n&&(this.options.operator=i=n.ej2_instances[0].value),this.isMenuNotEqual="notequal"===this.options.operator,this.options.hideSearchbox||(s=this.searchBox.querySelector(".e-searchinput"));const l={field:this.options.field,predicate:this.isMenuNotEqual?"and":"or",uid:this.options.uid,operator:i,type:this.options.type,matchCase:this.options.allowCaseSensitive,ignoreAccent:this.options.ignoreAccent},a=this.itemsCnt!==e.length&&this.itemsCnt-e.length<e.length;a&&s&&""===s.value&&(i=this.isMenuNotEqual?"equal":"notequal",e=[].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")),l.predicate=this.isMenuNotEqual?"or":"and",l.operator=i);let c,d,u,p,g=[];if(e.length!==this.itemsCnt||s&&s.value&&""!==s.value){for(let f=0;f<e.length;f++){c=this.values[Ce(e[f],"e-ftrchk").getAttribute("uid")],p=O({},{value:c},l),c&&!c.toString().length&&(p.operator=a?"notequal":"equal"),""===c||h(c)?g=g.concat(Zl.generateNullValuePredicates(l)):g.push(p);const m={instance:this,handler:this.fltrBtnHandler,arg1:p.field,arg2:p.predicate,arg3:p.operator,arg4:p.matchCase,arg5:p.ignoreAccent,arg6:p.value,cancel:!1};if(this.parent.notify(H1,m),m.cancel)return}("date"===this.options.type||"datetime"===this.options.type)&&(u=t.length-1,d=this.values[Ce(t[u],"e-ftrchk").getAttribute("uid")],h(d)&&a&&g.push({field:l.field,matchCase:l.matchCase,operator:"equal",predicate:"and",value:null})),this.initiateFilter(g)}else this.options.filteredColumns.some(m=>this.options.field===m.field)&&this.clearFilter()}static generateNullValuePredicates(e){const t=[];return"string"===e.type&&t.push({field:e.field,ignoreAccent:e.ignoreAccent,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:""}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:null}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:void 0}),t}initiateFilter(e){const t=e[0];let i;if(!h(t)){i=t.ejpredicate?t.ejpredicate:new qt(t.field,t.operator,t.value,!t.matchCase,t.ignoreAccent);for(let s=1;s<e.length;s++)i=void 0!==e[s].ejpredicate?i[e[s].predicate](e[s].ejpredicate):i[e[s].predicate](e[s].field,e[s].operator,e[s].value,!e[s].matchCase,e[s].ignoreAccent);const n={action:"filtering",filterCollection:e,field:this.options.field,ejpredicate:qt.or(i)};this.options.handler(n)}}isForeignColumn(e){return!!e.isForeignColumn&&e.isForeignColumn()}refreshCheckboxes(){const e=this.sInput.value,t=this.options.column,i=this.isForeignColumn(t)?this.foreignKeyQuery.clone():this.options.query.clone(),n=this.options.query.clone(),s=i.queries.filter(v=>v&&"onWhere"===v.fn)[0];i.queries=[],n.queries=[];let o="string"!==this.options.type&&parseFloat(e)?parseFloat(e):e,l=this.options.isRemote?"string"===this.options.type?"contains":"equal":this.options.type?"contains":"equal";const a=!0,c=this.options.ignoreAccent,d=this.isForeignColumn(t)?t.foreignKeyValue:t.field;o=""===o||void 0===o?void 0:o;let u=[];const p={field:d,predicate:"or",uid:this.options.uid,operator:"equal",type:this.options.type,matchCase:a,ignoreAccent:c};let g;const f=this.options.dataManager.adaptor.getModuleName;if("boolean"===this.options.type&&(void 0!==o&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(o.toLowerCase())?o="true":void 0!==o&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(o.toLowerCase())&&(o="false"),void 0!==o&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(o.toLowerCase())&&f?(f(),o=!0):void 0!==o&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(o.toLowerCase())&&f&&(f(),o=!1),l="equal"),("date"===this.options.type||"datetime"===this.options.type)&&this.options.format){const v=new Nn,x="string"==typeof this.options.format?this.options.format:this.options.format.format;o=x&&v.parseDate(e,{format:x})||new Date(e)}this.addDistinct(i),this.parent.trigger(Pn,{requestType:"filtersearchbegin",filterModel:this,columnName:d,column:t,operator:l,matchCase:a,ignoreAccent:c,filterChoiceCount:null,query:i,value:o},v=>{if(v.operator=v.operator,g=new qt(d,v.operator,o,v.matchCase,v.ignoreAccent),"date"===this.options.type||"datetime"===this.options.type){l="equal";const w={field:d,operator:l,value:o,matchCase:a,ignoreAccent:c};h(o)||(g=Uf(w,this.options.type))}if(e&&"string"==typeof e&&this.isBlanks&&this.getLocalizedLabel("Blanks").toLowerCase().indexOf(e.toLowerCase())>=0){u=u.concat(Zl.generateNullValuePredicates(p));const w=Zl.generatePredicate(u);w.predicates.push(g),i.where(w)}else e.length?(g=h(s)?g:g.and(s.e),i.where(g)):h(s)||i.where(s.e);v.filterChoiceCount=h(v.filterChoiceCount)?1e3:v.filterChoiceCount;const x={};Go(this.spinner),this.renderEmpty=!1,this.isForeignColumn(t)&&e.length?("result"in t.dataSource?new ie(t.dataSource.result):t.dataSource).executeQuery(i).then(b=>{const I=this.options.column.columnData;this.options.column.columnData=b.result,this.parent.notify(Fx,{predicate:x,column:t}),x.predicate.predicates.length?n.where(x.predicate):this.renderEmpty=!0,this.options.column.columnData=I,n.take(v.filterChoiceCount),this.search(v,n)}):(i.take(v.filterChoiceCount),this.search(v,i))})}search(e,t){this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(e,t):this.processSearch(t)}getPredicateFromCols(e){const t=Zl.getPredicate(e),i=[],n={},s=void 0!==this.parent.getForeignKeyColumns,o=s?this.parent.getForeignKeyColumns():[];for(const l of Object.keys(t)){let a;s&&!this.parent.getColumnByField(l)&&(a=J1(l,o)),a?(this.parent.notify(Fx,{predicate:n,column:a}),n.predicate.predicates.length&&i.push(qt.or(n.predicate.predicates))):i.push(t[l])}return i.length&&qt.and(i)}getQuery(){return this.parent.getQuery?this.parent.getQuery().clone():new Ze}getAllData(){this.customQuery=!1;const e=this.getQuery();e.requiresCount(),this.addDistinct(e);const t={requestType:pQ,query:e,filterChoiceCount:null};t.filterModel=this,this.parent.trigger(Pn,t,n=>{n.filterChoiceCount=h(n.filterChoiceCount)?1e3:n.filterChoiceCount,e.take(n.filterChoiceCount),n.query.distincts.length||(this.customQuery=!0,this.queryGenerate(e)),this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(n,e):this.processDataOperation(e,!0)})}addDistinct(e){let t=Ie.distinct(this.options.filteredColumns,"field");return t.indexOf(this.options.column.field)<=-1&&(t=t.concat(this.options.column.field)),e.distinct(t),e}filterEvent(e,t){const i=d4(e,t);this.parent.trigger(B1,i.state),i.deffered.promise.then(s=>{this.dataSuccess(s)})}processDataOperation(e,t){this.options.dataSource=this.options.dataSource instanceof ie?this.options.dataSource:new ie(this.options.dataSource);const i=[],n=[];if(this.isForeignColumn(this.options.column)&&t){const o="result"in this.options.column.dataSource?new ie(this.options.column.dataSource.result):this.options.column.dataSource;this.foreignKeyQuery.params=e.params,i.push(o.executeQuery(this.foreignKeyQuery)),n.push(l=>this.foreignKeyData=l)}i.push(this.options.dataSource.executeQuery(e)),n.push(this.dataSuccess.bind(this));let s=0;Promise.all(i).then(o=>{for(let l=0;l<o.length;l++)n[s++](o[l].result)})}dataSuccess(e){this.fullData=e;const t={dataSource:this.fullData,executeQuery:!0,field:this.options.field};if(this.parent.notify("beforeCheckboxRenderer",t),t.executeQuery){const o=new Ze;this.customQuery||this.queryGenerate(o);const l=new ie(t.dataSource).executeLocal(o);this.filteredData=Zl.getDistinct(l,this.options.field,this.options.column,this.foreignKeyData).records||[]}this.processDataSource(null,!0,t.executeQuery?this.filteredData:t.dataSource,t),this.sInput&&this.sInput.focus();const n={requestType:gQ,columnName:this.options.field,columnType:this.options.type};n.filterModel=this,this.parent.notify(Px,n),this.isCheckboxFilterTemplate&&qo(this.spinner)}queryGenerate(e){if(this.parent.searchSettings&&this.parent.searchSettings.key.length){const t=this.parent.searchSettings,i=t.fields.length?t.fields:this.options.columns.map(n=>n.field);e.search(t.key,i,t.operator,t.ignoreCase,t.ignoreAccent)}if(this.options.filteredColumns.length){const t=[];for(let n=0;n<this.options.filteredColumns.length;n++){const s=this.options.filteredColumns[n];this.options.uid?(s.uid=s.uid||this.parent.getColumnByField(s.field).uid,s.uid!==this.options.uid&&t.push(this.options.filteredColumns[n])):s.field!==this.options.field&&t.push(this.options.filteredColumns[n])}const i=this.getPredicateFromCols(t);i&&e.where(i)}}processDataSource(e,t,i,n){Go(this.spinner),this.updateResult();const s={dataSource:this.fullData,isCheckboxFilterTemplate:!1,column:this.options.column,element:this.cBox,type:this.options.type,format:this.options.type,btnObj:this.options.isResponsiveFilter?null:this.dialogObj.btnObj[0],searchBox:this.searchBox};this.parent.notify("beforeCheckboxfilterRenderer",s),this.isCheckboxFilterTemplate=s.isCheckboxFilterTemplate,this.isCheckboxFilterTemplate||this.createFilterItems(i,t,n)}processSearch(e){this.processDataOperation(e)}updateResult(){this.result={};const e=this.getPredicateFromCols(this.options.filteredColumns),t=new Ze;e&&t.where(e),this.parent.notify("before-checkbox-renderer-query",{query:t});const i=new ie(this.fullData).executeLocal(t);for(const n of i)this.result[Mt(this.options.field,n)]=!0}clickHandler(e){const t=e.target,i=Ce(t,"e-checkbox-wrapper");if(Ce(t,"e-searchbox")&&this.searchBoxClick(e),i&&!this.isCheckboxFilterTemplate){const n=i.querySelector(".e-selectall");n?this.updateAllCBoxes(!n.classList.contains("e-check")):function wX(r){const e=r.querySelector(".e-frame"),t=e.previousSibling;e.classList.contains("e-check")?(t.checked=!1,ze(e,["e-uncheck"],["e-check"])):(t.checked=!0,ze(e,["e-check"],["e-uncheck"]))}(i.parentElement),this.updateIndeterminatenBtn(),i.querySelector(".e-chk-hidden").focus()}this.setFocus(Ce(i,"e-ftrchk"))}keyupHandler(e){this.setFocus(Ce(e.target,"e-ftrchk"))}setFocus(e){const t=this.dlg.querySelector(".e-chkfocus");t&&t.classList.remove("e-chkfocus"),e&&e.classList.add("e-chkfocus")}updateAllCBoxes(e){const t=[].slice.call(this.cBox.getElementsByClassName("e-frame"));for(const i of t)X1(i,e),N0(i.previousSibling,e)}dialogOpen(){this.parent.element.classList.contains("e-device")&&(this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"),this.options.isResponsiveFilter||this.dialogObj.element.querySelector(".e-btn").focus())}createCheckbox(e,t,i){const n=t?this.cBoxTrue.cloneNode(!0):this.cBoxFalse.cloneNode(!0);N0(n.querySelector("input"),t);const s=n.querySelector(".e-label"),o=oT({},i,{column:this.options.column,parent:this.parent});return s.innerHTML=!h(e)&&e.toString().length?e:this.getLocalizedLabel("Blanks"),s.innerHTML===this.getLocalizedLabel("Blanks")&&(this.isBlanks=!0),"boolean"==typeof e&&(s.innerHTML=this.getLocalizedLabel(!0===e?"FilterTrue":"FilterFalse")),_([s],["e-checkboxfiltertext"]),this.options.template&&i[this.options.column.field]!==this.getLocalizedLabel("SelectAll")&&(s.innerHTML="",this.parent.isReact&&this.options.column.filter&&"string"!=typeof this.options.column.filter.itemTemplate?(this.options.template(o,this.parent,"filterItemTemplate",null,null,null,s),this.parent.renderTemplates()):Ur(s,this.options.template(o,this.parent,"filterItemTemplate"))),n}updateIndeterminatenBtn(){const e=this.cBox.children.length-1;let t=[],i=!1;const n=this.cBox.querySelector(".e-selectall"),s=this.cBox.querySelectorAll(".e-check:not(.e-selectall)").length;let o;this.options.isResponsiveFilter||(o=this.dialogObj.btnObj[0],o.disabled=!1);const l=n.previousSibling;N0(l,!1),l.indeterminate=!1,e===s?(t=["e-check"],N0(l,!0)):s?(t=["e-stop"],l.indeterminate=!0):(t=["e-uncheck"],i=!0,o&&(o.disabled=!0)),o&&(this.filterState=!o.disabled,o.dataBind()),T([n],["e-check","e-stop","e-uncheck"]),_([n],t),this.parent.notify(L5,{disabled:i})}createFilterItems(e,t,i){const n=this.parent.createElement("div");let s,o=!1;this.options.isResponsiveFilter||(s=this.dialogObj.btnObj[0]);let l=-1,a="ejValue";i.executeQuery||(a=i.field);for(let u=0;u<e.length;u++){const p=M(a,e[u]);(""===p||h(p))&&(l+=1)}if(this.itemsCnt=-1!==l?e.length-l:e.length,e.length&&!this.renderEmpty){const u=this.getLocalizedLabel("SelectAll"),p=this.cBox.querySelector(".e-checkfltrnmdiv");p&&p.classList.remove("e-checkfltrnmdiv");const g=this.createCheckbox(u,!1,{[this.options.field]:u}),f=a4(Ca("cbox"),g,"e-ftrchk");f.querySelector(".e-frame").classList.add("e-selectall"),n.appendChild(f);let m=new qt("field","equal",this.options.field);this.options.foreignKeyValue&&(m=m.or("field","equal",this.options.foreignKeyValue));const v=new ie(this.options.filteredColumns).executeLocal((new Ze).where(m)).length;let x;for(let w=0;w<e.length;w++){const b=Ca("cbox");this.values[b]=M(a,e[w]);let I=M(this.options.field,e[w]);this.options.formatFn&&(I=this.valueFormatter.toView(I,this.options.formatFn));const k={value:I,column:this.options.column,data:e[w]};if(this.parent.notify("filter-cbox-value",k),I=k.value,""===I||h(I)){if(x)continue;x=!0}const P=this.createCheckbox(I,this.getCheckedState(v,this.values[b]),M("dataObj",e[w]));n.appendChild(a4(b,P,"e-ftrchk"))}this.cBox.innerHTML="",Ur(this.cBox,[].slice.call(n.children)),this.updateIndeterminatenBtn(),s&&(s.disabled=!1),o=!1}else n.appendChild(this.parent.createElement("span",{innerHTML:this.getLocalizedLabel("NoResult")})),this.cBox.innerHTML="",this.cBox.appendChild(this.parent.createElement("div",{className:"e-checkfltrnmdiv"})),Ur(this.cBox.children[0],[].slice.call(n.children)),s&&(s.disabled=!0),o=!0;s&&(this.filterState=!s.disabled,s.dataBind());const c={requestType:pQ,dataSource:this.renderEmpty?[]:e};c.filterModel=this,this.parent.notify(Px,c),this.parent.notify(L5,{disabled:o}),qo(this.spinner)}getCheckedState(e,t){if(!this.isFiltered||!e)return!0;{const i=this.result[t];return"notequal"===this.options.operator?!i:i}}static getDistinct(e,t,i,n){let s=e.length;const o=[];let l;const c={},d=!(!i||!i.isForeignColumn)&&i.isForeignColumn();for(;s--;)if(l=e[s],l=Mt(t,l),!(l in c)){const u={};if(u.ejValue=l,c[l]=!0,d){const p=Wf(i,{},l,n)[0];Ne(AQ,p,e[s]),l=M(i.foreignKeyValue,p)}Ne(t,h(l)?null:l,u),Ne("dataObj",e[s],u),o.push(u)}return Ie.group(Ie.sort(o,t,Ie.fnAscending),"ejValue")}static getPredicate(e){const t=Ie.distinct(e,"field",!0)||[];let i=[];const n={};for(let s=0;s<t.length;s++)i=new ie(e).executeLocal((new Ze).where("field","equal",t[s].field)),0!==i.length&&(n[t[s].field]=Zl.generatePredicate(i));return n}static generatePredicate(e){const t=e?e.length:0;let i;const s=Zl.updateDateFilter(e[0]);s.ignoreAccent=!h(s.ignoreAccent)&&s.ignoreAccent,i="date"===s.type||"datetime"===s.type?Uf(s,s.type):s.ejpredicate?s.ejpredicate:new qt(s.field,s.operator,s.value,!Zl.getCaseValue(s),s.ignoreAccent);for(let o=1;o<t;o++)e[o]=Zl.updateDateFilter(e[o]),t>2&&o>1&&"or"===e[o].predicate?i.predicates.push("date"===e[o].type||"datetime"===e[o].type?Uf(e[o],e[o].type):new qt(e[o].field,e[o].operator,e[o].value,!Zl.getCaseValue(e[o]),e[o].ignoreAccent)):i="date"===e[o].type||"datetime"===e[o].type?"and"===e[o].predicate&&"equal"===e[o].operator?i.or(Uf(e[o],e[o].type),e[o].type,e[o].ignoreAccent):i[e[o].predicate](Uf(e[o],e[o].type),e[o].type,e[o].ignoreAccent):e[o].ejpredicate?i[e[o].predicate](e[o].ejpredicate):i[e[o].predicate](e[o].field,e[o].operator,e[o].value,!Zl.getCaseValue(e[o]),e[o].ignoreAccent);return i||null}static getCaseValue(e){return h(e.matchCase)?!("string"===e.type||h(e.type)&&"string"==typeof e.value):e.matchCase}static updateDateFilter(e){return("date"===e.type||"datetime"===e.type||e.value instanceof Date)&&(e.type=e.type||"date"),e}}class tAe extends Zl{constructor(e,t){super(e),this.childRefs=[],this.eventHandlers={},this.isDevice=!1,this.customFilterOperators=t,this.isExcel=!0}getCMenuDS(e,t){const i={number:["Equal","NotEqual","","LessThan","LessThanOrEqual","GreaterThan","GreaterThanOrEqual","Between","","CustomFilter"],string:["Equal","NotEqual","","StartsWith","EndsWith","","Contains","","CustomFilter"]};i.date=i.number,i.datetime=i.number;const n=[];for(let s=0;s<i[e].length;s++)n.push(i[e][s].length?t?{text:this.getLocalizedLabel(i[e][s])+"...",iconCss:"e-icons e-icon-check "+(t===i[e][s].toLowerCase()?"":"e-emptyicon")}:{text:this.getLocalizedLabel(i[e][s])+"..."}:{separator:!0});return n}destroy(){if(this.dlg&&(this.unwireExEvents(),super.closeDialog()),!this.isDevice&&this.menuObj){const e=this.menuObj.element.querySelector("li.e-focused");e&&Ce(e,"e-excel-menu")||this.destroyCMenu()}this.dlgObj&&!this.dlgObj.isDestroyed&&this.removeDialog()}createMenu(e,t,i,n){this.menu=this.parent.createElement("div",{className:"e-contextmenu-wrapper"}),this.parent.enableRtl?this.menu.classList.add("e-rtl"):this.menu.classList.remove("e-rtl");const o=this.parent.createElement("ul"),l=t?"e-excl-filter-icon e-filtered":"e-excl-filter-icon";if(this.parent.allowSorting&&"grid"===this.parent.getModuleName()&&!this.options.isResponsiveFilter){const a=this.parent.getColumnHeaderByUid(n.uid).getAttribute("aria-sort"),c=this.parent.getColumnByField(n.field).allowSorting,d=c&&"ascending"!==a?"e-excel-ascending":"e-disabled e-excel-ascending",u=c&&"descending"!==a?"e-excel-descending":"e-disabled e-excel-descending",p=this.getLocalizedLabel("string"===e?"SortAtoZ":"datetime"===e||"date"===e?"SortByOldest":"SortSmallestToLargest"),g=this.getLocalizedLabel("string"===e?"SortZtoA":"datetime"===e||"date"===e?"SortByNewest":"SortLargestToSmallest");o.appendChild(this.createMenuElem(p,d,"e-sortascending")),o.appendChild(this.createMenuElem(g,u,"e-sortdescending"));const f=this.parent.createElement("li",{className:"e-separator e-menu-item e-excel-separator"});o.appendChild(f)}this.options.isResponsiveFilter||o.appendChild(this.createMenuElem(this.getLocalizedLabel("ClearFilter"),t?"":"e-disabled",l)),"boolean"!==e&&o.appendChild(this.createMenuElem(this.getLocalizedLabel({string:"TextFilter",date:"DateFilter",datetime:"DateTimeFilter",number:"NumberFilter"}[e]),"e-submenu",i&&this.ensureTextFilter()?"e-icon-check":l+" e-emptyicon",!0)),this.menu.appendChild(o),this.parent.notify("before-filter-cmenu-open",{element:this.menu}),this.parent.notify(KQ,{isFiltered:t})}createMenuElem(e,t,i,n){const s=this.parent.createElement("li",{className:t+" e-menu-item"});return s.innerHTML=e,s.insertBefore(this.parent.createElement("span",{className:"e-menu-icon e-icons "+i}),s.firstChild),n&&s.appendChild(this.parent.createElement("span",{className:"e-icons e-caret"})),s}wireExEvents(){C.add(this.dlg,"mouseover",this.hoverHandler,this),C.add(this.dlg,"click",this.clickExHandler,this)}unwireExEvents(){C.remove(this.dlg,"mouseover",this.hoverHandler),C.remove(this.dlg,"click",this.clickExHandler)}clickExHandler(e){const i=Ce(e.target,"e-menu-item");i&&(this.getLocalizedLabel("ClearFilter")===i.innerText.trim()?(this.clearFilter(),this.closeDialog()):this.options.isResponsiveFilter&&this.getLocalizedLabel({string:"TextFilter",date:"DateFilter",datetime:"DateTimeFilter",number:"NumberFilter"}[this.options.type])===i.innerText.trim()&&this.hoverHandler(e))}destroyCMenu(){this.isCMenuOpen=!1,this.menuObj&&!this.menuObj.isDestroyed&&(this.menuObj.destroy(),X(this.cmenu),this.parent.notify(O5,{target:null,header:"",isOpen:!1,col:this.options.column}))}hoverHandler(e){if(this.options.isResponsiveFilter&&"mouseover"===e.type)return;const t=e.target.querySelector(".e-contextmenu"),i=Ce(e.target,"e-menu-item"),n=this.menu.querySelector(".e-focused");let s;if(n&&n.classList.remove("e-focused"),i&&(i.classList.add("e-focused"),s=i.classList.contains("e-submenu")),t)return;if(!s){const l=this.menu.querySelector(".e-submenu");h(l)||l.classList.remove("e-selected"),this.destroyCMenu()}const o=this.ensureTextFilter();if(!this.isCMenuOpen&&s){i.classList.add("e-selected"),this.isCMenuOpen=!0;const l={items:this.getCMenuDS(this.options.type,o?o.replace(/\s/g,""):void 0),select:this.selectHandler.bind(this),onClose:this.destroyCMenu.bind(this),enableRtl:this.parent.enableRtl,beforeClose:this.preventClose.bind(this),cssClass:this.options.isResponsiveFilter&&this.parent.cssClass?"e-res-contextmenu-wrapper "+this.parent.cssClass:this.options.isResponsiveFilter?"e-res-contextmenu-wrapper":this.parent.cssClass?this.parent.cssClass:""};this.parent.element.appendChild(this.cmenu),this.menuObj=new Za(l,this.cmenu);const a=this.menu.querySelector(".e-submenu").getBoundingClientRect(),c={top:0,left:0};if(this.options.isResponsiveFilter){const d={string:"TextFilter",date:"DateFilter",datetime:"DateTimeFilter",number:"NumberFilter"},p=document.querySelector(".e-responsive-dialog > .e-dlg-header-content").offsetHeight+4;this.menuObj.element.style.height="calc(100% - "+p+"px)",this.menuObj.open(p,0,document.body);const g=this.getLocalizedLabel(d[this.options.type]);this.parent.notify(O5,{target:this.menuObj.element.parentElement,header:g,isOpen:!0})}else{if(A.isDevice){this.isDevice=!0;const d=this.getContextBounds();c.top=(window.innerHeight-d.height)/2,c.left=(window.innerWidth-d.width)/2,this.closeDialog(),this.isDevice=!1}else c.top=A.isIE?window.pageYOffset+a.top:window.scrollY+a.top,c.left=this.getCMenuYPosition(this.dlg);this.menuObj.open(c.top,c.left,e.target)}Z1(this.parent.element,this.menuObj.element.parentElement)}}ensureTextFilter(){let e;const t=this.existingPredicate[this.options.field];return t&&2===t.length?e="greaterthanorequal"===t[0].operator&&"lessthanorequal"===t[1].operator?"between":"customfilter":t&&1===t.length&&(this.optrData=this.customFilterOperators[this.options.type+"Operator"],e=t[0].operator),e}preventClose(e){if(this.options&&this.options.isResponsiveFilter&&e.event){const t=e.event.target,i=t.classList.contains("e-resfilterback")||t.classList.contains("e-res-back-btn")||t.classList.contains("e-menu-item");e.cancel=!i}else e.event instanceof MouseEvent&&e.event.target.classList.contains("e-submenu")&&(e.cancel=!0)}getContextBounds(){return this.menuObj.element.style.display="block",this.menuObj.element.getBoundingClientRect()}getCMenuYPosition(e){const t=this.getContextBounds().width,i=e.getBoundingClientRect();let s=e.offsetWidth-e.clientWidth;return s=s?s+1:0,i.right+t-this.parent.element.clientWidth<1?i.right+1-s:i.left-t-1+s}openDialog(e){if(this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e),e.cancel)return;this.dialogObj.dataBind();const t=this.existingPredicate[e.field]&&this.existingPredicate[e.field].length||this.options.filteredColumns.filter(i=>this.options.field===i.field).length;this.createMenu(e.type,t>0,1===t||2===t,e),this.dlg.insertBefore(this.menu,this.dlg.firstChild),this.dlg.classList.add("e-excelfilter"),this.parent.enableRtl&&this.dlg.classList.add("e-rtl"),this.dlg.classList.remove("e-checkboxfilter"),this.cmenu=this.parent.createElement("ul",{className:"e-excel-menu"}),e.column.showColumnMenu&&this.parent.notify(O1,{}),this.wireExEvents()}closeDialog(){this.destroy()}selectHandler(e){e.item&&(this.parent.notify(YQ,{}),this.menuItem=e.item,this.renderDialogue(e))}renderDialogue(e){const t=e?e.element:void 0,i=this.options.field,n=!h(i)&&Rp(i),s=!h(i)&&mo(i),o=this.parent.createElement("div",{className:"e-xlfl-maindiv",id:n?s+"-xlflmenu":i+"-xlflmenu"});this.dlgDiv=this.parent.createElement("div",{className:"e-xlflmenu",id:n?s+"-xlfldlg":i+"-xlfldlg"}),this.options.isResponsiveFilter?document.querySelector(".e-resfilter > .e-dlg-content > .e-xl-customfilterdiv").appendChild(this.dlgDiv):this.parent.element.appendChild(this.dlgDiv),this.dlgObj=new qi({header:this.getLocalizedLabel("CustomFilter"),isModal:!0,overlayClick:this.removeDialog.bind(this),showCloseIcon:!0,closeOnEscape:!1,target:document.body,visible:!1,enableRtl:this.parent.enableRtl,open:()=>{const a=this.dlgObj.element.querySelector("table.e-xlfl-table>tr");this.options.column.filterTemplate&&a.querySelector("#"+this.options.column.field+"-xlfl-frstvalue").focus()},close:this.removeDialog.bind(this),created:this.createdDialog.bind(this,t,i),buttons:[{click:this.filterBtnClick.bind(this,i),buttonModel:{content:this.getLocalizedLabel("OKButton"),isPrimary:!0,cssClass:this.parent.cssClass?"e-xlfl-okbtn "+this.parent.cssClass:"e-xlfl-okbtn"}},{click:this.removeDialog.bind(this),buttonModel:{content:this.getLocalizedLabel("CancelButton"),cssClass:this.parent.cssClass?"e-xlfl-cancelbtn "+this.parent.cssClass:"e-xlfl-cancelbtn"}}],content:o,width:430,animationSettings:{effect:"None"},cssClass:this.parent.cssClass?this.parent.cssClass:""}),this.dlgObj.isStringTemplate=!0,this.renderResponsiveDialog(),this.dlgDiv.setAttribute("aria-label",this.getLocalizedLabel("CustomFilterDialogARIA")),this.childRefs.push(this.dlgObj),this.dlgObj.appendTo(this.dlgDiv)}renderResponsiveDialog(){if(this.options.isResponsiveFilter){const e=document.querySelector(".e-row-responsive-filter");e&&e.classList.remove("e-row-responsive-filter"),this.dlgObj.buttons=[{}],this.dlgObj.header=void 0,this.dlgObj.position={X:"",Y:""},this.dlgObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-xl-customfilterdiv"),this.dlgObj.width="100%",this.dlgObj.isModal=!1,this.dlgObj.showCloseIcon=!1}}removeDialog(){this.parent.notify(QQ,{}),(this.parent.isReact||this.parent.isVue)&&void 0!==this.parent.destroyTemplate&&t_(this.parent,["filterTemplate"]),this.removeObjects(this.childRefs),X(this.dlgDiv),this.parent.notify(VE,{})}createdDialog(e,t){if(this.renderCustomFilter(e,t),this.dlgObj.element.style.left="0px",this.options.isResponsiveFilter){const n=document.querySelector(".e-responsive-dialog > .e-dlg-header-content").offsetHeight+4;this.dlgObj.element.style.top=n+"px"}else this.dlgObj.element.style.top="0px";!this.options.isResponsiveFilter&&A.isDevice&&window.innerWidth<440&&(this.dlgObj.element.style.width="90%"),this.parent.notify("beforeCustomFilterOpen",{column:t,dialog:this.dialogObj}),this.dlgObj.show(),Z1(this.parent.element,this.dlgObj.element.parentElement)}renderCustomFilter(e,t){const i=this.dlgObj.element.querySelector(".e-xlfl-maindiv"),n=this.parent.createElement("div",{innerHTML:this.getLocalizedLabel("ShowRowsWhere"),className:"e-xlfl-dlgfields"});i.appendChild(n);const s=this.parent.createElement("div",{innerHTML:this.options.displayName,className:"e-xlfl-fieldset"});i.appendChild(s),this.renderFilterUI(t,i)}filterBtnClick(e){const t=!h(e)&&Rp(e),i=!h(e)&&mo(e),n=t?i:e,s=this.dlgDiv.querySelector("#"+n+"-xlfl-frstvalue").ej2_instances[0],o=this.dlgDiv.querySelector("#"+n+"-xlfl-frstoptr").ej2_instances[0],l=this.dlgDiv.querySelector("#"+n+"-xlfl-secndvalue").ej2_instances[0],a=this.dlgDiv.querySelector("#"+n+"-xlfl-secndoptr").ej2_instances[0];let c;"string"===this.options.type&&(c=this.dlgDiv.querySelector("#"+n+"-xlflmtcase").ej2_instances[0].checked);let u=this.dlgDiv.querySelector("#"+n+"e-xlfl-frstpredicate").ej2_instances[0].checked?"and":"or";null===l.value&&(u="or"),this.filterByColumn(this.options.field,o.value,s.value,u,c,this.options.ignoreAccent,a.value,l.value),this.removeDialog()}filterByColumn(e,t,i,n,s,o,l,a){const c=this.parent.getColumnByField?this.parent.getColumnByField(e):this.options.column,d=this.isForeignColumn(c)?c.foreignKeyValue:e,u=[];let p;u.push({field:d,predicate:n,matchCase:s,ignoreAccent:o,operator:t,value:i,type:this.options.type});const g={instance:this,handler:this.filterByColumn,arg1:e,arg2:t,arg3:i,arg4:n,arg5:s,arg6:o,arg7:l,arg8:a,cancel:!1};if(this.parent.notify(H1,g),g.cancel)return;p=new qt(d,t.toLowerCase(),i,!s,o),!h(a)&&!h(l)&&(u.push({field:d,predicate:n,matchCase:s,ignoreAccent:o,operator:l,value:a,type:this.options.type}),p=p[n](d,l.toLowerCase(),a,!s,o));const f={action:"filtering",filterCollection:u,field:this.options.field,ejpredicate:p,actualPredicate:u};this.isForeignColumn(c)?this.foreignKeyFilter(f,u,p):this.options.handler(f)}renderOperatorUI(e,t,i,n,s){const o=this.parent.createElement("tr",{className:"e-xlfl-fields",attrs:{role:"row"}});t.appendChild(o);const l=this.parent.createElement("td",{className:"e-xlfl-optr"});o.appendChild(l);const a=this.parent.createElement("div",{className:"e-xlfl-optrdiv"}),c=!h(e)&&Rp(e),d=!h(e)&&mo(e),u=this.parent.createElement("input",{id:c?d+i:e+i});a.appendChild(u),l.appendChild(a);const g=this.customFilterOperators[this.options.type+"Operator"];this.optrData=g;let f=this.dropSelectedVal(this.options.column,n,s),m="";this.menuItem&&(m=this.menuItem.text.slice(0,-3),m!==this.getLocalizedLabel("CustomFilter")&&(f=s?m:void 0),m===this.getLocalizedLabel("Between")&&(f=this.getLocalizedLabel(s?"GreaterThanOrEqual":"LessThanOrEqual")));const x=new Sn(jf({dataSource:g,fields:{text:"text",value:"value"},text:f,enableRtl:this.parent.enableRtl,cssClass:this.parent.cssClass?this.parent.cssClass:null},this.options.column.filter.params));this.childRefs.push(x);const w={open:this.dropDownOpen.bind(this),change:this.dropDownValueChange.bind(this)};return RX(u.id,[ud,Ox],w,this),x.addEventListener(ud,this.eventHandlers[u.id][ud]),x.addEventListener(Ox,this.eventHandlers[u.id][Ox]),x.appendTo(u),{fieldElement:o,operator:this.getSelectedValue(f)}}removeHandlersFromComponent(e){e.element.classList.contains("e-dropdownlist")?kX(e,[ud,Ox],this):e.element.classList.contains("e-autocomplete")&&kX(e,[yi,Bx],this)}dropDownOpen(e){e.popup.element.style.zIndex=(this.dialogObj.zIndex+1).toString()}dropDownValueChange(e){e.element.id.includes("-xlfl-frstoptr")?this.firstOperator=e.value.toString():this.secondOperator=e.value.toString()}getFilterUIInfo(){return{firstOperator:this.firstOperator,secondOperator:this.secondOperator,field:this.options.field}}getSelectedValue(e){const t=new ie(this.optrData).executeLocal((new Ze).where("text","equal",e));return h(t[0])?"":t[0].value}dropSelectedVal(e,t,i){let n;return n=t&&t.length>0?2===t.length?i?t[0].operator:t[1].operator:i?t[0].operator:void 0:i&&"string"===e.type&&!e.filter.operator?"startswith":i?e.filter.operator||"equal":void 0,this.getSelectedText(n)}getSelectedText(e){const t=new ie(this.optrData).executeLocal((new Ze).where("value","equal",e));return h(t[0])?"":t[0].text}renderFilterUI(e,t){const i=this.existingPredicate[e],n=this.parent.createElement("table",{className:"e-xlfl-table",attrs:{role:"grid"}});t.appendChild(n);const s=this.parent.createElement(ni);s.innerHTML='<col style="width: 50%"></col><col style="width: 50%"></col>',n.appendChild(s);let o=this.renderOperatorUI(e,n,"-xlfl-frstoptr",i,!0);this.firstOperator=o.operator,this.renderFlValueUI(e,o,"-xlfl-frstvalue",i,!0);const l=this.parent.createElement("tr",{className:"e-xlfl-predicate",attrs:{role:"row"}});n.appendChild(l),this.renderRadioButton(e,l,i),o=this.renderOperatorUI(e,n,"-xlfl-secndoptr",i,!1),this.secondOperator=o.operator,this.renderFlValueUI(e,o,"-xlfl-secndvalue",i,!1)}renderRadioButton(e,t,i){const n=this.parent.createElement("td",{className:"e-xlfl-radio",attrs:{colSpan:"2"}});t.appendChild(n);const s=this.parent.createElement("div",{className:"e-xlfl-radiodiv",attrs:{style:"display: inline-block"}}),o=!h(e)&&Rp(e),l=!h(e)&&mo(e),a=this.parent.createElement("input",{id:o?l+"e-xlfl-frstpredicate":e+"e-xlfl-frstpredicate",attrs:{type:"radio"}}),c=this.parent.createElement("input",{id:o?l+"e-xlfl-secndpredicate":e+"e-xlfl-secndpredicate",attrs:{type:"radio"}});s.appendChild(a),s.appendChild(c),n.appendChild(s),"string"===this.options.type&&this.renderMatchCase(e,t,n,"-xlflmtcase",i);const d=new da({label:this.getLocalizedLabel("AND"),name:"default",checked:!0,enableRtl:this.parent.enableRtl,cssClass:this.parent.cssClass?this.parent.cssClass:""});this.childRefs.push(d);const u=new da({label:this.getLocalizedLabel("OR"),name:"default",enableRtl:this.parent.enableRtl,cssClass:this.parent.cssClass?this.parent.cssClass:""});this.childRefs.push(u),"and"===(i&&2===i.length?i[1].predicate:"and")?(d.checked=!0,u.checked=!1):(u.checked=!0,d.checked=!1),d.appendTo(a),u.appendTo(c),d.element.nextElementSibling.classList.add("e-xlfl-radio-and"),u.element.nextElementSibling.classList.add("e-xlfl-radio-or")}removeObjects(e){for(const t of e)t&&!t.isDestroyed&&(this.removeHandlersFromComponent(t),t.destroy())}renderFlValueUI(e,t,i,n,s){const o=this.parent.createElement("td",{className:"e-xlfl-value"});t.fieldElement.appendChild(o);const l=!h(e)&&Rp(e),a=!h(e)&&mo(e),c=this.parent.createElement("div",{className:"e-xlfl-valuediv"}),d=this.options.filteredColumns.some(p=>e===p.field),u=this.options.filteredColumns.filter(p=>p.field===e);if(this.options.column.filterTemplate){let p={};const g=this.options.column;d&&i&&(p=this.getExcelFilterData(i,p,g,n,u));const m=this.parent.element.id+g.uid+"filterTemplate";this.parent.isReact&&"string"!=typeof this.options.column.filterTemplate?(this.options.column.getFilterTemplate()(p,this.parent,"filterTemplate",m,null,null,c),this.parent.renderTemplates()):Ur(c,this.options.column.getFilterTemplate()(p,this.parent,"filterTemplate",m)),(this.parent.isAngular?c.children[0]:c.querySelector("input")).id=l?a+i:e+i,o.appendChild(c)}else{const p=this.parent.createElement("input",{id:l?a+i:e+i});let g,f;c.appendChild(p),o.appendChild(c),n&&n.length>0&&(f=2===n.length?s?n[0]:n[1]:s?n[0]:void 0,g=f&&f.operator===t.operator?f.value:void 0,h(g)&&(g=void 0)),{string:this.renderAutoComplete.bind(this),number:this.renderNumericTextBox.bind(this),date:this.renderDate.bind(this),datetime:this.renderDateTime.bind(this)}[this.options.type](this.options,e,p,g,this.parent.enableRtl)}}getExcelFilterData(e,t,i,n,s){const o="-xlfl-frstvalue"===e?0:1;if("-xlfl-frstvalue"===e||s.length>1){const l=this.options.column.columnData&&s.length>1?1===this.options.column.columnData.length?0:1:o;(t={column:n instanceof Array?n[o]:n})[this.options.field]=i.foreignKeyValue?this.options.column.columnData[l][i.foreignKeyValue]:s[l].value,this.options.foreignKeyValue&&(t[this.options.foreignKeyValue]=this.options.column.columnData[l][i.foreignKeyValue])}return t}renderMatchCase(e,t,i,n,s){const o=this.parent.createElement("div",{className:"e-xlfl-matchcasediv",attrs:{style:"display: inline-block"}}),l=!h(e)&&Rp(e),a=!h(e)&&mo(e),c=this.parent.createElement("input",{id:l?a+n:e+n,attrs:{type:"checkbox"}});o.appendChild(c),i.appendChild(o);const d=!!(s&&s.length>0)&&(s&&2===s.length?s[1].matchCase:s[0].matchCase),u=new Gl({label:this.getLocalizedLabel("MatchCase"),enableRtl:this.parent.enableRtl,checked:d,cssClass:this.parent.cssClass?this.parent.cssClass:""});this.childRefs.push(u),u.appendTo(c)}renderDate(e,t,i,n,s){const o=sT(e.format,e.type)||e.format,l=new rs(jf({format:o,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:this.getLocalizedLabel("CustomFilterDatePlaceHolder"),width:"100%",enableRtl:s,value:new Date(n),locale:this.parent.locale},e.column.filter.params));this.childRefs.push(l),l.appendTo(i)}renderDateTime(e,t,i,n,s){const o=sT(e.format,e.type),l=new In(jf({format:o,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:this.getLocalizedLabel("CustomFilterDatePlaceHolder"),width:"100%",enableRtl:s,value:new Date(n),locale:this.parent.locale},e.column.filter.params));this.childRefs.push(l),l.appendTo(i)}completeAction(e){e.result=function Hke(r){const e={},t=[];for(let i=0;i<r.length;i++)r[i]in e||(t.push(r[i].toString()),e[r[i]]=1);return t}(e.result)}renderNumericTextBox(e,t,i,n,s){const o=new ng(jf({format:e.format,placeholder:this.getLocalizedLabel("CustomFilterPlaceHolder"),enableRtl:s,value:n,locale:this.parent.locale,cssClass:this.parent.cssClass?this.parent.cssClass:null},e.column.filter.params));this.childRefs.push(o),o.appendTo(i)}renderAutoComplete(e,t,i,n,s){const o=this.options.column,l=this.isForeignColumn(o),a=l?o.dataSource:e.dataSource,c={value:l?o.foreignKeyValue:t},d=new ko(jf({dataSource:a instanceof ie?a:new ie(a),fields:c,query:this.getQuery(),sortOrder:"Ascending",locale:this.parent.locale,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",autofill:!0,placeholder:this.getLocalizedLabel("CustomFilterPlaceHolder"),enableRtl:s,text:n},o.filter.params));if(a&&"result"in a){const p=d4({requestType:"stringfilterrequest"},this.getQuery());this.parent.trigger(B1,p.state),p.deffered.promise.then(f=>{d.dataSource=new ie(f)})}this.childRefs.push(d);const u={actionComplete:this.acActionComplete(d,t),focus:this.acFocus(d,t,e,i)};RX(i.id,[yi,Bx],u,this),d.addEventListener(Bx,this.eventHandlers[i.id][Bx]),d.addEventListener(yi,this.eventHandlers[i.id][yi]),d.appendTo(i)}acActionComplete(e,t){return i=>{const n=!h(t)&&Rp(t);i.result=i.result.filter((s,o,l)=>l.map(a=>n?g4(e.fields.value,a):a[e.fields.value]).indexOf(n?g4(e.fields.value,s):s[e.fields.value])===o)}}acFocus(e,t,i,n){return()=>{const s=!h(t)&&Rp(t),o=!h(t)&&mo(t),l=s?o:t;e.filterType=this.dlgDiv.querySelector("#"+l+(n.id===l+"-xlfl-frstvalue"?"-xlfl-frstoptr":"-xlfl-secndoptr")).ej2_instances[0].value,e.ignoreCase="string"!==i.type||!this.dlgDiv.querySelector("#"+l+"-xlflmtcase").ej2_instances[0].checked,e.filterType=h(e.filterType)?"equal":e.filterType}}}class Gx{constructor(e,t,i,n){this.contentRefresh=!0,this.isModelChanged=!0,this.aria=new $1,this.currentTarget=null,this.parent=e,this.sortSettings=t,this.sortedColumns=i,this.serviceLocator=n,this.focus=n.getService("focus"),this.addEventListener(),this.setFullScreenDialog()}updateModel(){const e={field:this.columnName,direction:this.direction};let t;const i=this.parent.groupSettings.columns;let n=!1;if(this.isMultiSort)t=this.getSortedColsIndexByField(this.columnName),t>-1&&this.sortSettings.columns.splice(t,1),this.sortSettings.columns.push(e),this.sortSettings.columns=this.sortSettings.columns;else if(i.length){const s=[];for(let o=0,l=i.length;o<l;o++)if(t=this.getSortedColsIndexByField(i[o],s),this.columnName===i[o])n=!0,s.push(e);else{const a=this.getSortColumnFromField(i[o]);s.push({field:a.field,direction:a.direction,isFromGroup:a.isFromGroup})}n||s.push(e),this.sortSettings.columns=s}else this.sortSettings.columns=[e];this.parent.dataBind(),this.lastSortedCol=this.columnName}onActionComplete(e){const t=this.isRemove?{requestType:"sorting",type:yi}:{columnName:this.columnName,direction:this.direction,requestType:"sorting",type:yi};this.isRemove=!1,this.parent.trigger(yi,O(e,t))}sortColumn(e,t,i){const n=this.parent;!1===this.parent.getColumnByField(e).allowSorting||this.parent.isContextMenuOpen()?this.parent.log("action_disabled_column",{moduleName:this.getModuleName(),columnName:e}):(n.allowMultiSorting||(i=n.allowMultiSorting),this.isActionPrevent()?n.notify(Pc,{instance:this,handler:this.sortColumn,arg1:e,arg2:t,arg3:i}):(this.backupSettings(),this.columnName=e,this.direction=t,this.isMultiSort=i,this.removeSortIcons(),this.updateSortedCols(e,i),this.updateModel()))}setFullScreenDialog(){this.serviceLocator&&this.serviceLocator.registerAdaptiveService(this,this.parent.enableAdaptiveUI,En.isSort)}backupSettings(){this.lastSortedCols=K1(this.sortSettings.columns),this.lastCols=this.sortedColumns}restoreSettings(){this.isModelChanged=!1,this.isMultiSort=!0,this.parent.setProperties({sortSettings:{columns:this.lastSortedCols}},!0),this.sortedColumns=this.lastCols,this.isModelChanged=!0}updateSortedCols(e,t){if(!t)if(this.parent.allowGrouping)for(let i=0,n=this.sortedColumns.length;i<n;i++)this.parent.groupSettings.columns.indexOf(this.sortedColumns[i])<0&&(this.sortedColumns.splice(i,1),n--,i--);else this.sortedColumns.splice(0,this.sortedColumns.length);this.sortedColumns.indexOf(e)<0&&this.sortedColumns.push(e)}onPropertyChanged(e){e.module===this.getModuleName()&&(this.contentRefresh&&this.parent.notify(fo,this.sortSettings.columns.length?{columnName:this.columnName,direction:this.direction,requestType:"sorting",type:Pn,target:this.currentTarget,cancel:!1}:{requestType:"sorting",type:Pn,cancel:!1,target:this.currentTarget}),this.refreshSortSettings(),this.removeSortIcons(),this.addSortIcons())}refreshSortSettings(){this.sortedColumns.length=0;const e=this.sortSettings.columns;for(let t=0;t<e.length;t++)e[t].isFromGroup||this.sortedColumns.push(e[t].field)}clearSorting(){const e=s4(this.sortSettings.columns);if(this.isActionPrevent())this.parent.notify(Pc,{instance:this,handler:this.clearSorting});else for(let t=0,i=e.length;t<i;t++)this.removeSortColumn(e[t].field)}isActionPrevent(){return Pu(this.parent)}removeSortColumn(e){const t=this.parent,i=this.sortSettings.columns;if(0===i.length&&this.sortedColumns.indexOf(e)<0)return;if(this.isActionPrevent())return void this.parent.notify(Pc,{instance:this,handler:this.removeSortColumn,arg1:e});this.backupSettings(),this.removeSortIcons();const n={requestType:"sorting",type:Pn,target:this.currentTarget};for(let s=0,o=i.length;s<o;s++)if(i[s].field===e){if(t.allowGrouping&&t.groupSettings.columns.indexOf(i[s].field)>-1)continue;this.sortedColumns.splice(this.sortedColumns.indexOf(i[s].field),1),i.splice(s,1),this.isRemove=!0,this.isModelChanged&&this.parent.notify(fo,n);break}n.cancel||this.addSortIcons()}getSortedColsIndexByField(e,t){const i=t||this.sortSettings.columns;for(let n=0,s=i.length;n<s;n++)if(i[n].field===e)return n;return-1}getModuleName(){return"sort"}initialEnd(){if(this.parent.off(Is,this.initialEnd),this.parent.getColumns().length&&this.sortSettings.columns.length){const e=this.parent;this.contentRefresh=!1,this.isMultiSort=this.sortSettings.columns.length>1;for(const t of e.sortSettings.columns.slice())this.sortedColumns.indexOf(t.field)>-1&&this.sortColumn(t.field,t.direction,!0);this.isMultiSort=!1,this.contentRefresh=!0}}addEventListener(){this.parent.isDestroyed||(this.evtHandlers=[{event:G1,handler:this.setFullScreenDialog},{event:Is,handler:this.initialEnd},{event:"sorting-complete",handler:this.onActionComplete},{event:ll,handler:this.onPropertyChanged},{event:kl,handler:this.clickHandler},{event:io,handler:this.refreshSortIcons},{event:lr,handler:this.keyPressed},{event:AE,handler:this.cancelBeginEvent},{event:Ri,handler:this.destroy}],vo(this.parent,this.evtHandlers,!0,this))}removeEventListener(){this.parent.isDestroyed||vo(this.parent,this.evtHandlers,!1)}destroy(){this.isModelChanged=!1;const e=this.parent.element;!e||!e.querySelector("."+br)&&!e.querySelector("."+ar)||(this.parent.element.querySelector(".e-gridpopup").getElementsByClassName("e-sortdirect").length&&(this.parent.element.querySelector(".e-gridpopup").style.display="none"),!this.parent.refreshing&&(this.parent.isDestroyed||!this.parent.allowSorting)&&this.clearSorting(),this.isModelChanged=!0,this.removeEventListener())}cancelBeginEvent(e){"sorting"===e.requestType&&(this.restoreSettings(),this.refreshSortIcons(),this.isMultiSort=!0)}clickHandler(e){const t=this.parent;this.currentTarget=null,this.popUpClickHandler(e);const i=D(e.target,".e-headercell");if(i&&!e.target.classList.contains("e-grptogglebtn")&&!i.classList.contains("e-resized")&&!e.target.classList.contains("e-rhandler")&&!e.target.classList.contains("e-columnmenu")&&!e.target.classList.contains("e-filtermenudiv")&&!Ce(e.target,"e-stackedheadercell")&&!(t.allowSelection&&t.selectionSettings.allowColumnSelection&&e.target.classList.contains("e-headercell"))){const s=this.parent.getColumnByUid(i.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));"checkbox"!==s.type&&(this.initiateSort(i,e,s),A.isDevice&&this.showPopUp(e))}if(i&&i.classList.remove("e-resized"),Ce(e.target,"e-excel-ascending")||Ce(e.target,"e-excel-descending")){const n=D(e.target,".e-filter-popup").getAttribute("uid"),s=h(Ce(e.target,"e-excel-descending"))?"Ascending":"Descending";this.sortColumn(t.getColumnByUid(n).field,s,!1)}}keyPressed(e){if(!this.parent.isEdit&&("enter"===e.action||"ctrlEnter"===e.action||"shiftEnter"===e.action)&&D(e.target,".e-headercell")){const i=this.focus.getFocusedElement();if(h(i)||!i.classList.contains("e-headercell")||!i.querySelector(".e-headercelldiv"))return;const n=this.parent.getColumnByUid(i.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));this.initiateSort(i,e,n)}}initiateSort(e,t,i){const n=this.parent,s=i.field;this.currentTarget=t.target;const o=e.getElementsByClassName("e-ascending").length?"Descending":"Ascending";this.isMultiSort=t.ctrlKey||this.enableSortMultiTouch||-1!==navigator.userAgent.indexOf("Mac OS")&&t.metaKey,t.shiftKey||this.sortSettings.allowUnsort&&e.getElementsByClassName("e-descending").length&&!(n.groupSettings.columns.indexOf(s)>-1)?this.removeSortColumn(s):this.sortColumn(s,o,this.isMultiSort)}showPopUp(e){const t=D(e.target,".e-headercell");this.parent.allowMultiSorting&&(!h(t)||this.parent.isContextMenuOpen())&&vX(this.parent.element.querySelector(".e-gridpopup"),e,"e-sortdirect e-icons e-icon-sortdirect"+(this.sortedColumns.length>1?" e-spanclicked":""))}popUpClickHandler(e){const t=e.target;D(t,".e-headercell")||e.target.classList.contains(Ii)||D(t,".e-gridpopup")?t.classList.contains("e-sortdirect")&&(t.classList.contains("e-spanclicked")?(t.classList.remove("e-spanclicked"),this.enableSortMultiTouch=!1,this.parent.element.querySelector(".e-gridpopup").style.display="none"):(t.classList.add("e-spanclicked"),this.enableSortMultiTouch=!0)):this.parent.element.querySelector(".e-gridpopup").style.display="none"}addSortIcons(){const e=this.parent;let t,i;const n=this.sortSettings.columns,s=this.parent.getColumns().map(o=>o.field);for(let o=0,l=n.length;o<l;o++)t=e.getColumnHeaderByField(n[o].field),-1!==s.indexOf(n[o].field)&&!h(t)&&(this.aria.setSort(t,n[o].direction.toLowerCase()),n.length>1&&t.querySelector(".e-headercelldiv").insertBefore(this.parent.createElement("span",{className:"e-sortnumber",innerHTML:(o+1).toString()}),t.querySelector(".e-headertext")),i=t.querySelector(".e-sortfilterdiv"),ze(i,"Ascending"===n[o].direction?["e-ascending","e-icon-ascending"]:["e-descending","e-icon-descending"],[]))}removeSortIcons(e){const t=this.parent;let i;const n=this.sortSettings.columns,s=this.parent.getColumns().map(o=>o.field);for(let o=e||0,l=h(e)?n.length:e+1;o<l;o++)i=t.getColumnHeaderByField(n[o].field),!(h(i)||t.allowGrouping&&t.groupSettings.columns.indexOf(n[o].field)>-1&&!i.querySelector(".e-sortfilterdiv"))&&-1!==s.indexOf(n[o].field)&&(this.aria.setSort(i,"none"),ze(i.querySelector(".e-sortfilterdiv"),[],["e-descending","e-icon-descending","e-ascending","e-icon-ascending"]),i.querySelector(".e-sortnumber")&&i.querySelector(".e-headercelldiv").removeChild(i.querySelector(".e-sortnumber")))}getSortColumnFromField(e){for(let t=0,i=this.sortSettings.columns.length;t<i;t++)if(this.sortSettings.columns[t].field===e)return this.sortSettings.columns[t];return!1}updateAriaAttr(){const e=this.parent.getColumns().map(t=>t.field);for(const t of this.sortedColumns){if(-1===e.indexOf(t))continue;const i=this.parent.getColumnHeaderByField(t);this.aria.setSort(i,this.getSortColumnFromField(t).direction)}}refreshSortIcons(e={args:{isFrozen:!1}}){e.args.isFrozen||(this.removeSortIcons(),this.isMultiSort=!0,this.removeSortIcons(),this.addSortIcons(),this.isMultiSort=!1,this.updateAriaAttr())}showCustomSort(e){this.responsiveDialogRenderer.isCustomDialog=e,this.responsiveDialogRenderer.showResponsiveDialog()}}class iAe{constructor(e){this.pagerModule=e}render(){this.pagerElement=this.pagerModule.element,this.renderNumericContainer(),this.refreshNumericLinks(),this.wireEvents()}refresh(){this.pagerModule.updateTotalPages(),this.links.length&&this.updateLinksHtml(),this.refreshAriaAttrLabel(),this.updateStyles()}refreshNumericLinks(){let e;const t=this.pagerModule,i=t.element.querySelector(".e-numericcontainer"),n=document.createDocumentFragment();i.innerHTML="";for(let s=1;s<=t.pageCount;s++)e=Xe("a",{className:"e-link e-numericitem e-spacing e-pager-default",attrs:{role:"link",tabindex:"-1","aria-label":"Page "+s+" of "+t.totalPages+" Pages",href:"javascript:void(0);",name:"Goto page"+s}}),t.currentPage===s&&(ze(e,["e-currentitem","e-active"],["e-pager-default"]),e.setAttribute("aria-selected","true")),n.appendChild(e);i.appendChild(n),this.links=[].slice.call(i.childNodes)}wireEvents(){C.add(this.pagerElement,"click",this.clickHandler,this)}unwireEvents(){C.remove(this.pagerModule.element,"click",this.clickHandler)}destroy(){this.unwireEvents()}refreshAriaAttrLabel(){const e=this.pagerModule,i=e.element.querySelector(".e-numericcontainer").querySelectorAll("a");for(let n=0;n<i.length;n++)i[n].hasAttribute("aria-label")&&i[n].hasAttribute("index")&&i[n].setAttribute("aria-label","Page "+i[n].getAttribute("index")+" of "+e.totalPages+" Pages")}renderNumericContainer(){this.element=Xe("div",{className:"e-pagercontainer",attrs:{role:"navigation"}}),this.renderFirstNPrev(this.element),this.renderPrevPagerSet(this.element),this.element.appendChild(Xe("div",{className:"e-numericcontainer"})),this.renderNextPagerSet(this.element),this.renderNextNLast(this.element),this.pagerModule.element.appendChild(this.element)}renderFirstNPrev(e){this.first=Xe("div",{className:"e-first e-icons e-icon-first",attrs:{title:this.pagerModule.getLocalizedLabel("firstPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("firstPageTooltip"),tabindex:"-1"}}),this.prev=Xe("div",{className:"e-prev e-icons e-icon-prev",attrs:{title:this.pagerModule.getLocalizedLabel("previousPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("previousPageTooltip"),tabindex:"-1"}}),Jt([this.first,this.prev],e)}renderPrevPagerSet(e){const t=Xe("div");this.PP=Xe("a",{className:"e-link e-pp e-spacing",innerHTML:"...",attrs:{title:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),role:"link","aria-label":this.pagerModule.getLocalizedLabel("previousPagerTooltip"),tabindex:"-1",name:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),href:"javascript:void(0);"}}),t.appendChild(this.PP),e.appendChild(t)}renderNextPagerSet(e){const t=Xe("div");this.NP=Xe("a",{className:"e-link e-np e-spacing",innerHTML:"...",attrs:{title:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),role:"link","aria-label":this.pagerModule.getLocalizedLabel("nextPagerTooltip"),tabindex:"-1",name:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),href:"javascript:void(0);"}}),t.appendChild(this.NP),e.appendChild(t)}renderNextNLast(e){this.next=Xe("div",{className:"e-next e-icons e-icon-next",attrs:{title:this.pagerModule.getLocalizedLabel("nextPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("nextPageTooltip"),tabindex:"-1"}}),this.last=Xe("div",{className:"e-last e-icons e-icon-last",attrs:{title:this.pagerModule.getLocalizedLabel("lastPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("lastPageTooltip"),tabindex:"-1"}}),Jt([this.next,this.last],e)}clickHandler(e){const t=this.pagerModule,i=e.target;return t.previousPageNo=t.currentPage,!i.classList.contains("e-disable")&&!h(i.getAttribute("index"))&&(t.currentPage=parseInt(i.getAttribute("index"),10),t.dataBind()),!1}updateLinksHtml(){const e=this.pagerModule;let t,i;e.currentPage=1===e.totalPages?1:e.currentPage,e.currentPage>e.totalPages&&e.totalPages&&(e.currentPage=e.totalPages),t=parseInt((e.currentPage/e.pageCount).toString(),10),e.currentPage%e.pageCount==0&&t>0&&(t-=1);for(let n=0;n<e.pageCount;n++)i=t*e.pageCount+1+n,i<=e.totalPages?(this.links[n].style.display="",this.links[n].setAttribute("index",i.toString()),this.links[n].innerHTML=e.customText?e.customText+i:i.toString(),e.currentPage!==i?this.links[n].classList.add("e-pager-default"):this.links[n].classList.remove("e-pager-default")):(this.links[n].innerHTML=e.customText?e.customText+i:i.toString(),this.links[n].style.display="none"),ze(this.links[n],[],["e-currentitem","e-active"]),this.links[n].removeAttribute("aria-selected");this.first.setAttribute("index","1"),this.last.setAttribute("index",e.totalPages.toString()),this.prev.setAttribute("index",(e.currentPage-1).toString()),this.next.setAttribute("index",(e.currentPage+1).toString()),this.pagerElement.querySelector(".e-mfirst").setAttribute("index","1"),this.pagerElement.querySelector(".e-mlast").setAttribute("index",e.totalPages.toString()),this.pagerElement.querySelector(".e-mprev").setAttribute("index",(e.currentPage-1).toString()),this.pagerElement.querySelector(".e-mnext").setAttribute("index",(e.currentPage+1).toString()),this.PP.setAttribute("index",(parseInt(this.links[0].getAttribute("index"),10)-e.pageCount).toString()),this.NP.setAttribute("index",(parseInt(this.links[this.links.length-1].getAttribute("index"),10)+1).toString())}updateStyles(){this.updateFirstNPrevStyles(),this.updatePrevPagerSetStyles(),this.updateNextPagerSetStyles(),this.updateNextNLastStyles(),this.links.length&&(ze(this.links[(this.pagerModule.currentPage-1)%this.pagerModule.pageCount],["e-currentitem","e-active"],[]),this.links[(this.pagerModule.currentPage-1)%this.pagerModule.pageCount].setAttribute("aria-selected","true"))}updateFirstNPrevStyles(){const e=["e-firstpage","e-pager-default"],t=["e-firstpagedisabled","e-disable"],i=["e-prevpage","e-pager-default"],n=["e-prevpagedisabled","e-disable"];this.pagerModule.totalPages>0&&this.pagerModule.currentPage>1?(ze(this.prev,i,n),ze(this.first,e,t),ze(this.pagerElement.querySelector(".e-mfirst"),e,t),ze(this.pagerElement.querySelector(".e-mprev"),i,n)):(ze(this.prev,n,i),ze(this.first,t,e),ze(this.pagerElement.querySelector(".e-mprev"),n,i),ze(this.pagerElement.querySelector(".e-mfirst"),t,e))}updatePrevPagerSetStyles(){this.pagerModule.currentPage>this.pagerModule.pageCount?ze(this.PP,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"]):ze(this.PP,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"])}updateNextPagerSetStyles(){const e=this.pagerModule,t=this.links[0].innerHTML.replace(e.customText,"");!t.length||!this.links.length||parseInt(t,10)+e.pageCount>e.totalPages?ze(this.NP,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"]):ze(this.NP,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"])}updateNextNLastStyles(){const e=["e-lastpage","e-pager-default"],t=["e-lastpagedisabled","e-disable"],i=["e-nextpage","e-pager-default"],n=["e-nextpagedisabled","e-disable"],s=this.pagerModule;s.currentPage===s.totalPages||0===s.totalRecordsCount?(ze(this.last,t,e),ze(this.next,n,i),ze(this.pagerElement.querySelector(".e-mlast"),t,e),ze(this.pagerElement.querySelector(".e-mnext"),n,i)):(ze(this.last,e,t),ze(this.next,i,n),ze(this.pagerElement.querySelector(".e-mlast"),e,t),ze(this.pagerElement.querySelector(".e-mnext"),i,n))}}class nAe{constructor(e){this.pagerModule=e}render(){const e=Xe("div",{className:"e-parentmsgbar",attrs:{"aria-label":"Pager Information"}});this.pageNoMsgElem=Xe("span",{className:"e-pagenomsg",styles:"textalign:right"}),this.pageCountMsgElem=Xe("span",{className:"e-pagecountmsg",styles:"textalign:right"}),Jt([this.pageNoMsgElem,this.pageCountMsgElem],e),this.pagerModule.element.appendChild(e),this.refresh()}refresh(){const e=this.pagerModule;this.pageNoMsgElem.textContent=this.format(e.getLocalizedLabel("currentPageInfo"),[0===e.totalRecordsCount?0:e.currentPage,e.totalPages||0,e.totalRecordsCount||0])+" ",this.pageCountMsgElem.textContent=this.format(e.getLocalizedLabel(e.totalRecordsCount<=1?"totalItemInfo":"totalItemsInfo"),[e.totalRecordsCount||0,e.totalRecordsCount?e.pageSize*(e.currentPage-1)+1:0,e.pageSize*e.currentPage>e.totalRecordsCount?e.totalRecordsCount:e.pageSize*e.currentPage]),this.pageNoMsgElem.parentElement.setAttribute("aria-label",this.pageNoMsgElem.textContent+this.pageCountMsgElem.textContent)}hideMessage(){this.pageNoMsgElem&&(this.pageNoMsgElem.style.display="none"),this.pageCountMsgElem&&(this.pageCountMsgElem.style.display="none")}showMessage(){this.pageNoMsgElem||this.render(),this.pageNoMsgElem.style.display="",this.pageCountMsgElem.style.display=""}destroy(){}format(e,t){let i;for(let n=0;n<t.length;n++)i=new RegExp("\\{"+n+"\\}","gm"),e=e.replace(i,t[n].toString());return e}}var nc=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ea=class extends an{constructor(e,t,i){super(e,t),this.hasParent=!1,this.pageRefresh="pager-refresh",this.firstPagerFocus=!1,this.parent=i}requiredModules(){const e=[];return this.enableExternalMessage&&e.push({member:"externalMessage",args:[this]}),this.checkpagesizes()&&e.push({member:"pagerdropdown",args:[this]}),e}preRender(){this.defaultConstants={currentPageInfo:"{0} of {1} pages",totalItemsInfo:"({0} items)",totalItemInfo:"({0} item)",firstPageTooltip:"Go to first page",lastPageTooltip:"Go to last page",nextPageTooltip:"Go to next page",previousPageTooltip:"Go to previous page",nextPagerTooltip:"Go to next pager items",previousPagerTooltip:"Go to previous pager items",pagerDropDown:"Items per page",pagerAllDropDown:"Items",CurrentPageInfo:"{0} of {1} pages",TotalItemsInfo:"({0} items)",FirstPageTooltip:"Go to first page",LastPageTooltip:"Go to last page",NextPageTooltip:"Go to next page",PreviousPageTooltip:"Go to previous page",NextPagerTooltip:"Go to next pager items",PreviousPagerTooltip:"Go to previous pager items",PagerDropDown:"Items per page",PagerAllDropDown:"Items",All:"All"},this.containerModule=new iAe(this),this.pagerMessageModule=new nAe(this)}render(){this.element.setAttribute("data-role","pager"),this.element.setAttribute("aria-label","Pager Container"),this.element.setAttribute("tabindex","-1"),this.hasParent||this.element.setAttribute("tabindex","0"),this.template?this.isReactTemplate()?(this.on(this.pageRefresh,this.pagerTemplate,this),this.notify(this.pageRefresh,{})):this.pagerTemplate():(this.initLocalization(),this.updateRTL(),this.totalRecordsCount=this.totalRecordsCount||0,this.renderFirstPrevDivForDevice(),this.containerModule.render(),this.enablePagerMessage&&this.pagerMessageModule.render(),this.renderNextLastDivForDevice(),this.checkpagesizes()&&this.pagerdropdownModule&&this.pagerdropdownModule.render(),this.addAriaLabel(),this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.render(),this.refresh(),this.trigger("created",{currentPage:this.currentPage,totalRecordsCount:this.totalRecordsCount})),this.wireEvents(),this.addListener()}getPersistData(){return this.addOnPersist(["currentPage","pageSize"])}destroy(){this.isDestroyed||(this.isReactTemplate()&&(this.off(this.pageRefresh,this.pagerTemplate),this.hasParent||this.destroyTemplate(["template"])),this.removeListener(),this.unwireEvents(),super.destroy(),this.containerModule.destroy(),this.pagerMessageModule.destroy(),this.isReactTemplate()||(this.element.innerHTML=""))}destroyTemplate(e,t){this.clearTemplate(e,t)}getModuleName(){return"pager"}onPropertyChanged(e,t){if(!this.isDestroyed){e.pageCount!==t.pageCount&&(this.containerModule.refreshNumericLinks(),this.containerModule.refresh());for(const i of Object.keys(e))switch(i){case"currentPage":this.checkGoToPage(e.currentPage,t.currentPage)&&this.currentPageChanged(e,t);break;case"pageSize":case"totalRecordsCount":case"customText":this.checkpagesizes()&&this.pagerdropdownModule&&(t.pageSize!==e.pageSize&&(this.currentPage=1),this.pagerdropdownModule.setDropDownValue("value",this.pageSize)),e.pageSize!==t.pageSize?(this.pageSize=e.pageSize,this.currentPageChanged(e,t)):this.refresh();break;case"pageSizes":this.checkpagesizes()&&this.pagerdropdownModule&&(this.pagerdropdownModule.destroy(),this.pagerdropdownModule.render()),this.refresh();break;case"template":this.templateFn=this.compile(this.template),this.refresh();break;case"locale":this.initLocalization(),this.refresh();break;case"enableExternalMessage":this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.render();break;case"externalMessage":this.externalMessageModule&&this.externalMessageModule.refresh();break;case"enableRtl":this.updateRTL();break;case"enablePagerMessage":this.enablePagerMessage?this.pagerMessageModule.showMessage():this.pagerMessageModule.hideMessage()}}}wireEvents(){this.hasParent||(C.add(this.element,"keydown",this.keyPressHandler,this),C.add(document.body,"keydown",this.keyDownHandler,this)),C.add(this.element,"focusin",this.onFocusIn,this),C.add(this.element,"focusout",this.onFocusOut,this)}unwireEvents(){this.hasParent||(C.remove(this.element,"keydown",this.keyPressHandler),C.remove(document.body,"keydown",this.keyDownHandler)),C.remove(this.element,"focusin",this.onFocusIn),C.remove(this.element,"focusout",this.onFocusOut)}onFocusIn(e){if(h(this.getFocusedTabindexElement())){const i=e.target,n=this.getDropDownPage();if(this.hasParent||(this.element.tabIndex=-1),i===this.element&&!this.hasParent){const s=this.getFocusablePagerElements(this.element,[]);return void this.addFocus(s[0],!0)}if(i===this.element)return void(this.element.tabIndex=0);i!==n&&!i.classList.contains("e-disable")&&this.addFocus(i,!0)}}onFocusOut(e){const t=this.getFocusedElement(),i=this.getDropDownPage();h(t)||this.removeFocus(t,!0),this.pageSizes&&i&&i.classList.contains("e-input-focus")&&this.removeFocus(i,!0),this.setTabIndexForFocusLastElement(),this.hasParent||(this.element.tabIndex=0),this.hasParent&&(this.element.tabIndex=-1)}keyDownHandler(e){if(e.altKey&&74===e.keyCode){const t=this.getFocusablePagerElements(this.element,[]);t.length>0&&t[0].focus()}}keyPressHandler(e){const t=O(e,{cancel:!1});this.notify(lr,t),!0===t.cancel&&e.stopImmediatePropagation()}addListener(){this.isDestroyed||this.hasParent||this.on(lr,this.onKeyPress,this)}removeListener(){this.isDestroyed||this.hasParent||this.off(lr,this.onKeyPress)}onKeyPress(e){this.hasParent||(this.checkPagerHasFocus()?this.changePagerFocus(e):(e.preventDefault(),this.setPagerFocus()))}checkPagerHasFocus(){return!!this.getFocusedTabindexElement()}setPagerContainerFocus(){this.element.focus()}setPagerFocus(){const e=this.getFocusablePagerElements(this.element,[]);e.length>0&&e[0].focus()}setPagerFocusForActiveElement(){const e=this.getActiveElement();e&&e.focus()}setTabIndexForFocusLastElement(){const e=this.getFocusablePagerElements(this.element,[]),t=this.getDropDownPage();this.pageSizes&&t&&!h(t.offsetParent)?t.tabIndex=0:e.length>0&&(e[e.length-1].tabIndex=0)}changePagerFocus(e){e.shiftKey&&9===e.keyCode?this.changeFocusByShiftTab(e):9===e.keyCode?this.changeFocusByTab(e):13===e.keyCode||32===e.keyCode?this.navigateToPageByEnterOrSpace(e):(37===e.keyCode||39===e.keyCode||35===e.keyCode||36===e.keyCode)&&this.navigateToPageByKey(e)}getFocusedTabindexElement(){let e;const t=this.element.querySelectorAll('[tabindex]:not([tabindex="-1"])');for(let i=0;i<t.length;i++){const n=t[i];if(n&&(n.classList.contains("e-focused")||n.classList.contains("e-input-focus"))){e=n;break}}return e}changeFocusByTab(e){const t=this.getFocusedTabindexElement(),i=this.getFocusablePagerElements(this.element,[]),n=this.getDropDownPage();if(i.length>0)if(this.pageSizes&&n&&t===i[i.length-1])n.tabIndex=0;else for(let s=0;s<i.length;s++)if(t===i[s]){const o=s+1;o<i.length&&(e.preventDefault(),i[o].focus());break}}changeFocusByShiftTab(e){const t=this.getFocusedTabindexElement(),i=this.getFocusablePagerElements(this.element,[]),n=this.getDropDownPage();if(this.pageSizes&&n&&n.classList.contains("e-input-focus"))n.tabIndex=-1,this.addFocus(i[i.length-1],!0);else if(i.length>0)for(let s=0;s<i.length;s++)if(t===i[s]){const o=s-1;if(o>=0)e.preventDefault(),i[o].focus();else if(this.hasParent){const l=this.parent.getRows(),c=l[l.length-1].lastChild;e.preventDefault(),c.focus(),this.firstPagerFocus=!0}break}}checkFirstPagerFocus(){return!!this.firstPagerFocus&&(this.firstPagerFocus=!1,!0)}navigateToPageByEnterOrSpace(e){const t=this.getFocusedElement();if(t){this.goToPage(parseInt(t.getAttribute("index"),10));const i=this.getActiveElement(),n=this.getClass(t),s=this.getElementByClass(n);"e-first"!==n&&"e-prev"!==n&&"e-next"!==n&&"e-last"!==n&&"e-pp"!==n&&"e-np"!==n||!s||s.classList.contains("e-disable")?this.checkFocusInAdaptiveMode(t)?this.changeFocusInAdaptiveMode(t):i&&i.focus():s.focus()}}navigateToPageByKey(e){const i=this.element.querySelector(37===e.keyCode?".e-prev":39===e.keyCode?".e-next":35===e.keyCode?".e-last":36===e.keyCode?".e-first":""),n=this.getFocusedElement();if(!h(i)&&i.hasAttribute("index")&&!isNaN(parseInt(i.getAttribute("index"),10))){this.goToPage(parseInt(i.getAttribute("index"),10));const s=this.getActiveElement();this.checkFocusInAdaptiveMode(n)?this.changeFocusInAdaptiveMode(n):s&&s.focus()}}checkFocusInAdaptiveMode(e){const t=this.getClass(e);return"e-mfirst"===t||"e-mprev"===t||"e-mnext"===t||"e-mlast"===t}changeFocusInAdaptiveMode(e){const t=this.getClass(e),i=this.getElementByClass(t);i&&i.classList.contains("e-disable")&&("e-mnext"===t||"e-mlast"===t?this.element.querySelector(".e-mprev").focus():this.setPagerFocus())}removeTabindexLastElements(){const e=this.element.querySelectorAll('[tabindex]:not([tabindex="-1"])');if(e.length>1)for(let t=1;t<e.length;t++){const i=e[t];i&&(i.tabIndex=-1)}}getActiveElement(){return this.element.querySelector(".e-active")}getDropDownPage(){const e=this.element.querySelector(".e-pagerdropdown");let t;return e&&(t=e.children[0]),t}getFocusedElement(){return this.element.querySelector(".e-focused")}getClass(e){let t;const i=["e-mfirst","e-mprev","e-first","e-prev","e-pp","e-np","e-next","e-last","e-mnext","e-mlast"];for(let n=0;n<i.length;n++)if(e&&e.classList.contains(i[n]))return t=i[n],t;return t}getElementByClass(e){return this.element.querySelector("."+e)}getFocusablePagerElements(e,t){const n=e.children;let s=t;for(let o=0;o<n.length;o++){const l=n[o];if(l.children.length>0&&!l.classList.contains("e-pagesizes"))s=this.getFocusablePagerElements(l,s);else{const a=n[o];a.hasAttribute("tabindex")&&!l.classList.contains("e-disable")&&"none"!==l.style.display&&!h(l.offsetParent)&&s.push(a)}}return s}addFocus(e,t){t&&_([e],["e-focused","e-focus"]),e.tabIndex=0}removeFocus(e,t){t&&T([e],["e-focused","e-focus"]),e.tabIndex=-1}getLocalizedLabel(e){return this.localeObj.getConstant(e)}goToPage(e){this.checkGoToPage(e)&&(this.currentPage=e,this.dataBind())}setPageSize(e){this.pageSize=e,this.dataBind()}checkpagesizes(){return!(!0!==this.pageSizes&&!this.pageSizes.length)}checkGoToPage(e,t){return e!==this.currentPage&&(this.previousPageNo=this.currentPage),h(t)||(this.previousPageNo=t),this.previousPageNo!==e&&e>=1&&e<=this.totalPages}currentPageChanged(e,t){if(this.enableQueryString&&this.updateQueryString(this.currentPage),e.currentPage!==t.currentPage||e.pageSize!==t.pageSize){const i={currentPage:this.currentPage,newProp:e,oldProp:t,cancel:!1};this.trigger("click",i),i.cancel||this.refresh()}}pagerTemplate(){if(this.isReactTemplate()&&this.hasParent)return;let e;this.element.classList.add("e-pagertemplate"),this.compile(this.template);const t={currentPage:this.currentPage,pageSize:this.pageSize,pageCount:this.pageCount,totalRecordsCount:this.totalRecordsCount,totalPages:this.totalPages},i=this.element.parentElement.id+"_template";this.isReactTemplate()&&!this.isVue?(this.getPagerTemplate()(t,this,"template",i,null,null,this.element),this.renderReactTemplates()):(e=this.isVue?this.getPagerTemplate()(t,this,"template"):this.getPagerTemplate()(t),Ur(this.element,e))}updateTotalPages(){this.totalPages=this.isAllPage?1:this.totalRecordsCount%this.pageSize==0?this.totalRecordsCount/this.pageSize:parseInt((this.totalRecordsCount/this.pageSize).toString(),10)+1}getPagerTemplate(){return this.templateFn}compile(e){if(e)try{document.querySelectorAll(e).length&&(this.templateFn=ci(document.querySelector(e).innerHTML.trim()))}catch(t){this.templateFn=ci(e)}}refresh(){if(this.template)this.isReactTemplate()?(this.updateTotalPages(),this.notify(this.pageRefresh,{})):(this.element.innerHTML="",this.updateTotalPages(),this.pagerTemplate());else{this.updateRTL();const e=this.getFocusedTabindexElement();this.containerModule.refresh(),this.removeTabindexLastElements(),e&&e.classList.contains("e-disable")&&(this.checkFocusInAdaptiveMode(e)?this.changeFocusInAdaptiveMode(e):this.setPagerFocusForActiveElement()),this.enablePagerMessage&&this.pagerMessageModule.refresh(),this.pagerdropdownModule&&this.pagerdropdownModule.refresh(),this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.refresh(),this.setTabIndexForFocusLastElement()}}updateRTL(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}initLocalization(){this.localeObj=new is(this.getModuleName(),this.defaultConstants,this.locale)}updateQueryString(e){const t=this.getUpdatedURL(window.location.href,"page",e.toString());window.history.pushState({path:t},"",t)}getUpdatedURL(e,t,i){const n=new RegExp("([?|&])"+t+"=.*?(&|#|$)","i");if(e.match(n))return e.replace(n,"$1"+t+"="+i+"$2");{let s="";return-1!==e.indexOf("#")&&(s=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+(-1!==e.indexOf("?")?"&":"?")+t+"="+i+s}}renderFirstPrevDivForDevice(){this.element.appendChild(Xe("div",{className:"e-mfirst e-icons e-icon-first",attrs:{title:this.getLocalizedLabel("firstPageTooltip"),tabindex:"-1"}})),this.element.appendChild(Xe("div",{className:"e-mprev e-icons e-icon-prev",attrs:{title:this.getLocalizedLabel("previousPageTooltip"),tabindex:"-1"}}))}renderNextLastDivForDevice(){this.element.appendChild(Xe("div",{className:"e-mnext e-icons e-icon-next",attrs:{title:this.getLocalizedLabel("nextPageTooltip"),tabindex:"-1"}})),this.element.appendChild(Xe("div",{className:"e-mlast e-icons e-icon-last",attrs:{title:this.getLocalizedLabel("lastPageTooltip"),tabindex:"-1"}}))}addAriaLabel(){const e=[".e-mfirst",".e-mprev",".e-mnext",".e-mlast"];if(!A.isDevice)for(let t=0;t<e.length;t++){const i=this.element.querySelector(e[t]);i.setAttribute("aria-label",i.getAttribute("title"))}}isReactTemplate(){return(this.isReact||this.isVue)&&this.template&&"string"!=typeof this.template}};nc([y(!1)],ea.prototype,"enableQueryString",void 0),nc([y(!1)],ea.prototype,"enableExternalMessage",void 0),nc([y(!0)],ea.prototype,"enablePagerMessage",void 0),nc([y(12)],ea.prototype,"pageSize",void 0),nc([y(10)],ea.prototype,"pageCount",void 0),nc([y(1)],ea.prototype,"currentPage",void 0),nc([y()],ea.prototype,"totalRecordsCount",void 0),nc([y()],ea.prototype,"externalMessage",void 0),nc([y(!1)],ea.prototype,"pageSizes",void 0),nc([y()],ea.prototype,"template",void 0),nc([y("")],ea.prototype,"customText",void 0),nc([E()],ea.prototype,"click",void 0),nc([y("")],ea.prototype,"cssClass",void 0),nc([E()],ea.prototype,"dropDownChanged",void 0),nc([E()],ea.prototype,"created",void 0),ea=nc([Pi],ea);class sAe{constructor(e){this.pagerModule=e}getModuleName(){return"pagerdropdown"}render(){const e=this.pagerModule;this.pagerDropDownDiv=Xe("div",{className:"e-pagesizes"});const t=Xe("div",{className:"e-pagerdropdown"}),i=Xe("div",{className:"e-pagerconstant"}),n=Xe("input",{attrs:{type:"text",tabindex:"-1"}});this.pagerCons=Xe("span",{className:"e-constant",innerHTML:this.pagerModule.getLocalizedLabel("pagerDropDown")}),t.appendChild(n),i.appendChild(this.pagerCons),this.pagerDropDownDiv.appendChild(t),this.pagerDropDownDiv.appendChild(i),this.pagerModule.element.appendChild(this.pagerDropDownDiv);const s=this.pagerModule.pageSizes,o=s.length?this.convertValue(s):[this.pagerModule.getLocalizedLabel("All"),"5","10","12","20"],l=this.pagerModule.pageSize;this.dropDownListObject=new Sn({dataSource:o,value:l.toString(),change:this.onChange.bind(this),cssClass:this.pagerModule.cssClass?"e-alldrop "+this.pagerModule.cssClass:"e-alldrop"}),this.dropDownListObject.appendTo(n),s.length&&(this.dropDownListObject.element.value=this.pagerModule.pageSize.toString()),e.pageSize=l,e.dataBind(),e.trigger("dropDownChanged",{pageSize:l}),this.addEventListener()}onChange(e){this.dropDownListObject.value===this.pagerModule.getLocalizedLabel("All")?(this.pagerModule.pageSize=this.pagerModule.totalRecordsCount,this.pagerModule.isAllPage=!0,this.refresh(),e.value=this.pagerModule.pageSize,document.getElementsByClassName("e-popup-open e-alldrop").length&&(document.getElementsByClassName("e-popup-open e-alldrop")[0].style.display="none")):(this.pagerModule.pageSize=parseInt(this.dropDownListObject.value,10),this.pagerModule.isAllPage=!1,this.pagerCons.innerHTML!==this.pagerModule.getLocalizedLabel("pagerDropDown")&&this.refresh()),this.pagerModule.dataBind(),this.pagerModule.trigger("dropDownChanged",{pageSize:this.pagerModule.isAllPage?this.pagerModule.totalRecordsCount:parseInt(this.dropDownListObject.value,10)})}refresh(){this.pagerCons&&(this.pagerCons.innerHTML=this.pagerModule.getLocalizedLabel(this.pagerModule.pageSize===this.pagerModule.totalRecordsCount?"pagerAllDropDown":"pagerDropDown"))}beforeValueChange(e){if("number"==typeof e.newProp.value){const t=e.newProp.value.toString();e.newProp.value=t}}convertValue(e){const t=e;for(let i=0;i<t.length;i++)t[i]=parseInt(t[i],10)?t[i].toString():""!==this.pagerModule.getLocalizedLabel(t[i])?this.pagerModule.getLocalizedLabel(t[i]):t[i];return t}setDropDownValue(e,t){this.dropDownListObject&&(this.dropDownListObject[e]=this.pagerModule.isAllPage?this.pagerModule.getLocalizedLabel("All"):t)}addEventListener(){this.dropDownListObject.on("beforeValueChange",this.beforeValueChange,this)}removeEventListener(){this.dropDownListObject.off("beforeValueChange",this.beforeValueChange)}destroy(e){this.dropDownListObject&&!this.dropDownListObject.isDestroyed&&(this.removeEventListener(),this.dropDownListObject.destroy(),X(this.pagerDropDownDiv))}}class rAe{constructor(e){this.pagerModule=e}getModuleName(){return"externalMessage"}render(){this.element=Xe("div",{className:"e-pagerexternalmsg",attrs:{"aria-label":"Pager external message"}}),this.pagerModule.element.appendChild(this.element),this.refresh()}refresh(){this.pagerModule.externalMessage&&this.pagerModule.externalMessage.toString().length?(this.showMessage(),this.element.innerHTML=this.pagerModule.externalMessage):this.hideMessage()}hideMessage(){h(this.element)||(this.element.style.display="none")}showMessage(){this.element.style.display=""}destroy(){X(this.element)}}class n_{constructor(e,t){this.isInitialRender=!0,this.isCancel=!1,ea.Inject(rAe,sAe),this.parent=e,this.pageSettings=t,this.addEventListener()}getModuleName(){return"pager"}render(){const e=this.parent;this.pagerDestroy(),h(this.parent.pagerTemplate)||(this.pageSettings.template=this.parent.pagerTemplate,this.parent.pageTemplateChange=!0),this.element=this.parent.createElement("div",{className:"e-gridpager"});const t=jf({},O({},Fs(this.pageSettings)),{click:this.clickHandler.bind(this),dropDownChanged:this.onSelect.bind(this),enableRtl:e.enableRtl,locale:e.locale,created:this.addAriaAttr.bind(this)},["parentObj","propName"]);t.cssClass=this.parent.cssClass?this.parent.cssClass:"",this.pagerObj=new ea(t,void 0,this.parent),this.pagerObj.hasParent=!0,this.pagerObj.on(XQ,this.renderReactPagerTemplate,this),this.pagerObj.allowServerDataBinding=!1}onSelect(e){this.pageSettings.pageSize=e.pageSize,this.isInitialLoad||(this.pageSettings.currentPage=1)}addAriaAttr(){if(!this.pageSettings.template){const e=this.parent.createElement("div",{className:"e-numericcontainer"}),t=this.element.querySelector(".e-pagercontainer"),i=document.createDocumentFragment(),n=this.element.querySelector(".e-numericcontainer"),s=n.querySelectorAll("a");for(let l=0;l<s.length;l++){this.parent.getContentTable()?s[l].setAttribute("aria-owns",this.parent.getContentTable().id):s[l].setAttribute("aria-owns",this.parent.element.getAttribute("id")+"_content_table");const a=this.parent.createElement("div");a.appendChild(s[l]),i.appendChild(a)}e.appendChild(i),t.replaceChild(e,n);const o=[".e-mfirst",".e-mprev",".e-first",".e-prev",".e-next",".e-last",".e-mnext",".e-mlast"];for(let l=0;l<o.length;l++){const a=this.element.querySelector(o[l]);this.parent.getContentTable()&&a.setAttribute("aria-owns",this.parent.getContentTable().id)}}}dataReady(e){this.updateModel(e)}refresh(){this.pagerObj.refresh()}goToPage(e){this.pagerObj.goToPage(e)}setPageSize(e){this.pagerObj.setPageSize(e)}updateModel(e){this.parent.pageSettings.totalRecordsCount=e.count,this.parent.dataBind()}onActionComplete(e){this.parent.trigger(yi,O(e,{currentPage:this.parent.pageSettings.currentPage,requestType:"paging",type:yi}))}onPropertyChanged(e){if(e.module!==this.getModuleName())return;const t=e.properties;for(const i of Object.keys(t))this.pagerObj[i]=t[i];this.pagerObj.dataBind()}clickHandler(e){const t=this.parent;if(this.isForceCancel||Pu(t)&&!t.prevPageMoving&&!this.isCancel)return this.isForceCancel?this.isForceCancel=!1:(h(e.newProp)||h(e.newProp.pageSize)?e.currentPage&&(t.notify(Pc,{instance:this,handler:this.goToPage,arg1:e.currentPage}),this.pagerObj.currentPage=t.pageSettings.currentPage===this.pagerObj.currentPage?this.pagerObj.previousPageNo:t.pageSettings.currentPage):(t.notify(Pc,{instance:this,handler:this.setPageSize,arg1:e.newProp.pageSize}),this.pagerObj.pageSize=e.oldProp.pageSize,t.pageSettings.pageSize=e.newProp.pageSize),this.isForceCancel=!0,this.pagerObj.dataBind()),void(e.cancel=!0);t.pageSettings.pageSize=this.pagerObj.pageSize,t.prevPageMoving=!1;const i=this.pageSettings.currentPage;this.pageSettings.currentPage=e.currentPage;const n={cancel:!1,requestType:"paging",previousPage:i,currentPage:e.currentPage,type:Pn};if(this.isCancel||this.parent.notify(fo,n),n.cancel)return e.cancel=!0,this.pagerObj.currentPage=i,void(this.isCancel=!0);this.isCancel=!1,this.parent.requestTypeAction="paging"}keyPressHandler(e){e.action in FX&&(e.preventDefault(),this.element.querySelector(FX[e.action]).click())}updateExternalMessage(e){this.pagerObj.enableExternalMessage||(this.pagerObj.enableExternalMessage=!0,this.pagerObj.dataBind()),this.pagerObj.externalMessage=e,this.pagerObj.dataBind()}appendToElement(){this.isInitialLoad=!0,this.parent.element.appendChild(this.element),this.parent.setGridPager(this.element),this.pagerObj.isReact=this.parent.isReact,this.pagerObj.isVue=this.parent.isVue,this.pagerObj.appendTo(this.element),this.isInitialLoad=!1}enableAfterRender(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.appendToElement(),this.isReactTemplate()&&(this.pagerObj.updateTotalPages(),this.created()))}addEventListener(){this.handlers={load:this.render,end:this.appendToElement,ready:this.dataReady,complete:this.onActionComplete,updateLayout:this.enableAfterRender,inboundChange:this.onPropertyChanged,keyPress:this.keyPressHandler,created:this.created},!this.parent.isDestroyed&&((this.parent.isReact||this.parent.isVue)&&this.parent.addEventListener(WE,this.handlers.created.bind(this)),this.evtHandlers=[{event:Au,handler:this.handlers.load},{event:ol,handler:this.handlers.end},{event:Od,handler:this.handlers.ready},{event:"paging-complete",handler:this.handlers.complete},{event:as,handler:this.handlers.updateLayout},{event:ll,handler:this.handlers.inboundChange},{event:lr,handler:this.handlers.keyPress},{event:Ri,handler:this.destroy}],vo(this.parent,this.evtHandlers,!0,this))}created(){this.isInitialRender&&this.isReactTemplate()&&(this.isInitialRender=!1,this.renderReactPagerTemplate())}isReactTemplate(){return(this.parent.isReact||this.parent.isVue)&&this.pagerObj.template&&"string"!=typeof this.pagerObj.template}renderReactPagerTemplate(){if(!this.isInitialRender&&this.isReactTemplate()){let e;this.parent.destroyTemplate(["pagerTemplate"]),this.element.classList.add("e-pagertemplate"),this.pagerObj.compile(this.pagerObj.template);const t=this.parent.pageSettings,i={currentPage:t.currentPage,pageSize:t.pageSize,pageCount:t.pageCount,totalRecordsCount:t.totalRecordsCount,totalPages:this.pagerObj.totalPages},n=this.parent.id+"_pagertemplate";this.parent.isReact?(this.pagerObj.templateFn(i,this.parent,"pagerTemplate",n,null,null,this.pagerObj.element),this.parent.renderTemplates()):(e=this.pagerObj.templateFn(i,this.parent,"pagerTemplate"),Ur(this.pagerObj.element,e))}}removeEventListener(){this.parent.isDestroyed||((this.parent.isReact||this.parent.isVue)&&this.parent.removeEventListener(WE,this.handlers.created),this.parent.off(XQ,this.renderReactPagerTemplate),vo(this.parent,this.evtHandlers,!1))}destroy(){this.removeEventListener(),this.isReactTemplate()&&this.parent.destroyTemplate(["pagerTemplate"]),this.pagerObj.destroy()}pagerDestroy(){this.pagerObj&&!this.pagerObj.isDestroyed&&(this.pagerObj.destroy(),X(this.element))}}const FX={pageUp:".e-prev",pageDown:".e-next",ctrlAltPageDown:".e-last",ctrlAltPageUp:".e-first",altPageUp:".e-pp",altPageDown:".e-np"};class oAe extends xa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-filterbarcell"})}getGui(){return this.parent.createElement("div")}render(e,t){const i=this.parent.element.querySelector(".e-filterbar"),n=this.element.cloneNode(),s=this.getGui();let o;const l=e.column;if(i.appendChild(n),n.setAttribute("e-mappinguid",l.uid),l.filterTemplate){const a={};if(t&&(a[l.field]=t[l.field]),a.column=l,l.visible){const u=this.parent.element.id+l.uid+"filterTemplate";this.parent.isReact&&"string"!=typeof l.filterTemplate?(l.getFilterTemplate()(a,this.parent,"filterTemplate",u,null,null,n),this.parent.renderTemplates()):Ur(n,l.getFilterTemplate()(a,this.parent,"filterTemplate",u))}else n.classList.add("e-hide")}else if("checkbox"!==l.type){if(!h(l.allowFiltering)&&!l.allowFiltering||h(l.filterBarTemplate))Le(s,{class:"e-filterdiv e-fltrinputdiv"}),o=this.parent.createElement("input",{id:l.field+"_filterBarcell",className:"e-filtertext",attrs:{type:"search",title:l.headerText+e.attributes.title,value:t[e.column.field]?t[e.column.field]:"",role:"search"}}),s.appendChild(o),ke.createInput({element:o,floatLabelType:"Never",properties:{enableRtl:this.parent.enableRtl,showClearButton:!0}},this.parent.createElement);else if(n.classList.add("e-fltrtemp"),Le(s,{class:"e-fltrtempdiv"}),h(l.filterBarTemplate.create))o=this.parent.createElement("input",{id:l.field+"_filterBarcell",className:"e-filterUi_input e-filtertext e-fltrTemp",attrs:{type:"search",title:l.headerText}}),s.appendChild(o);else{const a={column:l,node:Element};let c=l.filterBarTemplate.create;if("string"==typeof c&&(c=M(c,window)),o=c(a),"string"==typeof o){const d=this.parent.createElement("div");d.innerHTML=o,o=d.firstChild}Le(s,{class:"e-filterUi_input e-filtertext e-fltrTemp",title:l.headerText,id:l.field+"_filterBarcell"}),s.appendChild(o)}if((!1===l.allowFiltering||""===l.field||h(l.field))&&(o.setAttribute("disabled","true"),o.classList.add("e-disable")),l.visible||n.classList.add("e-hide"),this.appendHtml(n,s),this.parent.filterSettings.showFilterBarOperator&&"FilterBar"===this.parent.filterSettings.type&&!this.parent.isPrinting&&h(l.filterTemplate)&&h(l.filterBarTemplate)&&this.operatorIconRender(s,l,e),(h(l.allowFiltering)||l.allowFiltering)&&!h(l.filterBarTemplate)){let a=l.filterBarTemplate.write;const c={element:o,column:l};"string"==typeof a&&(a=M(a,window)),a.call(this,c)}}return n}appendHtml(e,t){return e.appendChild(t),e}operatorIconRender(e,t,i){const n=this.parent;let s;const o=this.parent.createElement("input",{className:" e-filterbaroperator e-icons e-icon-filter",id:i.column.uid});if(e.querySelector("span").appendChild(o),t.filter&&t.filter.operator)s=t.filter.operator;else if(n.filterSettings.columns.length)for(let a=0,c=n.filterSettings.columns;a<c.length;a++){let d=c[a];s=d.field===t.field?d.operator:"equal"}else s="equal";h(n.filterModule.operators[t.field])||(s=n.filterModule.operators[t.field]),this.dropOptr=new Sn({fields:{text:"text",value:"value"},popupHeight:"auto",value:s,width:"0px",enabled:t.allowFiltering,popupWidth:"auto",enableRtl:this.parent.enableRtl,change:this.internalEvent.bind(this),beforeOpen:function(){this.dataSource=n.filterModule.customOperators[n.getColumnByUid(this.element.id).type+"Operator"];for(let c=0;c<this.dataSource.length;c++)t.filter&&t.filter.operator&&h(n.filterModule.operators[t.field])&&this.dataSource[c].value===t.filter.operator&&(this.value=t.filter.operator)},cssClass:this.parent.cssClass?this.parent.cssClass:null}),this.dropOptr.appendTo(o);const l=D(this.dropOptr.element,"span");l.classList.add("e-filterbardropdown"),l.removeAttribute("tabindex")}internalEvent(e){const t=this.parent,i=t.getColumnByUid(e.element.getAttribute("id"));e.column=i,t.filterModule.operators[i.field]=e.value,t.notify("get-filterbar-operator",e)}}class lAe{constructor(e,t,i,n){this.ddOpen=this.dropDownOpen.bind(this),this.parent=e,this.serviceLocator=i,this.filterSettings=n,this.customFilterOperators=t,this.parent&&(this.parent.on(dd,this.destroyDropDownList,this),this.parent.on(Ri,this.destroyDropDownList,this))}renderOperatorUI(e,t,i,n,s){this.dialogObj=n;const o=i.type+"Operator";this.optrData=this.customOptr=h(s)?h(this.parent.filterSettings.operators)||h(this.parent.filterSettings.operators[o])?this.customFilterOperators[o]:this.parent.filterSettings.operators[o]:s;const l=this.customOptr,a=this.dropSelectedVal(i,o),c=this.parent.createElement("div",{className:"e-flm_optrdiv"});e.appendChild(c);const d=this.parent.createElement("input",{id:i.uid+"-floptr"});c.appendChild(d),this.dropOptr=new Sn({dataSource:l,fields:{text:"text",value:"value"},cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",enableRtl:this.parent.enableRtl,text:a}),this.dropOptr.addEventListener(ud,this.ddOpen),this.dropOptr.appendTo("#"+i.uid+"-floptr")}renderResponsiveDropDownList(e){e.popup.element.style.width="100%"}dropDownOpen(e){e.popup.element.style.zIndex=(this.dialogObj.zIndex+1).toString(),this.parent.enableAdaptiveUI&&this.renderResponsiveDropDownList(e)}dropSelectedVal(e,t){let i="";const n=this.parent.filterSettings.columns;for(const s of n)if(e.field===s.field||e.isForeignColumn()&&e.foreignKeyValue===s.field){const o=new ie(this.optrData).executeLocal((new Ze).where("value","equal",s.operator));i=h(o[0])?"":o[0].text}if(""===i)if(e.filter.operator){const s=Object.keys(this.optrData).length;for(let o=0;o<s;o++)this.optrData[o].value===e.filter.operator&&(i=this.optrData[o].text)}else i=this.optrData[0].text;return i}getFlOperator(){return this.dropOptr.value}destroyDropDownList(){this.dropOptr.isDestroyed||(this.dropOptr.removeEventListener(ud,this.ddOpen),this.dropOptr.destroy(),this.parent.off(dd,this.destroyDropDownList),this.parent.off(Ri,this.destroyDropDownList))}}class aAe{constructor(e,t,i){this.parent=e,this.serLocator=t,this.filterSettings=i,this.parent&&(this.parent.on(dd,this.destroy,this),this.parent.on(Ri,this.destroy,this))}create(e){this.instance=this.parent.createElement("input",{className:"e-flmenu-input",id:"strui-"+e.column.uid}),e.target.appendChild(this.instance),this.dialogObj=e.dialogObj,this.actObj=this.getAutoCompleteOptions(e),this.actObj.appendTo(this.instance)}getAutoCompleteOptions(e){const t=e.column.isForeignColumn();let i;t&&(i=new Ze,i.params=this.parent.query.params);const n=t?e.column.dataSource:this.parent.dataSource,s={value:t?e.column.foreignKeyValue:e.column.field},o=new ko(O({dataSource:n instanceof ie?n:new ie(n),fields:s,locale:this.parent.locale,enableRtl:this.parent.enableRtl,query:t?i:this.parent.query.clone(),sortOrder:"Ascending",cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",autofill:!0,placeholder:e.localizeText.getConstant("EnterValue")},e.column.filter.params));if(this.acFocus=this.focus(o,e),this.acComplete=this.actionComplete(o),this.acOpen=this.openPopup.bind(this),o.addEventListener(Bx,this.acFocus),o.addEventListener(ud,this.acOpen),o.addEventListener(yi,this.acComplete),n&&"result"in n){const a=d4({requestType:"stringfilterrequest"},this.parent.getQuery?this.parent.getQuery().clone():new Ze);this.parent.trigger(B1,a.state),a.deffered.promise.then(d=>{o.dataSource=new ie(d)})}return o}write(e){""===e.filteredValue||h(e.filteredValue)||(document.querySelector("#strui-"+e.column.uid).ej2_instances[0].value=e.filteredValue)}read(e,t,i,n){const s=document.querySelector("#strui-"+t.uid).ej2_instances[0];A.isDevice&&(s.hidePopup(),s.focusOut());let o=s.value;(h(o)||""===o)&&(o=null),n.filterByColumn(t.field,i,o,"and",this.parent.filterSettings.enableCaseSensitivity)}openPopup(e){CX(e,this.dialogObj)}focus(e,t){return()=>{e.filterType=t.getOptrInstance.getFlOperator()}}actionComplete(e){return t=>{t.result=t.result.filter((i,n,s)=>s.map(o=>M(e.fields.value,o)).indexOf(M(e.fields.value,i))===n)}}destroy(){!this.actObj||this.actObj.isDestroyed||(this.actObj.removeEventListener(Bx,this.acFocus),this.actObj.removeEventListener(ud,this.acOpen),this.actObj.removeEventListener(yi,this.acComplete),this.actObj.destroy(),this.parent.off(dd,this.destroy),this.parent.off(Ri,this.destroy))}}class cAe{constructor(e,t,i){this.filterSettings=i,this.parent=e,this.serviceLocator=t,this.parent&&(this.parent.on(dd,this.destroy,this),this.parent.on(Ri,this.destroy,this))}keyEventHandler(e){if(13===e.keyCode||9===e.keyCode){const t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),this.dispatchEvent(t)}}create(e){this.instance=this.parent.createElement("input",{className:"e-flmenu-input",id:"numberui-"+e.column.uid}),e.target.appendChild(this.instance),this.numericTxtObj=new ng(O({format:"string"==typeof e.column.format||Et(e.column.format)?e.column.format:e.column.format.format,locale:this.parent.locale,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:e.localizeText.getConstant("EnterValue"),enableRtl:this.parent.enableRtl},e.column.filter.params)),this.numericTxtObj.appendTo(this.instance)}write(e){const t=document.querySelector("#numberui-"+e.column.uid).ej2_instances[0];t.element.addEventListener("keydown",this.keyEventHandler),t.value=e.filteredValue}read(e,t,i,n){const o=document.querySelector("#numberui-"+t.uid).ej2_instances[0].value;n.filterByColumn(t.field,i,o,"and",!0)}destroy(){!this.numericTxtObj||this.numericTxtObj.isDestroyed||(this.numericTxtObj.destroy(),this.parent.off(dd,this.destroy),this.parent.off(Ri,this.destroy))}}class dAe{constructor(e,t,i){this.parent=e,this.serviceLocator=t,this.filterSettings=i,this.parent&&(this.parent.on(dd,this.destroy,this),this.parent.on(Ri,this.destroy,this))}create(e){const t=e.column.isForeignColumn(),i=t?e.column.dataSource:this.parent.dataSource,n=t?e.column.foreignKeyValue:e.column.field;this.elem=this.parent.createElement("input",{className:"e-flmenu-input",id:"bool-ui-"+e.column.uid}),e.target.appendChild(this.elem),this.dialogObj=e.dialogObj,this.dropInstance=new Sn(O({dataSource:i instanceof ie?i:new ie(i),query:(new Ze).select(n),fields:{text:n,value:n},placeholder:e.localizeText.getConstant("SelectValue"),cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",locale:this.parent.locale,enableRtl:this.parent.enableRtl},e.column.filter.params)),this.ddOpen=this.openPopup.bind(this),this.ddComplete=this.actionComplete(n),this.dropInstance.addEventListener(ud,this.ddOpen),this.dropInstance.addEventListener(yi,this.ddComplete),this.dropInstance.appendTo(this.elem)}write(e){const t=document.querySelector("#bool-ui-"+e.column.uid).ej2_instances[0];h(e.filteredValue)||(t.text=e.filteredValue)}read(e,t,i,n){const o=document.querySelector("#bool-ui-"+t.uid).ej2_instances[0].value;n.filterByColumn(t.field,i,o,"and",!1)}openPopup(e){CX(e,this.dialogObj)}actionComplete(e){return t=>{t.result=Ie.distinct(t.result,e,!0)}}destroy(){!this.dropInstance||this.dropInstance.isDestroyed||(this.dropInstance.removeEventListener(ud,this.ddOpen),this.dropInstance.removeEventListener(yi,this.ddComplete),this.dropInstance.destroy(),this.parent.off(dd,this.destroy),this.parent.off(Ri,this.destroy))}}class PX{constructor(e,t,i){this.dpOpen=this.openPopup.bind(this),this.parent=e,this.locator=t,this.fltrSettings=i,this.parent&&(this.parent.on(dd,this.destroy,this),this.parent.on(Ri,this.destroy,this))}create(e){const t=sT(e.column.format,e.column.type);this.dialogObj=e.dialogObj,this.inputElem=this.parent.createElement("input",{className:"e-flmenu-input",id:"dateui-"+e.column.uid}),e.target.appendChild(this.inputElem),"date"===e.column.type?this.datePickerObj=new rs(O({format:t,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:e.localizeText.getConstant("ChooseDate"),width:"100%",locale:this.parent.locale,enableRtl:this.parent.enableRtl},e.column.filter.params)):"datetime"===e.column.type&&(this.datePickerObj=new In(O({format:t,cssClass:this.parent.cssClass?"e-popup-flmenu "+this.parent.cssClass:"e-popup-flmenu",placeholder:e.localizeText.getConstant("ChooseDate"),width:"100%",locale:this.parent.locale,enableRtl:this.parent.enableRtl},e.column.filter.params))),this.datePickerObj.addEventListener(ud,this.dpOpen),this.datePickerObj.appendTo(this.inputElem)}write(e){document.querySelector("#dateui-"+e.column.uid).ej2_instances[0].value=h(e.filteredValue)?null:new Date(e.filteredValue)}read(e,t,i,n){let o=document.querySelector("#dateui-"+t.uid).ej2_instances[0].value;o=h(o)?null:o,n.filterByColumn(t.field,i,o,"and",!0)}openPopup(e){e.popup.element.style.zIndex=(this.dialogObj.zIndex+1).toString()}destroy(){this.parent.off(dd,this.destroy),this.parent.off(Ri,this.destroy),!h(this.datePickerObj)&&!this.datePickerObj.isDestroyed&&(this.datePickerObj.removeEventListener(ud,this.dpOpen),this.datePickerObj.destroy())}}class hAe{constructor(e,t,i,n,s){this.isDialogOpen=!1,this.maxHeight="350px",this.isMenuCheck=!1,this.colTypes={string:aAe,number:cAe,date:PX,boolean:dAe,datetime:PX},this.parent=e,this.filterSettings=t,this.serviceLocator=i,this.customFilterOperators=n,this.filterObj=s,this.flMuiObj=new lAe(this.parent,this.customFilterOperators,this.serviceLocator),this.l10n=this.serviceLocator.getService("localization"),this.menuFilterBase=new Zl(e)}clearCustomFilter(e){this.clearBtnClick(e)}applyCustomFilter(e){this.filterBtnClick(e.col)}openDialog(e){this.options=e,this.col=this.parent.getColumnByField(e.field),(h(this.col.filter)||h(this.col.filter.type)||"Menu"===this.col.filter.type)&&this.renderDlgContent(e.target,this.col)}closeDialog(e){if(!this.dlgObj)return;(this.parent.isReact||this.parent.isVue)&&t_(this.parent,["filterTemplate"]);const t=document.getElementById(this.dlgObj.element.id);if(this.dlgObj&&!this.dlgObj.isDestroyed&&t){const i={cancel:!1,column:this.col,target:e,element:t};if(this.parent.notify(dd,i),i.cancel)return;this.isDialogOpen=!1,this.isMenuCheck&&(this.menuFilterBase.unWireEvents(),this.parent.off(Px,this.actionComplete),this.isMenuCheck=!1),this.dlgObj.destroy(),X(t)}this.parent.notify(VE,{})}renderDlgContent(e,t){const i={requestType:fQ,columnName:t.field,columnType:t.type};i.filterModel=this,this.parent.trigger(Pn,i);const s=this.parent.createElement("div",{className:"e-flmenu-maindiv",id:t.uid+"-flmenu"});this.dlgDiv=this.parent.createElement("div",{className:"e-flmenu",id:t.uid+"-flmdlg"}),this.dlgDiv.setAttribute("aria-label",this.l10n.getConstant("FilterMenuDialogARIA")),this.parent.enableAdaptiveUI?document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv").appendChild(this.dlgDiv):this.parent.element.appendChild(this.dlgDiv),this.dlgObj=new qi({showCloseIcon:!1,closeOnEscape:!1,locale:this.parent.locale,visible:!1,enableRtl:this.parent.enableRtl,created:this.dialogCreated.bind(this,e,t),position:this.parent.element.classList.contains("e-device")?{X:"center",Y:"center"}:{X:"",Y:""},target:this.parent.element.classList.contains("e-device")?document.body:this.parent.element,buttons:[{click:this.filterBtnClick.bind(this,t),buttonModel:{content:this.l10n.getConstant("FilterButton"),isPrimary:!0,cssClass:this.parent.cssClass?"e-flmenu-okbtn "+this.parent.cssClass:"e-flmenu-okbtn"}},{click:this.clearBtnClick.bind(this,t),buttonModel:{content:this.l10n.getConstant("ClearButton"),cssClass:this.parent.cssClass?"e-flmenu-cancelbtn "+this.parent.cssClass:"e-flmenu-cancelbtn"}}],content:s,width:!h(Ce(e,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:250,animationSettings:{effect:"None"},cssClass:this.parent.cssClass?"e-filter-popup "+this.parent.cssClass:"e-filter-popup"}),this.dlgObj.isStringTemplate=!0,this.renderResponsiveDialog(),this.dlgObj.appendTo(this.dlgDiv)}renderResponsiveDialog(){this.parent.enableAdaptiveUI&&(this.dlgObj.position={X:"",Y:""},this.dlgObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv"),this.dlgObj.width="100%",this.dlgObj.isModal=!1,this.dlgObj.buttons=[{}])}dialogCreated(e,t){!A.isDevice&&e&&xX(e,this.dlgObj),this.renderFilterUI(e,t),t.showColumnMenu&&this.parent.notify(O1,{}),this.parent.enableAdaptiveUI?(this.dlgObj.element.style.left="0px",this.dlgObj.element.style.maxHeight="none"):this.dlgObj.element.style.maxHeight=this.maxHeight,this.dlgObj.show(),t.filterTemplate||this.writeMethod(t,this.dlgObj.element.querySelector("#"+t.uid+"-flmenu"));const i={requestType:gQ,columnName:t.field,columnType:t.type};i.filterModel=this,this.isDialogOpen=!0,this.isMenuCheck||this.parent.trigger(yi,i)}renderFilterUI(e,t){const i=this.dlgObj.element.querySelector(".e-flmenu-maindiv");this.parent.log("column_type_missing",{column:t}),this.renderOperatorUI(i,e,t),this.renderFlValueUI(i,e,t)}renderOperatorUI(e,t,i){this.flMuiObj.renderOperatorUI(e,t,i,this.dlgObj,this.filterObj.menuOperator)}renderFlValueUI(e,t,i){const n=this.parent.createElement("div",{className:"e-flmenu-valuediv"}),s=this.filterObj;e.appendChild(n);const o=new this.colTypes[i.type](this.parent,this.serviceLocator,this.parent.filterSettings);if(i.filterTemplate){const l={};l[i.field]=l.value=s.values[i.field],i.foreignKeyValue&&(l[i.foreignKeyValue]=s.values[i.field],l[i.field]=void 0),l.column=i;const u=this.parent.element.id+i.uid+"filterTemplate";this.parent.isReact&&"string"!=typeof i.filterTemplate?(i.getFilterTemplate()(l,this.parent,"filterTemplate",u,null,null,n),this.parent.renderTemplates()):Ur(n,i.getFilterTemplate()(l,this.parent,"filterTemplate",u)),this.isMenuCheck&&(this.menuFilterBase.cBox=this.dlgObj.element.querySelector(".e-checkboxlist.e-fields"),this.menuFilterBase.wireEvents(),this.parent.on(Px,this.actionComplete,this),this.menuFilterBase.getAllData())}else if(h(i.filter)||h(i.filter.ui)||h(i.filter.ui.create))o.create({column:i,target:n,getOptrInstance:this.flMuiObj,localizeText:this.l10n,dialogObj:this.dlgObj});else{let l=i.filter.ui.create;"string"==typeof l&&(l=M(l,window)),l({column:i,target:n,getOptrInstance:this.flMuiObj,dialogObj:this.dlgObj})}}writeMethod(e,t){let i;const n=t.querySelector(".e-flmenu-valinput"),s=new this.colTypes[e.type](this.parent,this.serviceLocator,this.parent.filterSettings),o=this.filterSettings.columns;for(const l of o)e.uid===l.uid&&(i=l.value);if(h(e.filter)||h(e.filter.ui)||h(e.filter.ui.write))s.write({column:e,target:n,parent:this.parent,filteredValue:i});else{let l=e.filter.ui.write;"string"==typeof l&&(l=M(l,window)),l({column:e,target:n,parent:this.parent,filteredValue:i})}}filterBtnClick(e){let t;const i=this.dlgObj.element.querySelector(".e-flmenu-valuediv input"),n=this.flMuiObj.getFlOperator(),s=new this.colTypes[e.type](this.parent,this.serviceLocator,this.parent.filterSettings);if(e.filterTemplate){const o=this.dlgDiv.querySelector(".e-flmenu-valuediv");let l;if(o.children[0].value)l=o.children[0].value;else if(h(o.children[0].ej2_instances)){const a=o.querySelector(".e-control");l="boolean"===e.type?a.checked:h(a.ej2_instances)?a.value:a.ej2_instances[0].value}else l=(this.parent.isAngular?o.children[0]:o.querySelector("input")).ej2_instances[0].value;this.filterObj.filterByColumn(e.field,n,l)}else if(h(e.filter)||h(e.filter.ui)||h(e.filter.ui.read))s.read(i,e,n,this.filterObj);else{let o=e.filter.ui.read;"string"==typeof o&&(o=M(o,window)),t=o({element:i,column:e,operator:n,fltrObj:this.filterObj})}this.closeDialog(),this.parent.showColumnMenu&&this.parent.notify(qE,{})}closeResponsiveDialog(){this.closeDialog()}clearBtnClick(e){this.filterObj.removeFilteredColsByField(e.field),this.closeDialog();const t=this.parent.showColumnMenu&&e.showColumnMenu?".e-columnmenu":".e-icon-filter",n=this.parent.element.querySelector('[e-mappinguid="'+e.uid+'"]').parentElement.querySelector(t);n&&n.classList.remove("e-filtered")}destroy(){this.closeDialog()}getFilterUIInfo(){return{field:this.col.field,operator:this.flMuiObj.getFlOperator()}}renderCheckBoxMenu(){return this.isMenuCheck=!0,this.menuFilterBase.updateModel(this.options),this.menuFilterBase.getAndSetChkElem(this.options),this.dlgObj.buttons=[{click:this.menuFilterBase.btnClick.bind(this.menuFilterBase),buttonModel:{content:this.menuFilterBase.getLocalizedLabel("FilterButton"),cssClass:"e-primary",isPrimary:!0}},{click:this.menuFilterBase.btnClick.bind(this.menuFilterBase),buttonModel:{cssClass:"e-flat",content:this.menuFilterBase.getLocalizedLabel("ClearButton")}}],this.menuFilterBase.dialogObj=this.dlgObj,this.menuFilterBase.dlg=this.dlgObj.element,this.menuFilterBase.dlg.classList.add("e-menucheckbox"),this.menuFilterBase.dlg.classList.remove("e-checkboxfilter"),this.maxHeight="800px",this.menuFilterBase.sBox.innerHTML}actionComplete(e){this.isMenuCheck&&this.parent.trigger(yi,e)}}class LX{constructor(e,t,i){this.parent=e,this.isresetFocus=!0,this.checkBoxBase=new Zl(e),this.addEventListener()}destroy(){this.removeEventListener(),this.checkBoxBase.closeDialog()}openDialog(e){this.checkBoxBase.openDialog(e),this.parent.log("column_type_missing",{column:e.column})}closeDialog(){this.destroy(),this.isresetFocus&&this.parent.notify(M0,{})}closeResponsiveDialog(){this.checkBoxBase.closeDialog()}getModuleName(){return"checkboxFilter"}actionBegin(e){this.parent.trigger(Pn,e)}actionComplete(e){this.parent.trigger(yi,e)}actionPrevent(e){Pu(this.parent)&&(this.parent.notify(Pc,e),e.cancel=!0)}clearCustomFilter(e){this.checkBoxBase.clearFilter(e)}applyCustomFilter(){this.checkBoxBase.fltrBtnHandler(),this.checkBoxBase.closeDialog()}addEventListener(){this.parent.isDestroyed||(this.parent.on(C5,this.actionBegin,this),this.parent.on(Px,this.actionComplete,this),this.parent.on(H1,this.actionPrevent,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(C5,this.actionBegin),this.parent.off(Px,this.actionComplete),this.parent.off(H1,this.actionPrevent))}}class uAe extends LX{constructor(e,t,i,n){super(e,t,i),this.parent=e,this.isresetFocus=!0,this.excelFilterBase=new tAe(e,n)}destroy(){this.excelFilterBase.closeDialog()}openDialog(e){this.excelFilterBase.openDialog(e)}closeDialog(){this.excelFilterBase.closeDialog(),this.isresetFocus&&this.parent.notify(M0,{})}clearCustomFilter(e){this.excelFilterBase.clearFilter(e)}closeResponsiveDialog(e){e?this.excelFilterBase.removeDialog():this.closeDialog()}applyCustomFilter(e){e.isCustomFilter?this.excelFilterBase.filterBtnClick(e.col.field):(this.excelFilterBase.fltrBtnHandler(),this.excelFilterBase.closeDialog())}filterByColumn(e,t,i,n,s,o,l,a){this.excelFilterBase.filterByColumn(e,t,i,n,s,o,l,a)}getFilterUIInfo(){return this.excelFilterBase.getFilterUIInfo()}getModuleName(){return"excelFilter"}}class hT{constructor(e,t,i){this.predicate="and",this.contentRefresh=!0,this.filterByMethod=!0,this.refresh=!0,this.values={},this.operators={},this.cellText={},this.nextFlMenuOpen="",this.type={Menu:hAe,CheckBox:LX,Excel:uAe},this.filterOperators={contains:"contains",endsWith:"endswith",equal:"equal",greaterThan:"greaterthan",greaterThanOrEqual:"greaterthanorequal",lessThan:"lessthan",lessThanOrEqual:"lessthanorequal",notEqual:"notequal",startsWith:"startswith"},this.fltrDlgDetails={field:"",isOpen:!1},this.skipNumberInput=["="," ","!"],this.skipStringInput=[">","<","="],this.actualPredicate={},this.parent=e,this.filterSettings=t,this.serviceLocator=i,this.addEventListener(),this.setFullScreenDialog()}render(e){if(Ie.getObject("args.isFrozen",e)||this.parent.getFrozenMode()===Lt&&Ie.getObject("args.renderFrozenRightContent",e))return;const t=this.parent;if(this.l10n=this.serviceLocator.getService("localization"),this.getLocalizedCustomOperators(),"FilterBar"===this.parent.filterSettings.type&&t.columns.length){const i=this.parent.element.querySelector(".e-filterbar");i&&X(i);const n=new ya(this.serviceLocator,Ct.Filter,t);this.serviceLocator.getService("cellRendererFactory").addCellRenderer(Ct.Filter,new oAe(this.parent,this.serviceLocator)),this.valueFormatter=this.serviceLocator.getService("valueFormatter"),n.element=this.parent.createElement("tr",{className:"e-filterbar",attrs:{role:"row"}});const o=this.generateRow();o.data=this.values,"Right"===t.getFrozenMode()?t.getFrozenRightHeader().querySelector("thead").appendChild(n.element):this.parent.getHeaderContent().querySelector("thead").appendChild(n.element);const l=this.parent.element.querySelector(".e-rowdragheader");this.element=n.render(o,t.getColumns(),null,null,n.element);const a=this.element.querySelector(".e-detailheadercell");a&&(a.className="e-filterbarcell e-mastercell"),l&&(l.className="e-dragheadercell e-mastercell");const c=[].slice.call(this.element.getElementsByClassName("e-grouptopleftcell"));c.length&&c[c.length-1].classList.add("e-lastgrouptopleftcell"),this.wireEvents(),this.parent.notify(Nd,{case:"filter"})}}showCustomFilter(e){this.responsiveDialogRenderer.isCustomDialog=e,this.responsiveDialogRenderer.showResponsiveDialog(this.column)}setFilterModel(e){this.filterModule=new this.type[e.filter.type||this.parent.filterSettings.type](this.parent,this.parent.filterSettings,this.serviceLocator,this.customOperators,this)}destroy(){const e=this.parent.element;if(e&&(e.querySelector("."+br)||e.querySelector("."+ar))){if(this.filterModule&&this.filterModule.destroy(),!this.parent.refreshing&&(this.parent.isDestroyed||!this.parent.allowFiltering)&&(this.filterSettings.columns=[]),this.updateFilterMsg(),this.removeEventListener(),this.unWireEvents(),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator){const t=[].slice.call(this.element.getElementsByClassName("e-filterbaroperator"));for(let i=0;i<t.length;i++)t[i].ej2_instances[0]&&t[i].ej2_instances[0].destroy()}if(this.element){this.element.parentElement&&X(this.element);const t=this.parent.getHeaderContent().querySelector(".e-filterbar");this.parent.isFrozenGrid()&&t&&X(t)}}}setFullScreenDialog(){this.serviceLocator&&this.serviceLocator.registerAdaptiveService(this,this.parent.enableAdaptiveUI,En.isFilter)}generateRow(){const t=new Vd({});return t.cells=this.generateCells(),t}generateCells(){const e=[];if(this.parent.allowGrouping)for(let t=0,i=this.parent.groupSettings.columns.length;t<i;t++)e.push(this.generateCell({},Ct.HeaderIndent));(this.parent.detailTemplate||this.parent.childGrid)&&e.push(this.generateCell({},Ct.DetailHeader)),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&e.push(this.generateCell({},Ct.RowDragHIcon));for(const t of this.parent.getColumns())e.push(this.generateCell(t));return"Right"===this.parent.getFrozenMode()&&e.push(this.generateCell({},Ct.RowDragHIcon)),e}generateCell(e,t){const i={visible:e.visible,isDataCell:!1,rowId:"",column:e,cellType:t||Ct.Filter,attributes:{title:this.l10n.getConstant("FilterbarTitle")}};return new ja(i)}updateModel(){const e=this.parent.getColumnByField(this.fieldName);this.filterObjIndex=this.getFilteredColsIndexByField(e),this.prevFilterObject=this.filterSettings.columns[this.filterObjIndex];const t=Array.isArray(this.value)?this.value:[this.value],i=this.parent.dataSource.adaptor&&this.parent.dataSource.adaptor.getModuleName?this.parent.dataSource.adaptor.getModuleName():void 0;for(let n=0,s=t.length;n<s;n++){const o=e.isForeignColumn()?e.foreignKeyValue:this.fieldName,l="notequal"===this.operator;this.currentFilterObject={field:o,uid:e.uid,isForeignKey:e.isForeignColumn(),operator:this.operator,value:t[n],predicate:this.predicate,matchCase:this.matchCase,ignoreAccent:this.ignoreAccent,actualFilterValue:{},actualOperator:{}};const a=this.getFilteredColsIndexByField(e);a>-1&&!Array.isArray(this.value)?this.filterSettings.columns[a]=this.currentFilterObject:this.filterSettings.columns.push(this.currentFilterObject),h(this.value)&&("equal"===this.operator||"notequal"===this.operator)&&"ODataAdaptor"!==i&&"ODataV4Adaptor"!==i&&(this.filterSettings.columns=[],"string"===e.type&&this.filterSettings.columns.push({field:o,ignoreAccent:this.ignoreAccent,matchCase:this.matchCase,operator:this.operator,predicate:l?"and":"or",value:""}),this.filterSettings.columns.push({field:o,ignoreAccent:this.ignoreAccent,matchCase:this.matchCase,operator:this.operator,predicate:l?"and":"or",value:void 0}),this.filterSettings.columns.push({field:o,ignoreAccent:this.ignoreAccent,matchCase:this.matchCase,operator:this.operator,predicate:l?"and":"or",value:null}))}this.filterSettings.columns=this.filterSettings.columns,this.parent.dataBind()}getFilteredColsIndexByField(e){const t=this.filterSettings.columns;for(let i=0,n=t.length;i<n;i++)if(t[i].uid===e.uid||e.isForeignColumn()&&this.parent.getColumnByUid(e.uid).field===e.foreignKeyValue)return i;return-1}onActionComplete(e){const t=this.isRemove?{requestType:"filtering",type:yi}:{currentFilterObject:this.currentFilterObject,currentFilteringColumn:h(this.column)?void 0:this.column.field,columns:this.filterSettings.columns,requestType:"filtering",type:yi};this.parent.trigger(yi,O(e,t)),this.isRemove=!1}wireEvents(){C.add(this.parent.getHeaderContent(),"keyup",this.keyUpHandlerImmediate,this)}unWireEvents(){C.remove(this.parent.getHeaderContent(),"keyup",this.keyUpHandlerImmediate)}enableAfterRender(e){e.module===this.getModuleName()&&e.enable&&(this.parent.getHeaderTable().classList.add("e-sortfilter"),this.render())}refreshFilterValue(){this.parent.removeEventListener(SE,this.refreshFilterValueFn),"FilterBar"===this.filterSettings.type&&this.filterSettings.columns.length&&!this.parent.getCurrentViewRecords().length&&this.initialEnd()}initialEnd(){if(this.parent.off(Is,this.initialEnd),this.parent.getColumns().length&&this.filterSettings.columns.length){const e=this.parent;this.contentRefresh=!1,this.initialLoad=!0;for(const t of e.filterSettings.columns)this.filterByColumn(t.field,t.operator,t.value,t.predicate,t.matchCase,t.ignoreAccent,t.actualFilterValue,t.actualOperator);this.initialLoad=!1,this.updateFilterMsg(),this.contentRefresh=!0}}addEventListener(){this.parent.isDestroyed||(this.parent.on(G1,this.setFullScreenDialog,this),this.parent.on(as,this.enableAfterRender,this),this.parent.on(vQ,this.onActionComplete,this),this.parent.on(ll,this.onPropertyChanged,this),this.parent.on(lr,this.keyUpHandler,this),this.parent.on(Ax,this.columnPositionChanged,this),this.parent.on(io,this.render,this),this.parent.on(Is,this.initialEnd,this),this.parent.on(dd,this.filterMenuClose,this),this.docClickHandler=this.clickHandler.bind(this),C.add(document,"click",this.docClickHandler,this),C.add(this.parent.element,"mousedown",this.refreshClearIcon,this),this.parent.on(u5,this.columnMenuFilter,this),this.parent.on(kl,this.filterIconClickHandler,this),this.parent.on("persist-data-changed",this.initialEnd,this),this.parent.on(T5,this.clickHandler,this),this.parent.on(Ri,this.destroy,this),this.refreshFilterValueFn=this.refreshFilterValue.bind(this),this.parent.addEventListener(SE,this.refreshFilterValueFn))}removeEventListener(){C.remove(document,"click",this.docClickHandler),C.remove(this.parent.element,"mousedown",this.refreshClearIcon),!this.parent.isDestroyed&&(this.parent.off(G1,this.setFullScreenDialog),this.parent.off(as,this.enableAfterRender),this.parent.off(vQ,this.onActionComplete),this.parent.off(ll,this.onPropertyChanged),this.parent.off(lr,this.keyUpHandler),this.parent.off(Ax,this.columnPositionChanged),this.parent.off(io,this.render),this.parent.off(u5,this.columnMenuFilter),this.parent.off(dd,this.filterMenuClose),this.parent.off(kl,this.filterIconClickHandler),this.parent.off(T5,this.clickHandler),this.parent.off(Ri,this.destroy))}refreshClearIcon(e){if(this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type&&e.target.classList.contains("e-clear-icon")){const t=e.target.previousElementSibling;ke.setValue(null,t,"Never",!0),"Immediate"===this.filterSettings.mode&&this.removeFilteredColsByField(t.id.slice(0,-14))}}filterMenuClose(){this.fltrDlgDetails.isOpen=!1}filterByColumn(e,t,i,n,s,o,l,a){const c=this.parent;let d;if(this.column=c.grabColumnByFieldFromAllCols(e),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator&&h(this.column.filterBarTemplate)&&h(this.column.filterTemplate)&&(t=this.getOperatorName(e)),!this.column)return;if("FilterBar"===this.filterSettings.type&&(d=c.getHeaderContent().querySelector("[id='"+this.column.field+"_filterBarcell']")),!h(this.column.allowFiltering)&&!this.column.allowFiltering)return void this.parent.log("action_disabled_column",{moduleName:this.getModuleName(),columnName:this.column.headerText});if(Pu(c))return void c.notify(Pc,{instance:this,handler:this.filterByColumn,arg1:e,arg2:t,arg3:i,arg4:n,arg5:s,arg6:o,arg7:l,arg8:a});if(this.predicate=n||(Array.isArray(i)?"or":"and"),this.value=i,this.matchCase=s||!1,this.ignoreAccent=this.ignoreAccent=h(o)?this.parent.filterSettings.ignoreAccent:o,this.fieldName=e,this.operator=t,""===(i=h(i)?i:i.toString())&&(i=null),("number"===this.column.type||"date"===this.column.type)&&(this.matchCase=!0),c.getColumnHeaderByField(e).setAttribute("aria-filtered","true"),d&&"FilterBar"===this.filterSettings.type){if(i&&i.length<1||!this.filterByMethod&&this.checkForSkipInput(this.column,i))return this.filterStatusMsg=i&&i.length<1?"":this.l10n.getConstant("InvalidFilterMessage"),void this.updateFilterMsg();d.value!==i&&(d.value=i)}h(this.column.format)?this.values[this.column.field]=i:(this.applyColumnFormat(i),this.initialLoad&&"FilterBar"===this.filterSettings.type&&(d.value=this.values[this.column.field]));const u={field:this.fieldName,predicate:n,matchCase:s,ignoreAccent:o,operator:this.operator,value:this.value,type:this.column.type};this.parent.filterSettings.columns.filter(g=>g.field===this.fieldName).length>1&&!h(this.actualPredicate[this.fieldName])?this.actualPredicate[this.fieldName].push(u):this.actualPredicate[this.fieldName]=[u],!this.checkAlreadyColFiltered(this.column.field)&&this.updateModel()}applyColumnFormat(e){const t="date"===this.column.type||"datetime"===this.column.type?new Date(e):parseFloat(e);this.values[this.column.field]=("date"===this.column.type||"datetime"===this.column.type)&&e&&e.split(",").length>1?e.split(",").map(i=>(""===i&&(i=null),this.setFormatForFlColumn(new Date(i),this.column))):this.setFormatForFlColumn(t,this.column)}skipUid(e){let t=!0;const i=Object.keys(e);for(let n=0;n<i.length;n++){const s=Object.keys(e[i[n]]);1===s.length&&"uid"===s[0]&&(t=!1)}return t}onPropertyChanged(e){if(e.module===this.getModuleName())for(const t of Object.keys(e.properties))switch(t){case"columns":const i="columns",n={currentFilterObject:this.currentFilterObject,currentFilteringColumn:this.column?this.column.field:void 0,action:"filter",columns:this.filterSettings.columns,requestType:"filtering",type:Pn,cancel:!1};if(this.contentRefresh&&this.skipUid(e.properties[i])){if(this.parent.notify(fo,n),n.cancel)return void(h(this.prevFilterObject)?this.filterSettings.columns.splice(this.filterSettings.columns.length-1,1):this.filterSettings.columns[this.filterObjIndex]=this.prevFilterObject);this.updateFilterIcon(),this.refreshFilterSettings(),this.updateFilterMsg(),this.updateFilter()}break;case"showFilterBarStatus":e.properties[t]?this.updateFilterMsg():this.parent.allowPaging&&this.parent.updateExternalMessage("");break;case"showFilterBarOperator":case"type":this.parent.refreshHeader(),this.refreshFilterSettings()}}refreshFilterSettings(){if("FilterBar"===this.filterSettings.type){for(let e=0;e<this.filterSettings.columns.length;e++){this.column=this.parent.grabColumnByUidFromAllCols(this.filterSettings.columns[e].uid);let t=this.filterSettings.columns[e].value;t=!h(t)&&t.toString(),h(this.column.format)?this.values[this.filterSettings.columns[e].field]=this.filterSettings.columns[e].value:this.applyColumnFormat(t);const i=this.getFilterBarElement(this.column.field);i&&(i.value=""===this.cellText[this.filterSettings.columns[e].field]||h(this.cellText[this.filterSettings.columns[e].field])?this.filterSettings.columns[e].value:this.cellText[this.column.field])}if(0===this.filterSettings.columns.length){const e=this.parent.getColumns();for(let t=0;t<e.length;t++){const i=this.getFilterBarElement(e[t].field);i&&""!==i.value&&(i.value="",delete this.values[e[t].field])}}}}updateFilterIcon(){if(0===this.filterSettings.columns.length&&this.parent.element.querySelector(".e-filtered")){const e=[].slice.call(this.parent.element.getElementsByClassName("e-filtered"));for(let t=0,i=e.length;t<i;t++)e[t].removeAttribute("aria-filtered"),e[t].classList.remove("e-filtered")}}getFilterBarElement(e){const t="[id='"+e+"_filterBarcell']";let i;return t&&!h(this.element)&&(i=this.element.querySelector(t)),i}refreshFilter(){this.refreshFilterSettings(),this.updateFilterMsg()}clearFiltering(e){const t=s4(this.filterSettings.columns);if(!h(e))return this.refresh=!1,e.forEach(s=>{this.removeFilteredColsByField(s,!1)}),this.parent.setProperties({filterSettings:{columns:this.filterSettings.columns}},!0),this.parent.renderModule.refresh(),void(this.refresh=!0);if(Pu(this.parent))return void this.parent.notify(Pc,{instance:this,handler:this.clearFiltering});for(let s=0;s<t.length;s++)t[s].uid=t[s].uid||this.parent.getColumnByField(t[s].field).uid;const i=t.map(s=>s.uid),n=i.filter((s,o)=>i.indexOf(s)===o);this.refresh=!1;for(let s=0,o=n.length;s<o;s++)this.removeFilteredColsByField(this.parent.getColumnByUid(n[s]).field,!1);if(this.refresh=!0,n.length&&this.parent.renderModule.refresh(),0===this.parent.filterSettings.columns.length&&this.parent.element.querySelector(".e-filtered")){const s=[].slice.call(this.parent.element.getElementsByClassName("e-filtered"));for(let o=0,l=s.length;o<l;o++)s[0].removeAttribute("aria-filtered"),s[0].classList.remove("e-filtered")}this.isRemove=!0,this.filterStatusMsg="",this.updateFilterMsg()}checkAlreadyColFiltered(e){const t=this.filterSettings.columns;for(const i of t)if(i.field===e&&i.value===this.value&&i.operator===this.operator&&i.predicate===this.predicate)return!0;return!1}columnMenuFilter(e){this.column=e.col;const t=D(e.target,"#"+e.id);e.isClose&&!t?this.filterModule.closeDialog():t&&this.filterDialogOpen(this.column,e.target)}filterDialogOpen(e,t,i,n){this.filterModule&&this.filterModule.closeDialog(),this.setFilterModel(e),this.filterModule.openDialog(this.createOptions(e,t,i,n))}createOptions(e,t,i,n){const s=this.parent,o=e.filter.dataSource||s.dataSource&&"result"in s.dataSource?s.dataSource:s.getDataModule().dataManager,l=e.filter.type||this.parent.filterSettings.type;return{type:e.type,field:e.field,displayName:e.headerText,dataSource:o,format:e.format,height:800,columns:s.getColumns(),filteredColumns:s.filterSettings.columns,target:t,dataManager:s.getDataModule().dataManager,formatFn:e.getFormatter(),ignoreAccent:s.filterSettings.ignoreAccent,parserFn:e.getParser(),query:s.query,template:e.getFilterItemTemplate(),hideSearchbox:!h(e.filter.hideSearchbox)&&e.filter.hideSearchbox,handler:this.filterHandler.bind(this),localizedStrings:s.getLocaleConstants(),position:{X:i,Y:n},column:e,foreignKeyValue:e.foreignKeyValue,actualPredicate:this.actualPredicate,localeObj:s.localeObj,isRemote:s.getDataModule().isRemote(),allowCaseSensitive:this.filterSettings.enableCaseSensitivity,isResponsiveFilter:this.parent.enableAdaptiveUI,operator:this.actualPredicate[e.field]&&"Menu"===l?this.actualPredicate[e.field][0].operator:"equal"}}removeFilteredColsByField(e,t){let i;const n=this.filterSettings.columns;if(Pu(this.parent))return void this.parent.notify(Pc,{instance:this,handler:this.removeFilteredColsByField,arg1:e,arg2:t});const s=n.map(l=>l.uid),o=s.filter((l,a)=>s.indexOf(l)===a);for(let l=0,a=o.length;l<a;l++){n[l].uid=n[l].uid||this.parent.getColumnByField(n[l].field).uid;let c=n.length;const d=this.parent.grabColumnByUidFromAllCols(o[l]);if(d.field===e||d.field===d.foreignKeyValue&&d.isForeignColumn()){const u=this.filterSettings.columns.filter(g=>g.uid===d.uid)[0];if("FilterBar"===this.filterSettings.type&&!t){const g="[id='"+d.field+"_filterBarcell']";i=this.parent.getHeaderContent().querySelector(g),i&&(i.value="",delete this.values[e])}for(;c--;)n[c].uid===d.uid&&n.splice(c,1);const p=this.parent.getColumnHeaderByField(d.field);p.removeAttribute("aria-filtered"),"FilterBar"!==this.filterSettings.type&&p.querySelector(this.parent.showColumnMenu&&d.showColumnMenu?".e-columnmenu":".e-icon-filter").classList.remove("e-filtered"),this.isRemove=!0,this.actualPredicate[e]&&delete this.actualPredicate[e],this.values[e]&&delete this.values[e],this.refresh&&this.parent.notify(fo,{requestType:"filtering",type:Pn,currentFilterObject:u,currentFilterColumn:d,action:"clearFilter"});break}}this.updateFilterMsg()}getModuleName(){return"filter"}keyUpHandlerImmediate(e){13!==e.keyCode&&this.keyUpHandler(e)}keyUpHandler(e){const t=this.parent,i=e.target;if(i&&Um(i,".e-filterbar input")){const n=D(i,"th.e-filterbarcell");if(this.column=t.getColumnByUid(n.getAttribute("e-mappinguid")),!this.column)return;if("altDownArrow"===e.action&&this.parent.filterSettings.showFilterBarOperator){const s=D(i,"span").querySelector(".e-filterbaroperator");s.ej2_instances[0].showPopup(),s.focus()}("Immediate"===this.filterSettings.mode||13===e.keyCode&&!e.target.classList.contains("e-filterbaroperator"))&&9!==e.keyCode&&!this.column.filterTemplate&&(this.value=i.value.trim(),this.processFilter(e))}if("altDownArrow"===e.action&&"FilterBar"!==this.filterSettings.type){const n=t.focusModule.currentInfo.element;if(n&&n.classList.contains("e-headercell")){const s=t.getColumnByUid(n.firstElementChild.getAttribute("e-mappinguid"));this.openMenuByField(s.field),this.parent.focusModule.clearIndicator()}}"escape"===e.action&&"Menu"===this.filterSettings.type&&this.filterModule&&(this.filterModule.closeDialog(),t.notify(M0,{}))}updateCrossIcon(e){e.value.length&&e.nextElementSibling.classList.remove("e-hide")}updateFilterMsg(){if("FilterBar"===this.filterSettings.type){const e=this.parent;let t;const i=this.filterSettings.columns;let n;if(!this.filterSettings.showFilterBarStatus)return;if(i.length>0&&this.filterStatusMsg!==this.l10n.getConstant("InvalidFilterMessage")){this.filterStatusMsg="";for(let s=0;s<i.length;s++)if(n=e.grabColumnByUidFromAllCols(i[s].uid)||e.grabColumnByFieldFromAllCols(i[s].field),s&&(this.filterStatusMsg+=" && "),h(n.format))this.filterStatusMsg+=n.headerText+": "+this.values[n.field];else{const o="date"===n.type||"datetime"===n.type?this.valueFormatter.fromView(this.values[n.field],n.getParser(),n.type):this.values[n.field];t="date"===n.type||"datetime"===n.type?this.setFormatForFlColumn(o,n):this.serviceLocator.getService("valueFormatter").toView(o,n.getParser()).toString(),this.filterStatusMsg+=n.headerText+": "+t}}e.allowPaging&&e.updateExternalMessage(this.filterStatusMsg),this.filterStatusMsg=""}}setFormatForFlColumn(e,t){return this.serviceLocator.getService("valueFormatter").toView(e,t.getFormatter()).toString()}checkForSkipInput(e,t){let i;if("number"===e.type)(Ie.operatorSymbols[t]||this.skipNumberInput.indexOf(t)>-1)&&(i=!0);else if("string"===e.type)for(const n of t)this.skipStringInput.indexOf(n)>-1&&(i=!0);return i}processFilter(e){this.stopTimer(),this.startTimer(e)}startTimer(e){this.timer=window.setInterval(()=>{this.onTimerTick()},13===e.keyCode?0:this.filterSettings.immediateModeDelay)}stopTimer(){window.clearInterval(this.timer)}onTimerTick(){const e="[id='"+this.column.field+"_filterBarcell']";let i,t=this.element.querySelector(e);if(!t&&this.parent.isFrozenGrid()&&(t=this.parent.getHeaderContent().querySelector(e)),this.cellText[this.column.field]=t.value,this.stopTimer(),h(this.column.filterBarTemplate))i=JSON.parse(JSON.stringify(t.value));else{let n=this.column.filterBarTemplate.read;"string"==typeof n&&(n=M(n,window)),h(n)||(this.value=n.call(this,t))}h(this.value)||""===this.value?this.removeFilteredColsByField(this.column.field):(this.validateFilterValue(this.value),this.filterByMethod=!1,this.filterByColumn(this.column.field,this.operator,this.value,this.predicate,this.filterSettings.enableCaseSensitivity,this.ignoreAccent),this.filterByMethod=!0,t.value=i,this.updateFilterMsg())}validateFilterValue(e){let t,i;switch(this.matchCase=this.filterSettings.enableCaseSensitivity,this.column.type){case"number":this.operator=this.column.filter.operator?this.column.filter.operator:this.filterOperators.equal,t=[">","<","=","!"];for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1){i=n;break}this.getOperator(e.substring(i)),0!==i&&(this.value=e.substring(0,i)),""!==this.value&&e.length>=1&&(this.value=this.valueFormatter.fromView(this.value,this.column.getParser(),this.column.type)),isNaN(this.value)&&(this.filterStatusMsg=this.l10n.getConstant("InvalidFilterMessage"));break;case"date":case"datetime":this.operator=this.filterOperators.equal,""!==this.value&&!(this.value instanceof Date)&&(this.getOperator(e),this.value=this.valueFormatter.fromView(this.value,this.column.getParser(),this.column.type),h(this.value)&&(this.filterStatusMsg=this.l10n.getConstant("InvalidFilterMessage")));break;case"string":this.matchCase=!1,"*"===e.charAt(0)?(this.value=this.value.slice(1),this.operator=this.filterOperators.startsWith):"%"===e.charAt(e.length-1)?(this.value=this.value.slice(0,-1),this.operator=this.filterOperators.startsWith):"%"===e.charAt(0)?(this.value=this.value.slice(1),this.operator=this.filterOperators.endsWith):this.operator=this.column.filter.operator?this.column.filter.operator:this.filterOperators.startsWith;break;case"boolean":"true"===e.toLowerCase()||"1"===e?this.value=!0:"false"===e.toLowerCase()||"0"===e?this.value=!1:e.length&&(this.filterStatusMsg=this.l10n.getConstant("InvalidFilterMessage")),this.operator=this.filterOperators.equal;break;default:this.operator=this.column.filter.operator?this.column.filter.operator:this.filterOperators.equal}}getOperator(e){const t=e.charAt(0),i=e.slice(0,2),n=O({"=":this.filterOperators.equal,"!":this.filterOperators.notEqual},Ie.operatorSymbols);(n.hasOwnProperty(t)||n.hasOwnProperty(i))&&(this.operator=n[t],this.value=e.substring(1),this.operator||(this.operator=n[i],this.value=e.substring(2))),(this.operator===this.filterOperators.lessThan||this.operator===this.filterOperators.greaterThan)&&"="===this.value.charAt(0)&&(this.operator=this.operator+"orequal",this.value=this.value.substring(1))}columnPositionChanged(){}getLocalizedCustomOperators(){const e=[{value:"equal",text:this.l10n.getConstant("Equal")},{value:"greaterthan",text:this.l10n.getConstant("GreaterThan")},{value:"greaterthanorequal",text:this.l10n.getConstant("GreaterThanOrEqual")},{value:"lessthan",text:this.l10n.getConstant("LessThan")},{value:"lessthanorequal",text:this.l10n.getConstant("LessThanOrEqual")},{value:"notequal",text:this.l10n.getConstant("NotEqual")}];this.customOperators={stringOperator:[{value:"startswith",text:this.l10n.getConstant("StartsWith")},{value:"endswith",text:this.l10n.getConstant("EndsWith")},{value:"contains",text:this.l10n.getConstant("Contains")},{value:"equal",text:this.l10n.getConstant("Equal")},{value:"notequal",text:this.l10n.getConstant("NotEqual")}],numberOperator:e,dateOperator:e,datetimeOperator:e,booleanOperator:[{value:"equal",text:this.l10n.getConstant("Equal")},{value:"notequal",text:this.l10n.getConstant("NotEqual")}]}}openMenuByField(e){const t=this.parent;if(t.enableAdaptiveUI)return void this.showCustomFilter(!1);const i=t.getColumnByField(e),s=t.getColumnHeaderByField(e).querySelector(".e-filtermenudiv");if(!s)return;const o=t.element.getBoundingClientRect(),l=s.getBoundingClientRect();this.filterDialogOpen(i,s,l.right-o.left,l.bottom-o.top)}filterIconClickHandler(e){const t=e.target;if(t.classList.contains("e-filtermenudiv")&&("Menu"===this.parent.filterSettings.type||"CheckBox"===this.parent.filterSettings.type||"Excel"===this.parent.filterSettings.type)){const n=this.parent.getColumnByUid(Ce(t,"e-headercell").firstElementChild.getAttribute("e-mappinguid"));if(this.column=n,this.fltrDlgDetails.field===n.field&&this.fltrDlgDetails.isOpen)return;this.filterModule&&this.filterModule.closeDialog(),this.fltrDlgDetails={field:n.field,isOpen:!0},this.openMenuByField(n.field)}}clickHandler(e){if("FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator){if(Ce(e.target,"e-filterbarcell")&&e.target.classList.contains("e-input-group-icon")){const t=D(e.target,"div").querySelector(".e-filterbaroperator");t?t.focus():e.target.focus()}if(e.target.classList.contains("e-list-item")){const t=document.querySelector(".e-popup-open").getAttribute("id").replace("_popup","");-1!==t.indexOf("grid-column")&&D(document.getElementById(t),"div").querySelector(".e-filtertext").focus()}}if("Immediate"===this.filterSettings.mode||"Menu"===this.parent.filterSettings.type||"CheckBox"===this.parent.filterSettings.type||"Excel"===this.parent.filterSettings.type){const t=e.target,i=t.classList.contains("e-day"),n=Ce(this.parent.element,"e-dialog");let s=!1;const o=Ce(t,"e-popup"),l=this.parent.element.querySelector(".e-filter-popup");if(n&&o&&(s=n.id===o.id),l&&(Ce(t,"e-excel-ascending")||Ce(t,"e-excel-descending"))&&this.filterModule.closeDialog(t),Ce(t,"e-filter-popup")||t.classList.contains("e-filtermenudiv"))return;this.filterModule&&!Ce(t,"e-popup-wrapper")&&!D(t,".e-filter-item.e-menu-item")&&!i&&(s&&!Ce(t,"e-filter-popup")&&!Ce(t,"e-popup-flmenu")||!o&&l)&&(this.filterModule.isresetFocus=Ce(t,"e-grid")&&Ce(t,"e-grid").id===this.parent.element.id,this.filterModule.closeDialog(t))}}filterHandler(e){this.actualPredicate[e.field]=e.actualPredicate;const t=new ie(this.filterSettings.columns),i=(new Ze).where("field",this.filterOperators.equal,e.field),n=t.executeLocal(i);for(let a=0;a<n.length;a++){let c=-1;for(let d=0;d<this.filterSettings.columns.length;d++)if(n[a].field===this.filterSettings.columns[d].field){c=d;break}-1!==c&&this.filterSettings.columns.splice(c,1)}this.values[e.field]&&delete this.values[e.field];const s=this.parent.getColumnByField(e.field),o=this.parent.showColumnMenu&&s.showColumnMenu?".e-columnmenu":".e-icon-filter",l=this.parent.getColumnHeaderByField(e.field).querySelector(o);"filtering"===e.action?(this.filterSettings.columns=this.filterSettings.columns.concat(e.filterCollection),this.filterSettings.columns.length&&l&&l.classList.add("e-filtered")):(l&&l.classList.remove("e-filtered"),e.requestType="filtering",this.parent.renderModule.refresh(e)),this.parent.dataBind()}updateFilter(){const e=this.filterSettings.columns;this.actualPredicate={};for(let t=0;t<e.length;t++){this.column=this.parent.getColumnByField(e[t].field)||J1(e[t].field,this.parent.getForeignKeyColumns());let i=e[t].field;this.parent.getColumnByField(e[t].field)||(i=J1(e[t].field,this.parent.getForeignKeyColumns()).field),this.refreshFilterIcon(i,e[t].operator,e[t].value,e[t].type,e[t].predicate,e[t].matchCase,e[t].ignoreAccent,e[t].uid)}}refreshFilterIcon(e,t,i,n,s,o,l,a){const c={field:e,predicate:s,matchCase:o,ignoreAccent:l,operator:t,value:i,type:n};this.actualPredicate[e]?this.actualPredicate[e].push(c):this.actualPredicate[e]=[c];const d=a?this.parent.grabColumnByUidFromAllCols(a).field:e;this.addFilteredClass(d)}addFilteredClass(e){let t;const i=this.parent.getColumnByField(e);this.parent.showColumnMenu&&i.showColumnMenu?t=this.parent.getColumnHeaderByField(e).querySelector(".e-columnmenu"):i&&(t=this.parent.getColumnHeaderByField(e).querySelector(".e-icon-filter")),t&&t.classList.add("e-filtered")}getFilterUIInfo(){return this.filterModule?this.filterModule.getFilterUIInfo():{}}getOperatorName(e){return document.getElementById(this.parent.getColumnByField(e).uid).ej2_instances[0].value}renderCheckboxOnFilterMenu(){return this.filterModule.renderCheckBoxMenu()}}class mAe{constructor(e,t){this.predefinedItems={},this.items=["Add","Edit","Update","Delete","Cancel","Print","Search","ColumnChooser","PdfExport","ExcelExport","CsvExport","WordExport"],this.parent=e,this.gridID=e.element.id,this.serviceLocator=t,this.addEventListener()}render(){this.l10n=this.serviceLocator.getService("localization");const e=["Add","Edit","Update","Delete","Cancel","Print","PdfExport","ExcelExport","WordExport","CsvExport"],t=this.parent.enableAdaptiveUI,i=["Edit","Delete","Update","Cancel"];for(const n of e){const s=n.toLowerCase(),o=s[0].toUpperCase()+s.slice(1);this.predefinedItems[n]={id:this.gridID+"_"+s,prefixIcon:"e-"+s,text:this.l10n.getConstant(o),tooltipText:this.l10n.getConstant(o)},t&&(this.predefinedItems[n].text="",this.predefinedItems[n].visible=-1===i.indexOf(n))}this.predefinedItems.Search={id:this.gridID+"_search",tooltipText:this.l10n.getConstant("Search"),align:"Right",cssClass:"e-search-wrapper",type:"Input"},this.predefinedItems.ColumnChooser={id:this.gridID+"_columnchooser",cssClass:"e-cc e-ccdiv e-cc-toolbar",suffixIcon:"e-columnchooser-btn",text:t?"":this.l10n.getConstant("Columnchooser"),tooltipText:this.l10n.getConstant("Columnchooser"),align:"Right"},"Vertical"===this.parent.rowRenderingMode&&(this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&(this.predefinedItems.responsiveFilter={id:this.gridID+"_responsivefilter",cssClass:"e-gridresponsiveicons e-icons",suffixIcon:"e-resfilter-icon",tooltipText:this.l10n.getConstant("FilterButton")}),this.parent.allowSorting&&(this.predefinedItems.responsiveSort={id:this.gridID+"_responsivesort",cssClass:"e-gridresponsiveicons e-icons",suffixIcon:"e-ressort-icon",tooltipText:this.l10n.getConstant("Sort")})),this.parent.enableAdaptiveUI&&this.parent.toolbar.indexOf("Search")>-1&&(this.predefinedItems.responsiveBack={id:this.gridID+"_responsiveback",cssClass:"e-gridresponsiveicons e-icons",suffixIcon:"e-resback-icon",visible:!1}),this.createToolbar()}getToolbar(){return this.toolbar.element}destroy(){this.toolbar&&!this.toolbar.isDestroyed&&(this.toolbar.element?(this.toolbar.off("render-react-toolbar-template",this.addReactToolbarPortals),this.toolbar.destroy()):(this.parent.destroyTemplate(["toolbarTemplate"]),this.parent.isReact&&this.parent.renderTemplates()),this.unWireEvent(),this.removeEventListener(),this.element.parentNode&&X(this.element))}bindSearchEvents(){this.searchElement=G("#"+this.gridID+"_searchbar",this.element),this.wireEvent(),this.refreshToolbarItems(),this.parent.searchSettings&&this.updateSearchBox()}toolbarCreated(e){this.element.querySelector(".e-search-wrapper")&&(this.element.querySelector(".e-search-wrapper").innerHTML=!this.parent.enableAdaptiveUI||e?'<div class="e-input-group e-search" role="search">                    <input id="'+this.gridID+'_searchbar" class="e-input" name="input" type="search"                     placeholder= "'+this.l10n.getConstant("Search")+'"/>                    <span id="'+this.gridID+'_searchbutton" class="e-input-group-icon e-search-icon e-icons"                     tabindex="-1" title="'+this.l10n.getConstant("Search")+'" aria-label= "search" role= "search"></span>                     </div>':'<span id="'+this.gridID+'_searchbutton" class="e-input-group-icon e-search-icon e-icons"                     tabindex="-1" title="'+this.l10n.getConstant("Search")+'" aria-label= "search"></span>                     </div>'),this.bindSearchEvents()}createToolbar(){const e=this.getItems();this.toolbar=new Yl({items:e,clicked:this.toolbarClickHandler.bind(this),enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,created:this.toolbarCreated.bind(this),cssClass:this.parent.cssClass?this.parent.cssClass:""}),this.toolbar.isReact=this.parent.isReact,this.toolbar.on("render-react-toolbar-template",this.addReactToolbarPortals,this),this.toolbar.isStringTemplate=!0;const i="viewContainerRef";if(this.parent[i]&&(this.toolbar.registeredTemplate={},this.toolbar[i]=this.parent[i]),this.element=this.parent.createElement("div",{id:this.gridID+"_toolbarItems"}),this.parent.enableAdaptiveUI&&this.element.classList.add("e-res-toolbar"),this.parent.toolbarTemplate)if("string"==typeof this.parent.toolbarTemplate)this.toolbar.appendTo(this.parent.toolbarTemplate),this.element=this.toolbar.element;else{const o=this.parent.element.id+"toolbarTemplate";this.parent.isReact&&"string"!=typeof this.parent.toolbarTemplate?(Jl(this.parent.toolbarTemplate)({},this.parent,"toolbarTemplate",o,null,null,this.element),this.parent.renderTemplates()):Ur(this.element,Jl(this.parent.toolbarTemplate)({},this.parent,"toolbarTemplate"))}else this.toolbar.appendTo(this.element);this.parent.element.insertBefore(this.element,this.parent.getHeaderContent())}addReactToolbarPortals(e){this.parent.isReact&&e&&(this.parent.portals=this.parent.portals.concat(e),this.parent.renderTemplates())}renderResponsiveSearch(e){e?(this.toolbarCreated(!0),this.refreshResponsiveToolbarItems(Vf.isSearch),this.searchElement=G("#"+this.gridID+"_searchbar",this.element),Ce(this.searchElement,"e-toolbar-right").classList.add("e-responsive-right"),this.parent.searchSettings&&this.updateSearchBox(),this.searchBoxObj.searchFocus({target:this.searchElement}),this.searchElement.focus()):this.refreshResponsiveToolbarItems(Vf.isInitial)}refreshResponsiveToolbarItems(e){if(e===Vf.isInitial){const t=this.parent.element.id,i=[t+"_edit",t+"_delete"],n=this.parent.getSelectedRowIndexes(),s=[t+"_responsiveback",t+"_update",t+"_cancel"];for(const o of this.toolbar.items){const l=this.toolbar.element.querySelector("#"+o.id);l&&(i.indexOf(o.id)>-1?n.length?l.parentElement.classList.remove("e-hidden"):l.parentElement.classList.add("e-hidden"):-1===s.indexOf(o.id)?l.parentElement.classList.remove("e-hidden"):l.parentElement.classList.add("e-hidden"))}this.searchElement&&(Ce(this.searchElement,"e-toolbar-right").classList.remove("e-responsive-right"),this.toolbarCreated(!1),this.unWireEvent(),this.searchElement=void 0)}if(e===Vf.isSearch){const t=[this.parent.element.id+"_responsiveback",this.parent.element.id+"_search"];for(const i of this.toolbar.items){const n=this.toolbar.element.querySelector("#"+i.id);n&&(t.indexOf(i.id)>-1?n.parentElement.classList.remove("e-hidden"):n.parentElement.classList.add("e-hidden"))}}}refreshToolbarItems(e){const t=this.parent;let i=[],n=[];const s=t.editSettings,o=t.currentViewData&&t.currentViewData.length;s.allowAdding?i.push(this.gridID+"_add"):n.push(this.gridID+"_add"),s.allowEditing&&o?i.push(this.gridID+"_edit"):n.push(this.gridID+"_edit"),s.allowDeleting&&o?i.push(this.gridID+"_delete"):n.push(this.gridID+"_delete"),"Batch"===t.editSettings.mode?t.element.getElementsByClassName("e-updatedtd").length&&(s.allowAdding||s.allowEditing)?(i.push(this.gridID+"_update"),i.push(this.gridID+"_cancel")):(n.push(this.gridID+"_update"),n.push(this.gridID+"_cancel")):t.isEdit&&(s.allowAdding||s.allowEditing)?(i=[this.gridID+"_update",this.gridID+"_cancel"],n=[this.gridID+"_add",this.gridID+"_edit",this.gridID+"_delete"]):(n.push(this.gridID+"_update"),n.push(this.gridID+"_cancel")),this.enableItems(i,!0),this.enableItems(n,!1)}getItems(){const e=[],t=this.parent.toolbar||[];if("string"==typeof this.parent.toolbar)return[];"Vertical"===this.parent.rowRenderingMode&&(this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&e.push(this.getItemObject("responsiveFilter")),this.parent.allowSorting&&e.push(this.getItemObject("responsiveSort")));for(const i of t)switch(typeof i){case"number":e.push(this.getItemObject(this.items[i]));break;case"string":e.push(this.getItemObject(i));break;default:e.push(this.getItem(i))}return this.parent.enableAdaptiveUI&&this.parent.toolbar.indexOf("Search")>-1&&e.push(this.getItemObject("responsiveBack")),e}getItem(e){const t=this.predefinedItems[e.text];return t?O(t,t,e):e}getItemObject(e){return this.predefinedItems[e]||{text:e,id:this.gridID+"_"+e}}enableItems(e,t){for(const i of e){const n=G("#"+i,this.element);n&&this.toolbar.enableItems(n.parentElement,t)}}toolbarClickHandler(e){const t=this.parent,i=this.gridID;O(e,{cancel:!1});const s=e.originalEvent;t.trigger("toolbarClick",e,o=>{if(o.originalEvent=o.originalEvent?o.originalEvent:s,!o.cancel)switch(!h(o.item)&&o.item.id){case i+"_print":t.print();break;case i+"_edit":t.startEdit();break;case i+"_update":t.endEdit();break;case i+"_cancel":t.closeEdit();break;case i+"_add":t.addRecord();break;case i+"_delete":t.deleteRecord();break;case i+"_search":o.originalEvent.target.id===i+"_searchbutton"&&this.searchElement?this.search():t.enableAdaptiveUI&&!this.searchElement&&(o.originalEvent.target.classList.contains("e-search-wrapper")||o.originalEvent.target.id===i+"_searchbutton")&&this.renderResponsiveSearch(!0);break;case i+"_columnchooser":const l=this.parent.element.querySelector(".e-ccdiv");let a=l.getBoundingClientRect().top;const c=l.getBoundingClientRect().left,d=o.originalEvent.target;a=l.getBoundingClientRect().top+l.offsetTop,t.createColumnchooser(c,a,d);break;case i+"_responsivefilter":t.showResponsiveCustomFilter();break;case i+"_responsivesort":t.showResponsiveCustomSort();break;case i+"_responsiveback":this.renderResponsiveSearch(!1)}})}modelChanged(e){"edit"===e.module&&this.refreshToolbarItems()}onPropertyChanged(e){e.module!==this.getModuleName()||!this.parent.toolbar||(this.element&&X(this.element),this.render())}keyUpHandler(e){13===e.keyCode&&this.search()}search(){this.parent.search(this.searchElement.value)}updateSearchBox(){this.searchElement&&(this.searchElement.value=this.parent.searchSettings.key)}wireEvent(){this.searchElement&&(this.searchBoxObj=new lX(this.searchElement),C.add(this.searchElement,"keyup",this.keyUpHandler,this),this.searchBoxObj.wireEvent())}unWireEvent(){this.searchElement&&(C.remove(this.searchElement,"keyup",this.keyUpHandler),this.searchBoxObj.unWireEvent())}reRenderToolbar(){this.element&&X(this.element),this.render()}addEventListener(){this.parent.isDestroyed||(this.evtHandlers=[{event:G1,handler:this.reRenderToolbar},{event:ol,handler:this.render},{event:as,handler:this.onPropertyChanged},{event:ll,handler:this.updateSearchBox.bind(this)},{event:fo,handler:this.refreshToolbarItems},{event:Dg,handler:this.refreshToolbarItems},{event:ll,handler:this.modelChanged},{event:za,handler:this.refreshToolbarItems},{event:kl,handler:this.removeResponsiveSearch},{event:B5,handler:this.reRenderToolbar},{event:Ri,handler:this.destroy}],vo(this.parent,this.evtHandlers,!0,this),this.rowSelectedFunction=this.rowSelected.bind(this),this.rowDeSelectedFunction=this.rowSelected.bind(this),this.parent.addEventListener(Dx,this.rowSelectedFunction),this.parent.addEventListener(wE,this.rowDeSelectedFunction))}removeEventListener(){this.parent.isDestroyed||(vo(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(Dx,this.rowSelectedFunction),this.parent.removeEventListener(wE,this.rowDeSelectedFunction))}removeResponsiveSearch(e){const t=e.target,i=t.classList.contains("e-search-icon")||t.classList.contains("e-search-wrapper");this.parent.enableAdaptiveUI&&!i&&this.searchElement&&!Ce(e.target,"e-res-toolbar")&&this.renderResponsiveSearch(!1)}rowSelected(){this.parent.enableAdaptiveUI&&this.refreshResponsiveToolbarItems(Vf.isInitial)}getModuleName(){return"toolbar"}}class f4{constructor(e,t,i){this.fromWheel=!1,this.touchMove=!1,this.options={},this.sentinelInfo={up:{check:(n,s)=>{const o=n.top-this.containerRect.top;return s.entered=o>=0,o+this.options.pageHeight/2>=0},axis:"Y"},down:{check:(n,s)=>{const o=n.bottom;return s.entered=n.bottom<=this.containerRect.bottom,o-this.containerRect.top-this.options.pageHeight/2<=this.options.pageHeight/2},axis:"Y"},right:{check:(n,s)=>{const o=n.right;return this.movableEle?(s.entered=o<this.movableContainerRect.right,o-this.movableContainerRect.width<=this.movableContainerRect.right):(s.entered=o<this.containerRect.right,o-this.containerRect.width<=this.containerRect.right)},axis:"X"},left:{check:(n,s)=>{const o=n.left;return s.entered=o>0,this.movableEle?o+this.movableContainerRect.width>=this.movableContainerRect.left:o+this.containerRect.width>=this.containerRect.left},axis:"X"}},this.element=e,this.options=t,this.movableEle=i}observe(e,t){this.containerRect=this.options.container.getBoundingClientRect(),C.add(this.options.container,"wheel",()=>this.fromWheel=!0,this),C.add(this.options.container,"scroll",this.virtualScrollHandler(e,t),this),this.options.movableContainer&&(this.movableContainerRect=this.options.movableContainer.getBoundingClientRect(),C.add(this.options.scrollbar,"wheel",()=>this.fromWheel=!0,this),C.add(this.options.scrollbar,"scroll",this.virtualScrollHandler(e,t),this))}check(e){const t=this.sentinelInfo[e];return t.check(!this.movableContainerRect||"left"!==e&&"right"!==e?this.element.getBoundingClientRect():this.movableEle.getBoundingClientRect(),t)}virtualScrollHandler(e,t){const n=Xp(e,"chrome"===A.info.name?200:100),s=Xp(e,50);return this.options.prevTop=this.options.prevLeft=0,o=>{const l=this.options.movableContainer?this.options.container.scrollTop:o.target.scrollTop,a=this.options.movableContainer?this.options.scrollbar.scrollLeft:o.target.scrollLeft;let c=this.options.prevTop<l?"down":"up";c=this.options.prevLeft===a?c:this.options.prevLeft<a?"right":"left",this.options.prevTop=l,this.options.prevLeft=a;const d=this.sentinelInfo[c];if(-1===this.options.axes.indexOf(d.axis))return;const u=this.check(c);if(d.entered&&t(!this.movableEle||"right"!==c&&"left"!==c?this.element:this.movableEle,d,c,{top:l,left:a},this.fromWheel,u),u){let p=n;"X"===d.axis&&(p=s),p({direction:c,sentinel:d,offset:{top:l,left:a},focusElement:document.activeElement})}this.fromWheel=!1}}setPageHeight(e){this.options.pageHeight=e}}class m4{constructor(e){this.cOffsets={},this.cache={},this.movableCache={},this.frozenRightCache={},this.rowCache={},this.data={},this.groups={},this.currentInfo={},this.parent=e,this.model=this.parent.pageSettings,this.rowModelGenerator=this.parent.allowGrouping?new $E(this.parent):new Ph(this.parent)}generateRows(e,t){const i=this.parent.isFrozenGrid();let n=!1;const s=t.virtualInfo=t.virtualInfo||this.getData(),o=s.sentinelInfo&&"X"===s.sentinelInfo.axis;let a=[],c=this.getBlockIndexes(o||!s.loadNext||s.loadSelf?s.page:s.nextInfo.page);const d=[];if(this.currentInfo.blockIndexes&&(c=s.blockIndexes=t.virtualInfo.blockIndexes=this.includePrevPage?this.currentInfo.blockIndexes.slice(1):this.currentInfo.blockIndexes.slice(0,this.currentInfo.blockIndexes.length-1),n=!0),(i&&this.parent.getFrozenMode()!==Lt&&!t.renderMovableContent||this.parent.getFrozenMode()===Lt&&!t.renderMovableContent&&!t.renderFrozenRightContent||!i)&&this.checkAndResetCache(t.requestType),dr(this.parent)&&this.parent.vcRows.length){const g=this.parent.vcRows.filter(f=>f.isDataRow);if(this.parent.isManualRefresh&&g.length===e.records.length||!this.parent.isManualRefresh)return this.parent.vcRows}if(this.parent.enableColumnVirtualization)for(let g=0;g<s.blockIndexes.length;g++)if(this.isBlockAvailable(s.blockIndexes[g])&&(this.cache[s.blockIndexes[g]]=this.rowModelGenerator.refreshRows(this.cache[s.blockIndexes[g]])),t.renderMovableContent&&this.isMovableBlockAvailable(s.blockIndexes[g])||t.renderFrozenRightContent&&this.isFrozenRightBlockAvailable(s.blockIndexes[g])){const f=t.renderMovableContent?this.movableCache:this.frozenRightCache;f[s.blockIndexes[g]]=this.rowModelGenerator.refreshRows(f[s.blockIndexes[g]])}const u=s.blockIndexes;for(let g=0;g<u.length;g++){if(!this.isBlockAvailable(u[g])){const f=h(this.startIndex)?this.getStartIndex(u[g],e):this.startIndex,m=this.rowModelGenerator.generateRows(e,{virtualInfo:s,startIndex:f});let v;dr(this.parent)&&!this.parent.vcRows.length&&(this.parent.vRows=m,this.parent.vcRows=m,this.parent.notify(N5,{})),dr(this.parent)?this.getGroupVirtualRecordsByIndex(m):n?this.setBlockForManualRefresh(this.cache,c,m):(v=~~Math.max(m.length,this.model.pageSize)/2,this.isBlockAvailable(c[0])||(this.cache[c[0]]=m.slice(0,v)),this.isBlockAvailable(c[1])||(this.cache[c[1]]=m.slice(v)))}if(this.parent.groupSettings.columns.length&&!o&&this.cache[u[g]]&&(this.cache[u[g]]=this.updateGroupRow(this.cache[u[g]],u[g])),t.renderMovableContent&&!this.isMovableBlockAvailable(u[g])||t.renderFrozenRightContent&&!this.isFrozenRightBlockAvailable(u[g])){const f=t.renderMovableContent?this.movableCache:this.frozenRightCache,m=h(this.startIndex)?this.getStartIndex(u[g],e):this.startIndex,v=this.rowModelGenerator.generateRows(e,{virtualInfo:s,startIndex:m});if(n)this.setBlockForManualRefresh(f,c,v);else{const x=~~Math.max(v.length,this.model.pageSize)/2;(t.renderFrozenRightContent&&!this.isFrozenRightBlockAvailable(c[0])||t.renderMovableContent&&!this.isMovableBlockAvailable(c[0]))&&(f[c[0]]=v.slice(0,x)),(t.renderFrozenRightContent&&!this.isFrozenRightBlockAvailable(c[1])||t.renderMovableContent&&!this.isMovableBlockAvailable(c[1]))&&(f[c[1]]=v.slice(x))}}if(t.renderMovableContent||t.renderFrozenRightContent||!this.cache[u[g]]){const f=t.renderMovableContent?this.movableCache:this.frozenRightCache;f[u[g]]&&a.push(...f[u[g]])}else a.push(...this.cache[u[g]]);this.isBlockAvailable(u[g])&&d.push(u[g])}return s.blockIndexes=d,this.parent.allowGrouping&&this.parent.groupSettings.columns.length?this.parent.currentViewData.records=a.map(g=>g.data):i?(t.renderMovableContent&&("Left"===this.parent.getFrozenMode()||"Right"===this.parent.getFrozenMode()||this.parent.getFrozenColumns())||t.renderFrozenRightContent)&&(this.parent.currentViewData=a.map(g=>g.data)):this.parent.currentViewData=a.map(g=>g.data),a}setBlockForManualRefresh(e,t,i){const n=this.model.pageSize/2;this.includePrevPage?(e[t[0]-1]=i.slice(0,n),e[t[0]]=i.slice(n,2*n),e[t[1]]=i.slice(2*n,3*n),e[t[2]]=i.slice(3*n,4*n)):(e[t[0]]=i.slice(0,n),e[t[1]]=i.slice(n,2*n),e[t[2]]=i.slice(2*n,3*n),e[t[2]+1]=i.slice(3*n,4*n))}getBlockIndexes(e){return[e+(e-1),2*e]}getPage(e){return e%2==0?e/2:(e+1)/2}isBlockAvailable(e){return e in this.cache}isMovableBlockAvailable(e){return e in this.movableCache}isFrozenRightBlockAvailable(e){return e in this.frozenRightCache}getData(){return{page:this.model.currentPage,blockIndexes:this.getBlockIndexes(this.model.currentPage),direction:"down",columnIndexes:this.parent.getColumnIndexesInView()}}getStartIndex(e,t,i=!0){const o=(this.getPage(e)-1)*this.model.pageSize;return i||e%2!=0?o:o+~~(this.model.pageSize/2)}getColumnIndexes(e=this.parent.getHeaderContent().querySelector("."+cr)){this.parent.isFrozenGrid()&&(e=e.querySelector("."+un));const t=[];let i=0|e.scrollLeft;const n=Object.keys(this.cOffsets),s=e.getBoundingClientRect().width;i=Math.min(this.cOffsets[n.length-1]-s,i);const o=A.isDevice?2*s:s/2,l=i+s+(0===i?o:0);return n.some(a=>{const c=Number(a),d=this.cOffsets[a];return i-o<=d&&l+o>=d&&t.push(c),l+o<d}),this.addFrozenIndex(t),t}addFrozenIndex(e){if(this.parent.getFrozenColumns()&&this.parent.enableColumnVirtualization&&0===e[0])for(let t=0;t<this.parent.getFrozenColumns();t++)e.push(e[e.length-1]+1)}checkAndResetCache(e){const t=["paging","refresh","sorting","filtering","searching","grouping","ungrouping","reorder","save","delete"];this.parent.getFrozenColumns()&&this.parent.frozenRows&&this.parent.enableColumnVirtualization&&"reorder"===e&&t.splice(t.indexOf(e),1);const i=t.some(n=>e===n);return i&&(this.cache={},this.data={},this.groups={},this.movableCache={},this.frozenRightCache={}),i}refreshColOffsets(){let e=0;this.cOffsets={};const t=this.parent.groupSettings.columns.length,i=this.parent.columns,n=i.length,s=a=>a.visible&&(this.parent.groupSettings.showGroupedColumn?a.visible:this.parent.groupSettings.columns.indexOf(a.field)<0),o=this.parent.groupSettings.columns;for(let a=0;a<o.length;a++)this.cOffsets[a]=30+(0|this.cOffsets[a-1]);const l=Array.apply(null,Array(n)).map(()=>e++);for(let a=0;a<l.length;a++)l[a]=l[a]+t,this.cOffsets[l[a]]=(0|this.cOffsets[l[a]-1])+(s(i[a])?parseInt(i[a].width,10):0)}updateGroupRow(e,t){const i=e[0];let n=[];const s=Object.keys(this.cache);for(let o=0;o<s.length;o++)Number(s[o])<t&&(n=[...n,...this.cache[s[o]]]);return i&&i.isDataRow||t%2==0?e:this.iterateGroup(e,n)}iterateGroup(e,t){const i=e[0];let n=0;return i&&i.isDataRow||e.some(o=>t.some((l,a)=>{const c=l&&void 0!==l.data.field&&l.data.field===o.data.field&&l.data.key===o.data.key;return c&&(n=a),c}))&&(e.shift(),e=this.iterateGroup(e,t.slice(n))),e}getRows(){let e=[];const t=Object.keys(this.cache);for(let i=0;i<t.length;i++)e=[...e,...this.cache[t[i]]];return e}generateCells(e){const t=[],i=this.parent.columnModel;for(let n=0;n<i.length;n++)t.push(this.rowModelGenerator.generateCell(i[n],null,null,null,null,e));return t}getGroupVirtualRecordsByIndex(e){const t=this.parent.contentModule.getGroupedTotalBlocks(),i=this.parent.contentModule.getBlockSize();for(let n=1;n<=t;n++){let s=0;this.cache[n]=[];for(let o=(n-1)*i;o<e.length&&s!==i;o++)this.cache[n].push(e[o]),e[o].isDataRow&&s++}}}class pT extends KE{constructor(e,t){super(e,t),this.prevHeight=0,this.startIndex=0,this.preStartIndex=0,this.preventEvent=!1,this.actions=["filtering","searching","grouping","ungrouping"],this.offsets={},this.tmpOffsets={},this.virtualEle=new OX,this.offsetKeys=[],this.isFocused=!1,this.isSelection=!1,this.isBottom=!1,this.rndrCount=0,this.empty=void 0,this.isCancel=!1,this.requestTypes=["beginEdit","cancel","delete","add","save"],this.isNormaledit="Normal"===this.parent.editSettings.mode,this.virtualData={},this.emptyRowData={},this.vfColIndex=[],this.frzIdx=1,this.isContextMenuOpen=!1,this.isSelectionScroll=!1,this.validationCheck=!1,this.locator=t,this.eventListener("on"),this.parent.on(Bd,this.setVisible,this),this.vgenerator=this.generator}renderTable(){this.header=this.locator.getService("rendererFactory").getRenderer(Xs.Header),super.renderTable(),this.virtualEle.table=this.getTable(),this.virtualEle.content=this.content=this.getPanel().querySelector("."+Ls),this.virtualEle.renderWrapper(this.parent.height),this.virtualEle.renderPlaceHolder(),this.virtualEle.wrapper.style.position="absolute";const e=this.parent.dataSource instanceof ie&&!this.parent.dataSource.dataSource.offline,t={container:this.content,pageHeight:2*this.getBlockHeight(),debounceEvent:e,axes:this.parent.enableColumnVirtualization?["X","Y"]:["Y"]};this.observer=new f4(this.virtualEle.wrapper,t)}renderEmpty(e){this.getTable().appendChild(e),this.virtualEle.adjustTable(0,0)}getReorderedFrozenRows(e){const t=e.virtualInfo.blockIndexes,i=e.virtualInfo.columnIndexes,n=e.virtualInfo.page;e.virtualInfo.blockIndexes=[1,2],e.virtualInfo.page=1,e.renderMovableContent||(e.virtualInfo.columnIndexes=[]);const s=this.parent.getCurrentViewRecords().length,o=this.parent.renderModule.data.dataManager.dataSource.json.slice(0,s),l=this.vgenerator.generateRows(o,e);return e.virtualInfo.blockIndexes=t,e.virtualInfo.columnIndexes=i,e.virtualInfo.page=n,l.splice(0,this.parent.frozenRows)}scrollListener(e){if(this.scrollAfterEdit(),this.parent.enablePersistence&&(this.parent.scrollPosition=e.offset),this.preventEvent||this.parent.isDestroyed)return void(this.preventEvent=!1);this.isFocused=!h(document.activeElement)&&(this.content===D(document.activeElement,"."+Ls)||this.content===document.activeElement);const t=e.sentinel,i=this.currentInfo=this.getInfoFromView(e.direction,t,e.offset);if(dr(this.parent)){if(i.blockIndexes&&this.prevInfo.blockIndexes.toString()===i.blockIndexes.toString())return;return i.event="refresh-virtual-block",h(i.offsets)||(i.offsets.top=this.content.scrollTop),this.parent.pageSettings.currentPage=i.page,void this.parent.notify(i.event,{requestType:"virtualscroll",virtualInfo:i,focusElement:e.focusElement})}if(this.prevInfo&&("Y"===t.axis&&this.prevInfo.blockIndexes.toString()===i.blockIndexes.toString()||"X"===t.axis&&this.prevInfo.columnIndexes.toString()===i.columnIndexes.toString()))return A.isIE&&this.parent.hideSpinner(),this.requestType="virtualscroll"===this.requestType?this.empty:this.requestType,void("Y"===t.axis&&this.restoreEdit());this.parent.setColumnIndexesInView(this.parent.enableColumnVirtualization?i.columnIndexes:[]),this.parent.pageSettings.currentPage=i.loadNext&&!i.loadSelf?i.nextInfo.page:i.page,this.requestType="virtualscroll",this.parent.notify(i.event,{requestType:"virtualscroll",virtualInfo:i,focusElement:e.focusElement})}block(e){return this.vgenerator.isBlockAvailable(e)}getInfoFromView(e,t,i){let n=!1,s=[];const o={direction:e,sentinelInfo:t,offsets:i,startIndex:this.preStartIndex,endIndex:this.preEndIndex};o.page=this.getPageFromTop(i.top,o),o.blockIndexes=s=this.vgenerator.getBlockIndexes(o.page),o.loadSelf=!this.vgenerator.isBlockAvailable(s[o.block]);const l=this.ensureBlocks(o);if("upArrow"===this.activeKey&&o.blockIndexes.toString()!==l.toString()&&-1===o.blockIndexes.indexOf(l[l.length-1])&&(n=!0),o.blockIndexes=l,o.loadNext=!l.filter(a=>-1===s.indexOf(a)).every(this.block.bind(this)),o.event=o.loadNext||o.loadSelf?fo:TE,o.nextInfo=o.loadNext?{page:Math.max(1,o.page+("down"===e?1:-1))}:{},n&&(o.blockIndexes=[o.blockIndexes[0]-1,o.blockIndexes[0],o.blockIndexes[0]+1]),"downArrow"===this.activeKey){const a=Math.ceil(this.rowIndex/this.getBlockSize());1!==a&&(o.blockIndexes[1]!==a||o.blockIndexes.length<3)&&(o.blockIndexes=[a-1,a,a+1])}return o.columnIndexes="X"===t.axis?this.vgenerator.getColumnIndexes():this.parent.getColumnIndexesInView(),this.parent.enableColumnVirtualization&&"X"===t.axis&&(o.event=TE),o}setKeyboardNavIndex(){this.blazorDataLoad=!0,("downArrow"===this.activeKey||"upArrow"===this.activeKey)&&(this.blzRowIndex="downArrow"===this.activeKey?this.rowIndex+1:this.rowIndex-1,document.activeElement.blur())}ensureBlocks(e){let i,t=e.blockIndexes[e.block];const n=t,s=Math.max;let o="down"===e.direction?[s(t,1),++t,++t]:[s(t-1,1),t,t+1];return this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid()&&("X"===e.sentinelInfo.axis||"Y"===e.sentinelInfo.axis&&e.page===this.prevInfo.page)&&(o=this.prevInfo.blockIndexes),o=o.filter((l,a)=>o.indexOf(l)===a),this.prevInfo.blockIndexes.toString()===o.toString()||((e.loadSelf||"down"===e.direction&&this.isEndBlock(n))&&(o=this.vgenerator.getBlockIndexes(e.page)),o.some((l,a)=>{const c=l===(dr(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks());return c&&(i=a),c}),void 0!==i&&(o=o.slice(0,i+1),0===e.block&&1===o.length&&this.vgenerator.isBlockAvailable(o[0]-1)&&(o=[o[0]-1,o[0]]))),o}appendContent(e,t,i){const n=this.parent.isFrozenGrid(),s=this.parent.getFrozenColumns()||this.parent.getFrozenLeftColumnsCount(),o=this.parent.enableColumnVirtualization&&n;this.checkFirstBlockColIndexes(i);const l=i.virtualInfo.sentinelInfo&&"Y"===i.virtualInfo.sentinelInfo.axis&&this.currentInfo.page&&this.currentInfo.page!==i.virtualInfo.page?this.currentInfo:i.virtualInfo;this.prevInfo=this.prevInfo||i.virtualInfo;let a=l.columnIndexes[0]-1;o&&l.columnIndexes[0]===s&&(a=l.columnIndexes[0]-s-1);const c=this.getColumnOffset(a);let d;const u=l.blockIndexes;this.parent.groupSettings.columns.length&&this.refreshOffsets(),"100%"===this.parent.height&&(this.parent.element.style.height="100%");const p=this.parent.height.toString().indexOf("%")<0?this.content.getBoundingClientRect().height:this.parent.element.getBoundingClientRect().height;if(!this.requestTypes.some(w=>w===this.requestType)){const w=this.getTranslateY(this.content.scrollTop,p,l);this.virtualEle.adjustTable(o?0:c,w),o&&this.virtualEle.adjustMovableTable(c,0)}if(this.parent.enableColumnVirtualization&&(this.header.virtualEle.adjustTable(o?0:c,0),o&&this.header.virtualEle.adjustMovableTable(c,0)),this.parent.enableColumnVirtualization){const w=l.columnIndexes;d=this.getColumnOffset(w[w.length-1])-this.getColumnOffset(w[0]-1)+"",o?this.header.virtualEle.setMovableWrapperWidth(d):this.header.virtualEle.setWrapperWidth(d)}let g;if(o?this.virtualEle.setMovableWrapperWidth(d,A.isIE||"edge"===A.info.name):this.virtualEle.setWrapperWidth(d,A.isIE||"edge"===A.info.name),h(e.parentNode)||X(e),n?i.renderFrozenRightContent?g=this.parent.getContent().querySelector(".e-frozen-right-content").querySelector(Ke):i.renderMovableContent?i.renderMovableContent&&(g=this.parent.getMovableVirtualContent().querySelector(Ke)):g=this.parent.getFrozenVirtualContent().querySelector(Ke):g=this.parent.element.querySelector("."+Ls).querySelector(Ke),g&&(X(g),e=null),this.parent.isReact&&!h(this.parent.rowTemplate)?e=t:(e=this.parent.createElement(Ke,{attrs:{role:"rowgroup"}})).appendChild(t),this.parent.frozenRows&&"virtualscroll"===i.requestType&&1===this.parent.pageSettings.currentPage)for(let w=0;w<this.parent.frozenRows;w++)e.children[0].remove();if(n?(i.renderFrozenRightContent?(this.parent.getContent().querySelector(".e-frozen-right-content").querySelector("."+Tn).appendChild(e),this.requestType="virtualscroll"===this.requestType?this.empty:this.requestType):i.renderMovableContent?i.renderMovableContent&&(this.parent.getMovableVirtualContent().querySelector("."+Tn).appendChild(e),this.parent.getFrozenMode()!==Lt&&(this.requestType="virtualscroll"===this.requestType?this.empty:this.requestType)):this.parent.getFrozenVirtualContent().querySelector("."+Tn).appendChild(e),this.vfColIndex.length&&(i.virtualInfo.columnIndexes=l.columnIndexes=O([],this.vfColIndex),this.vfColIndex=i.renderMovableContent?[]:this.vfColIndex)):(this.getTable().appendChild(e),this.requestType="virtualscroll"===this.requestType?this.empty:this.requestType),this.parent.groupSettings.columns.length){if(!dr(this.parent)&&"up"===l.direction){const w=this.offsets[this.getTotalBlocks()]-this.prevHeight;this.preventEvent=!0,this.content.scrollTop=this.content.scrollTop+w}this.setVirtualHeight(),this.observer.setPageHeight(this.getOffset(u[u.length-1])-this.getOffset(u[0]-1))}this.prevInfo=l,this.isFocused&&"downArrow"!==this.activeKey&&"upArrow"!==this.activeKey&&this.content.focus();const m=Math.ceil(this.getTotalBlocks()/2);if(this.isBottom&&(this.isBottom=!1,this.parent.getContent().firstElementChild.scrollTop=this.offsets[this.offsetKeys.length-1]),this.parent.pageSettings.currentPage===m&&1===u.length&&(this.isBottom=!0,this.parent.getContent().firstElementChild.scrollTop=this.offsets[this.offsetKeys.length-2]),this.parent.isFrozenGrid()&&this.parent.pageSettings.currentPage===m-1&&"up"===l.direction&&(this.parent.getContent().firstElementChild.scrollTop=this.offsets[this.offsetKeys.length-3]),"virtualscroll"===i.requestType&&"X"===i.virtualInfo.sentinelInfo.axis&&this.parent.notify(k0,{}),this.focusCell(i),this.restoreEdit(i),this.restoreAdd(i),this.ensureSelectedRowPosition(),this.validationScrollLeft(i,n),!this.initialRowTop){const w=this.parent.element.getBoundingClientRect().top;this.initialRowTop=this.parent.getRowByIndex(0).getBoundingClientRect().top-w}const v=i.tableName,x="Left-Right"===this.parent.getFrozenMode()?"frozen-right"===v:"movable"===v;(!n||x)&&(this.vgenerator.startIndex=null,this.vgenerator.currentInfo={},this.vgenerator.includePrevPage=null)}validationScrollLeft(e,t){const i=this.parent.getFrozenColumns(),n=this.parent.getFrozenMode();if(this.validationCheck&&(!t||e&&(i||"Left"===n||"Right"===n?e.renderMovableContent:e.renderFrozenRightContent)))if(this.validationCol){const o=this.vgenerator.cOffsets[this.validationCol.index-this.parent.getVisibleFrozenColumns()-1];this.validationCol=null,this.parent.isFrozenGrid()?this.movableContent.scrollLeft=o:this.content.scrollLeft=o}else this.validationCheck=!1,this.parent.editModule.editFormValidate()}ensureSelectedRowPosition(){if(!this.isSelection&&this.isSelectionScroll&&!h(this.selectRowIndex)){this.isSelectionScroll=!1;const e=this.parent.getRowByIndex(this.selectRowIndex);e&&!this.isRowInView(e)&&this.rowSelected({rowIndex:this.selectRowIndex,row:e},!0)}}checkFirstBlockColIndexes(e){if(this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid()&&0===e.virtualInfo.columnIndexes[0]){const t=[],i=this.parent.getFrozenColumns()||this.parent.getFrozenLeftColumnsCount();if(!e.renderMovableContent&&e.virtualInfo.columnIndexes.length>i){this.vfColIndex=e.virtualInfo.columnIndexes;for(let n=0;n<i;n++)t.push(n);e.virtualInfo.columnIndexes=t}else e.renderMovableContent&&(this.vfColIndex.length||(this.vfColIndex=O([],e.virtualInfo.columnIndexes)),e.virtualInfo.columnIndexes=O([],this.vfColIndex),e.virtualInfo.columnIndexes.splice(0,i))}}focusCell(e){if("upArrow"!==this.activeKey&&"downArrow"!==this.activeKey)return;const t=this.parent.getRowByIndex(this.rowIndex);t.cells[this.cellIndex].focus({preventScroll:!0}),this.parent.selectRow(parseInt(t.getAttribute(Zt),10)),this.activeKey=this.empty}restoreEdit(e){if(this.isNormaledit){const t=this.parent.getFrozenColumns(),i=e&&this.parent.isFrozenGrid(),n=this.parent.getFrozenMode(),s=e&&(t||"Left"===n||"Right"===n?e.renderMovableContent:e.renderFrozenRightContent);if((!i||i&&s)&&this.parent.editSettings.allowEditing&&this.parent.editModule&&!h(this.editedRowIndex)){let o=this.getRowByIndex(this.editedRowIndex),l=this.content;const a=Object.keys(this.virtualData),c=e&&e.virtualInfo&&"X"===e.virtualInfo.sentinelInfo.axis;if(i&&c&&(o=this.parent.getMovableRowByIndex(this.editedRowIndex),l=this.movableContent),a.length&&o&&!l.querySelector("."+al)){const d=o.getBoundingClientRect().top;(c||d<this.content.offsetHeight&&d>this.parent.getRowHeight())&&(this.parent.isEdit=!1,this.parent.editModule.startEdit(o))}if(o&&this.content.querySelector("."+al)&&!a.length){const d=O({},this.getRowObjectByIndex(this.editedRowIndex));this.virtualData=this.getVirtualEditedData(d)}}this.restoreAdd(e)}}getVirtualEditedData(e){const t=[].slice.call(this.parent.element.getElementsByClassName("e-gridform"));if(!(this.parent.editModule&&this.parent.editModule.formObj&&this.parent.editModule.formObj.isDestroyed))for(let n=0;n<t.length;n++)e=this.parent.editModule.getCurrentEditedData(t[n],e);return e}restoreAdd(e){const t=this.parent.getFrozenColumns(),i=e&&this.parent.isFrozenGrid(),n=this.parent.getFrozenMode(),o=e&&e.virtualInfo&&e.virtualInfo.sentinelInfo&&"X"===e.virtualInfo.sentinelInfo.axis&&i?!(this.parent.getMovableVirtualHeader().querySelector("."+va)||this.parent.getMovableVirtualContent().querySelector("."+va)):!this.parent.element.querySelector("."+va);if((!i||i&&e&&(t||"Left"===n||"Right"===n?e.renderMovableContent:e.renderFrozenRightContent))&&this.isNormaledit&&this.isAdd&&o){const a="Top"===this.parent.editSettings.newRowPosition&&this.content.scrollTop<this.parent.getRowHeight(),c="Bottom"===this.parent.editSettings.newRowPosition&&this.parent.pageSettings.currentPage===this.maxPage;(a||c)&&(this.parent.isEdit=!1,this.parent.addRecord())}}onDataReady(e){h(e.count)||(this.count=e.count,this.maxPage=Math.ceil(e.count/this.parent.pageSettings.pageSize)),this.vgenerator.checkAndResetCache(e.requestType),["refresh","filtering","searching","grouping","ungrouping","reorder",void 0].some(t=>e.requestType===t)&&this.refreshOffsets(),this.setVirtualHeight(),this.resetScrollPosition(e.requestType)}setVirtualHeight(e){const t=this.parent.enableColumnVirtualization?this.getColumnOffset(this.parent.columns.length+this.parent.groupSettings.columns.length-1)+"px":"100%";if(this.parent.isFrozenGrid()){let i=1===this.parent.pageSettings.currentPage&&Object.keys(this.offsets).length<=2?this.offsets[1]:this.offsets[this.getTotalBlocks()-2];i=i>this.content.clientHeight?i:0,this.virtualEle.setVirtualHeight(i,t)}else{const i=this.offsets[dr(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks()];this.virtualEle.setVirtualHeight(i,t)}this.parent.enableColumnVirtualization&&(this.header.virtualEle.setVirtualHeight(1,t),this.parent.isFrozenGrid()&&(this.virtualEle.setMovableVirtualHeight(1,t),this.header.virtualEle.setMovableVirtualHeight(1,t)))}getPageFromTop(e,t){const i=dr(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks();let n=0;return this.offsetKeys.some(s=>{let o=Number(s);const l=e<=this.offsets[s]||o===i&&e>this.offsets[s];return l&&(this.offsetKeys.length%2!=0&&o.toString()===this.offsetKeys[this.offsetKeys.length-2]&&e<=this.offsets[this.offsetKeys.length-1]&&(o+=1),t.block=o%2==0?1:0,n=Math.max(1,Math.min(this.vgenerator.getPage(o),this.maxPage))),l}),n}getTranslateY(e,t,i,n){void 0===i&&((i={page:this.getPageFromTop(e,{})}).blockIndexes=this.vgenerator.getBlockIndexes(i.page));const s=(i.blockIndexes[0]||1)-1,o=this.getOffset(s),l=this.getOffset(i.blockIndexes[i.blockIndexes.length-1]);n&&(i=this.prevInfo);let a=o>e?this.getOffset(s-1):l<e+t?this.getOffset(s+1):o;const c=this.offsets[i.blockIndexes[i.blockIndexes.length-1]]-this.tmpOffsets[i.blockIndexes[0]],d=dr(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks();return a+c>this.offsets[d]&&(a-=a+c-this.offsets[d]),a}getOffset(e){return Math.min(0|this.offsets[e],0|this.offsets[this.maxBlock])}onEntered(){return(e,t,i,n,s,o)=>{A.isIE&&!s&&o&&!this.preventEvent&&this.parent.showSpinner();const l=this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid(),a="X"===t.axis,c=this.prevInfo.offsets?this.prevInfo.offsets.top:null,d=this.content.getBoundingClientRect().height;let u=this.getColumnOffset(a?this.vgenerator.getColumnIndexes()[0]-1:this.prevInfo.columnIndexes[0]-1);if(a&&!l){const g=Object.keys(this.vgenerator.cOffsets).length-this.prevInfo.columnIndexes.length,f=this.vgenerator.cOffsets[g-1];u=u>f?f:u}const p=this.getTranslateY(n.top,d,a&&c===n.top?this.prevInfo:void 0,!0);this.virtualEle.adjustTable(l?0:u,Math.min(p,this.offsets[this.maxBlock])),l&&this.virtualEle.adjustMovableTable(u,0),this.parent.enableColumnVirtualization&&(this.header.virtualEle.adjustTable(l?0:u,0),l&&this.header.virtualEle.adjustMovableTable(u,0))}}dataBound(){this.parent.notify("refresh-virtual-frozen-height",{}),this.isSelection&&"upArrow"!==this.activeKey&&"downArrow"!==this.activeKey?this.parent.selectRow(this.selectedRowIndex):this.activeKey=this.empty}rowSelected(e,t){if((this.isSelection||t)&&!this.isLastBlockRow(e.rowIndex)){const i=function qke(r){const i=document.defaultView.getComputedStyle(r,null).getPropertyValue("transform").replace(/,/g,"");return{width:parseFloat(i.split(" ")[4]),height:parseFloat(i.split(" ")[5])}}(this.content.firstElementChild),n=this.parent.element.getBoundingClientRect().top,s=e.row.getBoundingClientRect().top-n,o=this.content.getBoundingClientRect().height,l=o<s,a=l?s-o:this.initialRowTop-s;let c=l?i.height-a:i.height+a;this.virtualEle.adjustTable(i.width,c),this.content.querySelector("tbody").lastElementChild.getBoundingClientRect().top-n<o&&(c+=o-(e.row.getBoundingClientRect().top-n),this.virtualEle.adjustTable(i.width,c-this.parent.getRowHeight()/2))}this.isSelection=!1}isLastBlockRow(e){const t=this.parent.getContent().firstElementChild,i=Math.floor(t.offsetHeight/this.parent.getRowHeight())-1;return e>=this.maxPage*this.parent.pageSettings.pageSize-i}refreshMaxPage(){this.parent.groupSettings.columns.length&&this.parent.vcRows.length&&(this.maxPage=Math.ceil(this.parent.vcRows.length/this.parent.pageSettings.pageSize))}setVirtualPageQuery(e){const t=this.parent.getContent().querySelector(".e-row");if(t&&this.parent.isManualRefresh&&this.currentInfo.blockIndexes&&3===this.currentInfo.blockIndexes.length){this.vgenerator.startIndex=parseInt(t.getAttribute("aria-rowindex"),10),this.vgenerator.currentInfo=O({},this.currentInfo),this.vgenerator.currentInfo.blockIndexes=this.currentInfo.blockIndexes.slice(),(this.vgenerator.includePrevPage=this.currentInfo.blockIndexes[0]%2==0)?(this.vgenerator.startIndex=this.vgenerator.startIndex-this.getBlockSize(),this.vgenerator.currentInfo.blockIndexes.unshift(this.currentInfo.blockIndexes[0]-1)):this.vgenerator.currentInfo.blockIndexes.push(this.currentInfo.blockIndexes[this.currentInfo.blockIndexes.length-1]+1);const n=(this.vgenerator.currentInfo.blockIndexes[0]-1)*this.getBlockSize(),s=this.vgenerator.currentInfo.blockIndexes.length*this.getBlockSize();e.query.skip(n),e.query.take(s),e.skipPage=!0}}eventListener(e){this.parent[e](Od,this.onDataReady,this),this.parent.addEventListener(za,this.dataBound.bind(this)),this.parent.addEventListener(Pn,this.actionBegin.bind(this)),this.parent.addEventListener(yi,this.actionComplete.bind(this)),this.parent.addEventListener(Dx,this.rowSelected.bind(this)),this.parent[e](TE,this.refreshContentRows,this),this.parent[e](OQ,this.selectVirtualRow,this),this.parent[e](VQ,this.virtualCellFocus,this),this.parent[e](FE,this.editActionBegin,this),this.parent[e](OE,this.addActionBegin,this),this.parent[e](zQ,this.restoreEdit,this),this.parent[e](z1,this.editSuccess,this),this.parent[e](PE,this.refreshCache,this),this.parent[e](LE,this.resetIsedit,this),this.parent[e](Eg,this.getVirtualData,this),this.parent[e](HQ,this.editCancel,this),this.parent[e](N5,this.refreshMaxPage,this),this.parent[e](jE,this.setVirtualPageQuery,this),this.parent[e]("select-row-on-context-open",this.selectRowOnContextOpen,this),this.parent[e](ZQ,this.resetVirtualFocus,this),this.parent[e](eX,this.refreshCells,this),this.parent[e](tX,this.scrollToEdit,this);const t=this.actions;for(let n=0;n<t.length;n++)this.parent[e](`${t[n]}-begin`,this.onActionBegin,this);const i=()=>{this.observer.observe(s=>this.scrollListener(s),this.onEntered());const n=this.parent;n.enablePersistence&&n.scrollPosition&&(this.content.scrollTop=n.scrollPosition.top,this.scrollListener({direction:"down",sentinel:this.observer.sentinelInfo.down,offset:n.scrollPosition,focusElement:n.element}),n.enableColumnVirtualization&&(this.content.scrollLeft=n.scrollPosition.left)),this.parent.off(Is,i)};this.parent.on(Is,i,this)}scrollToEdit(e){const t=this.parent.isFrozenGrid();let i=!0;if(this.validationCheck=!0,this.isAdd&&this.content.scrollTop>0){i=!1;const s=Object.keys(this.offsets);this.content.scrollTop="Top"===this.parent.editSettings.newRowPosition?0:this.offsets[s.length-1]}const n=this.parent.getRowByIndex(this.editedRowIndex);if(!(n||h(this.editedRowIndex)||n&&this.isRowInView(n))){const s=this.parent.getRowHeight(),o=this.editedRowIndex*s;h(o)||(i=!1,this.content.scrollTop=o)}if(e&&i){let s=this.vgenerator.cOffsets[e.index-this.parent.getVisibleFrozenColumns()-1];if(!this.parent.enableColumnVirtualization){const o=this.parent.getHeaderContent().querySelector('.e-headercelldiv[e-mappinguid="'+e.uid+'"]');s=t?o.parentElement.offsetLeft-this.parent.getFrozenVirtualHeader().offsetWidth:o.parentElement.offsetLeft}t?this.parent.getMovableVirtualContent().scrollLeft=this.parent.enableRtl?-Math.abs(s):s:this.content.scrollLeft=this.parent.enableRtl?-Math.abs(s):s}e&&!i&&(this.validationCol=e)}refreshCells(e){e.cells=this.vgenerator.generateCells(e.foreignKeyData)}resetVirtualFocus(e){this.isCancel=e.isCancel}getVirtualData(e){if(this.isNormaledit){const t=this.parent.element.querySelector('.e-griderror:not([style*="display: none"])'),i=Object.keys(this.virtualData);if(e.isScroll=0!==i.length&&this.currentInfo.sentinelInfo&&"X"===this.currentInfo.sentinelInfo.axis,t)return;this.virtualData=i.length?this.virtualData:e.virtualData,this.getVirtualEditedData(this.virtualData),e.virtualData=this.virtualData,e.isAdd=this.isAdd,e.isCancel=this.isCancel}}selectRowOnContextOpen(e){this.isContextMenuOpen=e.isOpen}editCancel(e){const t=c4(this.parent,e.data);h(t)||(e.data=this.parent.getCurrentViewRecords()[t])}editSuccess(e){this.isNormaledit&&(!this.isAdd&&e.data&&this.updateCurrentViewData(e.data),this.isAdd=!1)}updateCurrentViewData(e){const t=c4(this.parent,e);h(t)||(this.parent.getCurrentViewRecords()[t]=e)}actionBegin(e){"virtualscroll"!==e.requestType&&(this.requestType=e.requestType),e.cancel||this.parent.notify(F5,e)}virtualCellFocus(e){const t=document.activeElement;if(t.classList.contains(Ii)&&e&&("upArrow"===e.action||"downArrow"===e.action)){let i=parseInt(t.parentElement.getAttribute(Zt),10);if(e&&("downArrow"===e.action||"upArrow"===e.action)){const n=this.parent.getContent().firstElementChild;"downArrow"===e.action?i+=1:i-=1,this.rowIndex=i,this.cellIndex=parseInt(t.getAttribute(_r),10);const s=this.parent.getRowByIndex(i),o=this.parent.pageSettings.currentPage,l=Math.floor(n.offsetHeight/this.parent.getRowHeight())-1;let a=!1;h(s)&&(a=!0,("downArrow"===e.action&&o===this.maxPage-1||"upArrow"===e.action&&1===o)&&(a=!1)),a||function Wke(r,e){const t=e.getContent().firstElementChild.offsetHeight;return r&&r.getBoundingClientRect().top>t}(s,this.parent)&&"downArrow"===e.action||function Uke(r,e){return r&&r.getBoundingClientRect().top<e}(s,2*this.parent.getRowHeight())&&"upArrow"===e.action?(this.activeKey=e.action,n.scrollTop="downArrow"===e.action?(i-l)*this.parent.getRowHeight():i*this.parent.getRowHeight()):this.activeKey=this.empty,this.parent.selectRow(i)}}}editActionBegin(e){this.editedRowIndex=e.index;const t=O({},this.getRowObjectByIndex(e.index)),i=Object.keys(this.virtualData);e.data=i.length?this.virtualData:t,e.isScroll=0!==i.length&&this.currentInfo.sentinelInfo&&"X"===this.currentInfo.sentinelInfo.axis}refreshCache(e){const t=Math.ceil((this.editedRowIndex+1)/this.getBlockSize()),i=this.editedRowIndex-(t-1)*this.getBlockSize();this.vgenerator.cache[t][i].data=e.data,this.vgenerator.movableCache[t]&&(this.vgenerator.movableCache[t][i].data=e.data),this.vgenerator.frozenRightCache[t]&&(this.vgenerator.frozenRightCache[t][i].data=e.data)}actionComplete(e){if(!this.parent.enableVirtualization)return;const t=["delete","save","cancel"];t.some(n=>n===e.requestType)&&(this.refreshOffsets(),this.parent.isFrozenGrid()?(this.vgenerator.refreshColOffsets(),this.parent.contentModule.virtualRenderer.virtualEle.setVirtualHeight()):this.refreshVirtualElement()),this.isNormaledit&&(["sorting","filtering","grouping","refresh","searching","ungrouping","reorder"].some(n=>n===e.requestType)||t.some(n=>n===e.requestType))&&(this.isCancel=!0,this.isAdd=!1,this.editedRowIndex=this.empty,this.virtualData={},this.parent.editModule&&(this.parent.editModule.editModule.previousData=void 0)),this.parent.enableColumnVirtualization&&"filterafteropen"===e.requestType&&this.currentInfo.columnIndexes&&this.currentInfo.columnIndexes[0]>0&&this.parent.resetFilterDlgPosition(e.columnName)}resetIsedit(){this.parent.enableVirtualization&&this.isNormaledit&&(this.parent.editSettings.allowEditing&&Object.keys(this.virtualData).length||this.parent.editSettings.allowAdding&&this.isAdd)&&(this.parent.isEdit=!0)}scrollAfterEdit(){if(this.parent.editModule&&this.parent.editSettings.allowEditing&&this.isNormaledit&&this.parent.element.querySelector(".e-gridform")){const e=this.parent.element.querySelector("."+al),t=this.parent.element.querySelector("."+va);if(e||t){const i=O({},e?this.getRowObjectByIndex(this.editedRowIndex):this.emptyRowData),n=Object.keys(this.virtualData);this.virtualData=this.getVirtualEditedData(n.length?this.virtualData:i)}}}createEmptyRowdata(){this.parent.columnModel.filter(e=>{this.emptyRowData[e.field]=this.empty})}addActionBegin(e){if(this.isNormaledit){Object.keys(this.emptyRowData).length||this.createEmptyRowdata(),this.isAdd=!0;const t=this.parent.pageSettings.currentPage;!this.parent.frozenRows&&this.content.scrollTop>0&&"Top"===this.parent.editSettings.newRowPosition&&(this.isAdd=!0,this.onActionBegin(),e.startEdit=!1,this.content.scrollTop=0),t<this.maxPage-1&&"Bottom"===this.parent.editSettings.newRowPosition&&(this.isAdd=!0,this.parent.setProperties({pageSettings:{currentPage:this.maxPage-1}},!0),e.startEdit=!1,this.content.scrollTop=this.offsets[this.offsetKeys.length])}}getRowObjectByIndex(e){return this.getRowCollection(e,!1,!0)}getBlockSize(){return this.parent.pageSettings.pageSize>>1}getBlockHeight(){return this.getBlockSize()*this.parent.getRowHeight()}isEndBlock(e){const t=dr(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks();return e>=t||e===t-1}getGroupedTotalBlocks(){const e=this.parent.vcRows;return Math.floor(e.length/this.getBlockSize()<1?1:e.length/this.getBlockSize())}getTotalBlocks(){return Math.ceil(this.count/this.getBlockSize())}getColumnOffset(e){return 0|this.vgenerator.cOffsets[e]}getModelGenerator(){return new m4(this.parent)}resetScrollPosition(e){this.actions.some(t=>t===e)&&(this.preventEvent=0!==this.content.scrollTop,this.content.scrollTop=0),"virtualscroll"!==e&&(this.isAdd=!1)}onActionBegin(e){this.parent.setProperties({pageSettings:{currentPage:1}},!0)}getRows(){return this.vgenerator.getRows()}getRowByIndex(e){let t;return dr(this.parent)?t=this.parent.getDataRows()[e]:this.prevInfo&&(t=this.getRowCollection(e,!1)),t}getMovableVirtualRowByIndex(e){return this.getRowCollection(e,!0)}getFrozenRightVirtualRowByIndex(e){return this.getRowCollection(e,!1,!1,!0)}getRowCollection(e,t,i,n){let o=(this.prevInfo.blockIndexes[0]-1)*this.getBlockSize(),l=t?this.parent.getMovableDataRows():this.parent.getDataRows();l=n?this.parent.getFrozenRightDataRows():l;let a=i?this.parent.getCurrentViewRecords():l;i&&this.parent.allowGrouping&&this.parent.groupSettings.columns.length&&(o=parseInt(this.parent.getRows()[0].getAttribute(Zt),10),a=a.filter(d=>h(d.items)));let c=a[e-o];return this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(c=i?e<=this.parent.frozenRows?this.parent.getRowsObject()[e].data:c:e<=this.parent.frozenRows?l[e]:l[e-o+this.parent.frozenRows]),c}getVirtualRowIndex(e){return(this.prevInfo.blockIndexes[0]-1)*this.getBlockSize()+e}refreshOffsets(){const e=this.parent;let t=0;const i=this.getBlockSize(),n=dr(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks();this.prevHeight=this.offsets[n],this.maxBlock=n%2==0?n-2:n-1,this.offsets={};const s=Array.apply(null,Array(n)).map(()=>++t);for(let o=0;o<s.length;o++){const l=(this.vgenerator.cache[s[o]]||[]).length,a=dr(this.parent)?e.vcRows.length%i:this.count%i,c=!dr(this.parent)&&s[o]in this.vgenerator.cache?l*this.parent.getRowHeight():a&&s[o]===n?a*this.parent.getRowHeight():this.getBlockHeight();this.offsets[s[o]]=(0|this.offsets[s[o]-1])+c,this.tmpOffsets[s[o]]=0|this.offsets[s[o]-1]}this.offsetKeys=Object.keys(this.offsets),dr(this.parent)&&(this.parent.vGroupOffsets=this.offsets),this.parent.enableColumnVirtualization&&this.vgenerator.refreshColOffsets()}refreshVirtualElement(){this.vgenerator.refreshColOffsets(),this.setVirtualHeight()}setVisible(e){const t=this.parent,i=this.parent.getFrozenColumns();let n,s;i&&(n=[].slice.call(this.parent.getFrozenVirtualContent().querySelectorAll("col")),s=[].slice.call(this.parent.getMovableVirtualContent().querySelectorAll("col")));let l,o=[];o=this.getRows(),o.some(d=>(d.isDataRow&&(l=d),d.isDataRow));let a=!0;!t.groupSettings.columns.length&&l&&(a=!1);let c=t.getDataRows();for(let d=0,u=e.length;d<u;d++){const p=e[d];let g=t.getNormalizedColumnIndex(p.uid);const f=!0===p.visible?"":"none";let m;if(n&&s?g>=i?(m=s,c=this.parent.getMovableRows(),g-=i):m=n:m=this.getColGroup().children,-1!==g&&l&&g<l.cells.length&&lt(m[g],{display:f}),!a){let v;p.width&&(v=p.visible?this.virtualEle.wrapper.offsetWidth+parseInt(p.width.toString(),10):this.virtualEle.wrapper.offsetWidth-parseInt(p.width.toString(),10)),v>t.width?(this.setDisplayNone(c,g,f,o),this.parent.enableColumnVirtualization&&this.virtualEle.setWrapperWidth(v+""),this.refreshVirtualElement()):a=!0}!this.parent.invokedFromMedia&&p.hideAtMedia&&this.parent.updateMediaColumns(p),this.parent.invokedFromMedia=!1}a||i?this.refreshContentRows({requestType:"refresh"}):this.parent.notify(V1,{rows:o,args:{isFrozen:!1,rows:o}})}selectVirtualRow(e){if(e.isAvailable=e.selectedIndex<this.count,e.isAvailable&&!this.isContextMenuOpen&&"upArrow"!==this.activeKey&&"downArrow"!==this.activeKey&&!this.isSelection&&!this.requestTypes.some(t=>t===this.requestType)&&!this.parent.selectionModule.isInteracted){const t=this.parent.getRowByIndex(e.selectedIndex),i=this.parent.getRowHeight();if(!t||!this.isRowInView(t)){this.isSelection=!0,this.selectedRowIndex=e.selectedIndex;const n=(e.selectedIndex+1)*i;if(!h(n)){const s=this.content.scrollTop<n?"down":"up";this.selectRowIndex=e.selectedIndex,this.content.scrollTop=n,this.isSelectionScroll=this.observer.check(s)}}}this.parent.isFrozenGrid()&&this.requestType?this.parent.getTablesCount()===this.frzIdx?(this.requestType=this.empty,this.frzIdx=1):this.frzIdx++:this.requestType=this.empty}isRowInView(e){const t=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;return t>=this.content.getBoundingClientRect().top&&i<=this.content.getBoundingClientRect().bottom}}class y4 extends K5{constructor(e,t){super(e,t),this.virtualEle=new OX,this.isMovable=!1,this.gen=new m4(this.parent),this.parent.on(Bd,this.setVisible,this),this.parent.on(TE,i=>"X"===i.virtualInfo.sentinelInfo.axis?this.refreshUI():null,this)}renderTable(){this.gen.refreshColOffsets(),this.parent.setColumnIndexesInView(this.gen.getColumnIndexes(this.getPanel().querySelector("."+cr))),super.renderTable(),this.virtualEle.table=this.getTable(),this.virtualEle.content=this.getPanel().querySelector("."+cr),this.virtualEle.content.style.position="relative",this.virtualEle.renderWrapper(),this.virtualEle.renderPlaceHolder("absolute")}appendContent(e){this.isMovable?(this.virtualEle.movableWrapper.appendChild(e),this.isMovable=!1):this.virtualEle.wrapper.appendChild(e)}refreshUI(){this.isMovable=this.parent.isFrozenGrid(),this.setFrozenTable(this.parent.getMovableVirtualContent()),this.gen.refreshColOffsets(),this.parent.setColumnIndexesInView(this.gen.getColumnIndexes(this.getPanel().querySelector("."+cr))),super.refreshUI(),this.setFrozenTable(this.parent.getFrozenVirtualContent())}setVisible(e){const t=this.parent;let i,n,s;const o=this.parent.getFrozenColumns();let l,a;o&&(l=[].slice.call(this.parent.getFrozenVirtualHeader().querySelectorAll("col")),a=[].slice.call(this.parent.getMovableVirtualHeader().querySelectorAll("col")));for(let c=0,d=e.length;c<d;c++){const u=e[c];let p;if(n=t.getNormalizedColumnIndex(u.uid),i=u.visible?"":"none",l&&a?n>=o?(p=a,n-=o):p=l:p=this.getColGroup().children,lt(p[n],{display:i}),t.enableColumnVirtualization&&!t.groupSettings.columns.length){let g;g=u.visible?this.virtualEle.wrapper.offsetWidth+parseInt(u.width.toString(),10):this.virtualEle.wrapper.offsetWidth-parseInt(u.width.toString(),10),g>t.width?(this.setDisplayNone(u,i),this.virtualEle.setWrapperWidth(g+""),this.gen.refreshColOffsets()):s=!0}else s=!0;s&&!o&&this.refreshUI()}o&&this.parent.notify(Ax,{})}setFrozenTable(e){this.parent.isFrozenGrid()&&this.parent.enableColumnVirtualization&&this.parent.contentModule.isXaxis()&&this.parent.contentModule.setTable(e.querySelector("."+Tn))}setDisplayNone(e,t){const i=this.parent.isFrozenGrid();let n=this.getTable();i&&"movable"===e.getFreezeTableName()&&(n=this.parent.getMovableVirtualHeader().querySelector("."+Tn));for(const s of[].slice.apply(n.querySelectorAll("th.e-headercell")))if(s.querySelector("[e-mappinguid]")&&s.querySelector("[e-mappinguid]").getAttribute("e-mappinguid")===e.uid){lt(s,{display:t}),""===t&&T([s],"e-hide");break}}}class OX{renderWrapper(e){this.wrapper=Xe("div",{className:"e-virtualtable",styles:`min-height:${$e(e)}`}),this.wrapper.appendChild(this.table),this.content.appendChild(this.wrapper)}renderPlaceHolder(e="relative"){this.placeholder=Xe("div",{className:"e-virtualtrack",styles:`position:${e}`}),this.content.appendChild(this.placeholder)}renderFrozenWrapper(e){this.wrapper=Xe("div",{className:"e-virtualtable",styles:`min-height:${$e(e)}; display: flex`}),this.content.appendChild(this.wrapper)}renderFrozenPlaceHolder(){this.placeholder=Xe("div",{className:"e-virtualtrack"}),this.content.appendChild(this.placeholder)}renderMovableWrapper(e){this.movableWrapper=Xe("div",{className:"e-virtualtable",styles:`min-height:${$e(e)}`}),this.movableContent.appendChild(this.movableWrapper)}renderMovablePlaceHolder(){this.movablePlaceholder=Xe("div",{className:"e-virtualtrack"}),this.movableContent.appendChild(this.movablePlaceholder)}adjustTable(e,t){this.wrapper.style.transform=`translate(${e}px, ${t}px)`}adjustMovableTable(e,t){this.movableWrapper.style.transform=`translate(${e}px, ${t}px)`}setMovableWrapperWidth(e,t){this.movableWrapper.style.width=e?`${e}px`:t?"100%":""}setMovableVirtualHeight(e,t){this.movablePlaceholder.style.height=`${e}px`,this.movablePlaceholder.style.width=t}setWrapperWidth(e,t){this.wrapper.style.width=e?`${e}px`:t?"100%":""}setVirtualHeight(e,t){this.placeholder.style.height=h(e)?"0px":`${e}px`,this.placeholder.style.width=t}setFreezeWrapperWidth(e,t,i){e.style.width=t?`${t}px`:i?"100%":""}}class BX{constructor(e){this.parent=e}addNew(e,t){let i;this.isEdit=!1;const n=function Xke(r){let e;return r.isFrozenGrid()&&(e=r.frozenRows&&"Top"===r.editSettings.newRowPosition?r.getMovableHeaderTbody():r.getMovableContentTbody()),e}(this.parent),s=function Jke(r){let e;return r.getFrozenMode()===Lt&&(e=r.frozenRows&&"Top"===r.editSettings.newRowPosition?r.getFrozenRightHeaderTbody():r.getFrozenRightContentTbody()),e}(this.parent),o=this.parent.isFrozenGrid(),l=o&&this.parent.enableColumnVirtualization&&t.isScroll;if(i=this.parent.frozenRows&&"Top"===this.parent.editSettings.newRowPosition?l?this.parent.getMovableHeaderTbody():this.parent.getHeaderTable().querySelector(Ke):l?this.parent.getMovableContentTbody():this.parent.getContentTable().querySelector(Ke),t.row=this.parent.createElement("tr",{className:"e-row e-addedrow",attrs:{role:"row"}}),i.querySelector(".e-emptyrow")){const a=i.querySelector(".e-emptyrow");if(a.parentNode.removeChild(a),o&&!l){const c=this.parent.getContent().querySelector("."+hn).querySelector(Ke);if(c.firstElementChild.parentNode.removeChild(c.firstElementChild),this.parent.getFrozenMode()===Lt){const d=this.parent.getContent().querySelector(".e-frozen-right-content").querySelector(Ke);d.firstElementChild.parentNode.removeChild(d.firstElementChild)}}}if("Top"===this.parent.editSettings.newRowPosition?i.insertBefore(t.row,i.firstChild):i.appendChild(t.row),t.row.appendChild(this.getEditElement(e,!1,void 0,t,!0)),this.parent.editModule.checkLastRow(t.row,t),o&&!l){const a=this.renderMovableform(t.row,t);if("Top"===this.parent.editSettings.newRowPosition?n.insertBefore(a,n.firstChild):n.appendChild(a),t.row.querySelector(".e-normaledit").setAttribute("colspan",this.parent.getVisibleFrozenColumns()+""),a.querySelector(".e-normaledit").setAttribute("colspan",""+(this.parent.getVisibleColumns().length-this.parent.getVisibleFrozenColumns())),s){const c=this.renderFrozenRightForm(t.row,t);"Top"===this.parent.editSettings.newRowPosition?s.insertBefore(c,s.firstChild):s.appendChild(c);const d=this.parent.getVisibleFrozenColumns()-this.parent.getFrozenRightColumnsCount();t.row.querySelector(".e-normaledit").setAttribute("colspan",d+""),c.querySelector(".e-normaledit").setAttribute("colspan",""+this.parent.getFrozenRightColumnsCount())}"auto"===this.parent.height&&this.parent.notify(N1,{})}}renderFrozenRightForm(e,t){const i=e.cloneNode(!0),n=t.frozenRightForm=i.querySelector("form");return this.parent.editSettings.template?(n.innerHTML="",this.appendChildren(n,t.rowData,!1),i):(this.renderRightFrozen(e,i),i.querySelector(ni).innerHTML=this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(ni).innerHTML,i)}renderMovableform(e,t){const i=e.cloneNode(!0),n=t.movableForm=i.querySelector("form");return this.parent.editSettings.template?(n.innerHTML="",this.appendChildren(n,t.rowData,!1),i):(this.renderMovable(e,i),i.querySelector(ni).innerHTML=this.parent.getHeaderContent().querySelector("."+un).querySelector(ni).innerHTML,i)}updateFreezeEdit(e,t){return t=t.concat([].slice.call(this.getFreezeRow(e).querySelectorAll("td.e-rowcell"))),this.parent.getFrozenMode()===Lt&&(t=t.concat([].slice.call(this.getFreezeRightRow(e).querySelectorAll("td.e-rowcell")))),t}getFreezeRightRow(e){const t=parseInt(e.getAttribute(Zt),10),i=this.parent.getFrozenLeftContentTbody(),n=this.parent.getFrozenHeaderTbody(),s=this.parent.getFrozenRightHeaderTbody(),o=this.parent.getFrozenRightContentTbody();return i.contains(e)||n.contains(e)?this.parent.getFrozenRightRowByIndex(t):o.contains(e)||s.contains(e)?this.parent.getRowByIndex(t):e}getFreezeRow(e){if(this.parent.isFrozenGrid()){const t=parseInt(e.getAttribute(Zt),10),i=this.parent.getFrozenLeftContentTbody(),n=this.parent.getMovableContentTbody(),s=this.parent.getFrozenHeaderTbody(),o=this.parent.getMovableHeaderTbody();if(i.contains(e)||s.contains(e))return this.parent.getMovableRowByIndex(t);if(n.contains(e)||o.contains(e))return this.parent.getRowByIndex(t)}return e}update(e,t){this.isEdit=!0;const i=t.isCustomFormValidation,n=t.isScroll;!n&&(D(t.row,"."+hn)||D(t.row,"."+un))&&(t.row=this.getFreezeRow(t.row)),(D(t.row,".e-frozen-right-content")||D(t.row,".e-frozen-right-header"))&&(t.row=this.getFreezeRightRow(t.row));const s=this.parent.isFrozenGrid()&&this.parent.enableColumnVirtualization&&n;let o=[].slice.call(t.row.querySelectorAll("td.e-rowcell"));t.row.innerHTML="",!s&&!i&&(o=this.updateFreezeEdit(t.row,o)),t.row.appendChild(this.getEditElement(e,!0,o,t,!0)),t.row.classList.add(al),this.parent.editModule.checkLastRow(t.row,t),!s&&!i&&this.refreshFreezeEdit(t.row,t)}refreshFreezeEdit(e,t){const i=e.firstChild;let n,s;this.parent.getVisibleFrozenColumns()&&this.parent.editSettings.template&&(i.querySelector(ni).innerHTML=this.parent.getHeaderContent().querySelector("."+Fh).querySelector(ni).innerHTML);const o=parseInt(e.getAttribute(Zt),10);if(this.parent.isFrozenGrid()){o<this.parent.frozenRows?(s=this.parent.getHeaderContent(),n="."+Fh):(s=this.parent.getContent(),n="."+hd);const l=i.cloneNode(!0),a=i.cloneNode(!0),c=t.movableForm=l.querySelector("form");let d,u;this.parent.editSettings.template&&this.refreshEditForm(c,t.rowData),s.querySelector(n).contains(e)?(d=this.parent.getMovableRowByIndex(o),this.updateFrozenCont(d,i,l),this.parent.getFrozenMode()===Lt&&(t.frozenRightForm=a.querySelector("form"),this.refreshEditForm(t.frozenRightForm,t.rowData),u=this.parent.getFrozenRightRowByIndex(o),this.updateFrozenRightCont(u,i,a))):(d=this.parent.getRowByIndex(o),this.updateFrozenCont(d,l,i),this.parent.getFrozenMode()===Lt&&(t.frozenRightForm=a.querySelector("form"),this.refreshEditForm(t.frozenRightForm,t.rowData),u=this.parent.getFrozenRightRowByIndex(o),this.updateFrozenRightCont(u,a,i))),d.appendChild(l),d.classList.add(al),this.parent.getFrozenMode()===Lt&&(u.appendChild(a),u.classList.add(al),aT(t.frozenRightForm.querySelector("td:not(.e-hide)"),t.form.querySelector("td:not(.e-hide)"))),aT(t.movableForm.querySelector("td:not(.e-hide)"),t.form.querySelector("td:not(.e-hide)"))}}refreshEditForm(e,t){this.parent.editSettings.template&&(e.innerHTML="",this.appendChildren(e,t,!1))}updateFrozenRightCont(e,t,i){e.innerHTML="",this.renderRightFrozen(t,i),i.querySelector(ni).innerHTML=this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(ni).innerHTML,t.setAttribute("colspan",this.parent.getVisibleFrozenColumns()-this.parent.getFrozenRightColumnsCount()+""),i.setAttribute("colspan",this.parent.getFrozenRightColumnsCount()+"")}updateFrozenCont(e,t,i){e.innerHTML="",this.renderMovable(t,i),i.querySelector(ni).innerHTML=this.parent.getHeaderContent().querySelector("."+un).querySelector(ni).innerHTML,t.setAttribute("colspan",this.parent.getVisibleFrozenColumns()+""),i.setAttribute("colspan",this.parent.getCurrentVisibleColumns(this.parent.enableColumnVirtualization).length-this.parent.getVisibleFrozenColumns()+"")}renderRightFrozen(e,t){t.querySelector("tr").innerHTML="";const i=this.parent.getColumns();let n=0;for(let s=0;s<i.length;s++,n++)if(i[s].getFreezeTableName()===Ln){const o=n-this.parent.getMovableColumnsCount();t.querySelector("tr").appendChild(e.querySelector("tr").removeChild(e.querySelector("tr").children[o])),n--}}renderMovable(e,t){t.querySelector("tr").innerHTML="";const i=this.parent.getColumns();let n=this.parent.isRowDragable()?1:0;for(let s=0;s<i.length;s++,n++)"movable"===i[s].getFreezeTableName()&&(t.querySelector("tr").appendChild(e.querySelector("tr").removeChild(e.querySelector("tr").children[n])),n--)}getEditElement(e,t,i,n,s){const o=this.parent;let l=0;const a=h(o.detailTemplate)&&h(o.childGrid)?0:1;o.allowGrouping&&(l=o.groupSettings.columns.length);const c=this.parent.createElement("td",{className:"e-editcell e-normaledit",attrs:{colspan:(o.getCurrentVisibleColumns(this.parent.enableColumnVirtualization).length-o.getVisibleFrozenColumns()+this.parent.getIndentCount()).toString()}}),d=n.form=this.parent.createElement("form",{id:o.element.id+"EditForm",className:"e-gridform"});if(this.parent.editSettings.template)return this.appendChildren(d,n.rowData,s),c.appendChild(d),c;const u=this.parent.createElement("table",{className:"e-table e-inline-edit",attrs:{cellspacing:"0.25",role:"grid"}});u.appendChild(o.getContentTable().querySelector(ni).cloneNode(!0));const p=this.parent.createElement(Ke,{attrs:{role:"rowgroup"}}),g=this.parent.createElement("tr",{attrs:{role:"row"}});let f=0;for(a&&g.insertBefore(this.parent.createElement("td",{className:"e-detailrowcollapse"}),g.firstChild),o.isRowDragable()&&g.appendChild(this.parent.createElement("td",{className:"e-dragindentcell"}));f<l;)g.appendChild(this.parent.createElement("td",{className:"e-indentcell"})),f++;let m=0;f=0;const v=o.isFrozenGrid()&&o.enableColumnVirtualization&&n.isScroll,x=n.isCustomFormValidation?this.parent.columnModel:o.getColumns();for(;t&&m<i.length&&f<x.length||f<x.length;){const w=t?i[m].getAttribute("colspan"):null,b=x[f];if(v&&"movable"!==b.getFreezeTableName()||n.isCustomFormValidation&&(b.commands||b.commandsTemplate||!b.field)){f++;continue}const I=this.parent.createElement("td",{className:Ii,attrs:{style:"text-align:"+(b.textAlign?b.textAlign:""),colspan:w||""}});b.visible?(I.appendChild(e[b.uid]),"Vertical"===this.parent.rowRenderingMode&&(Fu(I,{"data-cell":b.headerText}),0===f&&I.classList.add("e-responsive-editcell")),"booleanedit"===b.editType?I.classList.add("e-boolcell"):(b.commands||b.commandsTemplate)&&_([I],"e-unboundcell")):I.classList.add("e-hide"),g.appendChild(I),f=w?f+parseInt(w,10):f+1,m++}return p.appendChild(g),u.appendChild(p),d.appendChild(u),c.appendChild(d),c}removeEventListener(){}appendChildren(e,t,i){const n=O({},t,{isAdd:!this.isEdit,isFrozen:i},!0),s=this.parent.element.id+"editSettingsTemplate";this.parent.isReact&&"string"!=typeof this.parent.editSettings.template?(this.parent.getEditTemplate()(n,this.parent,"editSettingsTemplate",s,null,null,e),this.parent.renderTemplates()):Ur(e,this.parent.getEditTemplate()(n,this.parent,"editSettingsTemplate",s))}}class bAe{constructor(e){this.parent=e}update(e,t){if(this.parent.isReact&&t.columnObject&&t.columnObject.template){const i=t.cell.parentElement,n=t.cell.cloneNode(!0);i.insertBefore(n,t.cell),n.focus(),t.cell.remove(),t.cell=n}t.cell.innerHTML="",t.cell.appendChild(this.getEditElement(e,t)),t.cell.classList.remove("e-ellipsistooltip"),t.cell.classList.add("e-editedbatchcell"),ze(t.row,[al,"e-batchrow"],[])}getEditElement(e,t){const n=this.parent.createElement("form",{id:this.parent.element.id+"EditForm",className:"e-gridform"});return n.appendChild(e[t.columnObject.uid]),"booleanedit"===t.columnObject.editType&&t.cell.classList.add("e-boolcell"),t.columnObject.editType||t.cell.classList.add("e-inputbox"),n}removeEventListener(){}}class _Ae{constructor(e,t){this.parent=e,this.serviceLocator=t,!this.parent.isDestroyed&&(this.parent.on(RE,this.destroy,this),this.parent.on(Ri,this.destroy,this))}setLocaleObj(){this.l10n=this.serviceLocator.getService("localization")}addNew(e,t){this.isEdit=!1,this.createDialog(e,t)}update(e,t){this.isEdit=!0,this.createDialog(e,t)}createDialogHeader(e){const t=this.parent;let i;if(this.parent.enableAdaptiveUI){const n=new oX(this.parent,this.serviceLocator);return n.action=this.isEdit?En.isEdit:En.isAdd,n.renderResponsiveHeader(void 0,e)}return i=t.editSettings.headerTemplate?this.getDialogEditTemplateElement("HeaderTemplate",e):this.isEdit?this.l10n.getConstant("EditFormTitle")+e.primaryKeyValue[0]:this.l10n.getConstant("AddFormTitle"),i}createDialog(e,t){const i=this.parent;this.dialog=this.parent.createElement("div",{id:i.element.id+"_dialogEdit_wrapper",styles:"width: auto"}),i.enableAdaptiveUI&&this.dialog.classList.add("e-responsive-dialog"),this.dialog.setAttribute("aria-label","Dialog edit"),i.element.appendChild(this.dialog),this.setLocaleObj(),this.dialogObj=new qi(O({header:this.createDialogHeader(t),isModal:!0,visible:!0,cssClass:this.parent.cssClass?"e-edit-dialog "+this.parent.cssClass:"e-edit-dialog",content:this.getEditElement(e,t),showCloseIcon:!0,allowDragging:!0,close:this.dialogClose.bind(this),created:this.dialogCreated.bind(this),closeOnEscape:!0,width:i.editSettings.template?"auto":"330px",target:t.target?t.target:document.body,animationSettings:{effect:"None"},footerTemplate:i.editSettings.footerTemplate?this.getDialogEditTemplateElement("FooterTemplate",t):null,buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.l10n.getConstant("SaveButton"),cssClass:this.parent.cssClass?"e-primary "+this.parent.cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:this.parent.cssClass?"e-flat "+this.parent.cssClass:"e-flat",content:this.l10n.getConstant("CancelButton")}}]},i.editSettings.dialog&&i.editSettings.dialog.params||{})),t.dialog=this.dialogObj,this.dialogObj.isStringTemplate=!0,this.renderResponsiveDialog(),this.dialogObj.appendTo(this.dialog),Z1(this.parent.element,this.dialogObj.element.parentElement),i.enableAdaptiveUI&&this.dialogObj.show(!0)}dialogCreated(){DX(this.parent)}renderResponsiveDialog(){this.parent.enableAdaptiveUI&&(this.parent.adaptiveDlgTarget&&(this.dialogObj.target=this.parent.adaptiveDlgTarget),this.dialogObj.buttons=[{}],this.dialogObj.showCloseIcon=!0,this.dialogObj.visible=!1,this.dialogObj.width="100%",this.dialogObj.open=()=>{this.dialogObj.element.style.maxHeight="100%"})}btnClick(e){this.l10n.getConstant("CancelButton").toLowerCase()===e.target.innerText.trim().toLowerCase()?this.dialogClose():this.parent.endEdit()}dialogClose(){this.parent.closeEdit()}destroy(e){const t=["template","headerTemplate","footerTemplate"];for(let i=0;i<t.length;i++)if(this.parent.editSettings[t[i]]){t[i].charAt(0).toUpperCase(),t[i].slice(1)}this.parent.notify(d5,{}),this.parent.isEdit=!1,this.parent.notify(Dg,{}),this.dialog&&!this.dialogObj.isDestroyed&&(this.dialogObj.destroy(),X(this.dialog))}getDialogEditTemplateElement(e,t){const i=this.parent.createElement("div",{className:"e-dialog"+e}),n=O({},t.rowData,{isAdd:!this.isEdit},!0),s=this.parent.element.id+"editSettings"+e;return Ur(i,("HeaderTemplate"===e?this.parent.getEditHeaderTemplate():this.parent.getEditFooterTemplate())(n,this.parent,"editSettings"+e,s)),i}getEditElement(e,t){const i=this.parent,n=this.parent.createElement("div",{className:this.isEdit?al:"e-insertedrow"}),s=t.form=this.parent.createElement("form",{id:i.element.id+"EditForm",className:"e-gridform"});if(this.parent.editSettings.template){const c=this.parent.element.id+"editSettingsTemplate",d=O({},t.rowData,{isAdd:!this.isEdit},!0);return this.parent.isReact&&"string"!=typeof this.parent.editSettings.template?(this.parent.getEditTemplate()(d,this.parent,"editSettingsTemplate",c,null,null,s),this.parent.renderTemplates()):Ur(s,this.parent.getEditTemplate()(d,this.parent,"editSettingsTemplate",c)),n.appendChild(s),n}const o=this.parent.createElement("table",{className:Tn,attrs:{cellspacing:"6px",role:"grid"}}),l=this.parent.createElement(Ke,{attrs:{role:"rowgroup"}}),a=i.getColumns();for(let c=0;c<a.length;c++){if(this.parent.editModule.checkColumnIsGrouped(a[c])||a[c].commands||a[c].commandsTemplate||"checkbox"===a[c].type)continue;const d=this.parent.createElement("tr",{attrs:{role:"row"}}),u=this.parent.createElement("td",{className:Ii,attrs:{style:"text-align:"+(this.parent.enableRtl?"right":"left")+";width:190px"}});e[a[c].uid].classList.remove("e-input"),u.appendChild(e[a[c].uid]),d.appendChild(u),l.appendChild(d)}return o.appendChild(l),s.appendChild(o),n.appendChild(s),n}removeEventListener(){this.parent.isDestroyed||(this.parent.off(RE,this.destroy),this.parent.off(Ri,this.destroy))}}class SAe{constructor(e,t){this.editType={Inline:BX,Normal:BX,Batch:bAe,Dialog:_Ae},this.parent=e,this.serviceLocator=t,this.renderer=new this.editType[this.parent.editSettings.mode](e,t),this.focus=t.getService("focus")}addNew(e){this.renderer.addNew(this.getEditElements(e),e),this.convertWidget(e)}update(e){this.renderer.update(this.getEditElements(e),e),e.isCustomFormValidation||(this.parent.notify("edit-form",e),this.convertWidget(e))}convertWidget(e){const t=this.parent;let i,n,s,o,l;const a=t.isFrozenGrid(),c="Right"===t.getFrozenMode()&&"Normal"===t.editSettings.mode?1:0,d="Dialog"===t.editSettings.mode?G("#"+t.element.id+"_dialogEdit_wrapper .e-gridform",document):t.element.getElementsByClassName("e-gridform")[c],u=a&&this.parent.enableColumnVirtualization&&e.isScroll;if(a&&"Normal"===t.editSettings.mode){const g=parseInt(e.row.getAttribute(Zt),10);t.frozenRows&&("add"===e.requestType&&"Top"===t.editSettings.newRowPosition||g<t.frozenRows)?(o=t.element.querySelector("."+un).querySelector(".e-gridform"),this.parent.getFrozenMode()===Lt&&(l=e.frozenRightForm)):(o=t.element.querySelector("."+hn).querySelector(".e-gridform"),this.parent.getFrozenMode()===Lt&&(l=e.frozenRightForm))}const p="Batch"!==t.editSettings.mode?t.getColumns():[t.getColumnByField(e.columnName)];for(const g of p){if(u&&"movable"!==g.getFreezeTableName())continue;if(this.parent.editSettings.template&&!h(g.field)){const m=O({},e);m.element=d.querySelector("[name="+mo(g.field)+"]"),h(m.element)&&a&&(m.element=o.querySelector("[name="+mo(g.field)+"]")),"string"==typeof g.edit.write?Mt(g.edit.write,window)(m):g.edit.write(m);continue}if(this.parent.editModule.checkColumnIsGrouped(g)||g.commands)continue;s=g.valueAccessor(g.field,e.rowData,g),n="movable"===g.getFreezeTableName()&&"Normal"===t.editSettings.mode?o.querySelector("[e-mappinguid="+g.uid+"]"):l&&g.getFreezeTableName()===Ln&&"Normal"===t.editSettings.mode?l.querySelector("[e-mappinguid="+g.uid+"]"):d.querySelector("[e-mappinguid="+g.uid+"]");let f=g.edit.write;h(n)||("string"==typeof f?(f=Mt(f,window),f({rowData:e.rowData,element:n,column:g,requestType:e.requestType,row:e.row,foreignKeyData:g.isForeignColumn()&&Mt(g.field,e.foreignKeyData)})):g.edit.write({rowData:e.rowData,element:n,column:g,requestType:e.requestType,row:e.row,foreignKeyData:g.isForeignColumn()&&Mt(g.field,e.foreignKeyData)}),!i&&!n.getAttribute("disabled")&&!Ce(n,"e-checkbox-disabled")&&(this.focusElement(n,e.type),i=!0))}if(a&&!this.parent.allowTextWrap&&("add"===e.requestType||"beginEdit"===e.requestType)&&"Dialog"!==this.parent.editSettings.mode&&!h(d)&&!h(o)){const g=o.querySelector("tr").children[0],f=d.querySelector("tr").children[0];f.offsetHeight>g.offsetHeight?(g.style.height=f.offsetHeight+"px",l&&(o.querySelector("tr").children[0].style.height=f.offsetHeight+"px")):(f.style.height=g.offsetHeight+"px",l&&(o.querySelector("tr").children[0].style.height=g.offsetHeight+"px"))}}focusElement(e,t){const i=this.parent.element.querySelector(".e-edit-checkselect");!h(i)&&i.nextElementSibling&&i.nextElementSibling.classList.add("e-focus"),"Batch"===this.parent.editSettings.mode?this.focus.onClick({target:D(e,"td")},!0):!this.parent.enableVirtualization||"Normal"!==this.parent.editSettings.mode||this.parent.enableVirtualization&&"Bottom"===this.parent.editSettings.newRowPosition&&Ce(e,va)?e.focus():e.focus({preventScroll:!0}),e.classList.contains("e-defaultcell")&&e.setSelectionRange(e.value.length,e.value.length)}getEditElements(e){const t=this.parent,i={};let n="Batch"!==t.editSettings.mode?t.getColumns():[t.getColumnByField(e.columnName)];if(e.isCustomFormValidation&&(n=this.parent.columnModel),this.parent.editSettings.template)return{};const s=t.isFrozenGrid()&&t.enableColumnVirtualization&&e.isScroll;for(let o=0,l=n.length;o<l;o++){const a=n[o];if(this.parent.editModule.checkColumnIsGrouped(a)||s&&"movable"!==n[o].getFreezeTableName()||e.isCustomFormValidation&&(a.commands||a.commandsTemplate||!a.field))continue;if(a.commands||a.commandsTemplate){const g=this.serviceLocator.getService("cellRendererFactory"),f=new Ph(this.parent),m=g.getCellRenderer(Ct.CommandColumn),x=f.generateRows(e.rowData)[0].cells.filter(I=>I.rowID),w=m.render(x[o],e.rowData,{index:e.row?e.row.getAttribute(Zt):0},this.parent.enableVirtualization),b=w.firstElementChild;b.setAttribute("textAlign",w.getAttribute("textAlign")),i[a.uid]=b;continue}const c=a.valueAccessor(a.field,e.rowData,a),d={column:a,value:c,type:e.requestType,data:e.rowData};let p,u=a.edit.create;if(a.editTemplate){p=this.parent.createElement("span",{attrs:{"e-mappinguid":a.uid}});const g=this.parent.element.id+a.uid+"editTemplate",f=oT({},e.rowData,{column:a});this.parent.isReact&&"string"!=typeof a.editTemplate?(a.getEditTemplate()(O({index:e.rowIndex},f),this.parent,"editTemplate",g,null,null,p),this.parent.renderTemplates()):Ur(p,a.getEditTemplate()(O({index:e.rowIndex},f),this.parent,"editTemplate",g))}else{if("string"==typeof u?(u=Mt(u,window),p=u(d)):p=a.edit.create(d),"string"==typeof p){const m=this.parent.createElement("div");m.innerHTML=p,p=m.firstChild}const g="input"!==p.tagName&&p.querySelectorAll("input").length,f=mo(a.field);Le(g?p.querySelector("input"):p,{name:f,"e-mappinguid":a.uid,id:t.element.id+f}),ze(p,["e-input","e-field"],[]),"Right"===a.textAlign&&p.classList.add("e-ralign"),((a.isPrimaryKey||a.isIdentity)&&"beginEdit"===e.requestType||a.isIdentity&&"add"===e.requestType)&&p.setAttribute("disabled","")}i[a.uid]=p}return i}destroy(){this.renderer.removeEventListener()}}class gT{constructor(e){this.parent=e}create(e){return e_(this.parent,e.column,"e-field",{type:"text"})}read(e){return e.ej2_instances[0].value}destroy(){this.obj&&!this.obj.isDestroyed&&(this.removeEventHandler&&this.removeEventHandler(),this.obj.destroy())}}class IAe extends gT{constructor(){super(...arguments),this.activeClasses=["e-selectionbackground","e-active"]}create(e){let i="e-field e-boolcell";return"checkbox"===e.column.type&&(i="e-field e-boolcell e-edit-checkselect"),this.removeEventHandler=this.removeEventListener,e_(this.parent,e.column,i,{type:"checkbox",value:e.value})}read(e){return e.checked}write(e){let t,i;if(h(e.row)||(t=e.row.querySelector(".e-edit-checkselect")),Mt(e.column.field,e.rowData)&&(i=JSON.parse(Mt(e.column.field,e.rowData).toString().toLowerCase())),!h(t)&&"checkbox"===e.column.type){if(this.editType=this.parent.editSettings.mode,this.editRow=e.row,"add"!==e.requestType){const n=this.parent.getRowObjectFromUID(e.row.getAttribute("data-uid"));i=!!n&&n.isSelected}jd([].slice.call(e.row.getElementsByClassName(Ii)),i,...this.activeClasses)}this.obj=new Gl(O({label:"Dialog"!==this.parent.editSettings.mode?" ":e.column.headerText,checked:i,disabled:!kp(e.column,e.requestType,e.element),enableRtl:this.parent.enableRtl,cssClass:this.parent.cssClass?this.parent.cssClass:""},e.column.edit.params)),this.addEventListener(),this.obj.appendTo(e.element)}addEventListener(){this.cbChange=this.checkBoxChange.bind(this),this.obj.addEventListener(Ox,this.cbChange)}removeEventListener(){this.obj.isDestroyed||this.obj.removeEventListener(Ox,this.cbChange)}checkBoxChange(e){if(this.editRow&&"Dialog"!==this.editType){let t=!1;e.checked?(t=!0,this.editRow.setAttribute("aria-selected",t.toString())):this.editRow.removeAttribute("aria-selected"),jd([].slice.call(this.editRow.getElementsByClassName(Ii)),t,...this.activeClasses)}}}class DAe extends gT{constructor(e){super(),this.parent=e,this.flag=!1,this.removeEventHandler=this.removeEventListener}write(e){const t="Dialog"!==this.parent.editSettings.mode;this.column=e.column;const i=new qt(e.column.field,"notequal",null,!0,!1),n={};if(e.column.edit.params){const s=Object.keys(e.column.edit.params);for(let o=0;o<s.length;o++)n[s[o]]="query"===s[o]?e.column.edit.params[s[o]].clone():e.column.edit.params[s[o]]}this.obj=new Sn(O({dataSource:this.parent.dataSource instanceof ie?this.parent.dataSource:new ie(this.parent.dataSource),query:(new Ze).where(i).select(e.column.field),enabled:kp(e.column,e.requestType,e.element),fields:{value:e.column.field},value:Mt(e.column.field,e.rowData),enableRtl:this.parent.enableRtl,placeholder:t?"":e.column.headerText,popupHeight:"200px",floatLabelType:t?"Never":"Always",sortOrder:"Ascending",cssClass:this.parent.cssClass?this.parent.cssClass:null},n)),this.parent.enableVirtualization&&(this.obj.dataSource=e.column.isForeignColumn()?[e.foreignKeyData[0]]:[e.rowData]),this.addEventListener(),this.obj.query.params=this.parent.query.params,this.obj.appendTo(e.element),e.element.setAttribute("name",mo(e.column.field))}addEventListener(){this.ddCreated=this.dropdownCreated.bind(this),this.ddOpen=this.dropDownOpen.bind(this),this.ddBeforeOpen=this.dropdownBeforeOpen.bind(this),this.ddComplete=this.ddActionComplete.bind(this),this.obj.addEventListener(WE,this.ddCreated),this.obj.addEventListener(ud,this.ddOpen),this.obj.addEventListener(nX,this.ddBeforeOpen),this.obj.addEventListener(yi,this.ddComplete)}removeEventListener(){this.obj.isDestroyed||(this.obj.removeEventListener(WE,this.ddCreated),this.obj.removeEventListener(ud,this.ddOpen),this.obj.removeEventListener(nX,this.ddBeforeOpen),this.obj.removeEventListener(yi,this.ddComplete))}dropdownCreated(e){this.flag=!0}dropdownBeforeOpen(){this.parent.enableVirtualization&&(this.obj.dataSource=this.column.isForeignColumn()?this.column.dataSource instanceof ie?this.column.dataSource:new ie(this.column.dataSource):this.parent.dataSource instanceof ie?this.parent.dataSource:new ie(this.parent.dataSource))}ddActionComplete(e){e.result=Ie.distinct(e.result,this.obj.fields.value,!0),this.flag&&this.column.dataSource&&!(this.column.edit.params&&this.column.edit.params.ddEditedData)&&("result"in this.column.dataSource?this.column.dataSource.result=e.result:this.column.dataSource instanceof ie&&(this.column.dataSource.dataSource.json=e.result)),this.flag=!1}dropDownOpen(e){const t=Ce(this.obj.element,"e-dialog");if("Dialog"===this.parent.editSettings.mode&&!h(t)){const i=G("#"+t.id,document).ej2_instances[0];e.popup.element.style.zIndex=(i.zIndex+1).toString()}}}class EAe{constructor(e){this.parent=e}keyEventHandler(e){if(13===e.keyCode||9===e.keyCode){const t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),this.dispatchEvent(t)}}create(e){return this.instances=new Nn(this.parent.locale),e_(this.parent,e.column,"e-field",{})}read(e){return this.obj.value}write(e){const t=e.column,i="Dialog"!==this.parent.editSettings.mode;this.obj=new ng(O({value:parseFloat(Mt(e.column.field,e.rowData)),enableRtl:this.parent.enableRtl,placeholder:i?"":e.column.headerText,enabled:kp(e.column,e.requestType,e.element),floatLabelType:"Dialog"!==this.parent.editSettings.mode?"Never":"Always",locale:this.parent.locale,cssClass:this.parent.cssClass?this.parent.cssClass:null},t.edit.params)),e.element.setAttribute("name",mo(e.column.field)),this.obj.appendTo(e.element),this.obj.element.addEventListener("keydown",this.keyEventHandler)}destroy(){this.obj&&!this.obj.isDestroyed&&(this.obj.element.removeEventListener("keydown",this.keyEventHandler),this.obj.destroy())}}class TAe extends gT{create(e){const t={type:"text",value:h(e.value)?"":e.value,style:"text-align:"+e.column.textAlign};return e_(this.parent,e.column,"e-field e-input e-defaultcell",t)}read(e){return e.value}write(e){const t=e.column,i="Dialog"!==this.parent.editSettings.mode;this.obj=new co(O({element:e.element,floatLabelType:"Dialog"!==this.parent.editSettings.mode?"Never":"Always",enableRtl:this.parent.enableRtl,enabled:kp(e.column,e.requestType,e.element),placeholder:i?"":e.column.headerText,cssClass:this.parent.cssClass?this.parent.cssClass:""},t.edit.params)),this.obj.appendTo(e.element)}}class NX{constructor(e,t,i){this.args={},this.currentVirtualData={},this.parent=e,this.renderer=i,this.serviceLocator=t,this.addEventListener()}clickHandler(e){const t=e.target,i=this.parent;(Ce(t,ar)&&Ce(Ce(t,ar),"e-grid").id===i.element.id||i.frozenRows&&Ce(t,cr))&&!Ce(t,"e-unboundcelldiv")&&(this.rowIndex=Ce(t,Ii)?parseInt(t.parentElement.getAttribute(Zt),10):-1,i.isEdit&&i.editModule.endEdit())}dblClickHandler(e){Ce(e.target,Ii)&&this.parent.editSettings.allowEditOnDblClick&&this.parent.editModule.startEdit(Ce(e.target,Oi))}editComplete(e){switch(this.parent.isEdit=!1,e.requestType){case"save":(!(this.parent.isCheckBoxSelection||"Multiple"===this.parent.selectionSettings.type)||!this.parent.isPersistSelection)&&"edit"!==e.action&&this.parent.selectRow(0),this.parent.trigger(yi,O(e,{requestType:"save",type:yi}));break;case"delete":this.parent.trigger(yi,O(e,{requestType:"delete",type:yi})),this.parent.isCheckBoxSelection||this.parent.selectRow(this.editRowIndex)}}getEditArgs(e,t,i){const n=this.parent.getPrimaryKeyFieldNames(),s=[];for(let l=0;l<n.length;l++)s.push(Mt(n[l],e));return{primaryKey:n,primaryKeyValue:s,requestType:"beginEdit",rowData:e,rowIndex:this.rowIndex,type:"edit",cancel:!1,foreignKeyData:t&&t.foreignKeyData,target:void 0,isScroll:i}}startEdit(e){const t=this.parent;if(this.rowIndex=this.editRowIndex=parseInt(e.getAttribute(Zt),10),(t.enableVirtualization||t.enableInfiniteScrolling)&&!this.parent.element.querySelector('.e-row[aria-rowindex="'+this.rowIndex+'"]'))return;const i={data:void 0,index:this.rowIndex,isScroll:!1};if(this.parent.notify(FE,i),dr(t)){const l=t.getRowObjectFromUID(e.getAttribute("data-uid"));this.previousData=l.data}else this.previousData||!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling?this.parent.enableVirtualization||(this.previousData=O({},{},t.getCurrentViewRecords()[this.rowIndex],!0)):this.previousData=i.data;const n=O({},{},i.data||this.previousData,!0);this.uid=e.getAttribute("data-uid");const s=t.getRowObjectFromUID(this.uid),o=this.getEditArgs(n,s,i.isScroll);o.row=e,o.isScroll?this.inlineEditHandler(o,e):(this.parent.notify(GE,{uid:this.uid,prevData:this.previousData,argsCreator:this.getEditArgs.bind(this),renderer:this.renderer}),t.trigger("beginEdit",o,l=>{l.type="actionBegin",t.trigger(Pn,l,a=>{a.cancel||this.inlineEditHandler(a,e)})}))}inlineEditHandler(e,t){const i=this.parent;i.isEdit=!0,e.row=e.row?e.row:t,"Dialog"!==i.editSettings.mode&&i.clearSelection(),"Dialog"===i.editSettings.mode&&i.selectionModule&&(i.selectionModule.preventFocus=!0,e.row.classList.add("e-dlgeditrow")),this.renderer.update(e),this.uid=t.getAttribute("data-uid"),i.editModule.applyFormValidation(),e.type="actionComplete",i.trigger(yi,e),this.args=e,this.parent.allowTextWrap&&this.parent.notify(Nd,{case:"textwrap"})}updateRow(e,t){const i=this.parent;this.editRowIndex=e;const n={requestType:"save",action:"edit",type:Pn,data:t,cancel:!1,previousData:i.getCurrentViewRecords()[e],row:i.getRowByIndex(e)};if(i.showSpinner(),i.enableInfiniteScrolling){this.uid=n.row.getAttribute("data-uid");const s=parseInt(n.row.getAttribute("aria-rowindex"));this.parent.notify("refresh-infinite-editrowindex",{index:s})}i.notify(L1,n),n.promise?n.promise.then(()=>i.refresh()).catch(s=>this.edFail(s)):i.enableInfiniteScrolling||i.refresh()}editFormValidate(){const e=this.parent,t=e.editModule.editFormValidate(),i={prevData:this.previousData,isValid:!0,editIdx:this.editRowIndex,addIdx:this.addedRowIndex};return e.notify(H5,i),t&&i.isValid}endEdit(){const e=this.parent;if(!this.parent.isEdit||!this.editFormValidate())return;let t=O({},{},this.previousData,!0);const i=O(this.args,{requestType:"save",type:Pn,data:t,cancel:!1,previousData:this.previousData,selectedRow:e.selectedRowIndex,foreignKeyData:{}}),n="Right"===e.getFrozenMode()?1:0,s="Dialog"===e.editSettings.mode,o=G("#"+e.element.id+"_dialogEdit_wrapper",document),l=s?o.querySelector(".e-gridform"):e.element.getElementsByClassName("e-gridform")[n],a={virtualData:O({},{},this.previousData,!0),isAdd:!1,isScroll:!1,endEdit:!0};if(this.parent.notify(Eg,a),(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&"Normal"===this.parent.editSettings.mode&&Object.keys(a.virtualData).length?this.parent.isEdit&&(this.currentVirtualData=t=i.data=a.virtualData):t=e.editModule.getCurrentEditedData(l,t),e.isFrozenGrid()&&"Normal"===e.editSettings.mode){const d=e.getMovableVirtualHeader().querySelector(".e-gridform"),u=e.getMovableVirtualContent().querySelector(".e-gridform"),p=[d||u];let g,f,m=[];e.getFrozenMode()===Lt&&(g=e.getFrozenRightHeader().querySelector(".e-gridform"),f=e.getFrozenRightContent().querySelector(".e-gridform"),m=[g||f]),Kf(this.parent,(v,x)=>{for(const w of x)w&&(t=e.editModule.getCurrentEditedData(w,t))},[[],p,m])}let c=[].slice.call(e.element.getElementsByClassName(al)).length;if(!a.isAdd&&Object.keys(this.currentVirtualData).length&&!c&&(c=1),s?o.getElementsByClassName(al).length:c)i.action="edit",e.trigger(Pn,i,d=>{d.cancel||(e.showSpinner(),e.notify(L1,d))});else if(i.action="add",i.selectedRow=0,i.index=this.addedRowIndex,e.notify(z1,{}),e.notify(fo,i),this.addedRowIndex=null,i.cancel)return}destroyElements(){const e=this.parent;e.editModule.destroyWidgets(),e.editModule.destroyForm(),this.parent.notify(RE,{})}editHandler(e){e.promise?e.promise.then(t=>this.edSucc(t,e)).catch(t=>this.edFail(t)):this.editSuccess(e.data,e)}edSucc(e,t){this.editSuccess(e,t)}edFail(e){this.editFailure(e)}updateCurrentViewData(e){!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&(this.parent.getCurrentViewRecords()[this.editRowIndex]=e)}requestSuccess(e){this.parent.editModule.formObj&&!this.parent.editModule.formObj.isDestroyed&&(this.destroyElements(),this.stopEditStatus(),"Dialog"===this.parent.editSettings.mode&&"add"!==e.action&&this.parent.selectionModule&&this.parent.element.querySelector(".e-dlgeditrow").classList.remove("e-dlgeditrow"))}editSuccess(e,t){h(e)||e instanceof Array||(t.data=O({},O({},t.rowData,t.data),e)),this.requestSuccess(t),this.parent.trigger(SE,t),t.type=yi,this.parent.isEdit=!1,this.refreshRow(t.data),this.parent.notify(z1,t),this.parent.editModule.checkLastRow(t.row),this.parent.editModule.isLastRow=!1,this.updateCurrentViewData(t.data),this.blazorTemplate(),this.editRowIndex=null,this.parent.trigger(yi,t),(!(this.parent.isCheckBoxSelection||"Multiple"===this.parent.selectionSettings.type)||!this.parent.isPersistSelection&&!this.parent.selectionSettings.checkboxOnly)&&"Dialog"!==this.parent.editSettings.mode&&this.parent.selectRow(this.rowIndex>-1?this.rowIndex:this.editRowIndex),this.parent.hideSpinner()}closeForm(){!this.cloneRow&&this.parent.isEdit&&this.stopEditStatus(),this.cloneRow&&(this.cloneRow.remove(),this.cloneRow=null,this.originalRow.classList.remove("e-hiddenrow")),this.parent.isFrozenGrid()&&this.cloneFrozen&&(this.cloneFrozen.remove(),this.frozen.classList.remove("e-hiddenrow"))}blazorTemplate(){const e=this.parent.getColumns();for(let t=0;t<e.length;t++){}}editFailure(e){this.parent.trigger(Ix,{error:e}),this.parent.hideSpinner(),this.parent.log("actionfailure",{error:e})}needRefresh(){let e=!0;const t=this.parent.element.querySelector(".e-gridform");return(this.parent.enableVirtualization||this.parent.infiniteScrollSettings.enableCache)&&"Normal"===this.parent.editSettings.mode&&!t&&(e=!1),e}refreshRow(e){const t=this.parent.isFrozenGrid(),i=new ya(this.serviceLocator,null,this.parent);let n=this.parent.getRowObjectFromUID(this.uid);if(n){n.changes=e,this.parent.notify(PE,{data:e}),iT(n,this.parent.getForeignKeyColumns(),n.changes),this.needRefresh()&&i.refresh(n,this.parent.getColumns(),!0);const s=[].slice.call(this.parent.element.querySelectorAll('[aria-rowindex="'+n.index+'"]'));if(t&&s.length)for(let o=0;o<s.length;o++){const l=s[o].getAttribute("data-uid");l!==this.uid&&(n=this.parent.getRowObjectFromUID(l),n.changes=e,i.refresh(n,this.parent.getColumns(),!0),this.parent.editModule.checkLastRow(s[o]))}}}closeEdit(){if(!this.parent.isEdit)return;const e=this.parent,t=O(this.args,{requestType:"cancel",type:Pn,cancel:!1,data:this.previousData,selectedRow:e.selectedRowIndex});e.notify(HQ,t),this.blazorTemplate(),e.trigger(Pn,t,i=>{if(i.cancel)return;"Dialog"===this.parent.editSettings.mode&&this.parent.notify(RE,{}),e.isEdit=!1,this.stopEditStatus(),i.type=yi,"Dialog"!==e.editSettings.mode&&this.refreshRow(i.data);const n=e.groupSettings.enableLazyLoading&&e.groupSettings.columns.length&&!e.getContentTable().querySelector("tr.e-emptyrow");!e.getContentTable().querySelector("tr.e-emptyrow")&&!e.getContentTable().querySelector("tr.e-row")&&!n&&e.renderModule.emptyRow(),"Dialog"!==e.editSettings.mode&&e.selectRow(this.rowIndex),e.trigger(yi,i)})}addRecord(e,t){const i=this.parent;if(this.addedRowIndex=t=h(t)?0:t,e)return void i.notify(fo,{requestType:"save",type:Pn,data:e,selectedRow:0,action:"add",index:t});if(i.isEdit)return;this.previousData={},this.uid="";const n=i.getColumns(),s={virtualData:{},isScroll:!1};this.parent.notify(Eg,s);for(let l=0;l<n.length;l++)s.isScroll&&"movable"!==n[l].getFreezeTableName()||n[l].field&&Ie.setValue(n[l].field,n[l].defaultValue,this.previousData);const o={cancel:!1,foreignKeyData:{},requestType:"add",data:this.previousData,type:Pn,index:t,rowData:this.previousData,target:void 0,isScroll:s.isScroll};(this.parent.enableVirtualization||this.parent.infiniteScrollSettings.enableCache)&&Object.keys(s.virtualData).length&&(o.data=o.rowData=s.virtualData),o.isScroll?this.inlineAddHandler(o):(this.parent.notify(GE,{uid:this.uid,prevData:this.previousData,argsCreator:this.getEditArgs.bind(this),renderer:this.renderer}),i.trigger(Pn,o,l=>{l.cancel||this.inlineAddHandler(l)}))}inlineAddHandler(e){const t=this.parent;t.isEdit=!0,"Dialog"!==t.editSettings.mode&&t.clearSelection(),this.renderer.addNew(e),t.editModule.applyFormValidation(),e.type=yi,e.row=t.element.querySelector("."+va),t.trigger(yi,e),this.args=e}deleteRecord(e,t){if(this.editRowIndex=this.parent.selectedRowIndex,t){t=t instanceof Array?t:[t];const n=this.parent,s=Object.keys(t).length;e=e||this.parent.getPrimaryKeyFieldNames()[0];for(let o=0;o<s;o++){let l;const a=n.currentViewData.some(c=>(l=c,t[o]===Mt(e,c)||t[o]===c));t[o]=a?l:t[o][e]?t[o]:{[e]:t[o]}}}const i={requestType:"delete",type:Pn,foreignKeyData:{},data:t||this.parent.getSelectedRecords(),tr:this.parent.getSelectedRows(),cancel:!1};if(h(this.parent.commandDelIndex)||(i.data[0]=this.parent.getRowObjectFromUID(this.parent.getRowByIndex(this.parent.commandDelIndex).getAttribute("data-uid")).data),this.parent.enableVirtualization&&i.data.length>1){const n=this.parent.getSelectedRows()[0].getAttribute("data-uid");i.data=[this.parent.getRowObjectFromUID(n).data]}this.parent.notify(fo,i)}stopEditStatus(){const e=this.parent,t=[].slice.call(e.element.getElementsByClassName(va)),i=[].slice.call(e.element.getElementsByClassName(al));for(let n=0;n<t.length;n++)X(t[n]);for(let n=0;n<i.length;n++)i[n].classList.remove(al)}addEventListener(){this.parent.isDestroyed||(this.evtHandlers=[{event:DQ,handler:this.editHandler},{event:h5,handler:this.dblClickHandler},{event:kl,handler:this.clickHandler},{event:m5,handler:this.requestSuccess},{event:P1,handler:this.dblClickHandler},{event:"delete-complete",handler:this.editComplete},{event:"save-complete",handler:this.editComplete},{event:B5,handler:this.closeEdit},{event:"closeinline",handler:this.closeForm}],vo(this.parent,this.evtHandlers,!0,this))}removeEventListener(){this.parent.isDestroyed||vo(this.parent,this.evtHandlers,!1)}destroy(){this.removeEventListener(),this.renderer.destroy()}}class VX extends NX{constructor(e,t,i){super(e,t),this.parent=e,this.serviceLocator=t,this.renderer=i}closeEdit(){super.closeEdit()}addRecord(e,t){super.addRecord(e,t)}endEdit(){super.endEdit()}updateRow(e,t){super.updateRow(e,t)}deleteRecord(e,t){super.deleteRecord(e,t)}startEdit(e){super.startEdit(e)}}class RAe{constructor(e,t,i){this.cellDetails={},this.originalCell={},this.cloneCell={},this.editNext=!1,this.preventSaveCell=!1,this.initialRender=!0,this.validationColObj=[],this.parent=e,this.serviceLocator=t,this.renderer=i,this.focus=t.getService("focus"),this.addEventListener()}addEventListener(){this.parent.isDestroyed||(this.evtHandlers=[{event:kl,handler:this.clickHandler},{event:P1,handler:this.dblClickHandler},{event:kx,handler:this.onBeforeCellFocused},{event:DE,handler:this.onCellFocused},{event:h5,handler:this.dblClickHandler},{event:lr,handler:this.keyDownHandler},{event:ME,handler:this.editNextValCell},{event:"closebatch",handler:this.closeForm},{event:Ri,handler:this.destroy}],vo(this.parent,this.evtHandlers,!0,this),this.dataBoundFunction=this.dataBound.bind(this),this.batchCancelFunction=this.batchCancel.bind(this),this.parent.addEventListener(za,this.dataBoundFunction),this.parent.addEventListener(Rx,this.batchCancelFunction))}removeEventListener(){this.parent.isDestroyed||(vo(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(za,this.dataBoundFunction),this.parent.removeEventListener(Rx,this.batchCancelFunction))}batchCancel(){this.parent.focusModule.restoreFocus()}dataBound(){this.parent.notify(Dg,{})}destroy(){this.removeEventListener()}clickHandler(e){Ce(e.target,this.parent.element.id+"_add",!0)||(this.parent.isEdit&&D(this.form,"td")!==D(e.target,"td")&&(this.saveCell(),this.editNextValCell()),Ce(e.target,Ii)&&!this.parent.isEdit&&this.setCellIdx(e.target))}dblClickHandler(e){const t=Ce(e.target,Ii),i=Ce(e.target,Oi),n=i&&parseInt(i.getAttribute(Zt),10),s=t&&parseInt(t.getAttribute(_r),10);!h(t)&&!h(n)&&!isNaN(s)&&!t.parentElement.classList.contains(al)&&this.editCell(n,this.parent.getColumns()[s].field,this.isAddRow(n))}onBeforeCellFocused(e){this.parent.isEdit&&this.validateFormObj()&&(e.byClick||["tab","shiftTab","enter","shiftEnter"].indexOf(e.keyArgs.action)>-1)&&(e.cancel=!0,e.byClick?e.clickArgs.preventDefault():e.keyArgs.preventDefault())}onCellFocused(e){const t=this.parent.getFrozenLeftCount(),i=this.parent.getFrozenRightColumnsCount(),n=this.parent.getContent().querySelector("."+hn),s=this.parent.getHeaderContent().querySelector("."+un),o=!(e.container.isContent&&e.container.isDataCell||this.parent.frozenRows&&e.container.isHeader);if(!e.byKey||o)return void(this.parent.isEdit&&o&&this.saveCell());let[l,a]=e.container.indexes;if(t&&(n.contains(e.element)||this.parent.frozenRows&&s.contains(e.element))&&(a+=t),i){const d=this.parent.getHeaderContent().querySelector(".e-frozen-right-header");(this.parent.getContent().querySelector(".e-frozen-right-content").contains(e.element)||this.parent.frozenRows&&d.contains(e.element))&&(a+=t+this.parent.getMovableColumnsCount())}this.parent.frozenRows&&e.container.isContent&&(l+=this.parent.frozenRows);let c=this.parent.isEdit;if(!this.parent.element.getElementsByClassName("e-popup-open").length)switch(c=c&&!this.validateFormObj(),e.keyArgs.action){case"tab":case"shiftTab":const d=this.parent.getColumns()[e.indexes[1]];d&&!this.parent.isEdit&&this.editCell(e.indexes[0],d.field),(c||this.parent.isLastCellPrimaryKey)&&this.editCellFromIndex(l,a);break;case"enter":case"shiftEnter":e.keyArgs.preventDefault();const u={cancel:!1,keyArgs:e.keyArgs};this.parent.notify("beforeFocusCellEdit",u),!u.cancel&&c&&this.editCell(l,this.cellDetails.column.field);break;case"f2":this.editCellFromIndex(l,a),this.focus.focus()}}isAddRow(e){return this.parent.getDataRows()[e].classList.contains("e-insertedrow")}editCellFromIndex(e,t){this.cellDetails.rowIndex=e,this.cellDetails.cellIndex=t,this.editCell(e,this.parent.getColumns()[t].field,this.isAddRow(e))}closeEdit(){const e=this.parent,t=this.parent.getRowsObject(),i={cancel:!1,batchChanges:this.getBatchChanges()};if(e.notify("before-batch-cancel",i),i.cancel)return;e.isEdit&&this.saveCell(!0),this.isAdded=!1,e.clearSelection();const n=dT(this.parent);for(let o=0;o<t.length;o++){let l=!1;const a=t[o].isDirty;Kf(this.parent,(c,d)=>{l=this.removeBatchElementChanges(d[o],a),l&&d.splice(o,1)},n),l&&o--}e.getContentTable().querySelector("tr.e-row")||e.renderModule.renderEmptyRow();let s={requestType:"batchCancel",rows:this.parent.getRowsObject()};e.notify(Rx,{rows:this.parent.getRowsObject().length?this.parent.getRowsObject():[new Vd({isDataRow:!0,cells:[new ja({isDataCell:!0,visible:!0})]})]}),e.selectRow(this.cellDetails.rowIndex),this.refreshRowIdx(),e.notify(Dg,{}),this.parent.notify(A0,{}),s={requestType:"batchCancel",rows:this.parent.getRowsObject()},e.trigger(Rx,s)}removeBatchElementChanges(e,t){const i=this.parent,n=new ya(this.serviceLocator,null,this.parent);let s=!1;if(t){e.isDirty=t;const o=i.getRowElementByUID(e.uid);if(o&&(o.classList.contains("e-insertedrow")?(X(o),s=!0):(iT(e,this.parent.getForeignKeyColumns(),e.data),delete e.changes,delete e.edit,e.isDirty=!1,ze(o,[],["e-hiddenrow","e-updatedtd"]),n.refresh(e,i.getColumns(),!1)),this.parent.aggregates.length>0)){const a=[];a.type="cancel",this.parent.notify(Ig,a),this.parent.groupSettings.columns.length>0&&this.parent.notify(Nf,a)}}return s}removeHideAndSelection(e){if(e.classList.contains("e-hiddenrow")){e.removeAttribute("aria-selected");const t=[].slice.call(e.getElementsByClassName("e-selectionbackground"));for(let i=0;i<t.length;i++)T([t[i]],["e-selectionbackground","e-active"])}ze(e,[],["e-hiddenrow","e-updatedtd"])}deleteRecord(e,t){this.saveCell(),this.validateFormObj()&&this.saveCell(!0),this.isAdded=!1,this.bulkDelete(e,t),this.parent.aggregates.length>0&&(this.parent.notify(Ig,{}),this.parent.groupSettings.columns.length>0&&this.parent.notify(Nf,{}))}addRecord(e){this.bulkAddRow(e)}endEdit(){this.parent.isEdit&&this.validateFormObj()||this.batchSave()}closeForm(){for(let e=0;e<Object.keys(this.originalCell).length;e++)for(let t=0;t<Object.keys(this.cloneCell).length;t++)Object.keys(this.originalCell)[e]===Object.keys(this.cloneCell)[t]&&(this.cloneCell[Object.keys(this.cloneCell)[t]].replaceWith(this.originalCell[Object.keys(this.originalCell)[e]]),this.originalCell[Object.keys(this.originalCell)[e]].classList.contains("e-selectionbackground")&&this.originalCell[Object.keys(this.originalCell)[e]].classList.remove("e-selectionbackground","e-cellselectionbackground","e-active"));this.cloneCell={},this.originalCell={}}validateFormObj(){return this.parent.editModule.formObj&&!this.parent.editModule.formObj.validate()}batchSave(){const e=this.parent,t="deletedRecords";if(e.isCheckBoxSelection){const o=e.element.querySelector(".e-checkselectall").parentElement;o.classList.contains("e-checkbox-disabled")&&e.pageSettings.totalRecordsCount>e.currentViewData.length&&T([o],["e-checkbox-disabled"])}if(this.saveCell(),e.isEdit||this.editNextValCell()||e.isEdit)return;const i=this.getBatchChanges();"Multiple"===this.parent.selectionSettings.type&&i[t].length&&this.parent.selectionSettings.persistSelection&&(i[t]=this.removeSelectedData,this.removeSelectedData=[]);const n={changedRecords:this.parent.getRowsObject().filter(o=>o.isDirty&&-1===["add","delete"].indexOf(o.edit)).map(o=>o.data)};e.trigger("beforeBatchSave",{batchChanges:i,cancel:!1},o=>{o.cancel||(e.showSpinner(),e.notify(SQ,{changes:i,original:n}))})}getBatchChanges(){const e={addedRecords:[],deletedRecords:[],changedRecords:[]},t=this.parent.getRowsObject();for(const i of t)if(i.isDirty)switch(i.edit){case"add":e.addedRecords.push(i.changes);break;case"delete":e.deletedRecords.push(i.data);break;default:e.changedRecords.push(i.changes)}return e}removeRowObjectFromUID(e){const t=this.parent.getRowsObject();let i=0;for(let n=t.length;i<n&&t[i].uid!==e;i++);Kf(this.parent,(n,s)=>{s.splice(i,1)},dT(this.parent))}addRowObject(e,t){const i=this.parent,n="Top"===i.editSettings.newRowPosition;Kf(this.parent,(s,o)=>{const l=e.clone();i.isFrozenGrid()?t===s&&(n?o.unshift(l):o.push(l)):n?o.unshift(l):o.push(l)},dT(this.parent),!0)}bulkDelete(e,t){this.removeSelectedData=[];const i=this.parent;let n=i.selectedRowIndex,s=i.getSelectedRows();const o={primaryKey:this.parent.getPrimaryKeyFieldNames(),rowIndex:n,rowData:t||i.getSelectedRecords()[0],cancel:!1};o.row=t?i.editModule.deleteRowUid?i.getRowElementByUID(i.editModule.deleteRowUid):i.getRows()[i.getCurrentViewRecords().indexOf(t)]:t?i.getRows()[n]:s[0],o.row&&i.trigger("beforeBatchDelete",o,l=>{if(!l.cancel){if(this.removeSelectedData=i.getSelectedRecords(),i.clearSelection(),l.row=l.row?l.row:t?i.getRows()[n]:s[0],this.parent.isFrozenGrid()){t&&(n=parseInt(l.row.getAttribute(Zt),10),s=[],s.push(i.getRowByIndex(n)),s.push(i.getMovableRowByIndex(n)),i.getFrozenMode()===Lt&&s.push(i.getFrozenRightRowByIndex(n)));for(let a=0;a<s.length;a++){const c=s[a].getAttribute("data-uid");if(s[a].classList.contains("e-insertedrow"))this.removeRowObjectFromUID(c),X(s[a]);else{const d=i.getRowObjectFromUID(c);d.isDirty=!0,d.edit="delete",ze(s[a],["e-hiddenrow","e-updatedtd"],[]),i.frozenRows&&n<i.frozenRows&&i.getMovableDataRows().length>=i.frozenRows&&(i.getMovableHeaderTbody().appendChild(i.getMovableRowByIndex(i.frozenRows-1)),i.getFrozenHeaderTbody().appendChild(i.getRowByIndex(i.frozenRows-1)),i.getFrozenMode()===Lt&&i.getFrozenRightHeaderTbody().appendChild(i.getFrozenRightRowByIndex(i.frozenRows-1))),i.frozenRows&&n<i.frozenRows&&i.getDataRows().length>=i.frozenRows&&i.getHeaderTable().querySelector(Ke).appendChild(i.getRowByIndex(i.frozenRows-1))}delete s[a]}}else if(this.parent.isFrozenGrid()||1!==s.length&&!t)for(let a=0;a<s.length;a++){const c=s[a].getAttribute("data-uid");if(s[a].classList.contains("e-insertedrow"))this.removeRowObjectFromUID(c),X(s[a]);else{ze(s[a],["e-hiddenrow","e-updatedtd"],[]);const d=i.getRowObjectFromUID(c);d.isDirty=!0,d.edit="delete",delete s[a]}}else{let a=l.row.getAttribute("data-uid");if(a=t&&this.parent.editModule.deleteRowUid?a=this.parent.editModule.deleteRowUid:a,l.row.classList.contains("e-insertedrow"))this.removeRowObjectFromUID(a),X(l.row);else{const c=i.getRowObjectFromUID(a);c.isDirty=!0,c.edit="delete",ze(l.row,["e-hiddenrow","e-updatedtd"],[])}delete l.row}this.refreshRowIdx(),t&&(i.editModule.deleteRowUid=void 0,i.getSelectedRows().length&&(n=parseInt(i.getSelectedRows()[0].getAttribute(Zt),10))),i.isCheckBoxSelection||i.selectRow(n),i.trigger(_E,l),i.notify(_E,{rows:this.parent.getRowsObject()}),i.notify(Dg,{})}})}refreshRowIdx(){const t=this.parent.getAllDataRows(!0),i=function Qke(r){return["Right"!==r.getFrozenMode()?r.getAllDataRows(!0):[],r.getAllMovableDataRows(!0),r.getAllFrozenRightDataRows(!0)]}(this.parent),n=dT(this.parent);for(let s=0,o=0,l=t.length;s<l;s++)t[s].classList.contains(Oi)&&!t[s].classList.contains("e-hiddenrow")?(Kf(this.parent,(a,c,d)=>{c[s].setAttribute(Zt,o.toString()),d[s].index=o},i,null,n),o++):Kf(this.parent,(a,c,d)=>{c[s].removeAttribute(Zt),d[s].index=-1},i,null,n)}getIndexFromData(e){return function Y1(r,e){for(let t=0,i=e.length;t<i;t++)if(e[t]===r)return t;return-1}(e,this.parent.getCurrentViewRecords())}bulkAddRow(e){const t=this.parent;if(!t.editSettings.allowAdding||(t.isEdit&&(this.saveCell(),this.parent.notify(ME,{})),t.isEdit))return;if(this.initialRender){const s=t.getVisibleColumns();for(let o=0;o<s.length;o++)if(s[o].validationRules&&s[o].validationRules.required){const l={field:s[o].field.slice(),cellIdx:o};this.validationColObj.push(l)}this.initialRender=!1}this.parent.element.classList.add("e-editing");const n={defaultData:e||this.getDefaultData(),primaryKey:t.getPrimaryKeyFieldNames(),cancel:!1};t.trigger("beforeBatchAdd",n,s=>{if(!s.cancel)if(this.isAdded=!0,t.clearSelection(),t.isFrozenGrid()){let u,o=this.parent.getMovableColumnsCount(),l=this.parent.getFrozenLeftCount(),a=this.parent.getFrozenRightColumnsCount(),c=t.getContentTable().querySelector(Ke),d=o+l+a;const p=[],g=[];let f,m,v,x,w;for(let P=0;P<d;){const W=new ya(this.serviceLocator,null,this.parent),ae=new Ph(this.parent).generateRows([s.defaultData]);l>0?(l=0,u="frozen-left",d=l+a+o):o>0?(o=0,u="movable",d=l+a+o):(a=0,u="frozen-right",d=l+a+o);for(let xe=0;xe<ae.length;xe++)ae[xe].cells=cT(this.parent,ae[xe].cells,u);"frozen-left"===u?(v=W.render(ae[0],t.getColumns()),v.classList.add("e-insertedrow")):"movable"===u?(x=W.render(ae[0],t.getColumns()),x.classList.add("e-insertedrow")):(w=W.render(ae[0],t.getColumns()),w.classList.add("e-insertedrow"));for(let xe=0;xe<this.parent.groupSettings.columns.length;xe++)v.insertBefore(this.parent.createElement("td",{className:"e-indentcell"}),v.firstChild),ae[0].cells.unshift(new ja({cellType:Ct.Indent}));if(c.querySelector(".e-emptyrow")){const xe=c.querySelector(".e-emptyrow");xe.parentNode.removeChild(xe),this.removeFrozenTbody()}"frozen-left"===u&&(c=t.frozenRows&&"Top"===t.editSettings.newRowPosition?t.getHeaderTable().querySelector(Ke):t.getContentTable().querySelector(Ke),"Top"===this.parent.editSettings.newRowPosition?(c.insertBefore(v,c.firstChild),_([].slice.call(v.getElementsByClassName(Ii)),["e-updatedtd"])):(c.appendChild(v),_([].slice.call(v.getElementsByClassName(Ii)),["e-updatedtd"]))),("movable"===u||"frozen-right"===u)&&this.renderFrozenAddRow(x,w,u),ae[0].isDirty=!0,ae[0].changes=O({},{},ae[0].data,!0),ae[0].edit="add",this.addRowObject(ae[0],u)}this.refreshRowIdx(),this.focus.forgetPrevious(),t.notify(R0,{rows:this.parent.getRowsObject(),args:{isFrozen:this.parent.isFrozenGrid()}});const b=this.getBatchChanges(),I=this.getBottomIndex();t.selectRow("Top"===this.parent.editSettings.newRowPosition?0:I),e||(m=this.findNextEditableCell(0,!0),f=t.getColumns()[m],this.editCell("Top"===this.parent.editSettings.newRowPosition?0:I,f.field,!0)),this.parent.aggregates.length>0&&(e||b[Mu].length)&&this.parent.notify(Ig,{}),v&&(aT(x.querySelector("td:not(.e-hide)"),v.querySelector("td:not(.e-hide)")),p.push(v),g.push(v.cells)),p.push(x),g.push(x.cells),w&&(p.push(w),g.push(w.cells)),t.trigger(R0,{defaultData:s.defaultData,row:p,columnObject:f,columnIndex:m,primaryKey:s.primaryKey,cell:g})}else{const o=new ya(this.serviceLocator,null,this.parent),a=new Ph(this.parent).generateRows([s.defaultData]),c=o.render(a[0],t.getColumns());let d,u;for(let v=0;v<this.parent.groupSettings.columns.length;v++)c.insertBefore(this.parent.createElement("td",{className:"e-indentcell"}),c.firstChild),a[0].cells.unshift(new ja({cellType:Ct.Indent}));let p=t.getContentTable().querySelector(Ke);if(c.classList.add("e-insertedrow"),p.querySelector(".e-emptyrow")){const v=p.querySelector(".e-emptyrow");v.parentNode.removeChild(v),this.removeFrozenTbody()}p=t.frozenRows&&"Top"===t.editSettings.newRowPosition?t.getHeaderTable().querySelector(Ke):t.getContentTable().querySelector(Ke),"Top"===this.parent.editSettings.newRowPosition?p.insertBefore(c,p.firstChild):p.appendChild(c),_([].slice.call(c.getElementsByClassName(Ii)),["e-updatedtd"]),a[0].isDirty=!0,a[0].changes=O({},{},a[0].data,!0),a[0].edit="add",this.addRowObject(a[0]),this.refreshRowIdx(),this.focus.forgetPrevious(),t.notify(R0,{rows:this.parent.getRowsObject(),args:{isFrozen:this.parent.isFrozenGrid()}});const g=this.getBatchChanges(),f=this.getBottomIndex();t.selectRow("Top"===this.parent.editSettings.newRowPosition?0:f),e||(u=this.findNextEditableCell(0,!0),d=t.getColumns()[u],this.editCell("Top"===this.parent.editSettings.newRowPosition?0:f,d.field,!0)),this.parent.aggregates.length>0&&(e||g[Mu].length)&&this.parent.notify(Ig,{}),t.trigger(R0,{defaultData:s.defaultData,row:c,columnObject:d,columnIndex:u,primaryKey:s.primaryKey,cell:c.cells[u]})}})}renderFrozenAddRow(e,t,i){const n=this.parent;let s,o;"movable"===i&&(s=n.frozenRows&&"Top"===n.editSettings.newRowPosition?this.parent.getMovableHeaderTbody():this.parent.getContent().querySelector(".e-movablecontent").querySelector(Ke),"Top"===n.editSettings.newRowPosition?s.insertBefore(e,s.firstChild):s.appendChild(e),_([].slice.call(e.getElementsByClassName(Ii)),["e-updatedtd"])),"frozen-right"===i&&(o=n.frozenRows&&"Top"===n.editSettings.newRowPosition?this.parent.getFrozenRightHeaderTbody():this.parent.getContent().querySelector(".e-frozen-right-content").querySelector(Ke),"Top"===n.editSettings.newRowPosition?o.insertBefore(t,o.firstChild):o.appendChild(t),_([].slice.call(t.getElementsByClassName(Ii)),["e-updatedtd"]),aT(t.querySelector("td:not(.e-hide)"),e.querySelector("td:not(.e-hide)"))),"auto"===n.height&&n.notify(N1,{})}removeFrozenTbody(){const e=this.parent;if(e.isFrozenGrid()){const t=e.getContent().querySelector("."+hn).querySelector(Ke);if(t.firstElementChild.parentNode.removeChild(t.firstElementChild),e.getFrozenMode()===Lt){const i=e.getContent().querySelector(".e-frozen-right-content").querySelector(Ke);i.firstElementChild.parentNode.removeChild(i.firstElementChild)}}}renderMovable(e,t){const i=e.cloneNode(!0),n=this.parent.getMovableColumnsCount(),s=this.parent.getFrozenLeftCount(),o=this.parent.getFrozenRightColumnsCount();return u4(e,0,s),u4(i,s,o?i.children.length-o:i.children.length),u4(t,s+n,t.children.length),i}findNextEditableCell(e,t,i){const n=this.parent.getColumns(),s=n.length;let o;for(let l=e;l<s;l++){if(o=!!i&&h(n[l].validationRules),!t&&this.checkNPCell(n[l]))return l;if(t&&!n[l].template&&n[l].visible&&n[l].allowEditing&&(!n[l].isIdentity||!n[l].isPrimaryKey)&&!o)return l}return-1}checkNPCell(e){return!e.template&&e.visible&&!e.isPrimaryKey&&!e.isIdentity&&e.allowEditing}getDefaultData(){const e=this.parent,t={},i={number:0,string:null,boolean:!1,date:null,datetime:null};for(const n of e.columnModel)n.field&&Ne(n.field,Object.keys(n).indexOf("defaultValue")>=0?n.defaultValue:i[n.type],t);return t}setCellIdx(e){let t=0;this.parent.allowGrouping&&(t=this.parent.groupSettings.columns.length),this.cellDetails.cellIndex=e.cellIndex-t,this.cellDetails.rowIndex=parseInt(e.getAttribute("index"),10)}editCell(e,t,i){const n=this.parent,s=n.getColumnByField(t);this.index=e,this.field=t,this.isAdd=i;const o=n.isEdit&&!(this.cellDetails.column.field===t&&this.cellDetails.rowIndex===e&&this.parent.getDataRows().length-1!==e);n.editSettings.allowEditing&&(!o&&s.allowEditing?this.editCellExtend(e,t,i):o&&(this.editNext=!0,this.saveCell()))}editCellExtend(e,t,i){const n=this.parent,s=n.getColumnByField(t),o=n.getPrimaryKeyFieldNames();if(n.isEdit)return;let l,a,c=O({},{},this.getDataByIndex(e),!0);if("movable"===s.getFreezeTableName()||s.getFreezeTableName()===Ln?(l="movable"===s.getFreezeTableName()?n.getMovableDataRows()[e]:n.getFrozenRightDataRows()[e],a=this.parent.getRowObjectFromUID(l.getAttribute("data-uid")),c=a.changes?O({},{},a.changes,!0):c):(l=n.getDataRows()[e],c=O({},{},this.getDataByIndex(e),!0)),o[0]===s.field&&!l.classList.contains("e-insertedrow")||s.columns||s.isPrimaryKey&&s.isIdentity)return void(this.parent.isLastCellPrimaryKey=!0);this.parent.isLastCellPrimaryKey=!1,this.parent.element.classList.add("e-editing");const d=n.getRowObjectFromUID(l.getAttribute("data-uid")),u=[].slice.apply(l.cells),p={columnName:s.field,isForeignKey:!h(s.foreignKeyValue),primaryKey:o,rowData:c,validationRules:O({},s.validationRules?s.validationRules:{}),value:Mt(s.field,c),type:i?"add":"edit",cancel:!1,foreignKeyData:d&&d.foreignKeyData};p.cell=u[this.getColIndex(u,this.getCellIdx(s.uid))],p.row=l,p.columnObject=s,p.cell&&n.trigger("cellEdit",p,g=>{g.cancel||(g.cell=g.cell?g.cell:u[this.getColIndex(u,this.getCellIdx(s.uid))],g.row=g.row?g.row:l,g.columnObject=g.columnObject?g.columnObject:s,g.columnObject.index=h(g.columnObject.index)?0:g.columnObject.index,this.cellDetails={rowData:c,column:s,value:g.value,isForeignKey:g.isForeignKey,rowIndex:e,cellIndex:parseInt(g.cell.getAttribute(_r),10),foreignKeyData:g.foreignKeyData},g.cell.classList.contains("e-updatedtd")&&(this.isColored=!0,g.cell.classList.remove("e-updatedtd")),n.isEdit=!0,n.clearSelection(),(!n.isCheckBoxSelection||!n.isPersistSelection)&&n.selectRow(this.cellDetails.rowIndex,!0),this.renderer.update(g),this.parent.notify("batcheditform-rendered",g),this.form=G("#"+n.element.id+"EditForm",n.element),n.editModule.applyFormValidation([s]),this.parent.element.querySelector(".e-gridpopup").style.display="none")})}updateCell(e,t,i){const n=this.parent,s=n.getColumnByField(t),o=n.getColumnIndexByField(t);if(s&&!s.isPrimaryKey&&s.allowEditing){const l=p4(this.parent,s,e,o),a="movable"===s.getFreezeTableName()?this.parent.getMovableRowsObject()[e]:s.getFreezeTableName()===Ln?n.getFrozenRightRowsObject()[e]:n.getRowObjectFromUID(l.parentElement.getAttribute("data-uid"));this.refreshTD(l,s,a,i),this.parent.trigger(ZO,{cell:this.newReactTd||l,column:s,data:a.changes})}}setChanges(e,t,i){let n;if(this.parent.isFrozenGrid()){const s=this.parent.getRowElementByUID(e.uid),o=parseInt(s.getAttribute(Zt),10);n=this.parent.getRowsObject()[o],n.changes||(n.changes=O({},{},e.data,!0)),h(t)||Ne(t,i,n.changes);const l=this.parent.getMovableRowsObject()[o];if(l.changes=O({},{},n.changes,!0),e.data[t]!==i&&(l.isDirty=!0,n.isDirty=!0),this.parent.getFrozenMode()===Lt){const a=this.parent.getFrozenRightRowsObject()[o];a.changes=O({},{},n.changes,!0),e.data[t]!==i&&(a.isDirty=!0)}}else if(e.changes||(e.changes=O({},{},e.data,!0)),h(t)||Ie.setValue(t,i,e.changes),e.data[t]!==i){const s=this.parent.getColumnByField(t).type;"date"===s||"datetime"===s?new Date(e.data[t]).toString()!==new Date(i).toString()&&(e.isDirty=!0):e.isDirty=!0}}updateRow(e,t){const i=Object.keys(t);for(const n of i)this.updateCell(e,n,t[n])}getCellIdx(e){let t=this.parent.getColumnIndexByUid(e)+this.parent.groupSettings.columns.length;return(!h(this.parent.detailTemplate)||!h(this.parent.childGrid))&&t++,this.parent.isRowDragable()&&t++,t}refreshTD(e,t,i,n){const s=new xa(this.parent,this.serviceLocator);let o;n="number"!==t.type||h(n)?n:parseFloat(n),this.setChanges(i,t.field,n);let a,c,l=this.parent.getFrozenColumns()||this.parent.getFrozenLeftColumnsCount()||this.parent.getFrozenRightColumnsCount();l=l&&this.parent.isRowDragable()?l+1:l,iT(i,this.parent.getForeignKeyColumns(),i.changes),o=l&&"movable"===t.getFreezeTableName()&&this.parent.getColumns().length===i.cells.length?i.cells.slice(l,i.cells.length):i.cells,this.parent.isReact&&(a=e.parentElement,c=e.cellIndex);let d=0;l&&(d="movable"===t.getFreezeTableName()&&"Right"!==this.parent.getFrozenMode()?l:t.getFreezeTableName()===Ln?this.parent.getFrozenLeftColumnsCount()+this.parent.getMovableColumnsCount():d),s.refreshTD(e,o[this.getCellIdx(t.uid)-d],i.changes,{index:this.getCellIdx(t.uid)}),this.parent.isReact?(this.newReactTd=a.cells[c],a.cells[c].classList.add("e-updatedtd")):e.classList.add("e-updatedtd"),e.classList.add("e-updatedtd"),this.parent.notify(Dg,{})}getColIndex(e,t){let i=0;this.parent.allowGrouping&&this.parent.groupSettings.columns&&(i=this.parent.groupSettings.columns.length),(!h(this.parent.detailTemplate)||!h(this.parent.childGrid))&&i++,this.parent.isRowDragable()&&i++;for(let n=0;n<e.length;n++)if(parseInt(e[n].getAttribute(_r),10)===t-i)return n;return-1}editNextValCell(){const e=this.parent,t=e.element.querySelectorAll(".e-insertedrow"),i=1===t.length||(e.getFrozenColumns()>0||e.getFrozenRightColumnsCount()>0||e.getFrozenLeftColumnsCount()>0)&&(2===t.length||3===t.length);if(i&&this.isAdded&&!e.isEdit){const n=this.getBottomIndex();for(let s=this.cellDetails.cellIndex;s<e.getColumns().length;s++){if(e.isEdit)return;const o=this.findNextEditableCell(this.cellDetails.cellIndex+1,!0,!0),l=e.getColumns()[o];if(l){if("Bottom"===this.parent.editSettings.newRowPosition)this.editCell(n,l.field,!0);else{const a={index:0,column:l};this.parent.notify("next-cell-index",a),this.editCell(a.index,l.field,!0)}this.saveCell()}}e.isEdit||(this.isAdded=!1)}else if(i||!this.isAdded||e.isEdit||e.isFrozenGrid()){if(!i&&this.isAdded&&!e.isEdit&&e.isFrozenGrid()){let n=e.getFrozenLeftContentTbody()?e.getFrozenLeftContentTbody().querySelectorAll(".e-insertedrow"):void 0,s=e.getFrozenRightContentTbody()?e.getFrozenRightContentTbody().querySelectorAll(".e-insertedrow"):void 0,o=e.getMovableContentTbody().querySelectorAll(".e-insertedrow"),l=0;const a=e.getVisibleFrozenLeftCount()?e.getVisibleFrozenLeftCount():e.getFrozenColumns(),c=e.getVisibleFrozenRightCount(),d=e.getVisibleMovableCount();if("Bottom"===e.editSettings.newRowPosition){const u=this.getBatchChanges();l=e.getCurrentViewRecords().length-u[Hf].length}else"Top"===e.editSettings.newRowPosition&&e.frozenRows&&(n=e.getFrozenHeaderTbody()?e.getFrozenHeaderTbody().querySelectorAll(".e-insertedrow"):void 0,s=e.getFrozenRightHeader()?e.getFrozenRightHeader().querySelectorAll(".e-insertedrow"):void 0,o=e.getMovableHeaderTbody().querySelectorAll(".e-insertedrow"));for(let u=0;u<o.length&&!e.isEdit;u++,l++)for(let p=0;p<this.validationColObj.length&&!e.isEdit;p++)a&&this.validationColObj[p].cellIdx<a?""===n[u].querySelectorAll("td")[this.validationColObj[p].cellIdx].innerText&&(this.editCell(l,this.validationColObj[p].field),e.editModule.formObj.validate()&&this.saveCell()):c&&d<=this.validationColObj[p].cellIdx?""===s[u].querySelectorAll("td")[this.validationColObj[p].cellIdx-(d+a)].innerText&&(this.editCell(l,this.validationColObj[p].field),e.editModule.formObj.validate()&&this.saveCell()):""===o[u].querySelectorAll("td")[this.validationColObj[p].cellIdx-a].innerText&&(this.editCell(l,this.validationColObj[p].field),e.editModule.formObj.validate()&&this.saveCell());e.isEdit||(this.isAdded=!1)}}else{let n=0;if("Bottom"===e.editSettings.newRowPosition){const s=this.getBatchChanges();n=e.getCurrentViewRecords().length-s[Hf].length}for(let s=0;s<t.length&&!e.isEdit;s++,n++)for(let o=0;o<this.validationColObj.length&&!e.isEdit;o++)""===t[s].querySelectorAll("td")[this.validationColObj[o].cellIdx].innerText&&(this.editCell(n,this.validationColObj[o].field),this.validateFormObj()&&this.saveCell());e.isEdit||(this.isAdded=!1)}}escapeCellEdit(){const e=this.generateCellArgs();e.value=e.previousValue,(e.value||!this.cellDetails.column.validationRules)&&this.successCallBack(e,e.cell.parentElement,e.column,!0)(e)}generateCellArgs(){const e=this.parent;this.parent.element.classList.remove("e-editing");const t=this.cellDetails.column,i={};i[t.field]=Mt(t.field,this.cellDetails.rowData);let n=e.editModule.getCurrentEditedData(this.form,i);const s=O({},n);n=O({},n,this.cellDetails.rowData);const o=Mt(t.field,s);!h(t.field)&&!Et(o)&&Ne(t.field,o,n);const l={columnName:t.field,value:Mt(t.field,n),rowData:this.cellDetails.rowData,column:t,previousValue:this.cellDetails.value,isForeignKey:this.cellDetails.isForeignKey,cancel:!1};return l.cell=this.form.parentElement,l.columnObject=t,l}saveCell(e){if(this.preventSaveCell||!this.form)return;const t=this.parent;if(!e&&(!t.isEdit||this.validateFormObj()))return;this.preventSaveCell=!0;const i=this.generateCellArgs(),n=i.cell.parentElement,s=i.column;e?this.successCallBack(i,n,s)(i):(t.trigger("cellSave",i,this.successCallBack(i,n,s)),t.notify("batchedit-form",{formObj:this.form}))}successCallBack(e,t,i,n){return s=>{const o=this.parent;if(s.cell=s.cell?s.cell:this.form.parentElement,s.columnObject=s.columnObject?s.columnObject:i,s.columnObject.index=h(s.columnObject.index)?0:s.columnObject.index,s.cancel){if(this.preventSaveCell=!1,this.editNext){if(this.editNext=!1,this.cellDetails.rowIndex===this.index&&this.cellDetails.column.field===this.field)return;this.editCellExtend(this.index,this.field,this.isAdd)}return}o.editModule.destroyWidgets([i]),o.isEdit=!1,o.editModule.destroyForm(),this.parent.notify(A0,{});let l=Ce(s.cell,hn)||Ce(s.cell,un)?o.getRowObjectFromUID(t.getAttribute("data-uid"),!0):o.getRowObjectFromUID(t.getAttribute("data-uid"));if(o.getFrozenMode()===Lt&&(Ce(s.cell,"e-frozen-right-header")||Ce(s.cell,"e-frozen-right-content"))&&(l=o.getRowObjectFromUID(t.getAttribute("data-uid"),!1,!0)),this.refreshTD(s.cell,i,l,s.value),this.parent.isReact&&(s.cell=this.newReactTd),T([t],[al,"e-batchrow"]),T([s.cell],["e-editedbatchcell","e-boolcell"]),(!h(s.value)&&s.value.toString()===(h(this.cellDetails.value)?"":this.cellDetails.value).toString()&&!this.isColored||h(s.value)&&h(l.data[i.field])&&h(this.cellDetails.value)&&!s.cell.parentElement.classList.contains("e-insertedrow"))&&s.cell.classList.remove("e-updatedtd"),h(n)&&o.trigger("cellSaved",s),o.notify(Dg,{}),this.isColored=!1,this.parent.aggregates.length>0&&(this.parent.notify(Ig,{}),this.parent.groupSettings.columns.length>0&&!this.isAddRow(this.cellDetails.rowIndex)&&this.parent.notify(Nf,{})),this.preventSaveCell=!1,this.editNext){if(this.editNext=!1,this.cellDetails.rowIndex===this.index&&this.cellDetails.column.field===this.field)return;const a=o.getColumnByField(this.field);a&&a.allowEditing&&this.editCellExtend(this.index,this.field,this.isAdd)}n&&o.notify(M0,{})}}getDataByIndex(e){const t=this.parent.getRowObjectFromUID(this.parent.getDataRows()[e].getAttribute("data-uid"));return t.changes?t.changes:t.data}keyDownHandler(e){if(("tab"===e.action||"shiftTab"===e.action)&&this.parent.isEdit){const t=this.parent,i=this.getBottomIndex(),n=Ce(e.target,Ii);if(n){const s=n.querySelector(".e-field");if(s){const o=this.parent.getVisibleColumns();o["tab"===e.action?o.length-1:0].field===s.getAttribute("id").slice(this.parent.element.id.length)&&(this.cellDetails.rowIndex===i&&"tab"===e.action?"Top"===t.editSettings.newRowPosition?(t.editSettings.newRowPosition="Bottom",this.addRecord(),t.editSettings.newRowPosition="Top"):this.addRecord():this.saveCell())}}}}addCancelWhilePaging(){this.validateFormObj()&&(this.parent.notify(d5,{}),this.parent.isEdit=!1,this.isColored=!1)}getBottomIndex(){const e=this.getBatchChanges();return this.parent.getCurrentViewRecords().length+e[Mu].length-e[Hf].length-1}}class kAe extends NX{constructor(e,t,i){super(e,t),this.parent=e,this.serviceLocator=t,this.renderer=i}closeEdit(){super.closeEdit()}addRecord(e,t){super.addRecord(e,t)}endEdit(){super.endEdit()}updateRow(e,t){super.updateRow(e,t)}deleteRecord(e,t){super.deleteRecord(e,t)}startEdit(e){super.startEdit(e)}}class HX extends gT{write(e){"datepickeredit"===e.column.editType?this.obj=new rs(O(zX(e,this.parent.editSettings.mode,this.parent.enableRtl,this.parent.cssClass),e.column.edit.params)):"datetimepickeredit"===e.column.editType&&(this.obj=new In(O(zX(e,this.parent.editSettings.mode,this.parent.enableRtl,this.parent.cssClass),e.column.edit.params))),this.obj.appendTo(e.element)}}function zX(r,e,t,i){const n="Dialog"!==e,s=sT(r.column.format,r.column.type);let o=Mt(r.column.field,r.rowData);return o=o?new Date(o):null,{floatLabelType:n?"Never":"Always",value:o,format:s,placeholder:n?"":r.column.headerText,enableRtl:t,enabled:kp(r.column,r.requestType,r.element),cssClass:i||null}}class AAe{constructor(e){this.parent=e}read(e,t){return t}write(){}destroy(){}}let MAe=(()=>{class r{constructor(t,i){this.editType={Inline:VX,Normal:VX,Batch:RAe,Dialog:kAe},this.parent=t,this.serviceLocator=i,this.l10n=this.serviceLocator.getService("localization"),this.addEventListener(),this.updateEditObj(),this.createAlertDlg(),this.createConfirmDlg()}updateColTypeObj(){const t=this.parent.columnModel;for(let i=0;i<t.length;i++)t[i].edit=O(this.parent.editSettings.template||t[i].editTemplate?new r.editCellType.templateedit(this.parent):new r.editCellType[t[i].editType&&r.editCellType[t[i].editType]?t[i].editType:"defaultedit"](this.parent,this.serviceLocator),t[i].edit||{});this.parent.log("primary_column_missing")}getModuleName(){return"edit"}onPropertyChanged(t){if(t.module!==this.getModuleName())return;const i=this.parent;for(const n of Object.keys(t.properties))switch(n){case"allowAdding":case"allowDeleting":case"allowEditing":(i.editSettings.allowAdding||i.editSettings.allowEditing||i.editSettings.allowDeleting)&&this.initialEnd();break;case"mode":this.updateEditObj(),i.isEdit=!1,i.refresh()}}updateEditObj(){this.editModule&&this.editModule.destroy(),this.renderer=new SAe(this.parent,this.serviceLocator),this.editModule=new this.editType[this.parent.editSettings.mode](this.parent,this.serviceLocator,this.renderer)}initialEnd(){this.updateColTypeObj()}startEdit(t){const i=this.parent;if(i.editSettings.allowEditing&&!i.isEdit&&"Batch"!==i.editSettings.mode){if(this.parent.element.classList.add("e-editing"),i.getSelectedRows().length)t||(t=i.getSelectedRows()[0]);else if(!t)return void this.showDialog("EditOperationAlert",this.alertDObj);this.isLastRow=t.rowIndex===this.parent.getContent().querySelector("tr:last-child").rowIndex,"none"!==t.style.display&&(this.editModule.startEdit(t),this.refreshToolbar(),i.element.querySelector(".e-gridpopup").style.display="none",this.parent.notify("start-edit",{}))}}checkLastRow(t,i){const n=this.isLastRow;"auto"!==this.parent.height&&"Bottom"===this.parent.editSettings.newRowPosition&&i&&"add"===i.requestType&&this.parent.getContent().firstElementChild.offsetHeight>this.parent.getContentTable().scrollHeight?_([].slice.call(t.getElementsByClassName(Ii)),"e-lastrowadded"):n&&t&&t.classList&&_([].slice.call(t.getElementsByClassName(Ii)),"e-lastrowcell")}closeEdit(){"Batch"===this.parent.editSettings.mode&&this.parent.editSettings.showConfirmDialog&&this.parent.element.getElementsByClassName("e-updatedtd").length?this.showDialog("CancelEdit",this.dialogObj):(this.parent.element.classList.remove("e-editing"),this.editModule.closeEdit(),this.refreshToolbar(),this.parent.notify(JQ,{}))}refreshToolbar(){this.parent.notify(Dg,{})}addRecord(t,i){if(!this.parent.editSettings.allowAdding)return;const n={startEdit:!0};t||this.parent.notify(OE,n),n.startEdit&&(this.parent.element.classList.add("e-editing"),this.editModule.addRecord(t,i),this.refreshToolbar(),this.parent.notify("start-add",{}))}deleteRecord(t,i){const n=this.parent;if(n.editSettings.allowDeleting){if(!i&&!n.getSelectedRecords().length&&h(n.commandDelIndex))return void this.showDialog("DeleteOperationAlert",this.alertDObj);if(n.editSettings.showDeleteConfirmDialog)return void this.showDialog("ConfirmDelete",this.dialogObj);this.editModule.deleteRecord(t,i)}}deleteRow(t){this.deleteRowUid=t.getAttribute("data-uid");const i=this.parent.getRowObjectFromUID(this.deleteRowUid);h(i)||this.deleteRecord(null,i.data)}endEdit(){"Batch"===this.parent.editSettings.mode&&this.parent.editSettings.showConfirmDialog&&(h(this.formObj)||this.formObj.validate())&&(this.parent.editModule.saveCell(),this.parent.notify(ME,{}),h(this.formObj)||this.formObj.validate())?this.showDialog("BatchSaveConfirm",this.dialogObj):this.endEditing()}updateCell(t,i,n){this.editModule.updateCell(t,i,n)}updateRow(t,i){this.editModule.updateRow(t,i)}batchCancel(){this.closeEdit()}batchSave(){this.endEdit()}editCell(t,i){this.editModule.editCell(t,i)}editFormValidate(){const t=!this.formObj||this.formObj.validate(),i=!this.mFormObj||this.mFormObj.validate(),n=!this.frFormObj||this.frFormObj.validate();return t&&i&&n}getBatchChanges(){return this.editModule.getBatchChanges?this.editModule.getBatchChanges():{}}getCurrentEditCellData(){const t=this.getCurrentEditedData(this.formObj.element,{});return t[Object.keys(t)[0]]}saveCell(){this.editModule.saveCell()}endEditing(){this.parent.element.classList.remove("e-editing"),this.editModule.endEdit(),this.refreshToolbar()}showDialog(t,i){i.content="<div>"+this.l10n.getConstant(t)+"</div>",i.dataBind(),i.show()}getValueFromType(t,i){let n=i;switch(t.type){case"number":n=isNaN(parseFloat(i))?null:parseFloat(i);break;case"boolean":"booleanedit"!==t.editType&&(n=i===this.l10n.getConstant("True")||!0===i);break;case"date":case"datetime":"datepickeredit"!==t.editType&&"datetimepickeredit"!==t.editType&&i&&i.length?n=new Date(i):""===i&&(n=null)}return n}destroyToolTip(){const t=[].slice.call(this.parent.element.getElementsByClassName("e-griderror"));for(const i of t)X(i);this.parent.getContent().firstElementChild.style.position="relative"}createConfirmDlg(){this.dialogObj=this.dlgWidget([{click:this.dlgOk.bind(this),buttonModel:{content:this.l10n.getConstant("OKButton"),cssClass:this.parent.cssClass?"e-primary "+this.parent.cssClass:"e-primary",isPrimary:!0}},{click:this.dlgCancel.bind(this),buttonModel:{cssClass:this.parent.cssClass?"e-flat "+this.parent.cssClass:"e-flat",content:this.l10n.getConstant("CancelButton")}}],"EditConfirm")}createAlertDlg(){this.alertDObj=this.dlgWidget([{click:this.alertClick.bind(this),buttonModel:{content:this.l10n.getConstant("OKButton"),cssClass:this.parent.cssClass?"e-flat "+this.parent.cssClass:"e-flat",isPrimary:!0}}],"EditAlert")}alertClick(){this.alertDObj.hide()}dlgWidget(t,i){const n=this.parent.createElement("div",{id:this.parent.element.id+i});this.parent.element.appendChild(n);const s={showCloseIcon:!1,isModal:!0,visible:!1,closeOnEscape:!0,target:this.parent.element,width:"320px",animationSettings:{effect:"None"},cssClass:this.parent.cssClass?this.parent.cssClass:""};s.buttons=t;const o=new qi(s);return o.isStringTemplate=!0,o.appendTo(n),o}dlgCancel(){this.parent.focusModule.clearIndicator(),this.parent.focusModule.restoreFocus(),this.dialogObj.hide()}dlgOk(){switch(this.dialogObj.element.querySelector(".e-dlg-content").firstElementChild.innerText){case this.l10n.getConstant("ConfirmDelete"):this.editModule.deleteRecord();break;case this.l10n.getConstant("CancelEdit"):this.editModule.closeEdit();break;case this.l10n.getConstant("BatchSaveConfirm"):this.endEditing();break;case this.l10n.getConstant("BatchSaveLostChanges"):"Batch"===this.parent.editSettings.mode&&this.editModule.addCancelWhilePaging(),this.executeAction()}this.dlgCancel()}destroyEditComponents(){this.parent.isEdit&&(this.destroyWidgets(),this.destroyForm()),this.destroy()}addEventListener(){this.parent.isDestroyed||(this.eventDetails=[{event:ll,handler:this.onPropertyChanged},{event:ol,handler:this.initialEnd},{event:lr,handler:this.keyPressHandler},{event:k0,handler:this.updateColTypeObj},{event:A0,handler:this.destroyToolTip},{event:Pc,handler:this.preventBatch},{event:d5,handler:this.destroyForm},{event:Ri,handler:this.destroyEditComponents}],vo(this.parent,this.eventDetails,!0,this),this.actionBeginFunction=this.onActionBegin.bind(this),this.actionCompleteFunction=this.actionComplete.bind(this),this.parent.addEventListener(Pn,this.actionBeginFunction),this.parent.addEventListener(yi,this.actionCompleteFunction))}removeEventListener(){this.parent.isDestroyed||(vo(this.parent,this.eventDetails,!1),this.parent.removeEventListener(yi,this.actionCompleteFunction),this.parent.removeEventListener(Pn,this.actionBeginFunction))}actionComplete(t){["add","beginEdit","save","delete","cancel"].indexOf(t.requestType)<0&&(this.parent.isEdit=!1),"batchsave"===t.requestType&&this.parent.focusModule.restoreFocus(),this.refreshToolbar()}getCurrentEditedData(t,i){const n=this.parent;if(n.editSettings.template){const l=[].slice.call(t.elements);for(let a=0;a<l.length;a++)if((l[a].hasAttribute("name")&&"e-multi-hidden"!==l[a].className||l[a].classList.contains("e-multiselect"))&&("hidden"!==l[a].type||!Ce(l[a],"e-switch-wrapper")&&!Ce(l[a],"e-checkbox-wrapper"))){const c=l[a].hasAttribute("name")?tT(l[a].getAttribute("name")):tT(l[a].getAttribute("id")),d=n.getColumnByField(c)||{field:c,type:l[a].getAttribute("type")};let u;"checkbox"===d.type||"boolean"===d.type?u=l[a].checked:l[a].value?(u=l[a].value,l[a].ej2_instances&&l[a].ej2_instances.length&&!h(l[a].ej2_instances[0].value)&&(l[a].blur(),u=l[a].ej2_instances[0].value)):l[a].ej2_instances&&(u=l[a].ej2_instances[0].value),d.edit&&"string"==typeof d.edit.read?u=M(d.edit.read,window)(l[a],u):d.edit&&d.edit.read&&(u=d.edit.read(l[a],u)),u=n.editModule.getValueFromType(d,u),"radio"===l[a].type?l[a].checked&&Ie.setValue(d.field,u,i):Ie.setValue(d.field,u,i)}return i}const s=n.columnModel.filter(l=>l.editTemplate);for(let l=0;l<s.length;l++)if(t[mo(s[l].field)]){let a=[].slice.call(t[mo(s[l].field)]);a=a.length?a:[t[mo(s[l].field)]];let c=a.filter(d=>!h(d.ej2_instances));0===c.length&&(c=a.filter(d=>d.hasAttribute("name")));for(let d=0;d<c.length;d++){const u=this.getValue(s[l],c[d],i);Ie.setValue(s[l].field,u,i)}}const o=[].slice.call(t.getElementsByClassName("e-field"));for(let l=0,a=o.length;l<a;l++){const c=n.getColumnByUid(o[l].getAttribute("e-mappinguid"));if(c&&c.field){const d=this.getValue(c,o[l],i);Ie.setValue(c.field,d,i)}}return i}getValue(t,i,n){let s=i.ej2_instances?i.ej2_instances[0].value:i.value;const o=this.parent;let l=t.edit.read;return("checkbox"===t.type||"boolean"===t.type)&&(s=i.checked),"string"==typeof l?(l=M(l,window),s=o.editModule.getValueFromType(t,l(i,s))):s=o.editModule.getValueFromType(t,t.edit.read(i,s)),h(n[t.field])&&""===s&&(s=n[t.field]),s}onActionBegin(t){if("columnstate"===t.requestType&&this.parent.isEdit&&"Batch"!==this.parent.editSettings.mode)this.closeEdit();else{const i=this.parent.element.querySelector("."+al),n=this.parent.element.querySelector("."+va);if(i&&this.parent.frozenRows&&"virtualscroll"===t.requestType&&parseInt(Ce(i,Oi).getAttribute(Zt),10)<this.parent.frozenRows)return;const o=-1===["filterafteropen","filterbeforeopen","filterchoicerequest","save","infiniteScroll","virtualscroll"].indexOf(t.requestType),l=this.parent.enableVirtualization&&this.formObj&&!this.formObj.isDestroyed&&(i||n||"cancel"===t.requestType)&&o;(!this.parent.enableVirtualization&&"Batch"!==this.parent.editSettings.mode&&this.formObj&&!this.formObj.isDestroyed&&o&&!t.cancel||l)&&(this.destroyWidgets(),this.destroyForm())}}destroyWidgets(t){this.parent.editSettings.template&&(this.parent.destroyTemplate(["editSettingsTemplate"]),this.parent.isReact&&this.parent.renderTemplates()),(t=t||this.parent.getCurrentVisibleColumns(this.parent.enableColumnVirtualization)).some(s=>!h(s.editTemplate))&&(this.parent.destroyTemplate(["editTemplate"]),this.parent.isReact&&this.parent.renderTemplates());for(const s of t){let o=s.edit.destroy;s.edit.destroy&&("string"==typeof o?(o=M(o,window),o()):s.edit.destroy())}const n=[].slice.call(this.formObj.element.elements);for(let s=0;s<n.length;s++)n[s].hasAttribute("name")&&n[s].ej2_instances&&n[s].ej2_instances.length&&!n[s].ej2_instances[0].isDestroyed&&n[s].ej2_instances[0].destroy()}destroyForm(){this.destroyToolTip();const t=[this.formObj,this.mFormObj,this.frFormObj,this.virtualFormObj];for(let i=0;i<t.length;i++)t[i]&&t[i].element&&!t[i].isDestroyed&&t[i].destroy();this.destroyToolTip()}destroy(){const t=this.parent.element;if(!t)return;const i=!(!t.querySelector("."+br)||!t.querySelector("."+ar));i&&this.destroyForm(),this.removeEventListener();let n=this.dialogObj.element;n.childElementCount>0&&(this.dialogObj.destroy(),X(n)),n=this.alertDObj.element,n.childElementCount>0&&(this.alertDObj.destroy(),X(n)),i&&this.editModule&&this.editModule.destroy()}keyPressHandler(t){switch(t.action){case"insert":this.addRecord();break;case"delete":("INPUT"!==t.target.tagName||t.target.classList.contains("e-checkselect"))&&!document.querySelector(".e-popup-open")&&this.deleteRecord();break;case"f2":this.startEdit();break;case"enter":!Ce(t.target,"e-unboundcelldiv")&&"Batch"!==this.parent.editSettings.mode&&(Ce(t.target,ar)||this.parent.frozenRows&&Ce(t.target,cr))&&!document.getElementsByClassName("e-popup-open").length&&(t.preventDefault(),this.endEdit());break;case"escape":this.parent.isEdit&&("Batch"===this.parent.editSettings.mode?this.editModule.escapeCellEdit():this.closeEdit())}}preventBatch(t){this.preventObj=t,this.showDialog("BatchSaveLostChanges",this.dialogObj)}executeAction(){this.preventObj.handler.call(this.preventObj.instance,this.preventObj.arg1,this.preventObj.arg2,this.preventObj.arg3,this.preventObj.arg4,this.preventObj.arg5,this.preventObj.arg6,this.preventObj.arg7,this.preventObj.arg8)}applyFormValidation(t){const i=this.parent,n=i.isFrozenGrid(),s="Normal"===this.parent.editSettings.mode,o="Right"===this.parent.getFrozenMode()&&s?1:0,l="Dialog"!==this.parent.editSettings.mode?i.element.getElementsByClassName("e-gridform")[o]:G("#"+i.element.id+"_dialogEdit_wrapper .e-gridform",document),a="Right"===this.parent.getFrozenMode()&&s?0:1,c=i.element.getElementsByClassName("e-gridform")[a];let d={};const u={},p={};t=t||i.getColumns();for(let g=0;g<t.length;g++)!t[g].visible&&("Dialog"!==i.editSettings.mode||-1===i.groupSettings.columns.indexOf(t[g].field)&&"Dialog"===i.editSettings.mode)||t[g].validationRules&&SX(t[g],a,d,u,p,t.length);if(n&&"Dialog"!==this.parent.editSettings.mode){if(this.parent.editModule.mFormObj=this.createFormObj(c,u),this.parent.getFrozenMode()===Lt){const g=i.element.getElementsByClassName("e-gridform")[2];this.parent.editModule.frFormObj=this.createFormObj(g,p)}}else d=O(d,u,p);this.parent.editModule.formObj=this.createFormObj(l,d)}createFormObj(t,i){return new sl(t,{rules:i,locale:this.parent.locale,validationComplete:n=>{this.validationComplete(n)},customPlacement:(n,s)=>{const o=n.getAttribute("e-mappinguid"),l={column:this.parent.getColumnByUid(o),error:s,inputElement:n,value:n.value};this.valErrorPlacement(n,s),this.parent.notify("validation-custom-placement",l)}})}valErrorPlacement(t,i){if(this.parent.isEdit){const n=i.getAttribute("for"),s=this.getElemTable(t).querySelector("#"+n+"_Error");s?s.querySelector(".e-tip-content").innerHTML=i.outerHTML:this.createTooltip(t,i,n,"")}}getElemTable(t){let i;const n=this.parent;let s;if("Dialog"!==n.editSettings.mode){i=n.frozenRows&&n.frozenRows>(parseInt(D(t,"."+Oi).getAttribute(Zt),10)||0);const o=t.name;let l;o&&(l=TX(this.parent,tT(o))),l&&n.isFrozenGrid()?"frozen-left"===l.getFreezeTableName()?s=i?n.getFrozenVirtualHeader().querySelector("table"):n.getFrozenVirtualContent().querySelector("table"):"frozen-right"===l.getFreezeTableName()?s=i?n.getFrozenRightHeader().querySelector("table"):n.getFrozenRightContent().querySelector("table"):"movable"===l.getFreezeTableName()&&(s=i?n.getMovableVirtualHeader().querySelector("table"):n.getMovableVirtualContent().querySelector("table")):s=i?n.getHeaderTable():n.getContentTable()}else s=G("#"+n.element.id+"_dialogEdit_wrapper",document);return s}resetElemPosition(t,i){const n=Ce(i.element,Ii);if(n){const s=n.getBoundingClientRect().right,o=t.getBoundingClientRect().right;o>s&&(t.style.left=t.offsetLeft-(o-s)+"px")}}validationComplete(t){if(this.parent.isEdit){const i=this.getElemTable(t.element).querySelector("#"+t.inputName+"_Error");i&&("failure"===t.status?(i.style.display="",this.resetElemPosition(i,t)):i.style.display="none")}}createTooltip(t,i,n,s){const o=this.parent.getColumnByField(n);let l=this.parent.getFrozenMode()===Lt&&"Normal"===this.parent.editSettings.mode&&o.getFreezeTableName()===Ln?this.frFormObj.element:this.formObj.element;const a=Ce(t,"e-virtual-validation");a&&(l=this.virtualFormObj.element);let c=this.parent.getContent().firstElementChild;const d=this.parent.getFrozenColumns()||this.parent.getFrozenLeftColumnsCount()||this.parent.getFrozenRightColumnsCount();d&&(c=this.parent.getMovableVirtualContent());const u=c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth,p="Dialog"!==this.parent.editSettings.mode,g=D(t,"."+Ii),f=D(t,"."+Oi),m=this.parent.getContent().querySelector("."+hd);let v,w,x=!1,b=!1;const I=Math.round(this.parent.getContent().clientHeight/this.parent.getRowHeight())-1,k=[].slice.call(m?this.parent.getFrozenVirtualContent().getElementsByClassName(Oi):this.parent.getContent().getElementsByClassName(Oi));if("Batch"===this.parent.editSettings.mode&&I>1&&k.length>=I&&k[k.length-1].getAttribute(Zt)===f.getAttribute(Zt)&&(b=!0),p){if(this.parent.frozenRows){const ge=d?this.parent.getFrozenVirtualHeader().querySelector(Ke).children:this.parent.getHeaderTable().querySelector(Ke).children;v=ge.length>(parseInt(f.getAttribute(Zt),10)||0),x=v&&parseInt(f.getAttribute(Zt),10)===ge.length-1}(x||I>1&&k.length>=I&&("Bottom"===this.parent.editSettings.newRowPosition&&this.editModule.args&&"add"===this.editModule.args.requestType||g.classList.contains("e-lastrowcell")&&!f.classList.contains(va))||b)&&(w=!0)}const P=p?v?this.parent.getHeaderTable():this.parent.getContentTable():G("#"+this.parent.element.id+"_dialogEdit_wrapper .e-dlg-content",document),W=P.getBoundingClientRect(),oe=p?this.parent.element.getBoundingClientRect().left:W.left,ae=D(t,"td"),xe=ae?ae.getBoundingClientRect():t.parentElement.getBoundingClientRect(),z=this.parent.createElement("div",{className:"e-tooltip-wrap e-lib e-control e-popup e-griderror",id:n+"_Error",styles:"display:"+s+";top:"+((v?xe.top+xe.height:xe.bottom-W.top-(d?m.scrollTop:0))+P.scrollTop+9)+"px;left:"+(xe.left-oe+P.scrollLeft+xe.width/2)+"px;max-width:"+xe.width+"px;text-align:center;"});p&&W.left<oe&&(z.style.left=parseInt(z.style.left,10)-W.left+oe+"px");const Re=this.parent.createElement("div",{className:"e-tip-content"});let ye;Re.appendChild(i),w?(ye=this.parent.createElement("div",{className:"e-arrow-tip e-tip-bottom"}),ye.appendChild(this.parent.createElement("div",{className:"e-arrow-tip-outer e-tip-bottom"})),ye.appendChild(this.parent.createElement("div",{className:"e-arrow-tip-inner e-tip-bottom"}))):(ye=this.parent.createElement("div",{className:"e-arrow-tip e-tip-top"}),ye.appendChild(this.parent.createElement("div",{className:"e-arrow-tip-outer e-tip-top"})),ye.appendChild(this.parent.createElement("div",{className:"e-arrow-tip-inner e-tip-top"}))),z.appendChild(Re),z.appendChild(ye),a||!d&&!this.parent.frozenRows||"Dialog"===this.parent.editSettings.mode?a?this.virtualFormObj.element.appendChild(z):this.formObj.element.appendChild(z):(D(t,"Normal"===this.parent.editSettings.mode?".e-editcell":"."+Tn).style.position="relative",z.style.position="absolute","Batch"===this.parent.editSettings.mode||D(t,"."+hd)||D(t,"."+Fh)||this.parent.frozenRows&&!d?l.appendChild(z):this.mFormObj.element.appendChild(z)),!w&&p&&c.getBoundingClientRect().bottom<xe.bottom+xe.height&&(c.scrollTop=c.scrollTop+z.offsetHeight+ye.scrollHeight);const le=parseInt(document.defaultView.getComputedStyle(z,null).getPropertyValue("font-size"),10);if(z.getBoundingClientRect().width<xe.width&&z.querySelector("label").getBoundingClientRect().height/(1.2*le)>=2&&(z.style.width=z.style.maxWidth),z.style.left=(d||this.parent.frozenRows)&&"Dialog"!==this.parent.editSettings.mode?ae.offsetLeft+(ae.offsetWidth/2-z.offsetWidth/2)+"px":parseInt(z.style.left,10)-z.offsetWidth/2+"px",p&&!u&&!this.parent.allowPaging||d||this.parent.frozenRows){c.style.position="static";const ge=Ym(ae,z);z.style.top=ge.top+xe.height+9+"px"}if(w){if(!u||d||"auto"===this.parent.height||this.parent.frozenRows||this.parent.enableVirtualization)z.style.bottom=xe.height+9+"px";else{const ge=c.scrollWidth>c.offsetWidth?qf():0;z.style.bottom=this.parent.height-c.querySelector("table").offsetHeight-ge+xe.height+9+"px"}if(k.length<I&&"Bottom"===this.parent.editSettings.newRowPosition&&this.editModule.args&&"add"===this.editModule.args.requestType){const Y=(this.parent.frozenRows?this.parent.frozenRows+(k.length-1):k.length-1)*this.parent.getRowHeight(),U=this.parent.getContent().clientHeight-Y;z.style.bottom=U+9+"px"}z.style.top=null}}checkColumnIsGrouped(t){return!(t.visible||this.parent.groupSettings.columns.indexOf(t.field)>-1)}static AddEditors(t){r.editCellType=O(r.editCellType,t)}}return r.editCellType={dropdownedit:DAe,numericedit:EAe,datepickeredit:HX,datetimepickeredit:HX,booleanedit:IAe,defaultedit:TAe,templateedit:AAe},r})();class fT{constructor(e){this.parent=e,this.rowModelGenerator=new Ph(this.parent)}generateRows(e,t,i){let n;if(n=t.renderFrozenRightContent||t.renderMovableContent&&!this.parent.enableVirtualization?"frozen-right":t.renderMovableContent||t.isFrozen?"movable":this.parent.getFrozenLeftCount()?"frozen-left":"frozen-right","virtualscroll"===t.requestType&&"X"===t.virtualInfo.sentinelInfo.axis&&"movable"!==n)return null;const s=this.parent.enableVirtualization&&!t.isFrozenRowsRender?i:this.rowModelGenerator.generateRows(e,t);for(let o=0,l=s.length;o<l;o++)s[o].cells=cT(this.parent,s[o].cells,n);return s}}class w4 extends KE{constructor(e,t){super(e,t),this.isInitialRender=!0,this.widthService=t.getService("widthService"),this.addEventListener()}addEventListener(){this.parent.addEventListener(yi,this.actionComplete.bind(this)),this.parent.addEventListener(R0,this.batchAdd.bind(this)),this.parent.on(Rx,this.batchAdd.bind(this)),this.parent.addEventListener(_E,this.batchAdd.bind(this)),this.parent.on("set-height-to-frozen-element",this.refreshScrollOffset),this.parent.on(Bd,this.widthService.refreshFrozenScrollbar,this)}batchAdd(e){if("auto"!==this.parent.height&&("batchCancel"!==e.name&&(!this.parent.frozenRows||"Top"!==this.parent.editSettings.newRowPosition)||"batchCancel"===e.name||"batchDelete"===e.name)){this.refreshScrollOffset();const i=this.getTable().offsetHeight;"add"===e.name&&"Bottom"===this.parent.editSettings.newRowPosition&&this.parent.getContent().firstChild.scroll(0,i)}}setHeightToContent(e){this.getFrozenContent().style.height=e.toString()+"px",this.getMovableContent().style.height=e.toString()+"px"}actionComplete(e){if("Dialog"!==this.parent.editSettings.mode&&("add"===e.requestType||"cancel"===e.requestType&&e.row.classList.contains(va))&&(!this.parent.frozenRows||"Bottom"===this.parent.editSettings.newRowPosition)&&"auto"!==this.parent.height){this.refreshScrollOffset();const t=this.getTable().offsetHeight;"add"===e.requestType&&"Bottom"===this.parent.editSettings.newRowPosition&&this.parent.getContent().firstChild.scroll(0,t)}}removeEventListener(){this.parent.isDestroyed||(this.parent.removeEventListener(yi,this.actionComplete),this.parent.removeEventListener(R0,this.batchAdd),this.parent.off(Bd,this.widthService.refreshFrozenScrollbar))}renderPanel(){super.renderPanel();let e=this.parent.element.querySelector("."+hd),t=this.parent.element.querySelector("."+hn);h(e)&&(e=this.parent.createElement("div",{className:"e-frozencontent e-frozen-left-content"}),t=this.parent.createElement("div",{className:hn}),this.getPanel().querySelector("."+Ls).appendChild(e),this.getPanel().querySelector("."+Ls).appendChild(t),t.style.scrollbarWidth="none"),this.setFrozenContent(e),this.setMovableContent(t),A.userAgent.indexOf("Mac OS")>-1&&"safari"===A.info.name&&!this.parent.enableVirtualization&&this.getPanel().firstElementChild.classList.add("e-mac-safari")}renderFrozenRigthPanel(){super.renderPanel()}renderEmpty(e){super.renderEmpty(e),this.getMovableContent().querySelector(Ke).innerHTML="<tr><td></td></tr>",_([this.getMovableContent().querySelector(Ke).querySelector("tr")],["e-emptyrow"]),this.getFrozenContent().querySelector(".e-emptyrow").querySelector("td").colSpan=this.parent.getVisibleFrozenColumns(),this.getFrozenContent().style.borderRightWidth="0px",this.parent.frozenRows&&(this.parent.getHeaderContent().querySelector("."+Fh).querySelector(Ke).innerHTML="",this.parent.getHeaderContent().querySelector("."+un).querySelector(Ke).innerHTML="")}renderFrozenRightEmpty(e){super.renderEmpty(e)}setFrozenContent(e){this.frozenContent=e}setMovableContent(e){this.movableContent=e}getFrozenContent(){return this.frozenContent}getMovableContent(){return this.movableContent}getModelGenerator(){return new fT(this.parent)}renderFrozenRightTable(){super.renderTable()}renderTable(){let e;null==this.getFrozenContent().querySelector("."+Tn)?(super.renderTable(),this.getFrozenContent().appendChild(this.getTable()),e=this.getTable().cloneNode(!0),this.getMovableContent().appendChild(e)):(this.setTable(this.getFrozenContent().querySelector("."+Tn)),this.setColGroup(this.parent.element.querySelector("."+br).querySelector(ni).cloneNode(!0)),this.getFrozenContent().querySelector("."+Tn).appendChild(this.getColGroup()),e=this.getMovableContent().querySelector("."+Tn),this.parent.frozenRows&&this.parent.getHeaderContent().classList.add("e-frozenhdrcont")),this.getMovableContent().querySelector(ni)&&X(this.getMovableContent().querySelector(ni));const t=this.parent.getHeaderContent().querySelector("."+un).querySelector(ni).cloneNode(!0);e.insertBefore(t,e.querySelector(Ke));const i=this.parent.enableVirtualization?"":"flex";this.getPanel().firstChild.style.display=i,this.renderHorizontalScrollbar("e-frozenscrollbar e-frozen-left-scrollbar",this.getScrollbarDisplay())}getScrollbarDisplay(){let e="";return(this.parent.getFrozenColumns()&&!this.parent.getVisibleFrozenColumns()||this.parent.getFrozenLeftColumnsCount()&&!this.parent.getVisibleFrozenLeftCount())&&(e="none"),e}renderHorizontalScrollbar(e,t,i){const n=this.parent.createElement("div",{className:e,styles:"display:"+t}),s=this.parent.createElement("div",{className:"e-movablescrollbar"}),o=this.parent.createElement("div",{className:"e-movablechild"}),l=qf().toString();this.setScrollbarHeight(s,l),this.setScrollbarHeight(o,l),s.appendChild(o),this.appendScrollbar(n,s,i)}appendScrollbar(e,t,i){const n=this.parent.createElement("div",{className:"e-scrollbar",styles:"display: flex"});n.appendChild(e),n.appendChild(t),this.parent.getContent().appendChild(n)}setScrollbarHeight(e,t){e.style.minHeight=t+"px",e.style.maxHeight=t+"px"}setIsFrozen(e,t){e.isFrozen=!e.isFrozen}setTbody(e,t){let i;h(e[0].cells[0])&&(this.getMovableContent().querySelector(Ke).innerHTML="");let n=e[0].cells[0],s=n.index;return Et(s)&&this.parent.isRowDragable()&&(n=e[0].cells[1],s=n.index),0===s&&(this.getPanel().firstChild.style.overflowX="hidden",this.parent.enableColumnVirtualization&&(this.getMovableContent().style.overflowX="hidden")),this.parent.enableColumnVirtualization&&t.renderMovableContent&&"virtualscroll"===t.requestType&&this.getMovableContent().scrollLeft>0&&0!==t.virtualInfo.columnIndexes[0]&&(s=this.parent.getFrozenColumns()),n&&n.column&&(i=n.column.getFreezeTableName()),this.setIdx(s),t.tableName=i,i}splitRows(e){e===Os?(this.freezeRows=this.rows,this.freezeRowElements=this.rowElements):this.movableRows=this.rows}renderNextFrozentPart(e,t){t===Os&&(this.parent.enableVirtualization&&(e.renderMovableContent=!0),this.refreshContentRows(O({},e)))}appendContent(e,t,i,n){this.parent.isReact&&!h(this.parent.rowTemplate)?e=t:e.appendChild(t),n===Os?(this.isLoaded=!1,this.getFrozenContent().querySelector("table").appendChild(e)):(this.refreshTbody(e),this.isLoaded=!0,this.getMovableContent().querySelector("table").appendChild(e),this.refreshHeight(),this.refreshScrollOffset(),this.widthService.refreshFrozenScrollbar()),this.isInitialRender&&(this.parent.scrollModule.setHeight(),this.isInitialRender=!1)}refreshScrollOffset(){if("auto"!==this.parent.height){const e=this.getTable().offsetHeight+1;this.setHeightToContent(e)}this.parent.notify("refresh-frozen-height",{})}getFrozenHeader(e){return e===Os?this.parent.getHeaderContent().querySelector("."+Fh).querySelector(Ke):this.parent.getHeaderContent().querySelector("."+un).querySelector(Ke)}refreshTbody(e){e.childElementCount<1&&e.appendChild(this.parent.createElement("tr",{attrs:{role:"row"}}).appendChild(this.parent.createElement("td")))}refreshHeight(){this.parent.allowTextWrap||this.parent.notify(Nd,{case:"refreshHeight"}),this.getFrozenContent().style.borderRightWidth="1px"}setIdx(e){this.idx=e}getIdx(){return this.idx}getTbody(e){return e===Os?this.getTable().querySelector(Ke):this.getMovableContent().querySelector(Ke)}}class b4 extends K5{constructor(e,t){super(e,t),this.addEventListener()}addEventListener(){this.eventHandler=[{event:Nd,handler:this.refreshFreeze},{event:N1,handler:this.setFrozenHeight},{event:as,handler:this.enableAfterRender}],vo(this.parent,this.eventHandler,!0,this)}removeEventListener(){this.parent.isDestroyed||vo(this.parent,this.eventHandler,!1)}renderTable(){super.renderTable(),this.rfshMovable(),this.updateColgroup(),this.initializeHeaderDrag(),this.initializeHeaderDrop(),this.parent.notify(io,{rows:this.rows,args:{isFrozen:!1}})}renderPanel(){let e=this.parent.element.querySelector("."+Fh),t=this.parent.element.querySelector("."+un);super.renderPanel(),h(e)&&(e=this.parent.createElement("div",{className:"e-frozenheader e-frozen-left-header"}),t=this.parent.createElement("div",{className:un}),this.getPanel().querySelector("."+cr).appendChild(e),this.getPanel().querySelector("."+cr).appendChild(t)),this.setFrozenHeader(e),this.setMovableHeader(t)}renderFrozenRightPanel(){super.renderPanel()}renderFrozenRightTable(){super.renderTable()}refreshUI(){const e=this.getMovableHeader().querySelector(Ke);X(this.getMovableHeader().querySelector("table")),super.refreshUI(),this.rfshMovable(),this.getMovableHeader().querySelector(Ke).innerHTML=e.innerHTML,this.updateColgroup(),this.widthService.setWidthToColumns(),!this.parent.enableVirtualization&&!this.parent.isFrozenGrid()&&this.widthService.setWidthToTable(),this.parent.allowTextWrap&&"Header"===this.parent.textWrapSettings.wrapMode&&Lc([].slice.call(this.movableHeader.querySelectorAll("tr.e-columnheader")),!0),this.parent.updateDefaultCursor(),nT(this.parent.getContentTable().querySelector(ni),this.parent.getFrozenColumns(),this.parent),this.widthService.refreshFrozenScrollbar(),this.initializeHeaderDrag(),this.parent.notify(io,{rows:this.rows,args:{isFrozen:!1}})}refreshFrozenLeftUI(){super.refreshUI()}rfshMovable(){this.getFrozenHeader().appendChild(this.getTable()),this.getMovableHeader().appendChild(this.createHeader(void 0,"movable")),this.refreshStackedHdrHgt(),this.addMovableFirstCls()}addMovableFirstCls(){if(this.parent.getVisibleFrozenColumns()){const e=[].slice.call(this.parent.element.querySelector("."+un).querySelector("thead").getElementsByClassName("e-columnheader")),t=e.length;for(let i=0;i<t;i++){const n="cells",s=e[i][n][0];s&&(_([s],["e-movablefirst"]),e[i][n][0].rowSpan>1&&(i+=e[i][n][0].rowSpan-1))}}}refreshFreeze(e){if("filter"===e.case){const t=this.getTable().querySelector(".e-filterbar");if(this.parent.allowFiltering&&t&&this.getMovableHeader().querySelector("thead")){this.getMovableHeader().querySelector("thead").appendChild(this.filterRenderer(t,this.parent.getFrozenColumns()));const i=[].slice.call(this.getMovableHeader().querySelectorAll("thead .e-filterbarcell .e-input"));for(const n of i)ke.bindInitialEvent({element:n,floatLabelType:"Never",properties:{enableRtl:this.parent.enableRtl,showClearButton:!0}})}}else("textwrap"===e.case||"refreshHeight"===e.case)&&(this.refreshHeight(e),this.parent.contentModule.refreshScrollOffset())}refreshHeight(e){let t,i;const n=this.getFrozenHeader(),s=this.getMovableHeader(),o=this.parent.getContent(),l=this.parent.textWrapSettings.wrapMode,a=this.parent.getHeaderContent().querySelector("."+cr).classList;"textwrap"===e.case?(("Header"!==l||e.isModeChg)&&(t=o.querySelector("."+hd).querySelectorAll("tr"),i=o.querySelector("."+hn).querySelectorAll("tr"),this.setWrapHeight(t,i,e.isModeChg,!0)),"Content"===l&&this.parent.allowTextWrap?a.add("e-wrap"):a.remove("e-wrap"),"Both"===l||e.isModeChg?(t=n.querySelectorAll("tr"),i=s.querySelectorAll("tr")):(i=s.querySelector("Content"===l?Ke:"thead").querySelectorAll("tr"),t=n.querySelector("Content"===l?Ke:"thead").querySelectorAll("tr")),this.parent.getHeaderContent().getElementsByClassName("e-stackedheadercell").length||this.setWrapHeight(t,i,e.isModeChg,!1,this.colDepth>1),this.refreshStackedHdrHgt()):"refreshHeight"===e.case&&(this.setWrapHeight(o.querySelector("."+hd).querySelectorAll("tr"),o.querySelector("."+hn).querySelectorAll("tr"),e.isModeChg),this.parent.getHeaderContent().getElementsByClassName("e-stackedheadercell").length||this.setWrapHeight(n.querySelectorAll("tr"),s.querySelectorAll("tr"),e.isModeChg))}enableAfterRender(e){"scroll"===e.module&&this.setFrozenHeight()}updateResizeHandler(){const e=[].slice.call(this.parent.getHeaderContent().getElementsByClassName("e-rhandler"));for(let t=0;t<e.length;t++)e[t].style.height=e[t].parentElement.offsetHeight+"px"}setWrapHeight(e,t,i,n,s){let o,l;const a=this.parent.allowTextWrap,c=this.parent.textWrapSettings.wrapMode,d=this.parent.getHeaderContent().querySelector("thead"),u=this.parent.getHeaderContent().querySelector(Ke),p=[],g=[];for(let f=0,m=e.length;f<m;f++)(i&&(!this.parent.rowHeight&&"e-hide"===u.className||"Header"===c&&n||"Content"===c&&d.contains(e[f])||"Header"===c&&u.contains(e[f]))||s)&&(e[f].style.height=null,t[f].style.height=null),!h(e[f])&&!h(t[f])&&(p[f]=e[f].getBoundingClientRect().height,g[f]=t[f].getBoundingClientRect().height),o=p[f],l=g[f],!h(e[f])&&e[f].childElementCount&&(a&&o<l||!a&&o<l||this.parent.allowResizing&&this.parent.resizeModule&&!1===this.parent.resizeModule.isFrozenColResized)&&(e[f].style.height=l+"px"),t&&!h(t[f])&&t[f].childElementCount&&(a&&o>l||!a&&o>l||this.parent.allowResizing&&this.parent.resizeModule&&!0===this.parent.resizeModule.isFrozenColResized)&&(t[f].style.height=o+"px");a&&"auto"!==this.parent.height&&this.setFrozenHeight()}setFrozenHeight(e=qf()){const t=this.parent.element.querySelector("."+hn).getBoundingClientRect().height,i=this.parent.element.querySelector("."+hn),n=this.parent.element.querySelector("."+hd),s=this.parent.getContent().scrollWidth,o=this.parent.element.querySelector(".e-movablecontent table").scrollWidth+this.parent.getContentTable().scrollWidth;i.scrollWidth-i.clientWidth?(n.style.height=t-e+"px",n.style.borderBottom=""):(n.style.height=t+"px",(n.scrollHeight<=n.clientHeight||i.scrollHeight<=i.clientHeight)&&s===o&&this.parent.scrollModule.removePadding(),n.style.borderBottom="0px")}refreshStackedHdrHgt(){let e,t;const i=[].slice.call(this.getFrozenHeader().getElementsByClassName("e-columnheader")),n=[].slice.call(this.getMovableHeader().getElementsByClassName("e-columnheader"));for(let s=0,o=i.length;s<o;s++)e=this.getRowSpan(i[s]),t=this.getRowSpan(n[s]),e.min>1?this.updateStackedHdrRowHgt(s,e.max,i[s],n):t.min>1&&this.updateStackedHdrRowHgt(s,t.max,n[s],i);this.parent.allowResizing&&this.updateResizeHandler()}getRowSpan(e){let t,i,n;for(let s=0,o=e.childElementCount;s<o;s++)0===s&&(i=e.children[0].rowSpan),t=e.children[s].rowSpan,i=Math.min(t,i),n=Math.max(t,i);return{min:i,max:n}}updateStackedHdrRowHgt(e,t,i,n){let s=0;for(let o=0;o<t;o++)s+=n[e+o].style.height?parseInt(n[e+o].style.height,10):n[e+o].offsetHeight;i.style.height=s+"px"}setFrozenHeader(e){this.frozenHeader=e}setMovableHeader(e){this.movableHeader=e}getFrozenHeader(){return this.frozenHeader}getMovableHeader(){return this.movableHeader}updateColgroup(){const e=this.getMovableHeader().querySelector("table");X(this.getMovableHeader().querySelector(ni)),e.insertBefore(nT(this.getFrozenHeader().querySelector(ni),this.parent.getFrozenColumns(),this.parent),e.querySelector("thead"))}filterRenderer(e,t,i){const n=e.cloneNode(!0);n.innerHTML="";const s=i||this.parent.getColumns().length;for(let o=t;o<s;o++)n.appendChild(e.removeChild(e.children[t]));return n}}class BAe extends b4{constructor(e,t){super(e,t),this.addEventListener()}addEventListener(){this.evtHandlers=[{event:Nd,handler:this.refreshFreeze},{event:"refresh-frozen-columns",handler:this.refreshFrozenColumns},{event:"set-reorder-destination-element",handler:this.setReorderElement},{event:Bd,handler:this.setVisible}],vo(this.parent,this.evtHandlers,!0,this)}removeEventListener(){this.parent.isDestroyed||vo(this.parent,this.evtHandlers,!1)}setReorderElement(e){this.destEle=e.ele}refreshFrozenColumns(e){e.parent||this.parent.setProperties({columns:e.columns},!0);const t=Ce(this.destEle,"e-frozen-left-header"),i=Ce(this.destEle,"e-frozen-right-header"),n=this.parent.getFrozenLeftColumnsCount(),s=this.parent.getFrozenRightColumnsCount();e.column.freeze=null,t?e.column.freeze="Left":i&&(e.column.freeze="Right"),this.parent.setFrozenCount(),e.cancel=n!==this.parent.getFrozenLeftColumnsCount()||s!==this.parent.getFrozenRightColumnsCount(),e.cancel&&this.parent.refreshColumns()}setWrapHeight(e,t,i,n,s,o){let l,a,c;const d=this.parent.allowTextWrap,u=this.parent.getHeaderContent().querySelector(Ke),p=this.parent.textWrapSettings.wrapMode,g=this.parent.getHeaderContent().querySelector("thead"),f=[],m=[],v=[];for(let x=0,w=e.length;x<w;x++)!h(e[x])&&!h(t[x])&&(o&&(v[x]=o[x].getBoundingClientRect().height),m[x]=t[x].getBoundingClientRect().height,f[x]=e[x].getBoundingClientRect().height);for(let x=0,w=e.length;x<w;x++){(i&&("Content"===p&&g.contains(e[x])||"Header"===p&&u.contains(e[x])||"Header"===p&&n)||s)&&(o[x]&&(o[x].style.height=null),e[x].style.height=null,t[x].style.height=null),l=f[x],a=m[x],c=v[x]?v[x]:0;const b=Math.max(l,a,c);!h(e[x])&&e[x].childElementCount&&(d&&l<b||!d&&l<b||this.parent.allowResizing&&this.parent.resizeModule&&!1===this.parent.resizeModule.isFrozenColResized)&&(e[x].style.height=b+"px"),t&&!h(t[x])&&t[x].childElementCount&&(d&&b>a||!d&&b>a||this.parent.allowResizing&&this.parent.resizeModule&&!0===this.parent.resizeModule.isFrozenColResized)&&(t[x].style.height=b+"px"),o&&!h(o[x])&&o[x].childElementCount&&(d&&b>c||!d&&b>c||this.parent.allowResizing&&this.parent.resizeModule&&!0===this.parent.resizeModule.isFrozenColResized)&&(o[x].style.height=b+"px")}d&&this.setFrozenHeight()}refreshHeight(e){const t=this.parent.getFrozenMode()===Lt;let i,n,s;const o=this.getFrozenRightHeader(),l=this.parent.getHeaderContent().querySelector("."+Fh),a=this.parent.getContent(),c=this.getMovableHeader(),d=this.parent.getHeaderContent().querySelector("."+cr).classList,u=this.parent.textWrapSettings.wrapMode;"textwrap"===e.case?(("Header"!==u||e.isModeChg)&&(t&&(n=a.querySelector(".e-frozen-right-content").querySelectorAll("tr")),s=a.querySelector("."+hn).querySelectorAll("tr"),i=a.querySelector("."+hd).querySelectorAll("tr"),this.setWrapHeight(i,s,e.isModeChg,!0,!1,n)),"Content"===u&&this.parent.allowTextWrap?d.add("e-wrap"):d.remove("e-wrap"),"Both"===u||e.isModeChg?(t&&(n=o.querySelectorAll("tr")),i=l.querySelectorAll("tr"),s=c.querySelectorAll("tr")):(t&&(n=o.querySelector("Content"===u?Ke:"thead").querySelectorAll("tr")),i=l.querySelector("Content"===u?Ke:"thead").querySelectorAll("tr"),s=c.querySelector("Content"===u?Ke:"thead").querySelectorAll("tr")),this.parent.getHeaderContent().getElementsByClassName("e-stackedheadercell").length||this.setWrapHeight(i,s,e.isModeChg,!1,this.colDepth>1,n),this.refreshStackedHdrHgt()):"refreshHeight"===e.case&&(s=a.querySelector("."+hn).querySelectorAll("tr"),i=a.querySelector("."+hd).querySelectorAll("tr"),t&&(n=a.querySelector(".e-frozen-right-content").querySelectorAll("tr")),this.setWrapHeight(i,s,e.isModeChg,!1,!1,n),this.parent.getHeaderContent().getElementsByClassName("e-stackedheadercell").length||(t&&(n=o.querySelectorAll("tr")),i=l.querySelectorAll("tr"),s=c.querySelectorAll("tr"),this.setWrapHeight(i,s,e.isModeChg,!1,!1,n)))}setVisible(e){const t=this.parent;let i,n;const s=this.parent.getFrozenLeftColumnsCount(),o=this.parent.getFrozenRightColumnsCount(),l=this.parent.getMovableColumnsCount();for(let a=0,c=e.length;a<c;a++){const d=e[a];n=t.getNormalizedColumnIndex(d.uid),i=d.visible?"":"none","Left"===d.freeze||"Right"===d.freeze?s&&!o?lt(t.getHeaderContent().querySelector(".e-frozen-left-header").querySelector(ni).children[n],{display:i}):!s&&o&&lt(t.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(ni).children[n-l],{display:i}):lt(t.getHeaderContent().querySelector("."+un).querySelector(ni).children[n-s],{display:i})}this.refreshUI()}filterRenderer(e,t,i){return super.filterRenderer(e,t,i)}refreshUI(){let e;const t=this.getMovableHeader().querySelector(Ke);X(this.getMovableHeader().querySelector("table")),this.parent.getFrozenMode()===Lt&&(e=this.getFrozenRightHeader().querySelector(Ke),X(this.getFrozenRightHeader().querySelector("table"))),super.refreshFrozenLeftUI(),this.rfshMovable(),this.getMovableHeader().querySelector(Ke).innerHTML=t.innerHTML,e&&(this.getFrozenRightHeader().querySelector(Ke).innerHTML=e.innerHTML),this.updateColgroup(),this.widthService.setWidthToColumns(),this.parent.notify(IE,{}),this.parent.allowTextWrap&&"Header"===this.parent.textWrapSettings.wrapMode&&Lc([].slice.call(this.getMovableHeader().querySelectorAll("tr.e-columnheader")),!0),this.parent.updateDefaultCursor();const i=this.parent.getContent().querySelector("."+hn).querySelector("."+Tn);X(i.querySelector(ni));const n=this.getMovableHeader().querySelector(ni).cloneNode(!0);if(i.insertBefore(n,i.querySelector(Ke)),e){const s=this.parent.getContent().querySelector(".e-frozen-right-content").querySelector("."+Tn);X(s.querySelector(ni));const o=this.getFrozenRightHeader().querySelector(ni).cloneNode(!0);s.insertBefore(o,s.querySelector(Ke))}this.widthService.refreshFrozenScrollbar(),this.initializeHeaderDrag(),this.parent.notify(io,{rows:this.rows,args:{isFrozen:!1}})}refreshFreeze(e){const t=this.parent.getFrozenLeftColumnsCount(),i=this.parent.getFrozenRightColumnsCount(),n=this.parent.getMovableColumnsCount();if("filter"===e.case){const s=this.getTable().querySelector(".e-filterbar");if(this.parent.allowFiltering&&s&&this.getMovableHeader().querySelector("thead")){const o=this.parent.isRowDragable(),l=t?o?t+1:t:0,a=t+n+(t&&o?1:0);if(this.getMovableHeader().querySelector("thead").appendChild(this.filterRenderer(s,l,a)),this.parent.getFrozenMode()===Lt){const d=[].slice.call(this.getMovableHeader().querySelectorAll("thead .e-filterbarcell .e-input"));this.getFrozenRightHeader().querySelector("thead").appendChild(this.filterRenderer(s,l,l+i)),this.adjudtFilterBarCell(d)}const c=[].slice.call(this.getMovableHeader().querySelectorAll("thead .e-filterbarcell .e-input"));this.adjudtFilterBarCell(c)}}else("textwrap"===e.case||"refreshHeight"===e.case)&&(this.refreshHeight(e),this.parent.contentModule.refreshScrollOffset())}updateFrozenColGroup(e,t){e&&!1===e.visible&&lt(t,{display:"none"})}adjudtFilterBarCell(e){for(const t of e)ke.bindInitialEvent({element:t,floatLabelType:"Never",properties:{enableRtl:this.parent.enableRtl,showClearButton:!0}})}renderPanel(){this.parent.getFrozenLeftColumnsCount()?(super.renderPanel(),this.parent.getFrozenRightColumnsCount()&&this.renderLeftWithRightFrozenPanel()):this.renderRightFrozenPanelAlone(),this.getPanel().firstChild.style.display="flex",this.getMovableHeader().style.flex="1"}renderTable(){this.parent.getFrozenLeftColumnsCount()?super.renderTable():this.renderFrozenRightTableAlone()}rfshMovable(){if(this.parent.getFrozenLeftColumnsCount()){if(super.rfshMovable(),this.parent.getFrozenRightColumnsCount()){const e=this.rows;this.getFrozenRightHeader().appendChild(this.createHeader(void 0,"frozen-right")),this.refreshStackedHdrHgt(),this.parent.notify(io,{rows:this.rows,args:{renderFrozenRightContent:!0}}),this.rows=e}}else this.getFrozenRightHeader().appendChild(this.getTable()),this.getMovableHeader().appendChild(this.createHeader(void 0,"movable")),this.refreshStackedHdrHgt(),this.addMovableFirstCls()}refreshStackedHdrHgt(){this.parent.getFrozenLeftColumnsCount()?(super.refreshStackedHdrHgt(),this.parent.getFrozenRightColumnsCount()&&this.refreshFrozenRightStackedHdrHgt()):this.refreshFrozenRightStackedHdrHgt()}refreshFrozenRightStackedHdrHgt(){let e;const t=[].slice.call(this.getFrozenRightHeader().getElementsByClassName("e-columnheader")),i=[].slice.call(this.getMovableHeader().getElementsByClassName("e-columnheader"));for(let n=0,s=t.length;n<s;n++)e=this.getRowSpan(t[n]),e.min>1&&this.updateStackedHdrRowHgt(n,e.max,t[n],i)}updateColgroup(){this.updateMovableColGroup(),this.parent.getFrozenLeftColumnsCount()&&this.updateFrozenLeftColGroup(),this.parent.getFrozenRightColumnsCount()&&this.updateFrozenRightColGroup()}renderRightFrozenPanelAlone(){let e=this.parent.element.querySelector("."+un),t=this.parent.element.querySelector(".e-frozen-right-header");super.renderFrozenRightPanel(),h(t)&&(e=this.parent.createElement("div",{className:un}),t=this.parent.createElement("div",{className:"e-frozenheader e-frozen-right-header"}),this.getPanel().querySelector("."+cr).appendChild(e),this.getPanel().querySelector("."+cr).appendChild(t)),super.setMovableHeader(e),this.setFrozenRightHeader(t)}renderLeftWithRightFrozenPanel(){let e=this.parent.element.querySelector(".e-frozen-right-header");super.renderFrozenRightPanel(),h(e)&&(e=this.parent.createElement("div",{className:"e-frozenheader e-frozen-right-header"}),this.getPanel().querySelector("."+cr).appendChild(e)),this.setFrozenRightHeader(e)}renderFrozenRightTableAlone(){super.renderFrozenRightTable(),this.rfshMovable(),this.updateColgroup(),this.initializeHeaderDrag(),this.initializeHeaderDrop(),this.parent.notify(io,{rows:this.rows,args:{isFrozen:!1}})}updateFrozenLeftColGroup(){const e=this.getFrozenHeader().querySelector(ni).children,t=this.parent.isRowDragable()?1:0,i=this.parent.isRowDragable()?this.parent.getFrozenLeftColumnsCount()+1:this.parent.getFrozenLeftColumnsCount();for(let n=t;n<e.length;n++)n>=i&&(X(e[n]),n--)}updateMovableColGroup(){const e=this.getMovableHeader().querySelector(ni).children;this.parent.isRowDragable()&&X(e[0]);const t=e.length,i=this.parent.getFrozenLeftColumnsCount(),n=this.parent.getMovableColumnsCount();let s=0;for(let o=0;o<t;o++,s++)(o<i||o>=i+n)&&(X(e[s]),s--)}updateFrozenRightColGroup(){const e=this.parent.isRowDragable(),t=this.parent.getFrozenRightColumns(),i=this.getFrozenRightHeader().querySelector(ni).children;this.parent.getFrozenMode()===Lt&&e&&X(i[0]);const n=i.length,s=this.parent.getFrozenLeftColumnsCount(),o=this.parent.getMovableColumnsCount();let l=0;for(let a=0;a<n;a++)a<s+o?X(i[0]):(this.updateFrozenColGroup(t[l],i[l]),l++)}setFrozenRightHeader(e){this.frozenRightHeader=e}getFrozenRightHeader(){return this.frozenRightHeader}}class GX extends w4{constructor(e,t){super(e,t),this.frzCount=0,this.isColGroupRefresh=!1,this.widthService=t.getService("widthService")}renderPanel(){this.parent.getFrozenLeftColumnsCount()?(super.renderPanel(),this.parent.getFrozenRightColumnsCount()&&this.renderFrozenLeftWithRightPanel()):this.renderFrozenRightPanelAlone();const e=this.parent.enableVirtualization?"":"flex";this.getPanel().firstChild.style.display=e}renderTable(){if(this.parent.getFrozenLeftColumnsCount()){if(super.renderTable(),this.parent.getFrozenRightColumnsCount()){this.renderFrozenLeftWithRightTable();const e=this.parent.getVisibleFrozenRightCount()?"":"none";this.renderHorizontalScrollbar("e-frozenscrollbar e-frozen-right-scrollbar",e,!0)}}else{this.renderFrozenRightTableAlone();const e=this.parent.getVisibleFrozenRightCount()?"":"none";this.renderHorizontalScrollbar("e-frozenscrollbar e-frozen-right-scrollbar",e)}this.getMovableContent().style.flex="1"}appendScrollbar(e,t,i){const n=this.parent.createElement("div",{className:"e-scrollbar",styles:"display: flex"});if(this.parent.getFrozenLeftColumnsCount()){if(i)return void this.parent.getContent().querySelector(".e-scrollbar").appendChild(e);n.appendChild(e),n.appendChild(t)}else n.appendChild(t),n.appendChild(e);this.parent.getContent().appendChild(n)}renderFrozenRightPanelAlone(){this.renderFrozenRigthPanel();let e=this.parent.element.querySelector("."+hn),t=this.parent.element.querySelector(".e-frozen-right-content");h(t)&&(e=this.parent.createElement("div",{className:hn}),t=this.parent.createElement("div",{className:"e-frozencontent e-frozen-right-content"}),this.getPanel().querySelector("."+Ls).appendChild(e),this.getPanel().querySelector("."+Ls).appendChild(t)),super.setMovableContent(e),this.setFrozenRightContent(t)}renderFrozenLeftWithRightPanel(){this.renderFrozenRigthPanel();let e=this.parent.element.querySelector(".e-frozen-right-content");h(e)&&(e=this.parent.createElement("div",{className:"e-frozencontent e-frozen-right-content"}),this.getPanel().querySelector("."+Ls).appendChild(e)),this.setFrozenRightContent(e)}renderFrozenRightTableAlone(){let e;null==this.getFrozenRightContent().querySelector("."+Tn)?(super.renderFrozenRightTable(),this.getFrozenRightContent().appendChild(this.getTable()),e=this.getTable().cloneNode(!0),this.getMovableContent().appendChild(e)):(this.parent.frozenRows&&this.parent.getHeaderContent().classList.add("e-frozenhdrcont"),this.setTable(this.getFrozenRightContent().querySelector("."+Tn)),this.setColGroup(this.getFrozenRightHeaderColGroup()),e=this.getMovableContent().querySelector("."+Tn),this.getFrozenRightContent().querySelector("."+Tn).appendChild(this.getColGroup())),this.getMovableContent().querySelector(ni)&&X(this.getMovableContent().querySelector(ni));const t=this.parent.getHeaderContent().querySelector("."+un).querySelector(ni).cloneNode(!0);e.insertBefore(t,e.querySelector(Ke))}renderFrozenLeftWithRightTable(){const e=this.getTable().cloneNode(!0);this.getFrozenRightContent().appendChild(e);const t=this.getFrozenRightContent().querySelector(ni);t&&X(t);const i=this.getFrozenRightContent().querySelector("."+Tn);i.insertBefore(this.getFrozenRightHeaderColGroup(),i.querySelector(Ke))}renderFrozenRightEmptyRowAlone(e){super.renderFrozenRightEmpty(e),this.getMovableContent().querySelector(Ke).innerHTML="<tr><td></td></tr>",_([this.parent.getMovableContentTbody().querySelector("tr")],["e-emptyrow"]),this.getFrozenRightContent().querySelector(".e-emptyrow").querySelector("td").colSpan=this.parent.getVisibleFrozenRightCount(),this.parent.frozenRows&&(this.parent.getFrozenRightHeaderTbody().innerHTML="",this.parent.getMovableHeaderTbody().innerHTML="")}getFrozenHeader(e){return e===Os?this.parent.getHeaderContent().querySelector(".e-frozen-left-header").querySelector(Ke):"movable"===e?this.parent.getHeaderContent().querySelector("."+un).querySelector(Ke):this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(Ke)}renderFrozenLeftWithRightEmptyRow(){this.getFrozenRightContent().querySelector(Ke).innerHTML="<tr><td></td></tr>",_([this.getFrozenRightContent().querySelector(Ke).querySelector("tr")],["e-emptyrow"]),this.parent.frozenRows&&(this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(Ke).innerHTML="")}setFrozenRightContent(e){this.frozenRigthContent=e}getFrozenRightContent(){return this.frozenRigthContent}getHeaderColGroup(){let e=this.parent.element.querySelector("."+br).querySelector(ni).cloneNode(!0);if(!this.parent.getFrozenLeftColumnsCount()){const t=this.getFrozenRightHeaderColGroup();e=t&&this.frzCount?t.cloneNode(!0):e,this.frzCount++,this.isColGroupRefresh=!0}return e}getFrozenRightHeaderColGroup(){let e=this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(ni);return e||(e=this.parent.getHeaderContent().querySelector(ni)),e.cloneNode(!0)}setColGroup(e){return this.parent.getFrozenLeftColumnsCount()?super.setColGroup(e):(h(e=this.isColGroupRefresh?e:this.getFrozenRightHeaderColGroup())||(e.id="content-"+e.id),this.isColGroupRefresh=!1,2===this.frzCount&&(this.frzCount=0),this.colgroup=e)}renderEmpty(e){this.parent.getFrozenLeftColumnsCount()?(super.renderEmpty(e),this.getFrozenContent().querySelector(".e-emptyrow").querySelector("td").colSpan=this.parent.getVisibleFrozenLeftCount(),this.parent.getFrozenRightColumnsCount()&&this.renderFrozenLeftWithRightEmptyRow()):this.renderFrozenRightEmptyRowAlone(e),this.parent.notify(Nd,{case:"refreshHeight"})}setHeightToContent(e){this.parent.getFrozenRightColumnsCount()&&(this.getFrozenRightContent().style.height=e.toString()+"px"),this.parent.getFrozenLeftColumnsCount()&&(this.getFrozenContent().style.height=e.toString()+"px"),this.getMovableContent().style.height=e.toString()+"px"}actionComplete(e){super.actionComplete(e)}batchAdd(e){super.batchAdd(e)}getTbody(e){let t;return e===Os?t=this.parent.getFrozenLeftContentTbody():"movable"===e?t=this.parent.getMovableContentTbody():e===Ln&&(t=this.parent.getFrozenRightContentTbody()),t}setIsFrozen(e,t){e.isFrozen=t===Os||"Right"===this.parent.getFrozenMode()&&t===Ln,e.renderFrozenRightContent=this.parent.getFrozenMode()===Lt&&t===Ln,e.renderMovableContent="movable"===t}appendContent(e,t,i,n){!h(this.parent.rowTemplate)&&this.parent.isReact?e=t:e.appendChild(t),"Left"===this.parent.getFrozenMode()?n===Os?(this.isLoaded=!1,this.getFrozenContent().querySelector("table").appendChild(e),this.refreshContentRows(O({},i))):(this.refreshTbody(e),this.isLoaded=!0,this.getMovableContent().querySelector("table").appendChild(e),this.refreshHeight(),this.refreshScrollOffset()):"Right"===this.parent.getFrozenMode()?"movable"===n?(this.refreshTbody(e),this.isLoaded=!0,this.getMovableContent().querySelector("table").appendChild(e),this.refreshHeight(),this.refreshScrollOffset()):(this.isLoaded=!1,this.getFrozenRightContent().querySelector("table").appendChild(e),this.refreshContentRows(O({},i))):this.parent.getFrozenMode()===Lt&&(n===Os?(this.isLoaded=!1,this.getFrozenContent().querySelector("table").appendChild(e),this.refreshContentRows(O({},i))):"movable"===n?(this.refreshTbody(e),this.isLoaded=!1,this.getMovableContent().querySelector("table").appendChild(e),this.refreshContentRows(O({},i))):(this.isLoaded=!0,this.getFrozenRightContent().querySelector("table").appendChild(e),this.refreshHeight(),this.refreshScrollOffset())),this.isInitialRender&&(this.parent.scrollModule.setHeight(),this.isInitialRender=!1),this.widthService.refreshFrozenScrollbar()}refreshHeight(){this.parent.allowTextWrap||this.parent.notify(Nd,{case:"refreshHeight"})}splitRows(e){const t=this.parent.getFrozenLeftColumnsCount(),i=this.parent.getFrozenRightColumnsCount();t&&!i?e===Os?(this.freezeRows=this.rows,this.freezeRowElements=this.rowElements):this.movableRows=this.rows:!t&&i?"movable"===e?this.movableRows=this.rows:(this.freezeRows=this.rows,this.freezeRowElements=this.rowElements):t&&i&&(e===Os?(this.freezeRows=this.rows,this.freezeRowElements=this.rowElements):"movable"===e?(this.movableRows=this.rows,this.movableRowElements=this.rowElements):(this.frozenRightRows=this.rows,this.frozenRightRowElements=this.rowElements))}getMovableRowElements(){return this.parent.getFrozenMode()!==Lt?this.rowElements:this.movableRowElements}getFrozenRightRowElements(){return this.parent.getFrozenMode()!==Lt?this.freezeRowElements:this.frozenRightRowElements}getFrozenRightRows(){return this.parent.getFrozenMode()===Lt?this.parent.enableInfiniteScrolling?this.rightFreezeRows:this.frozenRightRows:this.getRows()}getFrozenRightRowByIndex(e){return this.parent.getFrozenRightDataRows()[e]}getRows(){const e=this.getInfiniteRows();return e.length?e:this.freezeRows}getRowElements(){return this.freezeRowElements}}class NAe extends w4{constructor(e,t){super(e,t),this.frzRows=[],this.mvblRows=[],this.frRows=[],this.serviceLoc=t,this.eventListener("on"),this.rowModelGenerator=new Ph(this.parent)}eventListener(e){this.parent[e](Eg,this.getVirtualData,this),this.parent[e](A5,this.setFreezeSelection,this),this.parent[e](F5,this.refreshVirtualFrozenRows,this),this.parent.addEventListener(yi,this.actionComplete.bind(this))}actionComplete(e){if("delete"===e.requestType&&this.parent.frozenRows)for(let t=0;t<this.parent.frozenRows;t++)ZX(this,t)}refreshVirtualFrozenRows(e){const t=this.parent;if("delete"===e.requestType&&t.frozenRows){e.isFrozenRowsRender=!0;const i=t.renderModule.data.generateQuery(!0).clone();i.page(1,t.pageSettings.pageSize),t.renderModule.data.getData({},i).then(n=>{_4(e,n.result,t.getSelectedRowIndexes(),t,this.rowModelGenerator,this.serviceLoc,this.virtualRenderer,this)})}}getVirtualData(e){this.virtualRenderer.getVirtualData(e)}setFreezeSelection(e){WX(e,this.virtualRenderer)}renderTable(){this.freezeRowGenerator=new fT(this.parent),this.virtualRenderer=new pT(this.parent,this.serviceLoc),this.virtualRenderer.header=this.serviceLoc.getService("rendererFactory").getRenderer(Xs.Header).virtualHdrRenderer,super.renderTable(),this.virtualRenderer.setPanel(this.parent.getContent()),this.scrollbar=this.parent.getContent().querySelector(".e-movablescrollbar");const e=this.getMovableContent(),t=this.parent.height;if(this.virtualRenderer.virtualEle.content=this.virtualRenderer.content=this.getPanel().querySelector("."+Ls),this.virtualRenderer.virtualEle.content.style.overflowX="hidden",this.virtualRenderer.virtualEle.renderFrozenWrapper(t),this.virtualRenderer.virtualEle.renderFrozenPlaceHolder(),this.parent.enableColumnVirtualization){this.virtualRenderer.virtualEle.movableContent=this.virtualRenderer.movableContent=this.getPanel().querySelector("."+hn),this.virtualRenderer.virtualEle.renderMovableWrapper(t),this.virtualRenderer.virtualEle.renderMovablePlaceHolder();const i=e.querySelector("table");this.virtualRenderer.virtualEle.movableTable=i,this.virtualRenderer.virtualEle.movableWrapper.appendChild(i),e.appendChild(this.virtualRenderer.virtualEle.movableWrapper),e.appendChild(this.virtualRenderer.virtualEle.movablePlaceholder)}this.virtualRenderer.virtualEle.wrapper.appendChild(this.getFrozenContent()),this.virtualRenderer.virtualEle.wrapper.appendChild(e),this.virtualRenderer.virtualEle.table=this.getTable(),eJ(this.parent,this.virtualRenderer,this.scrollbar,this.getMovableContent())}appendContent(e,t,i){UX(this.virtualRenderer,this.widthService,e,t,i)}generateRows(e,t){return this.firstPageRecords||(this.firstPageRecords=e),$X(this.virtualRenderer,e,t,this.freezeRowGenerator,this.parent)}getRowByIndex(e){return this.virtualRenderer.getRowByIndex(e)}getMovableRowByIndex(e){return this.virtualRenderer.getMovableVirtualRowByIndex(e)}collectRows(e){return qX(e,this.virtualRenderer,this.parent)}getMovableRows(){return this.collectRows("movable")}getRows(){return this.collectRows("frozen-left")}getColGroup(){const e=this.parent.getMovableVirtualContent();return this.isXaxis()?e.querySelector(ni):this.colgroup}getReorderedFrozenRows(e){return KX(e,this.virtualRenderer,this.parent,0,this.firstPageRecords)}isXaxis(){return qx(this.virtualRenderer)}getHeaderCells(){return YX(this.virtualRenderer,this.parent)}getVirtualFreezeHeader(){return QX(this.virtualRenderer,this.parent)}ensureFrozenCols(e){return XX(e,this.parent)}getRowObjectByIndex(e){return this.virtualRenderer.getRowObjectByIndex(e)}setColGroup(e){return JX(e,this.virtualRenderer,this)}}class VAe extends b4{constructor(e,t){super(e,t),this.serviceLoc=t}renderTable(){this.virtualHdrRenderer=new y4(this.parent,this.serviceLoc),this.virtualHdrRenderer.gen.refreshColOffsets(),this.parent.setColumnIndexesInView(this.virtualHdrRenderer.gen.getColumnIndexes(this.getPanel().querySelector("."+cr))),this.virtualHdrRenderer.virtualEle.content=this.getPanel().querySelector("."+cr),this.virtualHdrRenderer.virtualEle.renderFrozenWrapper(),this.virtualHdrRenderer.virtualEle.renderFrozenPlaceHolder(),this.parent.enableColumnVirtualization&&(this.virtualHdrRenderer.virtualEle.movableContent=this.getPanel().querySelector("."+un),this.virtualHdrRenderer.virtualEle.renderMovableWrapper(),this.virtualHdrRenderer.virtualEle.renderMovablePlaceHolder()),super.renderTable(),this.virtualHdrRenderer.setPanel(this.parent.getHeaderContent())}rfshMovable(){this.getFrozenHeader().appendChild(this.getTable()),this.virtualHdrRenderer.virtualEle.wrapper.appendChild(this.getFrozenHeader()),this.parent.enableColumnVirtualization?this.virtualHdrRenderer.virtualEle.movableWrapper.appendChild(this.createHeader(void 0,"movable")):this.getMovableHeader().appendChild(this.createTable()),this.virtualHdrRenderer.virtualEle.wrapper.appendChild(this.getMovableHeader())}}function _4(r,e,t,i,n,s,o,l){i.clearSelection(),r.startIndex=0;const a=new ya(s,null,i);let c=n.generateRows(e,r);r.renderMovableContent?(o.vgenerator.movableCache[1]=c,c=i.getMovableRowsObject()):r.renderFrozenRightContent||r.renderMovableContent?r.renderFrozenRightContent&&(o.vgenerator.frozenRightCache[1]=c,c=i.getFrozenRightRowsObject()):(o.vgenerator.cache[1]=c,c=i.getRowsObject());const d=r.renderMovableContent||r.renderFrozenRightContent?r.renderMovableContent?i.getHeaderContent().querySelector("."+un).querySelector(Ke):i.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(Ke):i.getHeaderContent().querySelector("."+Fh).querySelector(Ke);d.innerHTML="";for(let u=0;u<i.frozenRows;u++)if(d.appendChild(a.render(c[u],i.getColumns())),t.indexOf(u)>-1){c[u].isSelected=!0;for(let p=0;p<c[u].cells.length;p++)c[u].cells[p].isSelected=!0}r.renderMovableContent?l.mvblRows=o.vgenerator.movableCache[1]:r.renderMovableContent||r.renderFrozenRightContent?r.renderFrozenRightContent&&(l.frRows=o.vgenerator.frozenRightCache[1]):l.frzRows=o.vgenerator.cache[1],r.renderMovableContent=!r.renderMovableContent&&!r.renderFrozenRightContent,r.renderFrozenRightContent=i.getFrozenMode()===Lt&&!r.renderMovableContent&&!r.renderFrozenRightContent,(r.renderMovableContent||r.renderFrozenRightContent)&&(_4(r,e,t,i,n,s,o,l),!r.renderMovableContent&&!r.renderFrozenRightContent&&(r.isFrozenRowsRender=!1))}function HAe(r,e,t){const i=[];for(let n=0;n<r.length;n++)i.push(O({},r[n])),i[n].cells=cT(t,i[n].cells,e);return i}function qX(r,e,t){let n,i=[];r===Os?n=e.vgenerator.cache:"movable"===r?n=e.vgenerator.movableCache:r===Ln&&(n="Right"===t.getFrozenMode()?e.vgenerator.cache:e.vgenerator.frozenRightCache);const s=Object.keys(n);for(let o=0;o<s.length;o++)i=[...i,...HAe(n[s[o]],r,t)];return i}function WX(r,e){const t=Object.keys(e.vgenerator.cache),i=Object.keys(e.vgenerator.movableCache),n=Object.keys(e.vgenerator.frozenRightCache);for(let s=0;s<t.length;s++)S4(r,e.vgenerator.cache[t[s]]);for(let s=0;s<i.length;s++)S4(r,e.vgenerator.movableCache[i[s]]);for(let s=0;s<n.length;s++)S4(r,e.vgenerator.frozenRightCache[n[s]])}function S4(r,e){const t=e.filter(i=>r.clearAll||r.uid===i.uid);for(let i=0;i<t.length;i++){t[i].isSelected=r.set;const n=t[i].cells;for(let s=0;s<n.length;s++)n[s].isSelected=r.set}}function UX(r,e,t,i,n){r.appendContent(t,i,n),e.refreshFrozenScrollbar()}function $X(r,e,t,i,n){let o=[];o=r.vgenerator.generateRows(e,t).map(a=>O({},a));let l=i.generateRows(e,t,o);return n.frozenRows&&"delete"===t.requestType&&1===n.pageSettings.currentPage&&(l=l.slice(n.frozenRows)),l}function KX(r,e,t,i,n){const s=r.virtualInfo.blockIndexes,o=r.virtualInfo.columnIndexes,l=r.virtualInfo.page;r.virtualInfo.blockIndexes=[1,2],r.virtualInfo.page=1,r.renderMovableContent||(r.virtualInfo.columnIndexes=[]);const a=t.getCurrentViewRecords().length;n=t.renderModule.data.dataManager.dataSource.json.slice(0,a);const d=function zAe(r,e,t,i){let n;n=t.renderMovableContent?"movable":t.renderFrozenRightContent?"frozen-right":"frozen-left";for(let s=0,o=r.length;s<o;s++)r[s].cells=cT(e,r[s].cells,n);return r}(e.vgenerator.generateRows(n,r),t,r);return r.virtualInfo.blockIndexes=s,r.virtualInfo.columnIndexes=o,r.virtualInfo.page=l,d.splice(0,t.frozenRows)}function qx(r){let e=!1;return r&&(e="virtualscroll"===r.requestType&&"X"===r.currentInfo.sentinelInfo.axis),e}function YX(r,e){const t=qx(r)?e.getMovableVirtualHeader():e.getHeaderContent();return t?[].slice.call(t.querySelectorAll(".e-headercell:not(.e-stackedheadercell)")):[]}function QX(r,e){let t;return t=qx(r)?e.getMovableVirtualHeader().querySelector("."+Tn):e.getFrozenVirtualHeader().querySelector("."+Tn),t}function XX(r,e){return e.columns.slice(0,e.getFrozenColumns()).concat(r)}function JX(r,e,t){return qx(e)||(h(r)||(r.id="content-"+r.id),t.colgroup=r),t.colgroup}function ZX(r,e){r.virtualRenderer.vgenerator.cache[1]?r.virtualRenderer.vgenerator.cache[1][e]=r.frzRows[e]:r.virtualRenderer.vgenerator.cache[1]=r.frzRows,r.virtualRenderer.vgenerator.movableCache[1]?r.virtualRenderer.vgenerator.movableCache[1][e]=r.mvblRows[e]:r.virtualRenderer.vgenerator.movableCache[1]=r.mvblRows}function eJ(r,e,t,i){const n=r.dataSource instanceof ie&&!r.dataSource.dataSource.offline,s={container:e.content,pageHeight:2*e.getBlockHeight(),debounceEvent:n,axes:r.enableColumnVirtualization?["X","Y"]:["Y"],scrollbar:t,movableContainer:i};e.observer=new f4(e.virtualEle.wrapper,s,e.virtualEle.movableWrapper)}class jAe extends GX{constructor(e,t){super(e,t),this.frRows=[],this.frzRows=[],this.mvblRows=[],this.serviceLoc=t,this.eventListener("on"),this.rowModelGenerator=new Ph(this.parent)}actionComplete(e){if("delete"===e.requestType&&this.parent.frozenRows)for(let t=0;t<this.parent.frozenRows;t++){if(!this.virtualRenderer.vgenerator.frozenRightCache[1]){this.virtualRenderer.vgenerator.frozenRightCache[1]=this.frRows.length?this.frRows:this.frzRows;break}this.virtualRenderer.vgenerator.frozenRightCache[1][t]=this.frRows.length?this.frRows[t]:this.frzRows[t],ZX(this,t)}}eventListener(e){this.parent.addEventListener(yi,this.actionComplete.bind(this)),this.parent[e](F5,this.refreshVirtualFrozenRows,this),this.parent[e](Eg,this.getVirtualData,this),this.parent[e](A5,this.setFreezeSelection,this)}refreshVirtualFrozenRows(e){if("delete"===e.requestType&&this.parent.frozenRows){e.isFrozenRowsRender=!0;const t=this.parent.renderModule.data.generateQuery(!0).clone();t.page(1,this.parent.pageSettings.pageSize);const i=this.parent.getSelectedRowIndexes();this.parent.renderModule.data.getData({},t).then(n=>{_4(e,n.result,i,this.parent,this.rowModelGenerator,this.serviceLoc,this.virtualRenderer,this)})}}setFreezeSelection(e){WX(e,this.virtualRenderer)}getVirtualData(e){this.virtualRenderer.getVirtualData(e)}renderNextFrozentPart(e,t){e.renderMovableContent=this.parent.getFrozenLeftCount()?t===Os:t===Ln,e.renderFrozenRightContent=this.parent.getFrozenMode()===Lt&&"movable"===t,(e.renderMovableContent||e.renderFrozenRightContent)&&this.refreshContentRows(O({},e))}renderTable(){this.virtualRenderer=new pT(this.parent,this.serviceLoc),this.virtualRenderer.header=this.serviceLoc.getService("rendererFactory").getRenderer(Xs.Header).virtualHdrRenderer,this.freezeRowGenerator=new fT(this.parent),super.renderTable(),this.virtualRenderer.setPanel(this.parent.getContent()),this.scrollbar=this.parent.getContent().querySelector(".e-movablescrollbar");const e=this.getFrozenRightContent();let t=this.getFrozenContent();const i=this.getMovableContent();"Right"===this.parent.getFrozenMode()&&(t=e),this.virtualRenderer.virtualEle.content=this.virtualRenderer.content=this.getPanel().querySelector("."+Ls),this.virtualRenderer.virtualEle.content.style.overflowX="hidden",this.virtualRenderer.virtualEle.renderFrozenWrapper(this.parent.height),this.virtualRenderer.virtualEle.renderFrozenPlaceHolder(),this.renderVirtualFrozenLeft(t,i),this.renderVirtualFrozenRight(t,i),this.renderVirtualFrozenLeftRight(t,i,e),this.virtualRenderer.virtualEle.table=this.getTable(),eJ(this.parent,this.virtualRenderer,this.scrollbar,this.getMovableContent())}renderVirtualFrozenLeft(e,t){"Left"===this.parent.getFrozenMode()&&(this.virtualRenderer.virtualEle.wrapper.appendChild(e),this.virtualRenderer.virtualEle.wrapper.appendChild(t))}renderVirtualFrozenRight(e,t){"Right"===this.parent.getFrozenMode()&&(this.virtualRenderer.virtualEle.wrapper.appendChild(t),this.virtualRenderer.virtualEle.wrapper.appendChild(e))}renderVirtualFrozenLeftRight(e,t,i){this.parent.getFrozenMode()===Lt&&(this.virtualRenderer.virtualEle.wrapper.appendChild(e),this.virtualRenderer.virtualEle.wrapper.appendChild(t),this.virtualRenderer.virtualEle.wrapper.appendChild(i))}appendContent(e,t,i){UX(this.virtualRenderer,this.widthService,e,t,i),this.refreshScrollOffset()}generateRows(e,t){return this.firstPageRecords||(this.firstPageRecords=e),$X(this.virtualRenderer,e,t,this.freezeRowGenerator,this.parent)}getRowByIndex(e){return this.virtualRenderer.getRowByIndex(e)}getFrozenRightRowByIndex(e){return this.virtualRenderer.getFrozenRightVirtualRowByIndex(e)}collectRows(e){return qX(e,this.virtualRenderer,this.parent)}getMovableRowByIndex(e){return this.virtualRenderer.getMovableVirtualRowByIndex(e)}getFrozenRightRows(){return this.collectRows("frozen-right")}getMovableRows(){return this.collectRows("movable")}getColGroup(){const e=this.parent.getMovableVirtualContent();return qx(this.virtualRenderer)?e.querySelector(ni):this.colgroup}getRows(){return this.collectRows("Right"===this.parent.getFrozenMode()?"frozen-right":"frozen-left")}getReorderedFrozenRows(e){return KX(e,this.virtualRenderer,this.parent,0,this.firstPageRecords)}getHeaderCells(){return YX(this.virtualRenderer,this.parent)}isXaxis(){return qx(this.virtualRenderer)}getVirtualFreezeHeader(){return QX(this.virtualRenderer,this.parent)}getRowObjectByIndex(e){return this.virtualRenderer.getRowObjectByIndex(e)}ensureFrozenCols(e){return XX(e,this.parent)}setColGroup(e){return JX(e,this.virtualRenderer,this)}}class GAe{constructor(e,t){this.parent=e,this.locator=t,this.addEventListener()}getModuleName(){return"freeze"}addEventListener(){this.parent.isDestroyed||(this.parent.on(Au,this.instantiateRenderer,this),this.parent.on(Ri,this.destroy,this))}instantiateRenderer(){this.parent.log("limitation",this.getModuleName());const e=this.locator.getService("rendererFactory");this.parent.getFrozenColumns()&&(e.addRenderer(Xs.Header,this.parent.enableColumnVirtualization?new VAe(this.parent,this.locator):new b4(this.parent,this.locator)),e.addRenderer(Xs.Content,this.parent.enableVirtualization?new NAe(this.parent,this.locator):new w4(this.parent,this.locator))),(this.parent.getFrozenLeftColumnsCount()||this.parent.getFrozenRightColumnsCount())&&(e.addRenderer(Xs.Header,new BAe(this.parent,this.locator)),e.addRenderer(Xs.Content,this.parent.enableVirtualization?new jAe(this.parent,this.locator):new GX(this.parent,this.locator)))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(Au,this.instantiateRenderer),this.parent.off(Ri,this.destroy))}destroy(){this.removeEventListener()}}const kg="https://ej2.syncfusion.com/documentation/grid",mT="https://ej2.syncfusion.com/documentation/",Ag="[EJ2Grid.Warning]";class I4{constructor(e){this.parent=e,this.parent.on("initial-end",this.patchadaptor,this)}getModuleName(){return"logger"}log(e,t){e instanceof Array||(e=[e]);const i=e;for(let n=0;n<i.length;n++){const s=tJ[i[n]],o=s.check(t,this.parent);o.success&&console[s.logType](s.generateMessage(t,this.parent,o.options))}}patchadaptor(){const e=this.parent.getDataModule().dataManager.adaptor,t=e.beforeSend;t&&(e.beforeSend=(i,n,s)=>{t.call(e,i,n,s)})}destroy(){this.parent.isDestroyed||this.parent.off("initial-end",this.patchadaptor)}}const tJ={module_missing:{type:"module_missing",logType:"warn",check(r,e){const t=e.getInjectedModules().map(n=>n.prototype.getModuleName()),i=e.requiredModules().map(n=>n.member).filter(n=>-1===t.indexOf(n));return{success:i.filter(n=>"resize"!==n).length>0,options:i}},generateMessage:(r,e,t)=>`[EJ2Grid.Warning]: MODULES MISSING\nThe following modules are not injected:.\n${t=t.filter(i=>"resize"!==i).reduce((i,n)=>i+`* ${n}\n`,"")}Refer to ${kg}/module.html for documentation on importing feature modules.`},promise_enabled:{type:"promise_enabled",logType:"error",check:()=>({success:"undefined"==typeof Promise}),generateMessage:()=>`[EJ2Grid.Error]: PROMISE UNDEFINED\nPromise object is not present in the global environment,please use polyfil to support Promise object in your environment.\nRefer to ${mT}/base/browser.html?#required-polyfills for more information.`},primary_column_missing:{type:"primary_column_missing",logType:"warn",check:(r,e)=>({success:0===e.getColumns().filter(t=>t.isPrimaryKey).length}),generateMessage:()=>`[EJ2Grid.Warning]: PRIMARY KEY MISSING\nEditing is enabled but primary key column is not specified.\nRefer to ${kg}/api-column.html?#isprimarykey for documentation on providing primary key columns.`},selection_key_missing:{type:"selection_key_missing",logType:"warn",check:(r,e)=>({success:e.selectionSettings.persistSelection&&0===e.getColumns().filter(t=>t.isPrimaryKey).length}),generateMessage:()=>`[EJ2Grid.Warning]: PRIMARY KEY MISSING\nselectionSettings.persistSelection property is enabled. It requires one primary key column to persist selection.\nRefer to ${kg}/api-column.html?#isprimarykey for documentation on providing primary key columns.`},actionfailure:{type:"actionfailure",logType:"error",check:()=>({success:!0}),generateMessage(r,e){let t="";const i=WAe(r,e),n=UAe(r,e);return t=""!==n?n:""!==i?i:r.error,Ag+": "+t}},locale_missing:{type:"locale_missing",logType:"warn",check(r,e){const t=Ie.getObject(`locale.${e.locale}.grid`,is);return{success:"en-US"!==e.locale&&h(t)}},generateMessage:(r,e)=>`[EJ2Grid.Warning]: LOCALE CONFIG MISSING\nLocale configuration for '${e.locale}' is not provided.\nRefer to ${kg}/globalization-and-localization.html?#localization \n             for documentation on setting locale configuration.`},limitation:{type:"limitation",logType:"warn",check(r,e){let i;switch(r){case"freeze":i={success:e.allowGrouping||!Et(e.detailTemplate)||!Et(e.childGrid)||!Et(e.rowTemplate)||e.enableVirtualization,options:{name:"freeze"}};break;case"virtualization":i={success:!Et(e.detailTemplate)||!Et(e.childGrid)||0!==e.frozenRows||0!==e.frozenColumns,options:{name:"virtualization"}};break;default:i={success:!1}}return i},generateMessage(r,e,t){const i=t.name;let n;switch(i){case"freeze":n="Frozen rows and columns do not support the following features:\n* Virtualization\n* Row Template\n* Details Template\n* Hierarchy Grid\n* Grouping";break;case"virtualization":n="Virtualization does not support the following features.\n* Freeze rows and columns.\n* Details Template.\n* Hierarchy Grid.\n";break;default:n=""}return`[EJ2Grid.Warning]: ${i.toUpperCase()} LIMITATIONS\n`+n}},check_datasource_columns:{type:"check_datasource_columns",logType:"warn",check:(r,e)=>({success:!(e.columns.length||e.dataSource instanceof ie||e.dataSource.length)}),generateMessage:()=>`[EJ2Grid.Warning]: GRID CONFIG MISSING\ndataSource and columns are not provided in the grid. At least one of either must be provided for grid configuration.\nRefer to ${kg}/columns.html for documentation on configuring the grid data and columns.`},virtual_height:{type:"virtual_height",logType:"error",check:(r,e)=>({success:h(e.height)||"auto"===e.height}),generateMessage:()=>`[EJ2Grid.Error]: GRID HEIGHT MISSING \nheight property is required to use virtualization.\nRefer to ${kg}/virtual.html for documentation on configuring the virtual grid.`},grid_remote_edit:{type:"grid_remote_edit",logType:"error",check:r=>({success:Array.isArray(r)||Array.isArray(r.result)}),generateMessage:()=>`[EJ2Grid.Error]: RETRUN VALUE MISSING  \nRemote service returns invalid data. \nRefer to ${kg}/edit.html for documentation on configuring editing with remote data.`},grid_sort_comparer:{type:"grid_sort_comparer",logType:"warn",check:(r,e)=>({success:e.getDataModule().isRemote()}),generateMessage:()=>`[EJ2Grid.Warning]: SORT COMPARER NOT WORKING  \nSort comparer will not work with remote data.Refer to ${kg}/sorting/#custom-sort-comparer for documentation on using the sort comparer.`},resize_min_max:{type:"resize_min_max",logType:"info",check:r=>({success:r.column.minWidth&&r.column.minWidth>=r.width||r.column.maxWidth&&r.column.maxWidth<=r.width}),generateMessage:()=>"[EJ2Grid.Info]: RESIZING COLUMN REACHED MIN OR MAX  \nThe column resizing width is at its min or max."},action_disabled_column:{type:"action_disabled_column",logType:"info",check(r){let t;switch(r.moduleName){case"reorder":t=h(r.destColumn)?`reordering action is disabled for the ${r.column.headerText} column`:`reordering action is disabled for the ${r.column.allowReordering?r.destColumn.headerText:r.column.headerText} column`;break;case"group":t=`grouping action is disabled for the ${r.columnName} column.`;break;case"filter":t=`filtering action is disabled for the ${r.columnName} column.`;break;case"sort":t=`sorting action is disabled for the ${r.columnName} column.`}return{success:!0,options:{fn:t}}},generateMessage:(r,e,t)=>`[EJ2Grid.Info]: ACTION DISABLED \n ${t.fn}`},exporting_begin:{type:"exporting_begin",logType:"info",check:r=>({success:!0,options:{args:r}}),generateMessage:(r,e,t)=>`[EJ2Grid.Info]: EXPORTNIG INPROGRESS \n Grid ${t.args}ing is in progress`},exporting_complete:{type:"exporting_complete",logType:"info",check:r=>({success:!0,options:{args:r}}),generateMessage:(r,e,t)=>`[EJ2Grid.Info]: EXPORTNIG COMPLETED \n Grid ${t.args}ing is complete`},foreign_key_failure:{type:"foreign_key_failure",logType:"error",check:()=>({success:!0}),generateMessage:()=>`[EJ2Grid.Error]: FOREIGNKEY CONFIG \n  Grid foreign key column needs a valid data source/service.Refer to ${kg}/columns/#foreign-key-column for documentation on configuring foreign key columns.`},initial_action:{type:"initial_action",logType:"error",check(r){let t;switch(r.moduleName){case"group":t=`The ${r.columnName} column is not available in the grid's column model.Please provide a valid field name to group the column`;break;case"filter":t=`The ${r.columnName} column is not available in the grid's column model.Please provide a valid field name to filter the column.`;break;case"sort":t=`The ${r.columnName} column is not available in the grid's column model.Please provide a valid field name to sort the column.`}return{success:!0,options:{fn:t}}},generateMessage:(r,e,t)=>`[EJ2Grid.Error]: INITIAL ACTION FAILURE \n ${t.fn}`},frozen_rows_columns:{type:"frozen_rows_columns",logType:"error",check:(r,e)=>({success:e.getColumns().length<=e.frozenColumns||e.frozenRows>=e.currentViewData.length}),generateMessage:(r,e)=>`[EJ2Grid.Error]: OUT OF RANGE ERROR-\n ${e.getColumns().length<=e.frozenColumns?"FROZEN COLUMNS,":""}${e.frozenRows>=e.currentViewData.length?"FROZEN ROWS":""} invalid`},column_type_missing:{type:"column_type_missing",logType:"error",check:r=>({success:h(r.column.type),options:r.column.headerText}),generateMessage:(r,e,t)=>`[EJ2Grid.Error]: COLUMN TYPE MISSING-\n  ${t} column type was invalid or not defined.Please go through below help link: ${mT}/grid/columns/#column-type`},datasource_syntax_mismatch:{type:"datasource_syntax_mismatch",logType:"warn",check:r=>({success:r.dataState.dataSource&&!(r.dataState.dataSource instanceof ie||"result"in r.dataState.dataSource||r.dataState.dataSource instanceof Array)&&!h(r.dataState.dataStateChange)}),generateMessage:()=>Ag+": DATASOURCE SYNTAX WARNING\nDataSource should be in the form of {result: Object[], count: number}when dataStateChangeEvent used"}},WAe=r=>{const e=r.error;return e.indexOf&&0!==e.indexOf("Format options")?"":`INVALID FORMAT\nFor more information, refer to the following documentation links:\nNumber format: ${mT}/base/intl.html?#supported-format-string.\nDate format: ${mT}/base/intl.html?#manipulating-datetime.\nMessage: ${e}`},UAe=r=>{const e=Ie.getObject("error.error",r);if(h(e))return"";let t="";try{t=JSON.parse(e.responseText)}catch(i){t=""}return`XMLHTTPREQUEST FAILED\nUrl: ${e.responseURL}\nStatus: ${e.status} - ${e.statusText}\n${""!==t?"Message: "+t:""}`};class iJ{constructor(e){this.allowEditing=!0,this.edit={},this.disableHtmlEncode=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.allowFiltering=!0,this.allowSorting=!0,this.allowResizing=!0,this.filter={},Nr(this,e)}setProperties(e){const t=Object.keys(e);for(let i=0;i<t.length;i++)this[t[i]]=e[t[i]],this.parent&&this.parent.isReact&&"template"===t[i]&&this.parent.clipboardModule.treeGridParent.renderModule.refreshReactColumnTemplateByUid(this.uid)}}var Al=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Wd extends Nt{}Al([y()],Wd.prototype,"field",void 0),Al([y()],Wd.prototype,"operator",void 0),Al([y()],Wd.prototype,"value",void 0),Al([y()],Wd.prototype,"matchCase",void 0),Al([y()],Wd.prototype,"ignoreAccent",void 0),Al([y()],Wd.prototype,"predicate",void 0),Al([y({})],Wd.prototype,"actualFilterValue",void 0),Al([y({})],Wd.prototype,"actualOperator",void 0),Al([y()],Wd.prototype,"type",void 0),Al([y()],Wd.prototype,"ejpredicate",void 0),Al([y()],Wd.prototype,"uid",void 0),Al([y()],Wd.prototype,"isForeignKey",void 0);class Mg extends Nt{}Al([Hr([],Wd)],Mg.prototype,"columns",void 0),Al([y("FilterBar")],Mg.prototype,"type",void 0),Al([y()],Mg.prototype,"mode",void 0),Al([y(!0)],Mg.prototype,"showFilterBarStatus",void 0),Al([y(1500)],Mg.prototype,"immediateModeDelay",void 0),Al([y()],Mg.prototype,"operators",void 0),Al([y(!1)],Mg.prototype,"ignoreAccent",void 0),Al([y("Parent")],Mg.prototype,"hierarchyMode",void 0);class nJ extends Nt{}!function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);n>3&&s&&Object.defineProperty(e,t,s)}([y("Both")],nJ.prototype,"wrapMode",void 0);const s_="https://ej2.syncfusion.com/documentation/treegrid",yT="https://ej2.syncfusion.com/documentation";let D4=!1;class sJ extends I4{constructor(e){Oe.Inject(I4),super(e)}getModuleName(){return"logger"}log(e,t){e instanceof Array||(e=[e]);const i=e;for(let n=0;n<i.length;n++){const s=tJ[i[n]],o=s.check(t,this.parent);if(o.success){let l=s.generateMessage(t,this.parent,o.options);l=l.replace("EJ2Grid","EJ2TreeGrid").replace("* Hierarchy Grid","").replace("* Grouping",""),D4&&"primary_column_missing"===i[n]&&(l=l.replace("Editing","Row DragAndDrop"),D4=!1);const a=l.indexOf("https"),c=l.substring(a);"module_missing"===i[n]?l=l.replace(c,s_+"/modules"):"primary_column_missing"===i[n]||"selection_key_missing"===i[n]?l=l.replace(c,yT+"/api/treegrid/column/#isprimarykey"):"grid_remote_edit"===i[n]?l=l.replace(c,s_+"/edit"):"virtual_height"===i[n]?l=l.replace(c,s_+"/virtual"):"check_datasource_columns"===i[n]?l=l.replace(c,s_+"/columns"):"locale_missing"===i[n]&&(l=l.replace(c,s_+"/global-local/#localization")),"datasource_syntax_mismatch"===i[n]?!h(this.treeGridObj)&&!h(this.treeGridObj.dataStateChange)&&console[s.logType](l):console[s.logType](l)}}}treeLog(e,t,i){this.treeGridObj=i,e instanceof Array||(e=[e]);const n=e;i.allowRowDragAndDrop&&!i.columns.filter(s=>s.isPrimaryKey).length&&(D4=!0,this.log("primary_column_missing",t));for(let s=0;s<n.length;s++){const o=XAe[n[s]],l=o.check(t,i);if(l.success){const a=o.generateMessage(t,i,l.options);console[o.logType](a)}}}}const XAe={mapping_fields_missing:{type:"mapping_fields_missing",logType:"error",check(r,e){let t={success:!1};return(h(e.idMapping)&&h(e.childMapping)&&h(e.parentIdMapping)||!h(e.idMapping)&&h(e.parentIdMapping)||h(e.idMapping)&&!h(e.parentIdMapping))&&(t={success:!0}),t},generateMessage:()=>`[EJ2TreeGrid.Error]: MAPPING FIELDS MISSING \nOne of the following fields is missing. It is required for the hierarchical relationship of records in TreeGrid:\n* childMapping\n* idMapping\n* parentIdMapping\nRefer to the following documentation links for more details.\n${yT}/api/treegrid#childmapping\n${yT}/api/treegrid#idmapping\n${yT}/api/treegrid#$parentidmapping`}},rJ="rowDataBound",oJ="queryCellInfo",lJ="beforeDataBound",xT="actionBegin",aJ="dataStateChange",Wx="actionComplete",CT="rowSelected",cJ="checkboxChange",wT="rowDeselected",bT="toolbarClick",_T="expanded",dJ="collapsed",E4="remoteExpand",j0="localPagedExpandCollapse",Yf="pagingActions",hJ="printGrid-Init",uJ="contextMenuOpen",pJ="contextMenuClick",T4="crudAction",ST="beginEdit",IT="beginAdd",DT="recordDoubleClick",R4="cellSave",ET="cellSaved",TT="cellEdit",gJ="batchDelete",RT="batchCancel",kT="batchAdd",AT="beforeBatchDelete",MT="beforeBatchAdd",FT="beforeBatchSave",r_="batchSave",fJ="key-pressed",mJ="double-tap",o_="virtual-action-args",vJ="destroy",yJ="data-listener",k4="index-modifier",xJ="edit-form",CJ="before-batch-cancel";class pMe extends dX{constructor(e){super(e.grid),this.treeCopyContent="",this.copiedUniqueIdCollection=[],this.treeGridParent=e}setCopyData(e){const t="copyContent",i="getCopyData",o=this.treeGridParent.getCurrentViewRecords();if(""===window.getSelection().toString()){this.clipBoardTextArea.value=this[t]="";const l=this.treeGridParent.grid.getRows();if("Cell"!==this.treeGridParent.selectionSettings.mode){const a=this.treeGridParent.getSelectedRowIndexes().sort((d,u)=>d-u);for(let d=0;d<a.length;d++)if(d>0&&(this.treeCopyContent+="\n"),!l[a[d]].classList.contains("e-summaryrow")){const u=[].slice.call(l[a[d]].querySelectorAll(".e-rowcell")),p=this.treeGridParent.getSelectedRecords()[d].uniqueID;-1===this.copiedUniqueIdCollection.indexOf(p)&&(("Parent"===this.treeGridParent.copyHierarchyMode||"Both"===this.treeGridParent.copyHierarchyMode)&&this.parentContentData(o,a[d],l,e,d),this[i](u,!1,"\t",e),this.treeCopyContent+=this[t],this.copiedUniqueIdCollection.push(p),this[t]="",("Child"===this.treeGridParent.copyHierarchyMode||"Both"===this.treeGridParent.copyHierarchyMode)&&this.childContentData(o,a[d],l,e))}if(e){const d=[];for(let u=0;u<this.treeGridParent.getVisibleColumns().length;u++)d[u]=this.treeGridParent.getVisibleColumns()[u].headerText;this[i](d,!1,"\t",e),this.treeCopyContent=this[t]+"\n"+this.treeCopyContent}const c={data:this.treeCopyContent,cancel:!1};if(this.treeGridParent.trigger("beforeCopy",c),c.cancel)return;this.clipBoardTextArea.value=this[t]=c.data,A.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this.isSelect=!0,this.copiedUniqueIdCollection=[],this.treeCopyContent=""}else super.setCopyData(e)}}parentContentData(e,t,i,n,s){const l="copyContent",a="parentItem",c="uniqueID";if(!h(e[t][a])){const u=e[t][a].level;for(let p=0;p<u+1;p++)for(let g=0;g<e.length;g++)if(!h(e[t][a])&&e[g][c]===e[t][a][c]){const f=[].slice.call(i[t=g].querySelectorAll(".e-rowcell")),m=e[g][c];if(-1===this.copiedUniqueIdCollection.indexOf(m)){this.getCopyData(f,!1,"\t",n),this.treeCopyContent=s>0?this.treeCopyContent+this[l]+"\n":this[l]+"\n"+this.treeCopyContent,this.copiedUniqueIdCollection.push(m),this[l]="";break}}}}copy(e){super.copy(e)}paste(e,t,i){super.paste(e,t,i)}getModuleName(){return"clipboard"}destroy(){super.destroy()}childContentData(e,t,i,n){const o="copyContent",c="uniqueID";if(e[t].hasChildRecords){const d=e[t].childRecords;for(let u=0;u<d.length;u++)for(let p=0;p<e.length;p++)if(!h(d[u][c])&&e[p][c]===d[u][c]){if(!h(i[p])&&!i[p].classList.contains("e-summaryrow")){const g=[].slice.call(i[p].querySelectorAll(".e-rowcell")),f=e[p][c];-1===this.copiedUniqueIdCollection.indexOf(f)&&(this.getCopyData(g,!1,"\t",n),this.treeCopyContent+="\n"+this[o],this[o]="",this.copiedUniqueIdCollection.push(f),this.childContentData(e,p,i,n))}break}}}}function $s(r){if(r.dataSource instanceof ie){const e=r.dataSource.adaptor;return e instanceof au||e instanceof T1e||e instanceof R1e||e instanceof Pq||e instanceof ca}return!1}function Ps(r){return!(!r.dataSource||!("result"in r.dataSource))}function bJ(r){return!((h(r.grid.searchSettings.key)||""===r.grid.searchSettings.key||"Child"!==r.searchSettings.hierarchyMode&&"None"!==r.searchSettings.hierarchyMode)&&(!r.allowFiltering||!r.grid.filterSettings.columns.length||"Child"!==r.filterSettings.hierarchyMode&&"None"!==r.filterSettings.hierarchyMode))}function Ap(r,e,t){const i=h(e.parentItem)?null:no(r,e.parentItem.uniqueID);let n;return null==i||(!r.initialRender||h(i[r.expandStateMapping])||i[r.expandStateMapping]?!1!==i.expanded&&(!i.parentItem||(n=no(r,i.parentItem.uniqueID),n&&r.initialRender&&!h(n[r.expandStateMapping])&&!n[r.expandStateMapping]?(n.expanded=!1,!1):(!n||!1!==n.expanded)&&(!n||Ap(r,n,t)))):(i.expanded=!1,!1))}function Fo(r){let e=[];if(h(r)||!r.hasChildRecords&&!h(r.childRecords)&&!r.childRecords.length)return[];if(!h(r.childRecords)){const t=r.childRecords;for(let n=0,s=Object.keys(t).length;n<s;n++)e.push(t[n]),(t[n].hasChildRecords||!h(t[n].childRecords)&&t[n].childRecords.length)&&(e=[...e,...Fo(t[n])])}return e}function wa(r){return!$s(r)||!h(r.dataSource.ready)}function Ud(r){const e=[];let t,i;for(let n=0;r&&n<r.length;n++){i=Object.keys(r[n]),t={};for(let s=0;s<i.length;s++)t[i[s]]=r[n][i[s]];e.push(t)}return e}function l_(r){return delete r.hasChildRecords,delete r.childRecords,delete r.index,delete r.parentItem,delete r.level,delete r.taskData,delete r.uniqueID,r}function no(r,e,t){return t?r.uniqueIDFilterCollection[e]:r.uniqueIDCollection[e]}function _J(r){const e=window.getComputedStyle(r);return"none"===e.display||"hidden"===e.visibility}class SJ{constructor(e){this.parent=e,this.selectedItems=[],this.selectedIndexes=[],this.filteredList=[],this.addEventListener()}getModuleName(){return"selection"}addEventListener(){this.parent.on("dataBoundArg",this.headerCheckbox,this),this.parent.on("columnCheckbox",this.columnCheckbox,this),this.parent.on("updateGridActions",this.updateGridActions,this),this.parent.grid.on("colgroup-refresh",this.headerCheckbox,this),this.parent.on("checkboxSelection",this.checkboxSelection,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("dataBoundArg",this.headerCheckbox),this.parent.off("columnCheckbox",this.columnCheckbox),this.parent.grid.off("colgroup-refresh",this.headerCheckbox),this.parent.off("checkboxSelection",this.checkboxSelection),this.parent.off("updateGridActions",this.updateGridActions))}destroy(){this.removeEventListener()}checkboxSelection(e){const t=Mt("target",e),i=Ce(t,"e-checkbox-wrapper");let n;if(i&&i.querySelectorAll(".e-treecheckselect").length>0){n=i.querySelector('input[type="checkbox"]');const s=[];s.push(t.closest("tr").rowIndex),this.selectCheckboxes(s),this.triggerChkChangeEvent(n,n.nextElementSibling.classList.contains("e-check"),t.closest("tr"))}else if(i&&i.querySelectorAll(".e-treeselectall").length>0&&this.parent.autoCheckHierarchy){const s=!i.querySelector(".e-frame").classList.contains("e-check")&&!i.querySelector(".e-frame").classList.contains("e-stop");this.headerSelection(s),n=i.querySelector('input[type="checkbox"]'),this.triggerChkChangeEvent(n,s,t.closest("tr"))}}triggerChkChangeEvent(e,t,i){const n=this.parent.getCurrentViewRecords()[i.rowIndex],s={checked:t,target:e,rowElement:i,rowData:e.classList.contains("e-treeselectall")?this.parent.getCheckedRecords():n};this.parent.trigger(cJ,s)}getCheckboxcolumnIndex(){let e,t;const s=this.parent.stackedHeader?this.parent.columnModel:this.parent.columns;for(let l=0;l<s.length;l++)s[l].showCheckbox&&(e=s[l].uid);const o=this.parent.getHeaderContent().querySelectorAll(".e-headercelldiv").length;for(let l=0;l<o;l++)this.parent.getHeaderContent().querySelectorAll(".e-headercelldiv")[l].getAttribute("e-mappinguid")===e&&(t=l);return t}headerCheckbox(){if(this.columnIndex=this.getCheckboxcolumnIndex(),this.columnIndex>-1&&0===this.parent.getHeaderContent().querySelectorAll(".e-treeselectall").length){const e=this.parent.getHeaderContent().querySelectorAll(".e-headercelldiv")[this.columnIndex],t=!1,i=this.parent.createElement("input",{className:"e-treeselectall",attrs:{type:"checkbox"}}),n=tl(this.parent.createElement,!1,{checked:t,label:" "});n.classList.add("e-hierarchycheckbox"),n.insertBefore(i.cloneNode(),n.firstChild),h(e)||e.insertBefore(n,e.firstChild),this.parent.autoCheckHierarchy&&this.headerSelection()}else if(this.columnIndex>-1&&this.parent.getHeaderContent().querySelectorAll(".e-treeselectall").length>0){const t=this.parent.getHeaderContent().querySelectorAll(".e-checkbox-wrapper")[0].querySelector(".e-frame").classList.contains("e-check");this.parent.autoCheckHierarchy&&t&&this.headerSelection(t)}}renderColumnCheckbox(e){const t=this.parent.createElement("input",{className:"e-treecheckselect",attrs:{type:"checkbox"}}),i=e.data;e.cell.classList.add("e-treegridcheckbox"),e.cell.setAttribute("aria-label","checkbox");const n=!(h(i.checkboxState)||"uncheck"===i.checkboxState),s=tl(this.parent.createElement,!1,{checked:n,label:" "});return s.classList.add("e-hierarchycheckbox"),this.parent.allowTextWrap&&(s.querySelector(".e-frame").style.width="18px"),"indeterminate"===i.checkboxState&&(T([s.querySelectorAll(".e-frame")[0]],["e-check","e-stop","e-uncheck"]),s.querySelector(".e-frame").classList.add("e-stop")),s.insertBefore(t.cloneNode(),s.firstChild),s}columnCheckbox(e){const t=this.renderColumnCheckbox(e),i=e.cell.querySelector(".e-treecolumn-container");if(h(i)){const n=this.parent.createElement("span",{className:"e-treecheckbox"}),s=e.cell.innerHTML;e.cell.innerHTML="",n.innerHTML=s;const o=this.parent.createElement("div",{className:"e-treecheckbox-container"});o.appendChild(t),o.appendChild(n),e.cell.appendChild(o)}else e.cell.querySelector(".e-hierarchycheckbox")||i.insertBefore(t,i.querySelectorAll(".e-treecell")[0])}selectCheckboxes(e){for(let t=0;t<e.length;t++){let i=this.parent.getCurrentViewRecords()[e[t]];const n=no(this.parent,i.uniqueID);i=n;const s="uncheck"===i.checkboxState?"check":"uncheck";i.checkboxState=s;const o=Object.keys(i);for(let l=0;l<o.length;l++)Object.prototype.hasOwnProperty.call(n,o[l])&&(n[o[l]]=i[o[l]]);this.traverSelection(i,s,!1),this.parent.autoCheckHierarchy&&this.headerSelection()}}traverSelection(e,t,i){let n=0;if(this.updateSelectedItems(e,t),!i&&e.parentItem&&this.parent.autoCheckHierarchy&&this.updateParentSelection(e.parentItem),e.childRecords&&this.parent.autoCheckHierarchy){let s=e.childRecords;!h(this.parent.filterModule)&&this.parent.filterModule.filteredResult.length>0&&this.parent.autoCheckHierarchy&&(s=this.getFilteredChildRecords(s)),n=s.length;for(let o=0;o<n;o++)s[o].isSummaryRow||(s[o].hasChildRecords?this.traverSelection(s[o],t,!0):this.updateSelectedItems(s[o],t))}}getFilteredChildRecords(e){return e.filter(i=>this.parent.filterModule.filteredResult.indexOf(i)>-1)}updateParentSelection(e){let t=0,i=[];const n=no(this.parent,e.uniqueID);n&&n.childRecords&&(i=n.childRecords),!h(this.parent.filterModule)&&this.parent.filterModule.filteredResult.length>0&&this.parent.autoCheckHierarchy&&(i=this.getFilteredChildRecords(i)),t=i&&i.length;let s=0,o=0;if(!h(n)){for(let l=0;l<i.length;l++){const c=no(this.parent,i[l].uniqueID);h(c)||("indeterminate"===c.checkboxState?s++:"check"===c.checkboxState&&o++)}n.checkboxState=s>0||o>0&&o!==t?"indeterminate":0===o&&0===s?"uncheck":"check",this.updateSelectedItems(n,n.checkboxState),n.parentItem&&this.updateParentSelection(n.parentItem)}}headerSelection(e){let t=-1,i=0;if(!h(this.parent.filterModule)&&this.parent.filterModule.filteredResult.length>0){const o=this.parent.filterModule.filteredResult;(0===this.filteredList.length||this.filteredList!==o)&&(this.filteredList=o)}this.filteredList.length>0&&!this.parent.filterSettings.columns.length&&this.filteredList.length&&(this.filteredList=[]);let n=!h(this.parent.filterModule)&&this.filteredList.length>0?this.filteredList:this.parent.flatData;if(n=$s(this.parent)?this.parent.getCurrentViewRecords():n,!h(e))for(let o=0;o<n.length;o++)if(e){if("check"===n[o].checkboxState)continue;n[o].checkboxState="check",this.updateSelectedItems(n[o],n[o].checkboxState)}else t=this.selectedItems.indexOf(n[o]),t>-1&&(n[o].checkboxState="uncheck",this.updateSelectedItems(n[o],n[o].checkboxState),this.parent.autoCheckHierarchy&&this.updateParentSelection(n[o]));!1===e&&this.parent.enableVirtualization&&(this.selectedItems=[],this.selectedIndexes=[],n.filter(o=>{o.checkboxState="uncheck",this.updateSelectedItems(o,o.checkboxState)})),i=this.selectedItems.length;const s=this.parent.getHeaderContent().querySelectorAll(".e-frame")[0];i>0&&n.length>0?i===n.length||e?(T([s],["e-stop"]),s.classList.add("e-check")):(T([s],["e-check"]),s.classList.add("e-stop")):T([s],["e-check","e-stop"])}updateSelectedItems(e,t){const i=this.parent.getCurrentViewRecords().filter(c=>c.uniqueID===e.uniqueID);let n;const s=this.parent.getCurrentViewRecords().indexOf(i[0]),o=no(this.parent,e.uniqueID);let l;if(s>-1){const c=this.parent.getRows()[s];let d;(this.parent.frozenRows||this.parent.getFrozenColumns())&&(d=this.parent.getMovableDataRows()[s]),l=c.querySelectorAll(".e-frame")[0]?c.querySelectorAll(".e-frame")[0]:d.querySelectorAll(".e-frame")[0],h(l)||T([l],["e-check","e-stop","e-uncheck"])}if(n=o,h(n)&&(n=e),n.checkboxState=t,"check"===t&&h(e.isSummaryRow))-1!==s&&-1===this.selectedIndexes.indexOf(s)&&this.selectedIndexes.push(s),-1===this.selectedItems.indexOf(n)&&-1!==s&&!h(this.parent.filterModule)&&this.parent.filterModule.filteredResult.length>0&&this.selectedItems.push(n),-1===this.selectedItems.indexOf(n)&&this.parent.enableVirtualization&&!h(this.parent.filterModule)&&this.parent.filterModule.filteredResult.length>0&&this.selectedItems.push(n),-1===this.selectedItems.indexOf(n)&&!h(this.parent.filterModule)&&0===this.parent.filterModule.filteredResult.length&&this.selectedItems.push(n),-1===this.selectedItems.indexOf(n)&&h(this.parent.filterModule)&&this.selectedItems.push(n);else if(("uncheck"===t||"indeterminate"===t)&&h(e.isSummaryRow)){const c=this.selectedItems.indexOf(n);if(-1!==c&&this.selectedItems.splice(c,1),-1!==this.selectedIndexes.indexOf(s)){const d=this.selectedIndexes.indexOf(s);this.selectedIndexes.splice(d,1)}}const a="indeterminate"===t?"e-stop":"e-"+t;s>-1&&(h(l)||l.classList.add(a))}updateGridActions(e){const t=e.requestType;let i,n;if(function gMe(r){for(let e=0;e<r.columns.length;e++)if(r.columns[e].showCheckbox)return!0;return!1}(this.parent)&&this.parent.autoCheckHierarchy)if("sorting"===t||"paging"===t){const s=this.parent.grid.getRows();i=this.parent.getCurrentViewRecords(),n=i.length,this.selectedIndexes=[];for(let o=0;o<n;o++)s[o].classList.contains("e-summaryrow")||this.updateSelectedItems(i[o],i[o].checkboxState)}else if("delete"===t||"add"===e.action){let s=[];"delete"===t?s=e.data:s.push(e.data);for(let o=0;o<s.length;o++){if("delete"===t){const l=this.parent.flatData.indexOf(s[o]),a=this.selectedIndexes.indexOf(l);this.selectedIndexes.splice(a,1),this.updateSelectedItems(s[o],"uncheck")}h(s[o].parentItem)||this.updateParentSelection(s[o].parentItem)}}else"add"===e.requestType&&this.parent.autoCheckHierarchy?e.data.checkboxState="uncheck":("filtering"===t||"searching"===t||"refresh"===t&&!$s(this.parent))&&(this.selectedItems=[],this.selectedIndexes=[],i=!h(this.parent.filterModule)&&this.parent.filterModule.filteredResult.length>0?this.parent.getCurrentViewRecords():this.parent.flatData,i.forEach(s=>{if(this.parent.enableVirtualization){s.hasChildRecords?this.updateParentSelection(s):this.updateSelectedItems(s,s.checkboxState);let o=Fo(s);o=this.getFilteredChildRecords(o);for(let l=0;l<o.length;l++)o[l].hasChildRecords?this.updateParentSelection(o[l]):!o[l].hasChildRecords&&!h(o[l])&&this.updateSelectedItems(o[l],o[l].checkboxState)}else s.hasChildRecords?this.updateParentSelection(s):this.updateSelectedItems(s,s.checkboxState)}),this.headerSelection())}getCheckedrecords(){return this.selectedItems}getCheckedRowIndexes(){return this.selectedIndexes}}class IJ{constructor(e){Oe.Inject(GAe),this.parent=e,this.addEventListener()}addEventListener(){this.parent.on("rowExpandCollapse",this.rowExpandCollapse,this),this.parent.on("dataBoundArg",this.dataBoundArg,this),this.parent.grid.on("dblclick",this.dblClickHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("rowExpandCollapse",this.rowExpandCollapse),this.parent.off("dataBoundArg",this.dataBoundArg),this.parent.grid.off("dblclick",this.dblClickHandler))}rowExpandCollapse(e){const t=this.parent.getMovableDataRows(),i=this.parent.getRows();let n,s;const o=this.parent.getFrozenLeftColumnsCount()>0||this.parent.getFrozenRightColumnsCount()>0;o&&(s=this.parent.getFrozenRightRows().filter(l=>l.querySelector(".e-gridrowindex"+e.record.index+"level"+(e.record.level+1)))),n=e.detailrows.length?e.detailrows:t.filter(l=>l.querySelector(".e-gridrowindex"+e.record.index+"level"+(e.record.level+1)));for(let l=0;l<n.length;l++){const a=this.parent.grid.getRowObjectFromUID(n[l].getAttribute("data-Uid")).data;if(n[l].style.display=e.action,o&&(s[l].style.display=e.action),i[n[l].rowIndex].querySelector("none"===e.action?".e-treecolumn-container .e-treegridcollapse":".e-treecolumn-container .e-treegridexpand")){const d=[];for(let u=0;u<t.length;u++)t[u].querySelector(".e-gridrowindex"+a.index+"level"+(a.level+1))&&d.push(t[u]);d.length&&this.rowExpandCollapse({detailrows:d,action:e.action})}}}dblClickHandler(e){Ce(e.target,"e-rowcell")&&this.parent.grid.editSettings.allowEditOnDblClick&&"Cell"!==this.parent.editSettings.mode&&this.parent.grid.editModule.startEdit(Ce(e.target,"e-row"))}dataBoundArg(){this.parent.getColumns().filter(t=>t.showCheckbox).length&&this.parent.freezeModule&&this.parent.initialRender&&_([this.parent.element.getElementsByClassName("e-grid")[0]],"e-checkselection")}destroy(){this.removeEventListener()}getModuleName(){return"freeze"}}class mMe{constructor(e){this.parent=e,Oe.Inject(JE),this.addEventListener()}getModuleName(){return"print"}addEventListener(){this.parent.grid.on(hJ,this.printTreeGrid,this)}removeEventListener(){this.parent.grid.off(hJ,this.printTreeGrid)}printTreeGrid(e){const t=Mt("printgrid",e),i=Mt("element",e);t.addEventListener(oJ,this.parent.grid.queryCellInfo),t.addEventListener(rJ,this.parent.grid.rowDataBound),t.addEventListener(lJ,this.parent.grid.beforeDataBound),_([i],"e-treegrid")}print(){this.parent.grid.print()}destroy(){this.removeEventListener()}}var a_=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Ux extends Nt{}a_([y()],Ux.prototype,"fields",void 0),a_([y(!1)],Ux.prototype,"ignoreCase",void 0),a_([y("contains")],Ux.prototype,"operator",void 0),a_([y()],Ux.prototype,"key",void 0),a_([y()],Ux.prototype,"hierarchyMode",void 0);var G0=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Qf extends Nt{}G0([y("Row")],Qf.prototype,"mode",void 0),G0([y("Flow")],Qf.prototype,"cellSelectionMode",void 0),G0([y("Single")],Qf.prototype,"type",void 0),G0([y(!1)],Qf.prototype,"persistSelection",void 0),G0([y("Default")],Qf.prototype,"checkboxMode",void 0),G0([y(!1)],Qf.prototype,"checkboxOnly",void 0),G0([y(!0)],Qf.prototype,"enableToggle",void 0);class vMe{constructor(e){this.parent=e,this.templateResult=null,this.parent.grid.on("template-result",this.columnTemplateResult,this),this.parent.grid.on("reactTemplateRender",this.reactTemplateRender,this)}RowModifier(e){if(!e.data)return;const t=e.data,i=t.parentItem;if(!h(t.parentItem)&&!bJ(this.parent)&&(!(this.parent.allowPaging&&"Root"!==this.parent.pageSettings.pageSizeMode)||$s(this.parent)&&!wa(this.parent))&&(this.parent.initialRender&&(!(h(i[this.parent.expandStateMapping])||i[this.parent.expandStateMapping])||this.parent.enableCollapseAll)||!Ap(this.parent,e.data,this.parent.grid.getCurrentViewRecords()))&&(e.row.style.display="none"),$s(this.parent)&&!wa(this.parent)){const s=this.parent,o=this.parent.getCurrentViewRecords().filter(l=>M(s.idMapping,l)===M(s.parentIdMapping,t));o.length>0&&e.row.setAttribute("style","display: "+(o[0].expanded?"table-row":"none")+";")}Mt("isSummaryRow",e.data)&&_([e.row],"e-summaryrow"),e.row.querySelector(".e-treegridexpand")?e.row.setAttribute("aria-expanded","true"):e.row.querySelector(".e-treegridcollapse")&&e.row.setAttribute("aria-expanded","false"),this.parent.enableCollapseAll&&this.parent.initialRender&&(h(t.parentItem)||(e.row.style.display="none")),this.parent.trigger(rJ,e)}cellRender(e){if(!e.data)return;const t=this.parent.grid,i=e.data;let n;const o=h(i.filterLevel)?i.level:i.filterLevel;let a,l=0;const c=this.parent.getColumnByUid(e.column.uid),d=i.isSummaryRow,u=this.parent.getFrozenColumns();let p;if(n=h(i.parentItem)?i.index:i.parentItem.index,p=this.parent.enableColumnVirtualization&&!this.parent.initialRender?this.parent.getVirtualColIndexByUid(e.column.uid):t.getColumnIndexByUid(e.column.uid),p!==this.parent.treeColumnIndex||"add"!==e.requestType&&"rowDragAndDrop"!==e.requestType&&"delete"!==e.requestType&&!h(e.cell.querySelector(".e-treecell")))this.templateResult&&(this.templateResult=null);else{const m=Xe("div",{className:"e-treecolumn-container"}),v=Xe("span",{className:"e-icons e-none",styles:"width: 10px; display: inline-block"});for(let w=0;w<o;w++)l+=10,m.appendChild(v.cloneNode());let x=h(i.hasFilteredChildRecords)?i.hasChildRecords:i.hasFilteredChildRecords;if(x&&!h(i.childRecords)&&(x=0!==i.childRecords.length),x){_([e.cell],"e-treerowcell");const w=Xe("span",{className:"e-icons"});let b;b=this.parent.initialRender?i.expanded&&(h(i[this.parent.expandStateMapping])||i[this.parent.expandStateMapping])&&!this.parent.enableCollapseAll:!(!i.expanded||!Ap(this.parent,i,this.parent.grid.getCurrentViewRecords())),_([w],b?"e-treegridexpand":"e-treegridcollapse"),l+=18,m.appendChild(w),v.style.width="7px",l+=7,m.appendChild(v.cloneNode())}else(o||!o&&!i.level)&&(l+=20,m.appendChild(v.cloneNode()),m.appendChild(v.cloneNode()));a=Xe("span",{className:"e-treecell"}),this.parent.allowTextWrap&&(a.style.width="Calc(100% - "+l+"px)"),_([e.cell],"e-gridrowindex"+n+"level"+i.level),this.updateTreeCell(e,a),m.appendChild(a),e.cell.appendChild(m)}if(t.getFrozenLeftColumnsCount()>0||t.getFrozenRightColumnsCount()>0){const m=t.getFrozenRightColumns(),v=t.getFrozenLeftColumns(),x=t.getMovableColumns();(m.length>0&&m[0].field===e.column.field||v.length>0&&v[0].field===e.column.field||x.length>0&&x[0].field===e.column.field)&&_([e.cell],"e-gridrowindex"+n+"level"+i.level)}else(u>this.parent.treeColumnIndex&&u>0&&t.getColumnIndexByUid(e.column.uid)===u||u<this.parent.treeColumnIndex&&u>0&&(t.getColumnIndexByUid(e.column.uid)===u||t.getColumnIndexByUid(e.column.uid)===u-1)||u===this.parent.treeColumnIndex&&u>0&&t.getColumnIndexByUid(e.column.uid)===this.parent.treeColumnIndex-1)&&_([e.cell],"e-gridrowindex"+n+"level"+i.level);if(!h(c)&&c.showCheckbox&&(this.parent.notify("columnCheckbox",e),this.parent.allowTextWrap)){const m=e.cell.querySelectorAll(".e-frame")[0];l+=parseInt(m.style.width,16),l+=10,a=t.getColumnIndexByUid(e.column.uid)===this.parent.treeColumnIndex?e.cell.querySelector(".e-treecell"):e.cell.querySelector(".e-treecheckbox"),a.style.width="Calc(100% - "+l+"px)"}if(d){_([e.cell],"e-summarycell");const m=Mt(e.column.field,e.data);null!=e.cell.querySelector(".e-treecell")?e.cell.querySelector(".e-treecell").innerHTML=m:e.cell.innerHTML=m}h(this.parent.rowTemplate)&&this.parent.trigger(oJ,e)}updateTreeCell(e,t){const n=M("columnModel",this.parent)[this.parent.treeColumnIndex],s="templateFn",o=e.column.index;h(n.field)&&e.cell.setAttribute("aria-colindex",o+""),n.field===e.column.field&&!h(n.template)&&(e.column.template=n.template,e.column[s]=Jl(e.column.template),e.cell.classList.add("e-templatecell"));const l=null!=e.cell.querySelector(".e-treecell")?e.cell.querySelector(".e-treecell").innerHTML:e.cell.innerHTML;if("object"==typeof e.column.template&&this.templateResult)Ur(t,this.templateResult),this.templateResult=null,e.cell.innerHTML="";else if(e.cell.classList.contains("e-templatecell")){let a=e.cell.children.length;const c=this.parent.element.id+e.column.uid;if(n.field!==e.column.field||h(n.template))for(let d=0;d<a;a=e.cell.children.length)t.appendChild(e.cell.children[d]);else{const d="portals",u="renderReactTemplates";if(this.parent.isReact&&"string"!=typeof e.column.template)e.column[s](e.data,this.parent,"template",c,null,null,t),h(this.parent.grid[d])&&(this.parent.grid[d]=this.parent[d]),this.parent.notify("renderReactTemplate",this.parent[d]),this.parent[u]();else{const p="isStringTemplate";Ur(t,e.column[s](jf({index:""},e.data),this.parent,"template",c,this.parent[p]))}delete e.column.template,delete e.column[s],e.cell.innerHTML=""}}else t.innerHTML=l,e.cell.innerHTML=""}refreshReactColumnTemplateByUid(e){this.parent.isReact&&this.parent.clearTemplate(["columnTemplate"],void 0,()=>{const n=this.parent.grid.getRowsObject(),s=this.parent.grid.getIndentCount(),o=this.parent.grid.getNormalizedColumnIndex(e);for(let l=0;l<n.length;l++)if(n[l].isDataRow&&!h(n[l].index)){const a=n[l].cells[o],c=new xa(this.parent.grid,this.parent.grid.serviceLocator),d=this.parent.getCellFromIndex(n[l].index,o-s);c.refreshTD(d,a,n[l].data,{index:n[l].index});const u=this.parent.getRows()[l].cells[o];this.cellRender({data:n[l].data,cell:u,column:a.column})}})}columnTemplateResult(e){this.templateResult=e.template}reactTemplateRender(e){const i="portals";this.parent[i]=e,this.parent.notify("renderReactTemplate",this.parent[i]),this.parent.renderReactTemplates()}destroy(){this.parent.grid.off("template-result",this.columnTemplateResult),this.parent.grid.off("reactTemplateRender",this.reactTemplateRender)}}class yMe{constructor(e){this.addedRecords="addedRecords",this.parent=e,this.parentItems=[],this.taskIds=[],this.hierarchyData=[],this.storedIndex=-1,this.sortedData=[],this.isSortAction=!1,this.addEventListener(),this.dataResults={},this.isSelfReference=!h(this.parent.parentIdMapping)}addEventListener(){this.parent.on("updateRemoteLevel",this.updateParentRemoteData,this),this.parent.grid.on("sorting-begin",this.beginSorting,this),this.parent.on("updateAction",this.updateData,this),this.parent.on(E4,this.collectExpandingRecs,this),this.parent.on("dataProcessor",this.dataProcessor,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off(E4,this.collectExpandingRecs),this.parent.off("updateRemoteLevel",this.updateParentRemoteData),this.parent.off("updateAction",this.updateData),this.parent.off("dataProcessor",this.dataProcessor),this.parent.grid.off("sorting-begin",this.beginSorting))}destroy(){this.removeEventListener()}isRemote(){return this.parent.dataSource instanceof ie}convertToFlatData(e){if(this.parent.flatData=0!==Object.keys(e).length||this.parent.dataSource instanceof ie?[]:this.parent.dataSource,this.parent.parentData=[],$s(this.parent)&&!wa(this.parent)&&e instanceof ie&&!(e instanceof Array)){const t=this.parent.dataSource;if(this.parent.parentIdMapping){if(this.parent.query=h(this.parent.query)?new Ze:this.parent.query,this.parent.parentIdMapping){const i=this.parent.query.params.filter(n=>"IdMapping"===n.key);this.parent.initialRender&&!i.length&&(this.parent.query.where(this.parent.parentIdMapping,"equal",null),this.parent.query.addParams("IdMapping",this.parent.idMapping))}if(!this.parent.hasChildMapping){let i=this.parent.query.clone();i.queries=[],i=i.select([this.parent.parentIdMapping]),i.isCountRequired=!0,t.executeQuery(i).then(n=>{this.parentItems=Ie.distinct(n.result,this.parent.parentIdMapping,!1),0===Mt("dataSource.requests",this.parent).filter(o=>"OK"!==o.httpRequest.statusText).length&&(Ne("grid.contentModule.isLoaded",!0,this.parent),h(this.zerothLevelData)||(Ne("cancel",!1,this.zerothLevelData),M("grid.renderModule",this.parent).dataManagerSuccess(this.zerothLevelData),this.zerothLevelData=null),this.parent.grid.hideSpinner())})}}}else e instanceof Array&&this.convertJSONData(e)}convertJSONData(e){if(this.hierarchyData=[],this.taskIds=[],this.parent.idMapping){const t=Object.keys(e);for(let i=0;i<t.length;i++){const n=e[i];this.hierarchyData.push(O({},n)),h(n[this.parent.idMapping])||this.taskIds.push(n[this.parent.idMapping])}}else this.hierarchyData=e;if(this.isSelfReference){const t=[],i=new ie(this.hierarchyData).executeLocal((new Ze).group(this.parent.parentIdMapping));for(let n=0;n<i.length;n++){const s=i[n],o=this.taskIds.indexOf(s.key);!h(s.key)&&o>-1?this.hierarchyData[o][this.parent.childMapping]=s.items:t.push(...s.items)}this.hierarchyData=this.selfReferenceUpdate(t)}if(Object.keys(this.hierarchyData).length)this.createRecords(this.hierarchyData);else{const t="isGantt";this.parent.flatData=this.parent.dataSource instanceof ie||!this.parent[t]?[]:this.parent.dataSource}this.storedIndex=-1}selfReferenceUpdate(e){const t=[];for(;this.hierarchyData.length>0&&e.length>0;){const i=e.indexOf(this.hierarchyData[0]);-1===i?this.hierarchyData.shift():(t.push(this.hierarchyData.shift()),e.splice(i,1))}return t}updateParentRemoteData(e){const t=e.result;if(this.parent.hasChildMapping||this.parentItems.length||this.parent.loadChildOnDemand)if(this.parent.loadChildOnDemand)h(t)||this.convertToFlatData(t);else for(let i=0;i<t.length;i++)Ps(this.parent)&&t[i].hasChildRecords&&this.parent.initialRender&&(t[i].expanded=!1),h(t[i].index)&&(t[i].taskData=O({},t[i]),t[i].uniqueID=Ca(this.parent.element.id+"_data_"),Ne("uniqueIDCollection."+t[i].uniqueID,t[i],this.parent),t[i].level=0,t[i].index=Math.ceil(1e3*Math.random()),(t[i][this.parent.hasChildMapping]||-1!==this.parentItems.indexOf(t[i][this.parent.idMapping]))&&(t[i].hasChildRecords=!0),t[i].checkboxState="uncheck");else this.zerothLevelData=e,Ne("cancel",!0,e);e.result=this.parent.loadChildOnDemand?this.parent.flatData:t,this.parent.notify("updateResults",e)}collectExpandingRecs(e,t){let n,i=this.parent.getRows();if(this.parent.rowTemplate){const s=this.parent.getContentTable().rows;i=[].slice.call(s)}if(e.rows.length>0){t||(e.record.expanded=!0);for(let s=0;s<e.rows.length;s++){if(e.rows[s].style.display="table-row",this.parent.loadChildOnDemand){const l=e.rows[s].getElementsByClassName("e-treegridcollapse")[0];n=this.parent.rowTemplate?this.parent.grid.getCurrentViewRecords()[e.rows[s].rowIndex]:this.parent.grid.getRowObjectFromUID(e.rows[s].getAttribute("data-Uid")).data,!h(l)&&n.expanded&&(_([l],"e-treegridexpand"),T([l],"e-treegridcollapse"));let a=[];a=i.filter(c=>c.querySelector(".e-gridrowindex"+n.index+"level"+(n.level+1))),a.length&&n.expanded&&this.collectExpandingRecs({record:n,rows:a,parentRow:e.parentRow},!0)}const o=e.rows[s].querySelector(".e-detailrowcollapse");h(o)||this.parent.grid.detailRowModule.expand(o)}}else this.fetchRemoteChildData({record:e.record,rows:e.rows,parentRow:e.parentRow})}fetchRemoteChildData(e){const t={row:e.parentRow,data:e.record},i=this.parent.dataSource,n=this.parent.grid.getDataModule().generateQuery(),s=n.queries.filter(o=>"onPage"!==o.fn&&"onWhere"!==o.fn);n.queries=s,n.isCountRequired=!0,n.where(this.parent.parentIdMapping,"equal",e.record[this.parent.idMapping]),Go(this.parent.element),i.executeQuery(n).then(o=>{const l=this.parent.grid.currentViewData.slice();let a=l.indexOf(e.record);-1===a&&this.parent.grid.getRowsObject().forEach(g=>{g.data.uniqueID===e.record.uniqueID&&(a=g.index)});const c=Mt("actual.nextLevel",o),d=o.result;e.record.childRecords=d;for(let g=0;g<d.length;g++){d[g].taskData=O({},d[g]),d[g].level=e.record.level+1,d[g].index=Math.ceil(1e3*Math.random());const f=O({},e.record);delete f.childRecords,d[g].parentItem=f,d[g].parentUniqueID=e.record.uniqueID,d[g].uniqueID=Ca(this.parent.element.id+"_data_"),d[g].checkboxState="uncheck",Ne("uniqueIDCollection."+d[g].uniqueID,d[g],this.parent),(d[g][this.parent.hasChildMapping]||-1!==this.parentItems.indexOf(d[g][this.parent.idMapping]))&&!(c&&!c[g])&&(d[g].hasChildRecords=!0,d[g].expanded=!1),l.splice(a+g+1,0,d[g])}if(Ne("result",l,o),Ne("action","beforecontentrender",o),this.parent.trigger(Wx,o),qo(this.parent.element),this.parent.grid.aggregates.length>0&&!this.parent.enableVirtualization){let g=Mt("query",o);const f="result";if(h(g)&&(g=M("grid.renderModule.data",this.parent).aggregateQuery(new Ze)),!h(g)){const m=g.queries.filter(v=>"onAggregates"===v.fn);o[f]=this.parent.summaryModule.calculateSummaryValue(m,o[f],!0)}}o.count=this.parent.grid.pageSettings.totalRecordsCount;const u={};this.parent.enableVirtualization&&this.remoteVirtualAction(u),this.parent.enableInfiniteScrolling?this.parent.notify("infinite-remote-expand",{index:a,childData:d}):M("grid.renderModule",this.parent).dataManagerSuccess(o,u),this.parent.trigger(_T,t)})}remoteVirtualAction(e){e.requestType="refresh",Ne("isExpandCollapse",!0,e);const t=M("grid.contentModule",this.parent),i=M("currentInfo",t),n=M("prevInfo",t);i.loadNext&&this.parent.grid.pageSettings.currentPage===i.nextInfo.page&&(this.parent.grid.pageSettings.currentPage=n.page)}beginSorting(){this.isSortAction=!0}createRecords(e,t){const i=[];for(let s=0,o=Object.keys(e).length;s<o;s++){const l=O({},e[s]);l.taskData=e[s];let a=0;if(this.storedIndex++,Object.prototype.hasOwnProperty.call(l,"index")||(l.index=this.storedIndex),(!h(l[this.parent.childMapping])||l[this.parent.hasChildMapping]&&Ps(this.parent))&&(l.hasChildRecords=!0,l.expanded=!(this.parent.enableCollapseAll||!h(this.parent.dataStateChange)&&h(l[this.parent.childMapping]))&&(!!h(l[this.parent.expandStateMapping])||l[this.parent.expandStateMapping])),Object.prototype.hasOwnProperty.call(l,"index")||(l.index=this.storedIndex),this.isSelfReference&&h(l[this.parent.parentIdMapping])&&this.parent.parentData.push(l),l.uniqueID=Ca(this.parent.element.id+"_data_"),Ne("uniqueIDCollection."+l.uniqueID,l,this.parent),!h(t)){const c=O({},t);delete c.childRecords,delete c[this.parent.childMapping],this.isSelfReference&&delete c.taskData[this.parent.childMapping],l.parentItem=c,l.parentUniqueID=c.uniqueID,a=t.level+1}if(Object.prototype.hasOwnProperty.call(l,"level")||(l.level=a),l.checkboxState="uncheck",(h(l[this.parent.parentIdMapping])||l.parentItem)&&this.parent.flatData.push(l),!this.isSelfReference&&0===l.level&&this.parent.parentData.push(l),!h(l[this.parent.childMapping]&&l[this.parent.childMapping].length)){const c=this.createRecords(l[this.parent.childMapping],l);l.childRecords=c}i.push(l)}return i}dataProcessor(e){const t=Mt("isExport",e),i=Mt("expresults",e),n=Mt("exportType",e),s=Mt("isPrinting",e);let o;const l=Mt("actionArgs",e);let a=Mt("requestType",e),c=Mt("data",e),d=Mt("action",e);const u=l,p=this.parent.getPrimaryKeyFieldNames()[0],g=Mt("data",u);!h(u)&&!h(u.action)&&"add"===u.action&&!h(u.data)&&h(u.data[p])&&(u.data[p]=e.result[u.index][p],g.taskData[p]=e.result[u.index][p]),(!h(l)&&Object.keys(l).length||"save"===a)&&(a=a||l.requestType,c=c||Mt("data",l),d=d||Mt("action",l),"Batch"===this.parent.editSettings.mode&&(this.batchChanges=this.parent.grid.editModule.getBatchChanges()),this.parent.isLocalData&&this.updateAction(c,d,a)),o=t&&!h(i)?i:Ps(this.parent)?M("result",this.parent.grid.dataSource):this.parent.grid.dataSource;let f=o instanceof ie?o.dataSource.json:o,m=Ps(this.parent)?M("count",this.parent.dataSource):f.length;const v=new Ze;let w,b,x=Mt("query",e);if(h(x)||(w=x.queries.filter(k=>"onWhere"===k.fn),b=x.queries.filter(k=>"onSearch"===k.fn)),this.parent.grid.allowFiltering&&this.parent.grid.filterSettings.columns.length||this.parent.grid.searchSettings.key.length>0||!h(x)&&(w.length||b.length)&&this.parent.isLocalData){h(x)&&(x=new Ze,x=M("grid.renderModule.data",this.parent).filterQuery(x),x=M("grid.renderModule.data",this.parent).searchQuery(x));const k=x.queries.filter(oe=>"onWhere"===oe.fn),P=x.queries.filter(oe=>"onSearch"===oe.fn);v.queries=k.concat(P);const W=new ie(f).executeLocal(v);if(this.parent.notify("updateFilterRecs",{data:W}),f=this.dataResults.result,this.dataResults.result=null,this.parent.grid.aggregates.length>0){const oe=Mt("query",e);if(h(x)&&(x=M("grid.renderModule.data",this.parent).aggregateQuery(new Ze)),!h(oe)){const ae=oe.queries.filter(xe=>"onAggregates"===xe.fn);f=this.parent.summaryModule.calculateSummaryValue(ae,f,!0)}}}if(this.parent.grid.aggregates.length&&0===this.parent.grid.sortSettings.columns.length&&0===this.parent.grid.filterSettings.columns.length&&!this.parent.grid.searchSettings.key.length){let k=Mt("query",e);h(k)&&(k=M("grid.renderModule.data",this.parent).aggregateQuery(new Ze));const P=k.queries.filter(W=>"onAggregates"===W.fn);f=this.parent.summaryModule.calculateSummaryValue(P,this.parent.flatData,!0)}if(this.parent.grid.sortSettings.columns.length>0||this.isSortAction){this.isSortAction=!1;const k=this.parent.parentData,P=Mt("query",e),W=new Ze;for(let xe=this.parent.grid.sortSettings.columns.length-1;xe>=0;xe--){const Re=this.parent.grid.renderModule.data.getColumnByField(this.parent.grid.sortSettings.columns[xe].field),ye=Re.sortComparer&&wa(this.parent)?Re.sortComparer.bind(Re):this.parent.grid.sortSettings.columns[xe].direction;W.sortBy(this.parent.grid.sortSettings.columns[xe].field,ye)}const ae={modifiedData:new ie(k).executeLocal(W),filteredData:f,srtQry:W};if(this.parent.notify("createSort",ae),f=ae.modifiedData,this.dataResults.result=null,this.sortedData=f,this.parent.notify("updateModel",{}),this.parent.grid.aggregates.length>0&&!h(P)){const Re=Mt("query",e).queries.filter(ye=>"onAggregates"===ye.fn);f=this.parent.summaryModule.calculateSummaryValue(Re,this.sortedData,!1)}}m=Ps(this.parent)?M("count",this.parent.dataSource):f.length;const I=this.paging(f,m,t,s,n,e);f=I.result,m=I.count,e.result=f,e.count=m,this.parent.notify("updateResults",e)}paging(e,t,i,n,s,o){if(!this.parent.allowPaging||i&&"CurrentPage"!==s||n&&"CurrentPage"!==this.parent.printMode){if((this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&(!i||"CurrentPage"===s)&&"save"!==M("requestType",o)){const d=this.parent.enableInfiniteScrolling?o:M("actionArgs",o);this.parent.notify(Yf,{result:e,count:t,actionArgs:d}),e=this.dataResults.result,t=this.dataResults.count}}else this.parent.notify(Yf,{result:e,count:t}),e=this.dataResults.result,t=Ps(this.parent)?M("count",this.parent.dataSource):this.dataResults.count;const a="isCollapsedStatePersist";if((!0===n||o.isPdfExport&&(h(o[a])||o[a]))&&"AllPages"===this.parent.printMode){const d=[];for(let u=0;u<e.length;u++)Ap(this.parent,e[u],this.parent.parentData)&&d.push(e[u]);t=(e=d).length}return{result:e,count:t}}updateData(e){this.dataResults=e}updateAction(e,t,i){("delete"===i||"save"===i)&&this.parent.notify(T4,{value:e,action:t||i}),"batchsave"===i&&"Batch"===this.parent.editSettings.mode&&this.parent.notify(r_,{})}}var Fg=(()=>{return(r=Fg||(Fg={}))[r.Add=0]="Add",r[r.Edit=1]="Edit",r[r.Update=2]="Update",r[r.Delete=3]="Delete",r[r.Cancel=4]="Cancel",r[r.Search=5]="Search",r[r.ExpandAll=6]="ExpandAll",r[r.CollapseAll=7]="CollapseAll",r[r.ExcelExport=8]="ExcelExport",r[r.PdfExport=9]="PdfExport",r[r.CsvExport=10]="CsvExport",r[r.Print=11]="Print",r[r.RowIndent=12]="RowIndent",r[r.RowOutdent=13]="RowOutdent",Fg;var r})(),$x=(()=>{return(r=$x||($x={}))[r.AutoFit=0]="AutoFit",r[r.AutoFitAll=1]="AutoFitAll",r[r.SortAscending=2]="SortAscending",r[r.SortDescending=3]="SortDescending",r[r.Edit=4]="Edit",r[r.Delete=5]="Delete",r[r.Save=6]="Save",r[r.Cancel=7]="Cancel",r[r.PdfExport=8]="PdfExport",r[r.ExcelExport=9]="ExcelExport",r[r.CsvExport=10]="CsvExport",r[r.FirstPage=11]="FirstPage",r[r.PrevPage=12]="PrevPage",r[r.LastPage=13]="LastPage",r[r.NextPage=14]="NextPage",r[r.AddRow=15]="AddRow",r[r.RowIndent=16]="RowIndent",r[r.RowOutdent=17]="RowOutdent",$x;var r})(),Xf=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Pg extends Nt{}Xf([y(12)],Pg.prototype,"pageSize",void 0),Xf([y(8)],Pg.prototype,"pageCount",void 0),Xf([y(1)],Pg.prototype,"currentPage",void 0),Xf([y()],Pg.prototype,"totalRecordsCount",void 0),Xf([y(!1)],Pg.prototype,"enableQueryString",void 0),Xf([y(!1)],Pg.prototype,"pageSizes",void 0),Xf([y(null)],Pg.prototype,"template",void 0),Xf([y("All")],Pg.prototype,"pageSizeMode",void 0);var Jf=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class q0 extends Nt{constructor(){super(...arguments),this.intl=new Nn,this.templateFn={}}setFormatter(e){this.format&&(this.format.skeleton||this.format.format)&&(this.formatFn=this.getFormatFunction(this.format))}getFormatFunction(e){return e.type?this.intl.getDateFormat(e):this.intl.getNumberFormat(e)}getFormatter(){return this.formatFn}setTemplate(e={}){void 0!==this.footerTemplate&&(this.templateFn[bs(Ct,Ct.Summary)]={fn:ci(this.footerTemplate,e),property:"footerTemplate"})}getTemplate(e){return this.templateFn[bs(Ct,e)]}setPropertiesSilent(e){this.setProperties(e,!0)}}Jf([y()],q0.prototype,"type",void 0),Jf([y()],q0.prototype,"footerTemplate",void 0),Jf([y()],q0.prototype,"field",void 0),Jf([y()],q0.prototype,"format",void 0),Jf([y()],q0.prototype,"columnName",void 0),Jf([y()],q0.prototype,"customAggregate",void 0);class L4 extends Nt{}Jf([Hr([],q0)],L4.prototype,"columns",void 0),Jf([y(!0)],L4.prototype,"showChildSummary",void 0);var Lu=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Oh extends Nt{}Lu([y(!1)],Oh.prototype,"allowAdding",void 0),Lu([y(!1)],Oh.prototype,"allowEditing",void 0),Lu([y(!1)],Oh.prototype,"allowDeleting",void 0),Lu([y("Cell")],Oh.prototype,"mode",void 0),Lu([y("Top")],Oh.prototype,"newRowPosition",void 0),Lu([y(!0)],Oh.prototype,"allowEditOnDblClick",void 0),Lu([y(!0)],Oh.prototype,"showConfirmDialog",void 0),Lu([y(!1)],Oh.prototype,"showDeleteConfirmDialog",void 0),Lu([y("")],Oh.prototype,"template",void 0),Lu([y({})],Oh.prototype,"dialog",void 0),Lu([y(!1)],Oh.prototype,"allowNextRowEdit",void 0);var PT=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class O4 extends Nt{}PT([y()],O4.prototype,"field",void 0),PT([y()],O4.prototype,"direction",void 0);class B4 extends Nt{}function Lg(r,e,t,i,n,s,o){let l=r.value;const a=r.action;let d,u,g;const f=e.grid.getPrimaryKeyFieldNames()[0],m=e.dataSource instanceof ie?e.dataSource.dataSource.json:e.dataSource;let v=[];const x=l;let w=!1;if("Batch"===e.editSettings.mode&&(g=e.grid.editModule.getBatchChanges()),"add"===a||"batchsave"===a&&"Batch"===e.editSettings.mode&&g.addedRecords.length){const b=function xMe(r,e,t,i,n,s,o){let l,a=!1;const c=t.grid.getCurrentViewRecords();switch(l=O({},r.value),l=l_(l),t.editSettings.newRowPosition){case"Top":e.unshift(l),a=!0;break;case"Bottom":e.push(l),a=!0;break;case"Above":h(o)?(l=O({},c[n+1]),l=l_(l)):(l=O({},o),l=l_(l));break;case"Below":case"Child":if(h(o)){const d=t.grid.getPrimaryKeyFieldNames()[0],u=c[n];l=!h(u)&&u[d]===r.value[d]||-1!==s?O({},u):O({},r.value),l=l_(l),t.editModule.internalProperties.taskData=l}else l=O({},o),l=l_(l);-1===s&&(e.unshift(l),a=!0)}return{value:l,isSkip:a}}(r,m,e,0,i,n,o);l=b.value,w=b.isSkip}if(l instanceof Array?v=Ud(l):v.push(O({},l)),!w&&("add"!==a||"Top"!==e.editSettings.newRowPosition&&"Bottom"!==e.editSettings.newRowPosition))for(let b=0;b<v.length;b++){"object"==typeof v[b][f]&&(v[b]=v[b][f]);const I=Object.keys(v[b].taskData?v[b].taskData:v[b]);for(d=m.length;d--&&d>=0;)if(m[d][f]===v[b][f]){if("delete"!==a){if("edit"===a){for(u=0;u<I.length;u++)if(Object.prototype.hasOwnProperty.call(m[d],I[u])&&("Cell"!==e.editSettings.mode||!h(g)&&0===g.changedRecords.length||I[u]===s)){const k=no(e,v[b].uniqueID);m[d][I[u]]=v[b][I[u]],k&&k.taskData&&(k.taskData[I[u]]=k[I[u]]=m[d][I[u]])}}else if("add"===a||"batchsave"===a){let k;"Child"===e.editSettings.newRowPosition?t?(x.taskData[e.parentIdMapping]=m[d][e.idMapping],m.splice(d+1,0,x.taskData)):(Object.prototype.hasOwnProperty.call(m[d],e.childMapping)||(m[d][e.childMapping]=[]),m[d][e.childMapping].push(x.taskData),gd(f,m[d],a,e,t,x)):"Below"===e.editSettings.newRowPosition?(m.splice(d+1,0,x.taskData),h(x.parentItem)||gd(f,m[d+1],a,e,t,x)):i?"Above"===e.editSettings.newRowPosition&&(m.splice(d,0,x.taskData),h(x.parentItem)||gd(f,m[d],a,e,t,x)):(k=0,m.splice(k,0,x.taskData))}break}{const k=m[d];if(m.splice(d,1),t){if(!h(k[e.parentIdMapping])){const P=e.flatData.filter(oe=>oe[e.idMapping]===k[e.parentIdMapping])[0],W=P?P[e.childMapping]:[];for(let oe=W.length-1;oe>=0;oe--)if(W[oe][e.idMapping]===k[e.idMapping]){e.enableImmutableMode||P.childRecords.splice(oe,1),W.splice(oe,1),W.length||(P.hasChildRecords=!1,gd(f,P,a,e,t));break}}break}}}else h(m[d][e.childMapping])||DJ(m[d][e.childMapping],v[b],a,f,e,t,x,s)&&gd(f,m[d],a,e,t)}}function DJ(r,e,t,i,n,s,o,l){let a=!1,c=r.length;for(;c--&&c>=0;)if(r[c][i]===e[i]||s&&r[c][n.parentIdMapping]===e[n.idMapping]){if("edit"===t){const d=Object.keys(e),u=no(n,e.uniqueID);for(let p=0;p<d.length;p++)if(Object.prototype.hasOwnProperty.call(r[c],d[p])&&("Cell"!==n.editSettings.mode||d[p]===l)&&(u[d[p]]=u.taskData[d[p]]=r[c][d[p]]=e[d[p]],"Normal"===n.grid.editSettings.mode&&"Cell"===n.editSettings.mode)){const g="editModule";n.grid.editModule[g].editRowIndex=e.index,n.grid.editModule[g].updateCurrentViewData(e)}break}"add"===t||"batchsave"===t?"Child"===n.editSettings.newRowPosition?s?(o[n.parentIdMapping]=r[c][n.idMapping],r.splice(c+1,0,o),gd(i,r[c],t,n,s,o)):(Object.prototype.hasOwnProperty.call(r[c],n.childMapping)||(r[c][n.childMapping]=[]),r[c][n.childMapping].push(o.taskData),gd(i,r[c],t,n,s,o)):"Above"===n.editSettings.newRowPosition?(r.splice(c,0,o.taskData),h(o.parentItem)||gd(i,r[c],t,n,s,o)):"Below"===n.editSettings.newRowPosition&&(r.splice(c+1,0,o.taskData),h(o.parentItem)||gd(i,r[c],t,n,s,o)):(r.splice(c,1),r.length||(a=!0))}else h(r[c][n.childMapping])||DJ(r[c][n.childMapping],e,t,i,n,s,o,l)&&gd(i,r[c],t,n,s);return a}function gd(r,e,t,i,n,s){if("Above"!==i.editSettings.newRowPosition&&"Below"!==i.editSettings.newRowPosition||"add"!==t&&"batchsave"!==t||h(s.parentItem)){const o=i.grid.getCurrentViewRecords();let l;if(o.map((p,g)=>{p[r]!==e[r]||(l=g)}),h(l)||(e=o[l]),i.enableVirtualization&&h(e)&&!h(s)&&(e=M("uniqueIDCollection."+s.parentUniqueID,i)),e.hasChildRecords=!(n||h(e.childRecords)||!e.childRecords.length),"add"===t||"batchsave"===t){e.expanded=!0,e.hasChildRecords=!0,i.sortSettings.columns.length&&h(s)&&(s=o.filter(g=>g.parentUniqueID===e.uniqueID?g:null));const p=s?s instanceof Array?s[0]:s:o[l+1];"Below"!==i.editSettings.newRowPosition&&(Object.prototype.hasOwnProperty.call(e,"childRecords")?!h(s)&&e[r]!==s[r]&&e.childRecords.push(s):e.childRecords=[],-1===e.childRecords.indexOf(p)&&e[r]!==s[r]&&e.childRecords.unshift(p),n&&(Object.prototype.hasOwnProperty.call(e,i.childMapping)||(e[i.childMapping]=[]),-1===e[i.childMapping].indexOf(p)&&e[r]!==s[r]&&e[i.childMapping].unshift(p)))}const a=i.grid.getPrimaryKeyFieldNames()[0],c=i.grid.dataSource instanceof ie?i.grid.dataSource.dataSource.json:i.grid.dataSource;for(let p=0;p<c.length;p++)if(c[p][a]===e[a]){c[p]=e;break}i.grid.setRowData(r,e);let u,d=i.getRowByIndex(l);if("Batch"===i.editSettings.mode&&(d="add"===t?i.getRows()[i.grid.getCurrentViewRecords().indexOf(e)]:i.getRows()[i.grid.getRowIndexByPrimaryKey(e[r])]),(i.frozenRows||i.getFrozenColumns())&&(u=i.getMovableRowByIndex(l)),!i.enableVirtualization&&!h(d)||!h(u)){let p=i.treeColumnIndex;i.allowRowDragAndDrop&&i.enableImmutableMode&&(p+=1),i.renderModule.cellRender({data:e,cell:d.cells[p]?d.cells[p]:u.cells[p-i.getFrozenColumns()],column:i.grid.getColumns()[i.treeColumnIndex],requestType:t}),(i.enableImmutableMode&&"indenting"===i.action||"outdenting"===i.action)&&i.renderModule.RowModifier({data:e,row:d})}}else no(i,s.parentItem.uniqueID).childRecords.push(s)}PT([Hr([],O4)],B4.prototype,"columns",void 0),PT([y(!0)],B4.prototype,"allowUnsort",void 0);var N4=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class LT extends Nt{}N4([y(!1)],LT.prototype,"enableCache",void 0),N4([y(3)],LT.prototype,"maxBlocks",void 0),N4([y(3)],LT.prototype,"initialBlocks",void 0);var V4,rt=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let it=V4=class extends an{constructor(e,t){super(e,t),this.dataResults={},this.uniqueIDCollection={},this.uniqueIDFilterCollection={},this.changedRecords="changedRecords",this.deletedRecords="deletedRecords",this.addedRecords="addedRecords",this.indentOutdentAction="indentOutdentAction",this.modifiedRecords=[],this.stackedHeader=!1,this.objectEqualityChecker=(n,s)=>{if(n){const o=Object.keys(n);let l=!0;const a=["Children","childRecords","taskData","uniqueID","parentItem","parentUniqueID","index"];for(let c=0;c<o.length;c++)if(!(n[o[c]]===s[o[c]]||-1!==a.indexOf(o[c])||n[o[c]]instanceof Date&&s[o[c]]instanceof Date&&n[o[c]].getTime()===s[o[c]].getTime())){l=!1;break}return l}return!1},V4.Inject(SJ),Ne("mergePersistData",this.mergePersistTreeGridData,this),h(this.injectedModules.Logger)||Oe.Inject(I4),this.grid=new Oe}excelExport(e,t,i,n){return this.excelExportModule.Map(e,t,i,n,!1)}csvExport(e,t,i,n){return this.excelExportModule.Map(e,t,i,n,!0)}pdfExport(e,t,i,n){return this.pdfExportModule.Map(e,t,i,n)}getModuleName(){return"treegrid"}preRender(){this.TreeGridLocale(),this.initProperties(),this.defaultLocale={Above:"Above",Below:"Below",Child:"Child",AddRow:"Add Row",ExpandAll:"Expand All",CollapseAll:"Collapse All",RowIndent:"Indent",RowOutdent:"Outdent"},this.l10n=new is("treegrid",this.defaultLocale,this.locale),this.isSelfReference&&h(this.childMapping)&&(this.childMapping="Children")}sortByColumn(e,t,i){this.sortModule&&this.sortModule.sortColumn(e,t,i)}clearSorting(){this.sortModule&&this.sortModule.clearSorting()}removeSortColumn(e){this.sortModule&&this.sortModule.removeSortColumn(e)}search(e){this.grid.search(e)}autoFitColumns(e){this.resizeModule.autoFitColumns(e),this.updateColumnModel()}reorderColumns(e,t){this.grid.reorderColumns(e,t)}TreeGridLocale(){const e=is.locale,t={};let i,n;Ne(this.locale,{},t),i={},i=Mt(this.locale,e),n={},n=Mt(this.getModuleName(),i),Ne("grid",n,Mt(this.locale,t)),is.load(t)}print(){this.printModule.print()}treeGridkeyActionHandler(e){if(this.allowKeyboard){let t,i,n,s,o;switch(e.action){case"ctrlDownArrow":this.expandAll();break;case"ctrlUpArrow":this.collapseAll();break;case"ctrlShiftUpArrow":t=e.target,n=t.closest(".e-rowcell"),s=n.closest("tr"),null!=s&&this.expandCollapseRequest(s.querySelector(".e-treegridexpand"));break;case"ctrlShiftDownArrow":t=e.target,n=t.closest(".e-rowcell"),s=n.closest("tr"),null!=s&&this.expandCollapseRequest(s.querySelector(".e-treegridcollapse"));break;case"downArrow":if(!this.enableVirtualization)if(i=e.target.parentElement,o=this.findnextRowElement(i),null!==o){this.selectRow(o.rowIndex);const c=o.children[e.target.cellIndex];_([c],"e-focused"),_([c],"e-focus")}else this.clearSelection();break;case"upArrow":if(!this.enableVirtualization)if(i=e.target.parentElement,o=this.findPreviousRowElement(i),null!==o){this.selectRow(o.rowIndex);const c=o.children[e.target.cellIndex];_([c],"e-focused"),_([c],"e-focus")}else this.clearSelection()}}}findnextRowElement(e){let t=e.nextElementSibling;return null!==t&&(-1!==t.className.indexOf("e-summaryrow")||"none"===t.style.display)&&(t=this.findnextRowElement(t)),t}findPreviousRowElement(e){let t=e.previousElementSibling;return null!==t&&(-1!==t.className.indexOf("e-summaryrow")||"none"===t.style.display)&&(t=this.findPreviousRowElement(t)),t}initProperties(){this.defaultLocale={},this.flatData=[],this.parentData=[],this.columnModel=[],this.isExpandAll=!1,this.isCollapseAll=!1,this.keyConfigs={ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlShiftUpArrow:"ctrl+shift+uparrow",ctrlShiftDownArrow:"ctrl+shift+downarrow",downArrow:"downArrow",upArrow:"upArrow"},this.isLocalData=!(this.dataSource instanceof ie)||this.dataSource.dataSource.offline||!h(this.dataSource.ready)||this.dataSource.adaptor instanceof $m,this.isSelfReference=!h(this.parentIdMapping)}wireEvents(){C.add(this.grid.element,"click",this.mouseClickHandler,this),C.add(this.element,"touchend",this.mouseClickHandler,this),this.keyboardModule=new tn(this.element,{keyAction:this.treeGridkeyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.allowKeyboard&&(this.element.tabIndex=-1===this.element.tabIndex?0:this.element.tabIndex)}requiredModules(){const e=[];return this.freezeModule=new IJ(this),this.grid.splitFrozenCount(this.getGridColumns(this.columns)),this.isDestroyed||(e.push({member:"filter",args:[this,this.filterSettings]}),h(this.toolbar)||e.push({member:"toolbar",args:[this]}),this.contextMenuItems&&e.push({member:"contextMenu",args:[this]}),this.allowPaging&&e.push({member:"pager",args:[this,this.pageSettings]}),this.allowReordering&&e.push({member:"reorder",args:[this]}),this.allowSorting&&e.push({member:"sort",args:[this]}),this.aggregates.length>0&&e.push({member:"summary",args:[this]}),e.push({member:"resize",args:[this]}),this.allowExcelExport&&e.push({member:"ExcelExport",args:[this]}),(this.frozenColumns||this.frozenRows||this.getFrozenColumns()||this.grid.getFrozenLeftColumnsCount()||this.grid.getFrozenRightColumnsCount()||this.freezeModule)&&e.push({member:"freeze",args:[this]}),this.detailTemplate&&e.push({member:"detailRow",args:[this]}),this.allowPdfExport&&e.push({member:"PdfExport",args:[this]}),this.showColumnMenu&&e.push({member:"columnMenu",args:[this]}),this.showColumnChooser&&e.push({member:"ColumnChooser",args:[this]}),this.extendRequiredModules(e)),e}extendRequiredModules(e){const t=this.injectedModules.filter(i=>"rowDragAndDrop"===i.prototype.getModuleName());(this.allowRowDragAndDrop||t.length)&&(!h(this.toolbar)&&(this.toolbar.includes("Indent")||this.toolbar.includes("Outdent"))&&(this.isIndentEnabled=!0),e.push({member:"rowDragAndDrop",args:[this]})),(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&e.push({member:"edit",args:[this]}),this.isCommandColumn(this.columns)&&e.push({member:"commandColumn",args:[this]}),this.allowSelection&&e.push({member:"selection",args:[this]}),this.enableVirtualization&&e.push({member:"virtualScroll",args:[this]}),this.enableInfiniteScrolling&&e.push({member:"infiniteScroll",args:[this]}),e.push({member:"logger",args:[this.grid]})}isCommandColumn(e){return e.some(t=>t.columns?this.isCommandColumn(t.columns):!(!t.commands&&!t.commandsTemplate))}unwireEvents(){this.grid&&this.grid.element&&C.remove(this.grid.element,"click",this.mouseClickHandler)}log(e,t){this.loggerModule&&this.loggerModule.treeLog(e,t,this)}render(){this.isReact&&(this.grid.isReact=!0,this.grid.portals=[]),this.isVue&&(this.grid.isVue=!0),bc({target:this.element},this.createElement),this.log(["mapping_fields_missing"]),this.renderModule=new vMe(this),this.dataModule=new yMe(this),this.printModule=new mMe(this),this.trigger("load"),this.autoGenerateColumns(),this.initialRender=!0,h(this.dataSource)||this.convertTreeData(this.dataSource),this.loadGrid(),this.element.classList.contains("e-treegrid")&&this.rowDropSettings.targetID&&(this.grid.rowDropSettings.targetID+="_gridcontrol"),this.addListener();const e=Xe("div",{id:this.element.id+"_gridcontrol"});_([this.element],"e-treegrid"),!h(this.height)&&"string"==typeof this.height&&-1!==this.height.indexOf("%")&&(this.element.style.height=this.height),!h(this.width)&&"string"==typeof this.width&&-1!==this.width.indexOf("%")&&(this.element.style.width=this.width),this.element.appendChild(e);const t=this.grid.requiredModules;this.grid.requiredModules=function(){let o=[];o=t.apply(this);for(let l=0;l<o.length;l++)"virtualscroll"===o[l].member&&(o[l].member="treeVirtualScroll");return o};const i="root";this.grid[i]=this[i]?this[i]:this,this.grid.appendTo(e),this.isIndentEnabled&&this.refreshToolbarItems(),this.wireEvents(),this.renderComplete();const n="destroyTemplate",s=this.grid[n];this.grid[n]=(o,l)=>{s.apply(this.grid),this.isReact&&h(this.portals)||this.clearTemplate(o,l)}}refreshToolbarItems(){const e=this.toolbarModule.getToolbar(),i=this.element.id+"_gridcontrol_outdent",n=e.querySelector("#"+this.element.id+"_gridcontrol_indent").parentElement,s=e.querySelector("#"+i).parentElement;n.classList.add("e-hidden"),s.classList.add("e-hidden")}afterGridRender(){h(this.grid.clipboardModule)||this.grid.clipboardModule.destroy(),this.clipboardModule=this.grid.clipboardModule=new pMe(this)}convertTreeData(e){if(Ps(this)&&(e=M("result",e)),e instanceof Array&&e.length>0&&Object.prototype.hasOwnProperty.call(e[0],"level"))this.flatData=e,this.flatData.filter(t=>{Ne("uniqueIDCollection."+t.uniqueID,t,this),0===t.level&&this.parentData.push(t)});else if(Ps(this)){const t=M("result",this.dataSource);this.dataModule.convertToFlatData(t)}else this.dataModule.convertToFlatData(e)}bindGridProperties(){this.bindedDataSource(),this.grid.enableRtl=this.enableRtl,this.grid.allowKeyboard=this.allowKeyboard,this.grid.columns=this.getGridColumns(this.columns),this.grid.allowExcelExport=this.allowExcelExport,this.grid.allowPdfExport=this.allowPdfExport,this.grid.query=this.query,this.grid.columnQueryMode=this.columnQueryMode,this.grid.allowPaging=this.allowPaging,this.grid.pageSettings=Fs(this.pageSettings),this.grid.pagerTemplate=this.pagerTemplate,this.grid.showColumnMenu=this.showColumnMenu,this.grid.allowSorting=this.allowSorting,this.grid.allowFiltering=this.allowFiltering,this.grid.enableVirtualization=this.enableVirtualization,this.grid.enableColumnVirtualization=this.enableColumnVirtualization,this.grid.enableInfiniteScrolling=this.enableInfiniteScrolling,this.grid.infiniteScrollSettings=this.infiniteScrollSettings,this.grid.width=this.width,this.grid.height=this.height,this.grid.enableAltRow=this.enableAltRow,this.grid.allowReordering=this.allowReordering,this.grid.allowTextWrap=this.allowTextWrap,this.grid.allowResizing=this.allowResizing,this.grid.enableHover=this.enableHover,this.grid.enableAutoFill=this.enableAutoFill,this.grid.enableAdaptiveUI=this.enableAdaptiveUI,this.grid.enableImmutableMode=this.enableImmutableMode,this.grid.allowRowDragAndDrop=this.allowRowDragAndDrop,this.grid.rowDropSettings=Fs(this.rowDropSettings),this.grid.rowHeight=this.rowHeight,this.grid.gridLines=this.gridLines,this.grid.allowSelection=this.allowSelection,this.grid.toolbar=Fs(this.getGridToolbar()),this.grid.toolbarTemplate=this.toolbarTemplate,this.grid.showColumnChooser=this.showColumnChooser,this.grid.filterSettings=Fs(this.filterSettings),this.grid.selectionSettings=Fs(this.selectionSettings),this.grid.sortSettings=Fs(this.sortSettings),this.grid.searchSettings=Fs(this.searchSettings),this.grid.aggregates=Fs(this.aggregates),this.grid.textWrapSettings=Fs(this.textWrapSettings),this.grid.printMode=Fs(this.printMode),this.grid.locale=Fs(this.locale),this.grid.selectedRowIndex=this.selectedRowIndex,this.grid.contextMenuItems=Fs(this.getContextMenu()),this.grid.columnMenuItems=Fs(this.columnMenuItems),this.grid.editSettings=this.getGridEditSettings(),this.grid.rowTemplate=Fs(this.rowTemplate),this.grid.detailTemplate=Fs(this.detailTemplate),this.grid.frozenRows=this.frozenRows,this.grid.frozenColumns=this.frozenColumns,this.grid.clipMode=Fs(this.clipMode);const e="templateDotnetInstance";this.grid[e]=this[e],this.grid.isJsComponent=!0}triggerEvents(e){this.trigger(Mt("name",e),e)}bindGridEvents(){this.grid.rowSelecting=e=>{h(e.target)||!(e.target.classList.contains("e-treegridexpand")||e.target.classList.contains("e-treegridcollapse")||e.target.classList.contains("e-summarycell"))?this.trigger("rowSelecting",e):e.cancel=!0},this.grid.rowSelected=e=>{if(this.enableVirtualization&&e.isHeaderCheckboxClicked&&this.grid.currentViewData.length!==this.grid.selectionModule.selectedRowIndexes.length){const t="updateRowSelection";for(let i=0;i<this.getRows().length;i++)this.getRows()[i].getElementsByClassName("e-frame e-icons e-uncheck").length&&this.grid.selectionModule[t](this.getRows()[i],this.getCurrentViewRecords()[i].index)}this.selectedRowIndex=this.grid.selectedRowIndex,this.notify(CT,e),this.trigger(CT,e)},this.grid.rowDeselected=e=>{this.selectedRowIndex=this.grid.selectedRowIndex,h(e.data)||this.notify(wT,e),this.trigger(wT,e)},this.grid.resizeStop=e=>{this.updateColumnModel(),this.trigger("resizeStop",e)},this.grid.excelQueryCellInfo=e=>{this.notify("excelCellInfo",e),e=this.dataResults},this.grid.pdfQueryCellInfo=e=>{this.notify("pdfCellInfo",e),e=this.dataResults},this.grid.checkBoxChange=e=>{this.trigger(cJ,e)},this.grid.pdfExportComplete=this.triggerEvents.bind(this),this.grid.excelExportComplete=this.triggerEvents.bind(this),this.grid.excelHeaderQueryCellInfo=this.triggerEvents.bind(this),this.grid.pdfHeaderQueryCellInfo=this.triggerEvents.bind(this),this.grid.dataSourceChanged=this.triggerEvents.bind(this),this.grid.recordDoubleClick=this.triggerEvents.bind(this),this.grid.rowDeselecting=this.triggerEvents.bind(this),this.grid.cellDeselected=this.triggerEvents.bind(this),this.grid.cellDeselecting=this.triggerEvents.bind(this),this.grid.columnMenuOpen=this.triggerEvents.bind(this),this.grid.columnMenuClick=this.triggerEvents.bind(this),this.grid.cellSelected=this.triggerEvents.bind(this),this.grid.headerCellInfo=this.triggerEvents.bind(this),this.grid.resizeStart=this.triggerEvents.bind(this),this.grid.resizing=this.triggerEvents.bind(this),this.grid.columnDrag=this.triggerEvents.bind(this),this.grid.columnDragStart=this.triggerEvents.bind(this),this.grid.columnDrop=this.triggerEvents.bind(this),this.grid.beforePrint=this.triggerEvents.bind(this),this.grid.beforeCopy=this.triggerEvents.bind(this),this.grid.beforePaste=e=>{const t=this.getRows(),i="rowIndex";for(;t[e[i]].classList.contains("e-summaryrow");)e[i]++;this.trigger("beforePaste",e)},this.grid.load=()=>{this.grid.on("initial-end",this.afterGridRender,this),h(this.loggerModule)||(this.loggerModule=this.grid.loggerModule=new sJ(this.grid))},this.grid.printComplete=this.triggerEvents.bind(this),this.grid.actionFailure=this.triggerEvents.bind(this),this.extendedGridDataBoundEvent(),this.extendedGridEvents(),this.extendedGridActionEvents(),this.extendedGridEditEvents(),this.bindGridDragEvents(),this.bindCallBackEvents()}lastRowBorder(e,t){for(let i=0;i<e.cells.length;i++)t?_([e.cells[i]],"e-lastrowcell"):T([e.cells[i]],"e-lastrowcell")}isPixelHeight(){return"auto"!==this.height&&-1===this.height.toString().indexOf("%")}extendedGridDataBoundEvent(){this.grid.dataBound=t=>{if(this.updateRowTemplate(),this.updateColumnModel(),this.updateAltRow(this.getRows()),this.notify("dataBoundArg",t),!$s(this)||wa(this)||this.hasChildMapping||Ne("grid.contentModule.isLoaded",!(Mt("dataSource.requests",this).filter(s=>"OK"!==s.httpRequest.statusText).length>0),this),this.isPixelHeight()&&this.initialRender){const n=this.getContentTable().rows,s=[].slice.call(n);for(let o=s.length-1;o>0;o--)if(!_J(s[o])){s[o].nextElementSibling&&this.lastRowBorder(s[o],!0);break}}const i="action";if(this.enableVirtualization&&this.selectionSettings.persistSelection&&("expand"===this.dataResults[i]||"collapse"===this.dataResults[i])&&(this.grid.selectionModule.refreshPersistSelection(),"Single"===this.grid.selectionSettings.type)){const s="updateRowSelection",o=this.getCurrentViewRecords().indexOf(this.grid.selectionModule.data);this.grid.selectionModule[s](this.getRows()[o],o)}this.trigger("dataBound",t),this.initialRender=!1};const e=this;this.grid.beforeDataBound=function(t){const n=Mt("action",t);if(($s(e)&&!wa(e)||Ps(this))&&"edit"!==n?(e.notify("updateRemoteLevel",t),t=e.dataResults):0===e.flatData.length&&wa(e)&&e.dataSource instanceof ie&&(e.dataModule.convertToFlatData(e.dataSource.dataSource.json),t.result=e.grid.dataSource.dataSource.json=e.flatData),!$s(e)&&!Ps(this)&&!h(e.dataSource)&&(this.isPrinting&&Ne("isPrinting",!0,t),e.notify("dataProcessor",t)),O(t,e.dataResults),e.enableImmutableMode&&(t.result=t.result.slice()),e.initialRender&&(this.contentModule.objectEqualityChecker=e.objectEqualityChecker),!this.isPrinting){const s=new Ss;return e.trigger(lJ,t,o=>{s.resolve(o)}),s}},this.grid.log=(t,i)=>{this.loggerModule&&this.loggerModule.log(t,i)}}bindCallBackEvents(){this.grid.toolbarClick=e=>{if(e.item.id===this.grid.element.id+"_excelexport"&&!1===this.allowExcelExport||e.item.id===this.grid.element.id+"_pdfexport"&&!1===this.allowPdfExport||e.item.id===this.grid.element.id+"_csvexport"&&!1===this.allowExcelExport)return;const t=new Ss;return this.trigger(bT,e,i=>{i.cancel||this.notify(bT,e),t.resolve(i)}),t},this.grid.cellSelecting=e=>{const t=new Ss;return this.trigger(Mt("name",e),e,i=>{t.resolve(i)}),t},this.grid.beginEdit=e=>{if(!h(e.row)&&e.row.classList.contains("e-summaryrow"))return void(e.cancel=!0);const t=new Ss;return this.trigger(ST,e,i=>{t.resolve(i)}),t}}extendedGridEditEvents(){this.grid.dataStateChange=e=>{this.isExpandRefresh?(this.isExpandRefresh=!1,this.grid.dataSource={result:this.flatData,count:M("count",this.grid.dataSource)}):this.trigger(aJ,e)},this.grid.cellSave=e=>{if(this.grid.isContextMenuOpen()){const i=this.grid.contextMenuModule.contextMenu.element.getElementsByClassName("e-selected")[0];(h(i)||i.id!==this.element.id+"_gridcontrol_cmenu_Save")&&(e.cancel=!0)}const t=new Ss;return this.trigger(R4,e,i=>{i.cancel||this.notify(R4,i),t.resolve(i)}),t},this.grid.cellSaved=e=>{this.trigger(ET,e),this.notify(ET,e)},this.grid.cellEdit=e=>{const i=new Ss;return e.promise=i,this.notify(TT,e),i},this.grid.batchAdd=e=>{this.trigger(kT,e),this.notify(kT,e)},this.grid.beforeBatchSave=e=>{this.trigger(FT,e),this.notify(FT,e)},this.grid.beforeBatchAdd=e=>{this.trigger(MT,e),this.notify(MT,e)},this.grid.batchDelete=e=>{this.trigger(gJ,e),this.notify(gJ,e)},this.grid.beforeBatchDelete=e=>{this.trigger(AT,e),this.notify(AT,e)},this.grid.batchCancel=e=>{"Cell"!==this.editSettings.mode&&this.trigger(RT,e),this.notify(RT,e)}}updateRowTemplate(){this.treeColumnRowTemplate()}bindedDataSource(){const e="dataSource",n="ready";if(this.dataSource&&Ps(this)){const s=this.flatData,o=M("count",this.dataSource);this.grid.dataSource={result:s,count:o}}else this.grid.dataSource=this.dataSource instanceof ie?new ie(this.dataSource.dataSource,this.dataSource.defaultQuery,this.dataSource.adaptor):this.flatData;if(this.dataSource instanceof ie&&(this.dataSource.dataSource.offline||this.dataSource.ready)){this.grid.dataSource[e].json=Ud(this.dataSource[e].json),this.grid.dataSource[n]=this.dataSource.ready;const s=this;h(this.grid.dataSource[n])||this.grid.dataSource[n].then(o=>{const l=s.grid.dataSource;l[e].offline=!0,l.isDataAvailable=!0,l[e].json=o.result,l.adaptor=new lD})}}extendedGridActionEvents(){this.grid.actionBegin=e=>{if("sorting"===e.requestType&&e.target&&e.target.parentElement&&e.target.parentElement.classList.contains("e-hierarchycheckbox")&&(e.cancel=!0),"reorder"===Mt("requestType",e)&&this.notify("getColumnIndex",{}),this.notify("actionBegin",{editAction:e}),!$s(this)&&!h(this.filterModule)&&!Ps(this)&&(0===this.grid.filterSettings.columns.length||0===this.grid.searchSettings.key.length)&&(this.notify("clearFilters",{flatData:this.grid.dataSource}),this.grid.setProperties({dataSource:this.dataResults.result},!0),h(this.grid.changedProperties.dataSource)&&(this.grid.renderModule.data.dataManager=this.grid.dataSource instanceof ie?this.grid.dataSource:h(this.grid.dataSource)?new ie:new ie(this.grid.dataSource),this.grid.renderModule.data.isQueryInvokedFromData=!0,this.grid.query=this.grid.query instanceof Ze?this.grid.query:new Ze)),"indenting"!==this.action&&"outdenting"!==this.action){const i=new Ss;return this.trigger(xT,e,n=>{n.cancel||this.notify(ST,n),i.resolve(n)}),i}},this.grid.actionComplete=e=>{if(this.notify("actioncomplete",e),this.updateColumnModel(),this.updateTreeGridModel(),"reorder"===e.requestType&&this.notify("setColumnIndex",{}),this.notify("actionComplete",{editAction:e}),"add"===e.requestType&&"Top"!==this.editSettings.newRowPosition&&"Bottom"!==this.editSettings.newRowPosition&&this.notify(IT,e),"batchsave"===e.requestType&&this.notify(r_,e),this.notify("updateGridActions",e),"save"===e.requestType&&this.aggregates.map(t=>!0===t.showChildSummary).length&&this.grid.refresh(),"indenting"===this.action||"outdenting"===this.action){this.action="indenting"===this.action?"indented":"outdented";const t=[this.selectedRecords];this.trigger(Wx,{data:t,dropIndex:this.dropIndex,dropPosition:this.dropPosition,modifiedRecords:this.modifiedRecords,requestType:this.action,row:this.selectedRows}),this.getCurrentViewRecords().filter(s=>s.uniqueID===t[0].uniqueID).length||this.refreshToolbarItems(),this.action="",this.selectedRecords=this.selectedRows=this.modifiedRecords=[]}else this.trigger(Wx,e)}}extendedGridEvents(){const e=this;this.grid.recordDoubleClick=t=>{this.trigger(DT,t),this.notify(DT,t)},this.grid.detailDataBound=t=>{this.notify("detaildataBound",t),this.trigger("detailDataBound",t)},this.grid.rowDataBound=function(t){h(this.isPrinting)?Ne("isPrinting",!1,t):Ne("isPrinting",this.isPrinting,t),e.renderModule.RowModifier(t)},this.grid.queryCellInfo=function(t){h(this.isPrinting)?Ne("isPrinting",!1,t):Ne("isPrinting",this.isPrinting,t),e.renderModule.cellRender(t)},this.grid.contextMenuClick=t=>{this.notify(pJ,t),this.trigger(pJ,t)},this.grid.contextMenuOpen=t=>{this.notify(uJ,t),this.trigger(uJ,t)},this.grid.queryCellInfo=t=>{this.renderModule.cellRender(t)}}bindGridDragEvents(){this.grid.rowDragStartHelper=e=>{this.trigger("rowDragStartHelper",e)},this.grid.rowDragStart=e=>{this.trigger("rowDragStart",e)},this.grid.rowDrag=e=>{this.grid.isEdit?e.cancel=!0:(this.notify("row-draging",e),this.trigger("rowDrag",e))},this.grid.rowDrop=e=>{this.grid.isEdit||this.notify("row-dropped",e),e.cancel=!0}}loadGrid(){this.bindGridProperties(),this.bindGridEvents(),Ne("registeredTemplate",this.registeredTemplate,this.grid),Ne("viewContainerRef",this.viewContainerRef,this.grid)}autoGenerateColumns(){if(!this.columns.length&&!this.dataModule.isRemote()&&Object.keys(this.dataSource).length){this.columns=[];const t=Object.keys(this.dataSource[0]);for(let i=0;i<t.length;i++)-1===[this.childMapping,this.parentIdMapping].indexOf(t[i])&&this.columns.push(t[i])}}getGridEditSettings(){const e={},t="guid";switch(e.allowAdding=this.editSettings.allowAdding,e.allowEditing=this.editSettings.allowEditing,e.allowDeleting=this.editSettings.allowDeleting,e.newRowPosition="Bottom"===this.editSettings.newRowPosition?"Bottom":"Top",e.allowEditOnDblClick=this.editSettings.allowEditOnDblClick,e.showConfirmDialog=this.editSettings.showConfirmDialog,e.template=this.editSettings.template,e.showDeleteConfirmDialog=this.editSettings.showDeleteConfirmDialog,e.allowNextRowEdit=this.editSettings.allowNextRowEdit,e[t]=this.editSettings[t],e.dialog=this.editSettings.dialog,this.editSettings.mode){case"Dialog":case"Batch":e.mode=this.editSettings.mode;break;case"Row":e.mode="Normal";break;case"Cell":e.mode="Normal",e.showConfirmDialog=!1}return e}getContextMenu(){if(this.contextMenuItems){const e=[];for(let t=0;t<this.contextMenuItems.length;t++)switch(this.contextMenuItems[t]){case"AddRow":case $x.AddRow:e.push({text:this.l10n.getConstant("AddRow"),target:".e-content",id:this.element.id+"_gridcontrol_cmenu_AddRow",items:[{text:this.l10n.getConstant("Above"),id:"Above"},{text:this.l10n.getConstant("Below"),id:"Below"},{text:this.l10n.getConstant("Child"),id:"Child"}]});break;case"Indent":case $x.RowIndent:e.push({text:this.l10n.getConstant("RowIndent"),target:".e-content",iconCss:"e-indent e-icons",id:this.element.id+"_gridcontrol_cmenu_Indent"});break;case"Outdent":case $x.RowOutdent:e.push({text:this.l10n.getConstant("RowOutdent"),target:".e-content",iconCss:"e-outdent e-icons",id:this.element.id+"_gridcontrol_cmenu_Outdent"});break;default:e.push(this.contextMenuItems[t])}return e}return null}getGridToolbar(){if(this.toolbar){this.l10n=new is("treegrid",this.defaultLocale,this.locale);const e=[];let t;for(let i=0;i<this.toolbar.length;i++)switch(this.toolbar[i]){case"Search":case Fg.Search:e.push("Search");break;case"Print":case Fg.Print:e.push("Print");break;case"ExpandAll":case Fg.ExpandAll:t=this.l10n.getConstant("ExpandAll"),e.push({text:t,tooltipText:t,prefixIcon:"e-expand",id:this.element.id+"_gridcontrol_expandall"});break;case"CollapseAll":case Fg.CollapseAll:t=this.l10n.getConstant("CollapseAll"),e.push({text:t,tooltipText:t,prefixIcon:"e-collapse",id:this.element.id+"_gridcontrol_collapseall"});break;case"Indent":case Fg.RowIndent:t=this.l10n.getConstant("RowIndent"),e.push({text:t,tooltipText:t,prefixIcon:"e-indent",id:this.element.id+"_gridcontrol_indent"});break;case"Outdent":case Fg.RowOutdent:t=this.l10n.getConstant("RowOutdent"),e.push({text:t,tooltipText:t,prefixIcon:"e-outdent",id:this.element.id+"_gridcontrol_outdent"});break;default:e.push(this.toolbar[i])}return e}return null}getGridColumns(e,t=!0,i=0){const n=e;let o,l;t&&(this.columnModel=[]),i=0===i?-1:i;const a=[];for(let c=0;c<n.length;c++){i+=1;const d=this.grid.getColumnByUid(n[c].uid);if(l=d||{},o={},"string"==typeof this.columns[c])l.field=o.field=this.columns[c];else for(const u of Object.keys(n[c]))i===this.treeColumnIndex&&"template"===u?o[u]=n[c][u]:"columns"!==u||h(n[c][u])?this.initialRender&&!h(d)&&this.enablePersistence&&"edit"===u?l[u]=o[u]=d[u]:(!d||"sortComparer"!==u)&&(l[u]=o[u]=n[c][u]):(l[u]=this.getGridColumns(n[c][u],!1,i),o[u]=n[c][u]);o.columns||this.columnModel.push(new iJ(o)),a.push(l),!h(this.columnModel[this.treeColumnIndex])&&this.enableRtl&&l.field===this.columnModel[this.treeColumnIndex].field&&(h(this.treeColumnTextAlign)&&(this.treeColumnTextAlign=this.columnModel[this.treeColumnIndex].textAlign,this.treeColumnField=this.columnModel[this.treeColumnIndex].field),l.textAlign="Right")}return a}onPropertyChanged(e){const t=Object.keys(e);let i=!1;for(const n of t){switch(n){case"columns":this.grid.columns=this.getGridColumns(this.columns);break;case"treeColumnIndex":this.grid.refreshColumns();break;case"allowPaging":this.grid.allowPaging=this.allowPaging;break;case"pageSettings":this.grid.pageSettings=Fs(this.pageSettings),i=!0;break;case"enableVirtualization":this.grid.enableVirtualization=this.enableVirtualization;break;case"enableColumnVirtualization":this.grid.enableColumnVirtualization=this.enableColumnVirtualization;break;case"toolbar":this.grid.toolbar=this.getGridToolbar();break;case"allowSelection":this.grid.allowSelection=this.allowSelection;break;case"selectionSettings":this.grid.selectionSettings=Fs(this.selectionSettings);break;case"allowSorting":this.grid.allowSorting=this.allowSorting;break;case"allowMultiSorting":this.grid.allowMultiSorting=this.allowMultiSorting;break;case"sortSettings":this.grid.sortSettings=Fs(this.sortSettings);break;case"searchSettings":this.grid.searchSettings=Fs(this.searchSettings);break;case"allowFiltering":this.grid.allowFiltering=this.allowFiltering;break;case"filterSettings":this.initialRender||(this.grid.filterSettings=Fs(this.filterSettings));break;case"showColumnMenu":this.grid.showColumnMenu=this.showColumnMenu;break;case"allowRowDragAndDrop":this.grid.allowRowDragAndDrop=this.allowRowDragAndDrop;break;case"aggregates":this.grid.aggregates=Fs(this.aggregates);break;case"enableInfiniteScrolling":this.grid.enableInfiniteScrolling=this.enableInfiniteScrolling;break;case"dataSource":if(this.isLocalData=!(this.dataSource instanceof ie)||!h(this.dataSource.ready)||this.dataSource.adaptor instanceof $m,this.convertTreeData(this.dataSource),this.isLocalData){if(Ps(this)){const s=M("count",this.dataSource);this.grid.dataSource={result:this.flatData,count:s}}else{const s=this.dataSource;this.grid.dataSource=s instanceof ie?new ie(s.dataSource,s.defaultQuery,s.adaptor):this.flatData}this.enableVirtualization&&(this.grid.contentModule.isDataSourceChanged=!0)}else this.bindedDataSource(),this.enableVirtualization&&(this.grid.contentModule.removeEventListener(),this.grid.contentModule.eventListener("on"),this.grid.contentModule.renderTable());break;case"query":this.grid.query=this.query;break;case"enableCollapseAll":e[n]?this.collapseAll():this.expandAll();break;case"expandStateMapping":this.grid.refresh();break;case"gridLines":this.grid.gridLines=this.gridLines;break;case"rowTemplate":this.grid.rowTemplate=Fs(this.rowTemplate);break;case"frozenRows":this.grid.frozenRows=this.frozenRows;break;case"frozenColumns":this.grid.frozenColumns=this.frozenColumns;break;case"rowHeight":this.grid.rowHeight=this.rowHeight;break;case"height":!h(this.height)&&"string"==typeof this.height&&-1!==this.height.indexOf("%")&&(this.element.style.height=this.height),this.grid.height=this.height;break;case"width":!h(this.width)&&"string"==typeof this.width&&-1!==this.width.indexOf("%")&&(this.element.style.width=this.width),this.grid.width=this.width;break;case"locale":this.grid.locale=this.locale,this.TreeGridLocale(),this.grid.toolbar=this.getGridToolbar(),this.grid.contextMenuItems=this.getContextMenu();break;case"selectedRowIndex":this.grid.selectedRowIndex=this.selectedRowIndex;break;case"enableAltRow":this.grid.enableAltRow=this.enableAltRow;break;case"enableHover":this.grid.enableHover=this.enableHover;break;case"enableAutoFill":this.grid.enableAutoFill=this.enableAutoFill;break;case"enableAdaptiveUI":this.grid.enableAdaptiveUI=this.enableAdaptiveUI;break;case"enableImmutableMode":this.grid.enableImmutableMode=this.enableImmutableMode;break;case"allowExcelExport":this.grid.allowExcelExport=this.allowExcelExport;break;case"allowPdfExport":this.grid.allowPdfExport=this.allowPdfExport;break;case"enableRtl":h(this.treeColumnField)||this.updateTreeColumnTextAlign(),this.grid.enableRtl=this.enableRtl;break;case"allowReordering":this.grid.allowReordering=this.allowReordering;break;case"allowResizing":this.grid.allowResizing=this.allowResizing;break;case"textWrapSettings":this.grid.textWrapSettings=Fs(this.textWrapSettings);break;case"allowTextWrap":this.grid.allowTextWrap=Fs(this.allowTextWrap),this.grid.refresh();break;case"contextMenuItems":this.grid.contextMenuItems=this.getContextMenu();break;case"showColumnChooser":this.grid.showColumnChooser=this.showColumnChooser;break;case"detailTemplate":this.grid.detailTemplate=Fs(this.detailTemplate);break;case"columnMenuItems":this.grid.columnMenuItems=Fs(this.columnMenuItems);break;case"editSettings":this.grid.isEdit&&"Normal"===this.grid.editSettings.mode&&e[n].mode&&("Cell"===e[n].mode||"Row"===e[n].mode)&&this.grid.closeEdit(),this.grid.editSettings=this.getGridEditSettings()}i&&this.grid.refresh()}}updateTreeColumnTextAlign(){this.grid.getColumnByField(this.treeColumnField).textAlign=this.enableRtl?"Right":this.treeColumnTextAlign,this.grid.refreshColumns()}destroy(){const e=this.element;if(!e)return;const t=!(!e.querySelector(".e-gridheader")||!e.querySelector(".e-gridcontent"));t&&this.unwireEvents(),this.removeListener(),t&&super.destroy(),this.grid&&this.grid.destroy(),this.dataModule&&this.dataModule.destroy();const i=["dataModule","sortModule","renderModule","filterModule","printModule","clipboardModule","excelExportModule","pdfExportModule","toolbarModule","summaryModule","reorderModule","resizeModule","pagerModule","keyboardModule","columnMenuModule","contextMenuModule","editModule","virtualScrollModule","selectionModule","detailRow","rowDragAndDropModule","freezeModule"];for(let n=0;n<i.length;n++)this[i[n]]&&(this[i[n]]=null);this.element.innerHTML="",this.grid=null}dataBind(){h(this.grid)||(!h(this.rowDropSettings.targetID)&&h(document.getElementById(this.grid.rowDropSettings.targetID))&&(document.getElementById(this.rowDropSettings.targetID).id=this.grid.rowDropSettings.targetID,this.rowDropSettings.targetID=this.grid.rowDropSettings.targetID),super.dataBind(),this.grid.dataBind())}getPersistData(){const e=["pageSettings","sortSettings","filterSettings","columns","searchSettings","selectedRowIndex","treeColumnIndex"],t={pageSettings:["template","pageSizes","pageSizeMode","enableQueryString","totalRecordsCount","pageCount"],filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent","hierarchyMode"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[]};for(let n=0;n<e.length;n++){const s=this[e[n]];for(let o=0,l=t[e[n]];!h(l)&&o<l.length;o++)delete s[l[o]]}return this.ignoreInArrays(["filter","edit","filterBarTemplate","headerTemplate","template","commandTemplate","commands","dataSource"],this.columns),this.addOnPersist(e)}ignoreInArrays(e,t){for(let i=0;i<t.length;i++)t[i].columns?(this.ignoreInColumn(e,t[i]),this.ignoreInArrays(e,t[i].columns)):this.ignoreInColumn(e,t[i])}ignoreInColumn(e,t){for(let i=0;i<e.length;i++)delete t[e[i]],t.filter={}}mouseClickHandler(e){if(!h(e.touches))return;const t=e.target;(t.classList.contains("e-treegridexpand")||t.classList.contains("e-treegridcollapse"))&&!this.isEditCollapse&&!this.grid.isEdit&&this.expandCollapseRequest(t),this.isEditCollapse=!1,this.notify("checkboxSelection",{target:t})}getRows(){return this.grid.getRows()}getPager(){return this.grid.getPager()}addRecord(e,t,i){this.editModule&&(this.editModule.isAddedRowByMethod=!0,this.editModule.addRecord(e,t,i))}closeEdit(){this.grid.editModule&&this.grid.editModule.closeEdit()}saveCell(){this.grid.editModule&&this.grid.editModule.saveCell()}updateCell(e,t,i){this.grid.editModule&&this.grid.editModule.updateCell(e,t,i)}updateRow(e,t){if(this.grid.editModule)if(h(e))this.grid.editModule.updateRow(e,t);else{const i=this.grid.getCurrentViewRecords()[e];O(i,t),this.grid.editModule.updateRow(e,i)}}deleteRecord(e,t){this.grid.editModule&&this.grid.editModule.deleteRecord(e,t)}startEdit(e){this.grid.editModule&&this.grid.editModule.startEdit(e)}editCell(e,t){this.editModule&&this.editModule.editCell(e,t)}enableToolbarItems(e,t){this.grid.toolbarModule&&this.grid.toolbarModule.enableItems(e,t)}endEdit(){this.grid.editModule&&this.grid.editModule.endEdit()}openColumnChooser(e,t){this.columnChooserModule&&this.columnChooserModule.openColumnChooser(e,t)}deleteRow(e){this.grid.editModule&&this.grid.editModule.deleteRow(e)}getPrimaryKeyFieldNames(){return this.grid.getPrimaryKeyFieldNames()}setCellValue(e,t,i){this.grid.setCellValue(e,t,i);const n=this.grid.getRowIndexByPrimaryKey(e),s=this.getCurrentViewRecords()[n];h(s)||Lg({value:s,action:"edit"},this,this.isSelfReference,s.index,this.grid.selectedRowIndex,t)}setRowData(e,t){const i=this.getCurrentViewRecords(),n=this.grid.getPrimaryKeyFieldNames()[0];let s=0,o={};i.some(a=>a[n]===e&&(o=a,!0)),s=o.level,t.level=s,t.index=o.index,t.childRecords=o.childRecords,t.taskData=o.taskData,t.uniqueID=o.uniqueID,t.parentItem=o.parentItem,t.checkboxState=o.checkboxState,t.hasChildRecords=o.hasChildRecords,t.parentUniqueID=o.parentUniqueID,t.expanded=o.expanded,this.grid.setRowData(e,t);const l=this.getVisibleRecords();if(l.length>0&&e===l[l.length-1][n]){const c=this.getContentTable().scrollHeight,d=this.getContent().clientHeight;this.lastRowBorder(this.getRows()[i.indexOf(o)],c<=d)}}goToPage(e){this.grid.pagerModule&&this.grid.pagerModule.goToPage(e)}updateExternalMessage(e){this.pagerModule&&this.grid.pagerModule.updateExternalMessage(e)}getCellFromIndex(e,t){return this.grid.getCellFromIndex(e,t)}getColumnByField(e){return Tp(this.columnModel,t=>{if(t.field===e)return t})[0]}getColumnByUid(e){let t=this.initialRender?this.grid.columns:this.columns;return this.grid.columns.length!==this.columnModel.length&&(t=this.grid.columnModel),Tp(t,n=>{if(n.uid===e)return n})[0]}getColumnFieldNames(){return this.grid.getColumnFieldNames()}getFooterContent(){return this.grid.getFooterContent()}getFooterContentTable(){return this.grid.getFooterContentTable()}showColumns(e,t){this.grid.showColumns(e,t),this.updateColumnModel()}hideColumns(e,t){this.grid.hideColumns(e,t),this.updateColumnModel()}getColumnHeaderByField(e){return this.grid.getColumnHeaderByField(e)}getColumnHeaderByIndex(e){return this.grid.getColumnHeaderByIndex(e)}getColumnHeaderByUid(e){return this.grid.getColumnHeaderByUid(e)}getColumnIndexByField(e){return this.grid.getColumnIndexByField(e)}getVirtualColIndexByUid(e){const i=Tp(this.grid.columnModel,(n,s)=>{if(n.uid===e)return s})[0];return h(i)?-1:i}getColumnIndexByUid(e){return this.grid.getColumnIndexByUid(e)}getColumns(e){return this.updateColumnModel(this.grid.getColumns(e)),this.columnModel}updateColumnModel(e){let t,i;const n=h(e)?this.grid.getColumns():e;let s;if(-1!==this.treeColumnIndex&&this.columnModel[this.treeColumnIndex]&&!h(this.columnModel[this.treeColumnIndex].template)&&(t=this.columnModel[this.treeColumnIndex].template,i=this.columnModel[this.treeColumnIndex].field),!this.enableColumnVirtualization||this.enableColumnVirtualization&&this.columnModel.length===n.length){this.columnModel=[];for(let l=0;l<n.length;l++){s={};for(const a of Object.keys(n[l]))s[a]=n[l][a];this.columnModel.push(new iJ(s)),i===this.columnModel[l].field&&"checkbox"!==this.columnModel[l].type&&!h(t)&&""!==t&&(this.columnModel[l].template=t)}}const o="deepMerge";return this[o]=["columns"],this.grid.columns.length!==this.columnModel.length&&(this.stackedHeader=!0),this.stackedHeader||this.setProperties({columns:this.columnModel},!0),this[o]=void 0,this.columnModel}getContent(){return this.grid.getContent()}mergePersistTreeGridData(){this.grid.mergePersistGridData.apply(this)}mergeColumns(e,t){this.grid.mergeColumns.apply(this,[e,t])}updateTreeGridModel(){this.setProperties({filterSettings:Mt("properties",this.grid.filterSettings)},!0),this.setProperties({pageSettings:Mt("properties",this.grid.pageSettings)},!0),this.setProperties({searchSettings:Mt("properties",this.grid.searchSettings)},!0),this.setProperties({sortSettings:Mt("properties",this.grid.sortSettings)},!0)}getContentTable(){return this.grid.getContentTable()}getDataRows(){const e=[],t=this.grid.getDataRows();for(let i=0,n=t.length;i<n;i++)t[i].classList.contains("e-summaryrow")||e.push(t[i]);return e}getCurrentViewRecords(){return this.grid.currentViewData}getBatchChanges(){return this.grid.editModule.getBatchChanges()}getHeaderContent(){return this.grid.getHeaderContent()}getHeaderTable(){return this.grid.getHeaderTable()}getRowByIndex(e){return this.grid.getRowByIndex(e)}getRowInfo(e){return this.grid.getRowInfo(e)}getUidByColumnField(e){return this.grid.getUidByColumnField(e)}getVisibleColumns(){const e=[];for(const t of this.columnModel)t.visible&&e.push(t);return e}showSpinner(){Go(this.element)}hideSpinner(){qo(this.element)}refresh(){this.uniqueIDCollection={},this.convertTreeData(this.dataSource),Ps(this)||(this.dataSource instanceof ie?this.grid.setProperties({dataSource:new ie(this.dataSource.dataSource,this.dataSource.defaultQuery,this.dataSource.adaptor)},!0):this.grid.dataSource=this.flatData),this.grid.refresh()}getCheckedRecords(){return this.selectionModule.getCheckedrecords()}getVisibleRecords(){let e=[];const t=this.getCurrentViewRecords();if(this.allowPaging)e=t;else for(let i=0;i<t.length;i++)e.push(t[i]),t[i].expanded||(i+=Fo(t[i]).length);return e}getCheckedRowIndexes(){return this.selectionModule.getCheckedRowIndexes()}selectCheckboxes(e){this.selectionModule.selectCheckboxes(e)}refreshColumns(e){h(e)||e?(this.grid.columns=this.getGridColumns(this.columns),this.grid.refreshColumns()):this.grid.setProperties({columns:this.getGridColumns(this.columns)},!0)}refreshHeader(){this.grid.refreshHeader()}expandCollapseRequest(e){if("Batch"===this.editSettings.mode){const t="dialogObj",i="showDialog";if(this.getBatchChanges()[this.changedRecords].length||this.getBatchChanges()[this.deletedRecords].length||this.getBatchChanges()[this.addedRecords].length)return this.grid.editModule[i]("CancelEdit",this.grid.editModule[t]),void(this.targetElement=e)}if(this.rowTemplate){const t=e.closest(".e-treerowcell").parentElement,i=this.getCurrentViewRecords()[t.rowIndex];e.classList.contains("e-treegridexpand")?this.collapseRow(t,i):this.expandRow(t,i)}else{const t=this.grid.getRowInfo(e);let i=t.rowData;this.enableImmutableMode&&(i=this.getCurrentViewRecords()[t.rowIndex]),e.classList.contains("e-treegridexpand")?this.collapseRow(t.row,i):this.expandRow(t.row,i)}}expandRow(e,t,i,n){t=this.getCollapseExpandRecords(e,t),!h(e)&&e.cells[0].classList.contains("e-lastrowcell")&&this.lastRowBorder(e,!1),this.trigger("expanding",{data:t,row:e,cancel:!1},o=>{if(!o.cancel){this.expandCollapse("expand",e,t),o.expandAll&&this.expandCollapseAllChildren(t,"expand",i,n);const l="Children";if((!$s(this)||wa(this))&&(!Ps(this)||!h(t[l]))){const a={data:t,row:e};this.setHeightForFrozenContent(),h(this.expandStateMapping)||this.updateExpandStateMapping(a.data,!0),this.trigger(_T,a)}}})}expandCollapseAllChildren(e,t,i,n){if(!h(i)&&e[this.getPrimaryKeyFieldNames()[0]]!==i||!h(n)&&n!==e.level)return;const s=Fo(e).filter(o=>o.hasChildRecords);s.unshift(e);for(let o=0;o<s.length;o++)this.expandCollapse(t,null,s[o])}setHeightForFrozenContent(){const e=this.grid.getFrozenLeftColumnsCount()>0||this.grid.getFrozenRightColumnsCount()>0;(this.grid.getFrozenColumns()>0||e)&&this.grid.contentModule.refreshScrollOffset()}getCollapseExpandRecords(e,t){return this.allowPaging&&"All"===this.pageSettings.pageSizeMode&&this.isExpandAll&&h(t)&&!$s(this)?t=this.flatData.filter(i=>i.hasChildRecords):h(t)&&(t=this.detailTemplate?this.grid.getCurrentViewRecords()[e.getAttribute("aria-rowindex")]:this.grid.getCurrentViewRecords()[e.rowIndex]),t}collapseRow(e,t,i){t=this.getCollapseExpandRecords(e,t),this.trigger("collapsing",{data:t,row:e,cancel:!1},s=>{if(!s.cancel){s.collapseAll&&this.expandCollapseAllChildren(t,"collapse",i),this.expandCollapse("collapse",e,t);const o={data:t,row:e};!$s(this)&&(this.setHeightForFrozenContent(),h(this.expandStateMapping)||this.updateExpandStateMapping(o.data,!1),this.trigger(dJ,o),this.enableInfiniteScrolling)&&this.grid.getContent().firstElementChild.scrollHeight-this.grid.getContent().firstElementChild.scrollTop<this.grid.getRowHeight()+ +this.height&&this.grid.getContent().firstElementChild.scrollBy(0,this.grid.getRowHeight())}})}updateExpandStateMapping(e,t){const i=e;if(i.length)for(let n=0;n<i.length;n++)i[n][this.expandStateMapping]=t,Lg({value:i[n],action:"edit"},this,this.isSelfReference,i[n].index,this.grid.selectedRowIndex,this.expandStateMapping);else e[this.expandStateMapping]=t,Lg({value:e,action:"edit"},this,this.isSelfReference,e.index,this.grid.selectedRowIndex,this.expandStateMapping)}expandAtLevel(e){if((this.allowPaging&&"All"===this.pageSettings.pageSizeMode||this.enableVirtualization)&&!$s(this)){const t=this.grid.dataSource.filter(i=>(i.hasChildRecords&&i.level===e&&(i.expanded=!0),i.hasChildRecords&&i.level===e));this.expandAction(t,null,e,!0)}else{const i=Mt("records",this.getRecordDetails(e));this.expandAction(i,null,e)}}expandByKey(e){this.expandCollapseActionByKey(e,"Expand")}expandAction(e,t,i,n=!1){for(let s=0;s<e.length;s++){if(!h(e[s].parentItem)){const o=e[s].parentItem.uniqueID;let l=this.flatData.filter(a=>a.uniqueID===o);$s(this)&&(l=this.getCurrentViewRecords().filter(a=>a.uniqueID===o)),!1===l[0].expanded?(e.push(l[0]),l[0].expanded=!0):Ap(this,l[0],this.parentData)||l[0].expanded&&void 0!==l[0].parentItem&&e.push(l[0])}n||this.expandRow(null,e[s],t,i)}n&&this.expandRow(null,e,t,i)}getRecordDetails(e){const t=this.getRows().filter(s=>-1!==s.className.indexOf("level"+e)&&(s.querySelector(".e-treegridcollapse")||s.querySelector(".e-treegridexpand")));return{records:this.getCurrentViewRecords().filter(s=>s.level===e&&s.hasChildRecords),rows:t}}collapseAtLevel(e){if((this.allowPaging&&"All"===this.pageSettings.pageSizeMode||this.enableVirtualization)&&!$s(this)){const t=this.grid.dataSource.filter(i=>(i.hasChildRecords&&i.level===e&&(i.expanded=!1),i.hasChildRecords&&i.level===e));this.collapseAction(t,null,!0)}else{const i=Mt("records",this.getRecordDetails(e));this.collapseAction(i)}}collapseByKey(e){this.expandCollapseActionByKey(e,"Collapse")}expandCollapseActionByKey(e,t){const i=this.getPrimaryKeyFieldNames()[0],n=$s(this)?this.getCurrentViewRecords():this.grid.dataSource;if(!h(i)){const s=n.filter(o=>o[i].toString()===e.toString());"Expand"===t?this.expandAction(s,e,null):this.collapseAction(s,e)}}collapseAction(e,t,i=!1){if(i)this.collapseRow(null,e);else for(let n=0;n<e.length;n++)this.collapseRow(null,e[n],t);if(!this.grid.contentModule.isDataSourceChanged&&this.enableVirtualization&&this.getRows()&&this.parentData.length===this.getRows().length){const n="endIndex";this.grid.contentModule.startIndex=-1,this.grid.contentModule[n]=-1}}expandAll(){this.expandCollapseAll("expand")}collapseAll(){this.expandCollapseAll("collapse")}expandCollapseAll(e){const t=this.getRows().filter(i=>i.querySelector(".e-treegrid"+("expand"===e?"collapse":"expand")));if(!t.length&&this.getRows().length&&t.push(this.getRows()[0]),this.isExpandAll=!0,this.isCollapseAll=!0,(this.allowPaging&&"All"===this.pageSettings.pageSizeMode||this.enableVirtualization||this.enableInfiniteScrolling)&&!$s(this)){if(this.flatData.filter(i=>{i.hasChildRecords&&(i.expanded="collapse"!==e)}),t.length)"collapse"===e?this.collapseRow(t[0]):this.expandRow(t[0]);else if(this.allowPaging){const i=this.enableCollapseAll;this.setProperties({enableCollapseAll:!0},!0),this.grid.pagerModule.goToPage(1),this.setProperties({enableCollapseAll:i},!0)}}else for(let i=0;i<t.length;i++)"collapse"===e?this.collapseRow(t[i]):this.expandRow(t[i]);this.isExpandAll=!1,this.isCollapseAll=!1}expandCollapse(e,t,i,n){const s={row:t,data:i,childData:[],requestType:e},o=this.getCurrentViewRecords().filter(d=>d.parentUniqueID===i.uniqueID);let l;!$s(this)&&"expand"===e&&this.isSelfReference&&Ps(this)&&!o.length&&this.updateChildOnDemand(s);let c,a=this.getRows();if(this.rowTemplate){const d=this.getContentTable().rows;a=[].slice.call(d)}if(h(t)?(c=this.getCurrentViewRecords().indexOf(i),t=a[c]):c=+t.getAttribute("aria-rowindex"),h(t)||t.setAttribute("aria-expanded","expand"===e?"true":"false"),!(this.allowPaging&&"All"===this.pageSettings.pageSizeMode||this.enableVirtualization||this.enableInfiniteScrolling)||$s(this)||Ps(this)){let d;if("expand"===e){if(d="table-row",n||(i.expanded=!0,this.uniqueIDCollection[i.uniqueID].expanded=i.expanded),h(t)||(l=t.getElementsByClassName("e-treegridcollapse")[0]),n&&!h(i[this.expandStateMapping])&&i[this.expandStateMapping]&&h(l)&&(l=t.getElementsByClassName("e-treegridexpand")[0]),h(l))return;l.classList.contains("e-treegridexpand")||_([l],"e-treegridexpand"),T([l],"e-treegridcollapse")}else{if(d="none",(!n||Ps(this))&&(i.expanded=!1,this.uniqueIDCollection[i.uniqueID].expanded=i.expanded),h(t)||(l=t.getElementsByClassName("e-treegridexpand")[0]),n&&!h(i[this.expandStateMapping])&&!i[this.expandStateMapping]&&h(l)&&(l=t.getElementsByClassName("e-treegridcollapse")[0]),h(l))return;l.classList.contains("e-treegridcollapse")||_([l],"e-treegridcollapse"),T([l],"e-treegridexpand")}const u=a.filter(p=>p.classList.contains("e-griddetailrowindex"+i.index+"level"+(i.level+1)));if($s(this)&&!wa(this)?this.remoteExpand(e,t,i):(!Ps(this)||o.length||"collapse"===e)&&this.localExpand(e,t,i),this.isPixelHeight()&&!t.cells[0].classList.contains("e-lastrowcell")){let p=this.getRows();const g=this.getContentTable().rows;p=[].slice.call(g);for(let f=p.length-1;f>=0;f--)if(!_J(p[f])){const v=this.getContentTable().scrollHeight,x=this.getContent().clientHeight;this.lastRowBorder(p[f],v<=x);break}}this.notify("rowExpandCollapse",{detailrows:u,action:d,record:i,row:t}),this.updateAltRow(a)}else this.notify(j0,{action:e,row:t,record:i})}updateChildOnDemand(e){const t=new Ss;e.childDataBind=t.resolve;const n=e.data;this.trigger(aJ,e),t.promise.then(()=>{if(e.childData.length){const s=this.flatData;let o=0;for(let d=0;d<s.length;d++)if(s[d].taskData===n.taskData){o=d;break}const l=M("result",this.dataSource),a=Ud(e.childData),c=n[this.childMapping]&&n[this.childMapping].length>a.length?n[this.childMapping].length:a.length;for(let d=0;d<c;d++)n[this.childMapping]&&l.filter((u,p)=>{u[this.parentIdMapping]===n[this.idMapping]&&l.splice(p,1)}),a[d]?(a[d].level=n.level+1,a[d].index=Math.ceil(1e3*Math.random()),a[d].parentItem=O({},n),a[d].taskData=O({},a[d]),delete a[d].parentItem.childRecords,delete a[d].taskData.parentItem,a[d].parentUniqueID=n.uniqueID,a[d].uniqueID=Ca(this.element.id+"_data_"),Ne("uniqueIDCollection."+a[d].uniqueID,a[d],this),(!h(a[d][this.childMapping])||a[d][this.hasChildMapping]&&Ps(this))&&(a[d].hasChildRecords=!0),s.splice(o+1+d,n[this.childMapping]&&n[this.childMapping][d]?1:0,a[d])):s.splice(o+1+d,1);s[o][this.childMapping]=a,s[o].childRecords=a,s[o].expanded=!0,Ne("uniqueIDCollection."+s[o].uniqueID,s[o],this);for(let d=0;d<e.childData.length;d++)l.push(e.childData[d])}this.isExpandRefresh=!0,this.grid.refresh(),this.setHeightForFrozenContent(),this.trigger(_T,e)})}remoteExpand(e,t,i){let n=this.getRows();if(this.rowTemplate){const l=this.getContentTable().rows;n=[].slice.call(l)}const s={data:i,row:t};let o=[];if(o=n.filter(l=>l.querySelector(".e-gridrowindex"+i.index+"level"+(i.level+1))),"expand"===e){this.notify(E4,{record:i,rows:o,parentRow:t});const l={row:t,data:i};o.length>0&&(this.setHeightForFrozenContent(),this.trigger(_T,l))}else this.collapseRemoteChild({record:i,rows:o}),this.setHeightForFrozenContent(),this.trigger(dJ,s)}localExpand(e,t,i){let n;const s=this.getCurrentViewRecords().filter(p=>p.parentUniqueID===i.uniqueID);this.isPixelHeight()&&t.cells[0].classList.contains("e-lastrowcell")&&this.lastRowBorder(t,!1);let o,l,a=this.getRows();if(this.rowTemplate){const p=this.getContentTable().rows;a=[].slice.call(p)}const c="expand"===e?"table-row":"none",d=this.getPrimaryKeyFieldNames()[0];if(this.enableImmutableMode&&!this.allowPaging){n=[];for(let p=0;p<s.length;p++){const g=this.grid.getRowIndexByPrimaryKey(s[p][d]);n.push(this.getRows()[g])}}else n=a.filter(p=>p.querySelector(".e-gridrowindex"+i.index+"level"+(i.level+1)));const u=this.grid.getFrozenLeftColumnsCount()>0||this.grid.getFrozenRightColumnsCount()>0;(this.frozenRows||this.frozenColumns||this.getFrozenColumns()||u)&&(o=this.getMovableRows().filter(p=>p.querySelector(".e-gridrowindex"+i.index+"level"+(i.level+1)))),u&&(l=this.getFrozenRightRows().filter(p=>p.querySelector(".e-gridrowindex"+i.index+"level"+(i.level+1))));for(let p=0;p<n.length;p++)h(n[p])||(n[p].style.display=c),h(o)||(o[p].style.display=c),h(l)||(l[p].style.display=c),this.notify("childRowExpand",{row:n[p]}),!h(s[p].childRecords)&&s[p].childRecords.length>0&&("expand"!==e||h(s[p].expanded)||s[p].expanded)&&(this.expandCollapse(e,n[p],s[p],!0),this.frozenColumns<=this.treeColumnIndex&&!h(o)&&this.expandCollapse(e,o[p],s[p],!0))}updateAltRow(e){if(this.enableAltRow&&!this.rowTemplate){let t=0;for(let i=0;e&&i<e.length;i++){const n=e[i];"none"!==n.style.display&&(n.classList.contains("e-altrow")&&T([n],"e-altrow"),t%2!=0&&!n.classList.contains("e-summaryrow")&&!n.classList.contains("e-detailrow")&&_([n],"e-altrow"),!n.classList.contains("e-summaryrow")&&!n.classList.contains("e-detailrow")&&t++)}}}treeColumnRowTemplate(){if(this.rowTemplate){let e=this.getContentTable().rows;e=[].slice.call(e);for(let t=0;t<e.length;t++){const i=this.grid.getContentTable().rows[t].cells[this.treeColumnIndex],n=e[t],o={data:this.grid.getRowsObject()[t].data,row:n,cell:i,column:this.getColumns()[this.treeColumnIndex]};this.renderModule.cellRender(o)}}}collapseRemoteChild(e,t){t||(e.record.expanded=!1);const i=e.rows;let n,s,o=[],l=[];const a=this.getFrozenLeftColumnsCount()>0||this.getFrozenRightColumnsCount()>0;a&&(o=this.getMovableRows().filter(c=>c.querySelector(".e-gridrowindex"+e.record.index+"level"+(e.record.level+1))),l=this.getFrozenRightRows().filter(c=>c.querySelector(".e-gridrowindex"+e.record.index+"level"+(e.record.level+1))));for(let c=0;c<i.length;c++){i[c].style.display="none",n=i[c];const d=i[c].querySelector(".e-detailrowexpand");if(h(d)||this.grid.detailRowModule.collapse(d),a&&(o[c].style.display="none",l[c].style.display="none",i[c].querySelector(".e-treecolumn-container .e-treegridexpand")||(o[c].querySelector(".e-treecolumn-container .e-treegridexpand")?n=o[c]:l[c].querySelector(".e-treecolumn-container .e-treegridexpand")&&(n=l[c]))),n.querySelector(".e-treecolumn-container .e-treegridexpand")){const u=n.querySelector(".e-treecolumn-container .e-treegridexpand");s=this.rowTemplate?this.grid.getCurrentViewRecords()[i[c].rowIndex]:this.grid.getRowObjectFromUID(i[c].getAttribute("data-Uid")).data,!h(u)&&s.expanded&&(T([u],"e-treegridexpand"),_([u],"e-treegridcollapse"));const p=[],g=this.getRows();for(let f=0;f<g.length;f++)g[f].querySelector(".e-gridrowindex"+s.index+"level"+(s.level+1))&&p.push(g[f]);p.length&&s.expanded&&this.collapseRemoteChild({record:s,rows:p},!0)}}}updateRowAndCellElements(e,t,i){for(let n=0;n<e.length;n++)this.renderModule.cellRender({data:e[n],cell:t[n].cells[i],column:this.grid.getColumns()[this.treeColumnIndex],requestType:"rowDragAndDrop"}),("indenting"===this.action||"outdenting"===this.action)&&this.renderModule.RowModifier({data:e[n],row:t[n]})}addListener(){this.on("updateResults",this.updateResultModel,this),this.grid.on("initial-end",this.afterGridRender,this)}updateResultModel(e){this.dataResults=e}removeListener(){this.isDestroyed||(this.off("updateResults",this.updateResultModel),this.grid.off("initial-end",this.afterGridRender))}filterByColumn(e,t,i,n,s,o,l,a){this.grid.filterByColumn(e,t,i,n,s,o,l,a)}clearFiltering(){this.grid.clearFiltering()}removeFilteredColsByField(e,t){this.grid.removeFilteredColsByField(e,t)}selectRow(e,t){this.grid.selectRow(e,t)}selectRows(e){this.grid.selectRows(e)}clearSelection(){this.grid.clearSelection()}copy(e){this.clipboardModule.copy(e)}paste(e,t,i){this.clipboardModule.paste(e,t,i)}selectCell(e,t){this.grid.selectCell(e,t)}getSelectedRows(){return this.grid.getSelectedRows()}getMovableCellFromIndex(e,t){return this.grid.getMovableCellFromIndex(e,t)}getMovableDataRows(){return this.grid.getMovableDataRows()}getMovableRowByIndex(e){return this.grid.getMovableRowByIndex(e)}getMovableRows(){return this.grid.getMovableRows()}getFrozenRightRowByIndex(e){return this.grid.getFrozenRightRowByIndex(e)}getFrozenRightRows(){return this.grid.getFrozenRightRows()}getFrozenRightDataRows(){return this.grid.getFrozenRightDataRows()}getFrozenRightCellFromIndex(e,t){return this.grid.getFrozenRightCellFromIndex(e,t)}getFrozenLeftColumnHeaderByIndex(e){return this.grid.getFrozenLeftColumnHeaderByIndex(e)}getFrozenRightColumnHeaderByIndex(e){return this.grid.getFrozenRightColumnHeaderByIndex(e)}getMovableColumnHeaderByIndex(e){return this.grid.getMovableColumnHeaderByIndex(e)}getMovableColumnsCount(){return this.grid.getMovableColumnsCount()}getFrozenLeftColumnsCount(){return this.grid.getFrozenLeftColumnsCount()}getFrozenRightColumnsCount(){return this.grid.getFrozenRightColumnsCount()}getFrozenLeftColumns(){return this.updateColumnModel(this.grid.getFrozenLeftColumns()),this.columnModel}getFrozenRightColumns(){return this.updateColumnModel(this.grid.getFrozenRightColumns()),this.columnModel}getVisibleMovableCount(){return this.grid.getVisibleMovableCount()}getVisibleFrozenRightCount(){return this.grid.getVisibleFrozenRightCount()}getVisibleFrozenLeftCount(){return this.grid.getVisibleFrozenLeftCount()}getMovableColumns(){return this.updateColumnModel(this.grid.getMovableColumns()),this.columnModel}getFrozenColumns(){return this.getFrozenCount(this.columns,0)+this.frozenColumns}getFrozenCount(e,t){for(let i=0,n=e.length;i<n;i++)e[i].columns?t=this.getFrozenCount(e[i].columns,t):e[i].isFrozen&&t++;return t}getSelectedRowIndexes(){return this.grid.getSelectedRowIndexes()}getSelectedRowCellIndexes(){return this.grid.getSelectedRowCellIndexes()}getSelectedRecords(){return this.grid.getSelectedRecords()}getDataModule(){return{baseModule:this.grid.getDataModule(),treeModule:this.dataModule}}reorderRows(e,t,i){this.rowDragAndDropModule.reorderRows(e,t,i)}indent(e){h(this.rowDragAndDropModule)||this.rowDragAndDropModule[this.indentOutdentAction](e=e,"indent")}outdent(e){h(this.rowDragAndDropModule)||this.rowDragAndDropModule[this.indentOutdentAction](e=e,"outdent")}};rt([y(0)],it.prototype,"frozenRows",void 0),rt([y(0)],it.prototype,"frozenColumns",void 0),rt([y("Ellipsis")],it.prototype,"clipMode",void 0),rt([y([])],it.prototype,"columns",void 0),rt([y(null)],it.prototype,"childMapping",void 0),rt([y(null)],it.prototype,"hasChildMapping",void 0),rt([y(0)],it.prototype,"treeColumnIndex",void 0),rt([y(null)],it.prototype,"idMapping",void 0),rt([y(null)],it.prototype,"parentIdMapping",void 0),rt([y(!1)],it.prototype,"enableCollapseAll",void 0),rt([y(null)],it.prototype,"expandStateMapping",void 0),rt([y(!1)],it.prototype,"allowRowDragAndDrop",void 0),rt([y([])],it.prototype,"dataSource",void 0),rt([y()],it.prototype,"query",void 0),rt([y()],it.prototype,"cloneQuery",void 0),rt([y("AllPages")],it.prototype,"printMode",void 0),rt([y(!1)],it.prototype,"allowPaging",void 0),rt([y(!1)],it.prototype,"loadChildOnDemand",void 0),rt([y(!1)],it.prototype,"allowTextWrap",void 0),rt([gi({},nJ)],it.prototype,"textWrapSettings",void 0),rt([y(!1)],it.prototype,"allowReordering",void 0),rt([y(!1)],it.prototype,"allowResizing",void 0),rt([y(!1)],it.prototype,"autoCheckHierarchy",void 0),rt([gi({},Pg)],it.prototype,"pageSettings",void 0),rt([gi({},t4)],it.prototype,"rowDropSettings",void 0),rt([y()],it.prototype,"pagerTemplate",void 0),rt([y(!1)],it.prototype,"showColumnMenu",void 0),rt([y(!1)],it.prototype,"showColumnChooser",void 0),rt([y(!1)],it.prototype,"allowSorting",void 0),rt([y(!0)],it.prototype,"allowMultiSorting",void 0),rt([gi({},B4)],it.prototype,"sortSettings",void 0),rt([Hr([],L4)],it.prototype,"aggregates",void 0),rt([gi({},Oh)],it.prototype,"editSettings",void 0),rt([y(!1)],it.prototype,"allowFiltering",void 0),rt([y()],it.prototype,"detailTemplate",void 0),rt([gi({},Mg)],it.prototype,"filterSettings",void 0),rt([gi({},Ux)],it.prototype,"searchSettings",void 0),rt([y()],it.prototype,"toolbar",void 0),rt([y()],it.prototype,"toolbarTemplate",void 0),rt([y("Default")],it.prototype,"gridLines",void 0),rt([y()],it.prototype,"contextMenuItems",void 0),rt([y()],it.prototype,"columnMenuItems",void 0),rt([y()],it.prototype,"rowTemplate",void 0),rt([y("Parent")],it.prototype,"copyHierarchyMode",void 0),rt([y(null)],it.prototype,"rowHeight",void 0),rt([y(!0)],it.prototype,"enableAltRow",void 0),rt([y(!0)],it.prototype,"allowKeyboard",void 0),rt([y(!1)],it.prototype,"enableHover",void 0),rt([y(!1)],it.prototype,"enableAutoFill",void 0),rt([y(!1)],it.prototype,"enableAdaptiveUI",void 0),rt([y(!1)],it.prototype,"enableImmutableMode",void 0),rt([y("auto")],it.prototype,"height",void 0),rt([y("auto")],it.prototype,"width",void 0),rt([y(!1)],it.prototype,"enableVirtualization",void 0),rt([y(!1)],it.prototype,"enableColumnVirtualization",void 0),rt([y(!1)],it.prototype,"enableInfiniteScrolling",void 0),rt([gi({},LT)],it.prototype,"infiniteScrollSettings",void 0),rt([y("All")],it.prototype,"columnQueryMode",void 0),rt([E()],it.prototype,"created",void 0),rt([E()],it.prototype,"load",void 0),rt([E()],it.prototype,"expanding",void 0),rt([E()],it.prototype,"expanded",void 0),rt([E()],it.prototype,"collapsing",void 0),rt([E()],it.prototype,"collapsed",void 0),rt([E()],it.prototype,"cellSave",void 0),rt([E()],it.prototype,"cellSaved",void 0),rt([E()],it.prototype,"actionBegin",void 0),rt([E()],it.prototype,"actionComplete",void 0),rt([E()],it.prototype,"beginEdit",void 0),rt([E()],it.prototype,"batchAdd",void 0),rt([E()],it.prototype,"batchDelete",void 0),rt([E()],it.prototype,"batchCancel",void 0),rt([E()],it.prototype,"beforeBatchAdd",void 0),rt([E()],it.prototype,"beforeBatchDelete",void 0),rt([E()],it.prototype,"beforeBatchSave",void 0),rt([E()],it.prototype,"cellEdit",void 0),rt([E()],it.prototype,"actionFailure",void 0),rt([E()],it.prototype,"dataBound",void 0),rt([E()],it.prototype,"dataSourceChanged",void 0),rt([E()],it.prototype,"dataStateChange",void 0),rt([E()],it.prototype,"recordDoubleClick",void 0),rt([E()],it.prototype,"rowDataBound",void 0),rt([E()],it.prototype,"detailDataBound",void 0),rt([E()],it.prototype,"queryCellInfo",void 0),rt([y(!0)],it.prototype,"allowSelection",void 0),rt([E()],it.prototype,"rowSelecting",void 0),rt([E()],it.prototype,"rowSelected",void 0),rt([E()],it.prototype,"rowDeselecting",void 0),rt([E()],it.prototype,"rowDeselected",void 0),rt([E()],it.prototype,"headerCellInfo",void 0),rt([E()],it.prototype,"cellSelecting",void 0),rt([E()],it.prototype,"columnMenuOpen",void 0),rt([E()],it.prototype,"columnMenuClick",void 0),rt([E()],it.prototype,"cellSelected",void 0),rt([E()],it.prototype,"cellDeselecting",void 0),rt([E()],it.prototype,"cellDeselected",void 0),rt([E()],it.prototype,"resizeStart",void 0),rt([E()],it.prototype,"resizing",void 0),rt([E()],it.prototype,"resizeStop",void 0),rt([E()],it.prototype,"columnDragStart",void 0),rt([E()],it.prototype,"columnDrag",void 0),rt([E()],it.prototype,"columnDrop",void 0),rt([E()],it.prototype,"checkboxChange",void 0),rt([E()],it.prototype,"printComplete",void 0),rt([E()],it.prototype,"beforePrint",void 0),rt([E()],it.prototype,"toolbarClick",void 0),rt([E()],it.prototype,"beforeDataBound",void 0),rt([E()],it.prototype,"contextMenuOpen",void 0),rt([E()],it.prototype,"contextMenuClick",void 0),rt([E()],it.prototype,"beforeCopy",void 0),rt([E()],it.prototype,"beforePaste",void 0),rt([E()],it.prototype,"rowDrag",void 0),rt([E()],it.prototype,"rowDragStart",void 0),rt([E()],it.prototype,"rowDragStartHelper",void 0),rt([E()],it.prototype,"rowDrop",void 0),rt([y(-1)],it.prototype,"selectedRowIndex",void 0),rt([gi({},Qf)],it.prototype,"selectionSettings",void 0),rt([y(!1)],it.prototype,"allowExcelExport",void 0),rt([y(!1)],it.prototype,"allowPdfExport",void 0),rt([E()],it.prototype,"pdfQueryCellInfo",void 0),rt([E()],it.prototype,"pdfHeaderQueryCellInfo",void 0),rt([E()],it.prototype,"excelQueryCellInfo",void 0),rt([E()],it.prototype,"excelHeaderQueryCellInfo",void 0),rt([E()],it.prototype,"beforeExcelExport",void 0),rt([E()],it.prototype,"excelExportComplete",void 0),rt([E()],it.prototype,"beforePdfExport",void 0),rt([E()],it.prototype,"pdfExportComplete",void 0),it=V4=rt([Pi],it),function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);n>3&&s&&Object.defineProperty(e,t,s)}([y()],class SMe extends Nt{}.prototype,"targetID",void 0);class IMe extends m4{constructor(e){super(e),this.addEventListener()}addEventListener(){this.parent.on(yJ,this.getDatas,this)}getDatas(e){this.visualData=e.data}getDataInfo(){return super.getData()}generateRows(e,t){!h(t.virtualInfo)&&t.virtualInfo.loadNext&&t.virtualInfo.nextInfo.page!==this.parent.pageSettings.currentPage?this.parent.setProperties({pageSettings:{currentPage:t.virtualInfo.nextInfo.page}},!0):!h(t.virtualInfo)&&!t.virtualInfo.loadNext&&t.virtualInfo.page!==this.parent.pageSettings.currentPage&&this.parent.setProperties({pageSettings:{currentPage:t.virtualInfo.page}},!0);const i=this.getDataInfo();if(h(t.virtualInfo)||(t.virtualInfo.blockIndexes="right"!==t.virtualInfo.direction&&"left"!==t.virtualInfo.direction?i.blockIndexes:this.getBlockIndexes(t.virtualInfo.page)),this.parent.dataSource instanceof ie&&void 0!==this.parent.dataSource.dataSource.url&&!this.parent.dataSource.dataSource.offline&&""!==this.parent.dataSource.dataSource.url||Ps(this.parent))return super.generateRows(e,t);{!h(t.requestType)&&"collapseAll"===t.requestType.toString()&&(t.requestType="refresh");const n=super.generateRows(e,t);for(let s=0;s<n.length;s++)n[s].index=this.visualData.indexOf(n[s].data);return n}}checkAndResetCache(e){const t=["paging","refresh","sorting","filtering","searching","reorder","save","delete"].some(i=>e===i);if(this.parent.dataSource instanceof ie&&void 0!==this.parent.dataSource.dataSource.url&&!this.parent.dataSource.dataSource.offline&&""!==this.parent.dataSource.dataSource.url||Ps(this.parent)){const n=this.model.currentPage;t?(this.cache={},this.data={},this.groups={}):"virtualscroll"===e&&this.cache[n]&&this.cache[n].length>this.parent.contentModule.getBlockSize()&&delete this.cache[n]}else(t||"virtualscroll"===e)&&(this.cache={},this.data={},this.groups={});return t}}class LMe{constructor(e){this.batchChildCount=0,this.addedRecords="addedRecords",this.deletedRecords="deletedRecords",this.batchAddedRecords=[],this.batchDeletedRecords=[],this.batchAddRowRecord=[],this.parent=e,this.isSelfReference=!h(e.parentIdMapping),this.batchRecords=[],this.currentViewRecords=[],this.isAdd=!1,this.addEventListener()}addEventListener(){this.parent.on(ET,this.cellSaved,this),this.parent.on(kT,this.batchAdd,this),this.parent.on(MT,this.beforeBatchAdd,this),this.parent.on(r_,this.batchSave,this),this.parent.on(AT,this.beforeBatchDelete,this),this.parent.on(FT,this.beforeBatchSave,this),this.parent.on("batchPageAction",this.batchPageAction,this),this.parent.on("batchCancelAction",this.batchCancelAction,this),this.parent.grid.on("immutable-batch-cancel",this.immutableBatchAction,this),this.parent.grid.on("next-cell-index",this.nextCellIndex,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off(ET,this.cellSaved),this.parent.off(kT,this.batchAdd),this.parent.off(r_,this.batchSave),this.parent.off(MT,this.beforeBatchAdd),this.parent.off(AT,this.beforeBatchDelete),this.parent.off(FT,this.beforeBatchSave),this.parent.off("batchPageAction",this.batchPageAction),this.parent.off("batchCancelAction",this.batchCancelAction),this.parent.grid.off("immutable-batch-cancel",this.immutableBatchAction),this.parent.grid.off("next-cell-index",this.nextCellIndex))}destroy(){this.removeEventListener()}getBatchRecords(){return this.batchRecords}getAddRowIndex(){return this.addRowIndex}getSelectedIndex(){return this.selectedIndex}getBatchChildCount(){return this.batchChildCount}batchPageAction(){const e=this.parent.grid.dataSource instanceof ie?this.parent.grid.dataSource.dataSource.json:this.parent.grid.dataSource,t=this.parent.grid.getPrimaryKeyFieldNames()[0];let i;if(!h(this.batchAddedRecords)&&this.batchAddedRecords.length)for(let n=0;n<this.batchAddedRecords.length;n++)i=e.map(s=>s[t]).indexOf(this.batchAddedRecords[n][t]),e.splice(i,1);this.batchAddedRecords=this.batchRecords=this.batchAddRowRecord=this.batchDeletedRecords=this.currentViewRecords=[]}cellSaved(e){let t=e.cell.cellIndex;const i=this.parent.frozenColumns||this.parent.getFrozenColumns();if(i&&e.columnObject.index>i&&(t+=i),this.parent.getFrozenLeftColumnsCount()>0||this.parent.getFrozenRightColumnsCount()>0?this.parent.getFrozenLeftColumnsCount()+t===this.parent.treeColumnIndex&&this.parent.renderModule.cellRender({data:e.rowData,cell:e.cell,column:this.parent.grid.getColumnByIndex(e.cell.cellIndex)}):t===this.parent.treeColumnIndex&&this.parent.renderModule.cellRender({data:e.rowData,cell:e.cell,column:this.parent.grid.getColumnByIndex(e.cell.cellIndex)}),this.isAdd&&"Batch"===this.parent.editSettings.mode&&"Bottom"!==this.parent.editSettings.newRowPosition){const s=this.parent.grid.dataSource instanceof ie?this.parent.grid.dataSource.dataSource.json:this.parent.grid.dataSource;let o;const l="level",a=this.parent.grid.getPrimaryKeyFieldNames()[0];let c,d;const u="parentItem",p="uniqueID",g=this.selectedIndex>-1?this.batchRecords[this.addRowIndex][u]:null;let f,m,v,x="Top"===this.parent.editSettings.newRowPosition||-1===this.selectedIndex?0:"Above"===this.parent.editSettings.newRowPosition?this.addRowIndex:this.addRowIndex+1;if(x=this.getActualRowObjectIndex(x),this.newBatchRowAdded){if(this.batchRecords.length&&(f=this.batchRecords[this.addRowIndex][this.parent.idMapping],v=this.batchRecords[this.addRowIndex][this.parent.parentIdMapping],this.batchRecords[this.addRowIndex][u]&&(m=this.batchRecords[this.addRowIndex][u][p])),this.batchAddedRecords=Ud(this.batchAddedRecords),this.batchAddRowRecord=Ud(this.batchAddRowRecord),this.batchAddRowRecord.push(this.batchRecords[this.addRowIndex]),o=this.parent.grid.getRowsObject()[x].changes,o.uniqueID=Ca(this.parent.element.id+"_data_"),Ne("uniqueIDCollection."+o.uniqueID,o,this.parent),!Object.prototype.hasOwnProperty.call(o,"level")){if(this.batchIndex=-1===this.selectedIndex?0:this.batchIndex,"Child"===this.parent.editSettings.newRowPosition){if(o.primaryParent=g,this.selectedIndex>-1){o.parentItem=O({},this.batchRecords[this.addRowIndex]),o.parentUniqueID=o.parentItem.uniqueID,delete o.parentItem.childRecords,delete o.parentItem[this.parent.childMapping],o.level=o.parentItem.level+1,o.index=this.batchIndex;const w=Fo(this.batchRecords[this.addRowIndex]).length;let b=Fo(this.batchRecords[this.addRowIndex])[w-1];b=h(b)?this.batchRecords[this.addRowIndex]:b,c=s.map(I=>I[a]).indexOf(b[a]),this.isSelfReference&&(o[this.parent.parentIdMapping]=f),gd(a,o.parentItem,"add",this.parent,this.isSelfReference,o)}}else if(("Above"===this.parent.editSettings.newRowPosition||"Below"===this.parent.editSettings.newRowPosition)&&!h(this.batchRecords[this.addRowIndex])){if(o.level=this.batchRecords[this.addRowIndex][l],o.level&&this.selectedIndex>-1&&(o.parentItem=g,o.parentUniqueID=m,delete o.parentItem.childRecords,delete o.parentItem[this.parent.childMapping]),o.index="Below"===this.parent.editSettings.newRowPosition?this.batchIndex:this.batchIndex-1,"Below"===this.parent.editSettings.newRowPosition&&this.selectedIndex>-1){const w=Fo(this.batchRecords[this.addRowIndex]).length;let b=Fo(this.batchRecords[this.addRowIndex])[w-1];b=h(b)?this.batchRecords[this.addRowIndex]:b,c=s.map(I=>I[a]).indexOf(b[a])}if("Above"===this.parent.editSettings.newRowPosition&&this.selectedIndex>-1){const w=this.batchRecords[this.addRowIndex];c=s.map(b=>b[a]).indexOf(w[a])}this.isSelfReference&&(o[this.parent.parentIdMapping]=v)}o.index=-1===o.index?0:o.index,o.hasChildRecords=!1,o.childRecords=[],this.batchRecords.splice(o.index,0,o),this.currentViewRecords.splice(o.index,0,o),d=c||o.index,"Above"!==this.parent.editSettings.newRowPosition&&(d=0===o.index?d:d+1),s.splice(d,0,o),this.batchAddedRecords.push(o)}this.parent.grid.getRowsObject()[x].data=o,this.newBatchRowAdded=!1}(this.parent.frozenColumns||this.parent.getFrozenColumns()&&"add"===this.parent.grid.getRowsObject()[x].edit)&&Nr(this.currentViewRecords[x],this.parent.grid.getRowsObject()[x].changes)}}beforeBatchAdd(e){const t="isTabLastRow";if("Cell"===this.parent.editSettings.mode&&this.parent.editModule[t])return e.cancel=!0,void(this.parent.editModule[t]=!1);this.parent.editModule.isAddedRowByMethod&&!h(this.parent.editModule.addRowIndex)&&-1===this.parent.grid.selectedRowIndex?(this.selectedIndex=this.parent.editModule.selectedIndex,this.addRowIndex=this.parent.editModule.addRowIndex,this.addRowRecord=this.parent.getCurrentViewRecords()[this.selectedIndex]):(this.selectedIndex=this.parent.grid.selectedRowIndex,this.addRowIndex=this.parent.grid.selectedRowIndex>-1?this.parent.grid.selectedRowIndex:0,this.parent.editModule.addRowIndex=this.parent.grid.selectedRowIndex>-1?this.parent.grid.selectedRowIndex:0,this.addRowRecord=this.parent.getSelectedRecords()[0])}batchAdd(e){if("Bottom"!==this.parent.editSettings.newRowPosition){this.isAdd=!0,this.newBatchRowAdded=!0;let t=0;if(this.batchRecords.length||(this.batchAddedRecords=[],this.batchRecords=Ud(this.parent.grid.getCurrentViewRecords()),this.currentViewRecords=Ud(this.parent.grid.getCurrentViewRecords())),this.parent.editModule.isAddedRowByMethod&&!h(this.parent.editModule.addRowIndex)&&ze(this.parent.grid.getDataRows()[0],["e-batchrow"],[]),"Top"!==this.parent.editSettings.newRowPosition){let s=this.parent.grid.getCurrentViewRecords();"Batch"===this.parent.editSettings.mode&&(this.parent.getBatchChanges()[this.addedRecords].length>1||this.parent.getBatchChanges()[this.deletedRecords].length)&&(s=this.batchRecords),this.updateChildCount(s),this.parent.notify(IT,{}),this.batchChildCount=0}this.updateRowIndex();const i=M("focusModule",this.parent.grid),n=this.parent.getContentTable();this.parent.getBatchChanges()[this.deletedRecords].length&&"Above"===this.parent.editSettings.newRowPosition?(t=e.row.rowIndex,i.getContent().matrix.matrix=this.matrix):t=n.getElementsByClassName("e-batchrow")[0].rowIndex,i.getContent().matrix.current=[t,i.getContent().matrix.current[1]]}}beforeBatchDelete(e){this.batchRecords.length||(this.batchRecords=Ud(this.parent.grid.getCurrentViewRecords()),this.currentViewRecords=Ud(this.parent.grid.getCurrentViewRecords()));const t=M("focusModule",this.parent.grid);this.matrix=t.getContent().matrix.matrix;const i=[];let n=[];const s=this.parent.grid.getPrimaryKeyFieldNames()[0];let o,l,a;h(e.row)||-1!==this.parent.getSelectedRows().indexOf(e.row)?(o=this.parent.grid.getSelectedRecords()[this.parent.grid.getSelectedRecords().length-1],l=Fo(o),a=this.parent.getSelectedRows()[0].getAttribute("data-uid")):(o=e.rowData,l=Fo(o),a=e.row.getAttribute("data-uid"));const c=parseInt(this.parent.grid.getRowElementByUID(a).getAttribute("aria-rowindex"),10);if(l.length){const d=c+l.length;for(let p=c+1;p<=d;p++)i.push(this.parent.grid.getDataRows()[p]),(this.parent.frozenRows||this.parent.frozenColumns||this.parent.getFrozenColumns())&&i.push(this.parent.grid.getMovableRows()[p])}if(!h(o.parentItem)){const d=no(this.parent,o.parentItem.uniqueID);if(!h(d)&&d.hasChildRecords){const u=d.childRecords.indexOf(o);d.childRecords.splice(u,1)}this.batchDeletedRecords=Ud(this.batchDeletedRecords),this.batchDeletedRecords.push(o)}l.push(o),n=l;for(let d=0;d<n.length;d++){const u=this.batchRecords.map(p=>p[s]).indexOf(n[d][s]);-1!==u&&this.batchRecords.splice(u,1)}for(let d=0;d<i.length;d++)h(i[d])||this.parent.grid.selectionModule.selectedRecords.push(i[d])}updateRowIndex(){const e=this.parent.grid.getDataRows();for(let i=0;i<e.length;i++)e[i].setAttribute("aria-rowindex",i.toString());const t=this.parent.getFrozenLeftColumnsCount()>0||this.parent.getFrozenRightColumnsCount()>0;if(this.parent.frozenRows||this.parent.getFrozenColumns()||this.parent.frozenColumns||t){const i=this.parent.grid.getMovableDataRows(),n=this.parent.grid.getFrozenRightDataRows();for(let s=0;s<i.length;s++)i[s].setAttribute("aria-rowindex",s.toString()),t&&n[s].setAttribute("aria-rowindex",s.toString())}}updateChildCount(e){const t=this.parent.grid.getPrimaryKeyFieldNames()[0],i="addedRecords",n="Child"===this.parent.editSettings.newRowPosition?"primaryParent":"parentItem";for(let s=0;s<this.parent.getBatchChanges()[i].length;s++)h(this.parent.getBatchChanges()[i][s][n])||this.parent.getBatchChanges()[i][s][n][t]===e[this.addRowIndex][t]&&(this.batchChildCount=this.batchChildCount+1)}beforeBatchSave(e){const t="changedRecords",i="deletedRecords",n=e.batchChanges[t];if(e.batchChanges[t].length){let s;for(let o=0;o<n.length;o++)Lg({value:n[o],action:"edit"},this.parent,this.isSelfReference,this.addRowIndex,this.selectedIndex,s)}if(e.batchChanges[i].length){const o=e.batchChanges[i];for(let l=0;l<o.length;l++){this.deleteUniqueID(o[l].uniqueID);const a=Fo(o[l]);for(let c=0;c<a.length;c++)this.deleteUniqueID(a[c].uniqueID);e.batchChanges[i]=[...e.batchChanges[i],...a]}}this.isAdd=!1}deleteUniqueID(e){delete this.parent.uniqueIDFilterCollection[e],delete this.parent.uniqueIDCollection[e]}batchCancelAction(){const e="targetElement";let t;const i="parentItem",n="index",s=this.parent.grid.getCurrentViewRecords(),o="childRecords",l=this.parent.grid.dataSource instanceof ie?this.parent.grid.dataSource.dataSource.json:this.parent.grid.dataSource,a=this.parent.grid.getPrimaryKeyFieldNames()[0];if(!h(this.batchAddedRecords))for(let c=0;c<this.batchAddedRecords.length;c++)if(t=l.map(d=>d[a]).indexOf(this.batchAddedRecords[c][a]),l.splice(t,1),"Child"===this.parent.editSettings.newRowPosition&&(t=s.map(d=>d[a]).indexOf(this.batchAddedRecords[c][i]?this.batchAddedRecords[c][i][a]:this.batchAddedRecords[c][a]),!h(s[t]))){const d=s[t][o];for(let u=0;d&&u<d.length;u++)d[u][a]===this.batchAddedRecords[c][a]&&s[t][o].splice(u,1)}if(!h(this.parent[e])){const c=this.parent[e].closest("tr");this.parent.collapseRow(c),this.parent[e]=null}if(!h(this.batchDeletedRecords))for(let c=0;c<this.batchDeletedRecords.length;c++)if(!h(this.batchDeletedRecords[c][i])){t=s.map(u=>u[a]).indexOf(this.batchDeletedRecords[c][i][a]);const d=0===this.batchDeletedRecords[c][n]?this.batchDeletedRecords[c][n]:this.batchDeletedRecords[c][n]-1;h(s[t])||s[t][o].splice(d,0,this.batchDeletedRecords[c])}this.batchAddedRecords=this.batchRecords=this.batchAddRowRecord=this.currentViewRecords=[],this.batchRecords=Ud(this.parent.grid.getCurrentViewRecords()),this.batchIndex=0,this.currentViewRecords=Ud(this.parent.grid.getCurrentViewRecords()),this.batchDeletedRecords=[],this.parent.grid.renderModule.refresh()}batchSave(e){if("Batch"===this.parent.editSettings.mode){let t;const i=Object.hasOwnProperty.call(e,"updatedRecords")?e.updatedRecords:this.parent.getBatchChanges(),n="deletedRecords",s="addedRecords",o="index",l="uniqueID",a=this.parent.grid.dataSource instanceof ie?this.parent.grid.dataSource.dataSource.json:this.parent.grid.dataSource;let c=this.parent.grid.getCurrentViewRecords();const d=this.parent.grid.getPrimaryKeyFieldNames()[0],u="level",p=i[s],g="parentItem";let f,m,v,x;const w="childRecords";if(p.length>1&&"Bottom"!==this.parent.editSettings.newRowPosition&&p.reverse(),"Bottom"!==this.parent.editSettings.newRowPosition&&!Object.hasOwnProperty.call(e,"updatedRecords")){if(a.splice(a.length-p.length,p.length),this.parent.editModule.isAddedRowByMethod&&p.length&&!h(this.parent.editModule.addRowIndex)){const b=parseInt(this.parent.getContentTable().getElementsByClassName("e-insertedrow")[0].getAttribute("aria-rowindex"),10);a.splice(b,0,p[0])}if(this.parent.allowPaging||a.length===c.length){const b=Ud(a);if(b.length){const I=b.map(P=>P[d]).indexOf(c[0][d]);c=b.splice(I,I+this.parent.grid.pageSettings.pageSize)}}else c.length>p.length&&c.splice(c.length-p.length,p.length)}for(0===this.batchAddRowRecord.length&&this.batchAddRowRecord.push(this.parent.flatData[e.index]),t=0;t<p.length;t++){const b=O({},p[t]);if(delete b.parentItem,delete b.uniqueID,delete b.index,delete b.level,delete b.hasChildRecords,delete b.childRecords,delete b.parentUniqueID,h(b.primaryParent)||delete b.primaryParent,p[t].taskData=b,x=this.batchAddRowRecord[t],h(x)&&(x=this.batchAddRowRecord[t-1]),this.isSelfReference&&(h(p[t].parentItem)||gd(d,p[t].parentItem,"add",this.parent,this.isSelfReference,p[t])),h(x)||(m=x.index),"Top"!==this.parent.editSettings.newRowPosition&&"Bottom"!==this.parent.editSettings.newRowPosition&&h(p[t].parentItem)&&-1===this.selectedIndex&&(f=-1,x=null),Lg({value:p[t],action:"add"},this.parent,this.isSelfReference,m,f,v,x),f=null,"Child"===this.parent.editSettings.newRowPosition&&!h(p[t][g])&&(h(this.parent.editModule.addRowIndex)||this.isSelfReference)){const I=c.map(P=>P[d]).indexOf(p[t][g][d]),k=c[I][w];for(let P=0;P<k.length;P++)k[P][d]===p[t][d]&&c[I][w].splice(P,1)}}if(i[n].length)for(t=0;t<i[n].length;t++)Lg({value:i[n][t],action:"delete"},this.parent,this.isSelfReference,m,f,v,x);this.parent.parentData=[];for(let b=0;b<a.length;b++)a[b][o]=b,Ne("uniqueIDCollection."+a[b][l]+".index",b,this.parent),a[b][u]||this.parent.parentData.push(a[b])}this.batchAddRowRecord=this.batchAddedRecords=this.batchRecords=this.batchDeletedRecords=this.currentViewRecords=[]}getActualRowObjectIndex(e){const t=this.parent.grid.getDataRows();return("Below"===this.parent.editSettings.newRowPosition||"Child"===this.parent.editSettings.newRowPosition)&&this.selectedIndex>-1&&(!h(this.batchRecords[this.addRowIndex])&&this.batchRecords[this.addRowIndex].expanded&&(this.parent.getBatchChanges()[this.addedRecords].length>1||this.parent.getBatchChanges()[this.deletedRecords].length?(e+=Fo(this.batchRecords[this.addRowIndex]).length,"Child"!==this.parent.editSettings.newRowPosition&&(e+=this.getBatchChildCount())):e+=Fo(this.batchRecords[this.addRowIndex]).length),e>=t.length&&(e=t.length-1),this.updateChildCount(this.parent.grid.getCurrentViewRecords()),this.batchChildCount&&(e+=this.batchChildCount),this.batchChildCount=0),e}immutableBatchAction(e){e.args.cancel=!0;const t=this.parent.grid.getBatchChanges();let i=[];Object.keys(t).length&&(i=t.addedRecords);for(let s=0;s<i.length;s++)e.rows.splice(i[s].index,1)}nextCellIndex(e){e.index=this.parent.getSelectedRows()[0].rowIndex}}class VMe extends pT{constructor(e,t){super(e,t),this.isExpandCollapse=!1,this.translateY=0,this.maxiPage=0,this.recordAdded=!1,this.startIndex=-1,this.endIndex=-1,this.preTranslate=0,this.isRemoteExpand=!1,this.isDataSourceChanged=!1,this.addEventListener()}getModelGenerator(){return new IMe(this.parent)}getRowByIndex(e){return this.parent.getDataRows().filter(t=>parseInt(t.getAttribute("aria-rowindex"),10)===e)[0]}addEventListener(){this.parent.on(o_,this.virtualOtherAction,this),this.parent.on(k4,this.indexModifier,this)}virtualOtherAction(e){e.setTop?(this.translateY=0,this.startIndex=0,this.endIndex=this.parent.pageSettings.pageSize-1):e.isExpandCollapse&&(this.isExpandCollapse=!0)}indexModifier(e){const t=this.parent.getContent().querySelector(".e-content");if(this.recordAdded&&this.startIndex>-1&&this.endIndex>-1){if(this.endIndex>e.count-this.parent.pageSettings.pageSize){const i=~~(t.scrollTop/this.parent.getRowHeight());let n=i+this.parent.getRows().length;n>e.count&&(n=i+(e.count-i)),this.startIndex=n-this.parent.getRows().length,this.endIndex=n}else this.startIndex+=1,this.endIndex+=1;this.recordAdded=!1}this.isDataSourceChanged&&(this.startIndex=0,this.endIndex=this.parent.pageSettings.pageSize-1),e.startIndex=this.startIndex,e.endIndex=this.endIndex}eventListener(e){this.parent.dataSource instanceof ie&&void 0!==this.parent.dataSource.dataSource.url&&this.parent.dataSource.dataSource.offline&&""!==this.parent.dataSource.dataSource.url&&Ps(this.parent)?super.eventListener("on"):(this.parent[e]("data-ready",this.onDataReady,this),this.parent[e]("refresh-virtual-block",this.refreshContentRows,this),this.fn=()=>{this.observers.observes(t=>this.scrollListeners(t),this.onEnteredAction()),this.parent.off("content-ready",this.fn)},this.parent.addEventListener("dataBound",this.dataBoundEvent.bind(this)),this.parent.addEventListener("rowSelected",this.rowSelectedEvent.bind(this)),this.parent[e]("select-virtual-Row",this.toSelectVirtualRow,this),this.parent.on("content-ready",this.fn,this),this.parent.addEventListener(Wx,this.onActionComplete.bind(this)),this.parent[e]("virtual-scroll-edit-action-begin",this.beginEdit,this),this.parent[e]("virtual-scroll-add-action-begin",this.beginAdd,this),this.parent[e]("virtual-scroll-edit-success",this.virtualEditSuccess,this),this.parent[e]("edit-reset",this.resetIseditValue,this),this.parent[e]("get-virtual-data",this.getData,this),this.parent[e]("virtual-scroll-edit-cancel",this.cancelEdit,this),this.parent[e]("select-row-on-context-open",this.toSelectRowOnContextOpen,this),this.parent[e]("refresh-virtual-editform-cells",this.refreshCell,this),this.parent[e]("virtaul-cell-focus",this.cellFocus,this))}cellFocus(e){super.virtualCellFocus(e)}onDataReady(e){super.onDataReady(e),(!(this.parent.dataSource instanceof ie&&void 0!==this.parent.dataSource.dataSource.url&&this.parent.dataSource.dataSource.offline&&""!==this.parent.dataSource.dataSource.url)||!Ps(this.parent))&&(h(e.count)||(this.totalRecords=e.count,this.parent.enableColumnVirtualization||M("virtualEle",this).setVirtualHeight(this.parent.getRowHeight()*e.count,"100%")),(!h(e.requestType)&&"collapseAll"===e.requestType.toString()||this.isDataSourceChanged&&-1===this.startIndex)&&(this.contents.scrollTop=0,this.isDataSourceChanged=!1))}renderTable(){super.renderTable(),(!(this.parent.dataSource instanceof ie&&void 0!==this.parent.dataSource.dataSource.url&&this.parent.dataSource.dataSource.offline&&""!==this.parent.dataSource.dataSource.url)||!Ps(this.parent))&&(M("observer",this).options.debounceEvent=!1,this.observers=new HMe(M("observer",this).element,M("observer",this).options),this.contents=this.getPanel().firstChild)}getTranslateY(e,t,i,n){return this.parent.dataSource instanceof ie&&void 0!==this.parent.dataSource.dataSource.url&&!this.parent.dataSource.dataSource.offline&&""!==this.parent.dataSource.dataSource.url||Ps(this.parent)?this.isRemoteExpand?(this.isRemoteExpand=!1,this.preTranslate):(this.preTranslate=super.getTranslateY(e,t,i,n),super.getTranslateY(e,t,i,n)):super.getTranslateY(e,t,i,n)}dataBoundEvent(){const t="initialRowTop";if(this.parent.getRows().length&&!this[t]&&!h(this.parent.getRowByIndex(0))){const i=this.parent.getRowByIndex(0).getBoundingClientRect().top,n=this.parent.element.getBoundingClientRect().top;this[t]=i>0?this.parent.getRowByIndex(0).getBoundingClientRect().top-n:this.content.getBoundingClientRect().top-this.parent.getRowByIndex(0).getBoundingClientRect().height}super.dataBound()}rowSelectedEvent(e){super.rowSelected(e)}toSelectVirtualRow(e){if(this.parent.isEdit)return;const i="containerRect";h(this.observer[i])&&(this.observer[i]=this.observers[i]),(h(this.parent.clipboardModule.treeGridParent.editModule)||0!==e.selectedIndex||h(this.parent.clipboardModule.treeGridParent.editModule.addRowIndex))&&super.selectVirtualRow(e)}refreshCell(e){e.cells=this.generateCells()}generateCells(){const e=[];for(let t=0;t<this.parent.columns.length;t++)e.push(this.generateCell(this.parent.columns[t]));return e}generateCell(e,t,i,n,s,o){const l={visible:e.visible,isDataCell:!h(e.field||e.template),isTemplate:!h(e.template),rowID:t,column:e,cellType:h(i)?Ct.Data:i,colSpan:n,commands:e.commands,isForeignKey:e.isForeignColumn&&e.isForeignColumn(),foreignKeyData:e.isForeignColumn&&e.isForeignColumn()&&M(e.field,o)};return(l.isDataCell||"checkbox"===l.column.type||l.commands)&&(l.index=s),new ja(l)}beginEdit(e){const t='.e-row[aria-rowindex="'+e.index+'"]',i=this.parent.getContent().querySelector(t).rowIndex,n=this.parent.getCurrentViewRecords()[i];e.data=n}beginAdd(e){const n={newRowPosition:this.rowPosition,addRowIndex:this.addRowIndex,ariaRowIndex:this.ariaRowIndex};this.parent.notify("get-row-position",n),this.rowPosition=n.newRowPosition,this.addRowIndex=n.addRowIndex,this.ariaRowIndex=n.ariaRowIndex;const s=this.parent.getRows(),o=s.length?+s[0].getAttribute("aria-rowindex"):0,l=s.length?+s[s.length-1].getAttribute("aria-rowindex"):0,a=this.parent.selectedRowIndex>=o&&this.parent.selectedRowIndex<=l;"Top"===this.rowPosition||"Bottom"===this.rowPosition||(this.isAdd=!0),("Top"===this.rowPosition||"Bottom"===this.rowPosition||(!this.addRowIndex||-1===this.addRowIndex)&&(-1===this.parent.selectedRowIndex||!a))&&super.addActionBegin(e)}restoreEditState(){super.restoreEdit()}resetIseditValue(){this.parent.notify("reset-edit-props",{}),("Top"===this.rowPosition||"Bottom"===this.rowPosition)&&this.isAdd&&super.resetIsedit()}virtualEditSuccess(){const t=this.parent.getContent().querySelector(".e-content");this.isAdd&&t.querySelector(".e-addedrow")&&(this.recordAdded=!0)}cancelEdit(e){super.editCancel(e)}toSelectRowOnContextOpen(e){super.selectRowOnContextOpen(e)}restoreNewRow(){const t=this.parent.getContent().querySelector(".e-content");this.isAdd&&!t.querySelector(".e-addedrow")&&(this.parent.isEdit=!1,this.parent.addRecord())}getData(e){super.getVirtualData(e)}onActionComplete(e){if("add"===e.requestType){const i={newRowPosition:this.rowPosition,addRowIndex:this.addRowIndex,ariaRowIndex:this.ariaRowIndex};this.parent.notify("get-row-position",i),this.rowPosition=i.newRowPosition,this.addRowIndex=i.addRowIndex,this.ariaRowIndex=i.ariaRowIndex}super.actionComplete(e)}onEnteredAction(){return(e,t,i,n,s,o)=>{if(!this.parent.directVirtualRender){const a="preventEvent";A.isIE&&!s&&o&&!this[a]&&this.parent.showSpinner();const c="X"===t.axis;let d=this.getColumnOffset(c?this.vgenerator.getColumnIndexes()[0]-1:this.prevInfo.columnIndexes[0]-1);if(c){const u=Object.keys(this.vgenerator.cOffsets).length-this.prevInfo.columnIndexes.length,p=this.vgenerator.cOffsets[u-1];d=d>p?p:d}this.virtualEle.adjustTable(d,this.translateY),this.parent.enableColumnVirtualization&&this.header.virtualEle.adjustTable(d,0)}}}scrollListeners(e){const t=e.sentinel,i=this.parent.pageSettings.pageSize-Math.ceil(this.parent.pageSettings.pageSize/2),n=this.parent.getContent().querySelector(".e-content"),s=i*this.parent.getRowHeight(),o=e.offset.top-this.translateY<0,l=Math.ceil(e.offset.top-this.translateY)>=s,a="selectedRowIndex";if(o&&"right"!==e.direction&&"left"!==e.direction){const c=+(this.parent.height.toString().indexOf("%")<0?this.parent.height:this.parent.element.getBoundingClientRect().height);let d=~~(n.scrollTop/this.parent.getRowHeight())+Math.ceil(c/this.parent.getRowHeight())-this.parent.pageSettings.pageSize;if(d=d>0?d:0,!h(this[a])&&-1!==this[a]&&d!==this[a]&&(d=this[a]),this.startIndex=d,this.endIndex=d+this.parent.pageSettings.pageSize,this.endIndex>this.totalRecords){const g=this.totalRecords-1,f=this.endIndex%g;this.endIndex=g,this.startIndex=this.startIndex-f<0?0:this.startIndex-f}let u=Math.ceil(e.offset.top/this.parent.getRowHeight());u%=this.parent.pageSettings.pageSize;let p=0;if(!h(this.parent.getRows()[u])&&!h(this.parent.getContent().querySelectorAll(".e-content tr")[u])&&(p=+this.parent.getContent().querySelectorAll(".e-content tr")[u].querySelector("td").getAttribute("index")),0===p)this.translateY=e.offset.top;else{const g=this.parent.getRowHeight();this.translateY=e.offset.top-i*g>0?e.offset.top-i*g+10:0}}else if(l&&"right"!==e.direction&&"left"!==e.direction){let c=~~(n.scrollTop/this.parent.getRowHeight());const d=!(this[a]+this.parent.pageSettings.pageSize<this.totalRecords);!h(this[a])&&-1!==this[a]&&c!==this[a]&&!d&&(c=this[a]);let u=c+this.parent.pageSettings.pageSize;u>this.totalRecords&&(u=c+(this.totalRecords-c)),this.startIndex=d?c:u-this.parent.pageSettings.pageSize,this.endIndex=u,this.translateY=e.offset.top>this.parent.getRowHeight()*this.totalRecords?this.getTranslateY(e.offset.top,n.getBoundingClientRect().height):e.offset.top}if(l&&e.offset.top<this.parent.getRowHeight()*this.totalRecords||o||"right"===e.direction||"left"===e.direction){const c=this.currentInfo=M("getInfoFromView",this).apply(this,[e.direction,t,e.offset]);this.previousInfo=c,this.parent.setColumnIndexesInView(this.parent.enableColumnVirtualization?c.columnIndexes:[]),this.parent.setProperties({pageSettings:{currentPage:c.loadNext&&!c.loadSelf?c.nextInfo.page:c.page}},!0),"right"!==e.direction&&"left"!==e.direction&&(c.event="refresh-virtual-block"===c.event?"model-changed":c.event),this.parent.notify(c.event,{requestType:"virtualscroll",virtualInfo:c,focusElement:e.focusElement})}}appendContent(e,t,i){if(this.parent.dataSource instanceof ie&&void 0!==this.parent.dataSource.dataSource.url&&!this.parent.dataSource.dataSource.offline&&""!==this.parent.dataSource.dataSource.url||Ps(this.parent))M("isExpandCollapse",i)&&(this.isRemoteExpand=!0),super.appendContent(e,t,i);else{const n=i.virtualInfo.sentinelInfo&&"Y"===i.virtualInfo.sentinelInfo.axis&&M("currentInfo",this).page&&M("currentInfo",this).page!==i.virtualInfo.page?M("currentInfo",this):i.virtualInfo,o=this.getColumnOffset(n.columnIndexes[0]-1);let l;if(this.parent.enableColumnVirtualization){this.header.virtualEle.adjustTable(o,0);const g=n.columnIndexes;l=this.getColumnOffset(g[g.length-1])-this.getColumnOffset(g[0]-1)+"",this.header.virtualEle.setWrapperWidth(l)}this.virtualEle.setWrapperWidth(l,A.isIE||"edge"===A.info.name),(e=this.parent.createElement("tbody")).appendChild(t);const a="replaceWith";this.getTable().querySelector("tbody")[a](e),this.isExpandCollapse&&0!==this.translateY?this.isExpandCollapse=!1:(this.translateY=this.translateY<0?0:this.translateY,M("virtualEle",this).adjustTable(o,this.translateY)),Ne("prevInfo",this.previousInfo?this.previousInfo:n,this),"virtualscroll"===i.requestType&&"X"===i.virtualInfo.sentinelInfo.axis&&this.parent.notify("auto-col",{});const d="restoreAdd",u="ensureSelectedRowPosition";super.focusCell(i);const p="isAdd";this[p]&&!this.parent.getContent().querySelector(".e-content").querySelector(".e-addedrow")&&("Top"===this.rowPosition||"Bottom"===this.rowPosition||(this.ariaRowIndex>=this.startIndex?this.restoreNewRow():this.addRowIndex&&this.addRowIndex>-1&&(this[p]=!1,this.parent.isEdit=!1))),this.restoreEditState(),super[d](),super[u]()}}removeEventListener(){this.parent.isDestroyed||(this.parent.off("data-ready",this.onDataReady),this.parent.off("content-ready",this.fn),this.parent.off("select-virtual-Row",this.toSelectVirtualRow),this.parent.off("dataBound",this.dataBoundEvent),this.parent.off("rowSelected",this.rowSelectedEvent),this.parent.off(o_,this.virtualOtherAction),this.parent.off(k4,this.indexModifier),this.parent.off("virtual-scroll-edit-action-begin",this.beginEdit),this.parent.off("virtual-scroll-add-action-begin",this.beginAdd),this.parent.off("virtual-scroll-edit-success",this.virtualEditSuccess),this.parent.off("edit-reset",this.resetIseditValue),this.parent.off("get-virtual-data",this.getData),this.parent.off("virtual-scroll-edit-cancel",this.cancelEdit),this.parent.off("select-row-on-context-open",this.toSelectRowOnContextOpen),this.parent.off("refresh-virtual-editform-cells",this.refreshCell),this.parent.off("virtaul-cell-focus",this.cellFocus))}}class HMe extends f4{constructor(){super(...arguments),this.isWheeling=!1,this.newPos=0,this.lastPos=0,this.timer=0}observes(e,t){super.containerRect=M("options",this).container.getBoundingClientRect(),C.add(M("options",this).container,"scroll",this.virtualScrollHandlers(e,t),this)}clear(){this.lastPos=null}virtualScrollHandlers(e,t){const n="options",s="movableEle",l="fromWheel",a=Xp(e,"chrome"===A.info.name?200:100),c=Xp(e,50);return this[n].prevTop=this[n].prevLeft=0,d=>{const u=this[n].movableContainer?this[n].container.scrollTop:d.target.scrollTop,p=this[n].movableContainer?this[n].scrollbar.scrollLeft:d.target.scrollLeft;let g=this[n].prevTop<u?"down":"up";g=this[n].prevLeft===p?g:this[n].prevLeft<p?"right":"left",this[n].prevTop=u,this[n].prevLeft=p;const f=this.sentinelInfo[g];let m=0;if(this.newPos=u,null!=this.lastPos&&(m=this.newPos-this.lastPos),this.lastPos=this.newPos,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.clear,0),(m>100||m<-100)&&d&&d.preventDefault&&(d.returnValue=!1,d.preventDefault()),-1===this[n].axes.indexOf(f.axis))return;const v=this.check(g);if(f.entered&&"X"===f.axis&&t(!this[s]||"right"!==g&&"left"!==g?this.element:this[s],f,g,{top:u,left:p},this[l],v),v){let x=a;"X"===f.axis?(x=c,x({direction:g,sentinel:f,offset:{top:u,left:p},focusElement:document.activeElement})):e({direction:g,sentinel:f,offset:{top:u,left:p},focusElement:document.activeElement})}this[l]=!1}}}class jMe extends class wAe{constructor(e,t){this.parent=e,this.locator=t,this.addEventListener()}getModuleName(){return"virtualscroll"}instantiateRenderer(){this.parent.log(["limitation","virtual_height"],"virtualization");const e=this.locator.getService("rendererFactory");this.parent.isFrozenGrid()||(this.parent.enableColumnVirtualization&&e.addRenderer(Xs.Header,new y4(this.parent,this.locator)),e.addRenderer(Xs.Content,new pT(this.parent,this.locator))),this.ensurePageSize()}ensurePageSize(){const e=this.parent.getRowHeight(),t=this.parent.height.toString().indexOf("%")<0?this.parent.height:this.parent.element.getBoundingClientRect().height;this.blockSize=~~(t/e);const i=2*this.blockSize,n=this.parent.pageSettings.pageSize;this.parent.setProperties({pageSettings:{pageSize:n<i?i:n}},!0)}addEventListener(){this.parent.isDestroyed||(this.parent.on(Au,this.instantiateRenderer,this),this.parent.on(M1,this.refreshVirtualElement,this),this.parent.on(GE,this.createVirtualValidationForm,this),this.parent.on(H5,this.virtualEditFormValidation,this),this.parent.on(Ri,this.destroy,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(Au,this.instantiateRenderer),this.parent.off(M1,this.refreshVirtualElement),this.parent.off(GE,this.createVirtualValidationForm),this.parent.off(H5,this.virtualEditFormValidation),this.parent.off(Ri,this.destroy))}getCurrentEditedData(e){const t={virtualData:O({},{},e,!0),isAdd:!1,isScroll:!1,endEdit:!0};return this.parent.notify(Eg,t),t.virtualData}createVirtualValidationForm(e){const t=this.parent;if(t.enableVirtualization&&"Normal"===t.editSettings.mode){const i=t.columns,n=new ya(this.locator,null,this.parent),s=O({},{},t.getRowObjectFromUID(e.uid),!0);t.notify(eX,s);const o=e.argsCreator(this.getCurrentEditedData(e.prevData),{},!1);o.isCustomFormValidation=!0,o.row=n.render(s,i),e.renderer.update(o);const l={};for(let a=0;a<i.length;a++)!i[a].visible||i[a].validationRules&&SX(i[a],0,l,{},{},i.length,!0);o.form.classList.add("e-virtual-validation"),t.editModule.virtualFormObj=t.editModule.createFormObj(o.form,l)}}virtualEditFormValidation(e){const t=this.parent,i=t.element.querySelector('.e-griderror:not([style*="display: none"])');if(t.editModule.virtualFormObj)if(i&&"none"!==i.style.display){const n=i.getBoundingClientRect(),s=t.element.querySelectorAll(".e-gridform");let o=s[0],l=t.getContent().getBoundingClientRect().left;if(s.length>1&&(o="Right"!==t.getFrozenMode()?s[1]:s[0],l=t.getMovableVirtualContent().getBoundingClientRect().left),n.left<l||n.right>t.element.offsetWidth){const a=o.querySelector('.e-tooltip-wrap:not([style*="display: none"])');this.scrollToEdit(a,{editIdx:e.editIdx,addIdx:e.addIdx},!0)}}else if(t.editModule.virtualFormObj&&(!i||"none"===i.style.display)){const n=t.editModule.virtualFormObj.element.querySelectorAll('.e-tooltip-wrap:not([style*="display: none"])');for(let s=0;s<n.length;s++)X(n[s]);if(this.setEditedDataToValidationForm(t.editModule.virtualFormObj.element,this.getCurrentEditedData(e.prevData)),e.isValid=t.editModule.virtualFormObj.validate(),!e.isValid){const s=t.editModule.virtualFormObj.element.querySelector('.e-tooltip-wrap:not([style*="display: none"])');this.scrollToEdit(s,{editIdx:e.editIdx,addIdx:e.addIdx})}}}scrollToEdit(e,t,i){const n=this.parent;if(e){const s=n.columnModel,o=tT(e.id).split("_")[0],l=n.getColumnByField(o),a=this.parent.getContent().firstElementChild.scrollTop,c=n.getRowByIndex(t.editIdx);if(i||!l||!h(t.addIdx)&&a>0||!h(t.editIdx)&&!c){let d;for(let u=0;u<s.length&&!l;u++)if(s[u].field===o){d=s[u];break}i&&(d=l),this.parent.notify(tX,d)}}}setEditedDataToValidationForm(e,t){const i=[].slice.call(e.getElementsByClassName("e-field"));for(let n=0,s=i.length;n<s;n++){let l=M(eAe(this.parent,i[n].getAttribute("e-mappinguid")).field,t);l=h(l)?"":l,i[n].value=l}}refreshVirtualElement(e){this.parent.enableColumnVirtualization&&"resize"===e.module&&this.locator.getService("rendererFactory").getRenderer(Xs.Content).refreshVirtualElement()}destroy(){this.removeEventListener()}}{constructor(e,t){super(e,t),M("parent",this).off("initial-load",M("instantiateRenderer",this),this),M("parent",this).on("initial-load",this.instantiateRenderers,this)}getModuleName(){return"treeVirtualScroll"}instantiateRenderers(){const e=M("parent",this);M("parent",this).log(["limitation","virtual_height"],"virtualization");const t=M("locator",this).getService("rendererFactory");e.enableColumnVirtualization&&M("addRenderer",t).apply(t,[Xs.Header,new y4(M("parent",this),M("locator",this))]),M("addRenderer",t).apply(t,[Xs.Content,new VMe(M("parent",this),M("locator",this))]),this.ensurePageSize()}ensurePageSize(){const e=M("parent",this),t=e.getRowHeight();!h(e.height)&&"string"==typeof e.height&&-1!==e.height.indexOf("%")&&(e.element.style.height=e.height);const s=2*~~((e.height.toString().indexOf("%")<0?e.height:e.element.getBoundingClientRect().height)/t),o=e.pageSettings.pageSize;e.setProperties({pageSettings:{pageSize:o<s?s:o}},!0)}}const WMe=["template"],UMe=["headerTemplate"],$Me=["filterItemTemplate"],KMe=["filterTemplate"],YMe=["commandsTemplate"],QMe=["editTemplate"],XMe=["footerTemplate"],JMe=["toolbarTemplate"],ZMe=["pagerTemplate"],eFe=["rowTemplate"],tFe=["detailTemplate"],iFe=["editSettingsTemplate"];var Kx=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Yx=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};let nFe=["allowEditing","allowFiltering","allowReordering","allowResizing","allowSorting","clipMode","columns","commands","customAttributes","defaultValue","disableHtmlEncode","displayAsCheckBox","edit","editTemplate","editType","field","filter","filterBarTemplate","filterTemplate","format","formatter","freeze","headerTemplate","headerText","headerTextAlign","hideAtMedia","isFrozen","isIdentity","isPrimaryKey","lockColumn","maxWidth","minWidth","showCheckbox","showColumnMenu","showInColumnChooser","sortComparer","template","textAlign","type","uid","validationRules","valueAccessor","visible","width"],sFe=[],EJ=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(sFe),this.directivePropList=nFe}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-column"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,WMe,5),vt(n,UMe,5),vt(n,$Me,5),vt(n,KMe,5),vt(n,YMe,5),vt(n,QMe,5)),2&t){let s;ut(s=pt())&&(i.template=s.first),ut(s=pt())&&(i.headerTemplate=s.first),ut(s=pt())&&(i.filter_itemTemplate=s.first),ut(s=pt())&&(i.filterTemplate=s.first),ut(s=pt())&&(i.commandsTemplate=s.first),ut(s=pt())&&(i.editTemplate=s.first)}},inputs:{allowEditing:"allowEditing",allowFiltering:"allowFiltering",allowReordering:"allowReordering",allowResizing:"allowResizing",allowSorting:"allowSorting",clipMode:"clipMode",columns:"columns",commands:"commands",customAttributes:"customAttributes",defaultValue:"defaultValue",disableHtmlEncode:"disableHtmlEncode",displayAsCheckBox:"displayAsCheckBox",edit:"edit",editTemplate:"editTemplate",editType:"editType",field:"field",filter:"filter",filterBarTemplate:"filterBarTemplate",filterTemplate:"filterTemplate",format:"format",formatter:"formatter",freeze:"freeze",headerTemplate:"headerTemplate",headerText:"headerText",headerTextAlign:"headerTextAlign",hideAtMedia:"hideAtMedia",isFrozen:"isFrozen",isIdentity:"isIdentity",isPrimaryKey:"isPrimaryKey",lockColumn:"lockColumn",maxWidth:"maxWidth",minWidth:"minWidth",showCheckbox:"showCheckbox",showColumnMenu:"showColumnMenu",showInColumnChooser:"showInColumnChooser",sortComparer:"sortComparer",template:"template",textAlign:"textAlign",type:"type",uid:"uid",validationRules:"validationRules",valueAccessor:"valueAccessor",visible:"visible",width:"width"},features:[Gt]}),Kx([Ht(),Yx("design:type",Object)],r.prototype,"template",void 0),Kx([Ht(),Yx("design:type",Object)],r.prototype,"headerTemplate",void 0),Kx([Ht(),Yx("design:type",Object)],r.prototype,"filter_itemTemplate",void 0),Kx([Ht(),Yx("design:type",Object)],r.prototype,"filterTemplate",void 0),Kx([Ht(),Yx("design:type",Object)],r.prototype,"commandsTemplate",void 0),Kx([Ht(),Yx("design:type",Object)],r.prototype,"editTemplate",void 0),r})(),TJ=(()=>{class r extends rd{constructor(){super("columns")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-columns"]],contentQueries:function(t,i,n){if(1&t&&vt(n,EJ,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})(),lFe=["columnName","customAggregate","field","footerTemplate","format","type"],aFe=[],H4=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(aFe),this.directivePropList=lFe}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-column"]],contentQueries:function(t,i,n){if(1&t&&vt(n,XMe,5),2&t){let s;ut(s=pt())&&(i.footerTemplate=s.first)}},inputs:{columnName:"columnName",customAggregate:"customAggregate",field:"field",footerTemplate:"footerTemplate",format:"format",type:"type"},features:[Gt]}),r})();!function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);n>3&&s&&Object.defineProperty(e,t,s)}([Ht(),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],H4.prototype,"footerTemplate",void 0);let RJ=(()=>{class r extends rd{constructor(){super("columns")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-columns"]],contentQueries:function(t,i,n){if(1&t&&vt(n,H4,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})(),cFe=["columns","showChildSummary"],dFe=[],hFe=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,this.tags=["columns"],ns("currentInstance",this,this.viewContainerRef),this.registerEvents(dFe),this.directivePropList=cFe}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-aggregate"]],contentQueries:function(t,i,n){if(1&t&&vt(n,RJ,5),2&t){let s;ut(s=pt())&&(i.childColumns=s.first)}},inputs:{columns:"columns",showChildSummary:"showChildSummary"},features:[Gt]}),r})(),uFe=(()=>{class r extends rd{constructor(){super("aggregates")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-aggregates"]],contentQueries:function(t,i,n){if(1&t&&vt(n,hFe,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();var Qx=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Xx=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const pFe=["actionBegin","actionComplete","actionFailure","batchAdd","batchCancel","batchDelete","beforeBatchAdd","beforeBatchDelete","beforeBatchSave","beforeCopy","beforeDataBound","beforeExcelExport","beforePaste","beforePdfExport","beforePrint","beginEdit","cellDeselected","cellDeselecting","cellEdit","cellSave","cellSaved","cellSelected","cellSelecting","checkboxChange","collapsed","collapsing","columnDrag","columnDragStart","columnDrop","columnMenuClick","columnMenuOpen","contextMenuClick","contextMenuOpen","created","dataBound","dataSourceChanged","dataStateChange","detailDataBound","excelExportComplete","excelHeaderQueryCellInfo","excelQueryCellInfo","expanded","expanding","headerCellInfo","load","pdfExportComplete","pdfHeaderQueryCellInfo","pdfQueryCellInfo","printComplete","queryCellInfo","recordDoubleClick","resizeStart","resizeStop","resizing","rowDataBound","rowDeselected","rowDeselecting","rowDrag","rowDragStart","rowDragStartHelper","rowDrop","rowSelected","rowSelecting","toolbarClick","dataSourceChange"],gFe=["dataSource"];let Zf=(()=>{let r=class extends it{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["columns","aggregates"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("TreeGridFilter");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridPage");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridSort");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridReorder");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridToolbar");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridAggregate");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridResize");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridColumnMenu");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridExcelExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridPdfExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridCommandColumn");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridContextMenu");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridEdit");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridSelection");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridVirtualScroll");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridDetailRow");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridRowDD");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridFreeze");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridColumnChooser");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridLogger");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("TreeGridInfiniteScroll");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(pFe),this.addTwoWay.call(this,gFe),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childColumns,this.childAggregates&&(this.tagObjects[1].instance=this.childAggregates),this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-treegrid"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,JMe,5),vt(n,ZMe,5),vt(n,eFe,5),vt(n,tFe,5),vt(n,iFe,5),vt(n,TJ,5),vt(n,uFe,5)),2&t){let s;ut(s=pt())&&(i.toolbarTemplate=s.first),ut(s=pt())&&(i.pagerTemplate=s.first),ut(s=pt())&&(i.rowTemplate=s.first),ut(s=pt())&&(i.detailTemplate=s.first),ut(s=pt())&&(i.editSettings_template=s.first),ut(s=pt())&&(i.childColumns=s.first),ut(s=pt())&&(i.childAggregates=s.first)}},inputs:{aggregates:"aggregates",allowExcelExport:"allowExcelExport",allowFiltering:"allowFiltering",allowMultiSorting:"allowMultiSorting",allowPaging:"allowPaging",allowPdfExport:"allowPdfExport",allowReordering:"allowReordering",allowResizing:"allowResizing",allowRowDragAndDrop:"allowRowDragAndDrop",allowSelection:"allowSelection",allowSorting:"allowSorting",allowTextWrap:"allowTextWrap",autoCheckHierarchy:"autoCheckHierarchy",childMapping:"childMapping",clipMode:"clipMode",columnMenuItems:"columnMenuItems",columnQueryMode:"columnQueryMode",columns:"columns",contextMenuItems:"contextMenuItems",copyHierarchyMode:"copyHierarchyMode",dataSource:"dataSource",detailTemplate:"detailTemplate",editSettings:"editSettings",enableAdaptiveUI:"enableAdaptiveUI",enableAltRow:"enableAltRow",enableAutoFill:"enableAutoFill",enableCollapseAll:"enableCollapseAll",enableColumnVirtualization:"enableColumnVirtualization",enableHover:"enableHover",enableImmutableMode:"enableImmutableMode",enableInfiniteScrolling:"enableInfiniteScrolling",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableVirtualization:"enableVirtualization",expandStateMapping:"expandStateMapping",filterSettings:"filterSettings",frozenColumns:"frozenColumns",frozenRows:"frozenRows",gridLines:"gridLines",hasChildMapping:"hasChildMapping",height:"height",idMapping:"idMapping",infiniteScrollSettings:"infiniteScrollSettings",loadChildOnDemand:"loadChildOnDemand",locale:"locale",pageSettings:"pageSettings",parentIdMapping:"parentIdMapping",printMode:"printMode",query:"query",rowDropSettings:"rowDropSettings",rowHeight:"rowHeight",rowTemplate:"rowTemplate",searchSettings:"searchSettings",selectedRowIndex:"selectedRowIndex",selectionSettings:"selectionSettings",showColumnChooser:"showColumnChooser",showColumnMenu:"showColumnMenu",sortSettings:"sortSettings",textWrapSettings:"textWrapSettings",toolbar:"toolbar",treeColumnIndex:"treeColumnIndex",width:"width"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",batchAdd:"batchAdd",batchCancel:"batchCancel",batchDelete:"batchDelete",beforeBatchAdd:"beforeBatchAdd",beforeBatchDelete:"beforeBatchDelete",beforeBatchSave:"beforeBatchSave",beforeCopy:"beforeCopy",beforeDataBound:"beforeDataBound",beforeExcelExport:"beforeExcelExport",beforePaste:"beforePaste",beforePdfExport:"beforePdfExport",beforePrint:"beforePrint",beginEdit:"beginEdit",cellDeselected:"cellDeselected",cellDeselecting:"cellDeselecting",cellEdit:"cellEdit",cellSave:"cellSave",cellSaved:"cellSaved",cellSelected:"cellSelected",cellSelecting:"cellSelecting",checkboxChange:"checkboxChange",collapsed:"collapsed",collapsing:"collapsing",columnDrag:"columnDrag",columnDragStart:"columnDragStart",columnDrop:"columnDrop",columnMenuClick:"columnMenuClick",columnMenuOpen:"columnMenuOpen",contextMenuClick:"contextMenuClick",contextMenuOpen:"contextMenuOpen",created:"created",dataBound:"dataBound",dataSourceChanged:"dataSourceChanged",dataStateChange:"dataStateChange",detailDataBound:"detailDataBound",excelExportComplete:"excelExportComplete",excelHeaderQueryCellInfo:"excelHeaderQueryCellInfo",excelQueryCellInfo:"excelQueryCellInfo",expanded:"expanded",expanding:"expanding",headerCellInfo:"headerCellInfo",load:"load",pdfExportComplete:"pdfExportComplete",pdfHeaderQueryCellInfo:"pdfHeaderQueryCellInfo",pdfQueryCellInfo:"pdfQueryCellInfo",printComplete:"printComplete",queryCellInfo:"queryCellInfo",recordDoubleClick:"recordDoubleClick",resizeStart:"resizeStart",resizeStop:"resizeStop",resizing:"resizing",rowDataBound:"rowDataBound",rowDeselected:"rowDeselected",rowDeselecting:"rowDeselecting",rowDrag:"rowDrag",rowDragStart:"rowDragStart",rowDragStartHelper:"rowDragStartHelper",rowDrop:"rowDrop",rowSelected:"rowSelected",rowSelecting:"rowSelecting",toolbarClick:"toolbarClick",dataSourceChange:"dataSourceChange"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();Qx([Ht(),Xx("design:type",Object)],Zf.prototype,"toolbarTemplate",void 0),Qx([Ht(),Xx("design:type",Object)],Zf.prototype,"pagerTemplate",void 0),Qx([Ht(),Xx("design:type",Object)],Zf.prototype,"rowTemplate",void 0),Qx([Ht(),Xx("design:type",Object)],Zf.prototype,"detailTemplate",void 0),Qx([Ht(),Xx("design:type",Object)],Zf.prototype,"editSettings_template",void 0),Zf=Qx([So([nn]),Xx("design:paramtypes",[mi,_i,$t,pi])],Zf);let z4=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})();const kJ={provide:"TreeGridFilter",useValue:class DMe{constructor(e){Oe.Inject(hT),this.parent=e,this.isHierarchyFilter=!1,this.filteredResult=[],this.flatFilteredData=[],this.filteredParentRecs=[],this.addEventListener()}getModuleName(){return"filter"}destroy(){this.removeEventListener()}addEventListener(){this.parent.on("updateFilterRecs",this.updatedFilteredRecord,this),this.parent.on("clearFilters",this.clearFilterLevel,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("updateFilterRecs",this.updatedFilteredRecord),this.parent.off("clearFilters",this.clearFilterLevel))}updatedFilteredRecord(e){Ne("uniqueIDFilterCollection",{},this.parent),this.flatFilteredData=e.data,this.filteredParentRecs=[],this.filteredResult=[],this.isHierarchyFilter=!1;for(let t=0;t<this.flatFilteredData.length;t++){const i=this.flatFilteredData[t];this.addParentRecord(i);const n=""===this.parent.grid.searchSettings.key?this.parent.filterSettings.hierarchyMode:this.parent.searchSettings.hierarchyMode;("Child"===n||"None"===n)&&(0!==this.parent.grid.filterSettings.columns.length||""!==this.parent.grid.searchSettings.key)&&(this.isHierarchyFilter=!0);const s=Mt("childRecords",i);if(!h(s)&&s.length&&Ne("hasFilteredChildRecords",this.checkChildExsist(i),i),!h(Mt("parentItem",i))){const l=no(this.parent,i.parentItem.uniqueID,!0);Ne("hasFilteredChildRecords",!0,l),l&&l.parentItem&&this.updateParentFilteredRecord(l)}}this.flatFilteredData.length>0&&this.isHierarchyFilter&&this.updateFilterLevel(),this.parent.notify("updateAction",{result:this.filteredResult})}updateParentFilteredRecord(e){const t=no(this.parent,e.parentItem.uniqueID,!0),i=M("uniqueIDFilterCollection",this.parent);t&&Object.prototype.hasOwnProperty.call(i,t.uniqueID)&&Ne("hasFilteredChildRecords",!0,t),t&&t.parentItem&&this.updateParentFilteredRecord(t)}addParentRecord(e){const t=no(this.parent,e.parentUniqueID);if("None"!==(""===this.parent.grid.searchSettings.key?this.parent.filterSettings.hierarchyMode:this.parent.searchSettings.hierarchyMode)||0===this.parent.grid.filterSettings.columns.length&&""===this.parent.grid.searchSettings.key)h(t)||("Child"!==(""===this.parent.grid.searchSettings.key?this.parent.filterSettings.hierarchyMode:this.parent.searchSettings.hierarchyMode)||0===this.parent.grid.filterSettings.columns.length&&""===this.parent.grid.searchSettings.key?(!1===t.expanded&&-1===this.parent.getVisibleRecords().indexOf(e)&&h(this.parent.dataResults.action)&&this.parent.expandRow(this.parent.getRows()[t.index],t),this.addParentRecord(t)):-1!==this.flatFilteredData.indexOf(t)&&this.addParentRecord(t)),-1===this.filteredResult.indexOf(e)&&(this.filteredResult.push(e),Ne("uniqueIDFilterCollection."+e.uniqueID,e,this.parent));else if(h(t)){if(-1!==this.flatFilteredData.indexOf(e))return void(-1===this.filteredResult.indexOf(e)&&(this.filteredResult.push(e),Ne("uniqueIDFilterCollection."+e.uniqueID,e,this.parent),e.hasFilteredChildRecords=!0))}else this.addParentRecord(t),-1!==this.flatFilteredData.indexOf(t)||-1!==this.filteredResult.indexOf(t)?-1===this.filteredResult.indexOf(e)&&(this.filteredResult.push(e),Ne("uniqueIDFilterCollection."+e.uniqueID,e,this.parent)):-1===this.filteredResult.indexOf(e)&&-1!==this.flatFilteredData.indexOf(e)&&(this.filteredResult.push(e),Ne("uniqueIDFilterCollection."+e.uniqueID,e,this.parent))}checkChildExsist(e){const t=Mt("childRecords",e);let i=!1;for(let n=0;n<t.length;n++){const s=t[n].childRecords,o=""===this.parent.grid.searchSettings.key?this.parent.filterSettings.hierarchyMode:this.parent.searchSettings.hierarchyMode;if(!("Child"!==o&&"Both"!==o||0===this.parent.grid.filterSettings.columns.length&&""===this.parent.grid.searchSettings.key)){const l=M("uniqueIDFilterCollection",this.parent);Object.prototype.hasOwnProperty.call(l,t[n].uniqueID)||(this.filteredResult.push(t[n]),Ne("uniqueIDFilterCollection."+t[n].uniqueID,t[n],this.parent),i=!0)}if("None"===o&&(0!==this.parent.grid.filterSettings.columns.length||""!==this.parent.grid.searchSettings.key)&&-1!==this.flatFilteredData.indexOf(t[n])){i=!0;break}!h(s)&&s.length&&(i=this.checkChildExsist(t[n])),("Child"===o||"Both"===o)&&t.length&&(i=!0)}return i}updateFilterLevel(){const e=this.filteredResult,t=this.filteredResult.length;for(let i=0;i<t;i++){const n=no(this.parent,e[i].parentUniqueID);if(-1!==e.indexOf(n)){const o=no(this.parent,e[i].parentUniqueID,!0);e[i].filterLevel=o.filterLevel+1}else e[i].filterLevel=0,this.filteredParentRecs.push(e[i])}}clearFilterLevel(e){let t=0;const i=e.flatData,n=i.length;let s;for(;t<n;t++){s=i[t];const o=s.filterLevel;(o||0===o||!h(s.hasFilteredChildRecords))&&(s.hasFilteredChildRecords=null,s.filterLevel=null)}this.filteredResult=[],this.parent.notify("updateResults",{result:i,count:i.length})}}},AJ={provide:"TreeGridPage",useValue:class RMe{constructor(e){Oe.Inject(n_),this.parent=e,this.addEventListener()}addEventListener(){this.parent.on(j0,this.collapseExpandPagedchilds,this),this.parent.on(Yf,this.pageAction,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off(j0,this.collapseExpandPagedchilds),this.parent.off(Yf,this.pageAction))}getModuleName(){return"pager"}refresh(){this.parent.grid.pagerModule.refresh()}destroy(){this.removeEventListener()}goToPage(e){this.parent.grid.pagerModule.goToPage(e)}updateExternalMessage(e){this.parent.grid.pagerModule.updateExternalMessage(e)}collapseExpandPagedchilds(e){if(e.record.expanded="collapse"!==e.action,this.parent.enableImmutableMode){const i=this.parent.getPrimaryKeyFieldNames()[0],n=this.parent.flatData.filter(s=>s[i]===e.record[i]);n.length&&(n[0].expanded=e.record.expanded)}const t={result:this.parent.flatData,row:e.row,action:e.action,record:e.record,count:this.parent.flatData.length};if(M("grid.renderModule",this.parent).dataManagerSuccess(t),this.parent.enableImmutableMode){const i="row",n="action";let s;"collapse"===t[n]?(s=t[i].getElementsByClassName("e-treegridexpand")[0],h(s)||(T([s],"e-treegridexpand"),_([s],"e-treegridcollapse"))):"expand"===t[n]&&(s=t[i].getElementsByClassName("e-treegridcollapse")[0],h(s)||(T([s],"e-treegridcollapse"),_([s],"e-treegridexpand")))}}pageRoot(e,t,i){let n=h(i)?[]:i;for(let s=0;s<t.length;s++){n.push(t[s]);let o=[];t[s].hasChildRecords&&(o=e.filter(l=>t[s].uniqueID===l.parentUniqueID),n=this.pageRoot(e,o,n))}return n}updatePageSize(e){const t=e.result.length,i=this.parent.grid.pagerModule;!0===this.parent.pageSettings.pageSizes&&i.pagerObj.pagerdropdownModule.dropDownListObject.value===i.pagerObj.getLocalizedLabel("All")&&(i.pagerObj.totalRecordsCount=t,this.parent.grid.pageSettings.pageSize=t)}pageAction(e){const t=new ie(e.result);if("Root"===this.parent.pageSettings.pageSizeMode){let i=[];const n=this.parent.grid.filterSettings.columns.length>0&&("Child"===this.parent.filterSettings.hierarchyMode||"None"===this.parent.filterSettings.hierarchyMode)?"filterLevel":"level";let s=(new Ze).where(n,"equal",0);i=t.executeLocal(s),e.count=i.length;const o=this.parent.grid.pageSettings.pageSize;s=s.skip(o*(this.parent.grid.pageSettings.currentPage-1)).take(o),i=t.executeLocal(s);const c=this.pageRoot(e.result,i);e.result=c}else{const i=new ie(e.result),n=new qt("expanded","notequal",null).or("expanded","notequal",void 0),s=i.executeLocal((new Ze).where(n));let o;o=!bJ(this.parent)||this.parent.searchSettings.key===this.parent.grid.searchSettings.key&&this.parent.filterSettings.columns.length===this.parent.grid.filterSettings.columns.length?s.filter(u=>Ap(this.parent,u,s)):s,e.count=o.length;let l=new Ze;const a=this.parent.grid.pageSettings.pageSize;this.updatePageSize(e);let c=this.parent.grid.pageSettings.currentPage;o.length<c*a&&(c=Math.floor(o.length/a)+(o.length%a?1:0),c=c||1,this.parent.grid.setProperties({pageSettings:{currentPage:c}},!0)),l=l.skip(a*(c-1)).take(a),i.dataSource.json=o,e.result=i.executeLocal(l)}this.parent.notify("updateAction",e)}}},MJ={provide:"TreeGridSort",useValue:class MMe{constructor(e){Oe.Inject(Gx),this.parent=e,this.taskIds=[],this.flatSortedData=[],this.storedIndex=-1,this.isSelfReference=!h(this.parent.parentIdMapping),this.addEventListener()}getModuleName(){return"sort"}addEventListener(){this.parent.on("updateModel",this.updateModel,this),this.parent.on("createSort",this.createdSortedRecords,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off("updateModel",this.updateModel),this.parent.off("createSort",this.createdSortedRecords))}createdSortedRecords(e){this.iterateSort(e.modifiedData,e.srtQry),this.storedIndex=-1,e.modifiedData=this.flatSortedData,this.flatSortedData=[]}iterateSort(e,t){for(let i=0;i<e.length;i++)if((this.parent.grid.filterSettings.columns.length>0||""!==this.parent.grid.searchSettings.key)&&h(no(this.parent,e[i].uniqueID,!0))||(this.storedIndex++,this.flatSortedData[this.storedIndex]=e[i]),e[i].hasChildRecords){const n=new ie(e[i].childRecords).executeLocal(t);this.iterateSort(n,t)}}sortColumn(e,t,i){this.parent.grid.sortColumn(e,t,i)}removeSortColumn(e){this.parent.grid.removeSortColumn(e)}updateModel(){this.parent.setProperties({sortSettings:Fs(this.parent.grid.sortSettings)},!0)}clearSorting(){this.parent.grid.clearSorting(),this.updateModel()}destroy(){this.removeEventListener()}}},FJ={provide:"TreeGridToolbar",useValue:class kMe{constructor(e){Oe.Inject(mAe),this.parent=e,this.addEventListener()}getModuleName(){return"toolbar"}addEventListener(){this.parent.on(CT,this.refreshToolbar,this),this.parent.on(wT,this.refreshToolbar,this),this.parent.on(bT,this.toolbarClickHandler,this)}removeEventListener(){this.parent.isDestroyed||(this.parent.off(CT,this.refreshToolbar),this.parent.off(wT,this.refreshToolbar),this.parent.off(bT,this.toolbarClickHandler))}refreshToolbar(e){const t=this.parent;let i,n;const s=t.element.id+"_gridcontrol_indent",o=t.element.id+"_gridcontrol_outdent",l=this.parent.grid.toolbarModule.getToolbar(),a=l.querySelector("#"+s),c=l.querySelector("#"+o);let d=e.row;const u=t.getSelectedRows()[0];if(h(d[0])||(d=d[0]),d=h(u)||u.rowIndex===d.rowIndex?d:u,null!==a&&null!==c){if(i=l.querySelector("#"+s).parentElement,n=l.querySelector("#"+o).parentElement,0===d.rowIndex||t.getSelectedRowIndexes().length>1)i.classList.add("e-hidden"),n.classList.add("e-hidden");else if("rowDeselected"!==e.name||!h(u)&&t.grid.isCheckBoxSelection){const p=t.getCurrentViewRecords()[d.rowIndex];h(p)||(p.level>t.getCurrentViewRecords()[d.rowIndex-1].level?i.classList.add("e-hidden"):i.classList.remove("e-hidden"),p.level===t.getCurrentViewRecords()[d.rowIndex-1].level&&i.classList.remove("e-hidden"),0===p.level&&n.classList.add("e-hidden"),0!==p.level&&n.classList.remove("e-hidden"))}"rowDeselected"===e.name&&h(u)&&!t.grid.isCheckBoxSelection&&(this.parent.toolbar.includes("Indent")&&i.classList.add("e-hidden"),this.parent.toolbar.includes("Outdent")&&n.classList.add("e-hidden"))}}toolbarClickHandler(e){const t=this.parent,i="indentOutdentAction";"Cell"===this.parent.editSettings.mode&&"Batch"===this.parent.grid.editSettings.mode&&e.item.id===this.parent.grid.element.id+"_update"&&(e.cancel=!0,this.parent.grid.editModule.saveCell()),e.item.id===this.parent.grid.element.id+"_expandall"&&this.parent.expandAll(),e.item.id===this.parent.grid.element.id+"_collapseall"&&this.parent.collapseAll(),e.item.id===t.grid.element.id+"_indent"&&t.getSelectedRecords().length&&!h(t.rowDragAndDropModule)&&this.parent.rowDragAndDropModule[i](null,"indent"),e.item.id===t.grid.element.id+"_outdent"&&t.getSelectedRecords().length&&!h(t.rowDragAndDropModule)&&this.parent.rowDragAndDropModule[i](null,"outdent")}getToolbar(){return this.parent.grid.toolbarModule.getToolbar()}enableItems(e,t){this.parent.grid.toolbarModule.enableItems(e,t)}destroy(){this.removeEventListener()}}},PJ={provide:"TreeGridEdit",useValue:class OMe{constructor(e){this.addedRecords="addedRecords",this.deletedRecords="deletedRecords",this.prevAriaRowIndex="-1",this.isAddedRowByMethod=!1,Oe.Inject(MAe),this.parent=e,this.isSelfReference=!h(e.parentIdMapping),this.previousNewRowPosition=null,this.internalProperties={},this.batchEditModule=new LMe(this.parent),this.addEventListener()}getModuleName(){return"edit"}addEventListener(){this.parent.on(T4,this.crudAction,this),this.parent.on(ST,this.beginEdit,this),this.parent.on(IT,this.beginAdd,this),this.parent.on(DT,this.recordDoubleClick,this),this.parent.on(R4,this.cellSave,this),this.parent.on(RT,this.batchCancel,this),this.parent.grid.on(fJ,this.keyPressed,this),this.parent.grid.on("batchedit-form",this.lastCellTab,this),this.parent.grid.on("content-ready",this.contentready,this),this.parent.on(TT,this.cellEdit,this),this.parent.on("actionBegin",this.editActionEvents,this),this.parent.on("actionComplete",this.editActionEvents,this),this.parent.grid.on(mJ,this.recordDoubleClick,this),this.parent.grid.on("dblclick",this.gridDblClick,this),this.parent.grid.on("recordAdded",this.customCellSave,this),this.parent.on("savePreviousRowPosition",this.savePreviousRowPosition,this),this.parent.grid.on(xJ,this.beforeStartEdit,this),this.parent.grid.on(CJ,this.beforeBatchCancel,this),this.parent.grid.on("reset-edit-props",this.resetIsOnBatch,this),this.parent.grid.on("get-row-position",this.getRowPosition,this)}gridDblClick(e){this.doubleClickTarget=e.target}getRowPosition(e){e.newRowPosition=this.parent.editSettings.newRowPosition,e.addRowIndex=this.addRowIndex,e.ariaRowIndex=+this.prevAriaRowIndex}beforeStartEdit(e){this.parent.trigger(xT,e)}beforeBatchCancel(e){"Cell"===this.parent.editSettings.mode&&this.parent.trigger(Wx,e)}removeEventListener(){this.parent.isDestroyed||(this.parent.off(T4,this.crudAction),this.parent.off(ST,this.beginEdit),this.parent.off(IT,this.beginAdd),this.parent.off(DT,this.recordDoubleClick),this.parent.off(RT,this.batchCancel),this.parent.grid.off(fJ,this.keyPressed),this.parent.grid.off("batchedit-form",this.lastCellTab),this.parent.grid.off("content-ready",this.contentready),this.parent.off(TT,this.cellEdit),this.parent.off("actionBegin",this.editActionEvents),this.parent.off("actionComplete",this.editActionEvents),this.parent.grid.off("recordAdded",this.customCellSave),this.parent.grid.off(mJ,this.recordDoubleClick),this.parent.off("savePreviousRowPosition",this.savePreviousRowPosition),this.parent.grid.off(xJ,this.beforeStartEdit),this.parent.grid.off(CJ,this.beforeBatchCancel),this.parent.grid.off("dblclick",this.gridDblClick),this.parent.grid.off("reset-edit-props",this.resetIsOnBatch),this.parent.grid.off("get-row-position",this.getRowPosition))}destroy(){this.removeEventListener()}applyFormValidation(e){this.parent.grid.editModule.applyFormValidation(e)}editActionEvents(e){const t=Mt("editAction",e),i=Mt("name",t),n=this.parent,s=n.dataSource.adaptor;if(($s(n)||s instanceof $m)&&"save"===t.requestType&&"add"===t.action&&("Child"===n.editSettings.newRowPosition||"Below"===n.editSettings.newRowPosition||"Above"===n.editSettings.newRowPosition))if("actionBegin"===i){const o=h(t.row)||!Object.keys(t.row).length?this.selectedIndex:t.row.rowIndex-1,l=h(o)||-1===o?-1:n.getCurrentViewRecords()[o][n.getPrimaryKeyFieldNames()[0]];n.grid.query.addParams("relationalKey",l)}else if("actionComplete"===i){const o=n.grid.query.params.length;for(let l=0;l<o;l++)"relationalKey"===n.grid.query.params[l].key&&n.grid.query.params.splice(l)}this.parent.enableInfiniteScrolling&&"actionComplete"===i&&this.infiniteAddAction(t),"Batch"===this.parent.editSettings.mode&&"paging"===t.requestType&&this.parent.notify("batchPageAction",{})}infiniteAddAction(e){if("save"===e.requestType&&"add"===e.action||"delete"===e.requestType){if("Top"!==this.parent.editSettings.newRowPosition&&-1!==this.selectedIndex&&"save"===e.requestType&&"add"===e.action){const s=this.parent.grid.getRowsObject(),o=s.splice(0,1)[0];let l=this.addRowIndex;const a=this.parent.getCurrentViewRecords();("Below"===this.parent.editSettings.newRowPosition||"Child"===this.parent.editSettings.newRowPosition)&&(l+=Fo(a[l+1]).length),l="Below"===this.parent.editSettings.newRowPosition?l+1:l,s.splice(l,0,o);const c=a.splice(0,1)[0];a.splice(l,0,c),this.updateInfiniteCurrentViewData(c,this.addRowIndex)}const t=this.parent.grid.getMovableRows(),i=this.parent.grid.getMovableRowsObject(),n=this.parent.infiniteScrollSettings.enableCache;n||($f(this.parent.grid,this.parent.grid.getRowsObject(),this.parent.grid.getRows(),0),this.updateIndex(this.parent.grid.dataSource,this.parent.getRows(),this.parent.getCurrentViewRecords())),!n&&this.parent.getFrozenColumns()>0&&($f(this.parent.grid,i,t,0),this.updateIndex(this.parent.grid.dataSource,t,this.parent.getCurrentViewRecords()))}}updateInfiniteCurrentViewData(e,t){const s=Math.ceil(t/this.parent.grid.pageSettings.pageSize);let o=s>0?s:1,l=t-(o-1)*this.parent.pageSettings.pageSize;const a=this.parent.grid.infiniteScrollModule.infiniteCurrentViewData;a[1].splice(0,1);let c=a[o];h(this.addRowRecord)||(c.filter((d,u)=>{d.uniqueID===this.addRowRecord.uniqueID&&(l=u)}),(this.addRowRecord.hasChildRecords&&this.addRowRecord.childRecords.length&&"Below"===this.parent.editSettings.newRowPosition||"Child"===this.parent.editSettings.newRowPosition)&&(l+=Fo(this.addRowRecord).length)),l>=this.parent.pageSettings.pageSize&&(o+=1,c=a[o],l=l-this.parent.pageSettings.pageSize>=0?l-this.parent.pageSettings.pageSize:0),l="Below"===this.parent.editSettings.newRowPosition?l+1:l,c.splice(l,0,e),this.parent.grid.infiniteScrollModule.updateCurrentViewData()}recordDoubleClick(e){const t=e.target;if(h(t.closest("td.e-rowcell"))||!this.parent.grid.editSettings.allowEditing||this.parent.grid.isEdit)return;const i=this.parent.grid.getColumnByIndex(+t.closest("td.e-rowcell").getAttribute("aria-colindex"));if("Cell"===this.parent.editSettings.mode&&!this.isOnBatch&&i&&!i.isPrimaryKey&&this.parent.editSettings.allowEditing&&i.allowEditing&&!t.classList.contains("e-treegridexpand")&&!t.classList.contains("e-treegridcollapse")&&this.parent.editSettings.allowEditOnDblClick){if(this.isOnBatch=!0,this.parent.grid.setProperties({selectedRowIndex:e.rowIndex},!0),this.parent.enableVirtualization){const n=Ce(e.target,"e-row");this.prevAriaRowIndex=n.getAttribute("aria-rowindex"),n.setAttribute("aria-rowindex",n.rowIndex+"")}this.updateGridEditMode("Batch")}}updateGridEditMode(e){this.parent.grid.setProperties({editSettings:{mode:e}},!0),Mt("updateEditObj",this.parent.grid.editModule).apply(this.parent.grid.editModule),this.parent.grid.isEdit=!1}resetIsOnBatch(){this.parent.enableVirtualization&&"Cell"===this.parent.editSettings.mode&&(this.isOnBatch=!1,this.updateGridEditMode("Normal"))}keyPressed(e){this.isOnBatch&&(this.keyPress=e.action),"f2"===e.action&&this.recordDoubleClick(e),"escape"===e.action&&this.parent.closeEdit()}deleteUniqueID(e){delete this.parent.uniqueIDFilterCollection[e],delete this.parent.uniqueIDCollection[e]}cellEdit(e){const t="promise",i=e[t];if(delete e[t],this.parent.enableVirtualization&&!h(this.prevAriaRowIndex)&&"-1"!==this.prevAriaRowIndex&&(e.row.setAttribute("aria-rowindex",this.prevAriaRowIndex),this.prevAriaRowIndex=void 0),"enter"!==this.keyPress&&this.parent.trigger(TT,e,n=>{n.cancel||"Cell"!==this.parent.editSettings.mode?n.cancel&&"Cell"===this.parent.editSettings.mode&&(this.isOnBatch=!1,this.updateGridEditMode("Normal")):this.enableToolbarItems("edit"),h(i)||i.resolve(n)}),this.doubleClickTarget&&(this.doubleClickTarget.classList.contains("e-treegridexpand")||this.doubleClickTarget.classList.contains("e-treegridcollapse")||this.doubleClickTarget.classList.contains("e-summarycell")))return e.cancel=!0,void(this.doubleClickTarget=null);"Cell"===this.parent.editSettings.mode&&("tab"===this.keyPress||"shiftTab"===this.keyPress?this.keyPress=null:"enter"===this.keyPress&&(e.cancel=!0,this.keyPress=null,Ne("isEditCollapse",!1,this.parent)),e.columnObject.allowEditing||(e.cancel=!0))}enableToolbarItems(e){if(!h(this.parent.grid.toolbarModule)){const t=this.parent.element.id+"_gridcontrol_";this.parent.grid.toolbarModule.enableItems([t+"add",t+"edit",t+"delete"],"save"===e),this.parent.grid.toolbarModule.enableItems([t+"update",t+"cancel"],"edit"===e)}}batchCancel(){if("Cell"===this.parent.editSettings.mode){const e=M("editModule.cellDetails",this.parent.grid.editModule),t=this.parent.getCellFromIndex(e.rowIndex,this.parent.treeColumnIndex);this.parent.renderModule.cellRender({data:e.rowData,cell:t,column:this.parent.grid.getColumns()[this.parent.treeColumnIndex]}),this.updateGridEditMode("Normal"),this.isOnBatch=!1}"Batch"===this.parent.editSettings.mode&&this.parent.notify("batchCancelAction",{})}customCellSave(e){Ps(this.parent)&&"Cell"===this.parent.editSettings.mode&&"edit"===e.action&&(this.updateCell(e,e.rowIndex),this.afterCellSave(e,e.row,e.rowIndex))}cellSave(e){if("Cell"===this.parent.editSettings.mode&&this.parent.element.querySelector("form")){e.cancel=!0;const t="editModule";let i,n;Ne("isEdit",!1,this.parent.grid),Ne("isEditCollapse",!0,this.parent),e.rowData[e.columnName]=e.value,i=h(e.cell)?this.parent.grid.editModule[t].form.parentElement.parentNode:e.cell.parentNode;const s=this.parent.getPrimaryKeyFieldNames();h(i)?this.parent.grid.getCurrentViewRecords().filter((l,a)=>{l[s[0]]!==e.rowData[s[0]]||(n=a)}):n=this.parent.getFrozenLeftColumnsCount()>0||this.parent.getFrozenRightColumnsCount()>0?-1!==this.parent.getRows().indexOf(i)?this.parent.getRows().indexOf(i):-1!==this.parent.getFrozenRightRows().indexOf(i)?this.parent.getFrozenRightRows().indexOf(i):this.parent.getMovableRows().indexOf(i):-1===this.parent.getRows().indexOf(i)&&this.parent.getFrozenColumns()>0?this.parent.grid.getMovableRows().indexOf(i):this.parent.getRows().indexOf(i);const o={};if(O(o,e),o.cancel=!1,o.type="save",i=this.parent.grid.getRows()[i.rowIndex],this.parent.trigger(xT,o),o.cancel)this.parent.grid.isEdit=!0;else if(i.rowIndex===this.parent.getCurrentViewRecords().length-1&&"tab"===this.keyPress&&(this.isTabLastRow=!0),$s(this.parent)||this.parent.dataSource instanceof ie&&this.parent.dataSource.adaptor instanceof $m){if($s(this.parent)||this.parent.dataSource instanceof ie&&this.parent.dataSource.adaptor instanceof $m){const l=this.parent.grid.query;let a=null;a=this.parent.grid.dataSource.update(s[0],e.rowData,l.fromTable,l,e.previousValue),a.then(c=>{h(c)||(e.rowData[e.columnName]=c[e.columnName]),this.updateCell(e,n),this.afterCellSave(e,i,n)})}}else if(Ps(this.parent)){const l="eventPromise",a={requestType:"save",data:e.rowData,action:"edit",row:i,rowIndex:n,rowData:e.rowData,columnName:e.columnName,filterChoiceCount:null,excelSearchOperator:null};this.parent.grid.getDataModule()[l](a,this.parent.grid.query)}else this.updateCell(e,n),this.afterCellSave(e,i,n)}}afterCellSave(e,t,i){let n;this.parent.grid.aggregateModule&&this.parent.grid.aggregateModule.refresh(e.rowData),this.parent.grid.editModule.destroyWidgets([this.parent.grid.getColumnByField(e.columnName)]),this.parent.grid.editModule.formObj.destroy(),"tab"!==this.keyPress&&"shiftTab"!==this.keyPress&&(this.updateGridEditMode("Normal"),this.isOnBatch=!1),this.enableToolbarItems("save"),this.parent.getFrozenLeftColumnsCount()>0||this.parent.getFrozenRightColumnsCount()>0?(n=e.cell.closest(".e-frozen-left-header")||e.cell.closest(".e-frozen-left-content")?this.parent.grid.getRows()[i]:e.cell.closest(".e-movableheader")||e.cell.closest(".e-movablecontent")?this.parent.grid.getMovableRows()[i]:this.parent.grid.getFrozenRightRows()[i],T([n],["e-editedrow","e-batchrow"]),T(n.querySelectorAll(".e-rowcell"),["e-editedbatchcell","e-updatedtd"])):this.parent.getFrozenColumns()>0&&(n=e.cell.closest(".e-frozenheader")||e.cell.closest(".e-frozencontent")?this.parent.grid.getRows()[i]:this.parent.grid.getMovableRows()[i],T([n],["e-editedrow","e-batchrow"]),T(n.querySelectorAll(".e-rowcell"),["e-editedbatchcell","e-updatedtd"])),T([t],["e-editedrow","e-batchrow"]),T(t.querySelectorAll(".e-rowcell"),["e-editedbatchcell","e-updatedtd"]),!1!==this.parent.isCellSaveFocus&&this.parent.grid.focusModule.restoreFocus(),Lg({value:e.rowData,action:"edit"},this.parent,this.isSelfReference,this.addRowIndex,this.selectedIndex,e.columnName),t.rowIndex===this.parent.getCurrentViewRecords().length-1&&"enter"===this.keyPress&&(this.keyPress=null);const o={type:"save",column:this.parent.getColumnByField(e.columnName),data:e.rowData,previousData:e.previousValue,row:t,target:e.cell};this.parent.aggregates.map(l=>!0===l.showChildSummary).length&&this.parent.grid.refresh(),this.parent.trigger(Wx,o)}lastCellTab(){!this.parent.grid.isEdit&&this.isOnBatch&&"tab"===this.keyPress&&"Cell"===this.parent.editSettings.mode&&(this.parent.editSettings.allowNextRowEdit?this.enableToolbarItems("edit"):(this.updateGridEditMode("Normal"),this.isOnBatch=!1,this.keyPress=null))}updateCell(e,t){this.parent.grid.editModule.updateCell(t,e.columnName,e.rowData[e.columnName]),this.parent.grid.getRowsObject()[t].data=e.rowData}crudAction(e,t){Lg(e,this.parent,this.isSelfReference,this.addRowIndex,this.selectedIndex,t,this.addRowRecord),this.parent.parentData=[];const i=this.parent.grid.dataSource instanceof ie?this.parent.grid.dataSource.dataSource.json:this.parent.grid.dataSource;for(let n=0;n<i.length;n++){i[n].index=n;const s=this.parent.grid.getPrimaryKeyFieldNames()[0];e.value[s]===i[n][s]&&"add"===e.action&&(i[n].level=this.internalProperties.level,i[n].taskData=this.internalProperties.taskData,i[n].uniqueID=this.internalProperties.uniqueID,h(this.internalProperties.parentItem)||(i[n].parentItem=this.internalProperties.parentItem,i[n].parentUniqueID=this.internalProperties.parentUniqueID),i[n].childRecords=this.internalProperties.childRecords),Ne("uniqueIDCollection."+i[n].uniqueID+".index",n,this.parent);const o=this.parent.dataSource.adaptor;($s(this.parent)||o instanceof $m)&&Ne("uniqueIDCollection."+i[n].uniqueID,i[n],this.parent),i[n].level||this.parent.parentData.push(i[n])}"add"===e.action&&null!=this.previousNewRowPosition&&(this.parent.setProperties({editSettings:{newRowPosition:this.previousNewRowPosition}},!0),this.previousNewRowPosition=null)}updateIndex(e,t,i){for(let o=0;o<this.parent.getDataRows().length;o++){const l=i[o];if(!h(l)){const a=M("uniqueIDCollection."+l.uniqueID+".index",this.parent);if(l.index=a,!h(l.parentItem)){const c=M("uniqueIDCollection."+l.parentItem.uniqueID+".index",this.parent);l.parentItem.index=c}}}let n=-1,s=this.parent.treeColumnIndex;if(this.parent.getFrozenColumns()>0){const o=t[0].querySelectorAll(".e-rowcell");for(let l=0;l<o.length;l++)if(o[l].classList.contains("e-gridrowindex0level0")){s=l;break}}for(let o=0;o<this.parent.getRows().length;o++){t[o].classList.contains("e-detailrow")||n++;const l=i[n];if(!h(l)){let a=l.index;const c=l.level,d=t[o];h(l.parentItem)||(a=M("uniqueIDCollection."+l.parentItem.uniqueID+".index",this.parent));const u=d.cells[s];if(!h(u)){for(let p=0;p<u.classList.length;p++){const g=u.classList[p],m=/e-griddetailrowindex/i,v=g.match(/e-gridrowindex/i),x=g.match(m);null!=v&&T([u],g),null!=x&&T([u],g)}t[o].classList.contains("e-detailrow")?_([u],"e-griddetailrowindex"+a+"level"+c):_([u],"e-gridrowindex"+a+"level"+c)}}}}beginAdd(){let e,t=this.addRowIndex,i=this.parent.grid.getCurrentViewRecords();"Batch"===this.parent.editSettings.mode&&(t=this.batchEditModule.getAddRowIndex(),this.selectedIndex=this.batchEditModule.getSelectedIndex(),(this.parent.getBatchChanges()[this.addedRecords].length>1||this.parent.getBatchChanges()[this.deletedRecords].length)&&(i=this.batchEditModule.getBatchRecords()));const n=this.parent.grid.getDataRows(),s=n.length?+n[0].getAttribute("aria-rowindex"):0,o=n.length?+n[n.length-1].getAttribute("aria-rowindex"):0,l=this.selectedIndex>=s&&this.selectedIndex<=o,a=this.parent.enableVirtualization&&this.addRowIndex>-1&&"-1"!==this.prevAriaRowIndex;if("Dialog"!==this.parent.editSettings.mode&&("Above"===this.parent.editSettings.newRowPosition?e="before":("Below"===this.parent.editSettings.newRowPosition||"Child"===this.parent.editSettings.newRowPosition)&&(this.selectedIndex>-1||a)&&l&&(e="after",!h(i[t])&&i[t].expanded)&&("Batch"===this.parent.editSettings.mode&&(this.parent.getBatchChanges()[this.addedRecords].length>1||this.parent.getBatchChanges()[this.deletedRecords].length)?(t+=Fo(i[t]).length,"Child"!==this.parent.editSettings.newRowPosition&&(t+=this.batchEditModule.getBatchChildCount())):t+=Fo(i[t]).length),(this.selectedIndex>-1||a)&&l&&(t||"Child"===this.parent.editSettings.newRowPosition||"Below"===this.parent.editSettings.newRowPosition))){t>=n.length-1&&(t=n.length-2);const c="rows",d=this.parent.grid.contentModule[c][0],u=document.activeElement;n[t+1][e](n[0]),Ne("batchIndex",t+1,this.batchEditModule);const p="Above"===this.parent.editSettings.newRowPosition?t:t+1;"Batch"===this.parent.editSettings.mode&&(this.parent.grid.contentModule[c].splice(0,1),this.parent.grid.contentModule[c].splice(p,0,d));const g=this.parent.getFrozenLeftColumnsCount()>0||this.parent.getFrozenRightColumnsCount()>0;if(this.parent.frozenRows||this.parent.getFrozenColumns()||this.parent.frozenColumns||g){const f=this.parent.getMovableDataRows(),m="freezeRows",v=this.parent.grid.getRowsObject()[0];if(f[t+1][e](f[0]),g){const x=this.parent.getFrozenRightDataRows();x[t+1][e](x[0])}"Batch"===this.parent.editSettings.mode&&(this.parent.grid.contentModule[m].splice(0,1),this.parent.grid.contentModule[m].splice(p,0,v)),Ne("batchIndex",t+1,this.batchEditModule)}if("Row"===this.parent.editSettings.mode||"Cell"===this.parent.editSettings.mode){const f=this.parent.grid.getContentTable().querySelectorAll(".e-griderror");for(let m=0;m<f.length;m++)f[m].remove();Ne("errorRules",[],this.parent.grid.editModule.formObj)}a&&(this.prevAriaRowIndex="-1"),u.focus()}if("Batch"===this.parent.editSettings.mode&&!h(this.addRowIndex)&&-1!==this.addRowIndex&&(t=this.batchEditModule.getAddRowIndex(),this.selectedIndex=this.batchEditModule.getSelectedIndex(),this.parent.editModule.isAddedRowByMethod)){const c={action:"add",data:this.parent.getBatchChanges().addedRecords[0],index:t,seletedRow:0};this.parent.editModule.beginAddEdit(c),this.parent.editModule.batchEditModule.batchAddRowRecord.push(this.parent.editModule.batchEditModule.addRowRecord),this.parent.editModule.batchEditModule.batchAddedRecords.push(c.data)}}beginEdit(e){if("refresh"===e.requestType&&this.isOnBatch)e.cancel=!0;else if("Cell"!==this.parent.editSettings.mode||"beginEdit"!==e.requestType){if(this.doubleClickTarget&&(this.doubleClickTarget.classList.contains("e-treegridexpand")||this.doubleClickTarget.classList.contains("e-treegridcollapse")||this.doubleClickTarget.classList.contains("e-frame")))return e.cancel=!0,void(this.doubleClickTarget=null);if("delete"===e.requestType){const t=e.data;if(h(e.data[0].uniqueID)){const i=this.parent.getPrimaryKeyFieldNames();for(let n=0;n<t.length;n++)this.parent.flatData.filter(s=>{s[i[0]]===e.data[n][i[0]]&&(t[n]=s)})}for(let i=0;i<t.length;i++){this.deleteUniqueID(t[i].uniqueID);const n=Fo(t[i]);for(let s=0;s<n.length;s++)this.deleteUniqueID(n[s].uniqueID);e.data=[...e.data,...n]}}if("add"===e.requestType||this.isAddedRowByMethod&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)){if((!(-1===this.parent.grid.selectedRowIndex&&this.isAddedRowByMethod)&&e.index===this.parent.grid.selectedRowIndex||0===e.index)&&(this.selectedIndex=this.parent.grid.selectedRowIndex),this.parent.enableVirtualization){let i,t='.e-row[aria-rowindex="'+this.selectedIndex+'"]';this.selectedIndex>-1&&"Top"!==this.parent.editSettings.newRowPosition&&"Bottom"!==this.parent.editSettings.newRowPosition?(this.prevAriaRowIndex=this.selectedIndex.toString(),i=this.parent.getContent().querySelector(t),this.addRowIndex=i?i.rowIndex:0):this.prevAriaRowIndex&&"-1"!==this.prevAriaRowIndex?(t='.e-row[aria-rowindex="'+this.prevAriaRowIndex+'"]',i=this.parent.getContent().querySelector(t),this.addRowIndex=i?i.rowIndex:0):this.addRowIndex=0}else this.addRowIndex=this.isAddedRowByMethod&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)?e.index:this.parent.grid.selectedRowIndex>-1?this.parent.grid.selectedRowIndex:0;this.addRowRecord=this.isAddedRowByMethod&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)?this.parent.flatData[e.index]:this.parent.getSelectedRecords()[0]}this.isAddedRowByMethod&&0!==e.index&&(this.addRowRecord=this.parent.flatData[e.index],this.addRowIndex=e.index),"Child"===this.parent.editSettings.newRowPosition&&h(this.addRowRecord)&&!h(this.parent.getSelectedRecords()[0])&&(this.addRowRecord=this.parent.getSelectedRecords()[0]),this.isAddedRowByMethod=!1,e=this.beginAddEdit(e)}else e.cancel=!0}savePreviousRowPosition(){null===this.previousNewRowPosition&&(this.previousNewRowPosition=this.parent.editSettings.newRowPosition)}beginAddEdit(e){const t=e.data;if("add"===e.action){const i=this.parent.grid.getPrimaryKeyFieldNames()[0];let n=null;t.taskData=h(t.taskData)?O({},e.data):t.taskData;const s=this.parent.grid.getCurrentViewRecords();this.parent.enableVirtualization&&0!==e.index&&(this.addRowIndex=this.parent.grid.getCurrentViewRecords().indexOf(this.addRowRecord),this.selectedIndex=parseInt(this.parent.getRows()[this.addRowIndex].getAttribute("aria-rowindex"),10));let o=this.addRowIndex;t.uniqueID=Ca(this.parent.element.id+"_data_"),Ne("uniqueIDCollection."+t.uniqueID,t,this.parent);let a,c,d,u,l=0;const p=this.parent.enableVirtualization&&this.addRowIndex>-1&&"-1"!==this.prevAriaRowIndex,g=this.parent.getRows(),f=g.length?s.indexOf(s[0]):0,m=g.length?+g[g.length-1].getAttribute("aria-rowindex"):0,v=this.selectedIndex>=f&&this.selectedIndex<=m;if(s.length&&(a=s[this.addRowIndex][this.parent.idMapping],u=s[this.addRowIndex][this.parent.parentIdMapping],s[this.addRowIndex].parentItem&&(c=s[this.addRowIndex].parentItem.uniqueID),d=s[this.addRowIndex].parentItem),"Top"!==this.parent.editSettings.newRowPosition&&s.length){if(l=s[this.addRowIndex].level,"Above"===this.parent.editSettings.newRowPosition)n="before",o=s[this.addRowIndex].index;else if("Below"===this.parent.editSettings.newRowPosition){n="after";const x=Fo(s[this.addRowIndex]).length,w=s[this.addRowIndex].index;o=x>0?w+x:w}else if("Child"===this.parent.editSettings.newRowPosition){n="after",(this.selectedIndex>-1||p)&&v&&(t.parentItem=O({},s[this.addRowIndex]),t.parentUniqueID=t.parentItem.uniqueID,delete t.parentItem.childRecords,delete t.parentItem[this.parent.childMapping]);const x=Fo(s[this.addRowIndex]).length,w=s[this.addRowIndex].index;this.selectedIndex>=0&&(t.level=l+1),o=x>0?w+x:w,this.isSelfReference&&(t.taskData[this.parent.parentIdMapping]=t[this.parent.parentIdMapping]=a,h(t.parentItem)||gd(i,t.parentItem,"add",this.parent,this.isSelfReference,t))}("Above"===this.parent.editSettings.newRowPosition||"Below"===this.parent.editSettings.newRowPosition)&&((this.selectedIndex>-1||p)&&l&&v&&(t.parentUniqueID=c,t.parentItem=O({},d),delete t.parentItem.childRecords,delete t.parentItem[this.parent.childMapping]),t.level=l,this.isSelfReference&&(t.taskData[this.parent.parentIdMapping]=t[this.parent.parentIdMapping]=u,h(t.parentItem)||gd(i,t.parentItem,"add",this.parent,this.isSelfReference,t))),null!=n&&(this.selectedIndex>-1||p)&&v&&(e.index="before"===n?o:o+1),"Bottom"===this.parent.editSettings.newRowPosition&&(e.index=(this.parent.grid.dataSource instanceof ie?this.parent.grid.dataSource.dataSource.json:this.parent.grid.dataSource).length)}h(t.level)&&(t.level=l),t.hasChildRecords=!1,t.childRecords=[],t.index=0}if("add"===e.action&&(this.internalProperties={level:t.level,parentItem:t.parentItem,uniqueID:t.uniqueID,taskData:t.taskData,parentUniqueID:h(t.parentItem)?void 0:t.parentItem.uniqueID,childRecords:t.childRecords}),"delete"===e.requestType){const i=e.data;for(let n=0;n<i.length;n++)if(i[n].parentItem){const s=no(this.parent,i[n].parentItem.uniqueID);if(!h(s)&&s.hasChildRecords){const o=s.childRecords.indexOf(i[n]);s.childRecords.splice(o,1)}}}return e}addRecord(e,t,i){if((this.parent.editSettings.newRowPosition===this.previousNewRowPosition||null===this.previousNewRowPosition)&&(this.previousNewRowPosition=this.parent.editSettings.newRowPosition),this.isSelfReference||h(e)||!Object.hasOwnProperty.call(e,this.parent.childMapping))e?(t>-1?(this.selectedIndex=t,this.addRowIndex=t):(this.selectedIndex=this.parent.selectedRowIndex,this.addRowIndex=this.parent.selectedRowIndex),i&&this.parent.setProperties({editSettings:{newRowPosition:i}},!0),this.parent.grid.editModule.addRecord(e,t)):this.parent.grid.editModule.addRecord(e,t);else{const n=[],s=this.parent.editSettings.mode,o=this.parent.grid.editSettings.mode;n.push(e),this.parent.setProperties({editSettings:{mode:"Batch"}},!0),this.parent.grid.setProperties({editSettings:{mode:"Batch"}},!0),h(i)||this.parent.setProperties({editSettings:{newRowPosition:i}},!0),this.parent.notify(r_,{updatedRecords:{addedRecords:n,changedRecords:[],deletedRecords:[]},index:t}),this.parent.setProperties({editSettings:{mode:s}},!0),this.parent.grid.setProperties({editSettings:{mode:o}},!0),this.parent.refresh()}}editFormValidate(){return this.parent.grid.editModule.editFormValidate()}destroyForm(){this.parent.grid.editModule.destroyForm()}contentready(e){!h(e.args.requestType)&&("delete"===e.args.requestType.toString()||"save"===e.args.requestType.toString()||"Batch"===this.parent.editSettings.mode&&"batchsave"===e.args.requestType.toString())&&(this.updateIndex(this.parent.grid.dataSource,this.parent.getRows(),this.parent.getCurrentViewRecords()),(this.parent.frozenRows||this.parent.getFrozenColumns()||this.parent.frozenColumns)&&this.parent.grid.dataSource.length===this.parent.getMovableDataRows().length&&this.updateIndex(this.parent.grid.dataSource,this.parent.getMovableDataRows(),this.parent.getCurrentViewRecords()))}editCell(e,t){("Cell"===this.parent.editSettings.mode||"Batch"===this.parent.editSettings.mode)&&("Batch"!==this.parent.editSettings.mode&&(this.isOnBatch=!0,this.updateGridEditMode("Batch")),this.parent.grid.editModule.editCell(e,t))}}},LJ={provide:"TreeGridVirtualScroll",useValue:class zMe{constructor(e){this.prevstartIndex=-1,this.prevendIndex=-1,this.parent=e,Oe.Inject(jMe),this.addEventListener()}returnVisualData(e){e.data=this.visualData}getModuleName(){return"virtualScroll"}addEventListener(){this.parent.isDestroyed||(this.parent.on(j0,this.collapseExpandVirtualchilds,this),this.parent.on(Yf,this.virtualPageAction,this),this.parent.on(vJ,this.destroy,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(j0,this.collapseExpandVirtualchilds),this.parent.off(Yf,this.virtualPageAction),this.parent.off(vJ,this.destroy))}collapseExpandVirtualchilds(e){this.parent.grid.notify(o_,{isExpandCollapse:!0}),this.expandCollapseRec=e.record,e.record.expanded="collapse"!==e.action;const t={result:this.parent.flatData,row:e.row,action:e.action,record:e.record,count:this.parent.flatData.length};(this.parent.enableVirtualization&&"Cell"===this.parent.selectionSettings.mode||"Row"===this.parent.selectionSettings.mode&&!this.parent.selectionSettings.persistSelection)&&this.parent.grid.clearSelection();const i=M("isCollapseAll",this.parent)?"collapseAll":"refresh";M("grid.renderModule",this.parent).dataManagerSuccess(t,{requestType:i})}virtualPageAction(e){const t=new ie(e.result),i=new qt("expanded","notequal",null).or("expanded","notequal",void 0),n=t.executeLocal((new Ze).where(i)),s=n.filter(c=>Ap(this.parent,c,n));this.visualData=s,this.parent.grid.notify(yJ,{data:s});const o={startIndex:-1,endIndex:-1,count:e.count};this.parent.grid.notify(k4,o);let l=o.startIndex,a=o.endIndex;if(e.count=s.length,-1===l&&-1===a){let c=new Ze;const d=this.parent.grid.pageSettings.pageSize;c=c.skip(d*(this.parent.grid.pageSettings.currentPage-1)).take(d),t.dataSource.json=s,e.result=t.executeLocal(c)}else{const c=e.actionArgs.requestType;if(("filtering"===c||"collapseAll"===c||"searching"===c||"refresh"===c&&this.parent.enableCollapseAll&&a>s.length)&&(l=0,a=this.parent.grid.pageSettings.pageSize-1,this.parent.grid.getContent().firstElementChild.scrollTop=0,this.parent.grid.notify(o_,{setTop:!0})),!h(this.expandCollapseRec)&&("virtualscroll"===e.actionArgs.requestType||"refresh"===e.actionArgs.requestType&&l!==this.prevstartIndex)&&l<this.parent.getRows().length&&a<=l+this.parent.getRows().length&&(l=0),!h(this.expandCollapseRec)){const d=this.parent.getRows();let u=s.indexOf(this.expandCollapseRec);s.slice(u,u+d.length).length<d.length&&u>=0&&0!==l?(u=s.length-d.length,u=u>0?u:0,l=u,a=s.length):M("isCollapseAll",this.parent)&&(l=0,a=this.parent.grid.pageSettings.pageSize-1,this.parent.grid.notify(o_,{setTop:!0}))}(this.parent.enableCollapseAll||this.parent.expandStateMapping)&&!h(this.expandCollapseRec)&&(e.count<this.parent.getRows()[0].getBoundingClientRect().height?l=0:this.parent.isExpandAll||(l=-1===this.prevstartIndex?0:this.prevstartIndex)),this.expandCollapseRec=null,e.result=s.slice(l,a),this.prevstartIndex=l,this.prevendIndex=a}this.parent.notify("updateAction",e)}destroy(){this.removeEventListener()}}};class W0{constructor(e){this.intl=new Nn,h(e)||(this.intl.culture=e)}getFormatFunction(e){return e.type?this.intl.getDateFormat(e):this.intl.getNumberFormat(e)}getParserFunction(e){return e.type?this.intl.getDateParser(e):this.intl.getNumberParser(e)}fromView(e,t,i){return"date"!==i&&"datetime"!==i&&"number"!==i||h(t)?e:t(e)}toView(e,t){let i=e;return!h(t)&&!h(e)&&(i=t(e)),i}setCulture(e){h(e)||rq(e)}}class Oc{constructor(e,t){this.disableHtmlEncode=!0,this.allowSorting=!0,this.allowResizing=!0,this.allowFiltering=!0,this.allowGrouping=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.enableGroupByFormat=!1,this.allowEditing=!0,this.filter={},this.showInColumnChooser=!0,this.edit={},this.allowSearching=!0,this.autoFit=!1,this.sortDirection="Descending",this.getEditTemplate=()=>this.editTemplateFn,this.getFilterTemplate=()=>this.filterTemplateFn,Nr(this,e),this.parent=t,"none"===this.type?this.type=null:this.type&&(this.type="string"==typeof this.type?this.type.toLowerCase():void 0),this.editType&&(this.editType=this.editType.toLowerCase()),h(this.uid)&&(this.uid=Hh("grid-column"));const i=new W0;if(e.format&&(e.format.skeleton||e.format.format&&"string"==typeof e.format.format)&&(this.setFormatter(i.getFormatFunction(O({},e.format))),this.setParser(i.getParserFunction(e.format))),this.toJSON=()=>{const n={},s=["filter","dataSource","headerText","template","headerTemplate","edit","editTemplate","filterTemplate","commandsTemplate","parent"],o=Object.keys(this);for(let l=0;l<o.length;l++)if("columns"===o[l]){n[o[l]]=[];for(let a=0;a<this[o[l]].length;a++)n[o[l]].push(this[o[l]][a].toJSON())}else s.indexOf(o[l])<0&&(n[o[l]]=this[o[l]]);return n},this.field||(this.allowFiltering=!1,this.allowGrouping=!1,this.allowSorting=!1,this.columns&&(this.allowResizing=this.columns.some(n=>n.allowResizing))),this.commands&&!this.textAlign&&(this.textAlign="Right"),(this.template||this.commandsTemplate)&&(this.templateFn=_a(this.template||this.commandsTemplate)),this.headerTemplate&&(this.headerTemplateFn=_a(this.headerTemplate)),!h(this.filter)&&this.filter.itemTemplate&&(this.fltrTemplateFn=_a(this.filter.itemTemplate)),this.editTemplate&&(this.editTemplateFn=_a(this.editTemplate)),this.filterTemplate&&(this.filterTemplateFn=_a(this.filterTemplate)),this.isForeignColumn()&&(h(this.editType)||"dropdownedit"===this.editType||"defaultedit"===this.editType)&&(this.editType="dropdownedit",this.edit.params&&this.edit.params.dataSource&&(this.edit.params.ddEditedData=!0),this.edit.params=O({dataSource:this.dataSource,query:new Ze,fields:{value:this.foreignKeyField||this.field,text:this.foreignKeyValue}},this.edit.params)),this.sortComparer){let n=this.sortComparer;this.sortComparer=(s,o,l,a)=>{if("string"==typeof n&&(n=fr(n,window)),"Descending"===this.sortDirection){const c=s;s=o,o=c;const d=l;l=a,a=d}return n(s,o,l,a)}}!this.sortComparer&&this.isForeignColumn()&&(this.sortComparer=(n,s)=>(n=fr(this.foreignKeyValue,om(this,{},n)[0]),s=fr(this.foreignKeyValue,om(this,{},s)[0]),"Descending"===this.sortDirection?Ie.fnDescending(n,s):Ie.fnAscending(n,s)))}getSortDirection(){return this.sortDirection}setSortDirection(e){this.sortDirection=e}getFreezeTableName(){return this.freezeTable}setProperties(e){const t=Object.keys(e);for(let i=0;i<t.length;i++)this[t[i]]=e[t[i]],this.parent&&this.parent.isReact&&("template"===t[i]?this.parent.refreshReactColumnTemplateByUid(this.uid):"headerTemplate"===t[i]&&(this.headerTemplateFn=_a(e[t[i]]),this.parent.refreshReactHeaderTemplateByUid(this.uid)))}isForeignColumn(){return!(!this.dataSource||!this.foreignKeyValue)}getFormatter(){return this.formatFn}setFormatter(e){this.formatFn=e}getParser(){return this.parserFn}setParser(e){this.parserFn=e}getColumnTemplate(){return this.templateFn}getHeaderTemplate(){return this.headerTemplateFn}getFilterItemTemplate(){return this.fltrTemplateFn}getDomSetter(){return this.disableHtmlEncode?"textContent":"innerHTML"}}const BJ="rowDataBound",j4="queryCellInfo",NJ="headerCellInfo",On="actionBegin",xi="actionComplete",Ga="dataBound",G4="rowSelecting",Zx="rowSelected",VJ="rowDeselecting",OT="rowDeselected",c_="cellSelecting",BT="cellSelected",HJ="cellDeselecting",zJ="cellDeselected",q4="columnSelecting",W4="columnSelected",jJ="beforePrint",GJ="printComplete",qJ="beforeOpenAdaptiveDialog",UJ="filterchoicerequest",Ou="initial-load",cl="initial-end",$d="data-ready",Ds="content-ready",cs="ui-update",Bh="on-empty",dl="inbound-model-changed",yo="model-changed",HT="colgroup-refresh",so="header-refreshed",XJ="searching-complete",em="group-aggregates",Og="refresh-footer-rendered",nC="beforecellfocused",zT="cellfocused",hr="key-pressed",Ml="click",ki="destroy",Kd="column-visible-changed",d_="column-width-changed",sC="column-position-changed",Q4="rows-added",jT="rows-removed",h_="datasource-modified",K0="auto-col",Y0="tooltip-destroy",p_="update-data",oZ="add-delete-Action",Yd="freezerender",WT="getForeignKeyData",oC="generateQuery",cZ="showEmptyGrid",dZ="foreignKeyData",f_="dataStateChange",hZ="dataSourceChanged",uZ="beforeFragAppend",m_="frozenHeight",sB="textWrapRefresh",rB="recordAdded",UT="cancel-Begin",oB="hierarchyprint",v_="partial-refresh",aB="columns-prepared",lC="cbox-filter-complete",y_="filter-Prevent",vZ="detail-indentcell-info",JT="infinite-scroll-handler",ZT="infinite-edit-handler",xB="group-collapse",C_="refreshResizeHandlers",wB="before-refresh-on-data-change",eR="filter-dialog-close",SB="refresh-cutsom-filter-ok-button",iR="enter-key-handler",MB="refresh-infinite-persist-selection";var St=(()=>{return(r=St||(St={}))[r.Data=0]="Data",r[r.Header=1]="Header",r[r.Summary=2]="Summary",r[r.GroupSummary=3]="GroupSummary",r[r.CaptionSummary=4]="CaptionSummary",r[r.Filter=5]="Filter",r[r.Indent=6]="Indent",r[r.GroupCaption=7]="GroupCaption",r[r.GroupCaptionEmpty=8]="GroupCaptionEmpty",r[r.Expand=9]="Expand",r[r.HeaderIndent=10]="HeaderIndent",r[r.StackedHeader=11]="StackedHeader",r[r.DetailHeader=12]="DetailHeader",r[r.DetailExpand=13]="DetailExpand",r[r.CommandColumn=14]="CommandColumn",r[r.DetailFooterIntent=15]="DetailFooterIntent",r[r.RowDragIcon=16]="RowDragIcon",r[r.RowDragHIcon=17]="RowDragHIcon",St;var r})(),Sr=(()=>{return(r=Sr||(Sr={}))[r.Header=0]="Header",r[r.Content=1]="Content",r[r.Summary=2]="Summary",Sr;var r})(),Rn=(()=>{return(r=Rn||(Rn={}))[r.isEdit=0]="isEdit",r[r.isAdd=1]="isAdd",r[r.isSort=2]="isSort",r[r.isFilter=3]="isFilter",Rn;var r})();class oR{constructor(e,t){this.dataState={isPending:!1,resolver:null,group:[]},this.foreignKeyDataState={isPending:!1,resolver:null},this.parent=e,this.serviceLocator=t,this.initDataManager(),!this.parent.isDestroyed&&"foreignKey"!==this.getModuleName()&&(this.parent.on(Q4,this.addRows,this),this.parent.on("row-position-changed",this.reorderRows,this),this.parent.on(jT,this.removeRows,this),this.parent.on(h_,this.initDataManager,this),this.parent.on(ki,this.destroy,this),this.parent.on(p_,this.crudActions,this),this.parent.on(oZ,this.getData,this),this.parent.on(K0,this.refreshFilteredCols,this),this.parent.on(aB,this.refreshFilteredCols,this))}reorderRows(e){this.dataManager.dataSource.json.splice(e.toIndex,0,this.dataManager.dataSource.json.splice(e.fromIndex,1)[0])}getModuleName(){return"data"}initDataManager(){const e=this.parent;this.dataManager=e.dataSource instanceof ie?e.dataSource:h(e.dataSource)?new ie:new ie(e.dataSource),!e.isAngular||e.query instanceof Ze?(this.isQueryInvokedFromData=!0,e.query=e.query instanceof Ze?e.query:new Ze):e.setProperties({query:new Ze},!0)}generateQuery(e){const i=this.parent.getQuery().clone();if("ExcludeHidden"===this.parent.columnQueryMode)i.select(this.parent.getColumns().filter(n=>!(!0!==n.isPrimaryKey&&!1===n.visible||void 0===n.field)).map(n=>n.field));else if("Schema"===this.parent.columnQueryMode){const n=[],s=this.parent.columns;for(let o=0;o<s.length;o++)n.push(s[o].field);i.select(n)}return this.filterQuery(i),this.searchQuery(i),this.aggregateQuery(i),this.sortQuery(i),gr(this.parent)?this.virtualGroupPageQuery(i):this.pageQuery(i,e),this.groupQuery(i),i}aggregateQuery(e){const t=this.parent.aggregates;for(let i=0;i<t.length;i++){const n=t[i];for(let s=0;s<n.columns.length;s++){const o=n.columns[s],l=o.type instanceof Array?o.type:[o.type];for(let a=0;a<l.length;a++)e.aggregate(l[a].toLowerCase(),o.field)}}return e}virtualGroupPageQuery(e){if(e.queries.length)for(let i=0;i<e.queries.length;i++)"onPage"===e.queries[i].fn&&e.queries.splice(i,1);return e}pageQuery(e,t){const i=this.parent,s={query:e,skipPage:!1};if(i.notify("set-virtual-page-query",s),s.skipPage)return e;if((i.allowPaging||i.enableVirtualization||i.enableInfiniteScrolling)&&!0!==t){if(i.pageSettings.currentPage=Math.max(1,i.pageSettings.currentPage),i.pageSettings.pageCount<=0&&(i.pageSettings.pageCount=8),i.pageSettings.pageSize<=0&&(i.pageSettings.pageSize=12),e.queries.length)for(let o=0;o<e.queries.length;o++)"onPage"===e.queries[o].fn&&e.queries.splice(o,1);!h(i.infiniteScrollModule)&&i.enableInfiniteScrolling?this.parent.notify("infinite-page-query",e):e.page(i.pageSettings.currentPage,i.allowPaging&&i.pagerModule&&i.pagerModule.pagerObj.isAllPage&&!this.dataManager.dataSource.offline?null:i.pageSettings.pageSize)}return e}groupQuery(e){const t=this.parent;if(t.allowGrouping&&t.groupSettings.columns.length){this.parent.groupSettings.enableLazyLoading&&e.lazyLoad.push({key:"isLazyLoad",value:this.parent.groupSettings.enableLazyLoading});const i=t.groupSettings.columns;for(let n=0,s=i.length;n<s;n++){const o=this.getColumnByField(i[n]);o||this.parent.log("initial_action",{moduleName:"group",columnName:i[n]});const a=o.format;o.enableGroupByFormat?e.group(i[n],this.formatGroupColumn.bind(this),a):e.group(i[n],null)}}return e}sortQuery(e){const t=this.parent;if((t.allowSorting||t.allowGrouping)&&t.sortSettings.columns.length){const i=t.sortSettings.columns,n=[];for(let s=i.length-1;s>-1;s--){const o=this.getColumnByField(i[s].field);if(!o)return this.parent.log("initial_action",{moduleName:"sort",columnName:i[s].field}),e;o.setSortDirection(i[s].direction);let l=i[s].direction;o.sortComparer&&(this.parent.log("grid_sort_comparer"),l=this.isRemote()?i[s].direction:o.sortComparer.bind(o)),-1===t.groupSettings.columns.indexOf(i[s].field)?o.isForeignColumn()||o.sortComparer?e.sortByForeignKey(o.field,l,void 0,i[s].direction.toLowerCase()):e.sortBy(o.field,l):n.push({direction:l,field:o.field})}for(let s=0,o=n.length;s<o;s++)if("string"==typeof n[s].direction)e.sortBy(n[s].field,n[s].direction);else{const l=this.getColumnByField(n[s].field);e.sortByForeignKey(n[s].field,n[s].direction,void 0,l.getSortDirection().toLowerCase())}}return e}searchQuery(e,t,i){const n=this.parent.searchSettings;let s=n.fields.length?n.fields:this.getSearchColumnFieldNames(),o=[],l=!1;if(this.parent.searchSettings.key.length){l=this.parent.getForeignKeyColumns().some(c=>s.indexOf(c.field)>-1);const a=i?t.dataSource.adaptor:this.dataManager.adaptor;if(l||a.getModuleName&&"ODataV4Adaptor"===a.getModuleName()){s=i?[t.foreignKeyValue]:s;for(let d=0;d<s.length;d++){const u=i?t:this.getColumnByField(s[d]);u.isForeignColumn()&&!i?o=this.fGeneratePredicate(u,o):o.push(new qt(s[d],n.operator,n.key,n.ignoreCase,n.ignoreAccent))}const c=qt.or(o);c.key=n.key,e.where(c)}else e.search(n.key,s,n.operator,n.ignoreCase,n.ignoreAccent)}return e}filterQuery(e,t,i){const n=this.parent;let s=[];const o=[],l=this.parent.getForeignKeyColumns();let a;if(n.allowFiltering&&n.filterSettings.columns.length){const c=t||n.filterSettings.columns,d={};for(const g of n.getColumns())d[g.field]=g.filter.type?g.filter.type:n.filterSettings.type;const u=[],p=[];for(const g of c){const f=n.getColumnByField(g.field);h(g.type)&&f&&("date"===f.type||"datetime"===f.type)&&(g.type=n.getColumnByField(g.field).type),g.isForeignKey?u.push(g):p.push(g)}if(p.length){for(let f=0,m=p.length;f<m;f++)p[f].uid=p[f].uid||this.parent.grabColumnByFieldFromAllCols(p[f].field).uid;const g=ta.getPredicate(p);for(const f of Object.keys(g))s.push(g[f])}if(u.length)for(const g of u){g.uid=g.uid||this.parent.grabColumnByFieldFromAllCols(g.field).uid;const f=this.parent.grabColumnByUidFromAllCols(g.uid);if(f||this.parent.log("initial_action",{moduleName:"filter",columnName:g.field}),f.isForeignColumn()&&F_(g.field,l)&&!i)o.push(g),f.columnData.length||(a=!0),s=this.fGeneratePredicate(f,s);else{const m=ta.getPredicate(c);for(const v of Object.keys(m))s.push(m[v])}}s.length&&!a?e.where(qt.and(s)):this.parent.notify(cZ,{})}return e}fGeneratePredicate(e,t){const i={};return e&&(this.parent.notify(oC,{predicate:i,column:e}),i.predicate.predicates.length&&t.push(i.predicate)),t}getData(e={requestType:""},t){const i=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());if(this.parent.log("datasource_syntax_mismatch",{dataState:this.parent}),this.parent.dataSource&&"result"in this.parent.dataSource)return this.eventPromise(e,t,i).promise;{let n;switch(e.requestType){case"delete":if(t=t||this.generateQuery(),1===Object.keys(e.data).length)n=this.dataManager.remove(i,e.data[0],t.fromTable,t);else{const l={addedRecords:[],deletedRecords:[],changedRecords:[]};l.deletedRecords=e.data,n=this.dataManager.saveChanges(l,i,t.fromTable,t.requiresCount())}break;case"save":t=t||this.generateQuery(),e.index=h(e.index)?0:e.index,n=this.dataManager.insert(e.data,t.fromTable,t,e.index)}return e.promise=n,!n||Array.isArray(n)||n.hasOwnProperty("deletedRecords")?this.insert(t,e):n.then(()=>this.insert(t,e))}}insert(e,t){return"save"===t.requestType&&this.parent.notify(rB,t),this.executeQuery(e)}executeQuery(e){if(this.dataManager.ready){const t=new Ss;return this.dataManager.ready.then(()=>{this.dataManager.executeQuery(e).then(n=>{t.resolve(n)})}).catch(n=>{t.reject(n)}),t.promise}return this.dataManager.executeQuery(e)}formatGroupColumn(e,t){const i=this.serviceLocator,n=this.getColumnByField(t),s=e;return n.type||(n.type=s.getDay?s.getHours()>0||s.getMinutes()>0||s.getSeconds()>0||s.getMilliseconds()>0?"datetime":"date":typeof e),h(n.getFormatter())&&eee(i,n),W0.prototype.toView(e,n.getFormatter())}crudActions(e){const t=this.generateQuery();let i=null;const n="promise",s=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());"save"===(this.parent.dataSource&&"result"in this.parent.dataSource&&this.eventPromise(e,t,s),e.requestType)&&(i=this.dataManager.update(s,e.data,t.fromTable,t,e.previousData)),e[n]=i||e[n],this.parent.notify("crud-Action",e)}saveChanges(e,t,i,n=this.generateQuery()){if(n.requiresCount(),"result"in this.parent.dataSource){const s=new Ss,o={requestType:"batchsave",changes:e,key:t,query:n,endEdit:s.resolve};return this.setState({isPending:!0,resolver:s.resolve}),this.parent.trigger(hZ,o),s.promise}return this.dataManager.saveChanges(e,t,n.fromTable,n,i)}getKey(e){if(e&&e.length)return e[0]}isRemote(){return!0!==this.dataManager.dataSource.offline&&void 0!==this.dataManager.dataSource.url&&""!==this.dataManager.dataSource.url}addRows(e){for(let t=e.records.length;t>0;t--)this.dataManager.dataSource.json.splice(e.toIndex,0,e.records[t-1])}removeRows(e){this.dataManager.dataSource.json=this.dataManager.dataSource.json.filter(i=>-1===e.records.indexOf(i))}getColumnByField(e){let t;return this.parent.columnModel.some(i=>(t=i,i.field===e))&&t}destroy(){this.parent.isDestroyed||(this.parent.off(Q4,this.addRows),this.parent.off(jT,this.removeRows),this.parent.off(h_,this.initDataManager),this.parent.off(ki,this.destroy),this.parent.off(p_,this.crudActions),this.parent.off(oZ,this.getData),this.parent.off(K0,this.refreshFilteredCols),this.parent.off(aB,this.refreshFilteredCols))}getState(){return this.dataState}setState(e){return this.dataState=e}getForeignKeyDataState(){return this.foreignKeyDataState}setForeignKeyDataState(e){this.foreignKeyDataState=e}getStateEventArgument(e){const t=new ca,i=new ie({url:"",adaptor:new ca}),n=t.processQuery(i,e);return O(JSON.parse(n.data),n.pvtData)}eventPromise(e,t,i){const n=e,s=this.getStateEventArgument(t),o=new Ss,l=new Ss;if(void 0!==e.requestType&&!1!==this.dataState.isDataChanged)if(s.action=e,"save"===e.requestType||"delete"===e.requestType){const a=e;a.key=i,a.promise=l.promise,a.state=s,this.setState({isPending:!0,resolver:l.resolve}),n.endEdit=l.resolve,n.cancelEdit=l.reject,this.parent.trigger(hZ,a),l.promise.then(()=>{this.setState({isPending:!0,resolver:o.resolve,group:s.group,aggregates:s.aggregates}),"save"===a.requestType&&this.parent.notify(rB,a),this.parent.trigger(f_,s)}).catch(()=>{})}else this.setState({isPending:!0,resolver:o.resolve,group:s.group,aggregates:s.aggregates}),this.parent.trigger(f_,s);else this.setState({}),o.resolve(this.parent.dataSource);return o}getSearchColumnFieldNames(){const e=[],t=this.parent.getColumns();for(const i of t)i.allowSearching&&!h(i.field)&&e.push(i.field);return e}refreshFilteredCols(){this.parent.allowFiltering&&this.parent.filterSettings.columns.length&&function EPe(r,e){for(let t=0;t<e.length;t++)e[t].uid=e[t].isForeignKey?F_(e[t].field,r.getForeignKeyColumns()).uid:r.enableColumnVirtualization?dee(r,e[t].field).uid:r.getColumnByField(e[t].field).uid}(this.parent,this.parent.filterSettings.columns)}}class Qd{constructor(e,t){Nr(this,e),this.parent=t}clone(){const e=new Qd({});return Nr(e,this),e.cells=this.cells.map(t=>t.clone()),e}setRowValue(e){if(!this.parent)return;const t=this.data[this.parent.getPrimaryKeyFieldNames()[0]];this.parent.setRowData(t,e)}setCellValue(e,t){if(this.parent&&this.data[e].toString()!==t.toString()){const n=this.parent.getPrimaryKeyFieldNames()[0];this.parent.setCellValue(this.data[n],e,t),this.makechanges(n,this.data)}}makechanges(e,t){this.parent&&this.parent.getDataModule().dataManager.update(e,t)}}class sc{constructor(e){this.isSpanned=!1,this.isRowSpanned=!1,Nr(this,e)}clone(){const e=new sc({});return Nr(e,this),e}}class LZ{constructor(e,t){this.serviceLocator=e,this.parent=t}render(e,t,i,n){const o=this.serviceLocator.getService("cellRendererFactory").getCellRenderer(t.cells[i].cellType||St.Data);let l=t.cells[i].cellSpan?t.cells[i].cellSpan:e.colSpan+i<=t.cells.length?e.colSpan:t.cells.length-i;const a=e.rowSpan;let d,c=0;if(t.index>0){const p=this.parent.groupSettings.columns.length>0&&!this.parent.getRowsObject()[t.index-1].isDataRow?this.parent.getRowsObject()[t.index].cells:this.parent.getRowsObject()[t.index-1].cells,g=t.cells[i],f="uid";d=p.filter(m=>m.column.uid===g.column[f])[0]}const u=d&&d.colSpanRange>1&&d.rowSpanRange>1?d.colSpanRange:l;for(let p=i+1;p<i+u&&p<t.cells.length;p++)!1===t.cells[p].visible?c++:t.cells[p].isSpanned=!0;if(c>0){for(let p=i+l;p<i+l+c&&p<t.cells.length;p++)t.cells[p].isSpanned=!0;i+l+c>=t.cells.length&&(l-=i+l+c-t.cells.length)}return t.cells[i].cellSpan&&(t.data[e.column.field]=t.cells[i].spanText,n=o.render(t.cells[i],t.data,{index:h(t.index)?"":t.index.toString()})),l>1&&Le(n,{colSpan:l.toString(),"aria-colSpan":l.toString()}),a>1&&(Le(n,{rowspan:a.toString(),"aria-rowspan":a.toString()}),t.cells[i].isRowSpanned=!0,t.cells[i].rowSpanRange=Number(a),l>1&&(t.cells[i].colSpanRange=Number(l))),t.index>0&&d.rowSpanRange>1&&(t.cells[i].isSpanned=!0,t.cells[i].rowSpanRange=Number(d.rowSpanRange-1),t.cells[i].colSpanRange=d.rowSpanRange>0?d.colSpanRange:1),this.parent.enableColumnVirtualization&&!t.cells[i].cellSpan&&!this.containsKey(e.column.field,e.data[e.column.field])&&this.backupMergeCells(e.column.field,e.data[e.column.field],e.colSpan),n}backupMergeCells(e,t,i){this.setMergeCells(this.generteKey(e,t),i)}generteKey(e,t){return e+"__"+t.toString()}splitKey(e){return e.split("__")}containsKey(e,t){return this.getMergeCells().hasOwnProperty(this.generteKey(e,t))}getMergeCells(){return this.parent.mergeCells}setMergeCells(e,t){this.parent.mergeCells[e]=t}updateVirtualCells(e){const t=this.getMergeCells();for(const i of Object.keys(t)){const n=t[i],s=this.splitKey(i),o=this.getIndexFromAllColumns(s[0]),l=this.parent.getColumnIndexesInView(),a=n-(l[0]-o);if(o<l[0]&&a>1)for(const c of e)if(c.data[s[0]].toString()===s[1].toString()){c.cells[0].cellSpan=a,c.cells[0].spanText=s[1];break}}return e}getIndexFromAllColumns(e){return iv(this.parent.getVisibleColumns(),(i,n)=>{if(i.field===e)return n})[0]}}const Di="e-rowcell",Ir="e-gridheader",ur="e-gridcontent",X0="e-gridfooter",pr="e-headercontent",gn="e-movablecontent",fn="e-movableheader",md="e-frozencontent",Nh="e-frozenheader",Bs="e-content",kn="e-table",Bi="e-row",J0="e-gridchkbox",hl="e-editedrow",ba="e-addedrow",Bu="addedRecords",im="deletedRecords",Ot="Left-Right",Bn="frozen-right",Ns="frozen-left",Dr="aria-colindex",ei="aria-rowindex",Ye="tbody",si="colgroup";class rc{constructor(e,t,i){this.isSpan=!1,this.cellType=t,this.serviceLocator=e,this.parent=i,this.element=this.parent.createElement("tr",{attrs:{role:"row"}})}render(e,t,i,n,s){return this.refreshRow(e,t,i,n,s)}refresh(e,t,i,n,s){i&&(e.data=CR({},e.changes),this.refreshMergeCells(e));const o=this.parent.element.querySelector("[data-uid="+e.uid+"]"),l=this.refreshRow(e,t,n,s,null,i),a=[].slice.call(l.cells),c=[].slice.call(o.querySelectorAll(".e-templatecell"));if(this.parent.isReact&&c.length)for(let d=0,u=t.length;d<u;d++)t[d].template&&this.parent.refreshReactColumnTemplateByUid(t[d].uid);o.innerHTML="";for(const d of a)o.appendChild(d)}refreshRow(e,t,i,n,s,o){const l=h(s)?this.element.cloneNode():s,a={data:e.data},c={data:e.data},d=this.parent.getColumns().filter(v=>"checkbox"===v.type&&v.field)[0];let u=!1;d&&(u=fr(d.field,a.data));const p=this.parent.getSelectedRowIndexes();e.isDataRow&&(e.isSelected=p.indexOf(e.index)>-1||u),e.isDataRow&&this.parent.isCheckBoxSelection&&"Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0,-1===p.indexOf(e.index)&&p.push(e.index)),this.buildAttributeFromRow(l,e),Le(l,O({},i,{})),Nu(l,e.attributes);const g=this.serviceLocator.getService("cellRendererFactory");for(let v=0,x=e.cells.length;v<x;v++){const w=e.cells[v];w.isSelected=e.isSelected,w.isColumnSelected=w.column.isSelected;const b=g.getCellRenderer(e.cells[v].cellType||St.Data),I={index:h(e.index)?"":e.index.toString()};e.isExpand&&e.cells[v].cellType===St.DetailExpand&&(I.class=this.parent.isPrinting?"e-detailrowcollapse":"e-detailrowexpand");let k=b.render(e.cells[v],e.data,I,e.isExpand,o);if(e.cells[v].cellType!==St.Filter){if(e.cells[v].cellType===St.Data||e.cells[v].cellType===St.CommandColumn){this.parent.trigger(j4,O(c,{cell:k,column:w.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[v].foreignKeyData,requestType:this.parent.requestTypeAction}));let P=!1;if(e.index>0&&this.isSpan){const W=this.parent.groupSettings.columns.length>0&&!this.parent.getRowsObject()[e.index-1].isDataRow?this.parent.getRowsObject()[e.index].cells:this.parent.getRowsObject()[e.index-1].cells,oe="uid",ae=W.filter(xe=>xe.column.uid===e.cells[v].column[oe])[0];P=ae.isRowSpanned?ae.isRowSpanned:ae.rowSpanRange>1}(c.colSpan>1||e.cells[v].cellSpan>1||c.rowSpan>1||P)&&(this.isSpan=!0,k=new LZ(this.serviceLocator,this.parent).render(c,e,v,k))}e.cells[v].isSpanned||l.appendChild(k)}}if(e.isDataRow&&(this.parent.trigger(BJ,O(a,{row:l,rowHeight:this.parent.rowHeight})),this.parent.childGrid||this.parent.isRowDragable()||this.parent.detailTemplate)){const v=l.querySelectorAll(".e-rowcell:not(.e-hide)")[0];v&&v.classList.add("e-detailrowvisible")}if(this.parent.enableVirtualization&&(a.rowHeight=this.parent.rowHeight),a.rowHeight?l.style.height=a.rowHeight+"px":this.parent.rowHeight&&(l.querySelector(".e-headercell")||l.querySelector(".e-groupcaption"))&&(l.style.height=this.parent.rowHeight+"px"),e.cssClass&&l.classList.add(e.cssClass),e.lazyLoadCssClass&&l.classList.add(e.lazyLoadCssClass),(!this.parent.enableColumnVirtualization||0===this.parent.frozenColumns)&&this.parent.aggregates.length&&this.parent.element.scrollHeight>this.parent.height)for(let v=0;v<this.parent.aggregates.length;v++)if(this.parent.aggregates[v].properties.columns[0].footerTemplate){const b=[].slice.call(l.getElementsByClassName("e-summarycell"));b.length&&(_([b[b.length-1]],["e-lastsummarycell"]),_([b[0]],["e-firstsummarycell"]))}return l}refreshMergeCells(e){for(const t of e.cells)t.isSpanned=!1;return e}buildAttributeFromRow(e,t){const i={},s=[];t.isDataRow&&s.push(Bi),t.isAltRow&&s.push("e-altrow"),h(t.index)||(i["aria-rowindex"]=t.index),t.rowSpan&&(i.rowSpan=t.rowSpan),t.uid&&(i["data-uid"]=t.uid),t.isSelected&&(i["aria-selected"]=!0),!1===t.visible&&s.push("e-hide"),i.class=s,Nu(e,i)}}class Vh{constructor(e){this.parent=e}generateRows(e,t){const i=[];let n=this.parent.enableVirtualization&&t?t.startIndex:0;n=this.parent.enableInfiniteScrolling&&t?this.getInfiniteIndex(t):n;for(let s=0,o=Object.keys(e).length;s<o;s++,n++)i[s]=this.generateRow(e[s],n);return i}ensureColumns(){const e=[];if(this.parent.detailTemplate||this.parent.childGrid){const t={};this.parent.notify(vZ,t),e.push(this.generateCell(t,null,St.DetailExpand))}return this.parent.isRowDragable()&&e.push(this.generateCell({},null,St.RowDragIcon)),e}generateRow(e,t,i,n,s,o,l){const a={foreignKeyData:{}};a.uid=Hh("grid-row"),a.data=e,a.index=t,a.indent=n,a.tIndex=o,a.isDataRow=!0,a.parentGid=s,a.parentUid=l,this.parent.isPrinting&&("All"===this.parent.hierarchyPrintMode?a.isExpand=!0:"Expanded"===this.parent.hierarchyPrintMode&&this.parent.expandedRows&&this.parent.expandedRows[t]&&(a.isExpand=this.parent.expandedRows[t].isExpand)),a.cssClass=i,a.isAltRow=!!this.parent.enableAltRow&&t%2!=0,a.isAltRow=!!this.parent.enableAltRow&&t%2!=0,a.isSelected=this.parent.getSelectedRowIndexes().indexOf(t)>-1,this.refreshForeignKeyRow(a);const c=this.ensureColumns(),d=new Qd(a,this.parent);return d.cells="Right"===this.parent.getFrozenMode()?this.generateCells(a).concat(c):c.concat(this.generateCells(a)),d}refreshForeignKeyRow(e){const t=this.parent.getForeignKeyColumns();for(let i=0;i<t.length;i++)Ne(t[i].field,om(t[i],e.data),e.foreignKeyData)}generateCells(e){const t=this.parent.getColumns(),i=[];for(let n=0;n<t.length;n++)i.push(this.generateCell(t[n],e.uid,h(t[n].commands)?void 0:St.CommandColumn,null,n,e.foreignKeyData));return i}generateCell(e,t,i,n,s,o){const l={visible:e.visible,isDataCell:!h(e.field||e.template),isTemplate:!h(e.template),rowID:t,column:e,cellType:h(i)?St.Data:i,colSpan:n,commands:e.commands,isForeignKey:e.isForeignColumn&&e.isForeignColumn(),foreignKeyData:e.isForeignColumn&&e.isForeignColumn()&&M(e.field,o)};return(l.isDataCell||"checkbox"===l.column.type||l.commands)&&(l.index=s),new sc(l)}refreshRows(e){for(let t=0;t<e.length;t++)this.refreshForeignKeyRow(e[t]),e[t].cells=this.generateCells(e[t]);return e}getInfiniteIndex(e){return"infiniteScroll"===e.requestType||"delete"===e.requestType||"add"===e.action?e.startIndex:0}}class __{constructor(e){this.parent=e}getData(){const e=[],t=this.parent.aggregates.slice();for(let i=0;i<t.length;i++){const n=t[i].columns.filter(s=>!(s.footerTemplate||s.groupFooterTemplate||s.groupCaptionTemplate)||this.columnSelector(s));n.length&&e.push({columns:n})}return e}columnSelector(e){return void 0!==e.footerTemplate}getColumns(e,t){const i=[];if(this.parent.allowGrouping)for(let n=0;n<this.parent.groupSettings.columns.length;n++)i.push(new Oc({}));return(this.parent.detailTemplate||!h(this.parent.childGrid))&&i.push(new Oc({})),this.parent.isRowDragable()&&!e&&i.push(new Oc({})),i.push(...this.parent.getColumns()),t=t&&!e?t+this.parent.getIndentCount():t,h(e)?i:i.slice(e,t)}generateRows(e,t,i,n,s){if(0===e.length&&(void 0===t||!t.count))return[];const o=this.buildSummaryData(e,t),l=[],a=this.getData();for(let c=0;c<a.length;c++)l.push(this.getGeneratedRow(a[c],o[c],t?t.level:void 0,i,n,t?t.parentUid:void 0,s));return l}getGeneratedRow(e,t,i,n,s,o,l){const a=[];let c=this.getIndentByLevel();const d=!h(this.parent.childGrid),u=n?0:this.parent.getIndentCount();this.parent.isRowDragable()&&!n&&(c=["e-indentcelltop"]);const p=l||this.getColumns(n,s);for(let f=0;f<p.length;f++)a.push(this.getGeneratedCell(p[f],e,f>=u?this.getCellType():f<this.parent.groupSettings.columns.length?St.Indent:St.DetailFooterIntent,c[f],d));const g=new Qd({data:t,attributes:{class:"e-summaryrow"}});return g.cells=a,g.uid=Hh("grid-row"),g.parentUid=o,g.isAggregateRow=!0,g.visible=a.some(f=>f.isDataCell&&f.visible),g}getGeneratedCell(e,t,i,n,s){const o=t.columns.filter(c=>c.columnName===e.field)[0],l={style:{textAlign:e.textAlign},"e-mappinguid":e.uid,index:e.index};n&&(l.class=n),h(n)&&s&&(l.class="e-detailindentcelltop");const a={visible:e.visible,isDataCell:!h(o),isTemplate:o&&!h(o.footerTemplate||o.groupFooterTemplate||o.groupCaptionTemplate),column:o||{},attributes:l,cellType:i};return a.column.headerText=e.headerText,new sc(a)}buildSummaryData(e,t){const i=[],n=this.getData();let s={};for(let o=0;o<n.length;o++){s={};const l=n[o].columns;for(let a=0;a<l.length;a++)s=this.setTemplate(l[a],t&&t.aggregates?t:e,s);i.push(s)}return i}getIndentByLevel(){return this.parent.groupSettings.columns.map(()=>"e-indentcelltop")}setTemplate(e,t,i){let n=e.type;const s={},o=e.getFormatter()||(a=>a),l=t;n instanceof Array||(n=[e.type]);for(let a=0;a<n.length;a++){const c=e.field+" - "+n[a].toLowerCase(),d=e.columnName,u="Custom"!==n[a]&&l.aggregates&&c in l.aggregates?l.aggregates[c]:ZZ(n[a],l.aggregates?l:t,e,this.parent);i[d]=i[d]||{},i[d][c]=u,i[d][n[a]]=h(u)?" ":o(u),l.field&&(i[d].field=l.field,i[d].key=l.key)}return s.format=e.getFormatter(),e.setTemplate(s),i}getCellType(){return St.Summary}}class hC extends __{columnSelector(e){return void 0!==e.groupFooterTemplate}getIndentByLevel(e=this.parent.groupSettings.columns.length){return this.parent.groupSettings.columns.map((t,i)=>i<=e-1?"":"e-indentcelltop")}getCellType(){return St.GroupSummary}}class S_ extends __{columnSelector(e){return void 0!==e.groupCaptionTemplate}getData(){return[super.getData().reduce((t,i)=>(t.columns=[...t.columns,...i.columns],t),{columns:[]})]}isEmpty(){return 0===(this.getData()[0].columns||[]).length}getCellType(){return St.CaptionSummary}}class cR extends Vh{constructor(e){super(e),this.rows=[],this.index=0,this.infiniteChildCount=0,this.renderInfiniteAgg=!0,this.parent=e,this.summaryModelGen=new hC(e),this.captionModelGen=new S_(e)}generateRows(e,t){if(0===this.parent.groupSettings.columns.length)return super.generateRows(e,t);this.isInfiniteScroll="infiniteScroll"===t.requestType,this.rows=[],this.index=this.parent.enableVirtualization||this.isInfiniteScroll?t.startIndex:0;for(let i=0,n=e.length;i<n;i++)this.infiniteChildCount=0,this.renderInfiniteAgg=!0,this.getGroupedRecords(0,e[i],e.level,i,void 0,this.rows.length);return this.index=0,this.parent.isCollapseStateEnabled()&&this.ensureRowVisibility(),this.rows}getGroupedRecords(e,t,i,n,s,o,l){const a=i;if(h(t.items))if(h(t.GroupGuid))this.rows=this.rows.concat(this.generateDataRows(t,e,n,this.rows.length,l));else for(let c=0,d=t.length;c<d;c++)this.getGroupedRecords(e,t[c],t.level,n,e,this.rows.length,l);else{let c;const d=this.generateCaptionRow(t,e,n,s,o,l);if(this.isInfiniteScroll&&(c=this.getPreCaption(e,d.data.key)),c?d.uid=c.uid:this.rows=this.rows.concat(d),t.items&&t.items.length&&this.getGroupedRecords(e+1,t.items,t.items.level,n,e+1,this.rows.length,d.uid),this.parent.aggregates.length&&this.isRenderAggregate(d)){const u=this.rows.length;this.rows.push(...this.summaryModelGen.generateRows(t,{level:a,parentUid:d.uid}));for(let p=u-1;p>=0;p--)if(this.rows[p].isCaptionRow)this.rows[p].aggregatesCount=this.rows.length-u;else if(!this.rows[p].isCaptionRow&&!this.rows[p].isDataRow)break}c&&this.setInfiniteRowVisibility(c)}}isRenderAggregate(e){return this.parent.enableInfiniteScrolling?!!this.renderInfiniteAgg&&(this.getPreCaption(e.indent,e.data.key),this.renderInfiniteAgg=e.data.count===this.infiniteChildCount,this.renderInfiniteAgg):!this.parent.enableInfiniteScrolling}getPreCaption(e,t){const i=[...this.parent.getRowsObject(),...this.rows];let n;this.infiniteChildCount=0;let s=i.length;for(;s--&&(i[s].isCaptionRow&&i[s].indent===e&&i[s].data.key===t&&(n=i[s]),!(i[s].indent===e||i[s].indent<e));)i[s].indent===e+1&&this.infiniteChildCount++;return n}getCaptionRowCells(e,t,i){const n=[];let s=[],o=this.parent.getColumnByField(e);const l=this.parent.getColumnIndexesInView();this.parent.enableColumnVirtualization&&(o=this.parent.columns.filter(p=>p.field===e)[0]);const a=this.parent.groupSettings.columns.length,c=this.parent;if(!this.parent.enableColumnVirtualization||-1!==l.indexOf(t)){for(let p=0;p<t;p++)n.push(this.generateIndentCell());n.push(this.generateCell({},null,St.Expand))}if(t=this.parent.enableColumnVirtualization?1:this.parent.getVisibleColumns().length+a+(c.detailTemplate||c.childGrid?1:0)-t+(this.parent.getVisibleColumns().length?-1:0),this.parent.aggregates.length&&!this.captionModelGen.isEmpty()){const p=this.captionModelGen.generateRows(i)[0];O(i,p.data);let g=0;p.cells.some((f,m)=>(g=m,f.visible&&f.isDataCell)),s=p.cells.slice(g).filter(f=>f.visible),p.visible&&s[0].column.field===this.parent.getVisibleColumns()[0].field&&(s=s.slice(1)),1===this.parent.getVisibleColumns().length&&(s=[]),t-=s.length}const d=this.parent.enableColumnVirtualization?this.parent.getColumns():[o];let u=!0;for(let p=0;p<d.length;p++){const g=u&&-1!==l.indexOf(t);g&&(u=!1);const f=!this.parent.enableColumnVirtualization||g?St.GroupCaption:St.GroupCaptionEmpty;t=this.parent.enableColumnVirtualization&&f===St.GroupCaption?t+a:t,c.isRowDragable()&&t++,n.push(this.generateCell(o,null,f,t))}return n.push(...s),n}generateCaptionRow(e,t,i,n,s,o){const l={},a="records",c=this.parent.getColumnByField(e.field);l.data=O({},e),c&&(l.data.field=e.field),l.isDataRow=!1,l.isExpand=!this.parent.groupSettings.enableLazyLoading&&!this.parent.isCollapseStateEnabled(),l.parentGid=i,l.childGid=n,l.tIndex=s,l.isCaptionRow=!0,l.parentUid=o,l.gSummary=h(e.items[a])?e.items.length:e.items[a].length,l.uid=Hh("grid-row");const d=new Qd(l);return d.indent=t,this.getForeignKeyData(d),d.cells=this.getCaptionRowCells(e.field,t,d.data),d}getForeignKeyData(e){const t=e.data,i=this.parent.getColumnByField(t.field);i&&i.isForeignColumn&&i.isForeignColumn()&&Ne("foreignKey",h(t.key)?"":i.valueAccessor(i.foreignKeyValue,om(i,{},t.key)[0],i),e.data)}generateDataRows(e,t,i,n,s){const o=[],l=this.parent.getColumnIndexesInView();for(let a=0,c=e.length;a<c;a++,n++){o[a]=this.generateRow(e[a],this.index,a?void 0:"e-firstchildrow",t,i,n,s);for(let d=0;d<t;d++)this.parent.enableColumnVirtualization&&-1===l.indexOf(t)||o[a].cells.unshift(this.generateIndentCell());this.index++}return o}generateIndentCell(){return this.generateCell({},null,St.Indent)}refreshRows(e){const t=this.parent.getColumnIndexesInView();for(let i=0;i<e.length;i++)if(e[i].isDataRow){e[i].cells=this.generateCells(e[i]);for(let n=0;n<e[i].indent;n++)this.parent.enableColumnVirtualization&&-1===t.indexOf(e[i].indent)||e[i].cells.unshift(this.generateIndentCell())}else{const n=this.generateCaptionRow(e[i].data,e[i].indent);e[i].cells=n.cells}return e}setInfiniteRowVisibility(e){if(!e.isExpand||!1===e.visible)for(const t of this.rows)t.parentUid===e.uid&&(t.visible=!1,t.isCaptionRow&&this.setInfiniteRowVisibility(t))}ensureRowVisibility(){for(let e=0;e<this.rows.length;e++){const t=this.rows[e];if(t.isCaptionRow)for(let i=e+1;i<this.rows.length;i++)t.uid===this.rows[i].parentUid&&(this.rows[i].visible=t.isExpand)}}}class I_{constructor(e,t){this.rows=[],this.freezeRows=[],this.movableRows=[],this.freezeRowElements=[],this.currentInfo={},this.prevCurrentView=[],this.isLoaded=!0,this.viewColIndexes=[],this.drop=i=>{this.parent.notify("columnDrop",{target:i.target,droppedElement:i.droppedElement}),X(i.droppedElement)},this.infiniteCache={},this.isRemove=!1,this.visibleRows=[],this.visibleFrozenRows=[],this.rightFreezeRows=[],this.isAddRows=!1,this.isInfiniteFreeze=!1,this.useGroupCache=!1,this.rafCallback=i=>{const n=i;return()=>{if(this.parent.isFrozenGrid()&&this.parent.enableVirtualization){const o=i.tableName;if(this.isLoaded=this.parent.getFrozenMode()===Ot?"frozen-right"===o:"movable"===o,this.parent.enableColumnVirtualization&&"virtualscroll"===i.requestType&&this.isLoaded){const l=[].slice.call(this.parent.getMovableVirtualHeader().getElementsByClassName(Bi)),a=[].slice.call(this.parent.getFrozenVirtualHeader().getElementsByClassName(Bi));this.isLoaded=l.length===a.length}}if(this.ariaService.setBusy(this.getPanel().querySelector("."+Bs),!1),this.parent.isDestroyed)return;let s=this.rows.slice(0);if(this.parent.enableInfiniteScrolling){s=this.parent.getRowsObject();const o=n.prevPage;if(this.parent.infiniteScrollSettings.enableCache&&o){const l=this.parent.infiniteScrollSettings.maxBlocks;s=[];const a=parseInt(this.rowElements[0].getAttribute("aria-rowindex"),10)+1;for(let d=0,u=Math.ceil(a/this.parent.pageSettings.pageSize);d<l;d++,u++)this.infiniteCache[u]&&(s=[...s,...this.infiniteCache[u]])}}if(this.parent.isFrozenGrid()&&(s=i.isFrozen?this.freezeRows:i.renderFrozenRightContent?this.parent.getFrozenRightRowsObject():this.movableRows),this.parent.notify(Ds,{rows:s,args:n}),this.isLoaded&&(this.parent.isManualRefresh=!1,this.parent.trigger(Ga,{},()=>{this.parent.allowTextWrap&&this.parent.notify(Yd,{case:"textwrap"})})),n){const o=(n.requestType||"").toLowerCase()+"-complete";this.parent.notify(o,n),"batchsave"===i.requestType&&(i.cancel=!1,this.parent.trigger(xi,i))}this.isLoaded&&this.parent.hideSpinner()}},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.parent.enableDeepCompare=this.parent.getDataModule().isRemote(),this.generator=this.getModelGenerator(),!this.parent.isDestroyed&&(!this.parent.enableColumnVirtualization&&!this.parent.enableVirtualization&&!this.parent.groupSettings.enableLazyLoading&&this.parent.on(Kd,this.setVisible,this),this.parent.on(HT,this.colGroupRefresh,this),this.parent.on(cs,this.enableAfterRender,this),this.parent.on("refresh-infinite-mode-blocks",this.refreshContentRows,this),this.parent.on(nC,this.beforeCellFocused,this),this.parent.on(ki,this.droppableDestroy,this))}beforeCellFocused(e){this.pressedKey=!e.byKey||"upArrow"!==e.keyArgs.action&&"downArrow"!==e.keyArgs.action?void 0:e.keyArgs.action}renderPanel(){const e=this.parent;let t=this.parent.element.querySelector("."+ur);if(t)return this.ariaService.setOptions(this.parent.element.querySelector("."+Bs),{busy:!1}),void this.setPanel(t);t=this.parent.createElement("div",{className:ur});const i=this.parent.createElement("div",{className:Bs});this.ariaService.setOptions(i,{busy:!1}),t.appendChild(i),this.setPanel(t),e.element.appendChild(t)}renderTable(){const e=this.getPanel(),t=e.querySelector(".e-virtualtable"),i=e.querySelector(".e-virtualtrack");this.parent.enableVirtualization&&!h(t)&&!h(i)&&(X(t),X(i)),e.appendChild(this.createContentTable("_content_table")),this.setTable(e.querySelector("."+kn)),this.ariaService.setOptions(this.getTable(),{multiselectable:"Multiple"===this.parent.selectionSettings.type}),this.initializeContentDrop(),this.parent.frozenRows&&this.parent.getHeaderContent().classList.add("e-frozenhdrcont")}createContentTable(e){const t=this.getPanel().firstElementChild;this.getTable()&&X(this.getTable());const i=t.querySelector("."+kn)?t.querySelector("."+kn):this.parent.createElement("table",{className:kn,attrs:{cellspacing:"0.25px",role:"grid",id:this.parent.element.id+e}});return this.setColGroup(this.parent.getHeaderTable().querySelector(si).cloneNode(!0)),i.appendChild(this.getColGroup()),i.appendChild(this.parent.createElement(Ye,{attrs:{role:"rowgroup"}})),t.appendChild(i),t}refreshContentRows(e={}){const t=this.parent;if(0===t.currentViewData.length)return;const i=this.currentMovableRows||t.currentViewData,n=this.parent.contentModule,s=t.isReact&&!h(t.rowTemplate);let o=s?t.createElement(Ye,{attrs:{role:"rowgroup"}}):document.createDocumentFragment();this.initialPageRecords||(this.initialPageRecords=O([],i));const l=s?t.createElement(Ye,{attrs:{role:"rowgroup"}}):document.createDocumentFragment(),a=t.getColumns();let c,d;const u=t.getFrozenColumns(),p=this.parent.isFrozenGrid();let g;const f=new rc(this.serviceLocator,null,this.parent),m=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;t.notify("destroy-child-grid",{}),this.rowElements=[],this.rows=[];const v=this.getPanel().querySelector("."+md),x=this.getPanel().querySelector("."+gn),w=this.getPanel().querySelector("."+Bs);let b,I,k;gr(t)&&["sorting","filtering","searching","grouping","ungrouping","reorder"].some(z=>e.requestType===z)&&this.emptyVcRows(),this.parent.enableVirtualization&&this.parent.isFrozenGrid()?(this.parent.enableColumnVirtualization&&"virtualscroll"===e.requestType&&"X"===e.virtualInfo.sentinelInfo.axis&&(k=this.parent.contentModule.generateRows(i,e),e.renderMovableContent=!0),k=this.parent.contentModule.generateRows(i,e)):(k=this.checkCache(k,e),!this.isAddRows&&!this.useGroupCache&&(k=this.generator.generateRows(i,e))),this.setGroupCache(k,e),this.parent.notify("set-infinite-cache",{isInfiniteScroll:m,modelData:k,args:e});const P=k[0].cells[0].index;p&&(I=n.setTbody(k,e),b=n.getTbody(I));const W=this.parent.getFrozenMode()===Ot&&I===Bn;if("infiniteScroll"!==e.requestType&&this.parent.registeredTemplate&&this.parent.registeredTemplate.template&&!e.isFrozen&&!W){const z=[];for(let Re=0;Re<this.parent.registeredTemplate.template.length;Re++)for(let ye=0;ye<this.parent.registeredTemplate.template[Re].rootNodes.length;ye++)h(this.parent.registeredTemplate.template[Re].rootNodes[ye].parentNode)&&z.push(this.parent.registeredTemplate.template[Re]);this.parent.destroyTemplate(["template"],z)}!this.parent.isReact&&!this.parent.isVue||"infiniteScroll"===e.requestType||e.isFrozen||B_(this.parent,[this.parent.isVue?"template":"columnTemplate","rowTemplate","detailTemplate","captionTemplate","commandsTemplate","groupFooterTemplate","groupCaptionTemplate"]),this.parent.enableColumnVirtualization&&new LZ(this.serviceLocator,this.parent).updateVirtualCells(k),p||(this.tbody=this.getTable().querySelector(Ye));let oe=0,ae=!0;if(gr(t)&&t.vcRows.length){const z="top",Re=h(e.virtualInfo.offsets)?h(e.scrollTop)?0:e.scrollTop[z]:e.virtualInfo.offsets.top;if(0!==Re){const ye=t.vGroupOffsets,le=t.pageSettings.pageSize/2,ge=Object.keys(ye).map(Y=>ye[Y]);for(let Y=0;Y<ge.length;Y++)if(Re<ge[Y]){if(h(e.virtualInfo)||"up"!==e.virtualInfo.direction){oe=Y*le,(this.parent.contentModule.isEndBlock(Y)||this.parent.contentModule.isEndBlock(Y+1))&&(e.virtualInfo.blockIndexes=[Y,Y+1]);break}oe=Y>0?(Y-1)*le:Y*le;break}Math.round(Re+this.contentPanel.firstElementChild.offsetHeight)>=this.contentPanel.firstElementChild.scrollHeight&&!e.rowObject&&(ae=!1)}}const xe=t.frozenRows&&!t.isFrozenGrid()&&this.parent.enableVirtualization&&"reorder"===e.requestType;if(t.frozenRows&&"virtualscroll"===e.requestType&&"X"===e.virtualInfo.sentinelInfo.axis||xe){const z=e.virtualInfo.blockIndexes,Re=e.virtualInfo.page;e.virtualInfo.blockIndexes=[1,2],xe&&(e.virtualInfo.page=1);const le=this.vgenerator.generateRows(xe?this.initialPageRecords:i,e);le.splice(this.parent.frozenRows);for(let ge=0;ge<this.parent.frozenRows;ge++)le[ge].cells.splice(0,this.parent.getFrozenColumns()),c=f.render(le[ge],a),l.appendChild(c);e.virtualInfo.blockIndexes=z,e.virtualInfo.page=Re,xe&&1===e.virtualInfo.page&&k.splice(0,this.parent.frozenRows)}this.virtualFrozenHdrRefresh(l,k,f,e,i,a);for(let z=oe,Re=k.length;z<Re;z++)if(this.rows.push(k[z]),!this.parent.groupSettings.enableLazyLoading||this.useGroupCache||!this.parent.groupSettings.columns.length||(this.setRowsInLazyGroup(k[z],z),!h(k[z].indent))){if(this.setInfiniteVisibleRows(e,k[z],I),gr(t)&&e.virtualInfo&&e.virtualInfo.blockIndexes&&this.rowElements.length>=e.virtualInfo.blockIndexes.length*this.parent.contentModule.getBlockSize()&&ae){this.parent.currentViewData.records=this.rows.map(ye=>ye.data);break}if(t.rowTemplate){const ye=t.element.id+"rowTemplate";let le;if(t.isReact){const Y=t.frozenRows&&z<t.frozenRows,U=O({index:z},i[z]);t.getRowTemplate()(U,t,"rowTemplate",ye,null,null,Y?l:o),t.renderTemplates()}else le=t.getRowTemplate()(O({index:z},i[z]),t,"rowTemplate",ye,void 0,void 0,void 0,this.parent.root);if(t.isReact||"TBODY"!==le[0].tagName)t.frozenRows&&z<t.frozenRows?c=t.isReact?l.lastElementChild:Po(l,le):(t.isReact||(c=Po(o,le)),g=t.isReact?o.lastElementChild:c.lastElementChild);else{for(let Y=0;Y<le.length;Y++){const U="tr"===le[Y].nodeName.toLowerCase();(U||le[Y].querySelectorAll&&le[Y].querySelectorAll("tr").length)&&(c=U?le[Y]:le[Y].querySelector("tr"))}t.frozenRows&&z<t.frozenRows?l.appendChild(c):o.appendChild(c)}this.parent.trigger(BJ,{data:k[z].data,row:g||c})}else{c=f.render(k[z],a);const ye=this.ensureFrozenHeaderRender(e);t.frozenRows&&z<t.frozenRows&&!m&&"virtualscroll"!==e.requestType&&ye&&this.ensureVirtualFrozenHeaderRender(e)?l.appendChild(c):o.appendChild(c),k[z].isExpand&&t.notify("expandchildgrid",c.cells[t.groupSettings.columns.length])}k[z].isDataRow&&this.rowElements.push(c),this.ariaService.setOptions(this.getTable(),{colcount:t.getColumns().length.toString()})}if(p&&n.splitRows(I),t.frozenRows&&"virtualscroll"!==e.requestType&&!m&&this.ensureVirtualFrozenHeaderRender(e)||"virtualscroll"===e.requestType&&e.virtualInfo.sentinelInfo&&"X"===e.virtualInfo.sentinelInfo.axis)if(d=p?n.getFrozenHeader(I):t.getHeaderTable().querySelector(Ye),s){const z=d.parentElement;X(d),z.appendChild(l)}else d.innerHTML="",d.appendChild(l);!t.enableVirtualization&&t.frozenRows&&0===P&&w.offsetHeight===Number(t.height)&&(w.style.height=w.offsetHeight-d.offsetHeight+"px"),e.rows=this.rows.slice(0),p&&n.setIsFrozen(e,I),this.index=P,YZ(()=>{this.parent.notify(uZ,e);const z=this.parent.enableVirtualization&&this.parent.isFrozenGrid();if(!this.parent.enableVirtualization&&!m&&(this.parent.isFrozenGrid()?(X(n.getTbody(I)),b=this.parent.createElement(Ye,{attrs:{role:"rowgroup"}})):(this.tbody.innerHTML="",X(this.tbody),this.tbody=this.parent.createElement(Ye,{attrs:{role:"rowgroup"}}))),!p||z||this.parent.enableInfiniteScrolling)if(z){if(e.renderFrozenRightContent){const Re=t.getContent().querySelector(".e-frozen-right-content").querySelector(Ye);this.appendContent(Re,o,e)}else e.renderMovableContent?(this.appendContent(x.querySelector(Ye),o,e),e.renderMovableContent=!1):this.appendContent(v.querySelector(Ye),o,e);this.parent.getFrozenColumns()||n.renderNextFrozentPart(e,I)}else!h(this.parent.infiniteScrollModule)&&this.parent.enableInfiniteScrolling?(this.isAddRows=!1,this.parent.notify("remove-infinite-rows",{args:e}),this.parent.notify("append-infinite-content",{tbody:b||this.tbody,frag:o,args:e,rows:this.rows,rowElements:this.rowElements,visibleRows:this.visibleRows,tableName:I}),!u&&p&&(t.getFrozenMode()!==Ot&&(I===Ns||I===Bn)||t.getFrozenMode()===Ot&&(I===Ns||"movable"===I))&&this.refreshContentRows(O({},e))):(this.useGroupCache=!1,this.appendContent(this.tbody,o,e));else this.appendContent(b,o,e,I);u&&n.renderNextFrozentPart(e,I),o=null},this.rafCallback(O({},e)))}emptyVcRows(){this.parent.vcRows=[],this.parent.vRows=[]}appendContent(e,t,i,n){this.parent.isReact&&!h(this.parent.rowTemplate)?this.getTable().appendChild(t):(e.appendChild(t),this.getTable().appendChild(e))}setRowsInLazyGroup(e,t){this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&this.parent.contentModule.maintainRows(e,t)}setGroupCache(e,t){!this.useGroupCache&&this.parent.groupSettings.enableLazyLoading&&this.parent.notify("group-cache",{args:t,data:e})}ensureFrozenHeaderRender(e){return!(this.parent.enableVirtualization&&("reorder"===e.requestType||"refresh"===e.requestType)||this.parent.infiniteScrollSettings.enableCache&&this.parent.frozenRows&&"delete"===this.parent.infiniteScrollModule.requestType&&1!==this.parent.pageSettings.currentPage)}ensureVirtualFrozenHeaderRender(e){return!(this.parent.enableVirtualization&&"delete"===e.requestType)}checkCache(e,t){if(this.parent.infiniteScrollSettings.enableCache&&"infiniteScroll"===t.requestType){const i=t.isFrozen?1:0,n=this.parent.isFrozenGrid();if(this.isAddRows=!h(this.infiniteCache[this.parent.pageSettings.currentPage]),n&&!h(this.infiniteCache[this.parent.pageSettings.currentPage])&&(this.isAddRows=0!==this.infiniteCache[this.parent.pageSettings.currentPage][i].length),this.isAddRows){const s=n?this.infiniteCache[this.parent.pageSettings.currentPage][i]:this.infiniteCache[this.parent.pageSettings.currentPage];e=1===this.parent.pageSettings.currentPage?s.slice(this.parent.frozenRows):s}return e}return this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length&&("paging"===t.requestType||"columnstate"===t.requestType||"reorder"===t.requestType)&&this.parent.contentModule.getGroupCache()[this.parent.pageSettings.currentPage]?(this.useGroupCache=!0,this.parent.contentModule.initialGroupRows("reorder"===t.requestType)):null}setInfiniteVisibleRows(e,t,i){const n=this.parent.isFrozenGrid();this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&(n?i===Ns||"Right"===this.parent.getFrozenMode()&&i===Bn?this.visibleFrozenRows.push(t):"movable"===i?this.visibleRows.push(t):this.rightFreezeRows.push(t):this.parent.infiniteScrollSettings.enableCache||this.visibleRows.push(t))}getCurrentBlockInfiniteRecords(e){let t=[];if(this.parent.infiniteScrollSettings.enableCache){if(!Object.keys(this.infiniteCache).length)return[];const i=this.parent.isFrozenGrid(),n=this.parent.getRows();let s=parseInt(n[this.parent.frozenRows].getAttribute(ei),10);const o=Math.ceil((s+1)/this.parent.pageSettings.pageSize);s=parseInt(n[n.length-1].getAttribute(ei),10);const l=Math.ceil(s/this.parent.pageSettings.pageSize);if(i){const a=e?0:1;for(let c=o;c<=l;c++)t=t.length?t.concat(this.infiniteCache[c][a]):this.infiniteCache[c][a];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(t=this.infiniteCache[1][a].slice(0,this.parent.frozenRows).concat(t))}else{for(let a=o;a<=l;a++)t=t.length?t.concat(this.infiniteCache[a]):this.infiniteCache[a];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(t=this.infiniteCache[1].slice(0,this.parent.frozenRows).concat(t))}}return t}getReorderedVFRows(e){return this.parent.contentModule.getReorderedFrozenRows(e)}getReorderedRows(e){return this.parent.contentModule.getReorderedFrozenRows(e)}virtualFrozenHdrRefresh(e,t,i,n,s,o){if(this.parent.frozenRows&&this.parent.enableVirtualization&&("reorder"===n.requestType||"refresh"===n.requestType)){let l,a=[];this.parent.isFrozenGrid()?(this.currentMovableRows=s,a=this.getReorderedVFRows(n)):a=this.getReorderedRows(n);for(let c=0;c<a.length;c++)l=i.render(a[c],o),e.appendChild(l);1===n.virtualInfo.page&&t.splice(0,this.parent.frozenRows),n.renderMovableContent&&(this.parent.currentViewData=this.currentMovableRows,this.currentMovableRows=null)}}getInfiniteRows(){let e=[];const t=this.parent.isFrozenGrid();if(this.parent.enableInfiniteScrolling)if(this.parent.infiniteScrollSettings.enableCache){const i=Object.keys(this.infiniteCache);for(let n=0;n<i.length;n++)e=t?[...e,...this.infiniteCache[i[n]][0]]:[...e,...this.infiniteCache[i[n]]]}else e=t?this.visibleFrozenRows:this.visibleRows;return e}getInfiniteMovableRows(){const e=this.getCurrentBlockInfiniteRecords();return this.parent.enableInfiniteScrolling?e.length?e:this.visibleRows:[]}getPanel(){return this.contentPanel}setPanel(e){this.contentPanel=e}getTable(){return this.contentTable}setTable(e){this.contentTable=e}getRows(){const e=this.getInfiniteRows();return e.length?e:this.parent.getFrozenColumns()?this.freezeRows:this.rows}getMovableRows(){const e=this.getInfiniteMovableRows();return e.length?e:this.movableRows}getRowElements(){return this.parent.getFrozenColumns()?this.freezeRowElements:this.rowElements}getMovableRowElements(){return this.rowElements}setRowElements(e){this.rowElements=e}getColGroup(){return this.colgroup}setColGroup(e){return h(e)||(e.id="content-"+e.id),this.colgroup=e}setVisible(e){const t=this.parent,i=this.parent.isFrozenGrid(),n=t.getFrozenColumns();let o,s=[];if(i){const p=this.freezeRows,g=this.movableRows,f=p.length;let m,v=[];t.getFrozenMode()===Ot&&(v=t.getFrozenRightRowsObject());for(let w,x=0;x<f;x++){m=g[x].cells.length;const b=v.length?v[x].cells.length:0;w=p[x].clone();for(let I=0;I<m;I++)w.cells.push(g[x].cells[I]);for(let I=0;I<b;I++)w.cells.push(v[x].cells[I]);s.push(w)}}else s=this.getRows();s.some(p=>(p.isDataRow&&(o=p),p.isDataRow));let l=!0;!t.groupSettings.columns.length&&o&&(l=!1);let a=t.getDataRows(),u=this.infiniteRowVisibility()||this.rows.filter(p=>!p.isDetailRow);for(let p=0,g=e.length;p<g;p++){const f=e[p];let m=this.parent.getNormalizedColumnIndex(f.uid),v=this.parent.getColumnIndexByUid(f.uid);const x=!0===f.visible?"":"none";if(-1!==m&&o&&m<o.cells.length)if(i)if("movable"!==f.getFreezeTableName())f.getFreezeTableName()===Bn?(v=m-=this.parent.getFrozenLeftColumnsCount()+this.parent.getMovableColumnsCount(),lt(this.parent.getContent().querySelector(".e-frozen-right-content").querySelector(si).childNodes[m],{display:x}),u=t.getFrozenRightRowsObject(),a=t.getFrozenRightDataRows()):(lt(this.getColGroup().childNodes[m],{display:x}),u=this.infiniteRowVisibility(!0)||this.freezeRows,a=t.getDataRows());else{const w=t.getContent().querySelector("."+gn).querySelector(si);v=m=m-n-this.parent.getFrozenLeftColumnsCount(),lt(w.childNodes[m],{display:x}),a=t.getMovableDataRows(),u=this.infiniteRowVisibility()||this.movableRows}else lt(this.getColGroup().childNodes[m],{display:x});l||(this.setDisplayNone(a,v,x,u),i&&this.parent.notify(Yd,{case:"refreshHeight",isModeChg:!0})),!this.parent.invokedFromMedia&&f.hideAtMedia&&this.parent.updateMediaColumns(f),this.parent.invokedFromMedia=!1}l?this.refreshContentRows({requestType:"refresh"}):this.parent.getFrozenColumns()?(this.parent.notify(v_,{rows:this.freezeRows,args:{isFrozen:!0,rows:this.freezeRows}}),this.parent.notify(v_,{rows:this.movableRows,args:{isFrozen:!1,rows:this.movableRows}})):this.parent.notify(v_,{rows:u,args:{}})}setDisplayNone(e,t,i,n){(function cee(r,e,t,i,n,s){const o=Object.keys(r);for(let l=0;l<o.length;l++){const a=r[o[l]].querySelectorAll("td.e-rowcell")[e];if(r[o[l]].querySelectorAll("td.e-rowcell").length&&a)if(lt(r[o[l]].querySelectorAll("td.e-rowcell")[e],{display:t}),r[o[l]].querySelectorAll("td.e-rowcell")[e].classList.contains("e-hide")&&T([r[o[l]].querySelectorAll("td.e-rowcell")[e]],["e-hide"]),s&&n.isRowDragable()){const c=n.getFrozenColumns()?e:e+1;i[o[l]].cells[c].visible=""===t}else i[o[l]].cells[e].visible=""===t}})(e,t,i,n,this.parent,this.parent.isRowDragable()),this.parent.notify("infinite-show-hide",{visible:i,index:t,isFreeze:this.isInfiniteFreeze})}infiniteRowVisibility(e){let t;return this.parent.enableInfiniteScrolling&&(this.isInfiniteFreeze=e,t=this.parent.infiniteScrollSettings.enableCache?e?this.getCurrentBlockInfiniteRecords(!0):this.getCurrentBlockInfiniteRecords():e?this.visibleFrozenRows:this.visibleRows),t}colGroupRefresh(){if(this.getColGroup()){let e;e=this.parent.enableColumnVirtualization&&this.parent.getFrozenColumns()&&this.parent.contentModule.isXaxis()?this.parent.getMovableVirtualHeader().querySelector(si).cloneNode(!0):this.getHeaderColGroup(),this.getTable().replaceChild(e,this.getColGroup()),this.setColGroup(e)}}getHeaderColGroup(){return this.parent.element.querySelector("."+Ir).querySelector(si).cloneNode(!0)}initializeContentDrop(){this.droppable=new id(this.parent.element,{accept:".e-dragclone",drop:this.drop})}droppableDestroy(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy()}canSkip(e,t,i){return h(t)||h(e.visible)||t.cells[i].visible===e.visible}getModelGenerator(){return this.generator=this.parent.allowGrouping?new cR(this.parent):new Vh(this.parent)}renderEmpty(e){this.getTable().appendChild(e),this.parent.frozenRows&&(this.parent.getHeaderContent().querySelector(Ye).innerHTML="")}setSelection(e,t,i){this.parent.notify("set-freeze-selection",{uid:e,set:t,clearAll:i});const n=this.parent.isFrozenGrid();if(n&&this.parent.enableVirtualization)return;if(n){const o=this.getMovableRows().filter(l=>i||e===l.uid);for(let l=0;l<o.length;l++)o[l].isSelected=t}const s=this.getRows().filter(o=>i||e===o.uid);for(let o=0;o<s.length;o++){s[o].isSelected=t;const l=s[o].cells;for(let a=0;a<l.length;a++)l[a].isSelected=t}}getRowByIndex(e){return e=this.getInfiniteRowIndex(e),this.parent.getDataRows()[e]}getInfiniteRowIndex(e){if(this.parent.infiniteScrollSettings.enableCache){const t=this.parent.frozenRows,i=t>e?0:t,n=parseInt(this.parent.getRows()[i].getAttribute(ei),10);e=t>e?e:e-n+t}return e}getVirtualRowIndex(e){return e}getMovableRowByIndex(e){return e=this.getInfiniteRowIndex(e),this.parent.getMovableDataRows()[e]}enableAfterRender(e){"group"===e.module&&e.enable&&(this.generator=this.getModelGenerator())}setRowObjects(e){this.rows=e}immutableModeRendering(e={}){const t=this.parent;t.hideSpinner();const i=t.getPrimaryKeyFieldNames()[0],n={},s={},o=[],l={},a=t.getRowsObject().slice(),c=this.getBatchEditedRecords(i,a),d={},u=0!==Object.keys(c).length;if(t.getContent().querySelector(".e-emptyrow")||"reorder"===e.requestType||this.parent.groupSettings.columns.length)this.refreshContentRows(e);else{if(0===t.currentViewData.length)return;const p={},g=t.createElement(Ye,{attrs:{role:"rowgroup"}}),f=t.currentViewData,m=[].slice.call(this.getTable().querySelector(Ye).children);if(this.prevCurrentView.length){const v=this.prevCurrentView.length,x=f.length;if(v===x)for(let w=0;w<x;w++)"Batch"===this.parent.editSettings.mode&&m[w].classList.contains("e-insertedrow")?(m.splice(w,1),--w):(s[f[w][i]]=n[this.prevCurrentView[w][i]]=w,d[w]=f[w][i],p[a[w].uid]=m[w],l[w]=this.prevCurrentView[w][i]);else{for(let w=0;w<x;w++)s[f[w][i]]=w,d[w]=f[w][i];for(let w=0;w<v;w++)"Batch"===this.parent.editSettings.mode&&m[w].classList.contains("e-insertedrow")?(m.splice(w,1),--w):(p[a[w].uid]=m[w],n[this.prevCurrentView[w][i]]=w,l[w]=this.prevCurrentView[w][i])}}for(let v=0;v<f.length;v++){const x=n[f[v][i]];if(h(x)){const w=new rc(this.serviceLocator,null,t),b=this.generator.generateRows([f[v]]);o.push(b[0]);const I=w.render(b[0],t.getColumns());g.appendChild(I),this.refreshImmutableContent(v,I,o[v])}else{let w=!1;this.parent.enableDeepCompare&&(w=this.objectEqualityChecker(this.prevCurrentView[x],f[v]));const b=p[a[x].uid];if(o.push(a[x]),this.rowElements[x]&&this.rowElements[x].getAttribute("data-uid")===o[v].uid&&(u&&h(c[d[v]])||!u&&(w||this.prevCurrentView[x]===f[v]))){x!==v&&this.refreshImmutableContent(v,b,o[v]),g.appendChild(b);continue}(u&&!h(c[d[v]])||!this.parent.enableDeepCompare&&f[v]!==this.prevCurrentView[x]||this.parent.enableDeepCompare&&!w)&&a[x].setRowValue(f[v]),g.appendChild(b),this.refreshImmutableContent(v,b,o[v])}}if(this.rows=o,this.rowElements=[].slice.call(g.children),X(this.getTable().querySelector(Ye)),this.getTable().appendChild(g),this.parent.trigger(Ga,{},()=>{this.parent.allowTextWrap&&this.parent.notify(Yd,{case:"textwrap"})}),e){const v=(e.requestType||"").toLowerCase()+"-complete";this.parent.notify(v,e)}}}objectEqualityChecker(e,t){const i=Object.keys(e);let n=!0;for(let s=0;s<i.length;s++)if(!(e[i[s]]===t[i[s]]||e[i[s]]instanceof Date&&t[i[s]]instanceof Date&&e[i[s]].getTime()===t[i[s]].getTime())){n=!1;break}return n}getBatchEditedRecords(e,t){const i={},n=this.parent.getBatchChanges();let s=[],o=[];Object.keys(n).length&&(s=n.changedRecords,o=n.addedRecords);const l={cancel:!1};this.parent.notify("immutable-batch-cancel",{rows:t,args:l}),o.length&&("Bottom"===this.parent.editSettings.newRowPosition?t.splice(t.length-1,o.length):l.cancel||t.splice(0,o.length));for(let a=0;a<s.length;a++)i[s[a][e]]=a;return i}refreshImmutableContent(e,t,i){i.isAltRow=!!this.parent.enableAltRow&&e%2!=0,i.isAltRow?t.classList.add("e-altrow"):t.classList.remove("e-altrow"),i.index=e,i.edit=void 0,i.isDirty=!1,t.setAttribute(ei,e.toString()),this.updateCellIndex(t,e)}updateCellIndex(e,t){for(let i=0;i<e.cells.length;i++)e.cells[i].setAttribute("index",t.toString())}}class OB{constructor(e,t){this.frzIdx=0,this.notfrzIdx=0,this.isFirstCol=!1,this.isReplaceDragEle=!0,this.helper=i=>{const n=this.parent,s=this.draggable.currentStateTarget,o=Se(s,"e-headercell");if(!n.allowReordering&&!n.allowGrouping||!h(o)&&o.getElementsByClassName("e-checkselectall").length>0)return!1;const l=this.parent.createElement("div",{className:"e-cloneproperties e-dragclone e-headerclone"}),a=s.classList.contains("e-headercell")?s:o;if(!a||!n.allowReordering&&a.classList.contains("e-stackedheadercell"))return!1;const c=a.offsetHeight,d=a.querySelector(".e-headercelldiv")||a.querySelector(".e-stackedheadercelldiv");let u;if(d){if(u=a.querySelector(".e-stackedheadercelldiv")?n.getStackedHeaderColumnByHeaderText(d.innerText.trim(),n.columns):n.getColumnByUid(d.getAttribute("e-mappinguid")),this.column=u,this.column.lockColumn)return!1;l.setAttribute("e-mappinguid",this.column.uid)}if(u&&!h(u.headerTemplate))if(h(u.headerTemplate))l.innerHTML=u.headerTemplate;else{const p=n.getColumnIndexByField(u.field);Po(l,u.getHeaderTemplate()(O({index:p},u),n,"headerTemplate"))}else l.innerHTML=d?u.headerText:a.firstElementChild.innerHTML;return l.style.width=a.offsetWidth+"px",l.style.height=a.offsetHeight+"px",l.style.lineHeight=(c-6).toString()+"px",n.element.appendChild(l),l},this.dragStart=i=>{const n=this.parent;n.element.querySelector(".e-gridpopup").style.display="none",n.notify("columnDragStart",{target:this.draggable.currentStateTarget,column:this.column,event:i.event})},this.drag=i=>{const n=this.parent,s=i.target;if(s){const o=D(s,".e-grid"),l=this.parent.element.querySelector(".e-cloneproperties");if(!(o&&o.getAttribute("id")===n.element.getAttribute("id")||(ze(l,["e-notallowedcur"],["e-defaultcur"]),n.allowReordering&&(n.element.querySelector(".e-reorderuparrow").style.display="none",n.element.querySelector(".e-reorderdownarrow").style.display="none"),n.groupSettings.allowReordering)))return;n.notify("columnDrag",{target:i.target,column:this.column,event:i.event})}},this.dragStop=i=>{const n=this.parent;let s;n.element.querySelector(".e-gridpopup").style.display="none",(!Se(i.target,"e-headercell")&&!Se(i.target,"e-groupdroparea")||!n.allowReordering&&Se(i.target,"e-headercell")||!i.helper.getAttribute("e-mappinguid")&&Se(i.target,"e-groupdroparea"))&&(X(i.helper),s=!0),n.notify("column-drag-stop",{target:i.target,event:i.event,column:this.column,cancel:s})},this.drop=i=>{const n=this.parent,s=i.droppedElement.getAttribute("e-mappinguid"),o=D(i.target,".e-grid");X(i.droppedElement),!(o&&o.getAttribute("id")!==n.element.getAttribute("id")||!n.allowReordering&&!n.allowGrouping)&&n.notify("header-drop",{target:i.target,uid:s,droppedElement:i.droppedElement})},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.widthService=this.serviceLocator.getService("widthService"),!this.parent.isDestroyed&&(!this.parent.enableColumnVirtualization&&!this.parent.getFrozenLeftColumnsCount()&&!this.parent.getFrozenRightColumnsCount()&&this.parent.on(Kd,this.setVisible,this),this.parent.on(sC,this.colPosRefresh,this),this.parent.on(cl,this.renderCustomToolbar,this),"Vertical"===this.parent.rowRenderingMode&&this.parent.on(cs,this.updateCustomResponsiveToolbar,this))}renderPanel(){let e=this.parent.element.querySelector("."+Ir);const t=null!=e;e=t?e:this.parent.createElement("div",{className:"e-gridheader"});const i=t?e.querySelector("."+pr):this.parent.createElement("div",{className:pr});this.toggleStackClass(e),e.appendChild(i),this.setPanel(e),t||this.parent.element.appendChild(e)}renderTable(){const e=this.getPanel();e.appendChild(this.createHeaderTable()),this.setTable(e.querySelector("."+kn)),!this.parent.getFrozenColumns()&&!this.parent.getFrozenRightColumnsCount()&&!this.parent.getFrozenLeftColumnsCount()&&(this.initializeHeaderDrag(),this.initializeHeaderDrop()),this.parent.notify(so,{rows:this.rows,args:{isFrozen:this.parent.isFrozenGrid()}})}getPanel(){return this.headerPanel}setPanel(e){this.headerPanel=e}getTable(){return this.headerTable}setTable(e){this.headerTable=e}getColGroup(){return this.colgroup}setColGroup(e){return this.colgroup=e}getRows(){return this.getTable().tHead.rows}createHeaderTable(){const e=this.createTable(),t=this.getPanel().querySelector("."+pr);return t.appendChild(e),t}createHeader(e=null,t){const i=this.parent,n=i.isFrozenGrid();this.getTable()&&!n&&X(this.getTable());const s=this.parent.createElement("table",{className:kn,attrs:{cellspacing:"0.25px",role:"grid"}}),o=t||(i.getFrozenLeftCount()?"frozen-left":"frozen-right"),l=this.createHeaderContent(o),a=l.thead,c=this.parent.createElement(Ye,{className:this.parent.frozenRows?"":"e-hide",attrs:{role:"rowgroup"}});this.caption=this.parent.createElement("caption",{innerHTML:this.parent.element.id+"_header_table",className:"e-hide"});const d=this.parent.createElement(si),u=this.parent.createElement("tr",{attrs:{role:"row"}});let p;const g=this.rows=l.rows;for(let f=0,m=g.length;f<m;f++)for(let v=0,x=g[f].cells.length;v<x;v++)p=this.parent.createElement("td"),u.appendChild(p);return(i.allowFiltering||i.allowSorting||i.allowGrouping)&&s.classList.add("e-sortfilter"),this.updateColGroup(d),c.appendChild(u),s.appendChild(this.setColGroup(d)),s.appendChild(a),s.appendChild(c),s.appendChild(this.caption),this.ariaService.setOptions(s,{colcount:i.getColumns().length.toString()}),s}createTable(e=null){return this.createHeader(e)}createHeaderContent(e){const t=this.parent;let i=1;const n=t.getFrozenMode(),s=t.getColumns(),o=this.parent.createElement("thead",{attrs:{role:"rowgroup"}}),l=this.parent.createElement("tr",{className:"e-columnheader",attrs:{role:"row"}}),a=new rc(this.serviceLocator,St.Header,t);a.element=l;let d,c=[];this.colDepth=function wR(r){let e=0;for(let t=0;t<r.length;t++){const i=see(r[t],0);e<i&&(e=i)}return e+1}(t.columns);for(let g=0,f=this.colDepth;g<f;g++)c[g]=this.generateRow(g),c[g].cells=[];"Right"!==n&&(c=this.ensureColumns(c)),c=this.getHeaderCells(c,e),"Right"===n&&(i=0,c=this.ensureColumns(c));const u=this.parent.getFrozenColumns();if(this.parent.isRowDragable()&&this.parent.isFrozenGrid()&&c[0].cells[i]){const g=c[0].cells[i].column.getFreezeTableName();"movable"===g||n===Ot&&g===Bn?"Right"===n?c[0].cells.pop():c[0].cells.shift():u||g!==Ns?"Right"===n&&g===Bn&&(c[0].cells[c[0].cells.length-1].column.freeze="Right"):c[0].cells[0].column.freeze=g===Ns?"Left":"Right"}for(let g=0,f=this.colDepth;g<f;g++)d=a.render(c[g],s),this.parent.rowHeight&&d.querySelector(".e-headercell")&&(d.style.height=this.parent.rowHeight+"px"),o.appendChild(d);return{thead:o,rows:c}}updateColGroup(e){let i,t=this.parent.getColumns();const n=this.parent.getColumnIndexesInView();if(this.parent.enableColumnVirtualization&&this.parent.getFrozenColumns()&&this.parent.contentModule.isXaxis()&&(t=O([],this.parent.getColumns()),t.splice(0,this.parent.getFrozenColumns())),e.id=this.parent.element.id+si,this.parent.allowGrouping)for(let s=0,o=this.parent.groupSettings.columns.length;s<o;s++)this.parent.enableColumnVirtualization&&-1===n.indexOf(s)||(i=this.parent.createElement("col",{className:"e-group-intent"}),e.appendChild(i));(this.parent.detailTemplate||this.parent.childGrid)&&(i=this.parent.createElement("col",{className:"e-detail-intent"}),e.appendChild(i)),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(i=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(i));for(let s=0,o=t.length;s<o;s++)i=this.parent.createElement("col"),!1===t[s].visible&&lt(i,{display:"none"}),e.appendChild(i);return this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&(i=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(i)),e}ensureColumns(e){const t=this.parent,i=this.parent.getColumnIndexesInView();for(let n=0,s=e.length;n<s;n++){if(t.allowGrouping)for(let o=0,l=t.groupSettings.columns.length;o<l;o++)this.parent.enableColumnVirtualization&&-1===i.indexOf(o)||e[n].cells.push(this.generateCell({},St.HeaderIndent));if(t.detailTemplate||t.childGrid){const o={};this.parent.notify(vZ,o),e[n].cells.push(this.generateCell(o,St.DetailHeader))}t.isRowDragable()&&e[n].cells.push(this.generateCell({},St.RowDragHIcon))}return e}getHeaderCells(e,t){const i=this.parent.getHeaderTable()&&this.parent.getHeaderTable().querySelector("thead"),n=this.parent.enableColumnVirtualization?this.parent.getColumns(this.parent.enablePersistence):this.parent.columns;if(this.frzIdx=0,this.notfrzIdx=0,this.parent.lockcolPositionCount)for(let s=0;s<n.length;s++)this.lockColsRendered=!1,e=this.appendCells(n[s],e,0,0===s,!1,s===n.length-1,i,t,!1);for(let s=0,o=n.length;s<o;s++)this.notfrzIdx=0,this.lockColsRendered=!0,e=this.appendCells(n[s],e,0,0===s,!1,s===o-1,i,t,!1);return e}appendCells(e,t,i,n,s,o,l,a,c){const d=o?c?"e-laststackcell":"e-lastcell":"",u=this.parent.isFrozenGrid(),p=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered,g=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered,f=this.parent.getContent().querySelector(".e-movablescrollbar");let m;if(u&&f&&this.parent.enableColumnVirtualization&&(m=f.scrollLeft),e.columns){this.isFirstCol=!1;const v=this.getCellCnt(e,0);if(v){const x=this.getStackedLockColsCount(e,0),w=0===this.parent.lockcolPositionCount||!this.lockColsRendered&&0!==x||this.lockColsRendered&&v-x!=0,b=u&&this.ensureStackedFrozen(e.columns,a,!1);(!u&&w||b)&&t[i].cells.push(new sc({cellType:St.StackedHeader,column:e,colSpan:this.getColSpan(v,x,e.columns,a,u),className:n?"":s?"e-firstcell":""}))}if(this.parent.lockcolPositionCount&&!this.lockColsRendered)for(let x=0;x<e.columns.length;x++)t=this.appendCells(e.columns[x],t,i+1,n,0===x,x===e.columns.length-1&&o,l,a,!1);if(this.lockColsRendered)for(let x=0,w=e.columns.length;x<w;x++){n=n&&0===x;const b=this.isFirstCol=e.columns[x].visible&&!n,I=x===w-1&&o;t=this.appendCells(e.columns[x],t,i+1,n,b&&!I,I,l,a,!0)}}else(m&&m>0&&this.parent.contentModule.isXaxis()&&0!==this.parent.inViewIndexes[0]&&"movable"===e.getFreezeTableName()||!u&&p||u&&e.getFreezeTableName()===a&&g)&&t[i].cells.push(this.generateCell(e,St.Header,this.colDepth-i,(n?"":s?"e-firstcell":"")+d,i,this.parent.getColumnIndexByUid(e.uid))),this.parent.lockcolPositionCount?this.frzIdx+this.notfrzIdx<this.parent.frozenColumns&&(e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered)?this.frzIdx++:this.notfrzIdx++:this.frzIdx++;return t}ensureStackedFrozen(e,t,i){const n=e.length;for(let s=0;s<n;s++)if(e[s].columns)i=this.ensureStackedFrozen(e[s].columns,t,i);else if(e[s].getFreezeTableName()===t){i=!0;break}return i}getStackedLockColsCount(e,t){if(e.columns)for(let i=0;i<e.columns.length;i++)t=this.getStackedLockColsCount(e.columns[i],t);else e.lockColumn&&t++;return t}getColSpan(e,t,i,n,s){return s?e=this.getFrozenColSpan(i,n,0):this.parent.lockcolPositionCount&&(e=this.lockColsRendered?e-t:t),e}getFrozenColSpan(e,t,i){const n=e.length;for(let s=0;s<n;s++)e[s].columns?i=this.getFrozenColSpan(e[s].columns,t,i):e[s].getFreezeTableName()===t&&e[s].visible&&i++;return i}generateRow(e){return new Qd({})}generateCell(e,t,i,n,s,o){const l={visible:e.visible,isDataCell:!1,isTemplate:!h(e.headerTemplate),rowID:"",column:e,cellType:t,rowSpan:i,className:n,index:s,colIndex:o};return(!l.rowSpan||l.rowSpan<2)&&delete l.rowSpan,new sc(l)}setVisible(e){const t=this.parent;let i,n;const s=t.getFrozenColumns();for(let o=0,l=e.length;o<l;o++){const a=e[o];if(n=t.getNormalizedColumnIndex(a.uid),i=a.visible?"":"none",s){const c=this.parent.isRowDragable()?s+1:s;lt(n<c?this.getColGroup().children[n]:t.getHeaderContent().querySelector("."+fn).querySelector(si).children[n-c],{display:i})}else lt(this.getColGroup().children[n],{display:i})}this.refreshUI()}colPosRefresh(){this.refreshUI()}refreshUI(){const e=this.parent.isFrozenGrid(),t=this.parent.enableColumnVirtualization&&e,i=this.getPanel();this.toggleStackClass(i);let n=this.freezeReorder?this.headerPanel.querySelector("."+fn).querySelector("."+kn):this.getTable(),s=this.parent.isFrozenGrid()?this.parent.getFrozenLeftCount()?"frozen-left":"frozen-right":void 0;if(t&&(n=this.parent.contentModule.getVirtualFreezeHeader(),s=this.parent.contentModule.isXaxis()?"movable":s),n){X(n),n.removeChild(n.firstChild),n.removeChild(n.childNodes[0]);const o=this.parent.createElement(si),l=this.createHeaderContent(s);this.rows=l.rows,n.insertBefore(l.thead,n.firstChild),this.updateColGroup(o),n.insertBefore(this.setColGroup(o),n.firstChild),t||this.setTable(n),this.appendContent(n),this.parent.notify(HT,{}),this.widthService.setWidthToColumns(),this.parent.updateDefaultCursor(),(!e||this.parent.enableColumnVirtualization&&e)&&this.initializeHeaderDrag();const a=[].slice.call(i.querySelectorAll("tr.e-columnheader"));for(const c of a){const d=[].slice.call(c.getElementsByClassName("e-grouptopleftcell"));d.length&&d[d.length-1].classList.add("e-lastgrouptopleftcell")}e||this.parent.notify(so,{rows:this.rows,args:{isFrozen:e}}),this.parent.enableColumnVirtualization&&Se(n,fn)&&this.parent.notify(so,{rows:this.rows,args:{isFrozen:!1,isXaxis:!0}}),this.parent.allowTextWrap&&"Header"===this.parent.textWrapSettings.wrapMode&&Nc(a,!0)}}toggleStackClass(e){this.parent.columns.some(n=>!h(n.columns))?e.classList.add("e-stackedheader"):e.classList.remove("e-stackedheader")}appendContent(e){this.getPanel().querySelector("."+pr).appendChild(e)}getCellCnt(e,t){if(e.columns)for(let i=0,n=e.columns.length;i<n;i++)t=this.getCellCnt(e.columns[i],t);else e.visible&&t++;return t}initializeHeaderDrag(){!(this.parent.allowReordering||this.parent.allowGrouping&&this.parent.groupSettings.showDropArea)||(this.draggable=new Yn(this.parent.getHeaderContent(),{dragTarget:".e-headercell",distance:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,abort:".e-rhandler",isReplaceDragEle:this.isReplaceDragEle}))}initializeHeaderDrop(){new id(this.parent.getHeaderContent(),{accept:".e-dragclone",drop:this.drop})}renderCustomToolbar(){const e=this.parent;if("Vertical"===e.rowRenderingMode&&!e.toolbar&&(e.allowSorting||e.allowFiltering&&"FilterBar"!==e.filterSettings.type)){const t=e.createElement("div",{className:"e-res-toolbar e-toolbar"}),i=e.createElement("div",{className:"e-toolbar-items"}),n=e.createElement("div",{className:"e-toolbar-left"}),s=this.parent.allowFiltering&&this.parent.allowSorting?2:1;for(let o=0;o<s;o++){const l=e.createElement("div",{className:"e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align"}),a=1===s?this.parent.allowSorting?"sort":"filter":1===o?"sort":"filter",c=e.createElement("button",{className:"e-tbar-btn e-control e-btn e-lib e-icon-btn"}),d=e.createElement("span",{className:"e-btn-icon e-res"+a+"-icon e-icons"});c.appendChild(d),new ks({cssClass:this.parent.cssClass?this.parent.cssClass:""}).appendTo(c),c.onclick=p=>{p.target.classList.contains("e-ressort-btn")||p.target.classList.contains("e-ressort-icon")?this.parent.showResponsiveCustomSort():this.parent.showResponsiveCustomFilter()},l.appendChild(c),n.appendChild(l)}i.appendChild(n),t.appendChild(i),e.element.insertBefore(t,this.parent.element.querySelector("."+Ir))}else e.enableAdaptiveUI&&!e.toolbar&&e.getContent().classList.add("e-responsive-header")}updateCustomResponsiveToolbar(e){const t=this.parent.element.querySelector(".e-responsive-toolbar");"toolbar"===e.module&&(t?X(t):this.renderCustomToolbar())}}class qa{constructor(e,t){this.localizer=t.getService("localization"),this.formatter=t.getService("valueFormatter"),this.parent=e,this.element=this.parent.createElement("TD",{className:Di,attrs:{role:"gridcell",tabindex:"-1"}}),this.rowChkBox=this.parent.createElement("input",{className:"e-checkselect",attrs:{type:"checkbox","aria-label":"checkbox"}})}getGui(){return""}format(e,t,i){return h(e.format)||("number"===e.type&&isNaN(parseInt(t,10))&&(t=null),t=this.formatter.toView(t,e.getFormatter())),h(t)?"":t.toString()}evaluate(e,t,i,n,s,o){let l;if(t.column.template){const a=this.parent.isReact&&"string"!=typeof t.column.template,c=["index"],d=CR({},i,{[dZ]:s,column:t.column}),u=this.parent.element.id+t.column.uid,p="isStringTemplate";if(a){const g={index:n[c[0]]};t.column.getColumnTemplate()(O(g,d),this.parent,"columnTemplate",u,this.parent[p],null,e),this.parent.renderTemplates()}else l=t.column.getColumnTemplate()(O({index:n[c[0]]},d),this.parent,"template",u,this.parent[p],void 0,void 0,this.parent.root);return a||Po(e,l),this.parent.notify("template-result",{template:l}),l=null,e.setAttribute("aria-label",e.innerText+" is template cell column header "+t.column.headerText),!1}return!0}invokeFormatter(e,t,i){return h(e.formatter)||(t=function mPe(r,e){return r.prototype&&e in r.prototype}(e.formatter,"getValue")?(new(0,e.formatter)).getValue(e,i):"function"==typeof e.formatter?e.formatter(e,i):e.formatter.getValue(e,i)),t}render(e,t,i,n,s){return this.refreshCell(e,t,i,s)}refreshTD(e,t,i,n){const s="Batch"===this.parent.editSettings.mode&&e.classList.contains("e-editedbatchcell");if(this.parent.isReact){e.innerHTML="";const o=e.cellIndex,l=e.parentElement;X(e);const a=this.refreshCell(t,i,n,s);this.cloneAttributes(a,e),l.cells.length!==o-1?l.insertBefore(a,l.cells[o]):l.appendChild(a)}else{const o=this.refreshCell(t,i,n,s);e.innerHTML="",e.setAttribute("aria-label",o.getAttribute("aria-label"));const l=[].slice.call(o.childNodes);for(const a of l)e.appendChild(a)}}cloneAttributes(e,t){const i=t.attributes;let s,n=i.length;for(;n--;)s=i[n],e.setAttribute(s.name,s.value)}refreshCell(e,t,i,n){const s=this.element.cloneNode(),o=e.column;let l;e.isForeignKey&&(l=e.foreignKeyData[0]||{[o.foreignKeyValue]:o.format?null:""});let a=this.getGui(),c=e.isForeignKey?this.getValue(o.foreignKeyValue,l,o):this.getValue(o.field,t,o);if(("date"===o.type||"datetime"===o.type)&&!h(c)&&(c=new Date(c)),c=this.format(o,c,t),a=c.toString(),"boolean"===o.type&&!o.displayAsCheckBox){const u="true"!==c&&"false"!==c?null:"true"===c?"True":"False";a=u?this.localizer.getConstant(u):a}const d=this.invokeFormatter(o,c,t);if(a=h(o.formatter)?a:h(d)?"":d.toString(),s.setAttribute("aria-label",a+" column header "+e.column.headerText),this.evaluate(s,e,t,i,l,n)&&"checkbox"!==o.type)this.appendHtml(s,a,o.getDomSetter?o.getDomSetter():"innerHTML");else if("checkbox"===o.type){s.classList.add(J0),s.setAttribute("aria-label","checkbox"),c=!!this.parent.selectionSettings.persistSelection&&"true"===c;const u=tl(this.parent.createElement,!1,{checked:c,label:" "});this.rowChkBox.id="checkbox-"+e.rowID,u.insertBefore(this.rowChkBox.cloneNode(),u.firstChild),s.appendChild(u)}if("Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0),this.setAttributes(s,e,i),"boolean"===o.type&&o.displayAsCheckBox){const u=isNaN(parseInt(c.toString(),10))?"true"===c:parseInt(c.toString(),10)>0,p=tl(this.parent.createElement,!1,{checked:u,label:" "});s.innerHTML="",p.classList.add("e-checkbox-disabled"),s.appendChild(p),s.setAttribute("aria-label",u+" column header "+e.column.headerText)}return s}appendHtml(e,t,i="innerHTML"){return e[i]=t,e}setAttributes(e,t,i){const n=t.column;this.buildAttributeFromCell(e,t,"checkbox"===n.type),Nu(e,i),Nu(e,t.attributes),n.customAttributes&&Nu(e,n.customAttributes),"Vertical"===this.parent.rowRenderingMode&&Nu(e,{"data-cell":n.headerText}),n.textAlign&&(e.style.textAlign=n.textAlign),"Clip"===n.clipMode||!n.clipMode&&"Clip"===this.parent.clipMode?e.classList.add("e-gridclip"):("EllipsisWithTooltip"===n.clipMode||!n.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&"checkbox"!==n.type&&e.classList.add("e-ellipsistooltip")}buildAttributeFromCell(e,t,i){const n={},o=[];t.colSpan&&(n.colSpan=t.colSpan),t.rowSpan&&(n.rowSpan=t.rowSpan),t.isTemplate&&o.push("e-templatecell"),t.isSelected&&(o.push("e-selectionbackground","e-active"),i&&e.querySelector(".e-frame").classList.add("e-check")),t.isColumnSelected&&o.push("e-columnselection"),t.cellType===St.Header?n["aria-colindex"]=t.colIndex:h(t.index)||(n["aria-colindex"]=t.index),t.visible||o.push("e-hide"),n.class=o,Nu(e,n)}getValue(e,t,i){return i.valueAccessor(e,t,i)}}class D_{setOptions(e,t){const i=Object.keys(t);for(let n=0;n<i.length;n++)Z0(e,ev[i[n]],t[i[n]])}setExpand(e,t){Z0(e,ev.expand,t)}setSort(e,t){Z0(e,ev.sort,t,"boolean"==typeof t)}setBusy(e,t){Z0(e,ev.busy,t),Z0(e,ev.invalid,null,!0)}setGrabbed(e,t,i){Z0(e,ev.grabbed,t,i)}setDropTarget(e,t){Z0(e,ev.dropeffect,"copy",!t)}}function Z0(r,e,t,i){i&&r?r.removeAttribute(e):r&&r.setAttribute(e,t)}const ev={expand:"aria-expanded",role:"role",datarole:"data-role",selected:"aria-selected",multiselectable:"aria-multiselectable",sort:"aria-sort",busy:"aria-busy",invalid:"aria-invalid",grabbed:"aria-grabbed",dropeffect:"aria-dropeffect",haspopup:"aria-haspopup",level:"aria-level",colcount:"aria-colcount",rowcount:"aria-rowcount"};class BZ extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-headercell",attrs:{role:"columnheader",tabindex:"-1"}}),this.ariaService=new D_,this.hTxtEle=this.parent.createElement("span",{className:"e-headertext"}),this.sortEle=this.parent.createElement("div",{className:"e-sortfilterdiv e-icons"}),this.gui=this.parent.createElement("div"),this.chkAllBox=this.parent.createElement("input",{className:"e-checkselectall",attrs:{type:"checkbox","aria-label":"checkbox"}})}getGui(){return this.gui.cloneNode()}render(e,t,i){const n=this.element.cloneNode(),s=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter"});return this.prepareHeader(e,n,s)}refresh(e,t){this.clean(t);const i=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter"});return this.prepareHeader(e,t,i)}clean(e){e.innerHTML=""}prepareHeader(e,t,i){const n=e.column,s={},o=this.getGui();let l,a;if(Le(o,{"e-mappinguid":n.uid,class:"e-headercelldiv"}),h(n.headerValueAccessor)||(l=this.getValue(n.headerText,n)),"checkbox"!==n.type){let u=n.headerText;h(l)||(u=l);const p=this.hTxtEle.cloneNode();p[n.getDomSetter()]=u,o.appendChild(p)}else{n.editType="booleanedit";const u=tl(this.parent.createElement,!1,{checked:!1,label:" "});this.chkAllBox.id="checkbox-"+n.uid,u.insertBefore(this.chkAllBox.cloneNode(),u.firstChild),o.appendChild(u),o.classList.add("e-headerchkcelldiv")}if(this.buildAttributeFromCell(t,e),this.appendHtml(t,o),t.appendChild(this.sortEle.cloneNode()),this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&n.allowFiltering&&!h(n.field)&&(!this.parent.showColumnMenu||!n.showColumnMenu)){Le(i,{"e-mappinguid":"e-flmenu-"+n.uid}),t.classList.add("e-fltr-icon");const u=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==u.length){const p=this.parent.getForeignKeyColumns();for(let g=0;g<this.parent.columns.length;g++)for(let f=0;f<this.parent.filterSettings.columns.length;f++)if(this.parent.filterSettings.columns[f].field===n.field||p.length&&n.foreignKeyValue===this.parent.filterSettings.columns[f].field){i.classList.add("e-filtered"),u.push(n.field);break}}t.appendChild(i.cloneNode())}e.className&&t.classList.add(e.className),n.customAttributes&&Nu(t,n.customAttributes),n.allowSorting&&(s.sort="none"),(this.parent.allowGrouping&&n.allowGrouping||n.allowReordering)&&(s.grabbed=!1),t=this.extendPrepareHeader(n,t);const c=this.parent,d=c.getColumnIndexByField(n.field);if(!h(n.headerTemplate)){const u=c.element.id+n.uid+"headerTemplate",p="isStringTemplate",g=n;if(this.parent.isReact&&"string"!=typeof n.headerTemplate){const m={index:d};t.firstElementChild.innerHTML="",n.getHeaderTemplate()(O(m,g),c,"headerTemplate",u,this.parent[p],null,t.firstElementChild),this.parent.renderTemplates()}else a=n.getHeaderTemplate()(O({index:d},g),c,"headerTemplate",u,this.parent[p],void 0,void 0,this.parent.root),t.firstElementChild.innerHTML="",Po(t.firstElementChild,a)}if(this.ariaService.setOptions(t,s),!h(n.headerTextAlign)||!h(n.textAlign)){const u=n.headerTextAlign||n.textAlign;o.style.textAlign=u,"Right"===u||"Left"===u?t.classList.add("Right"===u?"e-rightalign":"e-leftalign"):"Center"===u&&t.classList.add("e-centeralign")}return"Clip"===n.clipMode||!n.clipMode&&"Clip"===this.parent.clipMode?t.classList.add("e-gridclip"):("EllipsisWithTooltip"===n.clipMode||!n.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&"checkbox"!==n.type&&t.classList.add("e-ellipsistooltip"),t.setAttribute("aria-rowspan",(h(e.rowSpan)?1:e.rowSpan).toString()),t.setAttribute("aria-colspan","1"),this.parent.trigger(NJ,{cell:e,node:t}),t}getValue(e,t){return t.headerValueAccessor(e,t)}extendPrepareHeader(e,t){if(this.parent.showColumnMenu&&e.showColumnMenu&&!h(e.field)){const i=this.parent.createElement("div",{className:"e-icons e-columnmenu"}),n=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==n.length)for(let s=0;s<this.parent.columns.length;s++)for(let o=0;o<this.parent.filterSettings.columns.length;o++)if(this.parent.filterSettings.columns[o].field===e.field){i.classList.add("e-filtered"),n.push(e.field);break}t.classList.add("e-fltr-icon"),t.appendChild(i)}if(this.parent.allowResizing){const i=this.parent.createElement("div");i.className=e.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",t.appendChild(i)}return t}appendHtml(e,t){return e.appendChild(t),e}}class NZ extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-headercell e-stackedheadercell",attrs:{role:"columnheader",tabindex:"-1"}})}render(e,t,i){const n=this.element.cloneNode(),s=this.parent.createElement("div",{className:"e-stackedheadercelldiv",attrs:{"e-mappinguid":e.column.uid}}),o=e.column;if(n.appendChild(s),h(o.headerTemplate)?this.appendHtml(s,o.headerText,o.getDomSetter()):Po(s,o.getHeaderTemplate()(o,this.parent,"headerTemplate")),e.column.toolTip&&n.setAttribute("title",e.column.toolTip),"Clip"===o.clipMode||!o.clipMode&&"Clip"===this.parent.clipMode?n.classList.add("e-gridclip"):("EllipsisWithTooltip"===o.clipMode||!o.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&n.classList.add("e-ellipsistooltip"),h(e.column.textAlign)||(s.style.textAlign=e.column.textAlign),e.column.customAttributes&&Nu(n,e.column.customAttributes),n.setAttribute("colspan",e.colSpan.toString()),n.setAttribute("aria-colspan",e.colSpan.toString()),n.setAttribute("aria-rowspan","1"),this.parent.allowResizing){const l=this.parent.createElement("div");l.className=e.column.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",n.appendChild(l)}return e.className&&n.classList.add(e.className),this.parent.trigger(NJ,{cell:e,node:n}),n}}class BB extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TD",{className:"e-indentcell"})}render(e,t){const i=this.element.cloneNode();return Nu(i,e.attributes),i}}class Y3e extends qa{constructor(){super(...arguments),this.cellUid=0,this.element=this.parent.createElement("TD",{className:"e-groupcaption",attrs:{id:this.parent.element.id+"captioncell",role:"gridcell",tabindex:"-1"}})}render(e,t){this.element.id=this.parent.element.id+"captioncell"+this.cellUid++;const i=this.element.cloneNode(),n=this.parent;let s,o,l;t.headerText=e.column.headerText,e.isForeignKey&&(o=this.format(e.column,e.column.valueAccessor("foreignKey",t,e.column)));const a=e.isForeignKey?o:e.column.enableGroupByFormat?t.key:this.format(e.column,e.column.valueAccessor("key",t,e.column));for(var c=0;c<n.aggregates.length;c++)for(var d=0;d<n.aggregates[c].columns.length;d++)if(n.getVisibleColumns()[0].field==n.aggregates[c].columns[d].field&&n.aggregates[c].columns[d].groupCaptionTemplate){l=n.aggregates[c].columns[d].groupCaptionTemplate.includes("$")?n.aggregates[c].columns[d].groupCaptionTemplate.split("$")[0]+t[n.getVisibleColumns()[0].field][n.aggregates[c].columns[d].type]+n.aggregates[c].columns[d].groupCaptionTemplate.split("}")[1]:n.aggregates[c].columns[d].groupCaptionTemplate;break}if(h(n.groupSettings.captionTemplate))i.innerHTML=n.groupSettings.enableLazyLoading?e.column.headerText+": "+a+(l?"   "+l:""):e.column.headerText+": "+a+" - "+t.count+" "+this.localizer.getConstant(t.count<2?"Item":"Items")+(l?"   "+l:"");else{const u=this.parent.isReact&&"string"!=typeof n.groupSettings.captionTemplate;if(u){const p=n.element.id+"captionTemplate";_a(n.groupSettings.captionTemplate)(t,this.parent,"captionTemplate",p,null,null,i),this.parent.renderTemplates()}else s=this.parent.isVue?_a(n.groupSettings.captionTemplate)(t,this.parent):_a(n.groupSettings.captionTemplate)(t);u||Po(i,s)}return i.setAttribute("colspan",e.colSpan.toString()),i.setAttribute("aria-label",i.innerHTML+" is groupcaption cell"),i.setAttribute("title",i.innerHTML),i}}class Q3e extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TD",{className:"e-groupcaption"})}render(e,t){const i=this.element.cloneNode();return i.innerHTML="&nbsp;",i.setAttribute("colspan",e.colSpan.toString()),i}}class X3e extends BB{render(e,t,i,n){const s=this.element.cloneNode();return s.className=n?"e-recordplusexpand":"e-recordpluscollapse",s.setAttribute("ej-mappingname",t.field),s.setAttribute("ej-mappingvalue",t.key),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("tabindex","-1"),s.appendChild(this.parent.createElement("div",{className:n?"e-icons e-gdiagonaldown e-icon-gdownarrow":"e-icons e-gnextforward e-icon-grightarrow"})),s}}class J3e extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-grouptopleftcell"})}render(e,t){const i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-headercelldiv e-emptycell",innerHTML:""})),i}}class Z3e extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-detailheadercell"})}render(e,t){const i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-emptycell"})),i}}class ePe extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TD",{className:"e-detailrowcollapse",attrs:{"aria-expanded":"false",role:"gridcell",tabindex:"-1"}})}render(e,t,i){const n=this.element.cloneNode();return i&&!h(i.class)?(n.className="",n.className=i.class,n.appendChild(this.parent.createElement("div",{className:"e-icons e-dtdiagonaldown e-icon-gdownarrow"}))):n.appendChild(this.parent.createElement("div",{className:"e-icons e-dtdiagonalright e-icon-grightarrow"})),n}}class tPe extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TD",{className:"e-rowdragdrop e-rowdragdropcell",attrs:{role:"gridcell",tabindex:"-1"}})}render(e,t){const i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon"})),e.isSelected&&(i.classList.add("e-selectionbackground"),i.classList.add("e-active")),i}}class iPe extends qa{constructor(){super(...arguments),this.element=this.parent.createElement("TH",{className:"e-rowdragheader"})}render(e,t){const i=this.element.cloneNode();return i.appendChild(Xe("div",{className:"e-emptycell"})),i}}class nPe{constructor(e,t){this.emptyGrid=!1,this.counter=0,this.parent=e,this.locator=t,this.data=new oR(e,t),this.l10n=t.getService("localization"),this.ariaService=this.locator.getService("ariaService"),this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}render(){const e=this.parent;this.headerRenderer=this.renderer.getRenderer(Sr.Header),this.contentRenderer=this.renderer.getRenderer(Sr.Content),this.headerRenderer.renderPanel(),this.contentRenderer.renderPanel(),e.getColumns().length&&(this.isLayoutRendered=!0,this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.emptyRow(!1)),this.parent.scrollModule.setWidth(),this.parent.scrollModule.setHeight(),"auto"!==this.parent.height&&this.parent.scrollModule.setPadding(),this.refreshDataManager()}refresh(e={requestType:"refresh"}){const t=this.parent;t.notify(`${e.requestType}-begin`,e),t.trigger(On,e,(i={requestType:"refresh"})=>{if(i.cancel)t.notify(UT,i);else{if("delete"===i.requestType&&t.allowPaging){const n=i.data.length,s=t.pageSettings.totalRecordsCount-n;!(t.getCurrentViewRecords().length-n)&&s&&(t.pageSettings.currentPage-1)*t.pageSettings.pageSize===s&&(t.prevPageMoving=!0,t.setProperties({pageSettings:{totalRecordsCount:s,currentPage:Math.ceil(s/t.pageSettings.pageSize)}},!0),t.pagerModule.pagerObj.totalRecordsCount=s)}"reorder"===i.requestType&&this.parent.dataSource&&"result"in this.parent.dataSource||("paging"===i.requestType||"columnstate"===i.requestType||"reorder"===i.requestType)&&this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length&&this.parent.contentModule.getGroupCache()[this.parent.pageSettings.currentPage]?this.contentRenderer.refreshContentRows(i):this.refreshDataManager(i)}})}resetTemplates(){const e=this.parent,t=e.getColumns();if(e.detailTemplate){const n=e.element.id+"detailTemplate";xh[n]=[],zo(n)}e.groupSettings.captionTemplate&&zo(e.element.id+"captionTemplate"),e.rowTemplate&&zo(e.element.id+"rowTemplate"),e.toolbarTemplate&&zo(e.element.id+"toolbarTemplate"),e.pageSettings.template&&zo(e.element.id+"_template");for(let n=0;n<t.length;n++)t[n].template&&(xh[e.element.id+t[n].uid]=[],zo(e.element.id+t[n].uid)),t[n].headerTemplate&&zo(e.element.id+t[n].uid+"headerTemplate"),t[n].filterTemplate&&zo(e.element.id+t[n].uid+"filterTemplate");const i="guid";for(let n=0;n<e.aggregates.length;n++)for(let s=0;s<e.aggregates[n].columns.length;s++)e.aggregates[n].columns[s].footerTemplate&&zo(e.element.id+e.aggregates[n].columns[s][i]+"footerTemplate"),e.aggregates[n].columns[s].groupFooterTemplate&&zo(e.element.id+e.aggregates[n].columns[s][i]+"groupFooterTemplate"),e.aggregates[n].columns[s].groupCaptionTemplate&&zo(e.element.id+e.aggregates[n].columns[s][i]+"groupCaptionTemplate")}refreshComplete(e){this.parent.trigger(xi,e)}refreshDataManager(e={}){let t;"virtualscroll"!==e.requestType&&!e.isCaptionCollapse&&this.parent.showSpinner(),this.parent.notify("reset-infinite-blocks",e),this.emptyGrid=!1;const i=this.isNeedForeignAction();if(this.ariaService.setBusy(this.parent.getContent().querySelector("."+Bs),!0),i){const n=new Ss;t=this.getFData(n,e)}if(t=t?t.then(n=>{const s=this.data.generateQuery().requiresCount();if(this.emptyGrid){const o=new Ss;return o.resolve({result:[],count:0}),o.promise}return this.data.getData(e,s)}):this.data.getData(e,this.data.generateQuery().requiresCount()),this.parent.getForeignKeyColumns().length&&(!i||this.parent.searchSettings.key.length)){const n=new Ss;t=t.then(s=>(this.parent.notify(WT,{dataManager:t,result:s,promise:n,action:e}),n.promise))}this.parent.groupSettings.disablePageWiseAggregates&&this.parent.groupSettings.columns.length&&(t=t.then(n=>this.validateGroupRecords(n))),t.then(n=>this.dataManagerSuccess(n,e)).catch(n=>this.dataManagerFailure(n,e))}getFData(e,t){return this.parent.notify(WT,{isComplex:!0,promise:e,action:t}),e.promise}isNeedForeignAction(){const e=this.parent;return!!(e.allowFiltering&&e.filterSettings.columns.length||e.searchSettings.key.length)&&this.foreignKey(this.parent.getForeignKeyColumns())}foreignKey(e){return e.some(t=>{let i=!1;return i=this.parent.filterSettings.columns.some(n=>t.uid===n.uid),!(!i&&!this.parent.searchSettings.key.length)})}sendBulkRequest(e){e.requestType="batchsave";const t=this.data.saveChanges(e.changes,this.parent.getPrimaryKeyFieldNames()[0],e.original),i=this.data.generateQuery().requiresCount();this.data.dataManager.dataSource.offline?this.refreshDataManager({requestType:"batchsave"}):t.then(n=>{this.data.getData(e,i).then(s=>this.dmSuccess(s,e)).catch(s=>this.dmFailure(s,e))}).catch(n=>this.dmFailure(n,e))}dmSuccess(e,t){this.dataManagerSuccess(e,t)}dmFailure(e,t){this.dataManagerFailure(e,t)}renderEmptyRow(){this.emptyRow(!0)}emptyRow(e){const t=this.parent;let i=this.contentRenderer.getTable().querySelector(Ye);h(i)||X(i),i=this.parent.createElement(Ye,{attrs:{role:"rowgroup"}});let n=0;(t.detailTemplate||t.childGrid)&&++n;const s=this.parent.createElement("tr",{className:"e-emptyrow",attrs:{role:"row"}});s.appendChild(this.parent.createElement("td",{innerHTML:this.l10n.getConstant("EmptyRecord"),attrs:{colspan:(t.getVisibleColumns().length+n+t.groupSettings.columns.length).toString()}})),i.appendChild(s),this.contentRenderer.renderEmpty(i),e&&(this.parent.trigger(Ga,{}),this.parent.notify(Bh,{rows:[new Qd({isDataRow:!0,cells:[new sc({isDataCell:!0,visible:!0})]})]}))}dynamicColumnChange(){this.parent.getCurrentViewRecords().length&&this.updateColumnType(this.parent.getCurrentViewRecords()[0])}updateColumnType(e){const t=this.parent.getColumns();let i;const n="customFormat",s="equalTo",o=e&&e.items?e.items[0]:e,l=this.locator.getService("valueFormatter");for(let a=0,c=t.length;a<c;a++){i=fr(t[a].field||"",o),h(t[a][n])||(t[a].format=t[a][n]),!h(t[a].validationRules)&&!h(t[a].validationRules[s])&&(t[a].validationRules[s][0]=this.parent.element.id+t[a].validationRules[s][0]),t[a].isForeignColumn()&&t[a].columnData&&(i=fr(t[a].foreignKeyValue||"",t[a].columnData[0])),h(i)?t[a].type=t[a].type||null:(this.isColTypeDef=!0,t[a].type||(t[a].type=i.getDay?i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0||i.getMilliseconds()>0?"datetime":"date":typeof i));const d=new W0;t[a].format&&(t[a].format.skeleton||t[a].format.format&&"string"==typeof t[a].format.format)&&(t[a].setFormatter(d.getFormatFunction(O({},t[a].format))),t[a].setParser(d.getParserFunction(t[a].format))),"string"==typeof t[a].format?eee(this.locator,t[a]):!t[a].format&&"number"===t[a].type&&t[a].setParser(l.getParserFunction({format:"n2"}))}}dataManagerSuccess(e,t){const i=this.parent;this.contentRenderer=this.renderer.getRenderer(Sr.Content),this.headerRenderer=this.renderer.getRenderer(Sr.Header),e.actionArgs=t;const n=this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&("delete"===t.requestType||"save"===t.requestType&&"add"===this.parent.infiniteScrollModule.requestType);i.trigger("beforeDataBound",e,s=>{if(s.cancel)return;s.result=h(s.result)?[]:s.result;const o=Object.keys(s.result).length;if(!this.parent.isDestroyed){if(!(i.getColumns().length||o||i.columns.length&&i.columns[0]instanceof Oc))return void i.hideSpinner();if(this.isInfiniteEnd(t)&&!o)return void this.parent.notify(ZT,{e:t,result:e.result,count:e.count,agg:e.aggregates});if(this.parent.isEdit=!1,this.parent.notify("edit-reset",{}),this.parent.notify(Y0,{}),this.contentRenderer.prevCurrentView=this.parent.currentViewData.slice(),i.currentViewData=s.result,i.notify("refresh-infinite-current-view-data",{args:t,data:s.result}),!o&&s.count&&i.allowPaging&&t&&"delete"!==t.requestType)return this.parent.groupSettings.enableLazyLoading&&("grouping"===t.requestType||"ungrouping"===t.requestType)&&this.parent.notify("grouping-complete",t),i.prevPageMoving=!0,i.pageSettings.totalRecordsCount=s.count,"paging"!==t.requestType&&(i.pageSettings.currentPage=Math.ceil(s.count/i.pageSettings.pageSize)),void i.dataBind();if((!i.getColumns().length&&o||!this.isLayoutRendered)&&!gr(i)&&this.updatesOnInitialRender(s),!this.isColTypeDef&&i.getCurrentViewRecords()&&this.updateColumnType(this.data.dataManager.dataSource.offline&&i.dataSource&&i.dataSource.length?i.dataSource[0]:i.getCurrentViewRecords()[0]),!this.parent.isInitialLoad&&this.parent.groupSettings.disablePageWiseAggregates&&!this.parent.groupSettings.columns.length&&(s.result=this.parent.dataSource instanceof Array?this.parent.dataSource:this.parent.currentViewData),(this.parent.isReact||this.parent.isVue)&&!h(t)&&"infiniteScroll"!==t.requestType&&!t.isFrozen&&B_(this.parent,["footerTemplate"]),this.parent.notify($d,O({count:s.count,result:s.result,aggregates:s.aggregates},t)),(i.groupSettings.columns.length||t&&"ungrouping"===t.requestType)&&t&&"filtering"!==t.requestType&&this.headerRenderer.refreshUI(),o)gr(i)&&(t.scrollTop={top:this.contentRenderer.content.scrollTop}),n?this.parent.notify(ZT,{e:t,result:e.result,count:e.count,agg:e.aggregates}):this.parent.enableImmutableMode?this.contentRenderer.immutableModeRendering(t):this.contentRenderer.refreshContentRows(t);else{if(t&&t.isCaptionCollapse)return;if(!i.getColumns().length)return i.element.innerHTML="",void alert(this.l10n.getConstant("EmptyDataSourceError"));if(this.contentRenderer.setRowElements([]),this.contentRenderer.setRowObjects([]),this.ariaService.setBusy(this.parent.getContent().querySelector("."+Bs),!1),this.renderEmptyRow(),t){const l=(t.requestType||"").toLowerCase()+"-complete";this.parent.notify(l,t),"batchsave"===t.requestType&&(t.cancel=!1,t.rows=[],t.isFrozen=0!==this.parent.getFrozenColumns()&&!t.isFrozen,this.parent.trigger(xi,t))}this.parent.hideSpinner()}this.parent.notify("toolbar-refresh",{}),this.setRowCount(this.parent.getCurrentViewRecords().length),this.parent.getDataModule().isQueryInvokedFromData=!1}})}dataManagerFailure(e,t){this.ariaService.setOptions(this.parent.getContent().querySelector("."+Bs),{busy:!1,invalid:!0}),this.setRowCount(1),this.parent.trigger("actionFailure",{error:e}),this.parent.hideSpinner(),"save"!==t.requestType&&"delete"!==t.requestType&&"bulk-save"!==t.name&&(this.parent.currentViewData=[],this.renderEmptyRow(),this.parent.log("actionfailure",{error:e}))}setRowCount(e){this.ariaService.setOptions(this.parent.getHeaderTable(),{rowcount:e?e.toString():"1"})}isInfiniteEnd(e){return this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&"delete"===e.requestType}updatesOnInitialRender(e){this.isLayoutRendered=!0,this.parent.columns.length<1&&this.buildColumns(e.result[0]),pC(this.parent.columns,null,this.parent),this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.parent.isAutoGen=!0,this.parent.notify(K0,{})}iterateComplexColumns(e,t,i){const n=Object.keys(e);for(let s=0;s<n.length;s++)("object"!=typeof e[n[s]]||!e[n[s]]||e[n[s]]instanceof Date?[]:Object.keys(e[n[s]])).length?this.iterateComplexColumns(e[n[s]],t+(n[s]+"."),i):(i[this.counter]=t+n[s],this.counter++)}buildColumns(e){const t=[],i={};this.iterateComplexColumns(e,"",i);const n=Object.keys(i).filter(s=>"BlazId"!==i[s]).map(s=>i[s]);for(let s=0,o=n.length;s<o;s++)t[s]={field:n[s]},this.parent.enableColumnVirtualization&&(t[s].width=h(t[s].width)?200:t[s].width);this.parent.setProperties({columns:t},!0)}instantiateRenderer(){this.renderer.addRenderer(Sr.Header,new OB(this.parent,this.locator)),this.renderer.addRenderer(Sr.Content,new I_(this.parent,this.locator));const e=this.locator.getService("cellRendererFactory");e.addCellRenderer(St.Header,new BZ(this.parent,this.locator)),e.addCellRenderer(St.Data,new qa(this.parent,this.locator)),e.addCellRenderer(St.StackedHeader,new NZ(this.parent,this.locator)),e.addCellRenderer(St.Indent,new BB(this.parent,this.locator)),e.addCellRenderer(St.GroupCaption,new Y3e(this.parent,this.locator)),e.addCellRenderer(St.GroupCaptionEmpty,new Q3e(this.parent,this.locator)),e.addCellRenderer(St.Expand,new X3e(this.parent,this.locator)),e.addCellRenderer(St.HeaderIndent,new J3e(this.parent,this.locator)),e.addCellRenderer(St.StackedHeader,new NZ(this.parent,this.locator)),e.addCellRenderer(St.DetailHeader,new Z3e(this.parent,this.locator)),e.addCellRenderer(St.RowDragHIcon,new iPe(this.parent,this.locator)),e.addCellRenderer(St.DetailExpand,new ePe(this.parent,this.locator)),e.addCellRenderer(St.DetailFooterIntent,new BB(this.parent,this.locator)),e.addCellRenderer(St.RowDragIcon,new tPe(this.parent,this.locator))}addEventListener(){this.parent.isDestroyed||(this.parent.on(Ou,this.instantiateRenderer,this),this.parent.on("refreshdataSource",this.dataManagerSuccess,this),this.parent.on(yo,this.refresh,this),this.parent.on("refresh-complete",this.refreshComplete,this),this.parent.on("bulk-save",this.sendBulkRequest,this),this.parent.on(cZ,()=>{this.emptyGrid=!0},this),this.parent.on(K0,this.dynamicColumnChange,this))}validateGroupRecords(e){const t=e.result.length-1;if(t<0)return Promise.resolve(e);const i=e.result[0],n=e.result[t],s=[],o=g=>{const f=[i,n];for(let m=0;m<f.length;m++)s.push(new qt("field","==",f[m].field).and(this.getPredicate("key","equal",f[m].key)));g.where(qt.or(s))},l=new Ze;o(l);const c=new ie(e.result).executeLocal(l),d=this.data.generateQuery(!0),u=[];if(this.data.isRemote()){const g=[i,n];for(let f=0;f<g.length;f++)u.push(this.getPredicate(g[f].field,"equal",g[f].key));d.where(qt.or(u))}else o(d);const p=new Ss;return this.data.getData({},d).then(g=>{this.updateGroupInfo(c,g.result),p.resolve(e)}).catch(g=>p.reject(g)),p.promise}getPredicate(e,t,i){return i instanceof Date?lm({field:e,operator:t,value:i}):new qt(e,t,i)}updateGroupInfo(e,t){const i=new ie(t),n=e;for(let s=0;s<n.length;s++){const o=i.executeLocal((new Ze).where(new qt("field","==",n[s].field).and(this.getPredicate("key","equal",n[s].key))))[0];n[s].count=o.count;const l=n[s].items,a=o.items;l.GroupGuid&&(n[s].items=this.updateGroupInfo(n[s].items,o.items));const c=this.parent.aggregates;for(let d=0;d<c.length;d++){const u=c[d];for(let p=0;p<u.columns.length;p++){const g=u.columns[p].type instanceof Array?u.columns[p].type:[u.columns[p].type];for(let f=0;f<g.length;f++){const m=u.columns[p].field+" - "+g[f].toLowerCase(),v=l.level?a.records:o.items,x=this.parent;if("Custom"===g[f]){const w=l.level?a:o;let b=u.columns[p].customAggregate;"string"==typeof b&&(b=M(b,window)),n[s].aggregates[m]=b?b.call(x,w,u.columns[p]):""}else n[s].aggregates[m]=Ie.aggregates[g[f].toLowerCase()](v,u.columns[p].field)}}}}return e}}class sPe{constructor(){this.cellRenderMap={}}addCellRenderer(e,t){e="string"==typeof e?e:bs(St,e),h(this.cellRenderMap[e])&&(this.cellRenderMap[e]=t)}getCellRenderer(e){if(e="string"==typeof e?e:bs(St,e),h(this.cellRenderMap[e]))throw`The cellRenderer ${e} is not found`;return this.cellRenderMap[e]}}class VZ{constructor(e,t){this.sortedCols=[],this.sortPredicate=[],this.isCustomDialog=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}addEventListener(){this.evtHandlers=[{event:eR,handler:this.closeCustomDialog},{event:SB,handler:this.refreshCustomFilterOkBtn},{event:"render-responsive-cmenu",handler:this.renderResponsiveContextMenu},{event:"filter-cmenu-select",handler:this.renderCustomFilterDiv},{event:"custom-filter-close",handler:this.customExFilterClose},{event:"refresh-cutsom-filter-clear-button",handler:this.refreshCustomFilterClearBtn}],Co(this.parent,this.evtHandlers,!0,this),this.onActionCompleteFn=this.editComplate.bind(this),this.parent.addEventListener(xi,this.onActionCompleteFn)}customExFilterClose(){this.isCustomDlgRender=!1}renderCustomFilterDiv(){const e=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),t=e.querySelector(".e-dlg-custom-header"),i=e.querySelector(".e-dlg-closeicon-btn");this.isCustomDlgRender=!0,this.parent.filterModule.filterModule.closeDialog(),this.saveBtn.element.style.display="",this.refreshCustomFilterOkBtn({disabled:!1}),this.backBtn.element.style.display="none",i.style.display="",t.innerHTML=this.parent.localeObj.getConstant("CustomFilter");const n=this.customResponsiveDlg.element.querySelector(".e-dlg-content");this.customExcelFilterParent=this.parent.createElement("div",{className:"e-xl-customfilterdiv e-default-filter"}),n.appendChild(this.customExcelFilterParent)}renderResponsiveContextMenu(e){if(this.action===Rn.isFilter){const t=this.customResponsiveDlg.element.querySelector(".e-dlg-content"),i=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),n=i.querySelector(".e-dlg-closeicon-btn"),s=i.querySelector(".e-dlg-custom-header");if(e.isOpen){t.firstChild.style.display="none",t.appendChild(e.target),n.style.display="none",this.saveBtn.element.style.display="none",this.filterClearBtn.element.style.display="none",s.innerHTML=e.header;const o=this.parent.createElement("button"),l=this.parent.createElement("span",{className:"e-btn-icon e-resfilterback e-icons"});o.appendChild(l),this.backBtn=new ks({cssClass:this.parent.cssClass?"e-res-back-btn "+this.parent.cssClass:"e-res-back-btn"}),this.backBtn.appendTo(o),s.parentElement.insertBefore(o,s)}else this.backBtn&&!this.isCustomDlgRender&&(t.firstChild.style.display="",X(this.backBtn.element),n.style.display="",this.saveBtn.element.style.display="",this.isFiltered&&(this.filterClearBtn.element.style.display=""),s.innerHTML=this.getHeaderTitle({action:Rn.isFilter},e.col))}}refreshCustomFilterClearBtn(e){this.filterClearBtn&&(this.isFiltered=e.isFiltered,this.filterClearBtn.element.style.display=e.isFiltered?"":"none")}refreshCustomFilterOkBtn(e){this.saveBtn&&(this.saveBtn.disabled=e.disabled)}renderResponsiveContent(e){const t=this.parent;if(e)return this.filterParent=this.parent.createElement("div",{className:"e-mainfilterdiv e-default-filter",id:e.uid+"-main-filter"}),this.filterParent;{const i=t.getColumns();this.customColumnDiv=t.createElement("div",{className:"columndiv",styles:"width: 100%"});const n=t.createElement("div",{className:"e-ressortbutton-parent"}),s=[],o=this.action===Rn.isSort,l=this.action===Rn.isFilter;if(l)for(let a=0;a<t.filterSettings.columns.length;a++)s.push(t.filterSettings.columns[a].field);for(let a=0;a<i.length;a++){if(!i[a].visible||!i[a].allowSorting&&o||!i[a].allowFiltering&&l)continue;const c=t.createElement("div",{className:"e-responsivecoldiv"});c.setAttribute("data-e-mappingname",i[a].field),c.setAttribute("data-e-mappinguid",i[a].uid);const d=t.createElement("span",{innerHTML:i[a].headerText,className:"e-res-header-text"});if(c.appendChild(d),this.customColumnDiv.appendChild(c),o){const p=this.getSortedFieldsAndDirections("field").indexOf(i[a].field),g=t.createElement("button",{id:t.element.id+i[a].field+"sortbutton"}),f=n.cloneNode();f.appendChild(g),c.appendChild(f),new ks({cssClass:this.parent.cssClass?"e-ressortbutton "+this.parent.cssClass:"e-ressortbutton"}).appendTo(g),g.innerHTML=p>-1?this.parent.sortSettings.columns[p].direction:"None",g.onclick=v=>{this.sortButtonClickHandler(v.target)}}if(l&&s.indexOf(i[a].field)>-1){const u=t.createElement("div",{className:"e-icons e-res-icon e-filtersetdiv"}),p=t.createElement("span",{className:"e-icons e-res-icon e-filterset"});p.setAttribute("colType",i[a].type),u.appendChild(p),c.appendChild(u)}}return C.add(this.customColumnDiv,"click",this.customFilterColumnClickHandler,this),this.customColumnDiv}}getSortedFieldsAndDirections(e){const t=[];for(let i=0;i<this.parent.sortSettings.columns.length;i++)t.push(this.parent.sortSettings.columns[i][e]);return t}sortButtonClickHandler(e){if(e){const i=Se(e,"e-responsivecoldiv").getAttribute("data-e-mappingname");this.parent.allowMultiSorting||(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1,this.resetSortButtons(e));const n=e.textContent,s="None"===n?"Ascending":"Ascending"===n?"Descending":"None";e.innerHTML=s,this.setSortedCols(i,s)}}resetSortButtons(e){const t=[].slice.call(this.customColumnDiv.getElementsByClassName("e-ressortbutton"));for(let i=0;i<t.length;i++)t[i]!==e&&(t[i].innerHTML="None")}setSortedCols(e,t){const n=this.getCurrentSortedFields().indexOf(e);this.parent.allowMultiSorting&&n>-1&&(this.sortedCols.splice(n,1),this.sortPredicate.splice(n,1)),this.isSortApplied=!0,"None"!==t&&(this.sortedCols.push(e),this.sortPredicate.push({field:e,direction:t}))}getCurrentSortedFields(){const e=[];for(let t=0;t<this.sortedCols.length;t++)e.push(this.sortedCols[t]);return e}customFilterColumnClickHandler(e){if(this.action!==Rn.isFilter)return;const t=this.parent,i=e.target;if("FilterBar"!==t.filterSettings.type)if(i.classList.contains("e-responsivecoldiv")||i.parentElement.classList.contains("e-responsivecoldiv")){let n=i.getAttribute("data-e-mappingname");if(n||(n=i.parentElement.getAttribute("data-e-mappingname")),n){const s=t.getColumnByField(n);this.isRowResponsive=!0,this.showResponsiveDialog(s)}}else if(i.classList.contains("e-filterset")||i.parentElement.classList.contains("e-filtersetdiv")){const n=Se(i,"e-responsivecoldiv");if(n){const s=n.getAttribute("data-e-mappingname"),o=t.getColumnByField(s);("Menu"===o.filter.type||!o.filter.type&&"Menu"===t.filterSettings.type)&&(this.isDialogClose=!0),this.parent.filterModule.filterModule.clearCustomFilter(o),this.removeCustomDlgFilterEle(i)}}}showResponsiveDialog(e){if(this.isCustomDialog&&this.action===Rn.isFilter&&!this.isRowResponsive)this.renderCustomFilterDialog();else{if(this.filteredCol=e,this.renderResponsiveDialog(e),this.parent.enableAdaptiveUI&&e&&(this.parent.filterModule.setFilterModel(e),this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(e,void 0))),this.action===Rn.isSort){const t={cancel:!1,dialogObj:this.customResponsiveDlg,requestType:"beforeOpenAptiveSortDialog"};if(this.parent.trigger(qJ,t),t.cancel)return}this.customResponsiveDlg.show(!0),this.customResponsiveDlg.element.style.maxHeight="100%",this.setTopToChildDialog(this.customResponsiveDlg.element)}}setTopToChildDialog(e){const t=e.querySelector(".e-dialog");if(t){const i=e.querySelector(".e-dlg-header-content").getBoundingClientRect().height;t.style.top=i+"px"}}renderCustomFilterDialog(e){const t=this.parent;if(this.action===Rn.isFilter&&"FilterBar"===t.filterSettings.type)return;const i=this.parent.createElement("div",{id:t.element.id+"customfilter",className:"e-customfilterdiv e-responsive-dialog"});this.parent.element.appendChild(i),this.customFilterDlg=this.getDialogOptions(e,!0);const n={cancel:!1,dialogObj:this.customFilterDlg,requestType:"beforeOpenAptiveFilterDialog"};this.parent.trigger(qJ,n),!n.cancel&&(this.customFilterDlg.appendTo(i),this.customFilterDlg.show(!0),this.customFilterDlg.element.style.maxHeight="100%")}getDialogOptions(e,t,i){const n=new qi({isModal:!0,showCloseIcon:!0,closeOnEscape:!1,locale:this.parent.locale,target:this.parent.adaptiveDlgTarget?this.parent.adaptiveDlgTarget:document.body,visible:!1,enableRtl:this.parent.enableRtl,content:this.renderResponsiveContent(e),open:this.dialogOpen.bind(this),created:this.dialogCreated.bind(this),close:this.beforeDialogClose.bind(this),width:"100%",height:"100%",animationSettings:{effect:"None"},cssClass:this.parent.cssClass?this.parent.cssClass:""});return n.isStringTemplate=!0,t?(n.header=this.renderResponsiveHeader(e,void 0,!0),n.cssClass="e-customfilter"):(n.header=this.renderResponsiveHeader(e),n.cssClass="Vertical"===this.parent.rowRenderingMode&&this.action===Rn.isFilter?"e-res"+i+" e-row-responsive-filter":"e-res"+i),n}renderResponsiveDialog(e){const t=this.parent;if(this.action===Rn.isFilter&&"FilterBar"===t.filterSettings.type)return;const i=this.action===Rn.isFilter?"filter":"sort",n=this.parent.createElement("div",{id:t.element.id+"responsive"+i,className:"e-res"+i+"div e-responsive-dialog"});this.parent.element.appendChild(n),this.customResponsiveDlg=this.getDialogOptions(e,!1,i),this.customResponsiveDlg.appendTo(n)}dialogCreated(){!function aee(r){if(r.enableAdaptiveUI){const e=document.getElementsByClassName("e-responsive-dialog");for(let t=0;t<e.length;t++)e[t].classList.add("e-bigger")}}(this.parent)}dialogOpen(){if(this.action===Rn.isSort&&this.parent.allowMultiSorting)for(let e=0;e<this.parent.sortSettings.columns.length;e++)this.sortedCols.push(this.parent.sortSettings.columns[e].field),this.sortPredicate.push({field:this.parent.sortSettings.columns[e].field,direction:this.parent.sortSettings.columns[e].direction})}beforeDialogClose(e){this.isDialogClose=e.element&&!e.element.querySelector(".e-xl-customfilterdiv")&&e.element.classList.contains("e-resfilterdiv"),this.action===Rn.isFilter?e.element.classList.contains("e-resfilterdiv")?this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender):e.element.classList.contains("e-customfilterdiv")&&this.closeCustomFilter():this.action===Rn.isSort&&this.closeCustomDialog(),this.parent.off(iR,this.keyHandler)}sortColumn(){if(this.isSortApplied){this.sortPredicate.length&&this.parent.setProperties({sortSettings:{columns:[]}},!0);for(let e=0;e<this.sortPredicate.length;e++)this.parent.sortColumn(this.sortPredicate[e].field,this.sortPredicate[e].direction,this.parent.allowMultiSorting);this.sortPredicate.length||this.parent.clearSorting(),this.closeCustomDialog()}else this.closeCustomDialog()}getHeaderTitle(e,t){const i=this.parent;let n;return this.action===Rn.isEdit?n=i.localeObj.getConstant("EditFormTitle")+e.primaryKeyValue[0]:this.action===Rn.isAdd?n=i.localeObj.getConstant("AddFormTitle"):this.action===Rn.isFilter?n=t?t.headerText||t.field:i.localeObj.getConstant("FilterButton"):this.action===Rn.isSort&&(n=i.localeObj.getConstant("Sort")),n}getDialogName(e){let t;return e===Rn.isAdd||e===Rn.isEdit?t="dialogEdit_wrapper_title":e===Rn.isFilter&&(t="responsive_filter_dialog_wrapper"),t}getButtonText(e){let t;return e===Rn.isAdd||e===Rn.isEdit?t="Save":(e===Rn.isFilter||this.action===Rn.isSort)&&(t="OKButton"),t}renderResponsiveHeader(e,t,i){const n=this.parent;n.on(iR,this.keyHandler,this);const s=n.element.id+this.getDialogName(this.action),o=n.createElement("div",{className:"e-res-custom-element"}),l=n.createElement("div",{className:"e-dlg-custom-header",id:s});l.innerHTML=this.getHeaderTitle(t,e),o.appendChild(l);const a=n.createElement("button");i||(this.saveBtn=new ks({cssClass:this.parent.cssClass?"e-primary e-flat e-res-apply-btn "+this.parent.cssClass:"e-primary e-flat e-res-apply-btn"}),a.innerHTML=n.localeObj.getConstant(this.getButtonText(this.action)),this.saveBtn.appendTo(a),a.onclick=u=>{this.dialogHdrBtnClickHandler()});const c=this.action===Rn.isSort,d=this.action===Rn.isFilter;if(d||c){const u=c?"sort":"filter",p=n.createElement("button");if(this.filterClearBtn=new ks({cssClass:this.parent.cssClass?"e-primary e-flat e-res-"+u+"-clear-btn "+this.parent.cssClass:"e-primary e-flat e-res-"+u+"-clear-btn"}),d){const g=n.createElement("span",{className:"e-btn-icon e-icon-filter-clear e-icons"});p.appendChild(g)}else p.innerHTML=n.localeObj.getConstant("Clear");o.appendChild(p),this.filterClearBtn.appendTo(p),p.onclick=g=>{Se(g.target,"e-customfilter")?(this.parent.filterModule.clearFiltering(),this.removeCustomDlgFilterEle()):d?this.filterClear():(this.resetSortButtons(),this.sortedCols=[],this.sortPredicate=[],this.isSortApplied=!0)},o.appendChild(p)}return i||o.appendChild(a),o}filterClear(){this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol),this.parent.filterModule.filterModule.closeResponsiveDialog()}dialogHdrBtnClickHandler(){this.action===Rn.isEdit||this.action===Rn.isAdd?this.parent.endEdit():this.action===Rn.isFilter?this.parent.filterModule.filterModule.applyCustomFilter({col:this.filteredCol,isCustomFilter:this.isCustomDlgRender}):this.action===Rn.isSort&&this.sortColumn()}closeCustomDialog(){this.isCustomDlgRender?X(this.customResponsiveDlg.element.querySelector(".e-mainfilterdiv")):(this.isRowResponsive=!1,this.isCustomDlgRender=!1,this.destroyCustomFilterDialog())}destroyCustomFilterDialog(){if(!this.customResponsiveDlg)return;const e=document.getElementById(this.customResponsiveDlg.element.id);this.customResponsiveDlg&&!this.customResponsiveDlg.isDestroyed&&e&&(this.customResponsiveDlg.destroy(),X(e)),this.closeCustomFilter(),this.action===Rn.isSort&&(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1)}closeCustomFilter(){if(!this.isDialogClose&&this.customFilterDlg){const e=document.getElementById(this.customFilterDlg.element.id);this.customFilterDlg&&!this.customFilterDlg.isDestroyed&&e&&(this.customFilterDlg.destroy(),X(e))}this.isCustomDialog=!1,this.isDialogClose=!1}removeCustomDlgFilterEle(e){if(e)e.parentElement.classList.contains("e-filtersetdiv")?X(e.parentElement):X(e);else{const t=this.customColumnDiv.children;for(let i=0;i<t.length;i++)(e=t[i].querySelector(".e-filtersetdiv"))&&(X(e),i--)}}keyHandler(e){13===e.keyCode&&(this.action===Rn.isFilter&&e.target.classList.contains("e-searchinput")||this.action===Rn.isEdit||this.action===Rn.isAdd)&&this.dialogHdrBtnClickHandler()}editComplate(e){("save"===e.requestType||"cancel"===e.requestType)&&this.parent.off(iR,this.keyHandler)}removeEventListener(){this.customColumnDiv&&C.remove(this.customColumnDiv,"click",this.customFilterColumnClickHandler),Co(this.parent,this.evtHandlers,!0,this),this.parent.removeEventListener(xi,this.onActionCompleteFn)}}class rPe{constructor(){this.services={}}register(e,t){h(this.services[e])&&(this.services[e]=t)}getService(e){if(h(this.services[e]))throw`The service ${e} is not registered`;return this.services[e]}registerAdaptiveService(e,t,i){t?(e.responsiveDialogRenderer=new VZ(e.parent,e.serviceLocator),e.responsiveDialogRenderer.action=i):e.responsiveDialogRenderer&&(e.responsiveDialogRenderer.removeEventListener(),e.responsiveDialogRenderer=void 0)}}class oPe{constructor(){this.rendererMap={}}addRenderer(e,t){const i=bs(Sr,e);h(this.rendererMap[i])&&(this.rendererMap[i]=t)}getRenderer(e){const t=bs(Sr,e);if(h(this.rendererMap[t]))throw`The renderer ${t} is not found`;return this.rendererMap[t]}}class NB{constructor(e){this.parent=e}setWidthToColumns(){let e=0;const t=this.parent.getColumnIndexesInView();let i=!0,n=0;if(this.parent.allowGrouping)for(let o=this.parent.groupSettings.columns.length;e<o;e++)this.parent.enableColumnVirtualization&&-1===t.indexOf(e)?i=!1:this.setColumnWidth(new Oc({width:"30px"}),e);(this.parent.detailTemplate||this.parent.childGrid)&&(this.setColumnWidth(new Oc({width:"30px"}),e),e++),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(this.setColumnWidth(new Oc({width:"30px"}),e),e++);const s=this.parent.getColumns();for(let o=0;o<s.length;o++)this.setColumnWidth(s[o],i&&this.parent.enableColumnVirtualization?void 0:o+e);this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&this.setColumnWidth(new Oc({width:"30px"}),s.length),n=this.getTableWidth(this.parent.getColumns()),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(n)}setMinwidthBycalculation(e){let t=0;const i=this.parent.getColumns().filter(n=>h(n.width)||"auto"===n.width);if(i.length){t=h(this.parent.width)||"auto"===this.parent.width||"string"!=typeof this.parent.width||-1!==this.parent.width.indexOf("%")?this.parent.element.getBoundingClientRect().width-e:("string"==typeof this.parent.width?parseInt(this.parent.width,10):this.parent.width)-e;let n=0;for(const s of i)n+=h(s.minWidth)?0:"string"==typeof s.minWidth?parseInt(s.minWidth,10):s.minWidth;for(let s=0;s<i.length;s++){0===e&&this.parent.allowResizing&&this.isWidthUndefined()&&s!==i.length-1&&this.setUndefinedColumnWidth(i);const o=this.parent.getColumnIndexByField(i[s].field)+this.parent.getIndentCount();0!==e&&t<n?this.setWidth(i[s].minWidth,o):0!==e&&t>n&&this.setWidth("",o,!0)}}}setUndefinedColumnWidth(e){for(let t=0;t<e.length;t++)t!==e.length-1&&(e[t].width=200,this.setWidth(200,this.parent.getColumnIndexByField(e[t].field)))}setColumnWidth(e,t,i){if(this.parent.getColumns().length<1)return;const n=h(t)?this.parent.getNormalizedColumnIndex(e.uid):t,s=this.getWidth(e),o=this.getTableWidth(this.parent.getColumns());null!==s&&(this.setWidth(s,n),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(o),(this.parent.allowResizing&&"resize"===i||this.parent.getFrozenColumns()&&this.parent.allowResizing)&&this.setWidthToTable(),this.parent.notify(d_,{index:n,width:s,column:e,module:i}))}setWidth(e,t,i){this.parent.groupSettings.columns.length>t&&XB(this.parent)&&(e=(30/this.parent.element.offsetWidth*100).toFixed(1)+"%");const n=this.parent.getHeaderTable(),s=this.parent.getContentTable(),o=$e(e);let l,a=this.parent.getFrozenColumns();const c=this.parent.isRowDragable();a=a&&c?a+1:a;const d=this.parent.getHeaderContent().querySelector("."+fn),u=this.parent.getContent().querySelector("."+gn),p=this.parent.getFrozenLeftColumnsCount(),g=this.parent.getFrozenRightColumnsCount(),f=this.parent.getMovableColumnsCount(),m=0!==p||0!==g;if(a&&t>=a){if(!d||!d.querySelector(si))return;l=d.querySelector(si).children[t-a]}else if(this.parent.enableColumnVirtualization&&a&&this.parent.contentModule.isXaxis()&&d.scrollLeft>0){const x=d.querySelector(si);l=x.children[x.children.length-1-t]}else if(m){let x;if(p&&!g)x=(t=c?t-1:t)<p?n:d;else if(!p&&g)x=t>=f?n:d;else if(p&&g){t=c?t-1:t;const w=this.parent.getFrozenRightHeader();x=t<p?n:t<p+f?d:w}if(l=this.getColumnLevelFrozenColgroup(t,p,f,x),!l)return}else l=n.querySelector(si).children[t];let v;if(l&&!i?l.style.width=o:l&&i&&(l.style.width=""),a&&t>=a)v=this.parent.getContent().querySelector("."+gn).querySelector(si).children[t-a];else if(this.parent.enableColumnVirtualization&&a&&this.parent.contentModule.isXaxis()&&u.scrollLeft>0){const x=this.parent.getContent().querySelector("."+gn).querySelector(si);v=x.children[x.children.length-1-t]}else if(m){let x;if(p&&!g&&(x=t<p?s:u),!p&&g&&(x=t>=f?s:u),p&&g){const w=this.parent.getContent().querySelector(".e-frozen-right-content");x=t<p?s:t<p+f?u:w}v=this.getColumnLevelFrozenColgroup(t,p,f,x)}else v=s.querySelector(si).children[t];if(v&&!i?v.style.width=o:v&&i&&(v.style.width=""),!this.parent.enableColumnVirtualization){const x=this.parent.element.querySelectorAll(".e-table.e-inline-edit"),w=[];for(let b=0;b<x.length;b++)if(Se(x[b],"e-grid").id===this.parent.element.id)for(let I=0;I<x[b].querySelector("colgroup").children.length;I++)w.push(x[b].querySelector("colgroup").children[I]);x.length&&w.length&&(w[t].style.width=o)}this.parent.isFrozenGrid()&&this.refreshFrozenScrollbar()}getColumnLevelFrozenColgroup(e,t,i,n){if(!n||!n.querySelector(si))return null;const s=this.parent.getColumns(),o=this.parent.isRowDragable(),l=this.parent.getFrozenMode();let a;const c=[].slice.call(n.querySelector(si).children);return a="Right"===l&&o&&e===i+this.parent.getFrozenRightColumnsCount()?c[c.length-1]:o&&-1===e?c[0]:"Left"===s[e].freeze?c[o?e+1:e]:"Right"===s[e].freeze?c[e-(t+i)]:c[e-t],a}refreshFrozenScrollbar(){const e={cancel:!1};if(this.parent.notify("prevent-frozen-scroll-refresh",e),e.cancel)return;const t=rm(),i=this.parent.element.querySelector(".e-frozenscrollbar"),n=this.parent.element.querySelector(".e-movablescrollbar"),s=this.parent.getContent().querySelector("."+md),o=this.parent.getContent().querySelector("."+gn);let l=s.firstElementChild.getBoundingClientRect().width,a=o.firstElementChild.getBoundingClientRect().width;if("Right"===this.parent.getFrozenMode()&&(l+=t),i.style.width=l+"px",this.parent.getFrozenMode()===Ot){const c=this.parent.element.querySelector(".e-frozen-right-scrollbar");let d=this.parent.getContent().querySelector(".e-frozen-right-content").firstElementChild.getBoundingClientRect().width;"auto"!==this.parent.height&&(d+=t),c.style.width=d+"px"}else{if(this.parent.enableColumnVirtualization){const c=this.parent.getMovableVirtualContent().querySelector(".e-virtualtrack");c&&(a=c.scrollWidth)}"Right"!==this.parent.getFrozenMode()&&"auto"!==this.parent.height&&(a+=t)}n.firstElementChild.style.width=a+"px"}getSiblingsHeight(e){return this.getHeightFromDirection(e,"previous")+this.getHeightFromDirection(e,"next")}getHeightFromDirection(e,t){let i=e[t+"ElementSibling"],n=0;const s=[Ir,X0,"e-groupdroparea","e-gridpager","e-toolbar"];for(;i;)s.some(o=>i.classList.contains(o))&&(n+=i.offsetHeight),i=i[t+"ElementSibling"];return n}isWidthUndefined(){const e=this.parent.getColumns().filter(t=>h(t.width)&&h(t.minWidth)).length;return this.parent.getColumns().length===e}getWidth(e){if(h(e.width)&&this.parent.allowResizing&&h(e.minWidth)&&!this.isWidthUndefined()&&(e.width=200),this.parent.isFrozenGrid()&&h(e.width)&&(e.getFreezeTableName()===Ns||e.getFreezeTableName()===Bn)&&(e.width=200),!e.width)return null;const t=parseInt(e.width.toString(),10);return e.minWidth&&t<parseInt(e.minWidth.toString(),10)?e.minWidth:e.maxWidth&&t>parseInt(e.maxWidth.toString(),10)?e.maxWidth:e.width}getTableWidth(e){let t=0;for(const i of e){let n=this.getWidth(i);"auto"===i.width&&(n=0),!1!==i.visible&&null!==n&&(t+=parseInt(n.toString(),10))}return t}calcMovableOrFreezeColWidth(e){const t=this.parent.getColumns().slice(),i=this.parent.getFrozenLeftColumnsCount()||this.parent.getFrozenColumns(),n=this.parent.getMovableColumnsCount(),s=this.parent.getFrozenRightColumnsCount();return"movable"===e?(s&&t.splice(i+n,t.length),i&&t.splice(0,i)):"freeze-left"===e?t.splice(i,t.length):"freeze-right"===e&&t.splice(0,i+n),$e(this.getTableWidth(t))}setWidthToFrozenRightTable(){let e=this.calcMovableOrFreezeColWidth("freeze-right");e=this.isAutoResize()?"100%":e;const t=this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector("."+kn),i=this.parent.getContent().querySelector(".e-frozen-right-content").querySelector("."+kn);t.style.width=e,i.style.width=e}setWidthToFrozenLeftTable(){let e=this.calcMovableOrFreezeColWidth("freeze-left");e=this.isAutoResize()?"100%":e,this.parent.getHeaderTable().style.width=e,this.parent.getContentTable().style.width=e}setWidthToMovableTable(){let e="";const t=this.parent.getColumns().filter(n=>h(n.width)).length>=1,i=this.parent.getColumns().filter(n=>"auto"===n.width).length>=1;"number"!=typeof this.parent.width||t||i?!t&&!i&&(e=this.calcMovableOrFreezeColWidth("movable")):e=$e(this.parent.width-parseInt(this.calcMovableOrFreezeColWidth("freeze").split("px")[0],10)-5),e=this.isAutoResize()?"100%":e,this.parent.getHeaderContent().querySelector("."+fn).firstElementChild&&(this.parent.getHeaderContent().querySelector("."+fn).firstElementChild.style.width=e),this.parent.getContent().querySelector("."+gn).firstElementChild.style.width=e}setWidthToFrozenEditTable(){let e=this.calcMovableOrFreezeColWidth("freeze");e=this.isAutoResize()?"100%":e,this.parent.element.querySelectorAll(".e-table.e-inline-edit")[0].style.width=e}setWidthToMovableEditTable(){let e=this.calcMovableOrFreezeColWidth("movable");e=this.isAutoResize()?"100%":e,this.parent.element.querySelectorAll(".e-table.e-inline-edit")[1].style.width=e}setWidthToTable(){let e=$e(this.getTableWidth(this.parent.getColumns()));this.parent.isFrozenGrid()?((this.parent.getFrozenColumns()||this.parent.getFrozenLeftColumnsCount())&&this.setWidthToFrozenLeftTable(),this.setWidthToMovableTable(),this.parent.getFrozenRightColumnsCount()&&this.setWidthToFrozenRightTable()):((this.parent.detailTemplate||this.parent.childGrid)&&this.setColumnWidth(new Oc({width:"30px"})),e=this.isAutoResize()?"100%":e,this.parent.getHeaderTable().style.width=e,this.parent.getContentTable().style.width=e);const t=this.parent.element.querySelector(".e-table.e-inline-edit");t&&this.parent.getFrozenColumns()?(this.setWidthToFrozenEditTable(),this.setWidthToMovableEditTable()):t&&(t.style.width=e)}isAutoResize(){return this.parent.allowResizing&&"Auto"===this.parent.resizeSettings.mode}}class lPe{constructor(e){this.currentInfo={},this.oneTime=!0,this.swap={},this.isInfiniteScroll=!1,this.forget=!1,this.skipFocus=!0,this.focusByClick=!1,this.prevIndexes={},this.refMatrix=this.refreshMatrix(!0),this.actions=["downArrow","upArrow"],this.isVirtualScroll=!1,this.parent=e,this.rowModelGen=new Vh(this.parent),this.addEventListener()}focusCheck(e){const t=e.target;this.focusByClick=!0,this.skipFocus=t.classList.contains("e-grid")}onFocus(e){if(this.parent.isDestroyed||A.isDevice||this.parent.enableVirtualization)return;this.setActive(!this.parent.enableHeaderFocus&&0===this.parent.frozenRows,this.parent.isFrozenGrid()),!this.parent.enableHeaderFocus&&!this.parent.getCurrentViewRecords().length&&("Batch"!==this.parent.editSettings.mode||"Batch"===this.parent.editSettings.mode&&!this.parent.editModule.getBatchChanges()[Bu].length)&&this.getContent().matrix.generate(this.rowModelGen.generateRows({rows:[new Qd({isDataRow:!0})]}),this.getContent().selector,!1);const t=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(t[0],t[1]),this.skipFocus&&(this.focus(e),this.skipFocus=!1)}passiveFocus(e){this.parent.isDestroyed||e.target&&e.target.classList.contains("e-detailcell")&&(this.currentInfo.skipAction=!1,_([this.currentInfo.element],["e-focused","e-focus"]))}onBlur(e){(this.parent.isEdit||e&&(!e.relatedTarget||D(e.relatedTarget,".e-grid")))&&(!h(e.relatedTarget)||0!==parseInt(e.target.getAttribute("aria-colindex"),10)||0!==parseInt(e.target.getAttribute("index"),10))||(this.removeFocus(),this.skipFocus=!0,this.currentInfo.skipAction=!1,this.parent.element.tabIndex=0)}onClick(e,t){if(Se(e.target,"e-filterbarcell")&&(Se(e.target,"e-multiselect")||e.target.classList.contains("e-input-group-icon")))return;let i=!h(D(e.target,"."+ur));const n=!h(D(e.target,"."+Ir));i=i&&n?!i:i;let s=!h(D(e.target,"."+md))||!h(D(e.target,"."+Nh)),o=!1;if(this.parent.getFrozenMode()===Ot&&(o=!h(D(e.target,".e-frozen-right-content"))||!h(D(e.target,".e-frozen-right-header")),s=s&&!o),!i&&h(D(e.target,"."+Ir))||e.target.classList.contains(Bs)||!h(D(e.target,".e-unboundcell")))return;if(this.setActive(i,s,o),!i&&h(D(e.target,"."+Ir)))return void this.clearOutline();const l={cancel:!1,byKey:!1,byClick:!h(e.target),clickArgs:e};if(this.parent.notify(nC,l),!l.cancel&&!D(e.target,".e-inline-edit")&&(this.setActive(i,s,o),this.getContent())){if(!1===this.getContent().onClick(e,t))return;this.focus()}}onKeyPress(e){if(this.parent.allowPaging){if(this.parent.pagerModule.pagerObj.checkPagerHasFocus())return void this.parent.pagerModule.pagerObj.changePagerFocus(e);if(0===this.parent.pagerModule.pagerObj.element.tabIndex&&(38===e.keyCode||e.shiftKey&&9===e.keyCode))return e.preventDefault(),void this.getFocusedElement().focus();if(0===this.parent.pagerModule.pagerObj.element.tabIndex&&9===e.keyCode)return e.preventDefault(),void this.parent.pagerModule.pagerObj.setPagerFocus();if(this.parent.pagerModule.pagerObj.checkFirstPagerFocus()){const o=this.getContent().matrix.rows,l=this.getContent().matrix.columns;this.getContent().matrix.current=[o,l]}}if(this.skipOn(e))return;this.activeKey=e.action;const t={cancel:!1,byKey:!0,byClick:!1,keyArgs:e};if(this.parent.notify(nC,t),t.cancel)return;const i=this.getContent().matrix.current;this.currentInfo.outline=!0;const n=this.getContent().jump(e.action,i);if(this.swap=n,n.swap&&(this.setActive(!n.toHeader,n.toFrozen,n.toFrozenRight),this.getContent().matrix.current=this.getContent().getNextCurrent(i,n,this.active,e.action),this.prevIndexes={}),this.setActiveByKey(e.action,this.getContent()),!1===(!this.content.lastIdxCell&&this.getContent().onKeyPress(e)))return this.clearIndicator(),"shiftTab"===e.action&&i.toString()===[0,0].toString()&&(this.parent.element.tabIndex=-1),void(this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.allowToPaging(e)&&i.toString()!==[0,0].toString()&&(e.preventDefault(),40===e.keyCode?this.parent.pagerModule.pagerObj.setPagerContainerFocus():9===e.keyCode&&this.parent.pagerModule.pagerObj.setPagerFocus()));e.preventDefault(),this.focus(e)}allowToPaging(e){return!("Batch"===this.parent.editSettings.mode&&this.parent.editSettings.allowAdding&&40!==e.keyCode)}skipOn(e){const t=e.target;if(!t)return!1;if(this.currentInfo.skipAction)return this.clearIndicator(),!0;if(["pageUp","pageDown","altDownArrow"].indexOf(e.action)>-1)return this.clearIndicator(),!0;const i=D(t,"th")&&!D(t,"th").tabIndex;e.target.classList.contains("e-filterbaroperator")&&(13===e.keyCode||27===e.keyCode)&&D(e.target,".e-filterbarcell").querySelector("input").focus(),i&&null!==D(document.activeElement,".e-filterbarcell")&&this.removeFocus();let n=null!==D(document.activeElement,".e-filterbarcell");if(this.parent.enableHeaderFocus&&n){const s=this.active.matrix,o=s.current;n=s.matrix[o[0]].lastIndexOf(1)!==o[1]}return"delete"===e.action||"Batch"!==this.parent.editSettings.mode&&(this.parent.isEdit||["insert","f2"].indexOf(e.action)>-1)||n||null!==D(document.activeElement,"#"+this.parent.element.id+"_searchbar")&&["enter","leftArrow","rightArrow","shiftLeft","shiftRight","ctrlPlusA"].indexOf(e.action)>-1||null===D(t,"."+ur)&&null===D(t,"."+Ir)||"space"===e.action&&!t.classList.contains(J0)&&null===D(t,"."+J0)&&null===D(t,".e-headerchkcelldiv")||null!==D(t,".e-filter-popup")}focusVirtualElement(e){if(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling){const t={virtualData:{},isAdd:!1,isCancel:!1};this.parent.notify("get-virtual-data",t);const i=this.actions.some(s=>s===this.activeKey),n=!!this.parent.contentModule&&this.parent.contentModule.selectedRowIndex>-1;t.isAdd||Object.keys(t.virtualData).length||i||t.isCancel||n?(this.parent.notify("reset-virtual-focus",{isCancel:!1}),t.isCancel=!1,this.parent.contentModule.selectedRowIndex=-1,i&&(this.activeKey=this.empty,this.parent.notify("virtaul-key-handler",e)),this.currentInfo.elementToFocus.focus({preventScroll:!0})):this.isVirtualScroll||this.isInfiniteScroll?this.currentInfo.elementToFocus.focus({preventScroll:!0}):this.currentInfo.elementToFocus.focus()}this.isVirtualScroll=this.isInfiniteScroll=!1}getFocusedElement(){return this.currentInfo.elementToFocus}getContent(){return this.active||this.content}setActive(e,t,i){this.active=e?t?this.fContent:i?this.frContent:this.content:t?this.fHeader:i?this.frHeader:this.header}setFocusedElement(e,t){this.currentInfo.elementToFocus=e,setTimeout(()=>{h(this.currentInfo.elementToFocus)||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling?this.focusVirtualElement(t):this.currentInfo.elementToFocus.focus())},0)}focus(e){this.parent.notify("virtaul-cell-focus",e),this.removeFocus(),this.addFocus(this.getContent().getFocusInfo(),e)}removeFocus(e){!this.currentInfo.element||(T([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focused","e-focus"]),this.currentInfo.element.tabIndex=-1)}addOutline(){const e=this.getContent().getFocusInfo();e.element&&(_([e.element],["e-focused"]),_([e.elementToFocus],["e-focus"]))}focusHeader(){this.setActive(!1,this.parent.isFrozenGrid()),this.resetFocus()}focusContent(){this.setActive(!0,this.parent.isFrozenGrid()),this.resetFocus()}resetFocus(){const e=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(e[0],e[1]),this.focus()}addFocus(e,t){if(this.currentInfo=e,this.currentInfo.outline=e.outline&&!h(t),this.isInfiniteScroll&&(this.currentInfo.outline=!0),!e.element)return;const i=e.elementToFocus.classList.contains("e-focus");if(i)return;this.currentInfo.outline&&_([e.element],["e-focused"]),_([e.elementToFocus],["e-focus"]),e.element.tabIndex=0,i||this.setFocusedElement(e.elementToFocus,t),this.parent.notify(zT,{element:e.elementToFocus,parent:e.element,indexes:this.getContent().matrix.current,byKey:!h(t),byClick:h(t),keyArgs:t,isJump:this.swap.swap,container:this.getContent().getInfo(t),outline:!h(t),swapInfo:this.swap});const[n,s]=this.getContent().matrix.current;this.prevIndexes={rowIndex:n,cellIndex:s},this.focusedColumnUid=this.parent.getColumnByIndex(s).uid,this.focusByClick=!1}refreshMatrix(e){return t=>{e&&t.args&&t.args.isFrozen&&!this.fContent?this.fContent=new cPe(this.parent):e&&!this.frContent&&t.args&&t.args.renderFrozenRightContent?this.frContent=new hPe(this.parent):e&&!this.content&&(this.content=new dR(this.parent)),!e&&t.args&&t.args.isFrozen&&!this.fHeader?this.fHeader=new dPe(this.parent):!e&&t.args&&t.args.renderFrozenRightContent&&!this.frHeader?this.frHeader=new uPe(this.parent):!e&&!this.header&&(this.header=new VB(this.parent));const i=e?t.args&&t.args.isFrozen?this.fContent:t.args&&t.args.renderFrozenRightContent?this.frContent:this.content:t.args&&t.args.isFrozen?this.fHeader:t.args&&t.args.renderFrozenRightContent?this.frHeader:this.header;let n=e?t.rows.slice(this.parent.frozenRows):t.rows;const s=e?t.rows.slice(0,this.parent.frozenRows):t.rows;this.parent.isCollapseStateEnabled()&&e&&(n=n.filter(a=>!1!==a.visible));const o=!h(this.parent.rowTemplate),l=i.matrix.generate(s,i.selector,o);if("batchAdd"===t.name&&this.parent.isFrozenGrid()){const c=this.parent.getMovableRowsObject().map(u=>u.clone()),d=n.map(u=>u.clone());if(this.fContent.matrix.generate(d,this.fContent.selector,o),this.content.matrix.generate(c,this.content.selector,o),this.parent.getFrozenMode()===Ot){const p=this.parent.getFrozenRightRowsObject().map(g=>g.clone());this.frContent.matrix.generate(p,this.frContent.selector,o)}}else i.matrix.generate(n,i.selector,o);if(i.generateRows(s,{matrix:l,handlerInstance:t.args&&t.args.isFrozen?this.fHeader:t.args&&t.args.renderFrozenRightContent?this.frHeader:this.header}),!A.isDevice&&t&&t.args&&(!this.focusByClick&&"paging"===t.args.requestType&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&(this.skipFocus=!1,this.parent.element.focus()),"grouping"===t.args.requestType&&(this.skipFocus=!0)),t&&t.args&&"virtualscroll"===t.args.requestType)if(this.currentInfo.uid){let a;if(t.rows.some((d,u)=>(a=u,d.uid===this.currentInfo.uid))){this.content.matrix.current[0]=a,this.content.matrix.current[1]=this.parent.getColumnIndexByUid(this.focusedColumnUid)||0;const d=this.getContent().getFocusInfo().elementToFocus;if(d){const u=d.getBoundingClientRect(),p=this.parent.element.getBoundingClientRect();u.top>=0&&u.left>=0&&u.right<=Math.min(p.right,window.innerWidth||document.documentElement.clientWidth)&&u.bottom<=Math.min(p.bottom,window.innerHeight||document.documentElement.clientHeight)&&(this.isVirtualScroll=!0,this.focus())}}}else if(t.args.focusElement&&t.args.focusElement.classList.contains("e-filtertext")){const a=this.parent.element.querySelector("#"+t.args.focusElement.id);a&&a.focus()}}}addEventListener(){this.parent.isDestroyed||(C.add(this.parent.element,"mousedown",this.focusCheck,this),C.add(this.parent.element,"focus",this.onFocus,this),this.parent.element.addEventListener("focus",this.passiveHandler=e=>this.passiveFocus(e),!0),C.add(this.parent.element,"focusout",this.onBlur,this),this.evtHandlers=[{event:hr,handler:this.onKeyPress},{event:Ml,handler:this.onClick},{event:Ds,handler:this.refMatrix},{event:v_,handler:this.refMatrix},{event:"refresh-Expand-and-Collapse",handler:this.refMatrix},{event:so,handler:this.refreshMatrix()},{event:"close-edit",handler:this.restoreFocus},{event:"restore-Focus",handler:this.restoreFocus},{event:"start-edit",handler:this.clearIndicator},{event:"start-add",handler:this.clearIndicator},{event:"sorting-complete",handler:this.restoreFocus},{event:"filtering-complete",handler:this.filterfocus},{event:"grouping-complete",handler:this.restoreFocusWithAction},{event:"ungrouping-complete",handler:this.restoreFocusWithAction},{event:"batchAdd",handler:this.refMatrix},{event:"batchCancel",handler:this.refMatrix},{event:"batchDelete",handler:this.refMatrix},{event:"detailDataBound",handler:this.refMatrix},{event:Bh,handler:this.refMatrix},{event:zT,handler:this.internalCellFocus}],Co(this.parent,this.evtHandlers,!0,this))}filterfocus(){"FilterBar"!==this.parent.filterSettings.type&&this.restoreFocus()}removeEventListener(){this.parent.isDestroyed||(C.remove(this.parent.element,"mousedown",this.focusCheck),C.remove(this.parent.element,"focus",this.onFocus),C.remove(this.parent.element,"focusout",this.onBlur),this.parent.element.removeEventListener("focus",this.passiveHandler,!0),Co(this.parent,this.evtHandlers,!1))}destroy(){this.removeEventListener()}restoreFocus(){this.addFocus(this.getContent().getFocusInfo())}restoreFocusWithAction(e){if(!this.parent.enableInfiniteScrolling){const t=this.getContent().matrix,i=t.current;switch(e.requestType){case"grouping":case"ungrouping":i[1]=!i.length||this.parent.groupSettings.showGroupedColumn||h(t.matrix[i[0]])?"grouping"===e.requestType?i[1]+1:i[1]-1:t.matrix[i[0]].indexOf(1)}this.getContent().matrix.current=i,this.addFocus(this.getContent().getFocusInfo())}}clearOutline(){this.getContent().matrix.current=this.getContent().matrix.get(0,-1,[0,1],"downArrow",this.getContent().validator()),this.clearIndicator()}clearIndicator(){!this.currentInfo.element||!this.currentInfo.elementToFocus||T([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focus","e-focused"])}getPrevIndexes(){const e=this.forget;return this.forget=!1,e||!Object.keys(this.prevIndexes).length?{rowIndex:null,cellIndex:null}:this.prevIndexes}forgetPrevious(){this.forget=!0}setActiveByKey(e,t){if(!this.parent.isFrozenGrid()&&0===this.parent.frozenRows)return;let i;const n={home:()=>({toHeader:!i.isContent,toFrozen:!0}),end:()=>({toHeader:!i.isContent,toFrozen:!1}),ctrlHome:()=>({toHeader:!0,toFrozen:this.parent.isFrozenGrid()}),ctrlEnd:()=>({toHeader:!1,toFrozen:!1})};if(!(e in n))return;i=t.getInfo();const s=n[e]();this.setActive(!s.toHeader,s.toFrozen),this.getContent().matrix.current=t.matrix.current}internalCellFocus(e){if(!(e.byKey&&e.container.isContent&&"enter"===e.keyArgs.action&&(e.parent.classList.contains("e-detailcell")||e.parent.classList.contains("e-unboundcell")||e.parent.classList.contains("e-templatecell"))))return;this.clearIndicator();const t=this.getContent().getFocusable(this.getFocusedElement());this.setFocusedElement(t),this.currentInfo.skipAction=!0}}class aPe{constructor(){this.matrix=[],this.current=[]}set(e,t,i){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.columns)),this.matrix[e]=this.matrix[e]||[],this.matrix[e][t]=i?1:0}get(e,t,i,n,s){const o=t;if(e+i[0]<0)return[e,t];e=Math.max(0,Math.min(e+i[0],this.rows));let l=!0;if(h(this.matrix[e]))return null;if(t=Math.max(0,Math.min(t+i[1],this.matrix[e].length-1)),o+i[1]>this.matrix[e].length-1&&s(e,t,n))return[e,o];const a=this.first(this.matrix[e],t,i,!0,n),c=M(`${e}.${t=null===a?o:a}`,this.matrix);if(e===this.rows&&("downArrow"===n||"enter"===n)&&(i[0]=-1),null===a){for(let d=0;d<this.rows;d++)if(this.matrix[d].some(u=>1===u)){l=!1;break}if(l)return[e=this.current[0],t]}return this.inValid(c)||!s(e,t,n)?this.get(e,o,i,n,s):[e,t]}first(e,t,i,n,s){return(t<0||t===e.length)&&this.inValid(e[t])&&"upArrow"!==s&&"downArrow"!==s||!e.some(o=>1===o)?null:this.inValid(e[t])?this.first(e,-1!==["upArrow","downArrow","shiftUp","shiftDown"].indexOf(s)?n?0:++t:t+i[1],i,!1,s):t}select(e,t){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.matrix[e].length-1)),this.current=[e,t]}generate(e,t,i){this.rows=e.length-1,this.matrix=[];for(let n=0;n<e.length;n++){const s=e[n].cells.filter(o=>!0!==o.isSpanned);this.columns=Math.max(s.length-1,0|this.columns);for(let o=0;o<s.length;o++)this.set(n,o,!1!==e[n].visible&&t(e[n],s[o],i))}return this.matrix}inValid(e){return 0===e||void 0===e}}class dR{constructor(e){this.matrix=new aPe,this.lastIdxCell=!1,this.parent=e,this.keyActions={rightArrow:[0,1],tab:[0,1],leftArrow:[0,-1],shiftTab:[0,-1],upArrow:[-1,0],downArrow:[1,0],shiftUp:[-1,0],shiftDown:[1,0],shiftRight:[0,1],shiftLeft:[0,-1],enter:[1,0],shiftEnter:[-1,0]},this.indexesByKey=t=>({home:[this.matrix.current[0],-1,0,1],end:[this.matrix.current[0],this.matrix.columns+1,0,-1],ctrlHome:[0,-1,0,1],ctrlEnd:[this.matrix.rows,this.matrix.columns+1,0,-1]}[t]||null)}getTable(){return this.parent.isFrozenGrid()?this.parent.getContent().querySelector(".e-movablecontent .e-table"):this.parent.getContentTable()}onKeyPress(e){let i=this.getCurrentFromAction(e.action,this.keyActions[e.action],e.action in this.keyActions,e);if(i){if((["tab","shiftTab"].indexOf(e.action)>-1&&this.matrix.current||[]).toString()===i.toString()||this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.matrix.current[0]===this.matrix.rows&&("Batch"===this.parent.editSettings.mode&&this.parent.editSettings.allowAdding&&40===e.keyCode||40===e.keyCode)){if(i.toString()===[this.matrix.rows,this.matrix.columns].toString()||i.toString()===[0,0].toString()||this.matrix.current[0]===this.matrix.rows&&this.matrix.current.toString()===i.toString())return!1;i=this.editNextRow(i[0],i[1],e.action)}this.matrix.select(i[0],i[1])}}editNextRow(e,t,i){const n=this.parent,s=n.editSettings.allowNextRowEdit&&(n.isEdit||n.isLastCellPrimaryKey),o=n.getColumnIndexByField(n.getVisibleColumns()[0].field),l=this.getTable().rows[e].cells[t];return"tab"===i&&s&&(e++,t=o+(this.getTable().rows[e].getElementsByClassName("e-indentcell").length+this.getTable().rows[e].getElementsByClassName("e-detailrowcollapse").length)),"shiftTab"===i&&s&&(e--,t=n.getColumnIndexByField(n.getVisibleColumns()[n.getVisibleColumns().length-1].field)),l.classList.contains(Di)||l.classList.contains("e-headercell")||l.classList.contains("e-groupcaption")?[e,t]:this.editNextRow(e,t,i)}getCurrentFromAction(e,t=[0,0],i,n){if(!i&&!this.indexesByKey(e)||0===this.matrix.current.length)return null;if(!this.shouldFocusChange(n))return this.matrix.current;const[s,o,l,a]=this.indexesByKey(e)||[...this.matrix.current,...t];return this.matrix.get(s,o,[l,a],e,this.validator())}onClick(e,t){let i=e.target;if(this.target=i,i=i.classList.contains(Di)?i:D(i,"td"),i=i||D(e.target,"td.e-detailrowcollapse")||D(e.target,"td.e-detailrowexpand"),i=D(e.target,"td.e-detailcell")&&h(D(D(e.target,".e-grid"),"td.e-detailcell"))?null:i,i=i&&D(i,"table").classList.contains(kn)?i:null,!i)return!1;const[n,s]=[i.parentElement.rowIndex,i.cellIndex],[o,l]=this.matrix.current,a=M(`${n}.${s}`,this.matrix.matrix);if(this.matrix.inValid(a)||!t&&o===n&&l===s||!Se(e.target,Di)&&!Se(e.target,"e-groupcaption"))return!1;this.matrix.select(n,s)}getFocusInfo(){const e={},[t=0,i=0]=this.matrix.current;return this.matrix.current=[t,i],e.element=h(this.getTable().rows[t])?null:this.getTable().rows[t].cells[i],e.element&&(e.elementToFocus=e.element.classList.contains("e-unboundcell")||e.element.classList.contains("e-detailcell")?e.element:this.getFocusable(e.element),e.outline=!0,e.uid=e.element.parentElement.getAttribute("data-uid")),e}getFocusable(e){let t='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';const i=!h(D(e,".e-templatecell"));this.parent.isEdit&&(t='input:not([type="hidden"]), select:not([aria-hidden="true"]), textarea');const n=[].slice.call(e.querySelectorAll(t));return n.length?i&&n.length>1?this.target:n[0]:e}selector(e,t,i){const n=[St.Expand,St.GroupCaption,St.CaptionSummary,St.GroupSummary];return(e.isDataRow&&t.visible&&(t.isDataCell||t.isTemplate)||e.isDataRow&&t.cellType===St.DetailExpand&&h(t.visible)||!e.isDataRow&&n.indexOf(t.cellType)>-1||t.column&&t.visible&&"checkbox"===t.column.type||t.cellType===St.CommandColumn||e.isDataRow&&i)&&!("delete"===e.edit&&e.isDirty)}nextRowFocusValidate(e){const t=e;for(let i=e,n=this.matrix.rows;i<=n;i++){if(-1!==this.matrix.matrix[e].indexOf(1))return e;e+=1}return this.lastIdxCell=!0,t}previousRowFocusValidate(e){const t=e;for(let i=e,n=0;i>=n;i--){if(-1!==this.matrix.matrix[e].indexOf(1))return e;if((e-=1)<0)return this.lastIdxCell=!0,t}return t}jump(e,t){let i=this.parent.getFrozenLeftCount()&&("leftArrow"===e||"shiftTab"===e)&&0===t[1];const n=("rightArrow"===e||"tab"===e)&&t[1]===this.matrix.columns,s=this.parent.getFrozenMode()===Ot&&n;"Right"===this.parent.getFrozenMode()&&(i=n),this.lastIdxCell=!1;const o=0!==this.parent.frozenRows&&"shiftEnter"===e;"tab"===e&&!this.parent.isEdit&&t[1]===this.matrix.matrix[t[0]].lastIndexOf(1)&&this.matrix.matrix.length-1!==t[0]&&(this.matrix.current[0]=this.nextRowFocusValidate(this.matrix.current[0]+1),this.matrix.current[1]=-1,i=this.parent.isFrozenGrid()),"shiftTab"===e&&!this.parent.isEdit&&0!==t[0]&&this.matrix.matrix[t[0]].indexOf(1)===t[1]&&(this.matrix.current[0]=this.previousRowFocusValidate(this.matrix.current[0]-1),this.matrix.current[1]=this.matrix.matrix[t[0]].length);let l=!1;const a=document.activeElement.parentElement;return(this.parent.enableVirtualization||this.parent.infiniteScrollSettings.enableCache)&&a.classList.contains(Bi)&&(l=parseInt(a.getAttribute(ei),10)>0),{swap:!l&&(("upArrow"===e||o)&&0===t[0]||i||s),toHeader:("upArrow"===e||o)&&0===t[0],toFrozen:i,toFrozenRight:s}}getNextCurrent(e=[],t,i,n){const s=[];return"Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===Ot?(("leftArrow"===n||"shiftTab"===n)&&(s[0]=e[0],s[1]=i.matrix.columns+1),this.parent.getFrozenMode()===Ot&&("rightArrow"===n||"tab"===n)&&(s[0]=e[0],s[1]=-1)):("rightArrow"===n||"tab"===n)&&(s[0]=e[0],s[1]=-1),("downArrow"===n||"enter"===n)&&(s[0]=-1,s[1]=e[1]),s}generateRows(e,t){const{matrix:i,handlerInstance:n}=t,s=n.matrix.matrix.length,o=this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type?s+1:s;n.matrix.matrix=n.matrix.matrix.slice(0,o),n.matrix.rows=o,n.matrix.matrix.push(...i),n.matrix.rows+=i.length}getInfo(e){const t=this.getFocusInfo(),[i,n]=this.matrix.current,s=t.element.classList.contains(Di),o=s||e&&"enter"!==e.action&&(t.element.classList.contains("e-detailrowcollapse")||t.element.classList.contains("e-detailrowexpand")),[l,a]=[Math.min(parseInt(t.element.parentElement.getAttribute(ei),10),i),Math.min(parseInt(t.element.getAttribute(Dr),10),n)];return{isContent:!0,isDataCell:s,indexes:[l,a],isSelectable:o}}validator(){const e=this.getTable();return(t,i,n)=>{if(!h(e.rows[t])){let s;i=e.querySelector(".e-emptyrow")?0:i,s=e.rows[t].cells[0].classList.contains("e-editcell")?e.rows[t].cells[0].querySelectorAll("td")[i]:e.rows[t].cells[i];const o=0!==s.getBoundingClientRect().width;if("enter"===n||"shiftEnter"===n)return o&&s.classList.contains(Di);if(("shiftUp"===n||"shiftDown"===n)&&s.classList.contains(Di))return o;if("shiftUp"!==n&&"shiftDown"!==n)return o}return!1}}shouldFocusChange(e){const[t=-1,i=-1]=this.matrix.current;if(t<0||i<0)return!0;const n=M(`${t}.cells.${i}`,this.getTable().rows);return!n||"enter"!==e.action&&"shiftEnter"!==e.action||n.classList.contains(Di)&&!n.classList.contains("e-unboundcell")&&(!n.classList.contains("e-templatecell")||n.classList.contains("e-editedbatchcell"))&&!n.classList.contains("e-detailcell")}getGridSeletion(){return this.parent.allowSelection&&this.parent.selectionSettings.allowColumnSelection}}class VB extends dR{constructor(e){super(e)}getTable(){return this.parent.isFrozenGrid()?this.parent.getHeaderContent().querySelector(".e-movableheader .e-table"):this.parent.getHeaderTable()}onClick(e){let t=e.target;if(this.target=t,t=t.classList.contains("e-headercell")?t:D(t,"th"),!t&&0!==this.parent.frozenRows&&(t=e.target.classList.contains(Di)?e.target:D(e.target,"td")),e.target.classList.contains("e-columnheader")||e.target.querySelector(".e-stackedheadercell"))return!1;if(!t)return;const[i,n]=[t.parentElement.rowIndex,t.cellIndex],s=M(`${i}.${n}`,this.matrix.matrix);if(this.matrix.inValid(s))return!1;this.matrix.select(t.parentElement.rowIndex,t.cellIndex)}getFocusInfo(){const e={},[t=0,i=0]=this.matrix.current;return e.element=this.getTable().rows[t].cells[i],h(e.element)||(e.elementToFocus=this.getFocusable(e.element),e.outline=!e.element.classList.contains("e-filterbarcell")),e}selector(e,t){return t.visible&&(void 0!==t.column.field||t.isTemplate||!h(t.column.template))||"checkbox"===t.column.type||t.cellType===St.StackedHeader}jump(e,t){let i=this.parent.getFrozenLeftCount()&&("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1];const n=("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns,s=this.parent.getFrozenMode()===Ot&&n;"Right"===this.parent.getFrozenMode()&&(i=n);const o=0!==this.parent.frozenRows&&"enter"===e;let l,a,c=i||s;const d=this.parent.focusModule.fHeader&&this.parent.focusModule.fHeader.matrix.matrix,u=d&&!h(d[t[0]]);return this.parent.enableHeaderFocus&&"tab"===e&&(a=this.matrix.matrix.length-1===t[0],l=t[1]===this.matrix.matrix[t[0]].lastIndexOf(1),l&&(this.matrix.current[0]=a?0:this.matrix.current[0]+1,this.matrix.current[1]=-1),this.parent.isFrozenGrid()&&a&&l&&(i=!0,c=!1)),{swap:("downArrow"===e||o)&&t[0]===this.matrix.matrix.length-1||u&&(i||s)||"tab"===e&&a&&l,toHeader:c,toFrozen:i,toFrozenRight:s}}getNextCurrent(e=[],t,i,n){const s=[];return"Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===Ot?(("leftArrow"===n||"shiftLeft"===n&&this.getGridSeletion()||"shiftTab"===n)&&(s[0]=e[0],s[1]=i.matrix.columns+1),this.parent.getFrozenMode()===Ot&&("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(s[0]=e[0],s[1]=-1)):("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(s[0]=e[0],s[1]=-1),("upArrow"===n||"shiftEnter"===n)&&(s[0]=this.matrix.matrix.length,s[1]=e[1]),s}generateRows(e){const t=this.matrix.matrix.length;if(this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type){this.matrix.rows=++this.matrix.rows;const i=e[0].cells;for(let n=0;n<i.length;n++)this.matrix.set(t,n,i[n].visible&&!1!==i[n].column.allowFiltering)}}getInfo(e){return O(super.getInfo(e),{isContent:!1,isHeader:!0})}validator(){return()=>!0}shouldFocusChange(e){const[t,i]=this.matrix.current;if(t<0||i<0)return!0;const n=M(`${t}.cells.${i}`,this.getTable().rows);return!n||"enter"!==e.action&&"altDownArrow"!==e.action||!n.classList.contains("e-headercell")}}class cPe extends dR{getTable(){return this.parent.getContent().querySelector(".e-frozencontent .e-table")}jump(e,t){const n=("upArrow"===e||0!==this.parent.frozenRows&&"shiftEnter"===e)&&0===t[0];return"Right"===this.parent.getFrozenMode()?{swap:n||("shiftTab"===e||"leftArrow"===e)&&0===t[1],toHeader:n,toFrozen:n}:{swap:n||("tab"===e||"rightArrow"===e)&&t[1]===this.matrix.columns,toHeader:n,toFrozen:n}}getNextCurrent(e=[],t,i,n){const s=[];return"Right"===this.parent.getFrozenMode()?("rightArrow"===n||"tab"===n)&&(s[0]=e[0],s[1]=-1):("tab"===n&&this.parent.enableHeaderFocus&&(s[0]=e[0],s[1]=-1),("leftArrow"===n||"shiftTab"===n)&&(s[0]=e[0],s[1]=i.matrix.columns+1)),("downArrow"===n||"enter"===n)&&(s[0]=-1,s[1]=e[1]),s}}class dPe extends VB{jump(e,t){const i=0!==this.parent.frozenRows&&"enter"===e,n=this.parent.focusModule.header&&this.parent.focusModule.header.matrix.matrix,s=n&&!h(n[t[0]]);if("Right"===this.parent.getFrozenMode()){const o=("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1];return{swap:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1||s&&o,toHeader:o,toFrozen:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1}}return{swap:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1||("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns&&s,toHeader:("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns,toFrozen:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1}}getTable(){return this.parent.getHeaderContent().querySelector(".e-frozenheader .e-table")}getNextCurrent(e=[],t,i,n){const s=[];return"Right"===this.parent.getFrozenMode()?("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(s[0]=e[0],s[1]=-1):("leftArrow"===n||"shiftLeft"===n&&this.getGridSeletion()||"shiftTab"===n)&&(s[0]=e[0],s[1]=i.matrix.columns+1),("upArrow"===n||"shiftEnter"===n)&&(s[0]=this.matrix.matrix.length,s[1]=e[1]),s}}class hPe extends dR{getTable(){return this.parent.getContent().querySelector(".e-frozen-right-content .e-table")}jump(e,t){const n=("upArrow"===e||0!==this.parent.frozenRows&&"shiftEnter"===e)&&0===t[0];return{swap:n||("shiftTab"===e||"leftArrow"===e)&&0===t[1],toHeader:n,toFrozenRight:n}}getNextCurrent(e=[],t,i,n){const s=[];return("rightArrow"===n||"tab"===n)&&(s[0]=e[0],s[1]=-1),("downArrow"===n||"enter"===n)&&(s[0]=-1,s[1]=e[1]),s}}class uPe extends VB{jump(e,t){const i=this.parent.focusModule.header&&this.parent.focusModule.header.matrix.matrix,n=i&&!h(i[t[0]]),s=0!==this.parent.frozenRows&&"enter"===e,o=("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1];return{swap:("downArrow"===e||s)&&t[0]===this.matrix.matrix.length-1||n&&o,toHeader:o,toFrozenRight:("downArrow"===e||s)&&t[0]===this.matrix.matrix.length-1}}getTable(){return this.parent.getHeaderContent().querySelector(".e-frozen-right-header .e-table")}getNextCurrent(e=[],t,i,n){const s=[];return("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(s[0]=e[0],s[1]=0),("upArrow"===n||"shiftEnter"===n)&&(s[0]=this.matrix.matrix.length,s[1]=e[1]),s}}var tv=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class nm extends Nt{}tv([y(12)],nm.prototype,"pageSize",void 0),tv([y(8)],nm.prototype,"pageCount",void 0),tv([y(1)],nm.prototype,"currentPage",void 0),tv([y()],nm.prototype,"totalRecordsCount",void 0),tv([y(!1)],nm.prototype,"enableQueryString",void 0),tv([y(!1)],nm.prototype,"pageSizes",void 0),tv([y(null)],nm.prototype,"template",void 0);var zZ=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class HB extends Nt{}zZ([y("startsWith")],HB.prototype,"operator",void 0),zZ([y(!1)],HB.prototype,"ignoreAccent",void 0);class jZ{constructor(e,t,i){this.selectedRowIndexes=[],this.selectedRowCellIndexes=[],this.selectedRecords=[],this.preventFocus=!1,this.selectedColumnsIndexes=[],this.checkBoxState=!1,this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1,this.enableSelectMultiTouch=!1,this.clearRowCheck=!1,this.selectRowCheck=!1,this.selectedRowState={},this.totalRecordsCount=0,this.chkAllCollec=[],this.isCheckedOnAdd=!1,this.persistSelectedData=[],this.deSelectedData=[],this.needColumnSelection=!1,this.isCancelDeSelect=!1,this.isPreventCellSelect=!1,this.disableUI=!1,this.isPersisted=!1,this.cmdKeyPressed=!1,this.cellselected=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.initialRowSelection=!1,this.isPrevRowSelection=!1,this.isKeyAction=!1,this.isRowDragSelected=!1,this.autoFillRLselection=!0,this.bottom="0 0 2px 0",this.top="2px 0 0 0",this.right_bottom="0 2px 2px 0",this.bottom_left="0 0 2px 2px",this.top_right="2px 2px 0 0",this.top_left="2px 0 0 2px",this.top_bottom="2px 0 2px 0",this.top_right_bottom="2px 2px 2px 0",this.top_bottom_left="2px 0 2px 2px",this.top_right_left="2px 2px 0 2px",this.right_bottom_left="0 2px 2px 2px",this.all_border="2px",this.parent=e,this.selectionSettings=t,this.factory=i.getService("rendererFactory"),this.focus=i.getService("focus"),this.addEventListener(),this.wireEvents()}initializeSelection(){this.parent.log("selection_key_missing"),this.render()}onActionBegin(e,t){this.parent.trigger(t,this.fDataUpdate(e))}fDataUpdate(e){if(!(this.isMultiSelection||h(e.cellIndex)&&h(e.rowIndex))){const t=this.getRowObj(h(e.rowIndex)?h(e.cellIndex)?this.currentIndex:e.cellIndex.rowIndex:e.rowIndex);e.foreignKeyData=t.foreignKeyData}return e}onActionComplete(e,t){this.parent.trigger(t,this.fDataUpdate(e)),this.isMultiSelection=!1}getModuleName(){return"selection"}destroy(){const e=this.parent.element;!e||!e.querySelector("."+Ir)&&!e.querySelector("."+ur)||(this.hidePopUp(),this.clearSelection(),this.removeEventListener(),this.unWireEvents(),C.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),C.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler))}isEditing(){return("Normal"===this.parent.editSettings.mode||"Batch"===this.parent.editSettings.mode&&this.parent.editModule&&this.parent.editModule.formObj&&!this.parent.editModule.formObj.validate())&&this.parent.isEdit&&!this.parent.isPersistSelection}getSelectedMovableRow(e){const t=this.parent;return t.isFrozenGrid()&&this.parent.getContent().querySelector("."+gn)?t.getMovableRowByIndex(e):null}getSelectedFrozenRightRow(e){const t=this.parent;return t.isFrozenGrid()&&t.getFrozenMode()===Ot&&t.getFrozenRightContent()?t.getFrozenRightRowByIndex(e):null}getCurrentBatchRecordChanges(){const e=this.parent;if("Batch"===e.editSettings.mode&&e.editModule){let t=T_(this.parent.getCurrentViewRecords());t="Bottom"===e.editSettings.newRowPosition?t.concat(this.parent.editModule.getBatchChanges()[Bu]):this.parent.editModule.getBatchChanges()[Bu].concat(t);const i=this.parent.editModule.getBatchChanges()[im],n=this.parent.getPrimaryKeyFieldNames()[0];for(let s=0;s<i.length;s++)for(let o=0;o<t.length;o++)if(i[s][n]===t[o][n]){t.splice(o,1);break}return t}return e.getCurrentViewRecords()}selectRow(e,t){if(this.selectedRowIndexes.length&&this.selectionSettings.enableSimpleMultiRowSelection)return void this.addRowsToSelection([e]);const i=this.parent,n=i.getRowByIndex(e),s=this.getSelectedMovableRow(e),o=this.getSelectedFrozenRightRow(e);let l;if(i.enableVirtualization&&e>-1){const p={selectedIndex:e,isAvailable:!0};this.parent.notify("select-virtual-Row",p);const g=i.isFrozenGrid()?i.contentModule.getRowObjectByIndex(e):null;if(!n||!i.getRowObjectFromUID(n.getAttribute("data-uid"))&&!g)return void(p.isAvailable&&!i.selectionSettings.persistSelection&&this.parent.getSelectedRecords().length>0&&this.clearRowSelection());l=g||i.getRowObjectFromUID(n.getAttribute("data-uid")).data}else l=this.getRowObj(e).data;if(!this.isRowType()||!n||this.isEditing())return;const c=n.hasAttribute("aria-selected");let d;this.activeTarget(),t=t&&!(!this.selectedRowIndexes.length||1!==this.selectedRowIndexes.length)&&(!this.isKeyAction||!this.parent.isCheckBoxSelection)&&e===this.selectedRowIndexes[0],this.isKeyAction=!1;const u="cancel";t?this.rowSelectingCallBack(d,t,e,l,!1,c,u)(d):(d={data:l,rowIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,row:n,previousRow:i.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked},d=this.addMovableArgs(d,s,o),this.parent.trigger(G4,this.fDataUpdate(d),this.rowSelectingCallBack(d,t,e,l,!1,c,u)))}rowSelectingCallBack(e,t,i,n,s,o,l){return a=>{h(a)||!0!==a[l]?(this.index=i,this.toggle=t,this.data=n,this.removed=s,o&&this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode?(this.clearSelectedRow(i),this.selectRowCallBack()):!o&&this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode&&this.selectRowCallBack(),"ResetOnRowClick"===this.selectionSettings.checkboxMode&&this.clearSelection(),(!this.selectionSettings.persistSelection||"ResetOnRowClick"===this.selectionSettings.checkboxMode||!this.parent.isCheckBoxSelection&&this.selectionSettings.persistSelection)&&(this.selectRowCheck=!0,this.clearRow())):this.disableInteracted()}}selectRowCallBack(){const e=this.parent;let t;const i=this.index,n=this.toggle,s=this.data,o=this.removed,l=e.getRowByIndex(i),a=this.getSelectedMovableRow(i),c=this.getSelectedFrozenRightRow(i);!n&&!o&&(this.selectedRowIndexes.indexOf(i)<=-1&&(this.updateRowSelection(l,i),this.selectMovableRow(a,c,i)),this.selectRowIndex(i)),n||(t={data:s,rowIndex:i,row:l,previousRow:e.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,isInteracted:this.isInteracted,isHeaderCheckBoxClicked:this.isHeaderCheckboxClicked},t=this.addMovableArgs(t,a,c),this.onActionComplete(t,Zx)),this.isInteracted=!1,this.updateRowProps(i)}selectMovableRow(e,t,i){this.parent.isFrozenGrid()&&(this.updateRowSelection(e,i),this.parent.getFrozenMode()===Ot&&t&&this.updateRowSelection(t,i))}addMovableArgs(e,t,i){if(this.parent.isFrozenGrid()){const n={mRow:t,previousMovRow:this.parent.getMovableRows()[this.prevRowIndex]},s="frozenRightRow",o="previousFrozenRightRow";this.parent.getFrozenMode()===Ot&&i&&(n[s]=i,n[o]=this.parent.getFrozenRightDataRows()[this.prevRowIndex]),e=Object.assign({},e,n)}return e}selectRowsByRange(e,t){this.selectRows(this.getCollectionFromIndexes(e,t)),this.selectRowIndex(t)}selectedDataUpdate(e,t,i,n){for(let s=0,o=n.length;s<o;s++){const l=this.parent.getDataRows()[n[s]],a=this.getRowObj(l);a&&(e.push(a.data),i.push(l),t.push(a.foreignKeyData))}}selectRows(e){const t=this.parent,i=this.isSingleSel()?e[e.length-1]:e[0];this.isMultiSelection=!0;const n=[],s=[],o=this.getSelectedMovableRow(i),l=this.getSelectedFrozenRightRow(i),c=[];if(!this.isRowType()||this.isEditing())return;this.selectedDataUpdate(c,s,n,e),this.activeTarget();let d={cancel:!1,rowIndexes:e,row:n,rowIndex:i,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isInteracted:this.isInteracted,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,data:c,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,foreignKeyData:s};d=this.addMovableArgs(d,o,l),this.parent.trigger(G4,this.fDataUpdate(d),u=>{if(!h(u)&&!0===u.cancel)return void this.disableInteracted();this.clearRow(),this.selectRowIndex(e.slice(-1)[0]);const p=g=>{if(this.updateRowSelection(t.getRowByIndex(g),g),t.isFrozenGrid()){const f=this.parent.getFrozenMode()===Ot?t.getFrozenRightRowByIndex(g):void 0;this.selectMovableRow(t.getMovableRowByIndex(g),f,g)}this.updateRowProps(i)};if(this.isSingleSel())p(i);else for(const g of e)p(g);u={rowIndexes:e,row:n,rowIndex:i,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,data:this.getSelectedRecords(),isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,foreignKeyData:s},u=this.addMovableArgs(u,o,l),this.isRowSelected&&this.onActionComplete(u,Zx),this.isInteracted=!1})}addRowsToSelection(e){const t=this.parent,n=this.target;this.isMultiSelection=!0;const s=[],o=[],l=[],a=t.getSelectedRowIndexes().concat(e),c=this.isSingleSel()?t.getRowByIndex(e[e.length-1]):t.getRowByIndex(e[0]),d=this.isSingleSel()?this.getSelectedMovableRow(e[e.length-1]):this.getSelectedMovableRow(e[0]),u=this.isSingleSel()?this.getSelectedFrozenRightRow(e[e.length-1]):this.getSelectedFrozenRightRow(e[0]);if((!this.isRowType()||this.isEditing())&&!this.selectionSettings.checkboxOnly)return;let p;const g=this.parent.getColumns().filter(f=>"checkbox"===f.type);this.isMultiCtrlRequest&&!g.length&&this.selectedDataUpdate(l,o,s,a);for(const f of e){const m=this.getRowObj(f),v=this.selectedRowIndexes.indexOf(f)>-1;if(this.selectRowIndex(f),v&&(g.length||this.selectionSettings.enableToggle||this.isMultiCtrlRequest)){if(this.isAddRowsToSelection=!0,this.rowDeselect(VJ,[f],[m.data],[c],[m.foreignKeyData],n),this.isCancelDeSelect)return;this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(f),1),this.selectedRecords.splice(this.selectedRecords.indexOf(c),1),this.selectRowIndex(this.selectedRowIndexes.length?this.selectedRowIndexes[this.selectedRowIndexes.length-1]:-1),c.removeAttribute("aria-selected"),this.addRemoveClassesForRow(c,!1,null,"e-selectionbackground","e-active"),d&&(this.selectedRecords.splice(this.selectedRecords.indexOf(d),1),d.removeAttribute("aria-selected"),this.addRemoveClassesForRow(d,!1,null,"e-selectionbackground","e-active")),u&&(this.selectedRecords.splice(this.selectedRecords.indexOf(u),1),u.removeAttribute("aria-selected"),this.addRemoveClassesForRow(u,!1,null,"e-selectionbackground","e-active")),this.rowDeselect(OT,[f],[m.data],[c],[m.foreignKeyData],n,[d],void 0,[u]),this.isInteracted=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1}else{if(this.activeTarget(),p={cancel:!1,data:l.length?l:m.data,rowIndex:f,row:s.length?s:c,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,foreignKeyData:o.length?o:m.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:a},p=this.addMovableArgs(p,d,u),this.parent.trigger(G4,this.fDataUpdate(p)),!h(p)&&!0===p.cancel)return void this.disableInteracted();this.isSingleSel()&&this.clearRow(),this.updateRowSelection(c,f),this.selectMovableRow(d,u,f)}if(v||(p={data:l.length?l:m.data,rowIndex:f,row:s.length?s:c,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,foreignKeyData:o.length?o:m.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:a},p=this.addMovableArgs(p,d,u),this.onActionComplete(p,Zx)),this.isInteracted=!1,this.updateRowProps(f),this.isSingleSel())break}}getCollectionFromIndexes(e,t){const i=[];let{i:n,max:s}=e<=t?{i:e,max:t}:{i:t,max:e};for(;n<=s;n++)i.push(n);return e>t&&i.reverse(),i}clearRow(){this.clearRowCheck=!0,this.clearRowSelection()}clearRowCallBack(){this.isCancelDeSelect&&"Check"!==this.parent.checkAllRows||(this.selectedRowIndexes=[],this.selectedRecords=[],this.selectRowIndex(-1),this.isSingleSel()&&this.parent.isPersistSelection&&(this.selectedRowState={}))}clearSelectedRow(e){if(this.toggle){const t=this.parent.getRowByIndex(e);this.disableUI||(t.removeAttribute("aria-selected"),this.addRemoveClassesForRow(t,!1,!0,"e-selectionbackground","e-active")),this.removed=!0,this.updatePersistCollection(t,!1),this.updateCheckBoxes(t),this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(e),1),this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(e)),1)}}updateRowProps(e){this.prevRowIndex=e,this.isRowSelected=this.selectedRowIndexes.length&&!0}updatePersistCollection(e,t){if((this.parent.isPersistSelection||this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0)&&!h(e)){this.parent.isPersistSelection||this.ensureCheckboxFieldSelection();const i=this.getRowObj(e),n=i.data?i.data[this.primaryKey]:null;if(null===n)return;i.isSelected=t,t?(this.selectedRowState[n]=t,this.persistSelectedData.some(s=>s[this.primaryKey]===n)||this.persistSelectedData.push(i.data)):this.updatePersistDelete(n)}}updatePersistDelete(e){let t;delete this.selectedRowState[e],this.persistSelectedData.some((n,s)=>(t=s,n[this.primaryKey]===e))&&this.persistSelectedData.splice(t,1)}updateCheckBoxes(e,t,i){if(!h(e)){const n=e.querySelector(".e-checkselect");h(n)||(M_(n.nextElementSibling,t),sv(n,t),(h(this.checkedTarget)||!h(this.checkedTarget)&&!this.checkedTarget.classList.contains("e-checkselectall"))&&this.setCheckAllState(i))}}updateRowSelection(e,t){if(!e)return;this.selectedRowIndexes.push(t);const i=this.selectedRowIndexes.length;if(this.parent.isFrozenGrid()&&i>1&&this.selectedRowIndexes[i-2]===this.selectedRowIndexes[i-1]&&this.selectedRowIndexes.pop(),this.selectedRecords.push(e),e.setAttribute("aria-selected","true"),this.updatePersistCollection(e,!0),this.updateCheckBoxes(e,!0),this.addRemoveClassesForRow(e,!0,null,"e-selectionbackground","e-active"),!this.preventFocus){let n=this.focus.getPrevIndexes().cellIndex?e.cells[this.focus.getPrevIndexes().cellIndex]:e.querySelector(".e-selectionbackground:not(.e-hide):not(.e-detailrowcollapse):not(.e-detailrowexpand)");if(this.parent.contextMenuModule&&2===this.mouseButton&&(n=this.parent.contextMenuModule.cell),!n)return;this.focus.onClick({target:n},!0)}}clearSelection(){if(this.checkSelectAllClicked=!0,this.selectionSettings.persistSelection&&this.persistSelectedData.length&&(this.deSelectedData=T_(this.persistSelectedData)),!this.parent.isPersistSelection||this.parent.isPersistSelection&&!this.parent.isEdit||!h(this.checkedTarget)&&this.checkedTarget.classList.contains("e-checkselectall")){const e=this.parent.element.querySelector(".e-gridpopup").querySelector("span");e.classList.contains("e-rowselect")&&e.classList.remove("e-spanclicked"),this.parent.isPersistSelection&&(this.persistSelectedData=[],this.selectedRowState={}),this.clearRowSelection(),this.clearCellSelection(),this.clearColumnSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0,this.enableSelectMultiTouch=!1,this.isInteracted=!1,this.checkSelectAllClicked=!1}}clearRowSelection(){if(this.isRowSelected){const e=this.parent,t=this.parent.getDataRows(),i=[],n=[],s=[],o=[],l=[],a=[],c=this.target;for(let d=0,u=this.selectedRowIndexes.length;d<u;d++){const p="Batch"===this.parent.editSettings.mode?this.parent.getRows()[this.selectedRowIndexes[d]]:this.parent.getDataRows()[this.selectedRowIndexes[d]],g=this.getRowObj(p);if(g&&(i.push(g.data),n.push(p),l.push(this.selectedRowIndexes[d]),a.push(g.foreignKeyData)),e.isFrozenGrid()){const f=e.getMovableRows();if(f&&f.length&&s.push(f[this.selectedRowIndexes[d]]),e.getFrozenMode()===Ot){const m=e.getFrozenRightRows();m&&m.length&&o.push(m[this.selectedRowIndexes[d]])}}}this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode&&(this.isRowClicked=!!this.checkSelectAllClicked),this.rowDeselect(VJ,l,i,n,a,c,s,()=>{if(this.isCancelDeSelect&&(this.isRowClicked||this.checkSelectAllClicked||this.isInteracted&&!this.parent.isPersistSelection)){if(this.parent.isPersistSelection)if("Intermediate"===this.getCheckAllStatus(this.parent.element.querySelector(".e-checkselectall")))for(let u=0;u<this.selectedRecords.length;u++)this.updatePersistCollection(this.selectedRecords[u],!0);else this.parent.checkAllRows="Check",this.updatePersistSelectedData(!0);return void(this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1)))}const d=[].slice.call(t.filter(u=>u.hasAttribute("aria-selected")));for(let u=0;u<d.length;u++)this.disableUI||(d[u].removeAttribute("aria-selected"),this.addRemoveClassesForRow(d[u],!1,!0,"e-selectionbackground","e-active")),this.isPrevRowSelection||this.updatePersistCollection(d[u],!1),this.updateCheckBoxes(d[u]);for(let u=0,p=this.selectedRowIndexes.length;u<p;u++){const g=this.getSelectedMovableRow(this.selectedRowIndexes[u]);g&&(this.disableUI||(g.removeAttribute("aria-selected"),this.addRemoveClassesForRow(g,!1,!0,"e-selectionbackground","e-active")),this.updateCheckBoxes(g),this.isPrevRowSelection||this.updatePersistCollection(g,!1));const f=this.getSelectedFrozenRightRow(this.selectedRowIndexes[u]);f&&(this.disableUI||(f.removeAttribute("aria-selected"),this.addRemoveClassesForRow(f,!1,!0,"e-selectionbackground","e-active")),this.updateCheckBoxes(f),this.isPrevRowSelection||this.updatePersistCollection(f,!1))}this.selectedRowIndexes=[],this.selectedRecords=[],this.isRowSelected=!1,this.selectRowIndex(-1),this.isPrevRowSelection=!1,this.rowDeselect(OT,l,i,n,a,c,s,void 0,o),this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1))},o)}else this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1))}rowDeselect(e,t,i,n,s,o,l,a,c){if(this.selectionSettings.persistSelection&&(this.isRowClicked||this.checkSelectAllClicked)||!this.selectionSettings.persistSelection){const d="cancel",u=1===t.length&&1===this.deSelectedData.length,p={rowIndex:t[0],data:this.selectionSettings.persistSelection&&"Uncheck"===this.parent.checkAllRows&&!u&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode?this.deSelectedData:i,foreignKeyData:s,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked};"rowDeselected"===e&&delete p.cancel;const g="row",f="target",m="rowIndex",v="rowIndexes",x="data",w="foreignKeyData";p[g]=n,p[f]=this.actualTarget,this.actualTarget&&!h(D(this.actualTarget,"thead"))||t.length>1?(p[m]=t[0],p[v]=t):1===t.length&&(p[x]=p[x][0],p[g]=p[g][0],p[w]=p[w][0],this.isAddRowsToSelection&&(p[v]=t)),this.parent.trigger(e,this.parent.isFrozenGrid()?Object.assign({},p,{mRow:l,frozenRightRow:c}):p,I=>{this.isCancelDeSelect=I[d],(!this.isCancelDeSelect||!this.isRowClicked&&!this.isInteracted&&!this.checkSelectAllClicked)&&(this.updatePersistCollection(n[0],!1),this.updateCheckBoxes(n[0],void 0,t[0]),l&&this.updateCheckBoxes(l[0],void 0,t[0]),c&&this.updateCheckBoxes(c[0],void 0,t[0])),void 0!==a&&a()})}else this.selectionSettings.persistSelection&&!this.isInteracted&&void 0!==a&&a()}getRowObj(e=this.currentIndex){return h(e)?{}:("number"==typeof e&&(e=this.parent.getRowByIndex(e)),e&&this.parent.getRowObjectFromUID(e.getAttribute("data-uid"))||{})}getSelectedMovableCell(e){const t=this.parent,i=t.getColumnByIndex(e.cellIndex);return t.isFrozenGrid()&&"movable"===i.getFreezeTableName()?t.getMovableCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex)):null}selectCell(e,t){if(!this.isCellType())return;const i=this.parent;let s,n=this.getSelectedMovableCell(e);n||(n=i.getCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex))),this.currentIndex=e.rowIndex;const o=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!this.isCellType()||!n||this.isEditing())return;const l=n.classList.contains("e-cellselectionbackground");(t=t&&!Et(this.prevCIdxs)&&e.rowIndex===this.prevCIdxs.rowIndex&&e.cellIndex===this.prevCIdxs.cellIndex&&l)?this.successCallBack(s,t,e,n,o)(s):(s={data:o,cellIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,cancel:!1},s.currentCell=n,s.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(c_,this.fDataUpdate(s),this.successCallBack(s,t,e,n,o)),this.cellselected=!0)}successCallBack(e,t,i,n,s){return o=>{const a="currentCell";if((h(o)||!0!==o.cancel)&&(t||(o[a]=o[a]?o[a]:n),this.clearCell(),t||this.updateCellSelection(n,i.rowIndex,i.cellIndex),!t)){const c={data:s,cellIndex:i,currentCell:n,selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};c.previousRowCellIndex=this.prevECIdxs,this.updateCellProps(i,i),this.onActionComplete(c,BT)}}}getCellIndex(e,t){return this.parent.getFrozenColumns()&&t>=this.parent.getFrozenColumns()?this.parent.getMovableCellFromIndex(e,t):this.parent.getCellFromIndex(e,t)}selectCellsByRange(e,t){if(!this.isCellType())return;const i=this.parent;let n=this.getSelectedMovableCell(e);const s=i.getFrozenColumns();let o,l;n||(n=i.getCellFromIndex(e.rowIndex,e.cellIndex));const a=e,c=t=t||e;let d;this.currentIndex=e.rowIndex;const p=this.getCurrentBatchRecordChanges()[this.currentIndex];if(this.isSingleSel()||!this.isCellType()||this.isEditing())return;const g={data:p,cellIndex:e,currentCell:n,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};g.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(c_,this.fDataUpdate(g),m=>{if(!h(m)&&!0===m.cancel)return;if(this.clearCell(),e.rowIndex>t.rowIndex){const w=e;e=t,t=w}for(let w=e.rowIndex;w<=t.rowIndex;w++){this.selectionSettings.cellSelectionMode.indexOf("Box")<0?(o=w===e.rowIndex?e.cellIndex:0,l=w===t.rowIndex?t.cellIndex:this.getLastColIndex(w)):(o=e.cellIndex,l=t.cellIndex),d=[];for(let b=o<l?o:l,I=o>l?o:l;b<=I;b++)n=s?b<s?i.getCellFromIndex(w,b):i.getMovableCellFromIndex(w,b):i.getCellFromIndex(w,b),n&&(d.push(b),this.updateCellSelection(n),this.addAttribute(n));this.selectedRowCellIndexes.push({rowIndex:w,cellIndexes:d})}const v={data:p,cellIndex:c,currentCell:i.getCellFromIndex(c.rowIndex,c.cellIndex),selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};v.previousRowCellIndex=this.prevECIdxs,this.isDragged||(this.onActionComplete(v,BT),this.cellselected=!0),this.updateCellProps(a,c)})}selectCells(e){if(!this.isCellType())return;const t=this.parent;let i=this.getSelectedMovableCell(e[0]);const n=t.getFrozenColumns();i||(i=t.getCellFromIndex(e[0].rowIndex,e[0].cellIndexes[0])),this.currentIndex=e[0].rowIndex;const s=this.getCurrentBatchRecordChanges()[this.currentIndex];if(this.isSingleSel()||!this.isCellType()||this.isEditing())return;const o={data:s,cellIndex:e[0].cellIndexes[0],currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};o.previousRowCellIndex=this.prevECIdxs,this.onActionBegin(o,c_);for(let d=0,u=e.length;d<u;d++)for(let p=0,g=e[d].cellIndexes.length;p<g;p++)i=n?e[d].cellIndexes[p]<n?t.getCellFromIndex(e[d].rowIndex,e[d].cellIndexes[p]):t.getMovableCellFromIndex(e[d].rowIndex,e[d].cellIndexes[p]):t.getCellFromIndex(e[d].rowIndex,e[d].cellIndexes[p]),i&&(this.updateCellSelection(i),this.addAttribute(i),this.addRowCellIndex({rowIndex:e[d].rowIndex,cellIndex:e[d].cellIndexes[p]}));this.updateCellProps({rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]},{rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]});const a={data:s,cellIndex:e[0].cellIndexes[0],currentCell:i,selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};a.previousRowCellIndex=this.prevECIdxs,this.onActionComplete(a,BT)}addCellsToSelection(e){if(!this.isCellType())return;const t=this.parent;let i,n;this.currentIndex=e[0].rowIndex;const o=this.getCurrentBatchRecordChanges()[this.currentIndex],l=t.getFrozenLeftCount(),a=t.getMovableColumnsCount();if(this.isSingleSel()||!this.isCellType()||this.isEditing())return;this.hideAutoFill();const c=t.getColumnByIndex(e[0].cellIndex);let d;(function am(r,e,t,i,n){(t[0].length||i)&&(n?e(Ns,t[0],n[0]):e(Ns,t[0])),r.isFrozenGrid()&&(t[1].length||i)&&(n?e("movable",t[1],n[1]):e("movable",t[1])),(r.getFrozenMode()===Ot||"Right"===r.getFrozenMode())&&(t[2].length||i)&&(n?e(Bn,t[2],n[2]):e(Bn,t[2]))})(this.parent,(p,g)=>{d=g[e[0].rowIndex]},[c.getFreezeTableName()&&c.getFreezeTableName()!==Ns?[]:t.getRowsObject(),"movable"===c.getFreezeTableName()?t.getMovableRowsObject():[],c.getFreezeTableName()===Bn?t.getFrozenRightRowsObject():[]]),t.groupSettings.columns.length>0&&(d=t.getRowObjectFromUID(this.target.parentElement.getAttribute("data-uid")));const u=[];for(const p of e){for(let x=0,w=this.selectedRowCellIndexes.length;x<w;x++)if(this.selectedRowCellIndexes[x].rowIndex===p.rowIndex){n=x;break}i=this.getSelectedMovableCell(p),i||(i=t.getCellFromIndex(p.rowIndex,this.getColIndex(p.rowIndex,p.cellIndex)));const g="movable"===c.getFreezeTableName()?p.cellIndex-l:c.getFreezeTableName()===Bn?p.cellIndex-(l+a):p.cellIndex;u.push(t.groupSettings.columns.length>0?d.cells[g+t.groupSettings.columns.length].foreignKeyData:d.cells[g].foreignKeyData);const f={cancel:!1,data:o,cellIndex:e[0],isShiftPressed:this.isMultiShiftRequest,currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,previousRowCell:this.prevECIdxs?t.getCellFromIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},m="previousRowCellIndex";f[m]=this.prevECIdxs;let v=n>-1;if(v){const x=this.selectedRowCellIndexes[n].cellIndexes;x.indexOf(p.cellIndex)>-1?(this.cellDeselect(HJ,[{rowIndex:p.rowIndex,cellIndexes:[p.cellIndex]}],o,[i],u),x.splice(x.indexOf(p.cellIndex),1),0===x.length&&this.selectedRowCellIndexes.splice(n,1),i.classList.remove("e-cellselectionbackground"),i.removeAttribute("aria-selected"),this.cellDeselect(zJ,[{rowIndex:p.rowIndex,cellIndexes:[p.cellIndex]}],o,[i],u)):(v=!1,this.onActionBegin(f,c_),this.addRowCellIndex({rowIndex:p.rowIndex,cellIndex:p.cellIndex}),this.updateCellSelection(i),this.addAttribute(i))}else{if(this.onActionBegin(f,c_),!h(f)&&!0===f.cancel)return;this.updateCellSelection(i,p.rowIndex,p.cellIndex)}if(!v){const x={data:o,cellIndex:e[0],currentCell:i,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,selectedRowCellIndex:this.selectedRowCellIndexes};x[m]=this.prevECIdxs,this.onActionComplete(x,BT),this.cellselected=!0}this.updateCellProps(p,p)}}getColIndex(e,t){const i=this.parent.isFrozenGrid(),n=this.parent.getColumnByIndex(t),s=ree(this.parent,n,e);if(s)for(let o=0;o<s.length;o++)if(parseInt(s[o].getAttribute(Dr),10)===t)return i&&("movable"===n.getFreezeTableName()?o+=this.parent.getFrozenLeftCount():n.getFreezeTableName()===Bn&&(o+=this.parent.getFrozenLeftColumnsCount()+this.parent.getMovableColumnsCount())),o;return-1}getLastColIndex(e){const t=this.parent.getFrozenColumns()?this.parent.getMovableDataRows()[e].querySelectorAll("td.e-rowcell"):this.parent.getDataRows()[e].querySelectorAll("td.e-rowcell");return parseInt(t[t.length-1].getAttribute(Dr),10)}clearCell(){this.clearCellSelection()}cellDeselect(e,t,i,n,s){n[0]&&n[0].classList.contains(J0)&&this.updateCheckBoxes(D(n[0],"tr"));const l={cells:n,data:i,cellIndexes:t,foreignKeyData:s,cancel:!1};this.parent.trigger(e,l),this.isPreventCellSelect=l.cancel}updateCellSelection(e,t,i){h(t)||this.addRowCellIndex({rowIndex:t,cellIndex:i}),e.classList.add("e-cellselectionbackground"),e.classList.contains(J0)&&this.updateCheckBoxes(D(e,"tr"),!0),this.addAttribute(e)}addAttribute(e){this.target=e,h(e)||(e.setAttribute("aria-selected","true"),this.preventFocus||this.focus.onClick({target:e},!0))}updateCellProps(e,t){this.prevCIdxs=e,this.prevECIdxs=t,this.isCellSelected=this.selectedRowCellIndexes.length&&!0}addRowCellIndex(e){let t,i;for(let n=0,s=this.selectedRowCellIndexes.length;n<s;n++)if(this.selectedRowCellIndexes[n].rowIndex===e.rowIndex){t=!0,i=n;break}t?this.selectedRowCellIndexes[i].cellIndexes.indexOf(e.cellIndex)<0&&this.selectedRowCellIndexes[i].cellIndexes.push(e.cellIndex):this.selectedRowCellIndexes.push({rowIndex:e.rowIndex,cellIndexes:[e.cellIndex]})}clearCellSelection(){if(this.isCellSelected){const e=this.parent,t=this.getSelectedCellsElement(),i=this.selectedRowCellIndexes,n=[],s=[],o=[],l=this.getCurrentBatchRecordChanges(),a=e.isFrozenGrid();this.hideAutoFill();for(let c=0,d=i.length;c<d;c++){n.push(l[i[c].rowIndex]);const u=this.getRowObj(i[c].rowIndex);for(let p=0,g=i[c].cellIndexes.length;p<g;p++)if(a){const f=e.getColumnByIndex(i[c].cellIndexes[p]);s.push(ZB(this.parent,f,i[c].rowIndex,i[c].cellIndexes[p]))}else u.cells&&o.push(u.cells[i[c].cellIndexes[p]].foreignKeyData),s.push(e.getCellFromIndex(i[c].rowIndex,i[c].cellIndexes[p]))}if(this.cellDeselect(HJ,i,n,s,o),!0===this.isPreventCellSelect)return;for(let c=0,d=t.length;c<d;c++)t[c].classList.remove("e-cellselectionbackground"),t[c].removeAttribute("aria-selected");this.bdrElement&&this.showHideBorders("none"),this.selectedRowCellIndexes=[],this.isCellSelected=!1,!this.isDragged&&this.cellselected&&this.cellDeselect(zJ,i,n,s,o)}}getSelectedCellsElement(){const e=this.parent;let i,t=e.getDataRows();e.isFrozenGrid()&&(i=e.getMovableDataRows(),t=e.addMovableRows(t,i),e.getFrozenMode()===Ot&&(t=e.addMovableRows(t,e.getFrozenRightDataRows())));let n=[];for(let s=0,o=t.length;s<o;s++)n=n.concat([].slice.call(t[s].getElementsByClassName("e-cellselectionbackground")));return n}mouseMoveHandler(e){e.preventDefault();const t=this.parent.element.getBoundingClientRect();let i=this.x,n=this.y;const s=sm(e);let a,o=s.x-t.left,l=s.y-t.top,c=D(e.target,"tr");if(this.isDragged=!0,this.isCellDrag||(c||(c=D(document.elementFromPoint(this.parent.element.offsetLeft+2,e.clientY),"tr")),i>o&&(a=o,o=i,i=a),n>l&&(a=l,l=n,n=a),this.element.style.left=i+"px",this.element.style.top=n+"px",this.element.style.width=o-i+"px",this.element.style.height=l-n+"px"),c&&!e.ctrlKey&&!e.shiftKey){const d=parseInt(c.getAttribute(ei),10);if(this.isCellDrag){const u=Se(e.target,Di);u&&(this.startAFCell=this.startCell,this.endAFCell=Se(e.target,Di),this.selectLikeExcel(e,d,parseInt(u.getAttribute(Dr),10)))}else this.hideAutoFill(),this.selectRowsByRange(this.startDIndex,d),this.isRowDragSelected=!0}}selectLikeExcel(e,t,i){this.isAutoFillSel?(this.showAFBorders(),this.selectLikeAutoFill(e)):(this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:t,cellIndex:i}),this.drawBorders())}drawBorders(){"BoxWithBorder"===this.selectionSettings.cellSelectionMode&&this.selectedRowCellIndexes.length&&!this.parent.isEdit?(this.parent.element.classList.add("e-enabledboxbdr"),this.bdrElement||this.createBorders(),this.positionBorders()):this.showHideBorders("none")}isLastCell(e){const t=[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"));return t[t.length-1]===e}isLastRow(e){const t=[].slice.call(D(e,Ye).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[t.length-1]}isFirstRow(e){const t=[].slice.call(D(e,Ye).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[0]}isFirstCell(e){return[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"))[0]===e}setBorders(e,t,i){const n=[].slice.call(e.getElementsByClassName("e-cellselectionbackground")).filter(s=>""===s.style.display);if(n.length){const s=this.parent.isFrozenGrid(),o=n[0],l=n[n.length-1],a=o.getBoundingClientRect(),c=l.getBoundingClientRect(),d=o.offsetParent.getBoundingClientRect(),u=!this.isLastRow(l)||"1"!==i&&"2"!==i&&"5"!==i?0:2,p=this.parent.frozenRows&&("1"===i||"2"===i)&&this.isFirstRow(o)?1.5:0,g=s&&("2"===i||"4"===i)&&this.isFirstCell(o)?1:0,f=("Right"!==this.parent.getFrozenMode()||"1"!==i&&"3"!==i)&&(this.parent.getFrozenMode()!==Ot||"5"!==i&&"6"!==i)||!this.isFirstCell(o)?0:1;this.parent.enableRtl?(t.style.right=d.right-a.right-g+"px",t.style.width=a.right-c.left+g+1+"px"):(t.style.left=a.left-d.left-g-f+"px",t.style.width=c.right-a.left+g-f+1+"px"),t.style.top=a.top-d.top-p+"px",t.style.height=c.top-a.top>0?c.top-d.top+c.height+1-(a.top-d.top)-u+p+"px":c.height+p-u+1+"px",this.selectDirection+=i}else t.style.display="none"}positionBorders(){this.updateStartEndCells(),this.startCell&&this.bdrElement&&this.selectedRowCellIndexes.length&&(this.selectDirection="",this.showHideBorders(""),this.setBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.contentModule.getMovableContent(),this.mcBdrElement,"2"),this.parent.getFrozenMode()===Ot&&this.setBorders(this.parent.contentModule.getFrozenRightContent(),this.frcBdrElement,"5")),this.parent.frozenRows&&(this.setBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.headerModule.getMovableHeader(),this.mhBdrElement,"4"),this.parent.getFrozenMode()===Ot&&this.setBorders(this.parent.headerModule.getFrozenRightHeader(),this.frhBdrElement,"6"))),this.applyBorders(this.selectDirection))}applyBothFrozenBorders(e){const t=this.parent.enableRtl;switch(e.length){case 6:this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=this.bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=this.top,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right;break;case 4:e.includes("1")&&e.includes("2")&&e.includes("3")&&e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom),e.includes("2")&&e.includes("4")&&e.includes("5")&&e.includes("6")&&(this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 3:this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mcBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mhBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom);break;case 2:e.includes("1")&&(this.mcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.top_right_left)),e.includes("2")&&(this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.mhBdrElement.style.borderWidth=this.top_right_left)),e.includes("3")&&(this.mhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.bdrElement.style.borderWidth=this.right_bottom_left),e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.mcBdrElement.style.borderWidth=this.right_bottom_left),e.includes("5")&&(this.mcBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.parent.frozenRows&&(this.frhBdrElement.style.borderWidth=this.top_right_left)),e.includes("6")&&(this.mhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=this.right_bottom_left);break;default:this.bdrElement.style.borderWidth=this.all_border,this.mcBdrElement.style.borderWidth=this.all_border,this.frcBdrElement.style.borderWidth=this.all_border,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.mhBdrElement.style.borderWidth=this.all_border,this.frhBdrElement.style.borderWidth=this.all_border)}}applyBorders(e){const t=this.parent.enableRtl;if(this.parent.getFrozenMode()===Ot)this.applyBothFrozenBorders(e);else switch(e.length){case 4:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.fhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left):(this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 2:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left,this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom,this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left)):(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom)));break;default:this.bdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=this.all_border),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=this.all_border))}}createBorders(){this.bdrElement||(this.bdrElement=this.parent.getContentTable().parentElement.appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_bdr",styles:"width: 2px; border-width: 0;"})),this.parent.isFrozenGrid()&&(this.mcBdrElement=this.parent.contentModule.getMovableContent().appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_mcbdr",styles:"height: 2px; border-width: 0;"})),this.parent.getFrozenMode()===Ot&&(this.frcBdrElement=this.parent.contentModule.getFrozenRightContent().appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_frcbdr",styles:"height: 2px; border-width: 0;"})))),this.parent.frozenRows&&(this.fhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_fhbdr",styles:"height: 2px;"}))),this.parent.frozenRows&&this.parent.isFrozenGrid()&&(this.mhBdrElement=this.parent.headerModule.getMovableHeader().appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_mhbdr",styles:"height: 2px;"})),this.parent.getFrozenMode()===Ot&&(this.frhBdrElement=this.parent.headerModule.getFrozenRightHeader().appendChild(Xe("div",{className:"e-xlsel",id:this.parent.element.id+"_frhbdr",styles:"height: 2px;"})))))}showHideBorders(e){this.bdrElement&&(this.bdrElement.style.display=e,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.display=e,this.parent.getFrozenMode()===Ot&&(this.frcBdrElement.style.display=e)),this.parent.frozenRows&&(this.fhBdrElement.style.display=e),this.parent.frozenRows&&this.parent.isFrozenGrid()&&(this.mhBdrElement.style.display=e,this.parent.getFrozenMode()===Ot&&(this.frhBdrElement.style.display=e)))}drawAFBorders(){this.bdrAFBottom||this.createAFBorders(),this.positionAFBorders()}positionAFBorders(){if(!this.startCell||!this.bdrAFLeft)return;const e=this.startAFCell.getBoundingClientRect(),t=this.endAFCell.getBoundingClientRect(),i=t.top-e.top>0?1:0,n=t.top-e.top>=0&&(Se(this.startAFCell,gn)||Se(this.startAFCell,"e-frozencontent"))&&this.isFirstRow(this.startAFCell)?1.5:0,s=(Se(this.startAFCell,gn)||Se(this.startAFCell,fn))&&this.isFirstCell(this.startAFCell)?1:0,o=this.isLastRow(this.endAFCell)&&(Se(this.endAFCell,gn)||Se(this.endAFCell,"e-frozencontent"))?2:0,l=this.startAFCell.offsetParent.getBoundingClientRect(),a=this.parent.element.getBoundingClientRect();let u=this.startAFCell.offsetParent.parentElement.scrollTop-this.startAFCell.offsetTop,p=this.startAFCell.offsetParent.parentElement.scrollLeft-this.startAFCell.offsetLeft;const g=this.parent.element.clientHeight,f=this.parent.element.clientWidth;u=u>0?Math.floor(u)-1:0,p=p>0?p:0;const m=e.left-a.left;if(this.parent.enableRtl){const v=Se(this.startAFCell,gn)||Se(this.startAFCell,fn)?e.right-this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width-a.left:0;this.bdrAFLeft.style.right=a.right-t.right-2+t.width+"px",this.bdrAFLeft.style.width=f<=parseInt(this.bdrAFLeft.style.right,10)?"0px":"2px",this.bdrAFRight.style.right=a.right-e.right-s+v-1+"px",this.bdrAFTop.style.left=t.left-a.left-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFLeft.style.right,10)-parseInt(this.bdrAFRight.style.right,10)-s+1+"px",parseInt(this.bdrAFTop.style.left,10)<0&&(this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)+"px",this.bdrAFTop.style.left="0px")}else if(this.bdrAFLeft.style.left=m-s+p-1+"px",this.bdrAFRight.style.left=t.left-a.left-2+t.width+"px",this.bdrAFRight.style.width=f<=parseInt(this.bdrAFRight.style.left,10)?"0px":"2px",this.bdrAFTop.style.left=m+p-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFRight.style.left,10)-parseInt(this.bdrAFLeft.style.left,10)-s+1+"px",f<=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)){const v=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)-f;this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)-v+"px"}if(this.bdrAFLeft.style.top=e.top-a.top-n+u+"px",this.bdrAFLeft.style.height=t.top-e.top>0?t.top-l.top+t.height+1-(e.top-l.top)+n-o-u+"px":t.height+n-o-u+"px",this.bdrAFRight.style.top=this.bdrAFLeft.style.top,this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px",this.bdrAFTop.style.top=this.bdrAFRight.style.top,this.bdrAFBottom.style.left=this.bdrAFTop.style.left,this.bdrAFBottom.style.top=parseFloat(this.bdrAFLeft.style.top)+parseFloat(this.bdrAFLeft.style.height)-i-1+"px",this.bdrAFBottom.style.width=g<=parseFloat(this.bdrAFBottom.style.top)?"0px":this.bdrAFTop.style.width,g<=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)){const v=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)-g;this.bdrAFLeft.style.height=parseInt(this.bdrAFLeft.style.height,10)-v+"px",this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px"}}createAFBorders(){this.bdrAFLeft||(this.bdrAFLeft=this.parent.element.appendChild(Xe("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafleft",styles:"width: 2px;"})),this.bdrAFRight=this.parent.element.appendChild(Xe("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafright",styles:"width: 2px;"})),this.bdrAFBottom=this.parent.element.appendChild(Xe("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafbottom",styles:"height: 2px;"})),this.bdrAFTop=this.parent.element.appendChild(Xe("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdraftop",styles:"height: 2px;"})))}showAFBorders(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="",this.bdrAFRight.style.display="",this.bdrAFBottom.style.display="",this.bdrAFTop.style.display="")}hideAFBorders(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="none",this.bdrAFRight.style.display="none",this.bdrAFBottom.style.display="none",this.bdrAFTop.style.display="none")}updateValue(e,t,i){const n=this.createBeforeAutoFill(e,t,i);if(!n.cancel){const s=this.parent.getColumnByIndex(t);this.parent.editModule&&i&&this.parent.editModule.updateCell(e,s.field,"number"===s.type?parseFloat(n.value):n.value)}}createBeforeAutoFill(e,t,i){const s={column:this.parent.getColumnByIndex(t),value:i.innerText};return this.parent.trigger("beforeAutoFill",s),s}getAutoFillCells(e,t){const i=".e-cellselectionbackground";let n=[].slice.call(this.parent.getDataRows()[e].querySelectorAll(i));return this.parent.isFrozenGrid()&&(n=n.concat([].slice.call(this.parent.getMovableDataRows()[e].querySelectorAll(i))),this.parent.getFrozenMode()===Ot&&(n=n.concat([].slice.call(this.parent.getFrozenRightDataRows()[e].querySelectorAll(i))))),n}selectLikeAutoFill(e,t){const i=parseInt(Se(this.startAFCell,Bi).getAttribute(ei),10),n=parseInt(this.startAFCell.getAttribute(Dr),10);let s=parseInt(Se(this.endAFCell,Bi).getAttribute(ei),10),o=parseInt(this.endAFCell.getAttribute(Dr),10);const l=this.selectedRowCellIndexes.length-1,a=this.selectedRowCellIndexes[0].cellIndexes.length-1;switch(!0){case!t&&this.endAFCell.classList.contains("e-cellselectionbackground")&&!!Se(e.target,Di):this.startAFCell=this.parent.getCellFromIndex(i,n),this.endAFCell=this.parent.getCellFromIndex(i+l,n+a),this.drawAFBorders();break;case this.autoFillRLselection&&n+a<o&&o-n-a+1>s-i-l&&o-n-a+1>i-s:if(this.endAFCell=this.parent.getCellFromIndex(i+l,o),s=parseInt(Se(this.endAFCell,Bi).getAttribute(ei),10),o=parseInt(this.endAFCell.getAttribute(Dr),10),t){const c=parseInt(this.endCell.getAttribute(Dr),10);for(let d=i;d<=s;d++){const u=this.getAutoFillCells(d,n);let p=0;for(let g=c+1;g<=o;g++)p>a&&(p=0),this.updateValue(d,g,u[p]),p++}this.selectCellsByRange({rowIndex:i,cellIndex:this.startCellIndex},{rowIndex:s,cellIndex:o})}else this.drawAFBorders();break;case this.autoFillRLselection&&n>o&&n-o+1>s-i-l&&n-o+1>i-s:if(this.startAFCell=this.parent.getCellFromIndex(i,o),this.endAFCell=this.endCell,t){for(let c=i;c<=i+l;c++){const d=this.getAutoFillCells(c,n);d.reverse();let u=0;for(let p=this.startCellIndex-1;p>=o;p--)u>a&&(u=0),this.updateValue(c,p,d[u]),u++}this.selectCellsByRange({rowIndex:i,cellIndex:o},{rowIndex:i+l,cellIndex:this.startCellIndex+a})}else this.drawAFBorders();break;case i>s:if(this.startAFCell=this.parent.getCellFromIndex(s,n),this.endAFCell=this.endCell,t){const c=parseInt(this.endCell.parentElement.getAttribute(ei),10);let d=c;for(let u=i-1;u>=s;u--){d===this.startIndex-1&&(d=c);const p=this.getAutoFillCells(d,n);let g=0;d--;for(let f=this.startCellIndex;f<=this.startCellIndex+a;f++)this.updateValue(u,f,p[g]),g++}this.selectCellsByRange({rowIndex:s,cellIndex:n+a},{rowIndex:i+l,cellIndex:n})}else this.drawAFBorders();break;default:if(this.endAFCell=this.parent.getCellFromIndex(s,n+a),t){const c=parseInt(this.endCell.parentElement.getAttribute(ei),10);let d=this.startIndex;for(let u=c+1;u<=s;u++){d===c+1&&(d=this.startIndex);const p=this.getAutoFillCells(d,n);d++;let g=0;for(let f=this.startCellIndex;f<=this.startCellIndex+a;f++)this.updateValue(u,f,p[g]),g++}this.selectCellsByRange({rowIndex:c-l,cellIndex:n},{rowIndex:s,cellIndex:n+a})}else this.drawAFBorders()}}mouseUpHandler(e){if(document.body.classList.remove("e-disableuserselect"),this.element&&X(this.element),this.mUPTarget=this.isDragged&&1===this.selectedRowCellIndexes.length&&1===this.selectedRowCellIndexes[0].cellIndexes.length?Se(e.target,Di):null,this.isDragged&&!this.isAutoFillSel&&"Cell"===this.selectionSettings.mode&&e.target.classList.contains(Di)){const t=e.target,i=parseInt(t.parentElement.getAttribute(ei),10),n=parseInt(t.getAttribute(Dr),10);this.isDragged=!1,this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:i,cellIndex:n})}if(this.isDragged=!1,this.updateAutoFillPosition(),this.isAutoFillSel){const t=Se(e.target,Di);this.endAFCell=t||(this.endCell===this.endAFCell?this.startAFCell:this.endAFCell),this.startAFCell=this.startCell,this.updateStartCellsIndex(),this.selectLikeAutoFill(e,!0),this.updateAutoFillPosition(),this.hideAFBorders(),this.positionBorders(),this.isAutoFillSel=!1}C.remove(this.parent.getContent(),"mousemove",this.mouseMoveHandler),this.parent.frozenRows&&C.remove(this.parent.getHeaderContent(),"mousemove",this.mouseMoveHandler),C.remove(document,"mouseup",this.mouseUpHandler)}hideAutoFill(){this.autofill&&(this.autofill.style.display="none")}updateAutoFillPosition(){if(this.parent.enableAutoFill&&!this.parent.isEdit&&this.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel()&&this.selectedRowCellIndexes.length){const e=parseInt(this.target.getAttribute(Dr),10),t=parseInt(this.target.getAttribute("index"),10),n=this.getAutoFillCells(this.selectedRowCellIndexes[this.selectedRowCellIndexes.length-1].rowIndex,e).filter(d=>""===d.style.display),s=this.parent.getColumnByIndex(e),o="movable"===s.getFreezeTableName(),l=t<this.parent.frozenRows,a=this.parent.getFrozenMode()===Ot&&s.getFreezeTableName()===Bn;G("#"+this.parent.element.id+"_autofill",Se(this.target,kn))||(G("#"+this.parent.element.id+"_autofill",this.parent.element)&&G("#"+this.parent.element.id+"_autofill",this.parent.element).remove(),this.autofill=Xe("div",{className:"e-autofill",id:this.parent.element.id+"_autofill"}),this.autofill.style.display="none",l?o?this.parent.headerModule.getMovableHeader().appendChild(this.autofill):this.parent.getHeaderTable().parentElement.appendChild(this.autofill):o?this.parent.contentModule.getMovableContent().appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill),a&&(l?this.parent.getFrozenRightHeader().appendChild(this.autofill):this.parent.getFrozenRightContent().appendChild(this.autofill)));const c=n[n.length-1];if(c&&c.offsetParent){const d=c.getBoundingClientRect(),u=c.offsetParent.getBoundingClientRect(),p=this.isLastCell(c)?4:0,g=this.isLastRow(c)?3:0;this.parent.enableRtl?this.autofill.style.right=u.right-d.right+d.width-4-p+"px":this.autofill.style.left=d.left-u.left+d.width-4-p+"px",this.autofill.style.top=d.top-u.top+d.height-5-g+"px"}this.autofill.style.display=""}else this.hideAutoFill()}mouseDownHandler(e){this.mouseButton=e.button;const t=e.target,i=this.parent;let n;const s=Se(t,"e-grid");if(!(s&&s.id!==i.element.id||Se(t,pr)&&!this.parent.frozenRows||Se(t,"e-editedbatchcell")||Se(t,hl))){if((e.shiftKey||e.ctrlKey)&&e.preventDefault(),Se(t,Di)&&!e.shiftKey&&!e.ctrlKey){if(i.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel())this.isCellDrag=!0,n=!0;else if(i.allowRowDragAndDrop&&!i.isEdit&&!this.parent.selectionSettings.checkboxOnly){if(this.isRowDragSelected=!1,!this.isRowType()||this.isSingleSel()||D(t,"td").classList.contains("e-selectionbackground"))return void(this.isDragged=!1);n=!0,this.element=this.parent.createElement("div",{className:"e-griddragarea"}),i.getContent().appendChild(this.element)}n&&this.enableDrag(e,!0)}this.updateStartEndCells(),(t.classList.contains("e-autofill")||t.classList.contains("e-xlsel"))&&(this.isCellDrag=!0,this.isAutoFillSel=!0,this.enableDrag(e))}}updateStartEndCells(){const e=[].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground"));this.startCell=e[0],this.endCell=e[e.length-1],this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(ei),10),this.startCellIndex=parseInt(Se(this.startCell,Di).getAttribute(Dr),10))}updateStartCellsIndex(){this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(ei),10),this.startCellIndex=parseInt(Se(this.startCell,Di).getAttribute(Dr),10))}enableDrag(e,t){const i=this.parent;if(t){const o=D(e.target,"tr");this.startDIndex=parseInt(o.getAttribute(ei),10),this.startDCellIndex=parseInt(Se(e.target,Di).getAttribute(Dr),10)}document.body.classList.add("e-disableuserselect");const n=i.element.getBoundingClientRect(),s=sm(e);this.x=s.x-n.left,this.y=s.y-n.top,C.add(i.getContent(),"mousemove",this.mouseMoveHandler,this),this.parent.frozenRows&&C.add(i.getHeaderContent(),"mousemove",this.mouseMoveHandler,this),C.add(document,"mouseup",this.mouseUpHandler,this)}clearSelAfterRefresh(e){"virtualscroll"!==e.requestType&&!this.parent.isPersistSelection&&(!this.parent.enableInfiniteScrolling||"infiniteScroll"!==e.requestType)&&this.clearSelection()}addEventListener(){this.parent.isDestroyed||(this.evtHandlers=[{event:cs,handler:this.enableAfterRender},{event:cl,handler:this.initializeSelection},{event:"rowselected",handler:this.onActionComplete},{event:"cellselected",handler:this.onActionComplete},{event:dl,handler:this.onPropertyChanged},{event:zT,handler:this.onCellFocused},{event:uZ,handler:this.clearSelAfterRefresh},{event:sC,handler:this.columnPositionChanged},{event:Ds,handler:this.initialEnd},{event:jT,handler:this.rowsRemoved},{event:so,handler:this.refreshHeader},{event:ki,handler:this.destroy}],Co(this.parent,this.evtHandlers,!0,this),this.actionBeginFunction=this.actionBegin.bind(this),this.actionCompleteFunction=this.actionComplete.bind(this),this.parent.addEventListener(On,this.actionBeginFunction),this.parent.addEventListener(xi,this.actionCompleteFunction),this.addEventListener_checkbox())}removeEventListener(){this.parent.isDestroyed||(Co(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(On,this.actionBeginFunction),this.parent.removeEventListener(xi,this.actionCompleteFunction),this.removeEventListener_checkbox())}wireEvents(){this.isMacOS=-1!==navigator.userAgent.indexOf("Mac OS"),this.isMacOS?(C.add(this.parent.element,"keydown",this.keyDownHandler,this),C.add(this.parent.element,"keyup",this.keyUpHandler,this)):this.parent.allowKeyboard||C.add(this.parent.element,"keydown",this.keyDownHandler,this)}unWireEvents(){this.isMacOS?(C.remove(this.parent.element,"keydown",this.keyDownHandler),C.remove(this.parent.element,"keyup",this.keyUpHandler)):this.parent.allowKeyboard||C.remove(this.parent.element,"keydown",this.keyDownHandler)}columnPositionChanged(){this.parent.isPersistSelection||this.clearSelection()}refreshHeader(){this.setCheckAllState()}rowsRemoved(e){for(let t=0;t<e.records.length;t++)delete this.selectedRowState[e.records[t][this.primaryKey]],--this.totalRecordsCount;this.setCheckAllState()}beforeFragAppend(e){"virtualscroll"!==e.requestType&&!this.parent.isPersistSelection&&this.clearSelection()}getCheckAllBox(){return this.parent.getHeaderContent().querySelector(".e-checkselectall")}enableAfterRender(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.initPerisistSelection())}render(e){C.add(this.parent.getContent(),"mousedown",this.mouseDownHandler,this),C.add(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler,this)}onPropertyChanged(e){if(e.module!==this.getModuleName())return;const t=this.parent;!h(e.properties.type)&&"Single"===this.selectionSettings.type&&(this.selectedRowCellIndexes.length>1&&(this.clearCellSelection(),this.prevCIdxs=void 0),this.selectedRowIndexes.length>1&&(this.clearRowSelection(),this.prevRowIndex=void 0),this.selectedColumnsIndexes.length>1&&(this.clearColumnSelection(),this.prevColIndex=void 0),this.enableSelectMultiTouch=!1,this.hidePopUp()),(!h(e.properties.mode)||!h(e.properties.cellSelectionMode))&&(this.clearSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevColIndex=void 0),this.isPersisted=!0,this.checkBoxSelectionChanged(),this.isPersisted=!1,this.parent.isCheckBoxSelection||this.initPerisistSelection(),this.parent.getColumns().filter(n=>"checkbox"===n.type).length&&(t.isCheckBoxSelection="ResetOnRowClick"!==this.selectionSettings.checkboxMode),this.drawBorders()}hidePopUp(){this.parent.element.querySelector(".e-gridpopup").getElementsByClassName("e-rowselect").length&&(this.parent.element.querySelector(".e-gridpopup").style.display="none")}initialEnd(e){const t=this.parent.isFrozenGrid(),i=this.parent.getFrozenMode()===Ot;(!t||t&&!i&&!e.args.isFrozen||i&&e.args.renderFrozenRightContent)&&!this.selectedRowIndexes.length&&(this.parent.off(Ds,this.initialEnd),this.selectRow(this.parent.selectedRowIndex))}checkBoxSelectionChanged(){const e=this.parent;e.off(Ds,this.checkBoxSelectionChanged);const t=e.getColumns().filter(i=>"checkbox"===i.type);t.length>0&&(e.isCheckBoxSelection=!0,this.chkField=t[0].field,this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount,h(this.totalRecordsCount)&&(this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.isSingleSel()?(e.selectionSettings.type="Multiple",e.dataBind()):this.initPerisistSelection()),!e.isCheckBoxSelection&&!this.isPersisted&&(this.chkField=null,this.initPerisistSelection())}initPerisistSelection(){const e=this.parent;this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!0,this.ensureCheckboxFieldSelection()):this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!1,this.ensureCheckboxFieldSelection()):(e.isPersistSelection=!1,this.selectedRowState={})}ensureCheckboxFieldSelection(){const e=this.parent;if(this.primaryKey=this.parent.getPrimaryKeyFieldNames()[0],!e.enableVirtualization&&this.chkField&&(e.isPersistSelection&&0===Object.keys(this.selectedRowState).length||!e.isPersistSelection)){const t=this.parent.getDataModule(),i=(new Ze).where(this.chkField,"equal",!0);i.params||(i.params=this.parent.query.params);const n=t.getData({},i),s=this;this.parent.showSpinner(),n.then(o=>{s.dataSuccess(o.result),s.refreshPersistSelection(),s.parent.hideSpinner()})}}dataSuccess(e){for(let t=0;t<e.length;t++)h(this.selectedRowState[e[t][this.primaryKey]])&&e[t][this.chkField]&&(this.selectedRowState[e[t][this.primaryKey]]=e[t][this.chkField]);this.persistSelectedData=e}setRowSelection(e){if(!this.parent.getDataModule().isRemote())if(e)if(this.parent.groupSettings.columns.length)for(const t of this.getData().records)this.selectedRowState[t[this.primaryKey]]=!0;else for(const t of this.getData())this.selectedRowState[t[this.primaryKey]]=!0;else this.selectedRowState={}}getData(){return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(!0))}refreshPersistSelection(){let e=this.parent.getRows();if(this.parent.isCheckBoxSelection&&this.parent.isFrozenGrid()&&(this.parent.getMovableContentTbody().querySelector(".e-checkselect")&&(e=this.parent.getMovableRows()),this.parent.getFrozenMode()===Ot&&this.parent.getFrozenRightContentTbody().querySelector(".e-checkselect")&&(e=this.parent.getFrozenRightRows())),this.totalRecordsCount=this.parent.getCurrentViewRecords().length,this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),null!==e&&e.length>0&&(this.parent.isPersistSelection||this.chkField)){const t=[];for(let i=0;i<e.length;i++){const n=this.getRowObj(e[i]),s=n&&n.data?n.data[this.primaryKey]:null;if(null===s)return;let o;const l=e[i].querySelector(".e-checkselect");this.selectedRowState[s]||"Check"===this.parent.checkAllRows&&this.selectedRowState[s]&&this.totalRecordsCount===Object.keys(this.selectedRowState).length&&this.chkAllCollec.indexOf(s)<0||"Uncheck"===this.parent.checkAllRows&&this.chkAllCollec.indexOf(s)>0||"Intermediate"===this.parent.checkAllRows&&!h(this.chkField)&&n.data[this.chkField]?(t.push(parseInt(e[i].getAttribute(ei),10)),o=!0):(o=!1,this.checkedTarget!==l&&this.parent.isCheckBoxSelection&&l&&M_(l.nextElementSibling,o)),this.updatePersistCollection(e[i],o)}this.isSingleSel()&&t.length>0?this.selectRow(t[0],!0):this.selectRows(t)}this.parent.isCheckBoxSelection&&this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState()}actionBegin(e){if("save"===e.requestType&&this.parent.isPersistSelection){const t=this.parent.element.querySelector(".e-edit-checkselect");if(!h(t)){let i=D(t,"."+hl);if(i){"Dialog"===this.parent.editSettings.mode&&(i=this.parent.element.querySelector(".e-dlgeditrow"));const n=this.getRowObj(i);if(!n)return;this.selectedRowState[n.data[this.primaryKey]]=n.isSelected=t.checked}else this.isCheckedOnAdd=t.checked}}}actionComplete(e){if("save"===e.requestType&&this.parent.isPersistSelection){if("add"===e.action&&this.isCheckedOnAdd){const t=this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute("data-uid"));this.selectedRowState[t.data[this.primaryKey]]=t.isSelected=this.isCheckedOnAdd}this.refreshPersistSelection()}if("delete"===e.requestType&&this.parent.isPersistSelection){const i=e.data.slice();for(let n=0;n<i.length;n++)h(i[n][this.primaryKey])||this.updatePersistDelete(i[n][this.primaryKey]);this.setCheckAllState(),this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount}"paging"===e.requestType&&(this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0)}onDataBound(){if(!this.parent.enableVirtualization&&this.parent.isPersistSelection&&(this.selectedRecords.length&&(this.isPrevRowSelection=!0),this.refreshPersistSelection()),this.parent.enableVirtualization&&this.setCheckAllState(),this.initialRowSelection=!!(this.isRowType()&&this.parent.element.querySelectorAll(".e-selectionbackground")&&this.parent.getSelectedRows().length),this.parent.isCheckBoxSelection&&!this.initialRowSelection){const e=this.parent.getRowsObject(),t=[];for(let i=0;i<e.length;i++)e[i].isSelected&&t.push(i);t.length&&this.selectRows(t),this.initialRowSelection=!0}}updatePersistSelectedData(e){if(this.parent.isPersistSelection){const t=this.parent.getRows();for(let i=0;i<t.length;i++)this.updatePersistCollection(t[i],e);"Uncheck"===this.parent.checkAllRows?(this.setRowSelection(!1),this.persistSelectedData=this.parent.getDataModule().isRemote()?this.persistSelectedData:[]):"Check"===this.parent.checkAllRows&&(this.setRowSelection(!0),this.persistSelectedData=this.parent.getDataModule().isRemote()?this.persistSelectedData:this.parent.groupSettings.columns.length?this.getData().records.slice():this.getData().slice())}}checkSelectAllAction(e){const t=this.getRenderer(),i=this.parent.element.querySelector(".e-gridform");if(this.checkedTarget=this.getCheckAllBox(),e&&this.getCurrentBatchRecordChanges().length?(this.parent.checkAllRows="Check",this.updatePersistSelectedData(e),this.selectRowsByRange(t.getVirtualRowIndex(0),t.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length-1))):(this.parent.checkAllRows="Uncheck",this.updatePersistSelectedData(e),this.clearSelection()),this.chkAllCollec=[],!h(i)){const n=i.querySelector(".e-edit-checkselect");h(n)||M_(n.nextElementSibling,e)}}checkSelectAll(e){const t=this.getCheckAllStatus(e);let i="Check"===t;this.isHeaderCheckboxClicked=!0,"Intermediate"===t&&(i=this.getCurrentBatchRecordChanges().some(n=>n[this.primaryKey]in this.selectedRowState)),this.parent.isPersistSelection&&this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),this.checkSelectAllAction(!i),this.target=null,this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState(),this.triggerChkChangeEvent(e,!i)}getCheckAllStatus(e){const t=e?e.nextElementSibling.classList:this.getCheckAllBox().nextElementSibling.classList;let i;return i=t.contains("e-check")?"Check":t.contains("e-uncheck")?"Uncheck":t.contains("e-stop")?"Intermediate":"None",i}checkSelect(e){const t=D(this.checkedTarget,"."+Di),i=this.parent;this.isMultiCtrlRequest=!0;let n=0;if(this.isHeaderCheckboxClicked=!1,gr(i)){const s=t.parentElement.getAttribute("data-uid");n=i.getRows().map(o=>o.getAttribute("data-uid")).indexOf(s)}else n=parseInt(t.parentElement.getAttribute(ei),10);this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(ba).length>0&&"Top"===this.parent.editSettings.newRowPosition&&++n,this.rowCellSelectionHandler(n,parseInt(t.getAttribute(Dr),10)),this.moveIntoUncheckCollection(D(t,"."+Bi)),this.setCheckAllState(),this.isMultiCtrlRequest=!1,this.triggerChkChangeEvent(e,e.nextElementSibling.classList.contains("e-check"))}moveIntoUncheckCollection(e){if("Check"===this.parent.checkAllRows||"Uncheck"===this.parent.checkAllRows){const t=this.getRowObj(e),i=t&&t.data?t.data[this.primaryKey]:null;if(!i)return;this.chkAllCollec.indexOf(i)<0?this.chkAllCollec.push(i):this.chkAllCollec.splice(this.chkAllCollec.indexOf(i),1)}}triggerChkChangeEvent(e,t){this.parent.trigger("checkBoxChange",{checked:t,selectedRowIndexes:this.parent.getSelectedRowIndexes(),target:e}),this.parent.isEdit||(this.checkedTarget=null)}updateSelectedRowIndex(e){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.getDataModule().isRemote())if("Check"===this.parent.checkAllRows){this.selectedRowIndexes=[];const t=this.getData().length;for(let i=0;i<t;i++)this.selectedRowIndexes.push(i)}else if("Uncheck"===this.parent.checkAllRows)this.selectedRowIndexes=[];else{const t=this.parent.getRowByIndex(e);if(e&&t&&"false"===t.getAttribute("aria-selected")){const i=this.selectedRowIndexes.indexOf(e);this.selectedRowIndexes.splice(i,1)}}}isAllSelected(){const e=this.getData();for(let t=0;t<e.length;t++)if(!this.selectedRowState[e[t][this.primaryKey]])return!1;return!0}setCheckAllState(e,t){if(this.parent.isCheckBoxSelection||"ResetOnRowClick"===this.parent.selectionSettings.checkboxMode){let i=!0,n=Object.keys(this.selectedRowState).length;this.parent.isPersistSelection||(n=this.selectedRowIndexes.length,this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.parent.isPersistSelection&&!this.parent.getDataModule().isRemote()&&(this.parent.searchSettings.key.length||this.parent.filterSettings.columns.length)&&(i=this.isAllSelected());const s=this.getCheckAllBox();if(s){const o=s.nextElementSibling;T([o],["e-check","e-stop","e-uncheck"]),sv(s,!1),s.indeterminate=!1,i&&n===this.totalRecordsCount&&this.totalRecordsCount||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&!this.parent.getDataModule().isRemote()&&this.getData().length&&n===this.getData().length?(_([o],["e-check"]),sv(s,!0),t&&this.getRenderer().setSelection(null,!0,!0),this.parent.checkAllRows="Check"):!this.selectedRowIndexes.length||0===n&&0===this.getCurrentBatchRecordChanges().length?(_([o],["e-uncheck"]),t&&this.getRenderer().setSelection(null,!1,!0),this.parent.checkAllRows="Uncheck",0===n&&0===this.getCurrentBatchRecordChanges().length?_([o.parentElement],["e-checkbox-disabled"]):T([o.parentElement],["e-checkbox-disabled"])):(_([o],["e-stop"]),this.parent.checkAllRows="Intermediate",s.indeterminate=!0),(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&!this.parent.getDataModule().isRemote()&&this.updateSelectedRowIndex(e)}}}keyDownHandler(e){(("chrome"===A.info.name||"safari"===A.info.name)&&(91===e.keyCode||93===e.keyCode)||"opera"===A.info.name&&17===e.keyCode||"mozilla"===A.info.name&&224===e.keyCode)&&(this.cmdKeyPressed=!0),32===e.keyCode&&e.preventDefault()}keyUpHandler(e){(("chrome"===A.info.name||"safari"===A.info.name)&&(91===e.keyCode||93===e.keyCode)||"opera"===A.info.name&&17===e.keyCode||"mozilla"===A.info.name&&224===e.keyCode)&&(this.cmdKeyPressed=!1)}clickHandler(e){let t=e.target;this.actualTarget=t,this.selectionSettings.persistSelection&&(this.deSelectedData=T_(this.persistSelectedData)),(Se(t,Bi)||Se(t,"e-headerchkcelldiv")||this.selectionSettings.allowColumnSelection&&t.classList.contains("e-headercell"))&&(this.isInteracted=!0),this.isMultiCtrlRequest=e.ctrlKey||this.enableSelectMultiTouch||this.isMacOS&&this.cmdKeyPressed,this.parent.allowKeyboard?this.isMultiShiftRequest=e.shiftKey:(this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1),this.popUpClickHandler(e);let n,i=!1;this.preventFocus=!0;const s=Se(t,"e-checkbox-wrapper");if(this.checkSelectAllClicked=!!(s&&s.getElementsByClassName("e-checkselectall")||this.selectionSettings.persistSelection&&Se(t,Bi)),s&&s.querySelectorAll(".e-checkselect,.e-checkselectall").length>0&&(n=s.querySelector('input[type="checkbox"]'),i=!0),this.drawBorders(),this.updateAutoFillPosition(),t=Se(t,Di),(t&&t.parentElement.classList.contains(Bi)&&!this.parent.selectionSettings.checkboxOnly||i)&&!this.isRowDragSelected){if(this.parent.isCheckBoxSelection&&(this.isMultiCtrlRequest=!0),this.target=t,h(n)){const o=this.parent;let l=0;if(gr(o)){const a=t.parentElement.getAttribute("data-uid");l=o.getRows().map(c=>c.getAttribute("data-uid")).indexOf(a)}else l=parseInt(t.parentElement.getAttribute(ei),10);this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(ba).length>0&&++l,(!this.mUPTarget||!this.mUPTarget.isEqualNode(t))&&this.rowCellSelectionHandler(l,parseInt(t.getAttribute(Dr),10)),this.parent.hoverFrozenRows(e),this.parent.isCheckBoxSelection&&(this.moveIntoUncheckCollection(D(t,"."+Bi)),this.setCheckAllState())}else this.checkedTarget=n,n.classList.contains("e-checkselectall")?this.checkSelectAll(n):this.checkSelect(n);!this.parent.isCheckBoxSelection&&A.isDevice&&!this.isSingleSel()&&this.showPopup(e)}else if(e.target.classList.contains("e-headercell")&&!e.target.classList.contains("e-stackedheadercell")){const o=e.target.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");this.headerSelectionHandler(this.parent.getColumnIndexByUid(o))}this.isMultiCtrlRequest=!1,this.isMultiShiftRequest=!1,h(D(e.target,".e-unboundcell"))&&(this.preventFocus=!1)}popUpClickHandler(e){const t=e.target;D(t,".e-headercell")||e.target.classList.contains(Di)||D(t,".e-gridpopup")?t.classList.contains("e-rowselect")&&(t.classList.contains("e-spanclicked")?(t.classList.remove("e-spanclicked"),this.enableSelectMultiTouch=!1,this.parent.element.querySelector(".e-gridpopup").style.display="none"):(t.classList.add("e-spanclicked"),this.enableSelectMultiTouch=!0)):this.parent.element.querySelector(".e-gridpopup").style.display="none"}showPopup(e){this.selectionSettings.enableSimpleMultiRowSelection||function JZ(r,e,t){const i=r.querySelector("span"),n=r.parentElement.getBoundingClientRect(),s=e.target.getBoundingClientRect();i.className=t,r.style.display="";const o=(h(e.clientY)?e.changedTouches[0].clientY:e.clientY)>r.offsetHeight+10;r.style.top=s.top-n.top+(o?-(r.offsetHeight+10):r.offsetHeight+10)+"px",r.style.left=function xPe(r,e,t,i){const n=r.offsetWidth/2,s=sm(e).x;return s-t.left<n?t.left-i:t.right-s<n?t.right-i-2*n:s-i-n}(r,e,s,n.left)+"px",o?(r.querySelector(".e-downtail").style.display="",r.querySelector(".e-uptail").style.display="none"):(r.querySelector(".e-downtail").style.display="none",r.querySelector(".e-uptail").style.display="")}(this.parent.element.querySelector(".e-gridpopup"),e,"e-rowselect e-icons e-icon-rowselect"+(!this.isSingleSel()&&(this.selectedRecords.length>(this.parent.getFrozenColumns()?2:1)||this.selectedRowCellIndexes.length>1)?" e-spanclicked":""))}rowCellSelectionHandler(e,t){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?(this.isDragged||this.selectRow(e,this.selectionSettings.enableToggle),this.selectCell({rowIndex:e,cellIndex:t},this.selectionSettings.enableToggle),this.selectedRowCellIndexes.length&&this.updateAutoFillPosition(),this.drawBorders()):this.isMultiShiftRequest?(this.parent.isCheckBoxSelection||!this.parent.isCheckBoxSelection&&!D(this.target,"."+Di).classList.contains(J0)?this.selectRowsByRange(Et(this.prevRowIndex)?e:this.prevRowIndex,e):this.addRowsToSelection([e]),this.selectCellsByRange(Et(this.prevCIdxs)?{rowIndex:e,cellIndex:t}:this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.updateAutoFillPosition(),this.drawBorders()):(this.addRowsToSelection([e]),this.addCellsToSelection([{rowIndex:e,cellIndex:t}]),this.showHideBorders("none")),this.isDragged=!1}onCellFocused(e){if(this.parent.frozenRows&&e.container.isHeader&&e.byKey)if("upArrow"===e.keyArgs.action)e.isJump=this.parent.allowFiltering?"INPUT"===e.element.tagName:"TH"===e.element.tagName;else if("downArrow"===e.keyArgs.action){const a=Number(e.element.parentElement.getAttribute(ei));e.isJump=0===a}else"ctrlHome"===e.keyArgs.action&&(e.isJump=!0);const t=this.parent.isFrozenGrid()?(e.container.isHeader&&"TD"!==e.element.tagName&&e.isJump&&!this.selectionSettings.allowColumnSelection||(e.container.isContent||"TD"===e.element.tagName)&&!(e.container.isSelectable||"TD"===e.element.tagName))&&!(e.byKey&&"space"===e.keyArgs.action):(e.container.isHeader&&e.isJump||e.container.isContent&&!e.container.isSelectable)&&!(e.byKey&&"space"===e.keyArgs.action)&&!(e.element.classList.contains("e-detailrowexpand")||e.element.classList.contains("e-detailrowcollapse")),i=e.container.isHeader&&"TD"!==e.element.tagName&&!D(e.element,"."+Di)&&!(e.byKey&&"space"===e.keyArgs.action);if(!e.byKey||t)return void(t&&!this.parent.isCheckBoxSelection&&this.clearSelection());let[n,s]=e.container.isContent?e.container.indexes:e.indexes;const o=this.focus.getPrevIndexes();if(this.parent.frozenRows)if(e.container.isHeader&&("TD"===e.element.tagName||D(e.element,"."+Di))){const a=this.parent.getHeaderTable().querySelector("thead").childElementCount;n-=a,o.rowIndex=h(o.rowIndex)?null:o.rowIndex-a}else n+=this.parent.frozenRows,o.rowIndex=0!==o.rowIndex&&h(o.rowIndex)?null:o.rowIndex+this.parent.frozenRows;if(this.parent.isFrozenGrid()){const a=Number(e.element.getAttribute(Dr)),c=this.parent.getSelectedRowCellIndexes();c.length&&0===o.cellIndex&&(o.cellIndex=c[c.length-1].cellIndexes[0]),o.cellIndex=h(o.cellIndex)?null:o.cellIndex===s?a:a-1,s=a}if(this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache&&(n=parseInt(e.element.parentElement.getAttribute("aria-rowindex"),10)),(i||-1===["ctrlPlusA","escape"].indexOf(e.keyArgs.action)&&"space"!==e.keyArgs.action&&n===o.rowIndex&&s===o.cellIndex)&&!this.selectionSettings.allowColumnSelection)return;this.preventFocus=!0;const l=this.getKeyColIndex(e);switch(this.needColumnSelection&&(s=l),e.keyArgs.action){case"downArrow":case"upArrow":case"enter":case"shiftEnter":this.target=e.element,this.isKeyAction=!0,this.applyDownUpKey(n,s);break;case"rightArrow":case"leftArrow":this.applyRightLeftKey(n,s);break;case"shiftDown":case"shiftUp":this.shiftDownKey(n,s);break;case"shiftLeft":case"shiftRight":this.applyShiftLeftRightKey(n,s);break;case"home":case"end":s="end"===e.keyArgs.action?this.getLastColIndex(n):0,this.applyHomeEndKey(n,s);break;case"ctrlHome":case"ctrlEnd":this.applyCtrlHomeEndKey(n,s);break;case"escape":this.clearSelection();break;case"ctrlPlusA":this.ctrlPlusA();break;case"space":this.applySpaceSelection(e.element);break;case"tab":this.parent.editSettings.allowNextRowEdit&&this.selectRow(n)}this.needColumnSelection=!1,this.preventFocus=!1,this.positionBorders(),this.updateAutoFillPosition()}getKeyColIndex(e){let t,i=null;const n=e.element.querySelector(".e-stackedheadercelldiv");if(this.selectionSettings.allowColumnSelection&&Se(e.element,"e-columnheader"))if(this.needColumnSelection=!!e.container.isHeader,n){if("rightArrow"===e.keyArgs.action||"leftArrow"===e.keyArgs.action)return i;t=n.getAttribute("e-mappinguid");const s=this.getstackedColumns(this.parent.getColumnByUid(t).columns),o=this.parent.getColumnIndexByUid(s[s.length-1].uid),l=this.parent.getColumnIndexByUid(s[0].uid);i=this.prevColIndex>=o?l:o}else i=this.parent.getColumnIndexByUid(e.element.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));return i}ctrlPlusA(){this.isRowType()&&!this.isSingleSel()&&this.selectRowsByRange(0,this.getCurrentBatchRecordChanges().length-1),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange({rowIndex:0,cellIndex:0},{rowIndex:this.parent.getRows().length-1,cellIndex:this.parent.getColumns().length-1})}applySpaceSelection(e){e.classList.contains("e-checkselectall")?(this.checkedTarget=e,this.checkSelectAll(this.checkedTarget)):e.classList.contains("e-checkselect")&&(this.checkedTarget=e,this.checkSelect(this.checkedTarget))}applyDownUpKey(e,t){const i=this.parent;this.parent.isCheckBoxSelection&&"Check"===this.parent.checkAllRows&&!this.selectionSettings.persistSelection&&(this.checkSelectAllAction(!1),this.checkedTarget=null),this.isRowType()&&(this.selectRow(e,!0),this.applyUpDown(i.selectedRowIndex)),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0),this.selectionSettings.allowColumnSelection&&this.needColumnSelection&&this.selectColumn(t)}applyUpDown(e){if(e<0)return;this.target||(this.target=this.parent.getRows()[0].children[this.parent.groupSettings.columns.length||0]);const t=parseInt(this.target.getAttribute(Dr),10),i=this.parent.getFrozenColumns();if(i)this.target=t>=i?this.contentRenderer.getMovableRowByIndex(e).getElementsByClassName(Di)[t-i]:this.contentRenderer.getRowByIndex(e).getElementsByClassName(Di)[t];else{const n=this.contentRenderer.getRowByIndex(e);n&&(this.target=n.getElementsByClassName(Di)[t])}this.addAttribute(this.target)}applyRightLeftKey(e,t){this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumn(t):this.isCellType()&&(this.selectCell({rowIndex:e,cellIndex:t},!0),this.addAttribute(this.target))}applyHomeEndKey(e,t){this.isCellType()?this.selectCell({rowIndex:e,cellIndex:t},!0):this.addAttribute(this.parent.getCellFromIndex(e,t))}shiftDownKey(e,t){this.isMultiShiftRequest=!0,this.isRowType()&&!this.isSingleSel()&&(Et(this.prevRowIndex)?this.selectRow(0,!0):(this.selectRowsByRange(this.prevRowIndex,e),this.applyUpDown(e))),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange(this.prevCIdxs||{rowIndex:0,cellIndex:0},{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1}applyShiftLeftRightKey(e,t){this.isMultiShiftRequest=!0,this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumnsByRange(this.prevColIndex,t):this.selectCellsByRange(this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1}getstackedColumns(e){const t=[];for(let i=0,n=e.length;i<n;i++)e[i].columns?this.getstackedColumns(e[i].columns):t.push(e[i]);return t}applyCtrlHomeEndKey(e,t){this.isRowType()&&(this.selectRow(e,!0),this.addAttribute(this.parent.getCellFromIndex(e,t))),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0)}addRemoveClassesForRow(e,t,i,...n){if(e){const s=[].slice.call(e.getElementsByClassName(Di)),o=e.querySelector(".e-detailrowcollapse")||e.querySelector(".e-detailrowexpand"),l=e.querySelector(".e-rowdragdrop");o&&s.push(o),l&&s.push(l),Zd(s,t,...n)}this.getRenderer().setSelection(e?e.getAttribute("data-uid"):null,t,i)}isRowType(){return"Row"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode}isCellType(){return"Cell"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode}isSingleSel(){return"Single"===this.selectionSettings.type}getRenderer(){return h(this.contentRenderer)&&(this.contentRenderer=this.factory.getRenderer(Sr.Content)),this.contentRenderer}getSelectedRecords(){let e=[];return e=this.selectionSettings.persistSelection?this.persistSelectedData:this.parent.getRowsObject().filter(t=>t.isSelected).map(t=>t.data),e}selectColumn(e){const t=this.parent;if(h(t.getColumns()[e]))return;const i=t.getColumnByIndex(e),n=t.getColumnHeaderByUid(i.uid),s=n.classList.contains("e-columnselection");if(!t.selectionSettings.allowColumnSelection)return;const o=this.selectedColumnsIndexes.length>1&&this.selectedColumnsIndexes.indexOf(e)>-1;if(this.clearColDependency(),!s||!this.selectionSettings.enableToggle||o){const l={columnIndex:e,headerCell:n,column:i,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(l,q4),l.cancel)return void this.disableInteracted();(!t.selectionSettings.enableToggle||e!==this.prevColIndex||!s||o)&&this.updateColSelection(n,e),this.onActionComplete({columnIndex:e,headerCell:n,column:i,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex},W4)}this.updateColProps(e)}selectColumnsByRange(e,t){const i=this.parent;if(h(i.getColumns()[e]))return;const n=[];if("Single"===i.selectionSettings.type||h(t))n[0]=e;else{const s=e<t;for(let o=e;s?o<=t:o>=t;s?o++:o--)n.push(o)}this.selectColumns(n)}selectColumns(e){const t=this.parent;let i=this.getselectedCols();if("Single"===t.selectionSettings.type&&(e=[e[0]]),!t.selectionSettings.allowColumnSelection)return;this.clearColDependency();const n={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(n,q4),n.cancel)return void this.disableInteracted();for(let o=0,l=e.length;o<l;o++)this.updateColSelection(t.getColumnHeaderByUid(t.getColumnByIndex(e[o]).uid),e[o]);i=this.getselectedCols();const s={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(s,W4),this.updateColProps(e[0])}selectColumnWithExisting(e){const t=this.parent;if(h(t.getColumns()[e]))return;const i=t.getColumnHeaderByUid(t.getColumnByIndex(e).uid);let n=this.getselectedCols();if("Single"===t.selectionSettings.type&&this.clearColDependency(),t.selectionSettings.allowColumnSelection){if(this.selectedColumnsIndexes.indexOf(e)>-1)this.clearColumnSelection(e);else{const s={columnIndex:e,headerCell:n,columnIndexes:this.selectedColumnsIndexes,column:t.getColumnByIndex(e),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(s,q4),s.cancel)return void this.disableInteracted();this.updateColSelection(i,e),n=this.getselectedCols();const o={columnIndex:e,headerCell:n,column:t.getColumnByIndex(e),columnIndexes:this.selectedColumnsIndexes,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(o,W4)}this.updateColProps(e)}}clearColumnSelection(e){if(this.isColumnSelected){const t=this.parent;if(!h(e)&&-1===this.selectedColumnsIndexes.indexOf(e))return;const i=h(e)?this.selectedColumnsIndexes[this.selectedColumnsIndexes.length-1]:e,n=t.getColumnByIndex(i);let s;const o=t.getColumnByIndex(i);s=n.getFreezeTableName()===Bn?t.getFrozenRightColumnHeaderByIndex(i):"movable"===n.getFreezeTableName()?t.getMovableColumnHeaderByIndex(i):t.getColumnHeaderByUid(o.uid);const l={columnIndex:i,headerCell:s,columnIndexes:this.selectedColumnsIndexes,column:o,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted};if(this.columnDeselect(l,"columnDeselecting"))return void this.disableInteracted();const c=h(e)?[].slice.call(t.getHeaderContent().getElementsByClassName("e-columnselection")):[s],d=this.getSelectedColumnCells(e);for(let u=0,p=c.length;u<p;u++)Zd([c[u]],!1,"e-columnselection");for(let u=0,p=d.length;u<p;u++)Zd([d[u]],!1,"e-columnselection");h(e)?(this.columnDeselect(l,"columnDeselected"),this.selectedColumnsIndexes=[],this.isColumnSelected=!1,this.parent.getColumns().filter(u=>u.isSelected=!1)):(this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(e),1),this.parent.getColumns()[e].isSelected=!1)}}getselectedCols(){const e=this.parent;let t;if(this.selectedColumnsIndexes.length>1){t=[];for(let i=0;i<this.selectedColumnsIndexes.length;i++)t.push(e.getColumnHeaderByUid(e.getColumnByIndex(this.selectedColumnsIndexes[i]).uid))}else t=e.getColumnHeaderByUid(e.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);return t}getSelectedColumnCells(e){const t=this.parent,i=!h(this.parent.rowTemplate);let s,o,n=i?t.getRows():t.getDataRows();t.isFrozenGrid()&&t.getContent().querySelector("."+gn)&&(s=i?t.getMovableRows():t.getMovableDataRows(),n=t.addMovableRows(n,s),t.getFrozenMode()===Ot&&(o=i?t.getFrozenRightRows():t.getFrozenRightDataRows(),n=t.addMovableRows(n,o)));let l=[];const a=h(e)?".e-columnselection":'[aria-colindex="'+e+'"]';for(let c=0,d=n.length;c<d;c++)l=l.concat([].slice.call(n[c].querySelectorAll(a)));return l}columnDeselect(e,t){return"columnDeselected"===t&&delete e.cancel,this.onActionComplete(e,t),e.cancel}updateColProps(e){this.prevColIndex=e,this.isColumnSelected=this.selectedColumnsIndexes.length&&!0}clearColDependency(){this.clearColumnSelection(),this.selectedColumnsIndexes=[]}updateColSelection(e,t){if(h(this.parent.getColumns()[t]))return;const i=this.parent.getFrozenLeftCount(),n=this.parent.getMovableColumnsCount(),s=this.parent.getColumnByIndex(t),o=!h(this.parent.rowTemplate);let l;this.selectedColumnsIndexes.push(t),this.parent.getColumns()[t].isSelected=!0,s.getFreezeTableName()===Bn?(t-=i+n,l=o?this.parent.getFrozenRightRows():this.parent.getFrozenRightDataRows()):"movable"===s.getFreezeTableName()?(t-=i,l=o?this.parent.getMovableRows():this.parent.getMovableDataRows()):(t+=this.parent.getIndentCount(),l=o?this.parent.getRows():this.parent.getDataRows()),Zd([e],!0,"e-columnselection");for(let a=0,c=l.length;a<c;a++)l[a].classList.contains(Bi)&&(!l[a].classList.contains(hl)&&!l[a].classList.contains(ba)||"Normal"!==this.parent.editSettings.mode||h(l[a].querySelector("tr").childNodes[t])?h(l[a].childNodes[t])||Zd([l[a].childNodes[t]],!0,"e-columnselection"):Zd([l[a].querySelector("tr").childNodes[t]],!0,"e-columnselection"))}headerSelectionHandler(e){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?this.selectColumn(e):this.isMultiShiftRequest?this.selectColumnsByRange(Et(this.prevColIndex)?e:this.prevColIndex,e):this.selectColumnWithExisting(e)}addEventListener_checkbox(){this.parent.on($d,this.dataReady,this),this.onDataBoundFunction=this.onDataBound.bind(this),this.parent.addEventListener(Ga,this.onDataBoundFunction),this.parent.on(MB,this.onDataBoundFunction),this.parent.on(Ds,this.checkBoxSelectionChanged,this),this.parent.on(wB,this.initPerisistSelection,this),this.parent.on(Bh,this.setCheckAllForEmptyGrid,this),this.actionCompleteFunc=this.actionCompleteHandler.bind(this),this.parent.addEventListener(xi,this.actionCompleteFunc),this.parent.on(Ml,this.clickHandler,this),this.resizeEndFn=()=>{this.updateAutoFillPosition(),this.drawBorders()},this.resizeEndFn.bind(this),this.parent.addEventListener("resizeStop",this.resizeEndFn)}removeEventListener_checkbox(){this.parent.off($d,this.dataReady),this.parent.removeEventListener(Ga,this.onDataBoundFunction),this.parent.removeEventListener(xi,this.actionCompleteFunc),this.parent.off(MB,this.onDataBoundFunction),this.parent.off(Bh,this.setCheckAllForEmptyGrid),this.parent.off(Ml,this.clickHandler),this.parent.off(wB,this.initPerisistSelection)}setCheckAllForEmptyGrid(){const e=this.getCheckAllBox();e&&(this.parent.isCheckBoxSelection=!0,T([e.nextElementSibling],["e-check","e-stop","e-uncheck"]))}dataReady(e){this.isHeaderCheckboxClicked=!1,"virtualscroll"!==e.requestType&&!this.parent.isPersistSelection&&(!this.parent.enableInfiniteScrolling||"infiniteScroll"!==e.requestType)&&(this.parent.enableImmutableMode&&(this.disableUI=!0),this.clearSelection(),this.setCheckAllState(),this.disableUI=!1)}actionCompleteHandler(e){"save"===e.requestType&&this.parent.isPersistSelection&&this.refreshPersistSelection()}selectRowIndex(e){this.parent.isSelectedRowIndexUpdating=!0,this.parent.selectedRowIndex=e}disableInteracted(){this.isInteracted=!1}activeTarget(){this.actualTarget=this.isInteracted?this.actualTarget:null}}class GZ{constructor(e){this.parent=e,this.addEventListener()}search(e){const t=this.parent;e=h(e)?"":e,function Vu(r){const e=G("#"+r.element.id+"EditConfirm",r.element);return"Batch"===r.editSettings.mode&&gt(".e-updatedtd",r.element).length&&r.editSettings.showConfirmDialog&&(!e||e.classList.contains("e-popup-close"))}(t)?t.notify("prevent-batch",{instance:this,handler:this.search,arg1:e}):e!==t.searchSettings.key?(t.searchSettings.key=e.toString(),t.dataBind()):this.refreshSearch&&t.refresh()}addEventListener(){this.parent.isDestroyed||(this.parent.on(dl,this.onPropertyChanged,this),this.parent.on(XJ,this.onSearchComplete,this),this.parent.on(ki,this.destroy,this),this.actionCompleteFunc=this.onActionComplete.bind(this),this.parent.addEventListener(xi,this.actionCompleteFunc),this.parent.on(UT,this.cancelBeginEvent,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(dl,this.onPropertyChanged),this.parent.off(XJ,this.onSearchComplete),this.parent.off(ki,this.destroy),this.parent.removeEventListener(xi,this.actionCompleteFunc),this.parent.off(UT,this.cancelBeginEvent))}destroy(){this.removeEventListener()}onPropertyChanged(e){e.module===this.getModuleName()&&(h(e.properties.key)?this.parent.notify(yo,{requestType:"searching",type:On}):this.parent.notify(yo,{requestType:"searching",type:On,searchString:this.parent.searchSettings.key}))}onSearchComplete(e){this.parent.trigger(xi,O(e,{searchString:this.parent.searchSettings.key,requestType:"searching",type:xi}))}onActionComplete(e){this.refreshSearch="searching"!==e.requestType}cancelBeginEvent(e){"searching"===e.requestType&&this.parent.setProperties({searchSettings:{key:""}},!0)}getModuleName(){return"search"}}class pPe{constructor(e){this.parent=e}show(e,t){const i=this.getToggleFields(e),n=this.getColumns(i,t);this.parent.notify(Y0,{module:"edit"});for(let s=0;s<n.length;s++)n[s].visible=!0;this.setVisible(n)}hide(e,t){const i=this.getToggleFields(e),n=this.getColumns(i,t);this.parent.notify(Y0,{module:"edit"});for(let s=0;s<n.length;s++)n[s].visible=!1;this.setVisible(n)}getToggleFields(e){let t=[];return t="string"==typeof e?[e]:e,t}getColumns(e,t){return iv(e,n=>iv(this.parent.columnModel,s=>{if(s[t]===n)return s})[0])}setVisible(e,t=[]){const i={requestType:"columnstate",cancel:!1,columns:t=t.length>0?t:e};this.parent.enableInfiniteScrolling&&this.parent.allowGrouping&&this.parent.groupModule.groupSettings.columns.length>0&&(this.parent.contentModule.visibleRows=[]),this.parent.trigger(On,i,s=>{const o=this.parent.getColumns();if(e=h(e)?o:e,s.cancel)return this.parent.notify("reset-columns",{showHideArgs:s}),void(e.length>0&&(e[0].visible=!0));gr(this.parent)&&this.parent.contentModule.emptyVcRows(),this.parent.allowSelection&&this.parent.getSelectedRecords().length&&!this.parent.selectionSettings.persistSelection&&this.parent.clearSelection(),this.parent.enableColumnVirtualization?e.filter(c=>o.some(d=>c.field===d.field)).length&&this.parent.notify(Kd,e):this.parent.notify(Kd,e),this.parent.trigger(xi,{requestType:"columnstate",columns:t}),"All"!==this.parent.columnQueryMode&&this.parent.refresh()})}}class E_{constructor(e){this.previousValues={top:0,left:0},this.oneTimeReady=!0,this.parent=e,this.widthService=new NB(e),this.addEventListener()}getModuleName(){return"scroll"}setWidth(e){this.parent.element.style.width=$e(this.parent.width),e&&this.widthService.setWidthToColumns(),this.parent.toolbarModule&&this.parent.toolbarModule.toolbar&&this.parent.toolbarModule.toolbar.element&&this.parent.toolbarModule.toolbar.refreshOverflow()}setHeight(){let e=0;const t=this.parent.getContent().querySelector("."+Bs);let i=this.parent.height;if(this.parent.isFrozenGrid()&&"auto"!==this.parent.height&&this.parent.height.toString().indexOf("%")<0&&(i=parseInt(i,10)-E_.getScrollBarWidth()),!this.parent.enableVirtualization&&this.parent.frozenRows&&"auto"!==this.parent.height){const n=this.parent.getHeaderContent().querySelector(Ye);e=n?n.offsetHeight:0,n&&e&&(e-=n.getElementsByClassName(ba).length*this.parent.getRowHeight()),t.style.height=$e(i-e)}else t.style.height=$e(i);this.ensureOverflow(t),this.parent.isFrozenGrid()&&this.refresh()}setPadding(){const e=this.parent.getHeaderContent(),t=E_.getScrollBarWidth()-this.getThreshold(),i=this.getCssProperties(),n="Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===Ot?"0.5px":"1px";e.querySelector("."+pr).style[i.border]=t>0?n:"0px",e.style[i.padding]=t>0?t+"px":"0px"}removePadding(e){const t=this.getCssProperties(e),i=this.parent.getHeaderContent().querySelector("."+pr);i.style[t.border]="",i.parentElement.style[t.padding]="";const n=this.parent.getFooterContent();n&&n.classList.contains("e-footerpadding")&&n.classList.remove("e-footerpadding")}refresh(){if("100%"!==this.parent.height)return;const e=this.parent.getContent();this.parent.element.style.height="100%";const t=this.widthService.getSiblingsHeight(e);e.style.height="calc(100% - "+t+"px)",this.parent.isFrozenGrid()&&(e.firstElementChild.style.height="calc(100% - "+rm()+"px)")}getThreshold(){return"mozilla"===A.info.name?.5:1}addEventListener(){this.parent.isDestroyed||(this.parent.on(Bh,this.wireEvents,this),this.parent.on(Ds,this.wireEvents,this),this.parent.on(cs,this.onPropertyChanged,this),this.parent.on(sB,this.wireEvents,this),this.parent.on(so,this.setScrollLeft,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(Bh,this.wireEvents),this.parent.off(Ds,this.wireEvents),this.parent.off(cs,this.onPropertyChanged),this.parent.off(sB,this.wireEvents),this.parent.off(so,this.setScrollLeft))}setScrollLeft(){this.parent.isFrozenGrid()?this.parent.headerModule.getMovableHeader().scrollLeft=this.previousValues.left:this.parent.getHeaderContent().querySelector("."+pr).scrollLeft=this.previousValues.left}onFrozenContentScroll(){return e=>{null===this.content.querySelector(Ye)||this.parent.isPreventScrollEvent||(!h(this.parent.infiniteScrollModule)&&this.parent.enableInfiniteScrolling&&this.parent.notify(JT,e),this.previousValues.top=e.target.scrollTop)}}onContentScroll(e){const t=e,i=t.classList.contains(pr);return n=>{if(null===this.content.querySelector(Ye)||this.parent.isPreventScrollEvent)return;const s=n.target,o=s.scrollLeft;if(!h(this.parent.infiniteScrollModule)&&this.parent.enableInfiniteScrolling&&this.parent.notify(JT,{target:n.target,isLeft:this.previousValues.left!==o}),this.parent.groupSettings.columns.length&&this.parent.groupSettings.enableLazyLoading){const a=this.previousValues.top<this.parent.getContent().firstElementChild.scrollTop;this.parent.notify("lazy-load-scroll-handler",{scrollDown:a})}this.parent.notify("virtual-scroll-edit",{});const l=s.classList.contains("e-summarycontent");this.previousValues.left!==o?(this.parent.notify("close-filter-dialog",n),t.scrollLeft=o,l&&(this.header.scrollLeft=o),this.previousValues.left=o,this.parent.notify("scroll",{left:o})):this.previousValues.top=i?s.scrollTop:this.previousValues.top}}onCustomScrollbarScroll(e,t){const i=e,n=t;return s=>{if(null===this.content.querySelector(Ye))return;const l=s.target.scrollLeft;this.previousValues.left!==l&&(i.scrollLeft=l,n.scrollLeft=l,this.previousValues.left=l,this.parent.notify("scroll",{left:l}))}}onTouchScroll(e){const t=e;return i=>{if("mouse"===i.pointerType)return;const n=this.parent.isFrozenGrid(),s=this.getPointXY(i),o=t.scrollLeft+(this.pageXY.x-s.x),l=n?this.parent.getHeaderContent().querySelector("."+fn):this.parent.getHeaderContent().querySelector("."+pr),a=n?this.parent.getContent().querySelector("."+gn):this.parent.getContent().querySelector("."+Bs);this.previousValues.left===o||o<0||l.scrollWidth-l.clientWidth<o||(i.preventDefault(),l.scrollLeft=o,a.scrollLeft=o,n&&(this.parent.getContent().querySelector(".e-movablescrollbar").scrollLeft=o),this.pageXY.x=s.x,this.previousValues.left=o)}}setPageXY(){return e=>{"mouse"!==e.pointerType&&(this.pageXY=this.getPointXY(e))}}getPointXY(e){const t={x:0,y:0};return e.touches&&e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t}getScrollbleParent(e){if(null===e)return null;const t=h(e.tagName)?e.scrollingElement:e,i=document.defaultView.getComputedStyle(t,null).overflowY;return t.scrollHeight>t.clientHeight&&"hidden"!==i&&"visible"!==i||"HTML"===e.tagName||"BODY"===e.tagName?e:this.getScrollbleParent(e.parentNode)}addStickyListener(e){this.parentElement=this.getScrollbleParent(this.parent.element.parentElement),e?this.parentElement&&C.add("HTML"===this.parentElement.tagName||"BODY"===this.parentElement.tagName?document:this.parentElement,"scroll",this.makeStickyHeader,this):C.remove(this.parentElement,"scroll",this.makeStickyHeader)}wireEvents(){if(this.oneTimeReady){const s=this.parent.isFrozenGrid();this.content=this.parent.getContent().querySelector("."+Bs),this.header=this.parent.getHeaderContent().querySelector("."+pr);const o=this.content.querySelector("."+gn),l=this.header.querySelector("."+fn),a=this.parent.getContent().querySelector(".e-movablescrollbar");this.parent.frozenRows&&(C.add(s?l:this.header,"touchstart pointerdown",this.setPageXY(),this),C.add(s?l:this.header,"touchmove pointermove",this.onTouchScroll(s?o:this.content),this)),this.parent.isFrozenGrid()?(C.add(a,"scroll",this.onCustomScrollbarScroll(o,l),this),C.add(o,"scroll",this.onCustomScrollbarScroll(a,l),this),C.add(l,"scroll",this.onCustomScrollbarScroll(a,o),this),C.add(this.content,"scroll",this.onFrozenContentScroll(),this),C.add(l,"touchstart pointerdown",this.setPageXY(),this),C.add(l,"touchmove pointermove",this.onTouchScroll(o),this),C.add(o,"touchstart pointerdown",this.setPageXY(),this),/macintosh|ipad/.test(A.userAgent.toLowerCase())&&A.isDevice||C.add(o,"touchmove pointermove",this.onTouchScroll(l),this)):(C.add(this.content,"scroll",this.onContentScroll(this.header),this),C.add(this.header,"scroll",this.onContentScroll(this.content),this)),this.parent.aggregates.length&&C.add(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll(this.content),this),this.parent.enableStickyHeader&&this.addStickyListener(!0),this.refresh(),this.oneTimeReady=!1}const e=this.parent.getContentTable();let t,i,n;YZ(()=>{t=this.header.scrollLeft,i=e.scrollHeight,n=this.parent.getContent().clientHeight},()=>{const s={cancel:!1};this.parent.notify("check-scroll-reset",s),!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&(i<n&&(_(e.querySelectorAll("tr:last-child td"),"e-lastrowcell"),this.parent.isFrozenGrid()&&(_(this.parent.getContent().querySelector("."+gn).querySelectorAll("tr:last-child td"),"e-lastrowcell"),this.parent.getFrozenRightColumnsCount()&&_(this.parent.getContent().querySelector(".e-frozen-right-content").querySelectorAll("tr:last-child td"),"e-lastrowcell"))),s.cancel||((this.parent.frozenRows>0||this.parent.isFrozenGrid())&&this.header.querySelector("."+fn)?this.header.querySelector("."+fn).scrollLeft=this.previousValues.left:this.header.scrollLeft=this.previousValues.left,this.content.scrollLeft=this.previousValues.left,this.content.scrollTop=this.previousValues.top)),this.parent.enableColumnVirtualization||(this.content.scrollLeft=t),this.parent.isFrozenGrid()&&this.header.querySelector("."+fn)&&(this.header.querySelector("."+fn).scrollLeft=this.content.querySelector("."+gn).scrollLeft)}),this.parent.isPreventScrollEvent=!1}getCssProperties(e){const t={},i=h(e)?this.parent.enableRtl:e;return t.border=i?"borderLeftWidth":"borderRightWidth",t.padding=i?"paddingLeft":"paddingRight",t}ensureOverflow(e){e.style.overflowY="auto"===this.parent.height?"auto":"scroll"}onPropertyChanged(e){e.module===this.getModuleName()&&(this.setPadding(),this.oneTimeReady=!0,"auto"===this.parent.height&&this.removePadding(),this.wireEvents(),this.setHeight(),this.setWidth(!h(e.properties.width)))}makeStickyHeader(){if(this.parent.enableStickyHeader&&this.parent.element&&this.parent.getContent()){const e=this.parent.getContent().getClientRects()[0];if(e){const t=this.parent.getHeaderContent(),i=this.parent.element.querySelector(".e-toolbar"),n=this.parent.element.querySelector(".e-groupdroparea"),s=t.offsetHeight+(i?i.offsetHeight:0)+(n?n.offsetHeight:0),o=this.parentElement.getClientRects()[0].top,a=e.left;if(e.top-(o<0?0:o)<s&&e.bottom>0){t.classList.add("e-sticky");let c=0;n&&this.parent.groupSettings.showDropArea&&(this.setSticky(n,c,e.width,a,!0),c+=n.getClientRects()[0].height),i&&(this.setSticky(i,c,e.width,a,!0),c+=i.getClientRects()[0].height),this.setSticky(t,c,e.width,a,!0)}else if(t.classList.contains("e-sticky")){this.setSticky(t,null,null,null,!1),i&&this.setSticky(i,null,null,null,!1),n&&this.setSticky(n,null,null,null,!1);const c=this.parent.element.querySelector(".e-ccdlg");c&&c.classList.remove("e-sticky")}this.parent.notify("sticky-scroll-complete",{})}}}setSticky(e,t,i,n,s){s?(e.style.width=i+"px",e.classList.add("e-sticky")):e.classList.remove("e-sticky"),e.style.top=null!=t?t+"px":"",e.style.left=null!==n?parseInt(e.style.left,10)!==n?n+"px":e.style.left:""}destroy(){const e=this.parent.element;if(!e||!e.querySelector("."+Ir)&&!e.querySelector("."+ur))return;this.removeEventListener();const t=this.parent.getContent().querySelector("."+Bs);C.remove(t,"scroll",this.onContentScroll),this.parent.enableStickyHeader&&this.addStickyListener(!1),this.removePadding(),T([this.parent.getHeaderContent().querySelector("."+pr)],pr),T([t],Bs),t.style.height="",this.parent.element.style.width=""}static getScrollBarWidth(){return rm()}}var Vg=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Hg extends Nt{constructor(){super(...arguments),this.templateFn={}}setFormatter(e){this.formatFn=e}getFormatter(){return this.formatFn}setTemplate(e={}){void 0!==this.footerTemplate&&(this.templateFn[bs(St,St.Summary)]={fn:ci(this.footerTemplate,e),property:"footerTemplate"}),void 0!==this.groupFooterTemplate&&(this.templateFn[bs(St,St.GroupSummary)]={fn:ci(this.groupFooterTemplate,e),property:"groupFooterTemplate"}),void 0!==this.groupCaptionTemplate&&(this.templateFn[bs(St,St.CaptionSummary)]={fn:ci(this.groupCaptionTemplate,e),property:"groupCaptionTemplate"})}getTemplate(e){return this.templateFn[bs(St,e)]}setPropertiesSilent(e){this.setProperties(e,!0)}}Vg([y()],Hg.prototype,"type",void 0),Vg([y()],Hg.prototype,"field",void 0),Vg([y()],Hg.prototype,"columnName",void 0),Vg([y()],Hg.prototype,"format",void 0),Vg([y()],Hg.prototype,"footerTemplate",void 0),Vg([y()],Hg.prototype,"groupFooterTemplate",void 0),Vg([y()],Hg.prototype,"groupCaptionTemplate",void 0),Vg([y()],Hg.prototype,"customAggregate",void 0);class qZ extends Nt{}Vg([Hr([],Hg)],qZ.prototype,"columns",void 0);class gPe{constructor(e){this.copyContent="",this.isSelect=!1,this.parent=e,this.addEventListener()}addEventListener(){this.parent.isDestroyed||(this.parent.on(Ds,this.initialEnd,this),this.parent.on(hr,this.keyDownHandler,this),this.parent.on(Ml,this.clickHandler,this),C.add(this.parent.element,"keydown",this.pasteHandler,this))}removeEventListener(){this.parent.isDestroyed||(this.parent.off(hr,this.keyDownHandler),this.parent.off(Ds,this.initialEnd),this.parent.off(Ml,this.clickHandler),C.remove(this.parent.element,"keydown",this.pasteHandler))}clickHandler(e){let t=e.target;t=Se(t,"e-rowcell")}pasteHandler(e){const t=this.parent,i=/(Mac)/i.test(navigator.platform);if(67===e.keyCode&&i&&e.metaKey&&!t.isEdit&&this.copy(),86===e.keyCode&&(e.ctrlKey||i&&e.metaKey)&&!t.isEdit){if(!D(document.activeElement,"."+Di)||!t.editSettings.allowEditing||"Batch"!==t.editSettings.mode||"Cell"!==t.selectionSettings.mode||"Flow"===t.selectionSettings.cellSelectionMode)return;this.activeElement=document.activeElement,this.clipBoardTextArea.value="";const s=window.scrollX,o=window.scrollY;this.clipBoardTextArea.focus(),setTimeout(()=>{this.activeElement.focus(),window.scrollTo(s,o),this.paste(this.clipBoardTextArea.value,this.parent.getSelectedRowCellIndexes()[0].rowIndex,this.parent.getSelectedRowCellIndexes()[0].cellIndexes[0])},10)}}paste(e,t,i){const n=this.parent;let l,a,c,s=i,o=t;if(!n.editSettings.allowEditing||"Batch"!==n.editSettings.mode||"Cell"!==n.selectionSettings.mode||"Flow"===n.selectionSettings.cellSelectionMode)return;const d=e.split("\n");let u;const p=n.getDataRows();let g,f;const m=this.parent.isFrozenGrid();m&&(g=n.getMovableDataRows(),n.getFrozenRightColumnsCount()&&(f=n.getFrozenRightDataRows()));for(let x=0;x<d.length;x++){if(u=d[x].split("\t"),s=i,x===d.length-1&&""===d[x]||Et(n.getRowByIndex(o))){s++;break}for(let w=0;w<u.length;w++){if(c=n.getCellFromIndex(o,s),m){const I=g[o];c=!!p[o].querySelector('[aria-colindex="'+s+'"]')||I.querySelector('[aria-colindex="'+s+'"]'),f&&!c&&(c=f[o].querySelector('[aria-colindex="'+s+'"]'))}if(!c){s++;break}if(l=n.getColumnByIndex(s),a=l.getParser()?l.getParser()(u[w]):u[w],l.allowEditing&&!l.isPrimaryKey&&!l.template){const b={column:l,data:a,rowIndex:o};this.parent.trigger("beforePaste",b),o=b.rowIndex,b.cancel||n.editModule&&("number"===l.type?this.parent.editModule.updateCell(o,l.field,parseFloat(b.data)):n.editModule.updateCell(o,l.field,b.data))}s++}o++}n.selectionModule.selectCellsByRange({rowIndex:t,cellIndex:i},{rowIndex:o-1,cellIndex:s-1});const v=this.parent.getCellFromIndex(o-1,s-1);v&&ze(v,["e-focus","e-focused"],[])}initialEnd(){this.parent.off(Ds,this.initialEnd),this.clipBoardTextArea=this.parent.createElement("textarea",{className:"e-clipboard",styles:"opacity: 0",attrs:{tabindex:"-1","aria-label":"clipboard"}}),this.parent.element.appendChild(this.clipBoardTextArea)}keyDownHandler(e){"ctrlPlusC"===e.action?this.copy():"ctrlShiftPlusH"===e.action&&this.copy(!0)}setCopyData(e){if(""===window.getSelection().toString()){const t=this.parent.isFrozenGrid();let i,n;this.clipBoardTextArea.value=this.copyContent="";const s=this.parent.getRows();if(t&&(i=this.parent.getMovableDataRows(),this.parent.getFrozenMode()===Ot&&(n=this.parent.getFrozenRightRows())),"Cell"!==this.parent.selectionSettings.mode){const l=this.parent.getSelectedRowIndexes().sort((a,c)=>a-c);if(e){const a=[];for(let c=0;c<this.parent.getVisibleColumns().length;c++)a[c]=this.parent.getVisibleColumns()[c].headerText;this.getCopyData(a,!1,"\t",e),this.copyContent+="\n"}for(let a=0;a<l.length;a++){a>0&&(this.copyContent+="\n");const c=[].slice.call(s[l[a]].querySelectorAll(".e-rowcell:not(.e-hide)"));t&&(c.push(...[].slice.call(i[l[a]].querySelectorAll(".e-rowcell:not(.e-hide)"))),n&&c.push(...[].slice.call(n[l[a]].querySelectorAll(".e-rowcell:not(.e-hide)")))),this.getCopyData(c,!1,"\t",e)}}else{const l=this.checkBoxSelection();if(l.status){if(e){const a=[];for(let c=0;c<l.colIndexes.length;c++)a.push(this.parent.getColumnHeaderByIndex(l.colIndexes[c]));this.getCopyData(a,!1,"\t",e),this.copyContent+="\n"}for(let a=0;a<l.rowIndexes.length;a++){a>0&&(this.copyContent+="\n");const c=[].slice.call(s[l.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground"));t&&(c.push(...[].slice.call(i[l.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground"))),n&&c.push(...[].slice.call(n[l.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground")))),this.getCopyData(c,!1,"\t",e)}}else this.getCopyData([].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground")),!0,"\n",e)}const o={data:this.copyContent,cancel:!1};if(this.parent.trigger("beforeCopy",o),o.cancel)return;this.clipBoardTextArea.value=this.copyContent=o.data,A.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this.isSelect=!0}}getCopyData(e,t,i,n){const s="string"!=typeof e[0];for(let o=0;o<e.length;o++){if(n&&t){const l=parseInt(e[o].getAttribute(Dr),10);this.copyContent+=this.parent.getColumns()[l].headerText+"\n"}s?e[o].classList.contains("e-hide")||(this.copyContent+=e[o].innerText):this.copyContent+=e[o],o<e.length-1&&(this.copyContent+=i)}}copy(e){document.queryCommandSupported("copy")&&(this.setCopyData(e),document.execCommand("copy"),this.clipBoardTextArea.blur()),this.isSelect&&(window.getSelection().removeAllRanges(),this.isSelect=!1)}getModuleName(){return"clipboard"}destroy(){this.removeEventListener(),this.clipBoardTextArea&&X(this.clipBoardTextArea)}checkBoxSelection(){const e=this.parent;let t={status:!1};if("Cell"===e.selectionSettings.mode){const i=e.getSelectedRowCellIndexes();let n;const s=[];let o;for(o=0;o<i.length&&(i[o].cellIndexes.length&&s.push(i[o].rowIndex),!i[o].cellIndexes.length||(n||(n=JSON.stringify(i[o].cellIndexes.sort())),n===JSON.stringify(i[o].cellIndexes.sort())));o++);s.sort((l,a)=>l-a),o===i.length&&s[s.length-1]-s[0]==s.length-1&&(t={status:!0,rowIndexes:s,colIndexes:i[0].cellIndexes})}return t}}var zB,pe=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class hR extends Nt{}pe([y()],hR.prototype,"field",void 0),pe([y()],hR.prototype,"direction",void 0),pe([y(!1)],hR.prototype,"isFromGroup",void 0);class jB extends Nt{}pe([Hr([],hR)],jB.prototype,"columns",void 0),pe([y(!0)],jB.prototype,"allowUnsort",void 0);class Xd extends Nt{}pe([y()],Xd.prototype,"field",void 0),pe([y()],Xd.prototype,"operator",void 0),pe([y()],Xd.prototype,"value",void 0),pe([y()],Xd.prototype,"matchCase",void 0),pe([y(!1)],Xd.prototype,"ignoreAccent",void 0),pe([y()],Xd.prototype,"predicate",void 0),pe([y({})],Xd.prototype,"actualFilterValue",void 0),pe([y({})],Xd.prototype,"actualOperator",void 0),pe([y()],Xd.prototype,"type",void 0),pe([y()],Xd.prototype,"ejpredicate",void 0),pe([y()],Xd.prototype,"uid",void 0),pe([y()],Xd.prototype,"isForeignKey",void 0);class uR extends Nt{}pe([y(!1)],uR.prototype,"enableCache",void 0),pe([y(3)],uR.prototype,"maxBlocks",void 0),pe([y(3)],uR.prototype,"initialBlocks",void 0);class Mp extends Nt{}pe([Hr([],Xd)],Mp.prototype,"columns",void 0),pe([y("FilterBar")],Mp.prototype,"type",void 0),pe([y()],Mp.prototype,"mode",void 0),pe([y(!0)],Mp.prototype,"showFilterBarStatus",void 0),pe([y(1500)],Mp.prototype,"immediateModeDelay",void 0),pe([y()],Mp.prototype,"operators",void 0),pe([y(!1)],Mp.prototype,"ignoreAccent",void 0),pe([y(!1)],Mp.prototype,"enableCaseSensitivity",void 0),pe([y(!1)],Mp.prototype,"showFilterBarOperator",void 0);class Fp extends Nt{}pe([y("Row")],Fp.prototype,"mode",void 0),pe([y("Flow")],Fp.prototype,"cellSelectionMode",void 0),pe([y("Single")],Fp.prototype,"type",void 0),pe([y(!1)],Fp.prototype,"checkboxOnly",void 0),pe([y(!1)],Fp.prototype,"persistSelection",void 0),pe([y("Default")],Fp.prototype,"checkboxMode",void 0),pe([y(!1)],Fp.prototype,"enableSimpleMultiRowSelection",void 0),pe([y(!0)],Fp.prototype,"enableToggle",void 0),pe([y(!1)],Fp.prototype,"allowColumnSelection",void 0);class uC extends Nt{}pe([y([])],uC.prototype,"fields",void 0),pe([y("")],uC.prototype,"key",void 0),pe([y("contains")],uC.prototype,"operator",void 0),pe([y(!0)],uC.prototype,"ignoreCase",void 0),pe([y(!1)],uC.prototype,"ignoreAccent",void 0);class WZ extends Nt{}pe([y()],WZ.prototype,"targetID",void 0);class UZ extends Nt{}pe([y("Both")],UZ.prototype,"wrapMode",void 0);class $Z extends Nt{}pe([y("Normal")],$Z.prototype,"mode",void 0);class Pp extends Nt{}pe([y(!0)],Pp.prototype,"showDropArea",void 0),pe([y(!1)],Pp.prototype,"allowReordering",void 0),pe([y(!1)],Pp.prototype,"showToggleButton",void 0),pe([y(!1)],Pp.prototype,"showGroupedColumn",void 0),pe([y(!0)],Pp.prototype,"showUngroupButton",void 0),pe([y(!1)],Pp.prototype,"disablePageWiseAggregates",void 0),pe([y([])],Pp.prototype,"columns",void 0),pe([y()],Pp.prototype,"captionTemplate",void 0),pe([y(!1)],Pp.prototype,"enableLazyLoading",void 0);class yd extends Nt{}pe([y(!1)],yd.prototype,"allowAdding",void 0),pe([y(!1)],yd.prototype,"allowEditing",void 0),pe([y(!1)],yd.prototype,"allowDeleting",void 0),pe([y("Normal")],yd.prototype,"mode",void 0),pe([y(!0)],yd.prototype,"allowEditOnDblClick",void 0),pe([y(!0)],yd.prototype,"showConfirmDialog",void 0),pe([y(!1)],yd.prototype,"showDeleteConfirmDialog",void 0),pe([y("")],yd.prototype,"template",void 0),pe([y("")],yd.prototype,"headerTemplate",void 0),pe([y("")],yd.prototype,"footerTemplate",void 0),pe([y("Top")],yd.prototype,"newRowPosition",void 0),pe([y({})],yd.prototype,"dialog",void 0),pe([y(!1)],yd.prototype,"allowNextRowEdit",void 0);let We=zB=class extends an{constructor(e,t){super(e,t),this.isPreventScrollEvent=!1,this.inViewIndexes=[],this.keyA=!1,this.frozenRightCount=0,this.frozenLeftCount=0,this.tablesCount=1,this.movableCount=0,this.visibleFrozenLeft=0,this.visibleFrozenRight=0,this.visibleMovable=0,this.frozenLeftColumns=[],this.frozenRightColumns=[],this.movableColumns=[],this.media={},this.isFreezeRefresh=!1,this.tableIndex=0,this.componentRefresh=an.prototype.refresh,this.isVirtualAdaptive=!1,this.vRows=[],this.vcRows=[],this.vGroupOffsets={},this.rowUid=0,this.currentViewData=[],this.isManualRefresh=!1,this.isAutoFitColumns=!1,this.enableDeepCompare=!1,this.lockcolPositionCount=0,this.prevPageMoving=!1,this.pageTemplateChange=!1,this.isAutoGen=!1,this.mediaBindInstance={},this.commandDelIndex=void 0,this.asyncTimeOut=50,this.isExportGrid=!1,this.enableLogger=!0,this.needsID=!0,zB.Inject(jZ),Ne("mergePersistData",this.mergePersistGridData,this)}getPersistData(){const e=["pageSettings","sortSettings","filterSettings","groupSettings","columns","searchSettings","selectedRowIndex","scrollPosition"],t={pageSettings:["template","pageSizes","enableQueryString","totalRecordsCount","pageCount"],filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent"],groupSettings:["showDropArea","showToggleButton","showGroupedColumn","showUngroupButton","disablePageWiseAggregates","hideCaptionCount"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[],scrollPosition:[]};for(let o=0;o<e.length;o++){const l=this[e[o]];for(const a of t[e[o]])delete l[a]}const i=this.pageSettings.template,n=Object.assign({template:void 0},this.pageSettings);this.setProperties({pageSettings:n},!0),this.isAngular&&delete this.groupSettings.properties.captionTemplate,this.pageTemplateChange=!h(this.pagerTemplate);const s=this.addOnPersist(e);return n.template=i,this.setProperties({pageSettings:n},!0),s}requiredModules(){this.setFrozenCount(),this.enableInfiniteAggrgate();const e=[];return this.isDestroyed||(this.allowFiltering&&e.push({member:"filter",args:[this,this.filterSettings,this.serviceLocator]}),this.allowExcelExport&&e.push({member:"ExcelExport",args:[this,this.serviceLocator]}),this.allowPdfExport&&e.push({member:"PdfExport",args:[this]}),this.allowSorting&&e.push({member:"sort",args:[this,this.sortSettings,this.sortedColumns,this.serviceLocator]}),this.allowPaging&&e.push({member:"pager",args:[this,this.pageSettings]}),this.allowSelection&&e.push({member:"selection",args:[this,this.selectionSettings,this.serviceLocator]}),e.push({member:"resize",args:[this]}),this.allowReordering&&e.push({member:"reorder",args:[this]}),this.allowRowDragAndDrop&&e.push({member:"rowDragAndDrop",args:[this]}),this.allowGrouping&&e.push({member:"group",args:[this,this.groupSettings,this.sortedColumns,this.serviceLocator]}),this.aggregates.length&&e.push({member:"aggregate",args:[this,this.serviceLocator]}),this.isDetail()&&e.push({member:"detailRow",args:[this,this.serviceLocator]}),(this.toolbar||this.toolbarTemplate)&&e.push({member:"toolbar",args:[this,this.serviceLocator]}),(this.enableVirtualization||this.enableColumnVirtualization)&&e.push({member:"virtualscroll",args:[this,this.serviceLocator]}),(this.getFrozenColumns()||this.frozenRows||this.frozenRightCount||this.frozenLeftCount)&&e.push({member:"freeze",args:[this,this.serviceLocator]}),this.isCommandColumn(this.columns)&&e.push({member:"commandColumn",args:[this,this.serviceLocator]}),(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&e.push({member:"edit",args:[this,this.serviceLocator]}),this.extendRequiredModules(e)),e}extendRequiredModules(e){this.enableInfiniteScrolling&&e.push({member:"infiniteScroll",args:[this,this.serviceLocator]}),this.groupSettings.enableLazyLoading&&e.push({member:"lazyLoadGroup",args:[this,this.serviceLocator]}),this.contextMenuItems&&e.push({member:"contextMenu",args:[this,this.serviceLocator]}),this.showColumnMenu&&e.push({member:"columnMenu",args:[this,this.serviceLocator]}),this.showColumnChooser&&e.push({member:"columnChooser",args:[this,this.serviceLocator]}),this.isForeignKeyEnabled(this.columns)&&e.push({member:"foreignKey",args:[this,this.serviceLocator]}),this.enableLogger&&e.push({member:"logger",args:[this]})}preRender(){this.serviceLocator=new rPe,this.initProperties(),this.initializeServices()}initProperties(){this.isInitial=!0,this.sortedColumns=[],this.inViewIndexes=[],this.mediaCol=[],this.isInitialLoad=!1,this.allowServerDataBinding=!1,this.ignoreCollectionWatch=!0,this.mergeCells={},this.isEdit=!1,this.checkAllRows="None",this.isCheckBoxSelection=!1,this.isPersistSelection=!1,this.componentRefresh=an.prototype.refresh,this.filterOperators={contains:"contains",endsWith:"endswith",equal:"equal",greaterThan:"greaterthan",greaterThanOrEqual:"greaterthanorequal",lessThan:"lessthan",lessThanOrEqual:"lessthanorequal",notEqual:"notequal",startsWith:"startswith"},this.defaultLocale={EmptyRecord:"No records to display",True:"true",False:"false",InvalidFilterMessage:"Invalid Filter Data",GroupDropArea:"Drag a column header here to group its column",UnGroup:"Click here to ungroup",UnGroupButton:"Click here to ungroup",GroupDisable:"Grouping is disabled for this column",FilterbarTitle:"'s filter bar cell",EmptyDataSourceError:"DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid",Add:"Add",Edit:"Edit",Cancel:"Cancel",Update:"Update",Delete:"Delete",Print:"Print",Pdfexport:"PDF Export",Excelexport:"Excel Export",Wordexport:"Word Export",Csvexport:"CSV Export",Search:"Search",Columnchooser:"Columns",Save:"Save",Item:"item",Items:"items",EditOperationAlert:"No records selected for edit operation",DeleteOperationAlert:"No records selected for delete operation",SaveButton:"Save",OKButton:"OK",CancelButton:"Cancel",EditFormTitle:"Details of ",AddFormTitle:"Add New Record",BatchSaveConfirm:"Are you sure you want to save changes?",BatchSaveLostChanges:"Unsaved changes will be lost. Are you sure you want to continue?",ConfirmDelete:"Are you sure you want to Delete Record?",CancelEdit:"Are you sure you want to Cancel the changes?",ChooseColumns:"Choose Column",SearchColumns:"search columns",Matchs:"No matches found",FilterButton:"Filter",ClearButton:"Clear",StartsWith:"Starts With",EndsWith:"Ends With",Contains:"Contains",Equal:"Equal",NotEqual:"Not Equal",LessThan:"Less Than",LessThanOrEqual:"Less Than Or Equal",GreaterThan:"Greater Than",GreaterThanOrEqual:"Greater Than Or Equal",ChooseDate:"Choose a Date",EnterValue:"Enter the value",Copy:"Copy",Group:"Group by this column",Ungroup:"Ungroup by this column",autoFitAll:"Autofit all columns",autoFit:"Autofit this column",AutoFitAll:"Autofit all columns",AutoFit:"Autofit this column",Export:"Export",FirstPage:"First Page",LastPage:"Last Page",PreviousPage:"Previous Page",NextPage:"Next Page",SortAscending:"Sort Ascending",SortDescending:"Sort Descending",EditRecord:"Edit Record",DeleteRecord:"Delete Record",FilterMenu:"Filter",SelectAll:"Select All",Blanks:"Blanks",FilterTrue:"True",FilterFalse:"False",NoResult:"No matches found",ClearFilter:"Clear Filter",Clear:"Clear",NumberFilter:"Number Filters",TextFilter:"Text Filters",DateFilter:"Date Filters",DateTimeFilter:"DateTime Filters",MatchCase:"Match Case",Between:"Between",CustomFilter:"Custom Filter",CustomFilterPlaceHolder:"Enter the value",CustomFilterDatePlaceHolder:"Choose a date",AND:"AND",OR:"OR",ShowRowsWhere:"Show rows where:",FilterMenuDialogARIA:"Filter menu dialog",ExcelFilterDialogARIA:"Excel filter dialog",DialogEditARIA:"Edit dialog",ColumnChooserDialogARIA:"Column chooser dialog",ColumnMenuDialogARIA:"Column menu dialog",CustomFilterDialogARIA:"Customer filter dialog",SortAtoZ:"Sort A to Z",SortZtoA:"Sort Z to A",SortByOldest:"Sort by Oldest",SortByNewest:"Sort by Newest",SortSmallestToLargest:"Sort Smallest to Largest",SortLargestToSmallest:"Sort Largest to Smallest",Sort:"Sort"},this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftRight:"shift+rightarrow",shiftLeft:"shift+leftarrow",home:"home",end:"end",escape:"escape",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",pageUp:"pageup",pageDown:"pagedown",ctrlAltPageUp:"ctrl+alt+pageup",ctrlAltPageDown:"ctrl+alt+pagedown",altPageUp:"alt+pageup",altPageDown:"alt+pagedown",altDownArrow:"alt+downarrow",altUpArrow:"alt+uparrow",ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlPlusA:"ctrl+A",ctrlPlusP:"ctrl+P",insert:"insert",delete:"delete",f2:"f2",enter:"enter",ctrlEnter:"ctrl+enter",shiftEnter:"shift+enter",tab:"tab",shiftTab:"shift+tab",space:"space",ctrlPlusC:"ctrl+C",ctrlShiftPlusH:"ctrl+shift+H",ctrlSpace:"ctrl+space",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow"}}render(){this.log(["module_missing","promise_enabled","locale_missing","check_datasource_columns"]),this.ariaService.setOptions(this.element,{datarole:"grid"}),bc({target:this.element},this.createElement),this.renderModule=new nPe(this,this.serviceLocator),this.searchModule=new GZ(this),this.scrollModule=new E_(this),this.notify(Ou,{}),(!0===this.getDataModule().dataManager.dataSource.offline||void 0===this.getDataModule().dataManager.dataSource.url)&&(this.isVirtualAdaptive=!0),this.trigger("load"),pC(this.columns,this.enableColumnVirtualization,this),this.enablePersistence&&this.notify(aB,{}),this.getMediaColumns(),gR(this.columns),this.checkLockColumns(this.columns),this.getColumns(),this.processModel(),this.gridRender(),this.wireEvents(),this.addListener(),this.updateDefaultCursor(),this.updateStackedFilter(),this.showSpinner(),this.notify(cl,{}),this.refreshing&&this.trigger("created")}showSpinner(){this.isExportGrid||Go(this.element)}hideSpinner(){this.isExportGrid||qo(this.element)}updateStackedFilter(){this.allowFiltering&&"FilterBar"===this.filterSettings.type&&this.getHeaderContent().getElementsByClassName("e-stackedheadercell").length?this.getHeaderContent().classList.add("e-stackedfilter"):this.getHeaderContent().classList.remove("e-stackedfilter")}getMediaColumns(){if(!this.enableColumnVirtualization){const e=this.getColumns();if(this.getShowHideService=this.serviceLocator.getService("showHideService"),!h(e))for(let t=0;t<e.length;t++)!h(e[t].hideAtMedia)&&(h(e[t].visible)||e[t].visible)&&this.pushMediaColumn(e[t],t)}}pushMediaColumn(e,t){this.mediaCol.push(e),this.media[e.uid]=window.matchMedia(e.hideAtMedia),this.mediaQueryUpdate(t,this.media[e.uid]),this.mediaBindInstance[t]=this.mediaQueryUpdate.bind(this,t),this.media[e.uid].addListener(this.mediaBindInstance[t])}updateMediaColumns(e){if(!this.enableColumnVirtualization){const t=this.getColumnIndexByUid(e.uid);for(let i=0;i<this.mediaCol.length;i++)if(e.uid===this.mediaCol[i].uid)return void this.mediaCol.splice(i,1);this.pushMediaColumn(e,t)}}mediaQueryUpdate(e,t){const i=this.getColumns()[e];this.mediaCol.some(n=>n.uid===i.uid)&&(i.visible=t.matches,this.isInitialLoad&&(this.invokedFromMedia=!0,i.visible?this.showHider.show(i.headerText,"headerText"):this.showHider.hide(i.headerText,"headerText")))}refreshMediaCol(){this.isInitialLoad=!0;const e=this.element.querySelector("."+X0);this.aggregates.length&&this.element.scrollHeight>this.height&&e&&_([e],["e-footerpadding"]),this.getColumns().filter(i=>"checkbox"===i.type).length&&"ResetOnRowClick"===this.selectionSettings.checkboxMode&&(this.isCheckBoxSelection=!1),"Vertical"===this.rowRenderingMode&&this.enableHover&&(this.setProperties({enableAdaptiveUI:!0,enableHover:!1},!0),T([this.element],"e-gridhover")),this.enableAdaptiveUI&&this.scrollModule&&this.scrollModule.refresh()}removeMediaListener(){for(let e=0;e<this.mediaCol.length;e++)this.media[this.mediaCol[e].uid].removeListener(this.mediaBindInstance[this.mediaCol[e].index])}eventInitializer(){}destroy(){const e=this.element;if(!e)return;const t=!(!e.querySelector("."+Ir)||!e.querySelector("."+ur));t&&this.unwireEvents(),this.removeListener(),this.removeMediaListener(),this.notify(ki,{}),this.destroyDependentModules(),(this.isReact||this.isVue)&&this.destroyTemplate(["template"]),t&&super.destroy(),this.toolTipObj.destroy(),this.isReact&&!A.isIE&&(this.element.innerHTML="");const i=["renderModule","headerModule","contentModule","valueFormatterService","serviceLocator","ariaService","keyboardModule","widthService","searchModule","showHider","scrollModule","printModule","clipboardModule","focusModule"];for(let n=0;n<i.length;n++)this[i[n]]&&(this[i[n]]=null);this.element.innerHTML="",ze(this.element,[],["e-rtl","e-gridhover","e-responsive","e-default","e-device","e-grid-min-height"]),this.isFreezeRefresh=!1}destroyDependentModules(){const e=this.element;!e||!e.querySelector("."+Ir)&&!e.querySelector("."+ur)||(this.scrollModule.destroy(),this.keyboardModule.destroy(),this.focusModule.destroy(),this.clipboardModule.destroy(),this.printModule.destroy())}getModuleName(){return"grid"}enableBoxSelection(){this.enableAutoFill?(this.selectionSettings.cellSelectionMode="BoxWithBorder",this.element.classList.add("e-afenabled")):this.element.classList.remove("e-afenabled")}onPropertyChanged(e,t){let o,i=!1,n=!1,s=!1;if(this.isDestroyed)return;this.log("module_missing"),this.isEllipsisTooltip()&&this.toolTipObj.close();const a=Object.keys(e);a.indexOf("columns")>-1&&(this.enableColumnVirtualization&&(this.columnModel=[]),this.updateColumnObject(),n=!0);for(const c of a)switch(c){case"allowPaging":this.notify(cs,{module:"pager",enable:this.allowPaging}),i=!0;break;case"pageSettings":if(this.pageTemplateChange){this.pageTemplateChange=!1,this.notify(dl,{module:"pager",properties:e.pageSettings});break}this.notify(dl,{module:"pager",properties:e.pageSettings}),(h(e.pageSettings.currentPage)&&h(e.pageSettings.pageSize)&&h(e.pageSettings.totalRecordsCount)||!h(t.pageSettings)&&e.pageSettings.currentPage!==t.pageSettings.currentPage&&!this.enableColumnVirtualization&&!this.enableVirtualization&&this.pageSettings.totalRecordsCount<=this.pageSettings.pageSize)&&(i=!0);break;case"allowSorting":this.notify(cs,{module:"sort",enable:this.allowSorting}),i=!0,o=!0;break;case"allowFiltering":this.updateStackedFilter(),this.notify(cs,{module:"filter",enable:this.allowFiltering}),i=!0,"FilterBar"!==this.filterSettings.type&&this.refreshHeader();break;case"height":case"width":this.notify(cs,{module:"scroll",properties:{width:e.width,height:e.height}});break;case"allowReordering":this.headerModule.refreshUI(),o=!0;break;case"allowRowDragAndDrop":this.notify(cs,{module:"rowDragAndDrop",enable:this.allowRowDragAndDrop}),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"allowSelection":this.notify(cs,{module:"selection",enable:this.allowSelection});break;case"enableAutoFill":this.selectionModule&&(this.enableBoxSelection(),this.selectionModule.updateAutoFillPosition());break;case"rowTemplate":this.rowTemplateFn=_a(this.rowTemplate),i=!0;break;case"detailTemplate":this.detailTemplateFn=_a(this.detailTemplate),i=!0;break;case"allowGrouping":this.notify(cs,{module:"group",enable:this.allowGrouping}),this.headerModule.refreshUI(),i=!0,o=!0;break;case"enableInfiniteScrolling":case"childGrid":i=!0;break;case"toolbar":this.notify(cs,{module:"toolbar"});break;case"groupSettings":this.notify(dl,{module:"group",properties:e.groupSettings,oldProperties:t.groupSettings});break;case"aggregates":!this.aggregates.length&&this.allowGrouping&&this.groupSettings.columns.length&&(i=!0),this.notify(cs,{module:"aggregate",properties:e});break;case"frozenColumns":case"frozenRows":case"enableVirtualization":case"currencyCode":case"locale":this.log("frozen_rows_columns"),s=!0,n=!0;break;case"query":this.getDataModule().isQueryInvokedFromData||(i=!0),this.getDataModule().isQueryInvokedFromData=!1;break;default:this.extendedPropertyChange(c,e,n)}o&&this.updateDefaultCursor(),n?s||this.getFrozenColumns()||this.frozenRows?this.freezeRefresh():this.refresh():i&&(this.notify(yo,{requestType:"refresh"}),i=!1,this.maintainSelection(e.selectedRowIndex))}extendedPropertyChange(e,t,i){switch(e){case"enableRtl":this.updateRTL(),this.allowPaging&&(this.element.querySelector(".e-gridpager").ej2_instances[0].enableRtl=t.enableRtl,this.element.querySelector(".e-gridpager").ej2_instances[0].dataBind()),"auto"!==this.height&&(this.scrollModule.removePadding(!t.enableRtl),this.scrollModule.setPadding()),this.toolbar&&this.toolbarModule&&(this.toolbarModule.getToolbar().ej2_instances[0].enableRtl=t.enableRtl,this.toolbarModule.getToolbar().ej2_instances[0].dataBind()),this.contextMenuItems&&this.contextMenuModule&&(this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl=t.enableRtl,this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind()),this.showColumnMenu&&this.columnMenuModule&&(this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl=t.enableRtl,this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind()),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator&&this.refreshHeader(),this.notify("rtl-updated",{});break;case"enableAltRow":this.renderModule.refresh();break;case"allowResizing":this.headerModule.refreshUI(),this.updateResizeLines();break;case"rowHeight":this.rowHeight?_([this.element],"e-grid-min-height"):T([this.element],"e-grid-min-height"),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"gridLines":this.updateGridLines();break;case"showColumnMenu":this.headerModule.refreshUI(),this.notify(cs,{module:"columnMenu",enable:!0});break;case"columnMenuItems":this.notify(cs,{module:"columnMenu",enable:this.columnMenuItems});break;case"contextMenuItems":this.notify(cs,{module:"contextMenu",enable:this.contextMenuItems});break;case"showColumnChooser":this.notify(cs,{module:"columnChooser",enable:this.showColumnChooser});break;case"filterSettings":this.updateStackedFilter(),this.notify(dl,{module:"filter",properties:t.filterSettings});break;case"searchSettings":this.notify(dl,{module:"search",properties:t.searchSettings});break;case"sortSettings":this.notify(dl,{module:"sort"});break;case"selectionSettings":this.notify(dl,{module:"selection",properties:t.selectionSettings});break;case"editSettings":this.notify(dl,{module:"edit",properties:t.editSettings});break;case"allowTextWrap":case"textWrapSettings":this.allowTextWrap?this.applyTextWrap():this.removeTextWrap(),this.notify(Yd,{case:"textwrap",isModeChg:"textWrapSettings"===e});break;case"dataSource":const n=this.getDataModule().getState();if(Object.getPrototypeOf(t).deepWatch){const o=this.getPrimaryKeyFieldNames()[0];for(let l=0,a=Object.keys(t.dataSource);l<a.length;l++)this.setRowData(M(o,this.dataSource[a[l]]),this.dataSource[a[l]])}else if(n.isPending){let o=h(this.dataSource)?[]:this.dataSource.result;const l=n.group||[];for(let a=0;a<l.length;a++)o=Ie.group(o,l[a],n.aggregates||[]);this.dataSource={result:o,count:this.dataSource.count,aggregates:this.dataSource.aggregates},this.getDataModule().setState({}),n.resolver(this.dataSource)}else this.getDataModule().setState({isDataChanged:!1}),this.notify(h_,{}),i||(this.renderModule.refresh(),this.isCheckBoxSelection&&this.notify(wB,{}));this.scrollRefresh();break;case"enableHover":(t.enableHover?_:T)([this.element],"e-gridhover");break;case"selectedRowIndex":this.isSelectedRowIndexUpdating||this.selectRow(t.selectedRowIndex),this.isSelectedRowIndexUpdating=!1;break;case"resizeSettings":this.widthService.setWidthToTable();break;case"enableAdaptiveUI":this.notify("set-fullscreen-dialog",{});break;case"rowRenderingMode":this.enableVerticalRendering(),this.notify("row-mode-change",{}),this.refresh();break;case"enableStickyHeader":this.scrollModule.addStickyListener(t.enableStickyHeader)}}maintainSelection(e){if(-1!==e){const t=()=>{this.selectRow(e),this.off(Ds,t)};this.on(Ds,t,this)}}setProperties(e,t){super.setProperties(e,t),e.filterSettings&&this.filterModule&&t&&this.filterModule.refreshFilter()}setTablesCount(){const e=this.getFrozenColumns(),t=this.getFrozenLeftColumnsCount(),i=this.getFrozenRightColumnsCount();!e||t||i?!e&&(t||i)&&(t&&!i||i&&!t?this.tablesCount=2:t&&i&&(this.tablesCount=3)):this.tablesCount=2}getTablesCount(){return this.tablesCount}updateDefaultCursor(){let e=[].slice.call(this.getHeaderContent().querySelectorAll(".e-headercell:not(.e-stackedheadercell)"));const t=[].slice.call(this.getHeaderContent().getElementsByClassName("e-stackedheadercell")),i=this.getColumns();if(this.enableColumnVirtualization&&this.getFrozenColumns()){const n=this.contentModule.getHeaderCells();e=n.length?n:e}for(let n=0;n<e.length;n++){const s=e[n];(this.allowGrouping||this.allowReordering||this.allowSorting)&&s.classList.add(i[n].allowReordering&&i[n].allowSorting&&i[n].allowGrouping?"e-mousepointer":"e-defaultcursor")}for(let n=0;n<t.length;n++)this.allowReordering&&t[n].classList.add("e-mousepointer")}updateColumnModel(e){for(let t=0,i=e.length;t<i;t++)e[t].columns?this.updateColumnModel(e[t].columns):this.columnModel.push(e[t]);this.updateColumnLevelFrozen(),this.updateFrozenColumns(),this.updateLockableColumns()}updateColumnLevelFrozen(){const e=this.columnModel,t=[],i=[],n=[];if(this.frozenLeftCount||this.frozenRightCount){for(let s=0,o=e.length;s<o;s++){const l=e[s];"Left"===l.freeze?(l.freezeTable=Ns,t.push(l)):"Right"===l.freeze?(l.freezeTable=Bn,i.push(l)):(l.freezeTable="movable",n.push(l))}this.columnModel=t.concat(n).concat(i)}}updateFrozenColumns(){if(this.frozenLeftCount||this.frozenRightCount)return;const e=this.columnModel,t=this.frozenColumns,i=this.getFrozenColumns();let n=0;for(let s=0,o=e.length;s<o;s++){const l=e[s];t&&(l.freezeTable=s<t?Ns:"movable"),l.isFrozen&&s>=t?(l.freezeTable=Ns,e.splice(this.frozenColumns+n,0,e.splice(s,1)[0]),n++):i&&!t&&(l.freezeTable="movable")}}getFrozenLeftCount(){return this.getFrozenColumns()||this.getFrozenLeftColumnsCount()}isFrozenGrid(){return 0!==this.getFrozenColumns()||0!==this.getFrozenLeftColumnsCount()||0!==this.getFrozenRightColumnsCount()}getFrozenMode(){return this.frozenName}updateLockableColumns(){const e=this.columnModel;let t=0,i=0;const n=this.getFrozenColumns();for(let s=0;s<e.length;s++)e[s].lockColumn&&(s<n?(e.splice(t,0,e.splice(s,1)[0]),t++):(e.splice(n+i,0,e.splice(s,1)[0]),i++))}checkLockColumns(e){for(let t=0;t<e.length;t++)e[t].columns?this.checkLockColumns(e[t].columns):e[t].lockColumn&&this.lockcolPositionCount++}getColumns(e){const t=this.inViewIndexes.map(s=>s-this.groupSettings.columns.length).filter(s=>s>-1),i=t.length;(!this.enableColumnVirtualization||h(this.columnModel)||0===this.columnModel.length||e)&&(this.columnModel=[],this.updateColumnModel(this.columns));let n=0===i?this.columnModel:this.columnModel.slice(t[0],t[i-1]+1);return this.contentModule&&this.enableColumnVirtualization&&this.isFrozenGrid()&&t.length&&t[0]>0&&(n=this.contentModule.ensureFrozenCols(n)),n}getStackedHeaderColumnByHeaderText(e,t){for(let i=0;i<t.length;i++){const n=t[i];if(n.field===e||n.headerText===e){this.stackedColumn=n;break}n.columns&&this.getStackedHeaderColumnByHeaderText(e,n.columns)}return this.stackedColumn}getColumnIndexesInView(){return this.inViewIndexes}getQuery(){return this.query}getLocaleConstants(){return this.defaultLocale}setColumnIndexesInView(e){this.inViewIndexes=e}getVisibleColumns(){return this.getCurrentVisibleColumns()}getHeaderContent(){return this.headerModule.getPanel()}setGridHeaderContent(e){this.headerModule.setPanel(e)}getContentTable(){return this.contentModule.getTable()}setGridContentTable(e){this.contentModule.setTable(e)}getContent(){return this.contentModule.getPanel()}setGridContent(e){this.contentModule.setPanel(e)}getHeaderTable(){return this.headerModule.getTable()}setGridHeaderTable(e){this.headerModule.setTable(e)}getFooterContent(){return this.footerElement=this.element.getElementsByClassName(X0)[0],this.footerElement}getFooterContentTable(){return this.footerElement=this.element.getElementsByClassName(X0)[0],this.footerElement.firstChild.firstChild}getPager(){return this.gridPager}setGridPager(e){this.gridPager=e}getRowByIndex(e){return this.contentModule.getRowByIndex(e)}getMovableRowByIndex(e){return this.contentModule.getMovableRowByIndex(e)}getFrozenRowByIndex(e){return this.getFrozenDataRows()[e]}getRows(){return this.contentModule.getRowElements()}getFrozenRightRowByIndex(e){return this.contentModule.getFrozenRightRowByIndex(e)}getRowInfo(e){const t=e;let i={target:e};if(!h(e)&&h(Se(t,"e-detailrowcollapse")&&h(Se(t,"e-recordplusexpand")))){const n=D(t,"."+Di);if(!n){const o=D(t,"."+Bi);if(!h(o)&&!o.classList.contains("e-addedrow")){const l=this.getRowObjectFromUID(o.getAttribute("data-uid")),a=parseInt(o.getAttribute(ei),10);i={row:o,rowData:l.data,rowIndex:a}}return i}const s=parseInt(n.getAttribute(Dr),10);if(!h(n)&&!isNaN(s)){const o=D(n,"."+Bi),l=parseInt(o.getAttribute(ei),10),a=this.getFrozenColumns(),c=this.columnModel[s].getFreezeTableName();let d=this.contentModule.getRows(),u=s+this.getIndentCount();this.isFrozenGrid()&&(c===Ns?d=this.contentModule.getRows():"movable"===c?(u=s-a-this.frozenLeftCount,d=this.contentModule.getMovableRows()):c===Bn&&(u=s-(this.frozenLeftCount+this.movableCount),d=this.contentModule.getFrozenRightRows()));const p=d.filter(m=>m.uid===o.getAttribute("data-uid"));let f,g={};Object.keys(p).length&&(g=p[0].data,f=p[0].cells[u].column),i={cell:n,cellIndex:s,row:o,rowIndex:l,rowData:g,column:f,target:e}}}return i}getMovableRows(){return this.contentModule.getMovableRowElements()}getFrozenRightRows(){return this.contentModule.getFrozenRightRowElements()}getDataRows(){return this.getAllDataRows()}getAllDataRows(e){if(h(this.getContentTable().querySelector(Ye)))return[];const t=this.isFrozenGrid()?this.getFrozenLeftContentTbody():this.getContentTable().querySelector(Ye);let i=[].slice.call(t.children);if(this.frozenRows){const s=this.isFrozenGrid()?this.getHeaderContent().querySelector("."+Nh).querySelector(Ye):this.getHeaderTable().querySelector(Ye),o=[].slice.call(s.children);i=this.addMovableRows(o,i)}return this.generateDataRows(i,e)}addMovableRows(e,t){for(let i=0,n=t.length;i<n;i++)e.push(t[i]);return e}generateDataRows(e,t){const i=[];for(let n=0,s=e.length;n<s;n++)e[n].classList.contains(Bi)&&(!e[n].classList.contains("e-hiddenrow")||t)&&(this.isCollapseStateEnabled()?i[parseInt(e[n].getAttribute("aria-rowindex"),10)]=e[n]:i.push(e[n]));return i}getMovableDataRows(){return this.getAllMovableDataRows()}getAllMovableDataRows(e){if(!this.isFrozenGrid())return[];let t=[].slice.call(this.getContent().querySelector("."+gn).querySelector(Ye).children);if(this.frozenRows){const n=[].slice.call(this.getHeaderContent().querySelector("."+fn).querySelector(Ye).children);t=this.addMovableRows(n,t)}return this.generateDataRows(t,e)}getFrozenDataRows(){return this.getAllFrozenDataRows()}getAllFrozenDataRows(e){let t=[].slice.call(this.getContent().querySelector("."+md).querySelector(Ye).children);if(this.frozenRows){const n=[].slice.call(this.getHeaderContent().querySelector("."+Nh).querySelector(Ye).children);t=this.addMovableRows(n,t)}return this.generateDataRows(t,e)}getFrozenRightDataRows(){return this.getAllFrozenRightDataRows()}getAllFrozenRightDataRows(e){if("Right"!==this.getFrozenMode()&&"Left-Right"!==this.getFrozenMode())return[];let t=[].slice.call(this.getContent().querySelector(".e-frozen-right-content").querySelector(Ye).children);if(this.frozenRows){const n=[].slice.call(this.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(Ye).children);t=this.addMovableRows(n,t)}return this.generateDataRows(t,e)}setCellValue(e,t,i){const s="data",o="index",a="Right"===this.getFrozenMode(),c=this.getPrimaryKeyFieldNames()[0],d=new qa(this,this.serviceLocator);let u=this.getColumnIndexByField(t);const p=this.getColumnByField(t),f=("movable"===p.getFreezeTableName()?this.contentModule.getMovableRows():"frozen-right"===p.getFreezeTableName()?this.getFrozenRightRowsObject():this.contentModule.getRows()).filter(v=>M(c,v.data)===e)[0];if(!h(f?this.element.querySelector("[data-uid="+f.uid+"]"):null)){Ne(t,i,f[s]);let v=this.getFrozenLeftColumnsCount()||this.getFrozenColumns();const x=this.getMovableColumnsCount();this.isRowDragable()&&!a&&v++;const w=v+x,b=this.getCellFromIndex(f[o],u);if(!h(b)){const I="movable"===p.getFreezeTableName()?v:"frozen-right"===p.getFreezeTableName()?w:0;this.groupSettings.columns.length&&(u+=this.groupSettings.columns.length),(this.childGrid||this.detailTemplate)&&u++,this.isRowDragable()&&!a&&u++,d.refreshTD(b,f.cells[u-I],f[s],{index:f[o]}),this.aggregates.length>0&&(this.notify(Og,{}),this.groupSettings.columns.length>0&&this.notify(em,{})),!h(f)&&!h(f.changes)&&(f.changes[t]=i),this.trigger(j4,{cell:b,column:p,data:f[s]})}}}refreshReactColumnTemplateByUid(e){this.isReact&&this.clearTemplate(["columnTemplate"],void 0,()=>{const n=this.getDataRows(),s=this.getIndentCount(),o=this.getNormalizedColumnIndex(e);for(let l=0;l<n.length;l++){const a=this.getRowObjectFromUID(n[l].getAttribute("data-uid"));if(a&&a.isDataRow&&!h(a.index)){const c=a.cells[o],d=new qa(this,this.serviceLocator),u=this.getCellFromIndex(l,o-s);d.refreshTD(u,c,a.data,{index:a.index})}}})}refreshReactHeaderTemplateByUid(e){if(this.isReact){const t="cells",i=this.headerModule.rows,n=this.getNormalizedColumnIndex(e);for(let s=0;s<i.length;s++){const o=i[s][t][n];if(o&&o.column.uid===e){const l=new BZ(this,this.serviceLocator),a=Se(this.element.querySelectorAll("[e-mappinguid="+e+"]")[0],"e-templatecell");l.refresh(o,a)}}}}setRowData(e,t){let n=this.contentModule.getRows();const s=this.getPrimaryKeyFieldNames()[0],o=new rc(this.serviceLocator,null,this);this.groupSettings.columns.length>0&&this.aggregates.length>0&&(n=n.filter(a=>a.isDataRow));const l=n.filter(a=>M(s,a.data)===e)[0];!h(l)&&this.element.querySelectorAll("[data-uid="+l.uid+"]").length&&(l.changes=t,function mR(r,e,t){for(let n=0;n<e.length;n++)Ne(e[n].field,om(e[n],t),r.foreignKeyData);const i=r.cells;for(let n=0;n<i.length;n++)i[n].isForeignKey&&Ne("foreignKeyData",M(i[n].column.field,r.foreignKeyData),i[n])}(l,this.getForeignKeyColumns(),l.changes),o.refresh(l,this.getColumns(),!0),this.aggregates.length>0&&(this.notify(Og,{}),this.groupSettings.columns.length>0&&this.notify(em,{})))}getCellFromIndex(e,t){return ZB(this,this.getColumnByIndex(t),e,t)}getMovableCellFromIndex(e,t){if("Left-Right"===this.frozenName&&t>=this.movableCount)return;const i=this.getFrozenColumns()||this.getFrozenLeftColumnsCount();return this.getMovableDataRows()[e]&&this.getMovableDataRows()[e].getElementsByClassName(Di)[t-i]}getFrozenRightCellFromIndex(e,t){const i=this.getFrozenLeftColumnsCount()+this.getMovableColumnsCount(),n=this.getFrozenRightDataRows();return n[e]&&n[e].getElementsByClassName(Di)[t-i]}getColumnHeaderByIndex(e){return this.getHeaderTable().getElementsByClassName("e-headercell")[e]}getMovableColumnHeaderByIndex(e){const t=this.getFrozenColumns()||this.getFrozenLeftColumnsCount();return this.getMovableVirtualHeader().getElementsByClassName("e-headercell")[e-t]}getFrozenRightColumnHeaderByIndex(e){const t=this.getFrozenLeftColumnsCount()+this.getMovableColumnsCount();return this.getFrozenRightHeader().getElementsByClassName("e-headercell")[e-t]}getFrozenLeftColumnHeaderByIndex(e){return this.getFrozenVirtualHeader().getElementsByClassName("e-headercell")[e]}getRowObjectFromUID(e,t,i){const n=this.contentModule.getRows();let s=this.rowObject(n,e);return this.isFrozenGrid()&&(!s||t||i)?(s=this.rowObject(this.contentModule.getMovableRows(),e),(!s&&"Left-Right"===this.getFrozenMode()||i)&&(s=this.rowObject(this.contentModule.getFrozenRightRows(),e)),s):(h(s)&&this.enableVirtualization&&this.groupSettings.columns.length>0&&(s=this.rowObject(this.vRows,e)),s)}rowObject(e,t){for(const i of e)if(i.uid===t)return i;return null}getRowsObject(){return this.contentModule.getRows()}getMovableRowsObject(){let e=[];return this.isFrozenGrid()&&(e=this.contentModule.getMovableRows()),e}getFrozenRightRowsObject(){let e=[];return("Right"===this.getFrozenMode()||"Left-Right"===this.getFrozenMode())&&(e=this.contentModule.getFrozenRightRows()),e}getColumnHeaderByField(e){const t=this.getColumnByField(e);return t?this.getColumnHeaderByUid(t.uid):void 0}getColumnHeaderByUid(e){const t=this.getHeaderContent().querySelector("[e-mappinguid="+e+"]");return t?t.parentElement:void 0}getColumnByIndex(e){let t;return this.getColumns().some((i,n)=>(t=i,n===e)),t}getColumnByField(e){return iv(this.getColumns(),t=>{if(t.field===e)return t})[0]}getColumnIndexByField(e){const t=this.getColumns();for(let i=0;i<t.length;i++)if(t[i].field===e)return i;return-1}getColumnByUid(e){return iv([...this.getColumns(),...this.getStackedColumns(this.columns)],t=>{if(t.uid===e)return t})[0]}getStackedColumns(e,t=[]){for(const i of e)i.columns&&(t.push(i),this.getStackedColumns(i.columns,t));return t}getColumnIndexByUid(e){const t=iv(this.getColumns(),(i,n)=>{if(i.uid===e)return n})[0];return h(t)?-1:t}getUidByColumnField(e){return iv(this.getColumns(),t=>{if(t.field===e)return t.uid})[0]}getNormalizedColumnIndex(e){return this.getColumnIndexByUid(e)+this.getIndentCount()}getIndentCount(){let e=0;return this.allowGrouping&&(e+=this.groupSettings.columns.length),this.isDetail()&&e++,this.isRowDragable()&&h(this.rowDropSettings.targetID)&&e++,e}getColumnFieldNames(){const e=[];let t;for(let i=0,n=this.getColumns().length;i<n;i++)t=this.getColumns()[i],t.visible&&e.push(t.field);return e}getRowTemplate(){return this.rowTemplateFn}getDetailTemplate(){return this.detailTemplateFn}getEditTemplate(){return this.editTemplateFn}getEditHeaderTemplate(){return this.editHeaderTemplateFn}getEditFooterTemplate(){return this.editFooterTemplateFn}getPrimaryKeyFieldNames(){const e=[];for(let t=0;t<this.columnModel.length;t++)this.columnModel[t].isPrimaryKey&&e.push(this.columnModel[t].field);return e}refresh(){this.isDestroyed||(this.isManualRefresh=!0,this.headerModule.refreshUI(),this.updateStackedFilter(),this.renderModule.refresh())}refreshHeader(){this.headerModule.refreshUI()}getSelectedRows(){return this.selectionModule?this.selectionModule.selectedRecords:[]}getSelectedRowIndexes(){return this.selectionModule?this.selectionModule.selectedRowIndexes:[]}getSelectedRowCellIndexes(){return this.selectionModule?this.selectionModule.selectedRowCellIndexes:[]}getSelectedRecords(){return this.selectionModule?this.selectionModule.getSelectedRecords():[]}getSelectedColumnsUid(){const e=[];return this.selectionModule&&this.selectionModule.selectedColumnsIndexes.filter(t=>e.push(this.getColumns()[t].uid)),e}getDataModule(){return this.renderModule.data}showColumns(e,t){this.showHider.show(e,t=t||"headerText")}hideColumns(e,t){this.showHider.hide(e,t=t||"headerText")}getFrozenColumns(){return this.frozenColumns+this.getFrozenCount(this.columns,0,0)}getFrozenRightColumnsCount(){return this.frozenRightCount}getFrozenLeftColumnsCount(){return this.frozenLeftCount}getMovableColumnsCount(){return this.movableCount}setFrozenCount(){this.frozenLeftCount=this.frozenRightCount=this.movableCount=0,this.visibleFrozenLeft=this.visibleFrozenRight=this.visibleMovable=0,this.frozenLeftColumns=[],this.frozenRightColumns=[],this.movableColumns=[],this.splitFrozenCount(this.columns),this.frozenColumns&&(this.frozenLeftCount||this.frozenRightCount)&&this.setProperties({frozenColumns:0},!0),this.setTablesCount(),this.frozenName=this.frozenLeftCount&&!this.frozenRightCount?"Left":this.frozenRightCount&&!this.frozenLeftCount?"Right":this.frozenLeftCount&&this.frozenRightCount?"Left-Right":void 0}getVisibleFrozenLeftCount(){return this.visibleFrozenLeft}getVisibleFrozenRightCount(){return this.visibleFrozenRight}getVisibleMovableCount(){return this.visibleMovable}getFrozenRightColumns(){return this.frozenRightColumns}getFrozenLeftColumns(){return this.frozenLeftColumns}getMovableColumns(){return this.movableColumns}splitFrozenCount(e){for(let t=0;t<e.length;t++)e[t].columns?this.splitFrozenCount(e[t].columns):"Right"===e[t].freeze?(!1!==e[t].visible&&this.visibleFrozenRight++,this.frozenRightColumns.push(e[t]),this.frozenRightCount++):"Left"===e[t].freeze?(!1!==e[t].visible&&this.visibleFrozenLeft++,this.frozenLeftColumns.push(e[t]),this.frozenLeftCount++):(!1!==e[t].visible&&this.visibleMovable++,this.movableColumns.push(e[t]),this.movableCount++)}getVisibleFrozenColumns(){return this.getVisibleFrozenColumnsCount()+this.getVisibleFrozenCount(this.columns,0)}getFilterUIInfo(){return this.filterModule?this.filterModule.getFilterUIInfo():{}}getVisibleFrozenColumnsCount(){let e=0;const t=this.columnModel;for(let i=0;i<this.frozenColumns;i++)t[i].visible&&e++;if(this.frozenLeftCount||this.frozenRightCount)for(let i=0;i<t.length;i++)t[i].visible&&("Left"===t[i].freeze||"Right"===t[i].freeze)&&e++;return e}getVisibleFrozenCount(e,t){if(!this.frozenLeftCount&&!this.frozenRightCount)for(let i=0,n=e.length;i<n;i++)e[i].columns?t=this.getVisibleFrozenCount(e[i].columns,t):e[i].isFrozen&&e[i].visible&&t++;return t}getFrozenCount(e,t,i){for(let n=0,s=e.length;n<s;n++)e[n].columns?t=this.getFrozenCount(e[n].columns,t,i):(e[n].isFrozen&&i>this.frozenColumns-1&&t++,i++);return t}goToPage(e){this.pagerModule&&this.pagerModule.goToPage(e)}updateExternalMessage(e){this.pagerModule&&this.pagerModule.updateExternalMessage(e)}sortColumn(e,t,i){this.sortModule&&this.sortModule.sortColumn(e,t,i)}clearSorting(){this.sortModule&&this.sortModule.clearSorting()}removeSortColumn(e){this.sortModule&&this.sortModule.removeSortColumn(e)}clearGridActions(){this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping?this.setProperties({groupSettings:{columns:[]}},!1):this.freezeRefresh()}filterByColumn(e,t,i,n,s,o,l,a){this.filterModule&&this.filterModule.filterByColumn(e,t,i,n,s,o,l,a)}clearFiltering(e){this.filterModule&&this.filterModule.clearFiltering(e)}removeFilteredColsByField(e,t){this.filterModule&&this.filterModule.removeFilteredColsByField(e,t)}selectRow(e,t){this.selectionModule&&this.selectionModule.selectRow(e,t)}selectRows(e){this.selectionModule&&this.selectionModule.selectRows(e)}clearSelection(){this.selectionModule&&this.selectionModule.clearSelection()}selectCell(e,t){this.selectionModule&&this.selectionModule.selectCell(e,t)}selectCellsByRange(e,t){this.selectionModule.selectCellsByRange(e,t)}search(e){this.searchModule&&this.searchModule.search(e)}print(){this.printModule&&this.printModule.print()}deleteRecord(e,t){this.editModule&&this.editModule.deleteRecord(e,t)}startEdit(){this.editModule&&this.editModule.startEdit()}endEdit(){this.editModule&&this.editModule.endEdit()}closeEdit(){this.editModule&&this.editModule.closeEdit()}addRecord(e,t){this.editModule&&this.editModule.addRecord(e,t)}deleteRow(e){this.editModule&&this.editModule.deleteRow(e)}editCell(e,t){this.editModule&&this.editModule.editCell(e,t)}saveCell(){this.editModule&&this.editModule.saveCell()}updateCell(e,t,i){this.editModule&&this.editModule.updateCell(e,t,i)}updateRow(e,t){this.editModule&&this.editModule.updateRow(e,t)}getBatchChanges(){return this.editModule?this.editModule.getBatchChanges():{}}enableToolbarItems(e,t){this.toolbarModule&&this.toolbarModule.enableItems(e,t)}copy(e){this.clipboardModule&&this.clipboardModule.copy(e)}recalcIndentWidth(){if(!this.getHeaderTable().querySelector(".e-emptycell")||!this.groupSettings.columns.length&&!this.isDetail()&&!this.isRowDragable()||this.getHeaderTable().querySelector(".e-emptycell").getAttribute("indentRefreshed")||!this.getContentTable())return;let e=this.getHeaderTable().querySelector(".e-emptycell").parentElement.offsetWidth;const t=[].slice.call(this.getHeaderTable().querySelector(si).childNodes),i=[].slice.call(this.getContentTable().querySelector(si).childNodes),n=e/30;let s="Right"===this.getFrozenMode()?this.frozenRightCount:0;const o=this.element.offsetWidth,l=(a,c)=>{if(XB(this)){const d=(c/o*100).toFixed(1)+"%";t[a].style.width=d,i[a].style.width=d}else t[a].style.width=c+"px",i[a].style.width=c+"px";this.notify(d_,{index:a,width:c})};for(n>=1&&(e=30/n),e<1&&(e=1),(this.enableColumnVirtualization||this.isAutoGen||this.columns.length===this.groupSettings.columns.length)&&(e=30);s<this.groupSettings.columns.length;)l(s,e),s++;this.isDetail()&&(l(s,e),s++),this.isRowDragable()&&l(s,e),this.isAutoGen=!1,this.getHeaderTable().querySelector(".e-emptycell").setAttribute("indentRefreshed","true")}resetIndentWidth(){if(XB(this)&&(this.getHeaderTable().querySelector(".e-emptycell").removeAttribute("indentRefreshed"),this.widthService.setWidthToColumns(),this.recalcIndentWidth()),("auto"===this.width||"string"==typeof this.width&&-1!==this.width.indexOf("%"))&&this.getColumns().filter(e=>(!e.width||"auto"===e.width)&&e.minWidth).length>0){const e=this.widthService.getTableWidth(this.getColumns());this.widthService.setMinwidthBycalculation(e)}this.isFrozenGrid()&&this.widthService&&this.widthService.refreshFrozenScrollbar(),this.allowTextWrap&&"Content"!==this.textWrapSettings.wrapMode&&this.notify(C_,{})}isRowDragable(){return this.allowRowDragAndDrop&&!this.rowDropSettings.targetID}reorderColumns(e,t){this.reorderModule&&this.reorderModule.reorderColumns(e,t)}reorderColumnByIndex(e,t){this.reorderModule&&this.reorderModule.reorderColumnByIndex(e,t)}reorderColumnByTargetIndex(e,t){this.reorderModule&&this.reorderModule.reorderColumnByTargetIndex(e,t)}reorderRows(e,t){this.rowDragAndDropModule&&this.rowDragAndDropModule.reorderRows(e,t)}refreshDataSource(e){this.notify("refreshdataSource",e)}disableRowDD(e){const t=this.getHeaderTable(),i=this.getContentTable(),n=t.querySelectorAll("th.e-rowdragheader, th.e-mastercell"),s=this.getRows(),o=e?"none":"";lt(t.querySelector(si).childNodes[0],{display:o}),lt(i.querySelector(si).childNodes[0],{display:o});for(let l=0;l<this.getRows().length;l++){const a=s[l].firstElementChild;e?_([a],"e-hide"):T([a],["e-hide"])}for(let l=0;l<t.querySelectorAll("th.e-rowdragheader, th.e-mastercell").length;l++){const a=n[l];e?_([a],"e-hide"):T([a],["e-hide"])}}autoFitColumns(e){this.resizeModule&&this.resizeModule.autoFitColumns(e)}createColumnchooser(e,t,i){this.columnChooserModule&&this.columnChooserModule.renderColumnChooser(e,t,i)}initializeServices(){this.serviceLocator.register("widthService",this.widthService=new NB(this)),this.serviceLocator.register("cellRendererFactory",new sPe),this.serviceLocator.register("rendererFactory",new oPe),this.serviceLocator.register("localization",this.localeObj=new is(this.getModuleName(),this.defaultLocale,this.locale)),this.serviceLocator.register("valueFormatter",this.valueFormatterService=new W0(this.locale)),this.serviceLocator.register("showHideService",this.showHider=new pPe(this)),this.serviceLocator.register("ariaService",this.ariaService=new D_),this.serviceLocator.register("focus",this.focusModule=new lPe(this))}processModel(){const e=this.groupSettings.columns,t=this.sortSettings.columns;let i,n;if(this.allowGrouping)for(let s=0,o=e.length;s<o;s++){n=0;for(let l=t.length;n<l;n++)if(t[n].field===e[s]){i=!0;break}if(i?this.allowSorting?this.sortedColumns.push(t[n].field):t[n].direction="Ascending":t.push({field:e[s],direction:"Ascending",isFromGroup:!0}),!this.groupSettings.showGroupedColumn){const l=this.enableColumnVirtualization?this.columns.filter(a=>a.field===e[s])[0]:this.getColumnByField(e[s]);l?l.visible=!1:this.log("initial_action",{moduleName:"group",columnName:e[s]})}}if(!e.length)for(let s=0;s<t.length;s++)this.sortedColumns.push(t[s].field);if(this.rowTemplateFn=_a(this.rowTemplate),this.detailTemplateFn=_a(this.detailTemplate),this.editTemplateFn=_a(this.editSettings.template),this.editHeaderTemplateFn=_a(this.editSettings.headerTemplate),this.editFooterTemplateFn=_a(this.editSettings.footerTemplate),!h(this.parentDetails)){const s=h(this.parentDetails.parentKeyFieldValue)?"undefined":this.parentDetails.parentKeyFieldValue;this.query.where(this.queryString,"equal",s,!0)}this.initForeignColumn()}initForeignColumn(){this.isForeignKeyEnabled(this.getColumns())&&this.notify("initForeignKeyColumn",this.getForeignKeyColumns())}enableVerticalRendering(){"Vertical"===this.rowRenderingMode?this.element.classList.add("e-row-responsive"):this.element.classList.remove("e-row-responsive")}gridRender(){this.updateRTL(),"Vertical"===this.rowRenderingMode&&this.element.classList.add("e-row-responsive"),this.enableHover&&this.element.classList.add("e-gridhover"),A.isDevice&&this.element.classList.add("e-device"),this.rowHeight&&this.element.classList.add("e-grid-min-height"),this.cssClass&&this.element.classList.add(this.cssClass),ze(this.element,["e-responsive","e-default"],[]);const e=this.serviceLocator.getService("rendererFactory");this.headerModule=e.getRenderer(Sr.Header),this.contentModule=e.getRenderer(Sr.Content),this.printModule=new GB(this,this.scrollModule),this.clipboardModule=new gPe(this),this.renderModule.render(),this.eventInitializer(),this.createGridPopUpElement(),this.widthService.setWidthToColumns(),this.updateGridLines(),this.applyTextWrap(),this.createTooltip(),this.enableBoxSelection()}dataReady(){this.scrollModule.setWidth(),this.scrollModule.setHeight(),"auto"!==this.height&&this.scrollModule.setPadding()}updateRTL(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}createGridPopUpElement(){const e=this.createElement("div",{className:"e-gridpopup",styles:"display:none;"}),t=this.createElement("div",{className:Bs,attrs:{tabIndex:"-1"}});Jt([t,this.createElement("div",{className:"e-uptail e-tail"})],e),t.appendChild(this.createElement("span")),Jt([t,this.createElement("div",{className:"e-downtail e-tail"})],e),this.element.appendChild(e)}updateGridLines(){switch(ze(this.element,[],["e-verticallines","e-horizontallines","e-hidelines","e-bothlines"]),this.gridLines){case"Horizontal":this.element.classList.add("e-horizontallines");break;case"Vertical":this.element.classList.add("e-verticallines");break;case"None":this.element.classList.add("e-hidelines");break;case"Both":this.element.classList.add("e-bothlines")}this.updateResizeLines()}updateResizeLines(){this.allowResizing&&"Vertical"!==this.gridLines&&"Both"!==this.gridLines?this.element.classList.add("e-resize-lines"):this.element.classList.remove("e-resize-lines")}applyTextWrap(){if(this.allowTextWrap){const e=[].slice.call(this.element.getElementsByClassName("e-columnheader"));switch(this.textWrapSettings.wrapMode){case"Header":Nc(this.element,!1),Nc(this.getContent(),!1),Nc(e,!0);break;case"Content":Nc(this.getContent(),!0),Nc(this.element,!1),Nc(e,!1);break;default:Nc(this.element,!0),Nc(this.getContent(),!1),Nc(e,!1)}"Content"!==this.textWrapSettings.wrapMode&&this.notify(C_,{})}}removeTextWrap(){Nc(this.element,!1),Nc([].slice.call(this.element.getElementsByClassName("e-columnheader")),!1),Nc(this.getContent(),!1),"Content"!==this.textWrapSettings.wrapMode&&this.notify(C_,{})}createTooltip(){this.toolTipObj=new vs({opensOn:"custom",content:"",cssClass:this.cssClass?this.cssClass:null},this.element)}freezeRefresh(){this.isFreezeRefresh=!0,this.enableVirtualization&&(this.pageSettings.currentPage=1),this.componentRefresh()}getTooltipStatus(e){const t=this.getHeaderTable(),i="e-gridheader",n=this.createTable(t,i,"header"),s=this.createTable(t,i,"content"),o=e.classList.contains("e-headercell")?n:s,l=e.classList.contains("e-headercell")?"th":"tr";o.querySelector(l).className=e.className,o.querySelector(l).innerHTML=e.innerHTML;const a=o.querySelector(l).getBoundingClientRect().width;return document.body.removeChild(n),document.body.removeChild(s),a>e.getBoundingClientRect().width}mouseMoveHandler(e){if(this.isEllipsisTooltip()){const t=Se(e.target,"e-ellipsistooltip");(this.prevElement!==t||"mouseout"===e.type)&&this.toolTipObj.close();const i=e.target.tagName,n=["A","BUTTON","INPUT"];if(t&&"mouseout"!==e.type&&(!A.isDevice||-1===n.indexOf(i))){if(t.getAttribute("aria-describedby"))return;this.getTooltipStatus(t)&&(this.toolTipObj.content=t.getElementsByClassName("e-headertext").length?t.getElementsByClassName("e-headertext")[0].innerText:t.innerText,this.prevElement=t,this.getColumns()[parseInt(t.getAttribute(Dr),10)].disableHtmlEncode&&(this.toolTipObj.enableHtmlParse=!1),this.toolTipObj.open(t))}}this.hoverFrozenRows(e)}hoverFrozenRows(e){if(this.isFrozenGrid()){const t=Se(e.target,Bi);if([].slice.call(this.element.getElementsByClassName("e-frozenhover")).length&&"mouseout"===e.type){const i=[].slice.call(this.element.getElementsByClassName("e-frozenhover"));for(let n=0;n<i.length;n++)i[n].classList.remove("e-frozenhover")}else if(t){const i=[].slice.call(this.element.querySelectorAll('tr[aria-rowindex="'+t.getAttribute(ei)+'"]'));i.splice(i.indexOf(t),1);for(let n=0;n<i.length;n++)"true"!==t.getAttribute("aria-selected")&&i[n]?i[n].classList.add("e-frozenhover"):i[n]&&i[n].classList.remove("e-frozenhover")}}}isEllipsisTooltip(){const e=this.getColumns();if("EllipsisWithTooltip"===this.clipMode)return!0;for(let t=0;t<e.length;t++)if("EllipsisWithTooltip"===e[t].clipMode)return!0;return!1}scrollHandler(){this.isEllipsisTooltip()&&this.toolTipObj.close()}createTable(e,t,i){const n=this.createElement("div");n.className=this.element.className,n.style.cssText="display: inline-block;visibility:hidden;position:absolute";const s=this.createElement("div");s.className=t;const o=this.createElement("table",{attrs:{role:"grid"}});o.className=e.className,o.style.cssText="table-layout: auto;width: auto";const l="header"===i?"th":"td",a=this.createElement("tr",{attrs:{role:"row"}}),c=this.createElement(l);return a.appendChild(c),o.appendChild(a),s.appendChild(o),n.appendChild(s),document.body.appendChild(n),n}onKeyPressed(e){("tab"===e.action||"shiftTab"===e.action)&&this.toolTipObj.close()}wireEvents(){C.add(this.element,"click",this.mouseClickHandler,this),C.add(this.element,"touchend",this.mouseClickHandler,this),C.add(this.element,"focusout",this.focusOutHandler,this),C.add(this.element,"dblclick",this.dblClickHandler,this),C.add(this.element,"keydown",this.keyPressHandler,this),C.add(window,"resize",this.resetIndentWidth,this),this.allowKeyboard&&(this.element.tabIndex=-1===this.element.tabIndex?0:this.element.tabIndex),this.keyboardModule=new tn(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),C.add(this.getContent().firstElementChild,"scroll",this.scrollHandler,this),C.add(this.element,"mousemove",this.mouseMoveHandler,this),C.add(this.element,"mouseout",this.mouseMoveHandler,this),C.add(this.getContent(),"touchstart",this.tapEvent,this),C.add(document.body,"keydown",this.keyDownHandler,this)}unwireEvents(){C.remove(this.element,"click",this.mouseClickHandler),C.remove(this.element,"touchend",this.mouseClickHandler),C.remove(this.element,"focusout",this.focusOutHandler),C.remove(this.element,"dblclick",this.dblClickHandler),C.remove(this.getContent().firstElementChild,"scroll",this.scrollHandler),C.remove(this.element,"mousemove",this.mouseMoveHandler),C.remove(this.element,"mouseout",this.mouseMoveHandler),C.remove(this.element,"keydown",this.keyPressHandler),C.remove(this.getContent(),"touchstart",this.tapEvent),C.remove(document.body,"keydown",this.keyDownHandler),C.remove(window,"resize",this.resetIndentWidth)}addListener(){this.isDestroyed||(this.on($d,this.dataReady,this),this.on(Ds,this.recalcIndentWidth,this),this.on(so,this.recalcIndentWidth,this),this.dataBoundFunction=this.refreshMediaCol.bind(this),this.addEventListener(Ga,this.dataBoundFunction),this.on(hr,this.onKeyPressed,this))}removeListener(){this.isDestroyed||(this.off($d,this.dataReady),this.off(Ds,this.recalcIndentWidth),this.off(so,this.recalcIndentWidth),this.removeEventListener(Ga,this.dataBoundFunction),this.off(hr,this.onKeyPressed))}getCurrentViewRecords(){return gr(this)?h(this.currentViewData.records)?this.currentViewData:this.currentViewData.records:this.groupSettings.enableLazyLoading?this.currentViewData:this.allowGrouping&&this.groupSettings.columns.length&&this.currentViewData.length&&this.currentViewData.records?this.currentViewData.records:this.currentViewData}mouseClickHandler(e){if(this.isChildGrid(e)||Se(e.target,"e-gridpopup")&&e.touches||this.element.getElementsByClassName("e-cloneproperties").length||this.checkEdit(e)||(!this.allowRowDragAndDrop&&(Se(e.target,ur)||"TD"===e.target.tagName)||!this.allowGrouping&&!this.allowReordering&&Se(e.target,"e-gridheader"))&&e.touches)return;Se(e.target,"e-gridheader")&&this.allowRowDragAndDrop&&!Se(e.target,"e-filterbarcell")&&e.preventDefault();const t=this.getRowInfo(e.target);t.cancel=!1;let n=!1;const s=D(e.target,"tr");if(s&&s.getAttribute("data-uid")){const o=this.getRowObjectFromUID(s.getAttribute("data-uid"));n=!!o&&o.isDataRow}n&&this.trigger("recordClick",t),this.notify(Ml,e)}checkEdit(e){const t=Se(e.target,Bi),i="Batch"!==this.editSettings.mode&&this.isEdit&&t&&(t.classList.contains(hl)||t.classList.contains(ba));return!Se(e.target,"e-unboundcelldiv")&&(i||Se(e.target,Di)&&Se(e.target,Di).classList.contains("e-editedbatchcell"))}dblClickHandler(e){const t=Se(e.target,"e-grid");if(h(t)||t.id!==this.element.id||D(e.target,".e-unboundcelldiv"))return;let i=!1;const n=D(e.target,"tr");if(n&&n.getAttribute("data-uid")){const o=this.getRowObjectFromUID(n.getAttribute("data-uid"));i=!!o&&o.isDataRow}const s=this.getRowInfo(e.target);s.target=e.target,i&&this.trigger("recordDoubleClick",s),this.notify("dblclick",e)}focusOutHandler(e){if(this.isChildGrid(e))return;Se(e.target,"e-grid")||(this.element.querySelector(".e-gridpopup").style.display="None");const t=this.element.querySelector(".e-cancel:not(.e-hide)");t&&t.classList.add("e-hide");const i=e.relatedTarget,n=i?i.getAttribute("aria-owns"):null;(!i||!Se(i,"e-grid")&&(!h(n)&&n)!==e.target.getAttribute("aria-owns"))&&!this.keyPress&&this.isEdit&&!A.isDevice&&("Batch"===this.editSettings.mode&&!((Se(i,"e-ddl")||Se(i,"e-ddt"))&&Se(i,"e-input-group"))&&(this.editModule.saveCell(),this.notify("editNextValCell",{})),"Normal"===this.editSettings.mode&&this.editModule.editFormValidate()),this.keyPress=!1}isChildGrid(e){const t=Se(e.target,"e-grid");return!!(t&&t.id!==this.element.id||Se(e.target,"e-unboundcelldiv")&&h(t))}mergePersistGridData(e){const t=this.getLocalData();if(!h(t)&&""!==t||!h(e)){const i=h(e)?JSON.parse(t):e;this.enableVirtualization&&(i.pageSettings.currentPage=1);const n=Object.keys(i);this.isProtectedOnChange=!0;for(const s of n)"object"!=typeof this[s]||h(this[s])?this[s]=i[s]:Array.isArray(this[s])&&"columns"===s?(gR(this[s]),this.mergeColumns(i[s],this[s]),this[s]=i[s]):O(this[s],i[s]);this.isProtectedOnChange=!1}}mergeColumns(e,t){const i=e;for(let n=0;n<i.length;n++){const s=t.filter(o=>o.index===i[n].index)[0];h(s)||(s.columns&&s.columns.length?(this.mergeColumns(i[n].columns,s.columns),i[n]=O(s,i[n],{},!0)):i[n]=O(s,i[n],{},!0))}}isDetail(){return!h(this.detailTemplate)||!h(this.childGrid)}isCommandColumn(e){return e.some(t=>t.columns?this.isCommandColumn(t.columns):!(!t.commands&&!t.commandsTemplate))}isForeignKeyEnabled(e){return e.some(t=>t.columns?this.isForeignKeyEnabled(t.columns):!(!t.dataSource||!t.foreignKeyValue))}keyPressHandler(e){const t=O(e,{cancel:!1});this.trigger("keyPressed",t),!0===t.cancel&&e.stopImmediatePropagation()}keyDownHandler(e){e.altKey&&(74===e.keyCode&&(this.keyA?(this.notify(xB,{target:e.target,collapse:!1}),this.keyA=!1):(this.focusModule.focusHeader(),this.focusModule.addOutline())),87===e.keyCode&&(this.focusModule.focusContent(),this.focusModule.addOutline()),65===e.keyCode&&(this.keyA=!0),72===e.keyCode&&this.keyA&&(this.notify(xB,{target:e.target,collapse:!0}),this.keyA=!1)),13===e.keyCode&&this.notify(iR,e)}keyActionHandler(e){this.isChildGrid(e)||this.isEdit&&"escape"!==e.action&&"enter"!==e.action&&"shiftEnter"!==e.action&&"tab"!==e.action&&"shiftTab"!==e.action||(this.keyPress=!0,this.allowKeyboard&&("ctrlPlusP"===e.action&&(e.preventDefault(),this.print()),this.notify(hr,e)))}setInjectedModules(e){this.injectedModules=e}updateColumnObject(){pC(this.columns,this.enableColumnVirtualization,this),gR(this.columns),this.initForeignColumn(),this.notify(K0,{})}getForeignKeyColumns(){return this.getColumns().filter(e=>e.isForeignColumn())}getRowHeight(){return this.rowHeight?this.rowHeight:function bPe(r){if(void 0!==A_)return A_;const e=Xe("table",{className:kn,styles:"visibility: hidden",attrs:{role:"grid"}});e.innerHTML='<tr><td class="e-rowcell">A<td></tr>',r.appendChild(e);const t=e.querySelector("td").getBoundingClientRect();return r.removeChild(e),A_=Math.ceil(t.height),A_}(this.element)}refreshColumns(){this.setFrozenCount();const e=this.getContent().querySelector(".e-frozen-left-content"),t=this.getContent().querySelector(".e-frozen-right-content"),i=!this.frozenRightCount&&!this.frozenLeftCount;if(0===this.getFrozenColumns()&&(!e&&this.frozenLeftCount||!t&&this.frozenRightCount||e&&!this.frozenLeftCount||t&&!this.frozenRightCount))this.tableIndex=0,this.tablesCount=1,this.enableColumnVirtualization&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.freezeRefresh();else if(i&&(1===this.getFrozenColumns()&&!e||0===this.getFrozenColumns()&&e))this.tableIndex=0,this.tablesCount=1,this.enableColumnVirtualization&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.freezeRefresh();else if(this.isPreventScrollEvent=!0,this.updateColumnObject(),this.checkLockColumns(this.getColumns()),this.refresh(),this.isFrozenGrid()){const s=this.contentModule.getMovableContent().querySelector("."+kn);X(s.querySelector(si));const o=this.getHeaderContent().querySelector("."+fn).querySelector(si).cloneNode(!0);if(s.insertBefore(o,s.querySelector(Ye)),"Left-Right"===this.getFrozenMode()){const l=this.contentModule.getFrozenRightContent().querySelector("."+kn);X(l.querySelector(si));const a=this.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(si).cloneNode(!0);l.insertBefore(a,l.querySelector(Ye))}}if(this.isFrozenGrid()){const s=this.getContent().querySelector(".e-movablescrollbar").scrollLeft;this.headerModule.getMovableHeader().scrollLeft=s,this.contentModule.getMovableContent().scrollLeft=s}}excelExport(e,t,i,n){return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!1,n):null}csvExport(e,t,i,n){return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!0,n):null}pdfExport(e,t,i,n){return this.pdfExportModule?this.pdfExportModule.Map(this,e,t,i,n):null}groupColumn(e){this.groupModule&&this.groupModule.groupColumn(e)}groupExpandAll(){this.groupModule&&this.groupModule.expandAll()}groupCollapseAll(){this.groupModule&&this.groupModule.collapseAll()}clearGrouping(){this.groupModule&&this.groupModule.clearGrouping()}ungroupColumn(e){this.groupModule&&this.groupModule.ungroupColumn(e)}openColumnChooser(e,t){this.columnChooserModule&&this.columnChooserModule.openColumnChooser(e,t)}scrollRefresh(){const e=()=>{this.scrollModule.refresh(),this.off(Ds,e)};this.on(Ds,e,this)}detailCollapseAll(){this.detailRowModule&&this.detailRowModule.collapseAll()}detailExpandAll(){this.detailRowModule&&this.detailRowModule.expandAll()}clearCellSelection(){this.selectionModule&&this.selectionModule.clearCellSelection()}clearRowSelection(){this.selectionModule&&this.selectionModule.clearRowSelection()}selectCells(e){this.selectionModule&&this.selectionModule.selectCells(e)}selectRowsByRange(e,t){this.selectionModule&&this.selectionModule.selectRowsByRange(e,t)}isContextMenuOpen(){return this.contextMenuModule&&this.contextMenuModule.isOpen}ensureModuleInjected(e){return this.getInjectedModules().indexOf(e)>=0}destroyTemplate(e,t){this.clearTemplate(e,t)}log(e,t){this.loggerModule&&this.loggerModule.log(e,t)}applyBiggerTheme(e){this.element.classList.contains("e-bigger")&&e.classList.add("e-bigger")}getPreviousRowData(){return this.getRowsObject()[this.getRows().length-1].data}hideScroll(){const e=this.getContent().querySelector("."+Bs),t=this.getContent().querySelector(".e-scrollbar");if(e.scrollHeight<=e.clientHeight&&(this.scrollModule.removePadding(),e.style.overflowY="auto"),this.isFrozenGrid()&&t){const i=this.getContent().querySelector(".e-movablescrollbar"),n=this.getContent().querySelector(".e-movablechild");t.style.display="flex",i.offsetWidth>=n.offsetWidth&&(t.style.display="none",this.notify(m_,0))}}getRowIndexByPrimaryKey(e){const t=this.getPrimaryKeyFieldNames()[0];e="object"==typeof e?e[t]:e;const i=this.getRowsObject();for(let n=0;n<i.length;n++){if(i[n].isDetailRow||i[n].isCaptionRow)continue;let s=i[n].data[t];if(t.split(".").length>1&&(s=eN(t,i[n].data)),s===e)return i[n].index}return-1}grabColumnByFieldFromAllCols(e){let t;this.columnModel=[],this.updateColumnModel(this.columns);const i=this.columnModel;for(let n=0;n<i.length;n++)e===i[n].field&&(t=i[n]);return t}grabColumnByUidFromAllCols(e){let t;this.columnModel=[],this.updateColumnModel(this.columns);const i=this.columnModel;for(let n=0;n<i.length;n++)e===i[n].uid&&(t=i[n]);return t}getFilteredRecords(){if(this.allowFiltering&&this.filterSettings.columns.length){const e=this.renderModule.data.generateQuery(!0);return this.dataSource&&this.renderModule.data.isRemote()&&this.dataSource instanceof ie?this.renderModule.data.getData(this.dataSource,e):this.dataSource instanceof ie?this.dataSource.executeLocal(e):new ie(this.dataSource,e).executeLocal(e)}return[]}getUserAgent(){const e=A.userAgent.toLowerCase();return/iphone|ipod|ipad/.test(e)}tapEvent(e){this.getUserAgent()&&(eh.timer?(clearTimeout(eh.timer),eh.timer=null,this.dblClickHandler(e),this.notify("double-tap",e)):eh.timer=setTimeout(()=>{eh.timer=null},300))}getRowUid(e){return`${e}${this.rowUid++}`}getMovableVirtualContent(){return this.getContent().querySelector("."+gn)}getFrozenVirtualContent(){return this.getContent().querySelector("."+md)}getMovableVirtualHeader(){return this.getHeaderContent().querySelector("."+fn)}getFrozenVirtualHeader(){return this.getHeaderContent().querySelector("."+Nh)}getRowElementByUID(e){let t,i=[];if(this.isFrozenGrid()){const n=[].slice.call(this.getFrozenVirtualContent().querySelector(Ye).children),s=[].slice.call(this.getMovableVirtualContent().querySelector(Ye).children);let o=[];if(3===this.tablesCount&&(o=[].slice.call(this.getContent().querySelector(".e-frozen-right-content").querySelector(Ye).children)),this.frozenRows){if(i=[].slice.call(this.getFrozenVirtualHeader().querySelector(Ye).children),i=i.concat([].slice.call(this.getMovableVirtualHeader().querySelector(Ye).children)),3===this.tablesCount){const l=this.getHeaderContent().querySelector(".e-frozen-right-header");i=i.concat([].slice.call(l.querySelector(Ye).children)).concat(o)}i=i.concat(n).concat(s)}else i=n.concat(s).concat(o)}else{const n=[].slice.call(this.getContent().querySelector(Ye).children);this.frozenRows?(i=[].slice.call(this.getHeaderContent().querySelector(Ye).children),i=i.concat(n)):i=n}for(const n of i)if(n.getAttribute("data-uid")===e){t=n;break}return t}getHiddenColumns(){const e=[];for(const t of this.columnModel)!1===t.visible&&e.push(t);return e}calculatePageSizeByParentHeight(e){if(this.allowPaging&&(this.allowTextWrap&&"Header"===this.textWrapSettings.wrapMode||!this.allowTextWrap)){let t=0;if(-1!==e.indexOf("%")&&(e=parseInt(e,10)/100*this.element.clientHeight),e>this.getNoncontentHeight()+this.getRowHeight()){let n=0;n=e-this.getNoncontentHeight(),t=n/this.getRowHeight()}if(t>0)return Math.floor(t)}return 0}getNoncontentHeight(){let e=0;if(h(this.getHeaderContent().clientHeight)||(e+=this.getHeaderContent().clientHeight),this.toolbar&&!h(this.element.querySelector(".e-toolbar").clientHeight)&&(e+=this.element.querySelector(".e-toolbar").clientHeight),this.allowPaging&&!h(this.element.querySelector(".e-gridpager").clientHeight)&&(e+=this.element.querySelector(".e-gridpager").clientHeight),this.showColumnChooser&&!h(this.element.querySelector(".e-columnheader").clientHeight)&&(e+=this.element.querySelector(".e-columnheader").clientHeight),this.allowGrouping&&this.groupSettings.showDropArea&&!h(this.element.querySelector(".e-groupdroparea").clientHeight)&&(e+=this.element.querySelector(".e-groupdroparea").clientHeight),this.aggregates.length>0&&!h(this.element.querySelector(".e-summaryrow").clientHeight))for(let t=0;t<this.element.getElementsByClassName("e-summaryrow").length;t++)e+=this.element.getElementsByClassName("e-summaryrow")[t].clientHeight;return e}getSummaryValues(e,t){return Ie.aggregates[e.type.toLowerCase()](t,e.field)}serverExcelExport(e){this.isExcel=!0,this.exportGrid(e)}serverPdfExport(e){this.isExcel=!1,this.exportGrid(e)}serverCsvExport(e){this.isExcel=!0,this.exportGrid(e)}exportGrid(e){const i=this.getDataModule().generateQuery(!0),n=(new ca).processQuery(new ie({url:""}),i),s=JSON.parse(n.data),o=JSON.parse(this.addOnPersist(["allowGrouping","allowPaging","pageSettings","sortSettings","allowPdfExport","allowExcelExport","aggregates","filterSettings","groupSettings","columns","locale","searchSettings"]));o.filterSettings.columns=s.where,o.searchSettings.fields=s.search&&s.search[0].fields||[],o.sortSettings.columns=s.sorted,o.columns=this.setHeaderText(o.columns,["field","headerText","type","format","visible","foreignKeyValue","foreignKeyField","template","index","width","textAlign","headerTextAlign","columns"]);const a=this.createElement("form",{id:"ExportForm",styles:"display:none;"}),c=this.createElement("input",{id:"gridInput",attrs:{name:"gridModel"}});c.value=JSON.stringify(o),a.method="POST",a.action=e,a.appendChild(c),document.body.appendChild(a),a.submit(),a.remove()}setHeaderText(e,t){for(let i=0;i<e.length;i++){const n=this.getColumnByUid(e[i].uid);e[i].headerText=n.headerText,h(n.template)||(e[i].template="true"),e[i].format&&(e[i].format=BPe(this.getFormat(e[i].format),e[i].type,this.isExcel)),e[i].columns&&this.setHeaderText(e[i].columns,t);const s=Object.keys(e[i]);for(let o=0;o<s.length;o++)t.indexOf(s[o])<0&&delete e[i][s[o]]}return e}getFormat(e){return"object"==typeof e?h(e.format)?e.skeleton:e.format:e}isCollapseStateEnabled(){return!1===this.isExpanded}updateRowValue(e,t){const i={requestType:"save",data:t};this.showSpinner(),this.notify(p_,i),this.refresh()}setForeignKeyData(){this.dataBind();const e=this.getDataModule().getForeignKeyDataState();e.isPending?(this.getDataModule().setForeignKeyDataState({}),e.resolver()):(this.getDataModule().setForeignKeyDataState({isDataChanged:!1}),(this.contentModule||this.headerModule)&&this.renderModule.render())}resetFilterDlgPosition(e){const t=this.getColumnHeaderByField(e);if(t){const i=t.querySelector(".e-filtermenudiv"),n=this.element.querySelector(".e-filter-popup");if(i&&n){const s=this.element.getBoundingClientRect(),o=i.getBoundingClientRect();n&&(n.style.left=n.offsetWidth+o.right>s.right?(o.right-n.offsetWidth-s.left).toString()+"px":(o.right-s.left).toString()+"px")}}}renderTemplates(){this.notify("reactTemplateRender",this.portals),this.renderReactTemplates()}batchUpdate(e){this.processRowChanges(e)}batchAsyncUpdate(e){this.processBulkRowChanges(e)}processBulkRowChanges(e){if(this.dataToBeUpdated){const t=[Bu,"changedRecords",im],i=this.getPrimaryKeyFieldNames()[0];for(let n=0;n<t.length;n++)e[t[n]]&&FPe(this,e,t[n],i)}else this.dataToBeUpdated=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e),setTimeout(()=>{this.processRowChanges(this.dataToBeUpdated),this.dataToBeUpdated=null},this.asyncTimeOut)}processRowChanges(e){const t=this.getPrimaryKeyFieldNames()[0];e=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e);const i=this.getDataModule().saveChanges(e,t,{},this.getDataModule().generateQuery().requiresCount());this.getDataModule().isRemote()?i.then(()=>{this.setNewData()}):this.setNewData()}setNewData(){const e=JSON.parse(JSON.stringify(this.getCurrentViewRecords()));this.getDataModule().getData({},this.getDataModule().generateQuery().requiresCount()).then(i=>{this.bulkRefresh(i.result,e,i.count)})}deleteRowElement(e){const t=this.getRowElementByUID(e.uid),i=parseInt(t.getAttribute(ei),10);X(t),this.getFrozenColumns()&&X(this.getMovableRows()[i])}bulkRefresh(e,t,i){const n=this.getRowsObject(),s=this.getPrimaryKeyFieldNames()[0];for(let l=0;l<n.length;l++)e.filter(a=>a[s]===n[l].data[s]).length||(this.deleteRowElement(n[l]),n.splice(l,1),l--);for(let l=0;l<e.length;l++){let a;t.filter(c=>{c[s]===e[l][s]&&(c!==e[l]&&this.setRowData(e[l][s],e[l]),a=!0)}),a||this.renderRowElement(e[l],l)}this.currentViewData=e;const o=[].slice.call(this.getContentTable().getElementsByClassName(Bi));(function L_(r,e,t,i,n){let s=i||0;for(let o=n||0;o<e.length;o++)if(e[o].isDataRow){e[o].index=s,e[o].isAltRow=!!r.enableAltRow&&s%2!=0,t[o].setAttribute(ei,s.toString()),e[o].isAltRow?t[o].classList.add("e-altrow"):t[o].classList.remove("e-altrow");for(let l=0;l<t[o].cells.length;l++)t[o].cells[l].setAttribute("index",s.toString());s++}e.length||r.renderModule.emptyRow(!0)})(this,this.getRowsObject(),o),function gC(r){if(r.isFrozenGrid()){r.contentModule.rowElements=[].slice.call(r.element.querySelectorAll(".e-movableheader .e-row, .e-movablecontent .e-row"));const e=r.getFrozenMode()===Ot?".e-frozen-left-header .e-row, .e-frozen-left-content .e-row":".e-frozenheader .e-row, .e-frozencontent .e-row";r.contentModule.freezeRowElements=[].slice.call(r.element.querySelectorAll(e)),r.getFrozenMode()===Ot&&(r.contentModule.frozenRightRowElements=[].slice.call(r.element.querySelectorAll(".e-frozen-right-header .e-row, .e-frozen-right-content .e-row")))}else r.contentModule.rowElements=[].slice.call(r.element.querySelectorAll(".e-row:not(.e-addedrow)"))}(this),this.allowPaging&&this.notify(dl,{module:"pager",properties:{totalRecordsCount:i}})}renderRowElement(e,t){const i=new rc(this.serviceLocator,null,this),s=new Vh(this).generateRows([e]),o=i.render(s[0],this.getColumns());let l,a;this.addRowObject(s[0],t);let c=this.getContentTable().querySelector(Ye);if(c.querySelector(".e-emptyrow")){const d=c.querySelector(".e-emptyrow");if(d.parentNode.removeChild(d),this.getFrozenColumns()){const u=this.getContent().querySelector("."+gn).querySelector(Ye);u.firstElementChild.parentNode.removeChild(u.firstElementChild)}}this.getFrozenColumns()&&(l=function vR(r,e,t){e=e&&t&&t.isRowDragable()?e+1:e;const i=r.cloneNode(!0);for(let n=0;n<e;n++)i.removeChild(i.children[0]);for(let n=e,s=r.childElementCount;n<s;n++)r.removeChild(r.children[r.childElementCount-1]);return i}(o,this.getFrozenColumns(),this),a=this.frozenRows&&t<this.frozenRows?this.getHeaderContent().querySelector("."+fn).querySelector(Ye):this.getContent().querySelector("."+gn).querySelector(Ye),a.appendChild(l),"auto"===this.height&&this.notify(m_,{})),c=this.frozenRows&&t<this.frozenRows?this.getHeaderContent().querySelector(Ye):this.getContent().querySelector(Ye),c=this.getContent().querySelector(Ye),c.appendChild(o)}addRowObject(e,t){const i=this.getFrozenColumns();if(i){const n=this.getMovableRowsObject(),s=e.clone();s.cells=s.cells.slice(i),e.cells=e.cells.slice(0,i),n.splice(t,1,s)}this.getRowsObject().splice(t,1,e)}updateVisibleExpandCollapseRows(){const e=this.getRowsObject();for(let t=0,i=e.length;t<i;t++)e[t].visible=!e[t].isDataRow&&!e[t].isAggregateRow||"none"!==this.getRowElementByUID(e[t].uid).style.display}getHeight(e){return Number.isInteger(e)||-1===e.indexOf("%")?Number.isInteger(e)||"auto"===this.height?this.height:parseInt(e,10):parseInt(e,10)/100*this.element.clientHeight}getFrozenRightContent(){return this.getContent().querySelector(".e-frozen-right-content")}getFrozenRightHeader(){return this.getHeaderContent().querySelector(".e-frozen-right-header")}getMovableHeaderTbody(){return this.getMovableVirtualHeader().querySelector(Ye)}getMovableContentTbody(){return this.getMovableVirtualContent().querySelector(Ye)}getFrozenHeaderTbody(){return this.getFrozenVirtualHeader().querySelector(Ye)}getFrozenLeftContentTbody(){return this.getFrozenVirtualContent().querySelector(Ye)}getFrozenRightHeaderTbody(){return this.getFrozenRightHeader().querySelector(Ye)}getFrozenRightContentTbody(){let t;return this.getFrozenRightContent()&&(t=this.getFrozenRightContent().querySelector(Ye)),t}showResponsiveCustomFilter(e){this.filterModule&&this.filterModule.showCustomFilter(e||"Vertical"===this.rowRenderingMode)}showResponsiveCustomSort(e){this.sortModule&&this.sortModule.showCustomSort(e||"Vertical"===this.rowRenderingMode)}showAdaptiveFilterDialog(){this.enableAdaptiveUI&&this.showResponsiveCustomFilter(!0)}showAdaptiveSortDialog(){this.enableAdaptiveUI&&this.showResponsiveCustomSort(!0)}getCurrentVisibleColumns(e){const t=[],i=e?this.getColumns():this.columnModel;for(const n of i)n.visible&&t.push(n);return t}enableInfiniteAggrgate(){this.enableInfiniteScrolling&&this.groupSettings.columns.length&&!this.groupSettings.disablePageWiseAggregates&&this.setProperties({groupSettings:{disablePageWiseAggregates:!0}},!0)}};pe([y()],We.prototype,"parentDetails",void 0),pe([y([])],We.prototype,"columns",void 0),pe([y(!0)],We.prototype,"enableAltRow",void 0),pe([y(!0)],We.prototype,"enableHover",void 0),pe([y(!1)],We.prototype,"enableAutoFill",void 0),pe([y(!0)],We.prototype,"allowKeyboard",void 0),pe([y(!1)],We.prototype,"enableStickyHeader",void 0),pe([y(!1)],We.prototype,"allowTextWrap",void 0),pe([gi({},UZ)],We.prototype,"textWrapSettings",void 0),pe([gi({},$Z)],We.prototype,"resizeSettings",void 0),pe([y(!1)],We.prototype,"allowPaging",void 0),pe([gi({},nm)],We.prototype,"pageSettings",void 0),pe([y(!1)],We.prototype,"enableVirtualization",void 0),pe([y(!1)],We.prototype,"enableColumnVirtualization",void 0),pe([y(!1)],We.prototype,"enableInfiniteScrolling",void 0),pe([gi({},uC)],We.prototype,"searchSettings",void 0),pe([y(!1)],We.prototype,"allowSorting",void 0),pe([y("Ellipsis")],We.prototype,"clipMode",void 0),pe([y(!0)],We.prototype,"allowMultiSorting",void 0),pe([y(!1)],We.prototype,"allowExcelExport",void 0),pe([y(!1)],We.prototype,"allowPdfExport",void 0),pe([gi({},jB)],We.prototype,"sortSettings",void 0),pe([gi({},uR)],We.prototype,"infiniteScrollSettings",void 0),pe([y(!0)],We.prototype,"allowSelection",void 0),pe([y(-1)],We.prototype,"selectedRowIndex",void 0),pe([gi({},Fp)],We.prototype,"selectionSettings",void 0),pe([y(!1)],We.prototype,"allowFiltering",void 0),pe([y("Horizontal")],We.prototype,"rowRenderingMode",void 0),pe([y(!1)],We.prototype,"enableAdaptiveUI",void 0),pe([y(!1)],We.prototype,"allowReordering",void 0),pe([y(!1)],We.prototype,"allowResizing",void 0),pe([y(!1)],We.prototype,"allowRowDragAndDrop",void 0),pe([gi({},WZ)],We.prototype,"rowDropSettings",void 0),pe([gi({},Mp)],We.prototype,"filterSettings",void 0),pe([y(!1)],We.prototype,"allowGrouping",void 0),pe([y(!1)],We.prototype,"enableImmutableMode",void 0),pe([y(!1)],We.prototype,"showColumnMenu",void 0),pe([gi({},Pp)],We.prototype,"groupSettings",void 0),pe([gi({},yd)],We.prototype,"editSettings",void 0),pe([Hr([],qZ)],We.prototype,"aggregates",void 0),pe([y(!1)],We.prototype,"showColumnChooser",void 0),pe([gi({},HB)],We.prototype,"columnChooserSettings",void 0),pe([y(!1)],We.prototype,"enableHeaderFocus",void 0),pe([y("auto")],We.prototype,"height",void 0),pe([y("auto")],We.prototype,"width",void 0),pe([y("Default")],We.prototype,"gridLines",void 0),pe([y()],We.prototype,"rowTemplate",void 0),pe([y()],We.prototype,"detailTemplate",void 0),pe([y()],We.prototype,"childGrid",void 0),pe([y()],We.prototype,"queryString",void 0),pe([y("AllPages")],We.prototype,"printMode",void 0),pe([y("Expanded")],We.prototype,"hierarchyPrintMode",void 0),pe([y([])],We.prototype,"dataSource",void 0),pe([y(null)],We.prototype,"rowHeight",void 0),pe([y()],We.prototype,"query",void 0),pe([y("USD")],We.prototype,"currencyCode",void 0),pe([y()],We.prototype,"toolbar",void 0),pe([y()],We.prototype,"contextMenuItems",void 0),pe([y()],We.prototype,"columnMenuItems",void 0),pe([y()],We.prototype,"toolbarTemplate",void 0),pe([y()],We.prototype,"pagerTemplate",void 0),pe([y(0)],We.prototype,"frozenRows",void 0),pe([y(0)],We.prototype,"frozenColumns",void 0),pe([y("")],We.prototype,"cssClass",void 0),pe([y("All")],We.prototype,"columnQueryMode",void 0),pe([y({})],We.prototype,"currentAction",void 0),pe([y("20.1.59")],We.prototype,"ej2StatePersistenceVersion",void 0),pe([E()],We.prototype,"created",void 0),pe([E()],We.prototype,"destroyed",void 0),pe([E()],We.prototype,"load",void 0),pe([E()],We.prototype,"rowDataBound",void 0),pe([E()],We.prototype,"queryCellInfo",void 0),pe([E()],We.prototype,"headerCellInfo",void 0),pe([E()],We.prototype,"actionBegin",void 0),pe([E()],We.prototype,"actionComplete",void 0),pe([E()],We.prototype,"actionFailure",void 0),pe([E()],We.prototype,"dataBound",void 0),pe([E()],We.prototype,"recordDoubleClick",void 0),pe([E()],We.prototype,"recordClick",void 0),pe([E()],We.prototype,"rowSelecting",void 0),pe([E()],We.prototype,"rowSelected",void 0),pe([E()],We.prototype,"rowDeselecting",void 0),pe([E()],We.prototype,"rowDeselected",void 0),pe([E()],We.prototype,"cellSelecting",void 0),pe([E()],We.prototype,"cellSelected",void 0),pe([E()],We.prototype,"cellDeselecting",void 0),pe([E()],We.prototype,"cellDeselected",void 0),pe([E()],We.prototype,"columnSelecting",void 0),pe([E()],We.prototype,"columnSelected",void 0),pe([E()],We.prototype,"columnDeselecting",void 0),pe([E()],We.prototype,"columnDeselected",void 0),pe([E()],We.prototype,"columnDragStart",void 0),pe([E()],We.prototype,"columnDrag",void 0),pe([E()],We.prototype,"columnDrop",void 0),pe([E()],We.prototype,"printComplete",void 0),pe([E()],We.prototype,"beforePrint",void 0),pe([E()],We.prototype,"pdfQueryCellInfo",void 0),pe([E()],We.prototype,"pdfHeaderQueryCellInfo",void 0),pe([E()],We.prototype,"pdfAggregateQueryCellInfo",void 0),pe([E()],We.prototype,"excelAggregateQueryCellInfo",void 0),pe([E()],We.prototype,"exportDetailDataBound",void 0),pe([E()],We.prototype,"excelQueryCellInfo",void 0),pe([E()],We.prototype,"excelHeaderQueryCellInfo",void 0),pe([E()],We.prototype,"beforeExcelExport",void 0),pe([E()],We.prototype,"excelExportComplete",void 0),pe([E()],We.prototype,"beforePdfExport",void 0),pe([E()],We.prototype,"pdfExportComplete",void 0),pe([E()],We.prototype,"rowDragStartHelper",void 0),pe([E()],We.prototype,"detailDataBound",void 0),pe([E()],We.prototype,"rowDragStart",void 0),pe([E()],We.prototype,"rowDrag",void 0),pe([E()],We.prototype,"rowDrop",void 0),pe([E()],We.prototype,"toolbarClick",void 0),pe([E()],We.prototype,"beforeOpenColumnChooser",void 0),pe([E()],We.prototype,"beforeOpenAdaptiveDialog",void 0),pe([E()],We.prototype,"batchAdd",void 0),pe([E()],We.prototype,"batchDelete",void 0),pe([E()],We.prototype,"batchCancel",void 0),pe([E()],We.prototype,"beforeBatchAdd",void 0),pe([E()],We.prototype,"beforeBatchDelete",void 0),pe([E()],We.prototype,"beforeBatchSave",void 0),pe([E()],We.prototype,"beginEdit",void 0),pe([E()],We.prototype,"commandClick",void 0),pe([E()],We.prototype,"cellEdit",void 0),pe([E()],We.prototype,"cellSave",void 0),pe([E()],We.prototype,"cellSaved",void 0),pe([E()],We.prototype,"resizeStart",void 0),pe([E()],We.prototype,"resizing",void 0),pe([E()],We.prototype,"resizeStop",void 0),pe([E()],We.prototype,"keyPressed",void 0),pe([E()],We.prototype,"beforeDataBound",void 0),pe([E()],We.prototype,"contextMenuOpen",void 0),pe([E()],We.prototype,"contextMenuClick",void 0),pe([E()],We.prototype,"columnMenuOpen",void 0),pe([E()],We.prototype,"columnMenuClick",void 0),pe([E()],We.prototype,"checkBoxChange",void 0),pe([E()],We.prototype,"beforeCopy",void 0),pe([E()],We.prototype,"beforePaste",void 0),pe([E()],We.prototype,"beforeAutoFill",void 0),pe([E()],We.prototype,"columnDataStateChange",void 0),pe([E()],We.prototype,"dataStateChange",void 0),pe([E()],We.prototype,"dataSourceChanged",void 0),pe([E()],We.prototype,"exportGroupCaption",void 0),pe([E()],We.prototype,"lazyLoadGroupExpand",void 0),pe([E()],We.prototype,"lazyLoadGroupCollapse",void 0),We=zB=pe([Pi],We);class GB{constructor(e,t){this.isAsyncPrint=!1,this.defered=new Ss,this.parent=e,!this.parent.isDestroyed&&(this.parent.on(Ds,this.isContentReady(),this),this.actionBeginFunction=this.actionBegin.bind(this),this.parent.addEventListener(On,this.actionBeginFunction),this.parent.on(Bh,this.onEmpty.bind(this)),this.parent.on(oB,this.hierarchyPrint,this),this.scrollModule=t)}isContentReady(){return!this.isPrintGrid()||"None"!==this.parent.hierarchyPrintMode&&this.parent.childGrid?()=>{this.defered.promise.then(()=>{this.contentReady()}),this.isPrintGrid()&&this.hierarchyPrint()}:this.contentReady}hierarchyPrint(){this.removeColGroup(this.parent);const e=window.printGridObj;e&&!e.element.querySelector("[aria-busy=true")&&e.printModule.defered.resolve()}print(){this.renderPrintGrid()}onEmpty(){this.isPrintGrid()&&this.contentReady()}actionBegin(){this.isPrintGrid()&&(this.isAsyncPrint=!0)}renderPrintGrid(){const e=this.parent,t=Xe("div",{id:this.parent.element.id+"_print",className:e.element.className+" e-print-grid"});t.classList.remove("e-gridhover"),document.body.appendChild(t);const i=new We(xR(e,e.hierarchyPrintMode));for(let o=0;o<i.columns.length;o++)i.columns[o]=O({},i.columns[o]),e.isFrozenGrid()&&!e.getFrozenColumns()&&(i.columns[o].freeze=void 0);this.parent.isAngular&&(i.viewContainerRef=this.parent.viewContainerRef),i.load=()=>{},i.query=e.getQuery().clone(),window.printGridObj=i,i.isPrinting=!0;const n=i.getInjectedModules(),s=e.getInjectedModules();(!n||n.length!==s.length)&&i.setInjectedModules(s),e.notify("printGrid-Init",{element:t,printgrid:i}),this.parent.log("exporting_begin",this.getModuleName()),i.registeredTemplate=this.parent.registeredTemplate,i.isVue=this.parent.isVue,i.appendTo(t),i.trigger=e.trigger}contentReady(){if(this.isPrintGrid()){const e=this.parent;if(this.isAsyncPrint)return void this.printGrid();const t={requestType:"print",element:e.element,selectedRows:e.getContentTable().querySelectorAll('tr[aria-selected="true"]'),cancel:!1,hierarchyPrintMode:e.hierarchyPrintMode};if(this.isAsyncPrint||e.trigger(jJ,t),t.cancel)return void de(e.element);this.isAsyncPrint||this.printGrid()}}printGrid(){const e=this.parent;if("auto"!==e.height){const n=this.scrollModule.getCssProperties(),s=e.element.querySelector("."+Bs),o=e.element.querySelector("."+Ir);s.style.height="auto",s.style.overflowY="auto",o.style[n.padding]="",o.firstElementChild.style[n.border]=""}e.allowGrouping&&(e.groupSettings.columns.length?this.removeColGroup(e):e.element.querySelector(".e-groupdroparea").style.display="none");for(const n of[].slice.call(e.element.getElementsByClassName(Bs)))n.style.overflowX="hidden";const t=[].slice.call(e.element.getElementsByClassName("e-spin-show"));for(const n of[].slice.call(t))ze(n,["e-spin-hide"],["e-spin-show"]);this.printGridElement(e),e.isPrinting=!1,delete window.printGridObj,e.trigger(GJ,{element:e.element}),e.destroy(),this.parent.log("exporting_complete",this.getModuleName())}printGridElement(e){ze(e.element,["e-print-grid-layout"],["e-print-grid"]),e.isPrinting&&de(e.element),this.printWind=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWind.moveTo(0,0),this.printWind.resizeTo(screen.availWidth,screen.availHeight),this.printWind=KG(e.element,this.printWind)}removeColGroup(e){const t=e.groupSettings.columns.length,i=e.element,n="#"+e.element.id;if(!t)return;const s=gt(".e-groupcaption",i),o=s[t-1].getAttribute("colspan");for(let c=0;c<s.length;c++)s[c].setAttribute("colspan",o);const l=gt(`colgroup${n}colgroup`,i),a=gt(".e-content colgroup",i);this.hideColGroup(l,t),this.hideColGroup(a,t)}hideColGroup(e,t){for(let i=0;i<e.length;i++)for(let n=0;n<t;n++)e[i].children[n].style.display="none"}isPrintGrid(){return this.parent.element.id.indexOf("_print")>0&&this.parent.isPrinting}destroy(){this.parent.isDestroyed||(this.parent.off(Ds,this.contentReady.bind(this)),this.parent.removeEventListener(On,this.actionBeginFunction),this.parent.off(Bh,this.onEmpty.bind(this)),this.parent.off(oB,this.hierarchyPrint))}getModuleName(){return"print"}}function KZ(r,e,t){return h(r)||""===r?"":Ie.getObject(r,e)}function YZ(r,e){requestAnimationFrame(()=>{try{e(null,r())}catch(t){e(t)}})}function iv(r,e){const t=[];for(let i=0,n=r.length;i<n;i++){const s=e(r[i],i);h(s)||t.push(s)}return t}function T_(r){const e=[];for(let t=0;t<r.length;t++)e.push(O({},R_(r[t]),{},!0));return e}function _a(r){if(r)try{return document.querySelectorAll(r).length?ci(document.querySelector(r).innerHTML.trim()):ci(r)}catch(e){return ci(r)}}function Nu(r,e){const t={},i=["style","class"];O(t,e,{}),"style"in t&&(lt(r,t[i[0]]),delete t[i[0]]),"class"in t&&(_([r],t[i[1]]),delete t[i[1]]),Le(r,t)}function gR(r,e=0){for(let t=0,i=r.length;t<i;t++)r[t].columns?(r[t].index=h(r[t].index)?e:r[t].index,e++,e=gR(r[t].columns,e)):(r[t].index=h(r[t].index)?e:r[t].index,e++);return e}function pC(r,e,t){for(let i=0,n=r.length;i<n;i++){let s;"string"==typeof r[i]?s=new Oc({field:r[i]},t):r[i]instanceof Oc&&!r[i].columns?s=r[i]:r[i].columns?(r[i].columns=pC(r[i].columns,null,t),s=new Oc(r[i],t)):s=new Oc(r[i],t),s.type&&"checkbox"===s.type.toLowerCase()&&(s.allowReordering=!1),s.headerText=h(s.headerText)?s.foreignKeyValue||s.field||"":s.headerText,s.foreignKeyField=s.foreignKeyField||s.field,s.valueAccessor=("string"==typeof s.valueAccessor?M(s.valueAccessor,window):s.valueAccessor)||KZ,s.width=e&&h(s.width)?200:s.width,h(s.visible)&&(s.visible=!0),r[i]=s}return r}function R_(r){return r instanceof Nt?M("properties",r):r}function Se(r,e,t){let i=r;for(;i&&!(t?i.id===e:i.classList.contains(e));)i=i.parentElement;return i}function WB(r){const e=[];for(let t=0,i=r.length;t<i;t++)r[t].hasOwnProperty("properties")?e.push(r[t].properties):e.push(r[t]);return e}function sm(r){const e={};return e.x=h(r.clientX)?r.changedTouches[0].clientX:r.clientX,e.y=h(r.clientY)?r.changedTouches[0].clientY:r.clientY,e}GB.printGridProp=["aggregates","allowGrouping","allowFiltering","allowMultiSorting","allowReordering","allowSorting","allowTextWrap","childGrid","columns","currentViewData","dataSource","detailTemplate","enableAltRow","enableColumnVirtualization","filterSettings","gridLines","groupSettings","height","locale","pageSettings","printMode","query","queryString","enableRtl","rowHeight","rowTemplate","sortSettings","textWrapSettings","allowPaging","hierarchyPrintMode","searchSettings","queryCellInfo","beforeDataBound",jJ,GJ,"load"];let CPe=0;function Hh(r){return r+CPe++}function Po(r,e){for(let t=0,i=e.length;t<i;t++)r.appendChild(i===e.length?e[t]:e[0]);return r}function ZZ(r,e,t,i){if("Custom"===r){let n=t.customAggregate;return"string"==typeof n&&(n=M(n,window)),n?n.call(i,e,t):""}return t.field in e||e instanceof Array?Ie.aggregates[r.toLowerCase()](e,t.field):null}let A_,$B=null;function rm(){if(null!==$B)return $B;const r=document.createElement("div");let e=0;return r.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(r),e=r.offsetWidth-r.clientWidth|0,document.body.removeChild(r),$B=e}function Nc(r,e){const t="e-wrap";r=r instanceof Array?r:[r];for(let i=0;i<r.length;i++)e?r[i].classList.add(t):r[i].classList.remove(t)}function eee(r,e){const t=r.getService("valueFormatter");let n;switch(("date"===e.type||"datetime"===e.type)&&(n={type:e.type,skeleton:e.format},"string"==typeof e.format&&"yMd"!==e.format&&(n.format=e.format)),e.type){case"date":case"datetime":e.setFormatter(t.getFormatFunction(n)),e.setParser(t.getParserFunction(n));break;case"number":e.setFormatter(t.getFormatFunction({format:e.format})),e.setParser(t.getParserFunction({format:e.format}))}}function Zd(r,e,...t){for(let i=0,n=r.length;i<n;i++)e?(ze(r[i],[...t],[]),r[i].setAttribute("aria-selected","true")):(ze(r[i],[],[...t]),r[i].removeAttribute("aria-selected"))}function sv(r,e){r.checked=e}function KB(r,e,t){const i=Xe("div",{className:t});return i.appendChild(e),i.setAttribute("uid",r),i}function M_(r,e){T([r],["e-check","e-stop","e-uncheck"]),r.classList.add(e?"e-check":"e-uncheck")}function om(r,e,t,i){const n=r.foreignKeyField;let s=h(t)?KZ(r.field,e):t;s=h(s)?"":s;const o=new Ze,l=i||(r.dataSource instanceof ie&&r.dataSource.dataSource.json.length?r.dataSource.dataSource.json:r.columnData);return s.getDay?o.where(lm({field:n,operator:"equal",value:s,matchCase:!1})):o.where(n,"==",s,!1),new ie(l).executeLocal(o)}function F_(r,e){let t;return e.some(i=>(t=i,i.foreignKeyValue===r))&&t}function lm(r,e){let t,i,n;const s=O({},R_(r)),o=O({},R_(r));if(h(r.value)||""===r.value)return t=new qt(s.field,s.operator,s.value,!1),t;const l=new Date(r.value);if("equal"===r.operator||"notequal"===r.operator){"datetime"===e?(i=new Date(l.setSeconds(l.getSeconds()-1)),n=new Date(l.setSeconds(l.getSeconds()+2)),r.value=new Date(l.setSeconds(n.getSeconds()-1))):(i=new Date(l.setHours(0)-1),n=new Date(l.setHours(24))),s.value=i,o.value=n,"equal"===r.operator?(s.operator="greaterthan",o.operator="lessthan"):"notequal"===r.operator&&(s.operator="lessthanorequal",o.operator="greaterthanorequal");const a=new qt(s.field,s.operator,s.value,!1),c=new qt(o.field,o.operator,o.value,!1);t="equal"===r.operator?a.and(c):a.or(c)}else"date"===e&&("lessthanorequal"===r.operator||"greaterthan"===r.operator)&&(s.value=new Date(l.setHours(24)-1)),"string"==typeof s.value&&(s.value=new Date(s.value)),t=new qt(s.field,s.operator,s.value,!1);return r.setProperties?r.setProperties({ejpredicate:t},!0):r.ejpredicate=t,t}function gr(r){return r.enableVirtualization&&r.groupSettings.columns.length>0&&r.isVirtualAdaptive}function fr(r="",e){if(r){let t=e;const i=r.split(".");for(let n=0;n<i.length&&!h(t);n++)t=t[i[n]];return t}}function xR(r,e="Expanded"){const t={};if(!r)return t;const i=r.isFrozenGrid()&&!r.getFrozenColumns();for(const n of GB.printGridProp)t[n]="columns"===n?WB(i?r.getColumns():r[n]):"allowPaging"===n?"CurrentPage"===r.printMode:R_(r[n]);return t.enableHover=!1,r.childGrid&&"None"!==e&&(t.expandedRows=function IPe(r,e){const t=r.getRowsObject(),i={};for(const n of t)if(n.isExpand&&!n.isDetailRow){const s=r.allowPaging&&"AllPages"===r.printMode?n.index+r.pageSettings.currentPage*r.pageSettings.pageSize-r.pageSettings.pageSize:n.index;i[s]={},i[s].isExpand=!0,i[s].gridModel=xR(n.childGrid,e),i[s].gridModel.query=r.childGrid.query}return i}(r,e)),t}function CR(r,e,t,i){const n=r||{};let s=arguments.length;i&&(s-=1);for(let o=1;o<s;o++){if(!arguments[o])continue;const l=arguments[o],a=Object.keys(Object.getPrototypeOf(l)).length?Object.keys(l).concat(DPe(l)):Object.keys(l);for(let c=0;c<a.length;c++){const d=n[a[c]],u=l[a[c]];let p;i&&(td(u)||Array.isArray(u))?td(u)?(p=d||{},n[a[c]]=O({},p,u,i)):(p=d||[],n[a[c]]=O([],p,u,i)):n[a[c]]=u}}return n}function DPe(r){let e=[];for(;Object.getPrototypeOf(r)&&Object.keys(Object.getPrototypeOf(r)).length;)e=e.concat(Object.keys(Object.getPrototypeOf(r))),r=Object.getPrototypeOf(r);return e}function see(r,e){let t=e;const i=[];if(r.columns){e++;for(let n=0;n<r.columns.length;n++)i[n]=see(r.columns[n],e);for(let n=0;n<i.length;n++)t<i[n]&&(t=i[n]);e=t}return e}var eh=(()=>((eh||(eh={})).timer=null,eh))();function XB(r){const e=r.getVisibleColumns();let t=0,i=0;for(let n=0;n<e.length;n++)Et(e[n].width)?i++:-1!==e[n].width.toString().indexOf("%")&&t++;return("auto"===r.width||"string"==typeof r.width&&-1!==r.width.indexOf("%"))&&!r.groupSettings.showGroupedColumn&&r.groupSettings.columns.length&&t&&!i}function FPe(r,e,t,i){const n=r.dataToBeUpdated[t].concat(e[t]).reduce((s,o)=>(s[o[i]]=void 0===s[o[i]]?o:Object.assign(s[o[i]],o),s),{});r.dataToBeUpdated[t]=Object.keys(n).map(s=>n[s])}function ree(r,e,t){return"movable"===e.getFreezeTableName()?[].slice.call(r.getMovableDataRows()[t].getElementsByClassName(Di)):e.getFreezeTableName()===Bn?[].slice.call(r.getFrozenRightDataRows()[t].getElementsByClassName(Di)):[].slice.call(r.getDataRows()[t].getElementsByClassName(Di))}function ZB(r,e,t,i){const n=r.getFrozenLeftCount(),s=r.getMovableColumnsCount();return i="movable"===e.getFreezeTableName()?i-n:e.getFreezeTableName()===Bn?i-(n+s):i,ree(r,e,t)[i]}function BPe(r,e,t){let i;const n=new Nn;if("number"===e)try{i=n.getNumberPattern({format:r,currency:this.currency,useGrouping:!0},!0)}catch(s){i=r}else if("date"===e||"time"===e||"datetime"===e)try{if(i=n.getDatePattern({skeleton:r,type:e},t),h(i))throw"error"}catch(s){try{i=n.getDatePattern({format:r,type:e},t)}catch(o){i=r}}else i=r;if("number"!==e){const o={G:"",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};i=i.replace(/G|H|c|'| a|yy|y|EEEE|E/g,l=>o[l])}return i}function eN(r,e){let t;const i=r.split(".").length,n=r.split(".");let s=e;for(let o=0;o<i;o++)t=s[n[o]],s=t;return t}function Co(r,e,t,i){for(const n of e)t?r.on(n.event,n.handler,i):r.off(n.event,n.handler)}function dee(r,e){let t;r.columnModel||r.getColumns();for(const i of r.columnModel)if(i.field===e){t=i;break}return t}function B_(r,e){r.destroyTemplate(e),r.isReact&&r.renderTemplates()}class ta{constructor(e){this.existingPredicate={},this.foreignKeyQuery=new Ze,this.filterState=!0,this.values={},this.renderEmpty=!1,this.isCheckboxFilterTemplate=!1,this.parent=e,this.id=this.parent.element.id,this.valueFormatter=new W0(this.parent.locale),this.cBoxTrue=tl(this.parent.createElement,!1,{checked:!0,label:" "}),this.cBoxFalse=tl(this.parent.createElement,!1,{checked:!1,label:" "}),this.cBoxTrue.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxTrue.firstChild),this.cBoxFalse.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxFalse.firstChild),this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"),this.parent.enableRtl&&_([this.cBoxTrue,this.cBoxFalse],["e-rtl"])}destroy(){this.closeDialog()}wireEvents(){C.add(this.dlg,"click",this.clickHandler,this),C.add(this.dlg,"keyup",this.keyupHandler,this),this.searchHandler=Xp(this.searchBoxKeyUp,200);const e=this.dialogObj.element.querySelector(".e-searchinput");e&&C.add(e,"keyup",this.searchHandler,this)}unWireEvents(){C.remove(this.dlg,"click",this.clickHandler),C.remove(this.dlg,"keyup",this.keyupHandler);const e=this.dialogObj.element.querySelector(".e-searchinput");e&&C.remove(e,"keyup",this.searchHandler)}foreignKeyFilter(e,t,i){const n={},s=[],o=this.foreignKeyQuery.clone();this.options.column.dataSource.executeQuery(o.where(i)).then(l=>{this.options.column.columnData=l.result,this.parent.notify(oC,{predicate:n,column:this.options.column}),e.ejpredicate=n.predicate.predicates;const a=n.predicate.predicates;for(let c=0;c<a.length;c++)s.push({field:a[c].field,predicate:"or",matchCase:a[c].ignoreCase,ignoreAccent:a[c].ignoreAccent,operator:a[c].operator,value:a[c].value,type:this.options.type});e.filterCollection=s.length?s:t.filter(c=>c.field=this.options.field),this.options.handler(e)})}foreignFilter(e,t){const n=new qt(this.options.column.foreignKeyValue,this.options.isRemote?"string"===this.options.column.type?"contains":"equal":this.options.column.type?"contains":"equal",t,!0,this.options.ignoreAccent);this.foreignKeyFilter(e,[e.filterCollection],n)}searchBoxClick(e){e.target.classList.contains("e-searchclear")&&(this.sInput.value="",this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon(),this.sInput.focus())}searchBoxKeyUp(e){this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon()}updateSearchIcon(){this.sInput.value.length?ze(this.sIcon,["e-chkcancel-icon"],["e-search-icon"]):ze(this.sIcon,["e-search-icon"],["e-chkcancel-icon"])}getLocalizedLabel(e){return this.localeObj.getConstant(e)}updateDataSource(){const e=this.options.dataSource;if(!(e instanceof ie))for(let i=0;i<e.length;i++)if("object"!=typeof e){const n={};n[this.options.field]=e[i],e[i]=n}}updateModel(e){this.options=e,this.existingPredicate=e.actualPredicate||{},this.options.dataSource=e.dataSource,this.options.dataManager=e.dataManager?e.dataManager:e.dataSource,this.updateDataSource(),this.options.type=e.type,this.options.format=e.format||"",this.options.ignoreAccent=e.ignoreAccent||!1,this.options.filteredColumns=e.filteredColumns||this.parent.filterSettings.columns,this.options.query=e.query||new Ze,this.options.allowCaseSensitive=e.allowCaseSensitive||!1,this.options.uid=e.column.uid,this.values={},this.localeObj=e.localeObj,this.isFiltered=e.filteredColumns.length}getAndSetChkElem(e){if(this.dlg=this.parent.createElement("div",{id:this.id+this.options.type+"_excelDlg",attrs:{uid:this.options.column.uid},className:"e-checkboxfilter e-filter-popup"}),this.sBox=this.parent.createElement("div",{className:"e-searchcontainer"}),!e.hideSearchbox){this.sInput=this.parent.createElement("input",{id:this.id+"_SearchBox",className:"e-searchinput"}),this.sIcon=this.parent.createElement("span",{className:"e-searchclear e-search-icon e-icons e-input-group-icon",attrs:{type:"text",title:this.getLocalizedLabel("Search")}}),this.searchBox=this.parent.createElement("span",{className:"e-searchbox e-fields"}),this.searchBox.appendChild(this.sInput),this.sBox.appendChild(this.searchBox);const t={element:this.sInput,floatLabelType:"Never",properties:{placeholder:this.getLocalizedLabel("Search")}};ke.createInput(t,this.parent.createElement),this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)}return this.spinner=this.parent.createElement("div",{className:"e-spinner"}),this.cBox=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxList",className:"e-checkboxlist e-fields"}),this.spinner.appendChild(this.cBox),this.sBox.appendChild(this.spinner),this.sBox}showDialog(e){const t={requestType:"filterbeforeopen",columnName:this.options.field,columnType:this.options.type,cancel:!1};t.filterModel=this,this.parent.notify("cbox-filter-begin",t),t.cancel?e.cancel=t.cancel:(this.dialogObj=new qi({visible:!1,content:this.sBox,close:this.closeDialog.bind(this),enableRtl:this.parent.enableRtl,width:!h(Se(e.target,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:255,target:this.parent.element,animationSettings:{effect:"None"},buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton"),cssClass:this.parent.cssClass?"e-primary "+this.parent.cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:this.parent.cssClass?"e-flat "+this.parent.cssClass:"e-flat",content:this.getLocalizedLabel(this.isExcel?"CancelButton":"ClearButton")}}],created:this.dialogCreated.bind(this),open:this.dialogOpen.bind(this),cssClass:this.parent.cssClass?this.parent.cssClass:""}),this.dialogObj.isStringTemplate=!0,this.renderResponsiveFilter(e),this.dlg.setAttribute("aria-label",this.getLocalizedLabel("ExcelFilterDialogARIA")),e.isResponsiveFilter?document.querySelector(".e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv").appendChild(this.dlg):this.parent.element.appendChild(this.dlg),this.dialogObj.appendTo(this.dlg),this.dialogObj.element.style.maxHeight=e.isResponsiveFilter?"none":this.options.height+"px",this.dialogObj.show(),this.dialogObj.element.querySelector(".e-dlg-content").appendChild(this.sBox),this.wireEvents(),bc({target:this.spinner},this.parent.createElement),Go(this.spinner),this.getAllData())}renderResponsiveFilter(e){e.isResponsiveFilter&&(this.dialogObj.buttons=[{}],this.dialogObj.position={X:"",Y:""},this.dialogObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv"),this.dialogObj.width="100%")}dialogCreated(e){this.options.isResponsiveFilter?this.dialogObj.element.style.left="0px":A.isDevice?this.dialogObj.position={X:"center",Y:"center"}:function tee(r,e){const t=e.element.style.display;e.element.style.display="block";const i=e.width,n=Ym(r,e.element);e.element.style.display=t,e.element.style.top=n.top+r.getBoundingClientRect().height-5+"px";const s=n.left-i+r.clientWidth;e.element.style.left=s<1?i+s-16+"px":s+-4+"px"}(this.options.target,this.dialogObj),this.options.column.showColumnMenu&&this.parent.notify("filterDialogCreated",e)}openDialog(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e)}closeDialog(){if(this.dialogObj&&!this.dialogObj.isDestroyed){this.isBlanks=!1;const e=this.options.columns.filter(i=>i.getFilterItemTemplate()),t=this.parent.registeredTemplate;e.length&&!h(t)&&t.filterItemTemplate&&this.parent.destroyTemplate(["filterItemTemplate"]),(this.parent.isReact||this.parent.isVue)&&void 0!==this.parent.destroyTemplate&&B_(this.parent,["filterItemTemplate"]),this.parent.notify("filter-menu-close",{field:this.options.field}),this.dialogObj.destroy(),this.unWireEvents(),X(this.dlg),this.dlg=null,this.parent.notify(eR,{})}}clearFilter(e){const t={instance:this,handler:this.clearFilter,cancel:!1};this.parent.notify(y_,t),!t.cancel&&this.options.handler({action:"clear-filter",field:e?e.field:this.options.field})}btnClick(e){if(this.filterState){if("input"===e.target.tagName.toLowerCase()&&e.target.classList.contains("e-searchinput")||13===e.keyCode)this.isCheckboxFilterTemplate||this.fltrBtnHandler();else{const t=e.target.firstChild.textContent.toLowerCase();this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton").toLowerCase()===t?this.isCheckboxFilterTemplate||this.fltrBtnHandler():this.getLocalizedLabel("ClearButton").toLowerCase()===t&&this.clearFilter()}this.closeDialog()}else"input"!==e.target.tagName.toLowerCase()&&(this.clearFilter(),this.closeDialog());this.options.column.showColumnMenu&&this.parent.notify("after-filter-column-menu-close",{})}fltrBtnHandler(){let e=[].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall)"));const t=e;let i="equal";const n=this.dialogObj.element.querySelector(".e-dropdownlist");let s;n&&(this.options.operator=i=n.ej2_instances[0].value),this.isMenuNotEqual="notequal"===this.options.operator,this.options.hideSearchbox||(s=this.searchBox.querySelector(".e-searchinput"));const l={field:this.options.field,predicate:this.isMenuNotEqual?"and":"or",uid:this.options.uid,operator:i,type:this.options.type,matchCase:this.options.allowCaseSensitive,ignoreAccent:this.options.ignoreAccent},a=this.itemsCnt!==e.length&&this.itemsCnt-e.length<e.length;a&&s&&""===s.value&&(i=this.isMenuNotEqual?"equal":"notequal",e=[].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")),l.predicate=this.isMenuNotEqual?"or":"and",l.operator=i);let c,d,u,p,g=[];if(e.length!==this.itemsCnt||s&&s.value&&""!==s.value){for(let f=0;f<e.length;f++){c=this.values[Se(e[f],"e-ftrchk").getAttribute("uid")],p=O({},{value:c},l),c&&!c.toString().length&&(p.operator=a?"notequal":"equal"),""===c||h(c)?g=g.concat(ta.generateNullValuePredicates(l)):g.push(p);const m={instance:this,handler:this.fltrBtnHandler,arg1:p.field,arg2:p.predicate,arg3:p.operator,arg4:p.matchCase,arg5:p.ignoreAccent,arg6:p.value,cancel:!1};if(this.parent.notify(y_,m),m.cancel)return}("date"===this.options.type||"datetime"===this.options.type)&&(u=t.length-1,d=this.values[Se(t[u],"e-ftrchk").getAttribute("uid")],h(d)&&a&&g.push({field:l.field,matchCase:l.matchCase,operator:"equal",predicate:"and",value:null})),this.initiateFilter(g)}else this.options.filteredColumns.some(m=>this.options.field===m.field)&&this.clearFilter()}static generateNullValuePredicates(e){const t=[];return"string"===e.type&&t.push({field:e.field,ignoreAccent:e.ignoreAccent,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:""}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:null}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:void 0}),t}initiateFilter(e){const t=e[0];let i;if(!h(t)){i=t.ejpredicate?t.ejpredicate:new qt(t.field,t.operator,t.value,!t.matchCase,t.ignoreAccent);for(let s=1;s<e.length;s++)i=void 0!==e[s].ejpredicate?i[e[s].predicate](e[s].ejpredicate):i[e[s].predicate](e[s].field,e[s].operator,e[s].value,!e[s].matchCase,e[s].ignoreAccent);const n={action:"filtering",filterCollection:e,field:this.options.field,ejpredicate:qt.or(i)};this.options.handler(n)}}isForeignColumn(e){return!!e.isForeignColumn&&e.isForeignColumn()}refreshCheckboxes(){const e=this.sInput.value,t=this.options.column,i=this.isForeignColumn(t)?this.foreignKeyQuery.clone():this.options.query.clone(),n=this.options.query.clone(),s=i.queries.filter(v=>v&&"onWhere"===v.fn)[0];i.queries=[],n.queries=[];let o="string"!==this.options.type&&parseFloat(e)?parseFloat(e):e,l=this.options.isRemote?"string"===this.options.type?"contains":"equal":this.options.type?"contains":"equal";const a=!0,c=this.options.ignoreAccent,d=this.isForeignColumn(t)?t.foreignKeyValue:t.field;o=""===o||void 0===o?void 0:o;let u=[];const p={field:d,predicate:"or",uid:this.options.uid,operator:"equal",type:this.options.type,matchCase:a,ignoreAccent:c};let g;const f=this.options.dataManager.adaptor.getModuleName;if("boolean"===this.options.type&&(void 0!==o&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(o.toLowerCase())?o="true":void 0!==o&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(o.toLowerCase())&&(o="false"),void 0!==o&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(o.toLowerCase())&&f?(f(),o=!0):void 0!==o&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(o.toLowerCase())&&f&&(f(),o=!1),l="equal"),("date"===this.options.type||"datetime"===this.options.type)&&this.options.format){const v=new Nn,x="string"==typeof this.options.format?this.options.format:this.options.format.format;o=x&&v.parseDate(e,{format:x})||new Date(e)}this.addDistinct(i),this.parent.trigger(On,{requestType:"filtersearchbegin",filterModel:this,columnName:d,column:t,operator:l,matchCase:a,ignoreAccent:c,filterChoiceCount:null,query:i,value:o},v=>{if(v.operator=v.operator,g=new qt(d,v.operator,o,v.matchCase,v.ignoreAccent),"date"===this.options.type||"datetime"===this.options.type){l="equal";const w={field:d,operator:l,value:o,matchCase:a,ignoreAccent:c};h(o)||(g=lm(w,this.options.type))}if(e&&"string"==typeof e&&this.isBlanks&&this.getLocalizedLabel("Blanks").toLowerCase().indexOf(e.toLowerCase())>=0){u=u.concat(ta.generateNullValuePredicates(p));const w=ta.generatePredicate(u);w.predicates.push(g),i.where(w)}else e.length?(g=h(s)?g:g.and(s.e),i.where(g)):h(s)||i.where(s.e);v.filterChoiceCount=h(v.filterChoiceCount)?1e3:v.filterChoiceCount;const x={};Go(this.spinner),this.renderEmpty=!1,this.isForeignColumn(t)&&e.length?("result"in t.dataSource?new ie(t.dataSource.result):t.dataSource).executeQuery(i).then(b=>{const I=this.options.column.columnData;this.options.column.columnData=b.result,this.parent.notify(oC,{predicate:x,column:t}),x.predicate.predicates.length?n.where(x.predicate):this.renderEmpty=!0,this.options.column.columnData=I,n.take(v.filterChoiceCount),this.search(v,n)}):(i.take(v.filterChoiceCount),this.search(v,i))})}search(e,t){this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(e,t):this.processSearch(t)}getPredicateFromCols(e){const t=ta.getPredicate(e),i=[],n={},s=void 0!==this.parent.getForeignKeyColumns,o=s?this.parent.getForeignKeyColumns():[];for(const l of Object.keys(t)){let a;s&&!this.parent.getColumnByField(l)&&(a=F_(l,o)),a?(this.parent.notify(oC,{predicate:n,column:a}),n.predicate.predicates.length&&i.push(qt.or(n.predicate.predicates))):i.push(t[l])}return i.length&&qt.and(i)}getQuery(){return this.parent.getQuery?this.parent.getQuery().clone():new Ze}getAllData(){this.customQuery=!1;const e=this.getQuery();e.requiresCount(),this.addDistinct(e);const t={requestType:UJ,query:e,filterChoiceCount:null};t.filterModel=this,this.parent.trigger(On,t,n=>{n.filterChoiceCount=h(n.filterChoiceCount)?1e3:n.filterChoiceCount,e.take(n.filterChoiceCount),n.query.distincts.length||(this.customQuery=!0,this.queryGenerate(e)),this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(n,e):this.processDataOperation(e,!0)})}addDistinct(e){let t=Ie.distinct(this.options.filteredColumns,"field");return t.indexOf(this.options.column.field)<=-1&&(t=t.concat(this.options.column.field)),e.distinct(t),e}filterEvent(e,t){const i=function QB(r,e){const t=function MPe(r){const e=new ca,t=new ie({url:"",adaptor:new ca}),i=e.processQuery(t,r);return JSON.parse(i.data)}(e),i=new Ss;return t.dataSource=i.resolve,t.action=r,{state:t,deffered:i}}(e,t);this.parent.trigger(f_,i.state),i.deffered.promise.then(s=>{this.dataSuccess(s)})}processDataOperation(e,t){this.options.dataSource=this.options.dataSource instanceof ie?this.options.dataSource:new ie(this.options.dataSource);const i=[],n=[];if(this.isForeignColumn(this.options.column)&&t){const o="result"in this.options.column.dataSource?new ie(this.options.column.dataSource.result):this.options.column.dataSource;this.foreignKeyQuery.params=e.params,i.push(o.executeQuery(this.foreignKeyQuery)),n.push(l=>this.foreignKeyData=l)}i.push(this.options.dataSource.executeQuery(e)),n.push(this.dataSuccess.bind(this));let s=0;Promise.all(i).then(o=>{for(let l=0;l<o.length;l++)n[s++](o[l].result)})}dataSuccess(e){this.fullData=e;const t={dataSource:this.fullData,executeQuery:!0,field:this.options.field};if(this.parent.notify("beforeCheckboxRenderer",t),t.executeQuery){const o=new Ze;this.customQuery||this.queryGenerate(o);const l=new ie(t.dataSource).executeLocal(o);this.filteredData=ta.getDistinct(l,this.options.field,this.options.column,this.foreignKeyData).records||[]}this.processDataSource(null,!0,t.executeQuery?this.filteredData:t.dataSource,t),this.sInput&&this.sInput.focus();const n={requestType:"filterafteropen",columnName:this.options.field,columnType:this.options.type};n.filterModel=this,this.parent.notify(lC,n),this.isCheckboxFilterTemplate&&qo(this.spinner)}queryGenerate(e){if(this.parent.searchSettings&&this.parent.searchSettings.key.length){const t=this.parent.searchSettings,i=t.fields.length?t.fields:this.options.columns.map(n=>n.field);e.search(t.key,i,t.operator,t.ignoreCase,t.ignoreAccent)}if(this.options.filteredColumns.length){const t=[];for(let n=0;n<this.options.filteredColumns.length;n++){const s=this.options.filteredColumns[n];this.options.uid?(s.uid=s.uid||this.parent.getColumnByField(s.field).uid,s.uid!==this.options.uid&&t.push(this.options.filteredColumns[n])):s.field!==this.options.field&&t.push(this.options.filteredColumns[n])}const i=this.getPredicateFromCols(t);i&&e.where(i)}}processDataSource(e,t,i,n){Go(this.spinner),this.updateResult();const s={dataSource:this.fullData,isCheckboxFilterTemplate:!1,column:this.options.column,element:this.cBox,type:this.options.type,format:this.options.type,btnObj:this.options.isResponsiveFilter?null:this.dialogObj.btnObj[0],searchBox:this.searchBox};this.parent.notify("beforeCheckboxfilterRenderer",s),this.isCheckboxFilterTemplate=s.isCheckboxFilterTemplate,this.isCheckboxFilterTemplate||this.createFilterItems(i,t,n)}processSearch(e){this.processDataOperation(e)}updateResult(){this.result={};const e=this.getPredicateFromCols(this.options.filteredColumns),t=new Ze;e&&t.where(e),this.parent.notify("before-checkbox-renderer-query",{query:t});const i=new ie(this.fullData).executeLocal(t);for(const n of i)this.result[fr(this.options.field,n)]=!0}clickHandler(e){const t=e.target,i=Se(t,"e-checkbox-wrapper");if(Se(t,"e-searchbox")&&this.searchBoxClick(e),i&&!this.isCheckboxFilterTemplate){const n=i.querySelector(".e-selectall");n?this.updateAllCBoxes(!n.classList.contains("e-check")):function nee(r){const e=r.querySelector(".e-frame"),t=e.previousSibling;e.classList.contains("e-check")?(t.checked=!1,ze(e,["e-uncheck"],["e-check"])):(t.checked=!0,ze(e,["e-check"],["e-uncheck"]))}(i.parentElement),this.updateIndeterminatenBtn(),i.querySelector(".e-chk-hidden").focus()}this.setFocus(Se(i,"e-ftrchk"))}keyupHandler(e){this.setFocus(Se(e.target,"e-ftrchk"))}setFocus(e){const t=this.dlg.querySelector(".e-chkfocus");t&&t.classList.remove("e-chkfocus"),e&&e.classList.add("e-chkfocus")}updateAllCBoxes(e){const t=[].slice.call(this.cBox.getElementsByClassName("e-frame"));for(const i of t)M_(i,e),sv(i.previousSibling,e)}dialogOpen(){this.parent.element.classList.contains("e-device")&&(this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"),this.options.isResponsiveFilter||this.dialogObj.element.querySelector(".e-btn").focus())}createCheckbox(e,t,i){const n=t?this.cBoxTrue.cloneNode(!0):this.cBoxFalse.cloneNode(!0);sv(n.querySelector("input"),t);const s=n.querySelector(".e-label"),o=CR({},i,{column:this.options.column,parent:this.parent});return s.innerHTML=!h(e)&&e.toString().length?e:this.getLocalizedLabel("Blanks"),s.innerHTML===this.getLocalizedLabel("Blanks")&&(this.isBlanks=!0),"boolean"==typeof e&&(s.innerHTML=this.getLocalizedLabel(!0===e?"FilterTrue":"FilterFalse")),_([s],["e-checkboxfiltertext"]),this.options.template&&i[this.options.column.field]!==this.getLocalizedLabel("SelectAll")&&(s.innerHTML="",this.parent.isReact&&this.options.column.filter&&"string"!=typeof this.options.column.filter.itemTemplate?(this.options.template(o,this.parent,"filterItemTemplate",null,null,null,s),this.parent.renderTemplates()):Po(s,this.options.template(o,this.parent,"filterItemTemplate"))),n}updateIndeterminatenBtn(){const e=this.cBox.children.length-1;let t=[],i=!1;const n=this.cBox.querySelector(".e-selectall"),s=this.cBox.querySelectorAll(".e-check:not(.e-selectall)").length;let o;this.options.isResponsiveFilter||(o=this.dialogObj.btnObj[0],o.disabled=!1);const l=n.previousSibling;sv(l,!1),l.indeterminate=!1,e===s?(t=["e-check"],sv(l,!0)):s?(t=["e-stop"],l.indeterminate=!0):(t=["e-uncheck"],i=!0,o&&(o.disabled=!0)),o&&(this.filterState=!o.disabled,o.dataBind()),T([n],["e-check","e-stop","e-uncheck"]),_([n],t),this.parent.notify(SB,{disabled:i})}createFilterItems(e,t,i){const n=this.parent.createElement("div");let s,o=!1;this.options.isResponsiveFilter||(s=this.dialogObj.btnObj[0]);let l=-1,a="ejValue";i.executeQuery||(a=i.field);for(let u=0;u<e.length;u++){const p=M(a,e[u]);(""===p||h(p))&&(l+=1)}if(this.itemsCnt=-1!==l?e.length-l:e.length,e.length&&!this.renderEmpty){const u=this.getLocalizedLabel("SelectAll"),p=this.cBox.querySelector(".e-checkfltrnmdiv");p&&p.classList.remove("e-checkfltrnmdiv");const g=this.createCheckbox(u,!1,{[this.options.field]:u}),f=KB(Hh("cbox"),g,"e-ftrchk");f.querySelector(".e-frame").classList.add("e-selectall"),n.appendChild(f);let m=new qt("field","equal",this.options.field);this.options.foreignKeyValue&&(m=m.or("field","equal",this.options.foreignKeyValue));const v=new ie(this.options.filteredColumns).executeLocal((new Ze).where(m)).length;let x;for(let w=0;w<e.length;w++){const b=Hh("cbox");this.values[b]=M(a,e[w]);let I=M(this.options.field,e[w]);this.options.formatFn&&(I=this.valueFormatter.toView(I,this.options.formatFn));const k={value:I,column:this.options.column,data:e[w]};if(this.parent.notify("filter-cbox-value",k),I=k.value,""===I||h(I)){if(x)continue;x=!0}const P=this.createCheckbox(I,this.getCheckedState(v,this.values[b]),M("dataObj",e[w]));n.appendChild(KB(b,P,"e-ftrchk"))}this.cBox.innerHTML="",Po(this.cBox,[].slice.call(n.children)),this.updateIndeterminatenBtn(),s&&(s.disabled=!1),o=!1}else n.appendChild(this.parent.createElement("span",{innerHTML:this.getLocalizedLabel("NoResult")})),this.cBox.innerHTML="",this.cBox.appendChild(this.parent.createElement("div",{className:"e-checkfltrnmdiv"})),Po(this.cBox.children[0],[].slice.call(n.children)),s&&(s.disabled=!0),o=!0;s&&(this.filterState=!s.disabled,s.dataBind());const c={requestType:UJ,dataSource:this.renderEmpty?[]:e};c.filterModel=this,this.parent.notify(lC,c),this.parent.notify(SB,{disabled:o}),qo(this.spinner)}getCheckedState(e,t){if(!this.isFiltered||!e)return!0;{const i=this.result[t];return"notequal"===this.options.operator?!i:i}}static getDistinct(e,t,i,n){let s=e.length;const o=[];let l;const c={},d=!(!i||!i.isForeignColumn)&&i.isForeignColumn();for(;s--;)if(l=e[s],l=fr(t,l),!(l in c)){const u={};if(u.ejValue=l,c[l]=!0,d){const p=om(i,{},l,n)[0];Ne(dZ,p,e[s]),l=M(i.foreignKeyValue,p)}Ne(t,h(l)?null:l,u),Ne("dataObj",e[s],u),o.push(u)}return Ie.group(Ie.sort(o,t,Ie.fnAscending),"ejValue")}static getPredicate(e){const t=Ie.distinct(e,"field",!0)||[];let i=[];const n={};for(let s=0;s<t.length;s++)i=new ie(e).executeLocal((new Ze).where("field","equal",t[s].field)),0!==i.length&&(n[t[s].field]=ta.generatePredicate(i));return n}static generatePredicate(e){const t=e?e.length:0;let i;const s=ta.updateDateFilter(e[0]);s.ignoreAccent=!h(s.ignoreAccent)&&s.ignoreAccent,i="date"===s.type||"datetime"===s.type?lm(s,s.type):s.ejpredicate?s.ejpredicate:new qt(s.field,s.operator,s.value,!ta.getCaseValue(s),s.ignoreAccent);for(let o=1;o<t;o++)e[o]=ta.updateDateFilter(e[o]),t>2&&o>1&&"or"===e[o].predicate?i.predicates.push("date"===e[o].type||"datetime"===e[o].type?lm(e[o],e[o].type):new qt(e[o].field,e[o].operator,e[o].value,!ta.getCaseValue(e[o]),e[o].ignoreAccent)):i="date"===e[o].type||"datetime"===e[o].type?"and"===e[o].predicate&&"equal"===e[o].operator?i.or(lm(e[o],e[o].type),e[o].type,e[o].ignoreAccent):i[e[o].predicate](lm(e[o],e[o].type),e[o].type,e[o].ignoreAccent):e[o].ejpredicate?i[e[o].predicate](e[o].ejpredicate):i[e[o].predicate](e[o].field,e[o].operator,e[o].value,!ta.getCaseValue(e[o]),e[o].ignoreAccent);return i||null}static getCaseValue(e){return h(e.matchCase)?!("string"===e.type||h(e.type)&&"string"==typeof e.value):e.matchCase}static updateDateFilter(e){return("date"===e.type||"datetime"===e.type||e.value instanceof Date)&&(e.type=e.type||"date"),e}}class HPe{constructor(e){this.pagerModule=e}render(){this.pagerElement=this.pagerModule.element,this.renderNumericContainer(),this.refreshNumericLinks(),this.wireEvents()}refresh(){this.pagerModule.updateTotalPages(),this.links.length&&this.updateLinksHtml(),this.refreshAriaAttrLabel(),this.updateStyles()}refreshNumericLinks(){let e;const t=this.pagerModule,i=t.element.querySelector(".e-numericcontainer"),n=document.createDocumentFragment();i.innerHTML="";for(let s=1;s<=t.pageCount;s++)e=Xe("a",{className:"e-link e-numericitem e-spacing e-pager-default",attrs:{role:"link",tabindex:"-1","aria-label":"Page "+s+" of "+t.totalPages+" Pages",href:"javascript:void(0);",name:"Goto page"+s}}),t.currentPage===s&&(ze(e,["e-currentitem","e-active"],["e-pager-default"]),e.setAttribute("aria-selected","true")),n.appendChild(e);i.appendChild(n),this.links=[].slice.call(i.childNodes)}wireEvents(){C.add(this.pagerElement,"click",this.clickHandler,this)}unwireEvents(){C.remove(this.pagerModule.element,"click",this.clickHandler)}destroy(){this.unwireEvents()}refreshAriaAttrLabel(){const e=this.pagerModule,i=e.element.querySelector(".e-numericcontainer").querySelectorAll("a");for(let n=0;n<i.length;n++)i[n].hasAttribute("aria-label")&&i[n].hasAttribute("index")&&i[n].setAttribute("aria-label","Page "+i[n].getAttribute("index")+" of "+e.totalPages+" Pages")}renderNumericContainer(){this.element=Xe("div",{className:"e-pagercontainer",attrs:{role:"navigation"}}),this.renderFirstNPrev(this.element),this.renderPrevPagerSet(this.element),this.element.appendChild(Xe("div",{className:"e-numericcontainer"})),this.renderNextPagerSet(this.element),this.renderNextNLast(this.element),this.pagerModule.element.appendChild(this.element)}renderFirstNPrev(e){this.first=Xe("div",{className:"e-first e-icons e-icon-first",attrs:{title:this.pagerModule.getLocalizedLabel("firstPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("firstPageTooltip"),tabindex:"-1"}}),this.prev=Xe("div",{className:"e-prev e-icons e-icon-prev",attrs:{title:this.pagerModule.getLocalizedLabel("previousPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("previousPageTooltip"),tabindex:"-1"}}),Jt([this.first,this.prev],e)}renderPrevPagerSet(e){const t=Xe("div");this.PP=Xe("a",{className:"e-link e-pp e-spacing",innerHTML:"...",attrs:{title:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),role:"link","aria-label":this.pagerModule.getLocalizedLabel("previousPagerTooltip"),tabindex:"-1",name:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),href:"javascript:void(0);"}}),t.appendChild(this.PP),e.appendChild(t)}renderNextPagerSet(e){const t=Xe("div");this.NP=Xe("a",{className:"e-link e-np e-spacing",innerHTML:"...",attrs:{title:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),role:"link","aria-label":this.pagerModule.getLocalizedLabel("nextPagerTooltip"),tabindex:"-1",name:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),href:"javascript:void(0);"}}),t.appendChild(this.NP),e.appendChild(t)}renderNextNLast(e){this.next=Xe("div",{className:"e-next e-icons e-icon-next",attrs:{title:this.pagerModule.getLocalizedLabel("nextPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("nextPageTooltip"),tabindex:"-1"}}),this.last=Xe("div",{className:"e-last e-icons e-icon-last",attrs:{title:this.pagerModule.getLocalizedLabel("lastPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("lastPageTooltip"),tabindex:"-1"}}),Jt([this.next,this.last],e)}clickHandler(e){const t=this.pagerModule,i=e.target;return t.previousPageNo=t.currentPage,!i.classList.contains("e-disable")&&!h(i.getAttribute("index"))&&(t.currentPage=parseInt(i.getAttribute("index"),10),t.dataBind()),!1}updateLinksHtml(){const e=this.pagerModule;let t,i;e.currentPage=1===e.totalPages?1:e.currentPage,e.currentPage>e.totalPages&&e.totalPages&&(e.currentPage=e.totalPages),t=parseInt((e.currentPage/e.pageCount).toString(),10),e.currentPage%e.pageCount==0&&t>0&&(t-=1);for(let n=0;n<e.pageCount;n++)i=t*e.pageCount+1+n,i<=e.totalPages?(this.links[n].style.display="",this.links[n].setAttribute("index",i.toString()),this.links[n].innerHTML=e.customText?e.customText+i:i.toString(),e.currentPage!==i?this.links[n].classList.add("e-pager-default"):this.links[n].classList.remove("e-pager-default")):(this.links[n].innerHTML=e.customText?e.customText+i:i.toString(),this.links[n].style.display="none"),ze(this.links[n],[],["e-currentitem","e-active"]),this.links[n].removeAttribute("aria-selected");this.first.setAttribute("index","1"),this.last.setAttribute("index",e.totalPages.toString()),this.prev.setAttribute("index",(e.currentPage-1).toString()),this.next.setAttribute("index",(e.currentPage+1).toString()),this.pagerElement.querySelector(".e-mfirst").setAttribute("index","1"),this.pagerElement.querySelector(".e-mlast").setAttribute("index",e.totalPages.toString()),this.pagerElement.querySelector(".e-mprev").setAttribute("index",(e.currentPage-1).toString()),this.pagerElement.querySelector(".e-mnext").setAttribute("index",(e.currentPage+1).toString()),this.PP.setAttribute("index",(parseInt(this.links[0].getAttribute("index"),10)-e.pageCount).toString()),this.NP.setAttribute("index",(parseInt(this.links[this.links.length-1].getAttribute("index"),10)+1).toString())}updateStyles(){this.updateFirstNPrevStyles(),this.updatePrevPagerSetStyles(),this.updateNextPagerSetStyles(),this.updateNextNLastStyles(),this.links.length&&(ze(this.links[(this.pagerModule.currentPage-1)%this.pagerModule.pageCount],["e-currentitem","e-active"],[]),this.links[(this.pagerModule.currentPage-1)%this.pagerModule.pageCount].setAttribute("aria-selected","true"))}updateFirstNPrevStyles(){const e=["e-firstpage","e-pager-default"],t=["e-firstpagedisabled","e-disable"],i=["e-prevpage","e-pager-default"],n=["e-prevpagedisabled","e-disable"];this.pagerModule.totalPages>0&&this.pagerModule.currentPage>1?(ze(this.prev,i,n),ze(this.first,e,t),ze(this.pagerElement.querySelector(".e-mfirst"),e,t),ze(this.pagerElement.querySelector(".e-mprev"),i,n)):(ze(this.prev,n,i),ze(this.first,t,e),ze(this.pagerElement.querySelector(".e-mprev"),n,i),ze(this.pagerElement.querySelector(".e-mfirst"),t,e))}updatePrevPagerSetStyles(){this.pagerModule.currentPage>this.pagerModule.pageCount?ze(this.PP,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"]):ze(this.PP,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"])}updateNextPagerSetStyles(){const e=this.pagerModule,t=this.links[0].innerHTML.replace(e.customText,"");!t.length||!this.links.length||parseInt(t,10)+e.pageCount>e.totalPages?ze(this.NP,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"]):ze(this.NP,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"])}updateNextNLastStyles(){const e=["e-lastpage","e-pager-default"],t=["e-lastpagedisabled","e-disable"],i=["e-nextpage","e-pager-default"],n=["e-nextpagedisabled","e-disable"],s=this.pagerModule;s.currentPage===s.totalPages||0===s.totalRecordsCount?(ze(this.last,t,e),ze(this.next,n,i),ze(this.pagerElement.querySelector(".e-mlast"),t,e),ze(this.pagerElement.querySelector(".e-mnext"),n,i)):(ze(this.last,e,t),ze(this.next,i,n),ze(this.pagerElement.querySelector(".e-mlast"),e,t),ze(this.pagerElement.querySelector(".e-mnext"),i,n))}}class zPe{constructor(e){this.pagerModule=e}render(){const e=Xe("div",{className:"e-parentmsgbar",attrs:{"aria-label":"Pager Information"}});this.pageNoMsgElem=Xe("span",{className:"e-pagenomsg",styles:"textalign:right"}),this.pageCountMsgElem=Xe("span",{className:"e-pagecountmsg",styles:"textalign:right"}),Jt([this.pageNoMsgElem,this.pageCountMsgElem],e),this.pagerModule.element.appendChild(e),this.refresh()}refresh(){const e=this.pagerModule;this.pageNoMsgElem.textContent=this.format(e.getLocalizedLabel("currentPageInfo"),[0===e.totalRecordsCount?0:e.currentPage,e.totalPages||0,e.totalRecordsCount||0])+" ",this.pageCountMsgElem.textContent=this.format(e.getLocalizedLabel(e.totalRecordsCount<=1?"totalItemInfo":"totalItemsInfo"),[e.totalRecordsCount||0,e.totalRecordsCount?e.pageSize*(e.currentPage-1)+1:0,e.pageSize*e.currentPage>e.totalRecordsCount?e.totalRecordsCount:e.pageSize*e.currentPage]),this.pageNoMsgElem.parentElement.setAttribute("aria-label",this.pageNoMsgElem.textContent+this.pageCountMsgElem.textContent)}hideMessage(){this.pageNoMsgElem&&(this.pageNoMsgElem.style.display="none"),this.pageCountMsgElem&&(this.pageCountMsgElem.style.display="none")}showMessage(){this.pageNoMsgElem||this.render(),this.pageNoMsgElem.style.display="",this.pageCountMsgElem.style.display=""}destroy(){}format(e,t){let i;for(let n=0;n<t.length;n++)i=new RegExp("\\{"+n+"\\}","gm"),e=e.replace(i,t[n].toString());return e}}var oc=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Fl=class extends an{constructor(e,t,i){super(e,t),this.hasParent=!1,this.pageRefresh="pager-refresh",this.firstPagerFocus=!1,this.parent=i}requiredModules(){const e=[];return this.enableExternalMessage&&e.push({member:"externalMessage",args:[this]}),this.checkpagesizes()&&e.push({member:"pagerdropdown",args:[this]}),e}preRender(){this.defaultConstants={currentPageInfo:"{0} of {1} pages",totalItemsInfo:"({0} items)",totalItemInfo:"({0} item)",firstPageTooltip:"Go to first page",lastPageTooltip:"Go to last page",nextPageTooltip:"Go to next page",previousPageTooltip:"Go to previous page",nextPagerTooltip:"Go to next pager items",previousPagerTooltip:"Go to previous pager items",pagerDropDown:"Items per page",pagerAllDropDown:"Items",CurrentPageInfo:"{0} of {1} pages",TotalItemsInfo:"({0} items)",FirstPageTooltip:"Go to first page",LastPageTooltip:"Go to last page",NextPageTooltip:"Go to next page",PreviousPageTooltip:"Go to previous page",NextPagerTooltip:"Go to next pager items",PreviousPagerTooltip:"Go to previous pager items",PagerDropDown:"Items per page",PagerAllDropDown:"Items",All:"All"},this.containerModule=new HPe(this),this.pagerMessageModule=new zPe(this)}render(){this.element.setAttribute("data-role","pager"),this.element.setAttribute("aria-label","Pager Container"),this.element.setAttribute("tabindex","-1"),this.hasParent||this.element.setAttribute("tabindex","0"),this.template?this.isReactTemplate()?(this.on(this.pageRefresh,this.pagerTemplate,this),this.notify(this.pageRefresh,{})):this.pagerTemplate():(this.initLocalization(),this.updateRTL(),this.totalRecordsCount=this.totalRecordsCount||0,this.renderFirstPrevDivForDevice(),this.containerModule.render(),this.enablePagerMessage&&this.pagerMessageModule.render(),this.renderNextLastDivForDevice(),this.checkpagesizes()&&this.pagerdropdownModule&&this.pagerdropdownModule.render(),this.addAriaLabel(),this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.render(),this.refresh(),this.trigger("created",{currentPage:this.currentPage,totalRecordsCount:this.totalRecordsCount})),this.wireEvents(),this.addListener()}getPersistData(){return this.addOnPersist(["currentPage","pageSize"])}destroy(){this.isDestroyed||(this.isReactTemplate()&&(this.off(this.pageRefresh,this.pagerTemplate),this.hasParent||this.destroyTemplate(["template"])),this.removeListener(),this.unwireEvents(),super.destroy(),this.containerModule.destroy(),this.pagerMessageModule.destroy(),this.isReactTemplate()||(this.element.innerHTML=""))}destroyTemplate(e,t){this.clearTemplate(e,t)}getModuleName(){return"pager"}onPropertyChanged(e,t){if(!this.isDestroyed){e.pageCount!==t.pageCount&&(this.containerModule.refreshNumericLinks(),this.containerModule.refresh());for(const i of Object.keys(e))switch(i){case"currentPage":this.checkGoToPage(e.currentPage,t.currentPage)&&this.currentPageChanged(e,t);break;case"pageSize":case"totalRecordsCount":case"customText":this.checkpagesizes()&&this.pagerdropdownModule&&(t.pageSize!==e.pageSize&&(this.currentPage=1),this.pagerdropdownModule.setDropDownValue("value",this.pageSize)),e.pageSize!==t.pageSize?(this.pageSize=e.pageSize,this.currentPageChanged(e,t)):this.refresh();break;case"pageSizes":this.checkpagesizes()&&this.pagerdropdownModule&&(this.pagerdropdownModule.destroy(),this.pagerdropdownModule.render()),this.refresh();break;case"template":this.templateFn=this.compile(this.template),this.refresh();break;case"locale":this.initLocalization(),this.refresh();break;case"enableExternalMessage":this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.render();break;case"externalMessage":this.externalMessageModule&&this.externalMessageModule.refresh();break;case"enableRtl":this.updateRTL();break;case"enablePagerMessage":this.enablePagerMessage?this.pagerMessageModule.showMessage():this.pagerMessageModule.hideMessage()}}}wireEvents(){this.hasParent||(C.add(this.element,"keydown",this.keyPressHandler,this),C.add(document.body,"keydown",this.keyDownHandler,this)),C.add(this.element,"focusin",this.onFocusIn,this),C.add(this.element,"focusout",this.onFocusOut,this)}unwireEvents(){this.hasParent||(C.remove(this.element,"keydown",this.keyPressHandler),C.remove(document.body,"keydown",this.keyDownHandler)),C.remove(this.element,"focusin",this.onFocusIn),C.remove(this.element,"focusout",this.onFocusOut)}onFocusIn(e){if(h(this.getFocusedTabindexElement())){const i=e.target,n=this.getDropDownPage();if(this.hasParent||(this.element.tabIndex=-1),i===this.element&&!this.hasParent){const s=this.getFocusablePagerElements(this.element,[]);return void this.addFocus(s[0],!0)}if(i===this.element)return void(this.element.tabIndex=0);i!==n&&!i.classList.contains("e-disable")&&this.addFocus(i,!0)}}onFocusOut(e){const t=this.getFocusedElement(),i=this.getDropDownPage();h(t)||this.removeFocus(t,!0),this.pageSizes&&i&&i.classList.contains("e-input-focus")&&this.removeFocus(i,!0),this.setTabIndexForFocusLastElement(),this.hasParent||(this.element.tabIndex=0),this.hasParent&&(this.element.tabIndex=-1)}keyDownHandler(e){if(e.altKey&&74===e.keyCode){const t=this.getFocusablePagerElements(this.element,[]);t.length>0&&t[0].focus()}}keyPressHandler(e){const t=O(e,{cancel:!1});this.notify(hr,t),!0===t.cancel&&e.stopImmediatePropagation()}addListener(){this.isDestroyed||this.hasParent||this.on(hr,this.onKeyPress,this)}removeListener(){this.isDestroyed||this.hasParent||this.off(hr,this.onKeyPress)}onKeyPress(e){this.hasParent||(this.checkPagerHasFocus()?this.changePagerFocus(e):(e.preventDefault(),this.setPagerFocus()))}checkPagerHasFocus(){return!!this.getFocusedTabindexElement()}setPagerContainerFocus(){this.element.focus()}setPagerFocus(){const e=this.getFocusablePagerElements(this.element,[]);e.length>0&&e[0].focus()}setPagerFocusForActiveElement(){const e=this.getActiveElement();e&&e.focus()}setTabIndexForFocusLastElement(){const e=this.getFocusablePagerElements(this.element,[]),t=this.getDropDownPage();this.pageSizes&&t&&!h(t.offsetParent)?t.tabIndex=0:e.length>0&&(e[e.length-1].tabIndex=0)}changePagerFocus(e){e.shiftKey&&9===e.keyCode?this.changeFocusByShiftTab(e):9===e.keyCode?this.changeFocusByTab(e):13===e.keyCode||32===e.keyCode?this.navigateToPageByEnterOrSpace(e):(37===e.keyCode||39===e.keyCode||35===e.keyCode||36===e.keyCode)&&this.navigateToPageByKey(e)}getFocusedTabindexElement(){let e;const t=this.element.querySelectorAll('[tabindex]:not([tabindex="-1"])');for(let i=0;i<t.length;i++){const n=t[i];if(n&&(n.classList.contains("e-focused")||n.classList.contains("e-input-focus"))){e=n;break}}return e}changeFocusByTab(e){const t=this.getFocusedTabindexElement(),i=this.getFocusablePagerElements(this.element,[]),n=this.getDropDownPage();if(i.length>0)if(this.pageSizes&&n&&t===i[i.length-1])n.tabIndex=0;else for(let s=0;s<i.length;s++)if(t===i[s]){const o=s+1;o<i.length&&(e.preventDefault(),i[o].focus());break}}changeFocusByShiftTab(e){const t=this.getFocusedTabindexElement(),i=this.getFocusablePagerElements(this.element,[]),n=this.getDropDownPage();if(this.pageSizes&&n&&n.classList.contains("e-input-focus"))n.tabIndex=-1,this.addFocus(i[i.length-1],!0);else if(i.length>0)for(let s=0;s<i.length;s++)if(t===i[s]){const o=s-1;if(o>=0)e.preventDefault(),i[o].focus();else if(this.hasParent){const l=this.parent.getRows(),c=l[l.length-1].lastChild;e.preventDefault(),c.focus(),this.firstPagerFocus=!0}break}}checkFirstPagerFocus(){return!!this.firstPagerFocus&&(this.firstPagerFocus=!1,!0)}navigateToPageByEnterOrSpace(e){const t=this.getFocusedElement();if(t){this.goToPage(parseInt(t.getAttribute("index"),10));const i=this.getActiveElement(),n=this.getClass(t),s=this.getElementByClass(n);"e-first"!==n&&"e-prev"!==n&&"e-next"!==n&&"e-last"!==n&&"e-pp"!==n&&"e-np"!==n||!s||s.classList.contains("e-disable")?this.checkFocusInAdaptiveMode(t)?this.changeFocusInAdaptiveMode(t):i&&i.focus():s.focus()}}navigateToPageByKey(e){const i=this.element.querySelector(37===e.keyCode?".e-prev":39===e.keyCode?".e-next":35===e.keyCode?".e-last":36===e.keyCode?".e-first":""),n=this.getFocusedElement();if(!h(i)&&i.hasAttribute("index")&&!isNaN(parseInt(i.getAttribute("index"),10))){this.goToPage(parseInt(i.getAttribute("index"),10));const s=this.getActiveElement();this.checkFocusInAdaptiveMode(n)?this.changeFocusInAdaptiveMode(n):s&&s.focus()}}checkFocusInAdaptiveMode(e){const t=this.getClass(e);return"e-mfirst"===t||"e-mprev"===t||"e-mnext"===t||"e-mlast"===t}changeFocusInAdaptiveMode(e){const t=this.getClass(e),i=this.getElementByClass(t);i&&i.classList.contains("e-disable")&&("e-mnext"===t||"e-mlast"===t?this.element.querySelector(".e-mprev").focus():this.setPagerFocus())}removeTabindexLastElements(){const e=this.element.querySelectorAll('[tabindex]:not([tabindex="-1"])');if(e.length>1)for(let t=1;t<e.length;t++){const i=e[t];i&&(i.tabIndex=-1)}}getActiveElement(){return this.element.querySelector(".e-active")}getDropDownPage(){const e=this.element.querySelector(".e-pagerdropdown");let t;return e&&(t=e.children[0]),t}getFocusedElement(){return this.element.querySelector(".e-focused")}getClass(e){let t;const i=["e-mfirst","e-mprev","e-first","e-prev","e-pp","e-np","e-next","e-last","e-mnext","e-mlast"];for(let n=0;n<i.length;n++)if(e&&e.classList.contains(i[n]))return t=i[n],t;return t}getElementByClass(e){return this.element.querySelector("."+e)}getFocusablePagerElements(e,t){const n=e.children;let s=t;for(let o=0;o<n.length;o++){const l=n[o];if(l.children.length>0&&!l.classList.contains("e-pagesizes"))s=this.getFocusablePagerElements(l,s);else{const a=n[o];a.hasAttribute("tabindex")&&!l.classList.contains("e-disable")&&"none"!==l.style.display&&!h(l.offsetParent)&&s.push(a)}}return s}addFocus(e,t){t&&_([e],["e-focused","e-focus"]),e.tabIndex=0}removeFocus(e,t){t&&T([e],["e-focused","e-focus"]),e.tabIndex=-1}getLocalizedLabel(e){return this.localeObj.getConstant(e)}goToPage(e){this.checkGoToPage(e)&&(this.currentPage=e,this.dataBind())}setPageSize(e){this.pageSize=e,this.dataBind()}checkpagesizes(){return!(!0!==this.pageSizes&&!this.pageSizes.length)}checkGoToPage(e,t){return e!==this.currentPage&&(this.previousPageNo=this.currentPage),h(t)||(this.previousPageNo=t),this.previousPageNo!==e&&e>=1&&e<=this.totalPages}currentPageChanged(e,t){if(this.enableQueryString&&this.updateQueryString(this.currentPage),e.currentPage!==t.currentPage||e.pageSize!==t.pageSize){const i={currentPage:this.currentPage,newProp:e,oldProp:t,cancel:!1};this.trigger("click",i),i.cancel||this.refresh()}}pagerTemplate(){if(this.isReactTemplate()&&this.hasParent)return;let e;this.element.classList.add("e-pagertemplate"),this.compile(this.template);const t={currentPage:this.currentPage,pageSize:this.pageSize,pageCount:this.pageCount,totalRecordsCount:this.totalRecordsCount,totalPages:this.totalPages},i=this.element.parentElement.id+"_template";this.isReactTemplate()&&!this.isVue?(this.getPagerTemplate()(t,this,"template",i,null,null,this.element),this.renderReactTemplates()):(e=this.isVue?this.getPagerTemplate()(t,this,"template"):this.getPagerTemplate()(t),Po(this.element,e))}updateTotalPages(){this.totalPages=this.isAllPage?1:this.totalRecordsCount%this.pageSize==0?this.totalRecordsCount/this.pageSize:parseInt((this.totalRecordsCount/this.pageSize).toString(),10)+1}getPagerTemplate(){return this.templateFn}compile(e){if(e)try{document.querySelectorAll(e).length&&(this.templateFn=ci(document.querySelector(e).innerHTML.trim()))}catch(t){this.templateFn=ci(e)}}refresh(){if(this.template)this.isReactTemplate()?(this.updateTotalPages(),this.notify(this.pageRefresh,{})):(this.element.innerHTML="",this.updateTotalPages(),this.pagerTemplate());else{this.updateRTL();const e=this.getFocusedTabindexElement();this.containerModule.refresh(),this.removeTabindexLastElements(),e&&e.classList.contains("e-disable")&&(this.checkFocusInAdaptiveMode(e)?this.changeFocusInAdaptiveMode(e):this.setPagerFocusForActiveElement()),this.enablePagerMessage&&this.pagerMessageModule.refresh(),this.pagerdropdownModule&&this.pagerdropdownModule.refresh(),this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.refresh(),this.setTabIndexForFocusLastElement()}}updateRTL(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}initLocalization(){this.localeObj=new is(this.getModuleName(),this.defaultConstants,this.locale)}updateQueryString(e){const t=this.getUpdatedURL(window.location.href,"page",e.toString());window.history.pushState({path:t},"",t)}getUpdatedURL(e,t,i){const n=new RegExp("([?|&])"+t+"=.*?(&|#|$)","i");if(e.match(n))return e.replace(n,"$1"+t+"="+i+"$2");{let s="";return-1!==e.indexOf("#")&&(s=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+(-1!==e.indexOf("?")?"&":"?")+t+"="+i+s}}renderFirstPrevDivForDevice(){this.element.appendChild(Xe("div",{className:"e-mfirst e-icons e-icon-first",attrs:{title:this.getLocalizedLabel("firstPageTooltip"),tabindex:"-1"}})),this.element.appendChild(Xe("div",{className:"e-mprev e-icons e-icon-prev",attrs:{title:this.getLocalizedLabel("previousPageTooltip"),tabindex:"-1"}}))}renderNextLastDivForDevice(){this.element.appendChild(Xe("div",{className:"e-mnext e-icons e-icon-next",attrs:{title:this.getLocalizedLabel("nextPageTooltip"),tabindex:"-1"}})),this.element.appendChild(Xe("div",{className:"e-mlast e-icons e-icon-last",attrs:{title:this.getLocalizedLabel("lastPageTooltip"),tabindex:"-1"}}))}addAriaLabel(){const e=[".e-mfirst",".e-mprev",".e-mnext",".e-mlast"];if(!A.isDevice)for(let t=0;t<e.length;t++){const i=this.element.querySelector(e[t]);i.setAttribute("aria-label",i.getAttribute("title"))}}isReactTemplate(){return(this.isReact||this.isVue)&&this.template&&"string"!=typeof this.template}};oc([y(!1)],Fl.prototype,"enableQueryString",void 0),oc([y(!1)],Fl.prototype,"enableExternalMessage",void 0),oc([y(!0)],Fl.prototype,"enablePagerMessage",void 0),oc([y(12)],Fl.prototype,"pageSize",void 0),oc([y(10)],Fl.prototype,"pageCount",void 0),oc([y(1)],Fl.prototype,"currentPage",void 0),oc([y()],Fl.prototype,"totalRecordsCount",void 0),oc([y()],Fl.prototype,"externalMessage",void 0),oc([y(!1)],Fl.prototype,"pageSizes",void 0),oc([y()],Fl.prototype,"template",void 0),oc([y("")],Fl.prototype,"customText",void 0),oc([E()],Fl.prototype,"click",void 0),oc([y("")],Fl.prototype,"cssClass",void 0),oc([E()],Fl.prototype,"dropDownChanged",void 0),oc([E()],Fl.prototype,"created",void 0),Fl=oc([Pi],Fl);class Hee{}class zee{}class Bp{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const n=t.slice(0,i),s=n.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const n=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Bp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Bp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Bp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class VLe{encodeKey(e){return jee(e)}encodeValue(e){return jee(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const zLe=/%(\d[a-f0-9])/gi,jLe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function jee(r){return encodeURIComponent(r).replace(zLe,(e,t)=>{var i;return null!==(i=jLe[t])&&void 0!==i?i:e})}function Gee(r){return`${r}`}class dm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new VLe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HLe(r,e){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(n=>{const s=n.indexOf("="),[o,l]=-1==s?[e.decodeKey(n),""]:[e.decodeKey(n.slice(0,s)),e.decodeValue(n.slice(s+1))],a=t.get(o)||[];a.push(l),t.set(o,a)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const n=e[i];Array.isArray(n)?n.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:n,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new dm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Gee(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const n=i.indexOf(Gee(e.value));-1!==n&&i.splice(n,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class GLe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qee(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function Wee(r){return"undefined"!=typeof Blob&&r instanceof Blob}function Uee(r){return"undefined"!=typeof FormData&&r instanceof FormData}class H_{constructor(e,t,i,n){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qLe(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,s=n):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Bp),this.context||(this.context=new GLe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+o}}else this.params=new dm,this.urlWithParams=t}serializeBody(){return null===this.body?null:qee(this.body)||Wee(this.body)||Uee(this.body)||function WLe(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof dm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Uee(this.body)?null:Wee(this.body)?this.body.type||null:qee(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,n=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new H_(i,n,o,{params:d,headers:c,context:u,reportProgress:a,responseType:s,withCredentials:l})}}var Pl=(()=>((Pl=Pl||{})[Pl.Sent=0]="Sent",Pl[Pl.UploadProgress=1]="UploadProgress",Pl[Pl.ResponseHeader=2]="ResponseHeader",Pl[Pl.DownloadProgress=3]="DownloadProgress",Pl[Pl.Response=4]="Response",Pl[Pl.User=5]="User",Pl))();class aN{constructor(e,t=200,i="OK"){this.headers=e.headers||new Bp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cN extends aN{constructor(e={}){super(e),this.type=Pl.ResponseHeader}clone(e={}){return new cN({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class AR extends aN{constructor(e={}){super(e),this.type=Pl.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new AR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $ee extends aN{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function dN(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let hN=(()=>{class r{constructor(t){this.handler=t}request(t,i,n={}){let s;if(t instanceof H_)s=t;else{let a,c;a=n.headers instanceof Bp?n.headers:new Bp(n.headers),n.params&&(c=n.params instanceof dm?n.params:new dm({fromObject:n.params})),s=new H_(t,i,void 0!==n.body?n.body:null,{headers:a,context:n.context,params:c,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=function OLe(...r){return Av(r,CS(r))}(s).pipe(function BLe(r,e){return K(e)?Tv(r,e,1):Tv(r,1)}(a=>this.handler.handle(a)));if(t instanceof H_||"events"===n.observe)return o;const l=o.pipe(function NLe(r,e){return bn((t,i)=>{let n=0;t.subscribe(Es(i,s=>r.call(e,s,n++)&&i.next(s)))})}(a=>a instanceof AR));switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Lo(a=>{if(null!==a.body&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return l.pipe(Lo(a=>{if(null!==a.body&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return l.pipe(Lo(a=>{if(null!==a.body&&"string"!=typeof a.body)throw new Error("Response is not a string.");return a.body}));default:return l.pipe(Lo(a=>a.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new dm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,n={}){return this.request("PATCH",t,dN(n,i))}post(t,i,n={}){return this.request("POST",t,dN(n,i))}put(t,i,n={}){return this.request("PUT",t,dN(n,i))}}return r.\u0275fac=function(t){return new(t||r)(Ji(Hee))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();class Kee{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Yee=new Ui("HTTP_INTERCEPTORS");let ULe=(()=>{class r{intercept(t,i){return i.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();const $Le=/^\)\]\}',?\n/;let Qee=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qe(i=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((g,f)=>n.setRequestHeader(g,f.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const g=t.detectContentTypeHeader();null!==g&&n.setRequestHeader("Content-Type",g)}if(t.responseType){const g=t.responseType.toLowerCase();n.responseType="json"!==g?g:"text"}const s=t.serializeBody();let o=null;const l=()=>{if(null!==o)return o;const g=n.statusText||"OK",f=new Bp(n.getAllResponseHeaders()),m=function KLe(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(n)||t.url;return o=new cN({headers:f,status:n.status,statusText:g,url:m}),o},a=()=>{let{headers:g,status:f,statusText:m,url:v}=l(),x=null;204!==f&&(x=void 0===n.response?n.responseText:n.response),0===f&&(f=x?200:0);let w=f>=200&&f<300;if("json"===t.responseType&&"string"==typeof x){const b=x;x=x.replace($Le,"");try{x=""!==x?JSON.parse(x):null}catch(I){x=b,w&&(w=!1,x={error:I,text:x})}}w?(i.next(new AR({body:x,headers:g,status:f,statusText:m,url:v||void 0})),i.complete()):i.error(new $ee({error:x,headers:g,status:f,statusText:m,url:v||void 0}))},c=g=>{const{url:f}=l(),m=new $ee({error:g,status:n.status||0,statusText:n.statusText||"Unknown Error",url:f||void 0});i.error(m)};let d=!1;const u=g=>{d||(i.next(l()),d=!0);let f={type:Pl.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(f.total=g.total),"text"===t.responseType&&!!n.responseText&&(f.partialText=n.responseText),i.next(f)},p=g=>{let f={type:Pl.UploadProgress,loaded:g.loaded};g.lengthComputable&&(f.total=g.total),i.next(f)};return n.addEventListener("load",a),n.addEventListener("error",c),n.addEventListener("timeout",c),n.addEventListener("abort",c),t.reportProgress&&(n.addEventListener("progress",u),null!==s&&n.upload&&n.upload.addEventListener("progress",p)),n.send(s),i.next({type:Pl.Sent}),()=>{n.removeEventListener("error",c),n.removeEventListener("abort",c),n.removeEventListener("load",a),n.removeEventListener("timeout",c),t.reportProgress&&(n.removeEventListener("progress",u),null!==s&&n.upload&&n.upload.removeEventListener("progress",p)),n.readyState!==n.DONE&&n.abort()}})}}return r.\u0275fac=function(t){return new(t||r)(Ji(PG))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();const uN=new Ui("XSRF_COOKIE_NAME"),pN=new Ui("XSRF_HEADER_NAME");class Xee{}let YLe=(()=>{class r{constructor(t,i,n){this.doc=t,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=DG(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return r.\u0275fac=function(t){return new(t||r)(Ji(Zc),Ji(PI),Ji(uN))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})(),gN=(()=>{class r{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(Ji(Xee),Ji(pN))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})(),QLe=(()=>{class r{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(Yee,[]);this.chain=i.reduceRight((n,s)=>new Kee(n,s),this.backend)}return this.chain.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(Ji(zee),Ji(pi))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})(),XLe=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:gN,useClass:ULe}]}}static withOptions(t={}){return{ngModule:r,providers:[t.cookieName?{provide:uN,useValue:t.cookieName}:[],t.headerName?{provide:pN,useValue:t.headerName}:[]]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[gN,{provide:Yee,useExisting:gN,multi:!0},{provide:Xee,useClass:YLe},{provide:uN,useValue:"XSRF-TOKEN"},{provide:pN,useValue:"X-XSRF-TOKEN"}]}),r})(),JLe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[hN,{provide:Hee,useClass:QLe},Qee,{provide:zee,useExisting:Qee}],imports:[[XLe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();const fN={headers:new Bp({"Content-Type":"application/json"})};let Jee=(()=>{class r{constructor(t){this.http=t,this.API_URL="https://pdptappsensor.elb.cisinlive.com"}getAll(){return this.http.get(this.API_URL+"/all-Student")}deleteData(t){return this.http.delete(this.API_URL+"/delete-Student/",t)}addData(t){return this.http.post(this.API_URL+"/add-Student",t)}addRecord(t){return this.http.post(this.API_URL+"/add-Student",t.data,fN)}updateRecord(t,i){return this.http.put(this.API_URL+"/update-Student/"+i,t.data,fN)}deleteRecord(t,i){return this.http.delete(this.API_URL+"/delete-Student/"+t.data[0].id,fN)}}return r.\u0275fac=function(t){return new(t||r)(Ji(hN))},r.\u0275prov=xn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Np=Object.create(null);Np.open="0",Np.close="1",Np.ping="2",Np.pong="3",Np.message="4",Np.upgrade="5",Np.noop="6";const MR=Object.create(null);Object.keys(Np).forEach(r=>{MR[Np[r]]=r});const ZLe={type:"error",data:"parser error"},eOe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),tOe="function"==typeof ArrayBuffer,Zee=(r,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+i)},t.readAsDataURL(r)},ete=({type:r,data:e},t,i)=>eOe&&e instanceof Blob?t?i(e):Zee(e,i):tOe&&(e instanceof ArrayBuffer||(r=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)(e))?t?i(e):Zee(new Blob([e]),i):i(Np[r]+(e||"")),vC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z_="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<vC.length;r++)z_[vC.charCodeAt(r)]=r;const rOe="function"==typeof ArrayBuffer,lOe=(r,e)=>{if(rOe){const t=(r=>{let i,s,o,l,a,e=.75*r.length,t=r.length,n=0;"="===r[r.length-1]&&(e--,"="===r[r.length-2]&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(i=0;i<t;i+=4)s=z_[r.charCodeAt(i)],o=z_[r.charCodeAt(i+1)],l=z_[r.charCodeAt(i+2)],a=z_[r.charCodeAt(i+3)],d[n++]=s<<2|o>>4,d[n++]=(15&o)<<4|l>>2,d[n++]=(3&l)<<6|63&a;return c})(r);return tte(t,e)}return{base64:!0,data:r}},tte=(r,e)=>"blob"===e&&r instanceof ArrayBuffer?new Blob([r]):r,ite=(r,e)=>{if("string"!=typeof r)return{type:"message",data:tte(r,e)};const t=r.charAt(0);return"b"===t?{type:"message",data:lOe(r.substring(1),e)}:MR[t]?r.length>1?{type:MR[t],data:r.substring(1)}:{type:MR[t]}:ZLe},nte=String.fromCharCode(30);function Ll(r){if(r)return function dOe(r){for(var e in Ll.prototype)r[e]=Ll.prototype[e];return r}(r)}Ll.prototype.on=Ll.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this},Ll.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this},Ll.prototype.off=Ll.prototype.removeListener=Ll.prototype.removeAllListeners=Ll.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+r],this;for(var i,n=0;n<t.length;n++)if((i=t[n])===e||i.fn===e){t.splice(n,1);break}return 0===t.length&&delete this._callbacks["$"+r],this},Ll.prototype.emitReserved=Ll.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){i=0;for(var n=(t=t.slice(0)).length;i<n;++i)t[i].apply(this,e)}return this},Ll.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},Ll.prototype.hasListeners=function(r){return!!this.listeners(r).length};const hm="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function rte(r,...e){return e.reduce((t,i)=>(r.hasOwnProperty(i)&&(t[i]=r[i]),t),{})}const hOe=setTimeout,uOe=clearTimeout;function FR(r,e){e.useNativeTimers?(r.setTimeoutFn=hOe.bind(hm),r.clearTimeoutFn=uOe.bind(hm)):(r.setTimeoutFn=setTimeout.bind(hm),r.clearTimeoutFn=clearTimeout.bind(hm))}function gOe(r){return"string"==typeof r?function fOe(r){let e=0,t=0;for(let i=0,n=r.length;i<n;i++)e=r.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}(r):Math.ceil(1.33*(r.byteLength||r.size))}class mOe extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class ote extends Ll{constructor(e){super(),this.writable=!1,FR(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new mOe(e,t,i)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=ite(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const lte="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ate={};let dte,cte=0,um=0;function hte(r){let e="";do{e=lte[r%64]+e,r=Math.floor(r/64)}while(r>0);return e}function ute(){const r=hte(+new Date);return r!==dte?(cte=0,dte=r):r+"."+hte(cte++)}for(;um<64;um++)ate[lte[um]]=um;function pte(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}let gte=!1;try{gte="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){}const yOe=gte;function fte(r){const e=r.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||yOe))return new XMLHttpRequest}catch(t){}if(!e)try{return new(hm[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function xOe(){}const COe=null!=new fte({xdomain:!1}).responseType;let LR=(()=>{class r extends Ll{constructor(t,i){super(),FR(this,i),this.opts=i,this.method=i.method||"GET",this.uri=t,this.async=!1!==i.async,this.data=void 0!==i.data?i.data:null,this.create()}create(){const t=rte(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const i=this.xhr=new fte(t);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&i.setRequestHeader(n,this.opts.extraHeaders[n])}}catch(n){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{i.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{4===i.readyState&&(200===i.status||1223===i.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof i.status?i.status:0)},0))},i.send(this.data)}catch(n){return void this.setTimeoutFn(()=>{this.onError(n)},0)}"undefined"!=typeof document&&(this.index=r.requestsCount++,r.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(null!=this.xhr){if(this.xhr.onreadystatechange=xOe,t)try{this.xhr.abort()}catch(i){}"undefined"!=typeof document&&delete r.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return r.requestsCount=0,r.requests={},r})();function mte(){for(let r in LR.requests)LR.requests.hasOwnProperty(r)&&LR.requests[r].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",mte):"function"==typeof addEventListener&&addEventListener("onpagehide"in hm?"pagehide":"unload",mte,!1));const bOe="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),OR=hm.WebSocket||hm.MozWebSocket,vte="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),IOe={websocket:class SOe extends ote{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=vte?{}:rte(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=vte?new OR(e,t,i):t?new OR(e,t):new OR(e)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=t===e.length-1;ete(e[t],this.supportsBinary,s=>{try{this.ws.send(s)}catch(l){}n&&bOe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let i="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=ute()),this.supportsBinary||(e.b64=1);const n=pte(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(n.length?"?"+n:"")}check(){return!!OR}},polling:class wOe extends ote{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const i="https:"===location.protocol;let n=location.port;n||(n=i?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==i}this.supportsBinary=COe&&!(e&&e.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((r,e)=>{const t=r.split(nte),i=[];for(let n=0;n<t.length;n++){const s=ite(t[n],e);if(i.push(s),"error"===s.type)break}return i})(e,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((r,e)=>{const t=r.length,i=new Array(t);let n=0;r.forEach((s,o)=>{ete(s,!1,l=>{i[o]=l,++n===t&&e(i.join(nte))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let i="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=ute()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(i=":"+this.opts.port);const n=pte(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(n.length?"?"+n:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new LR(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(n,s)=>{this.onError("xhr post error",n,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}},DOe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,EOe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function vN(r){const e=r,t=r.indexOf("["),i=r.indexOf("]");-1!=t&&-1!=i&&(r=r.substring(0,t)+r.substring(t,i).replace(/:/g,";")+r.substring(i,r.length));let n=DOe.exec(r||""),s={},o=14;for(;o--;)s[EOe[o]]=n[o]||"";return-1!=t&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function TOe(r,e){const i=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&i.splice(0,1),"/"==e.substr(e.length-1,1)&&i.splice(i.length-1,1),i}(0,s.path),s.queryKey=function ROe(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,s){n&&(t[n]=s)}),t}(0,s.query),s}let yte=(()=>{class r extends Ll{constructor(t,i={}){super(),t&&"object"==typeof t&&(i=t,t=null),t?(t=vN(t),i.hostname=t.host,i.secure="https"===t.protocol||"wss"===t.protocol,i.port=t.port,t.query&&(i.query=t.query)):i.host&&(i.hostname=vN(i.host).host),FR(this,i),this.secure=null!=i.secure?i.secure:"undefined"!=typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=i.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function vOe(r){let e={},t=r.split("&");for(let i=0,n=t.length;i<n;i++){let s=t[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=t,this.id&&(i.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new IOe[t](n)}open(){let t;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(i){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(t){let i=this.createTransport(t),n=!1;r.priorWebsocketSuccess=!1;const s=()=>{n||(i.send([{type:"ping",data:"probe"}]),i.once("packet",p=>{if(!n)if("pong"===p.type&&"probe"===p.data){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;r.priorWebsocketSuccess="websocket"===i.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=i.name,this.emitReserved("upgradeError",g)}}))};function o(){n||(n=!0,u(),i.close(),i=null)}const l=p=>{const g=new Error("probe error: "+p);g.transport=i.name,o(),this.emitReserved("upgradeError",g)};function a(){l("transport closed")}function c(){l("socket closed")}function d(p){i&&p.name!==i.name&&o()}const u=()=>{i.removeListener("open",s),i.removeListener("error",l),i.removeListener("close",a),this.off("close",c),this.off("upgrading",d)};i.once("open",s),i.once("error",l),i.once("close",a),this.once("close",c),this.once("upgrading",d),i.open()}onOpen(){if(this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const i=this.upgrades.length;for(;t<i;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=t.data,this.onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(i+=gOe(s)),n>0&&i>this.maxPayload)return this.writeBuffer.slice(0,n);i+=2}return this.writeBuffer}write(t,i,n){return this.sendPacket("message",t,i,n),this}send(t,i,n){return this.sendPacket("message",t,i,n),this}sendPacket(t,i,n,s){if("function"==typeof i&&(s=i,i=void 0),"function"==typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:t,data:i,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},n=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){r.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,i){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const i=[];let n=0;const s=t.length;for(;n<s;n++)~this.transports.indexOf(t[n])&&i.push(t[n]);return i}}return r.protocol=4,r})();const AOe="function"==typeof ArrayBuffer,xte=Object.prototype.toString,FOe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===xte.call(Blob),POe="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===xte.call(File);function yN(r){return AOe&&(r instanceof ArrayBuffer||(r=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer)(r))||FOe&&r instanceof Blob||POe&&r instanceof File}function BR(r,e){if(!r||"object"!=typeof r)return!1;if(Array.isArray(r)){for(let t=0,i=r.length;t<i;t++)if(BR(r[t]))return!0;return!1}if(yN(r))return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return BR(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&BR(r[t]))return!0;return!1}function LOe(r){const e=[],i=r;return i.data=xN(r.data,e),i.attachments=e.length,{packet:i,buffers:e}}function xN(r,e){if(!r)return r;if(yN(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}if(Array.isArray(r)){const t=new Array(r.length);for(let i=0;i<r.length;i++)t[i]=xN(r[i],e);return t}if("object"==typeof r&&!(r instanceof Date)){const t={};for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=xN(r[i],e));return t}return r}function OOe(r,e){return r.data=CN(r.data,e),r.attachments=void 0,r}function CN(r,e){if(!r)return r;if(r&&r._placeholder)return e[r.num];if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=CN(r[t],e);else if("object"==typeof r)for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=CN(r[t],e));return r}const BOe=5;var Cs=(()=>{return(r=Cs||(Cs={}))[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK",Cs;var r})();class NOe{constructor(e){this.replacer=e}encode(e){return e.type!==Cs.EVENT&&e.type!==Cs.ACK||!BR(e)?[this.encodeAsString(e)]:(e.type=e.type===Cs.EVENT?Cs.BINARY_EVENT:Cs.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return(e.type===Cs.BINARY_EVENT||e.type===Cs.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=LOe(e),i=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(i),n}}class wN extends Ll{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===Cs.BINARY_EVENT||t.type===Cs.BINARY_ACK?(this.reconstructor=new VOe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else{if(!yN(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(void 0===Cs[i.type])throw new Error("unknown packet type "+i.type);if(i.type===Cs.BINARY_EVENT||i.type===Cs.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);i.nsp=e.substring(s,t)}else i.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const s=t+1;for(;++t;){const o=e.charAt(t);if(null==o||Number(o)!=o){--t;break}if(t===e.length)break}i.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!wN.isPayloadValid(i.type,s))throw new Error("invalid payload");i.data=s}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Cs.CONNECT:return"object"==typeof t;case Cs.DISCONNECT:return void 0===t;case Cs.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Cs.EVENT:case Cs.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Cs.ACK:case Cs.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class VOe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=OOe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Hu(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const HOe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cte extends Ll{constructor(e,t,i){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Hu(e,"open",this.onopen.bind(this)),Hu(e,"packet",this.onpacket.bind(this)),Hu(e,"error",this.onerror.bind(this)),Hu(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(HOe.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const i={type:Cs.EVENT,data:t,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const o=this.ids++,l=t.pop();this._registerAckCallback(o,l),i.id=o}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){const i=this.flags.timeout;if(void 0===i)return void(this.acks[e]=t);const n=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);t.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(n),t.apply(this,[null,...s])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this.packet({type:Cs.CONNECT,data:e})}):this.packet({type:Cs.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Cs.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Cs.EVENT:case Cs.BINARY_EVENT:this.onevent(e);break;case Cs.ACK:case Cs.BINARY_ACK:this.onack(e);break;case Cs.DISCONNECT:this.ondisconnect();break;case Cs.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let i=!1;return function(...n){i||(i=!0,t.packet({type:Cs.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Cs.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function yC(r){this.ms=(r=r||{}).min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}yC.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=0==(1&Math.floor(10*e))?r-t:r+t}return 0|Math.min(r,this.max)},yC.prototype.reset=function(){this.attempts=0},yC.prototype.setMin=function(r){this.ms=r},yC.prototype.setMax=function(r){this.max=r},yC.prototype.setJitter=function(r){this.jitter=r};class bN extends Ll{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,FR(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new yC({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||Me;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new yte(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=Hu(t,"open",function(){i.onopen(),e&&e()}),s=Hu(t,"error",o=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",o),e?e(o):i.maybeReconnectOnOpen()});if(!1!==this._timeout){const o=this._timeout;0===o&&n();const l=this.setTimeoutFn(()=>{n(),t.close(),t.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Hu(e,"ping",this.onping.bind(this)),Hu(e,"data",this.ondata.bind(this)),Hu(e,"error",this.onerror.bind(this)),Hu(e,"close",this.onclose.bind(this)),Hu(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i||(i=new Cte(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const j_={};function NR(r,e){"object"==typeof r&&(e=r,r=void 0);const t=function kOe(r,e="",t){let i=r;t=t||"undefined"!=typeof location&&location,null==r&&(r=t.protocol+"//"+t.host),"string"==typeof r&&("/"===r.charAt(0)&&(r="/"===r.charAt(1)?t.protocol+r:t.host+r),/^(https?|wss?):\/\//.test(r)||(r=void 0!==t?t.protocol+"//"+r:"https://"+r),i=vN(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(t&&t.port===i.port?"":":"+i.port),i}(r,(e=e||{}).path||"/socket.io"),i=t.source,n=t.id;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||j_[n]&&t.path in j_[n].nsps?a=new bN(i,e):(j_[n]||(j_[n]=new bN(i,e)),a=j_[n]),t.query&&!e.query&&(e.query=t.queryKey),a.socket(t.path,e)}Object.assign(NR,{Manager:bN,Socket:Cte,io:NR,connect:NR});let bte=(()=>{class r{constructor(){}setupSocketConnection(){this.socket=NR("https://pdptappsensor.elb.cisinlive.com")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const _N=["template"],_te=["headerTemplate"],Ste=["commandsTemplate"],Ite=["filterItemTemplate"],Dte=["editTemplate"],Ete=["filterTemplate"],zOe=["footerTemplate"],jOe=["groupFooterTemplate"],GOe=["groupCaptionTemplate"],qOe=["rowTemplate"],WOe=["detailTemplate"],UOe=["toolbarTemplate"],$Oe=["pagerTemplate"],KOe=["editSettingsTemplate"],YOe=["groupSettingsCaptionTemplate"];var xC=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},CC=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};let QOe=["allowEditing","allowFiltering","allowGrouping","allowReordering","allowResizing","allowSearching","allowSorting","autoFit","clipMode","columns","commands","customAttributes","dataSource","defaultValue","disableHtmlEncode","displayAsCheckBox","edit","editTemplate","editType","enableGroupByFormat","field","filter","filterBarTemplate","filterTemplate","foreignKeyField","foreignKeyValue","format","formatter","freeze","headerTemplate","headerText","headerTextAlign","headerValueAccessor","hideAtMedia","index","isFrozen","isIdentity","isPrimaryKey","lockColumn","maxWidth","minWidth","showColumnMenu","showInColumnChooser","sortComparer","template","textAlign","type","uid","validationRules","valueAccessor","visible","width"],XOe=[],JOe=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(XOe),this.directivePropList=QOe}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-stacked-column"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,_N,5),vt(n,_te,5),vt(n,Ste,5),vt(n,Ite,5),vt(n,Dte,5),vt(n,Ete,5)),2&t){let s;ut(s=pt())&&(i.template=s.first),ut(s=pt())&&(i.headerTemplate=s.first),ut(s=pt())&&(i.commandsTemplate=s.first),ut(s=pt())&&(i.filter_itemTemplate=s.first),ut(s=pt())&&(i.editTemplate=s.first),ut(s=pt())&&(i.filterTemplate=s.first)}},inputs:{allowEditing:"allowEditing",allowFiltering:"allowFiltering",allowGrouping:"allowGrouping",allowReordering:"allowReordering",allowResizing:"allowResizing",allowSearching:"allowSearching",allowSorting:"allowSorting",autoFit:"autoFit",clipMode:"clipMode",columns:"columns",commands:"commands",customAttributes:"customAttributes",dataSource:"dataSource",defaultValue:"defaultValue",disableHtmlEncode:"disableHtmlEncode",displayAsCheckBox:"displayAsCheckBox",edit:"edit",editTemplate:"editTemplate",editType:"editType",enableGroupByFormat:"enableGroupByFormat",field:"field",filter:"filter",filterBarTemplate:"filterBarTemplate",filterTemplate:"filterTemplate",foreignKeyField:"foreignKeyField",foreignKeyValue:"foreignKeyValue",format:"format",formatter:"formatter",freeze:"freeze",headerTemplate:"headerTemplate",headerText:"headerText",headerTextAlign:"headerTextAlign",headerValueAccessor:"headerValueAccessor",hideAtMedia:"hideAtMedia",index:"index",isFrozen:"isFrozen",isIdentity:"isIdentity",isPrimaryKey:"isPrimaryKey",lockColumn:"lockColumn",maxWidth:"maxWidth",minWidth:"minWidth",showColumnMenu:"showColumnMenu",showInColumnChooser:"showInColumnChooser",sortComparer:"sortComparer",template:"template",textAlign:"textAlign",type:"type",uid:"uid",validationRules:"validationRules",valueAccessor:"valueAccessor",visible:"visible",width:"width"},features:[Gt]}),xC([Ht(),CC("design:type",Object)],r.prototype,"template",void 0),xC([Ht(),CC("design:type",Object)],r.prototype,"headerTemplate",void 0),xC([Ht(),CC("design:type",Object)],r.prototype,"commandsTemplate",void 0),xC([Ht(),CC("design:type",Object)],r.prototype,"filter_itemTemplate",void 0),xC([Ht(),CC("design:type",Object)],r.prototype,"editTemplate",void 0),xC([Ht(),CC("design:type",Object)],r.prototype,"filterTemplate",void 0),r})(),ZOe=(()=>{class r extends rd{constructor(){super("columns")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-stacked-columns"]],contentQueries:function(t,i,n){if(1&t&&vt(n,JOe,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();var wC=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},bC=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};let e5e=["allowEditing","allowFiltering","allowGrouping","allowReordering","allowResizing","allowSearching","allowSorting","autoFit","clipMode","columns","commands","customAttributes","dataSource","defaultValue","disableHtmlEncode","displayAsCheckBox","edit","editTemplate","editType","enableGroupByFormat","field","filter","filterBarTemplate","filterTemplate","foreignKeyField","foreignKeyValue","format","formatter","freeze","headerTemplate","headerText","headerTextAlign","headerValueAccessor","hideAtMedia","index","isFrozen","isIdentity","isPrimaryKey","lockColumn","maxWidth","minWidth","showColumnMenu","showInColumnChooser","sortComparer","template","textAlign","type","uid","validationRules","valueAccessor","visible","width"],t5e=[],pm=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,this.tags=["columns"],ns("currentInstance",this,this.viewContainerRef),this.registerEvents(t5e),this.directivePropList=e5e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-column"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,_N,5),vt(n,_te,5),vt(n,Ste,5),vt(n,Ite,5),vt(n,Dte,5),vt(n,Ete,5),vt(n,ZOe,5)),2&t){let s;ut(s=pt())&&(i.template=s.first),ut(s=pt())&&(i.headerTemplate=s.first),ut(s=pt())&&(i.commandsTemplate=s.first),ut(s=pt())&&(i.filter_itemTemplate=s.first),ut(s=pt())&&(i.editTemplate=s.first),ut(s=pt())&&(i.filterTemplate=s.first),ut(s=pt())&&(i.childColumns=s.first)}},inputs:{allowEditing:"allowEditing",allowFiltering:"allowFiltering",allowGrouping:"allowGrouping",allowReordering:"allowReordering",allowResizing:"allowResizing",allowSearching:"allowSearching",allowSorting:"allowSorting",autoFit:"autoFit",clipMode:"clipMode",columns:"columns",commands:"commands",customAttributes:"customAttributes",dataSource:"dataSource",defaultValue:"defaultValue",disableHtmlEncode:"disableHtmlEncode",displayAsCheckBox:"displayAsCheckBox",edit:"edit",editTemplate:"editTemplate",editType:"editType",enableGroupByFormat:"enableGroupByFormat",field:"field",filter:"filter",filterBarTemplate:"filterBarTemplate",filterTemplate:"filterTemplate",foreignKeyField:"foreignKeyField",foreignKeyValue:"foreignKeyValue",format:"format",formatter:"formatter",freeze:"freeze",headerTemplate:"headerTemplate",headerText:"headerText",headerTextAlign:"headerTextAlign",headerValueAccessor:"headerValueAccessor",hideAtMedia:"hideAtMedia",index:"index",isFrozen:"isFrozen",isIdentity:"isIdentity",isPrimaryKey:"isPrimaryKey",lockColumn:"lockColumn",maxWidth:"maxWidth",minWidth:"minWidth",showColumnMenu:"showColumnMenu",showInColumnChooser:"showInColumnChooser",sortComparer:"sortComparer",template:"template",textAlign:"textAlign",type:"type",uid:"uid",validationRules:"validationRules",valueAccessor:"valueAccessor",visible:"visible",width:"width"},features:[Gt]}),r})();wC([Ht(),bC("design:type",Object)],pm.prototype,"template",void 0),wC([Ht(),bC("design:type",Object)],pm.prototype,"headerTemplate",void 0),wC([Ht(),bC("design:type",Object)],pm.prototype,"commandsTemplate",void 0),wC([Ht(),bC("design:type",Object)],pm.prototype,"filter_itemTemplate",void 0),wC([Ht(),bC("design:type",Object)],pm.prototype,"editTemplate",void 0),wC([Ht(),bC("design:type",Object)],pm.prototype,"filterTemplate",void 0);let Tte=(()=>{class r extends rd{constructor(){super("columns")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-columns"]],contentQueries:function(t,i,n){if(1&t&&vt(n,pm,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();var SN=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},IN=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};let i5e=["columnName","customAggregate","field","footerTemplate","format","groupCaptionTemplate","groupFooterTemplate","type"],n5e=[],G_=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(n5e),this.directivePropList=i5e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-column"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,zOe,5),vt(n,jOe,5),vt(n,GOe,5)),2&t){let s;ut(s=pt())&&(i.footerTemplate=s.first),ut(s=pt())&&(i.groupFooterTemplate=s.first),ut(s=pt())&&(i.groupCaptionTemplate=s.first)}},inputs:{columnName:"columnName",customAggregate:"customAggregate",field:"field",footerTemplate:"footerTemplate",format:"format",groupCaptionTemplate:"groupCaptionTemplate",groupFooterTemplate:"groupFooterTemplate",type:"type"},features:[Gt]}),r})();SN([Ht(),IN("design:type",Object)],G_.prototype,"footerTemplate",void 0),SN([Ht(),IN("design:type",Object)],G_.prototype,"groupFooterTemplate",void 0),SN([Ht(),IN("design:type",Object)],G_.prototype,"groupCaptionTemplate",void 0);let Rte=(()=>{class r extends rd{constructor(){super("columns")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-columns"]],contentQueries:function(t,i,n){if(1&t&&vt(n,G_,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})(),s5e=["columns"],r5e=[],o5e=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,this.tags=["columns"],ns("currentInstance",this,this.viewContainerRef),this.registerEvents(r5e),this.directivePropList=s5e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-aggregate"]],contentQueries:function(t,i,n){if(1&t&&vt(n,Rte,5),2&t){let s;ut(s=pt())&&(i.childColumns=s.first)}},inputs:{columns:"columns"},features:[Gt]}),r})(),l5e=(()=>{class r extends rd{constructor(){super("aggregates")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-aggregates"]],contentQueries:function(t,i,n){if(1&t&&vt(n,o5e,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();var lv=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},av=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const a5e=["actionBegin","actionComplete","actionFailure","batchAdd","batchCancel","batchDelete","beforeAutoFill","beforeBatchAdd","beforeBatchDelete","beforeBatchSave","beforeCopy","beforeDataBound","beforeExcelExport","beforeOpenAdaptiveDialog","beforeOpenColumnChooser","beforePaste","beforePdfExport","beforePrint","beginEdit","cellDeselected","cellDeselecting","cellEdit","cellSave","cellSaved","cellSelected","cellSelecting","checkBoxChange","columnDataStateChange","columnDeselected","columnDeselecting","columnDrag","columnDragStart","columnDrop","columnMenuClick","columnMenuOpen","columnSelected","columnSelecting","commandClick","contextMenuClick","contextMenuOpen","created","dataBound","dataSourceChanged","dataStateChange","destroyed","detailDataBound","excelAggregateQueryCellInfo","excelExportComplete","excelHeaderQueryCellInfo","excelQueryCellInfo","exportDetailDataBound","exportGroupCaption","headerCellInfo","keyPressed","lazyLoadGroupCollapse","lazyLoadGroupExpand","load","pdfAggregateQueryCellInfo","pdfExportComplete","pdfHeaderQueryCellInfo","pdfQueryCellInfo","printComplete","queryCellInfo","recordClick","recordDoubleClick","resizeStart","resizeStop","resizing","rowDataBound","rowDeselected","rowDeselecting","rowDrag","rowDragStart","rowDragStartHelper","rowDrop","rowSelected","rowSelecting","toolbarClick","dataSourceChange"],c5e=["dataSource"];let gm=(()=>{let r=class extends We{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["columns","aggregates"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("GridsFilter");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsPage");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsSelection");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsSort");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsGroup");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsReorder");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsRowDD");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsDetailRow");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsToolbar");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsAggregate");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsSearch");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsVirtualScroll");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsEdit");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsResize");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsExcelExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsPdfExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsCommandColumn");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsContextMenu");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsFreeze");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsColumnMenu");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsColumnChooser");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsForeignKey");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsInfiniteScroll");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("GridsLazyLoadGroup");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(a5e),this.addTwoWay.call(this,c5e),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childColumns,this.childAggregates&&(this.tagObjects[1].instance=this.childAggregates),this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-grid"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,qOe,5),vt(n,WOe,5),vt(n,UOe,5),vt(n,$Oe,5),vt(n,KOe,5),vt(n,YOe,5),vt(n,Tte,5),vt(n,l5e,5)),2&t){let s;ut(s=pt())&&(i.rowTemplate=s.first),ut(s=pt())&&(i.detailTemplate=s.first),ut(s=pt())&&(i.toolbarTemplate=s.first),ut(s=pt())&&(i.pagerTemplate=s.first),ut(s=pt())&&(i.editSettings_template=s.first),ut(s=pt())&&(i.groupSettings_captionTemplate=s.first),ut(s=pt())&&(i.childColumns=s.first),ut(s=pt())&&(i.childAggregates=s.first)}},inputs:{aggregates:"aggregates",allowExcelExport:"allowExcelExport",allowFiltering:"allowFiltering",allowGrouping:"allowGrouping",allowKeyboard:"allowKeyboard",allowMultiSorting:"allowMultiSorting",allowPaging:"allowPaging",allowPdfExport:"allowPdfExport",allowReordering:"allowReordering",allowResizing:"allowResizing",allowRowDragAndDrop:"allowRowDragAndDrop",allowSelection:"allowSelection",allowSorting:"allowSorting",allowTextWrap:"allowTextWrap",childGrid:"childGrid",clipMode:"clipMode",columnChooserSettings:"columnChooserSettings",columnMenuItems:"columnMenuItems",columnQueryMode:"columnQueryMode",columns:"columns",contextMenuItems:"contextMenuItems",cssClass:"cssClass",currencyCode:"currencyCode",currentAction:"currentAction",dataSource:"dataSource",detailTemplate:"detailTemplate",editSettings:"editSettings",ej2StatePersistenceVersion:"ej2StatePersistenceVersion",enableAdaptiveUI:"enableAdaptiveUI",enableAltRow:"enableAltRow",enableAutoFill:"enableAutoFill",enableColumnVirtualization:"enableColumnVirtualization",enableHeaderFocus:"enableHeaderFocus",enableHover:"enableHover",enableImmutableMode:"enableImmutableMode",enableInfiniteScrolling:"enableInfiniteScrolling",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableStickyHeader:"enableStickyHeader",enableVirtualization:"enableVirtualization",filterSettings:"filterSettings",frozenColumns:"frozenColumns",frozenRows:"frozenRows",gridLines:"gridLines",groupSettings:"groupSettings",height:"height",hierarchyPrintMode:"hierarchyPrintMode",infiniteScrollSettings:"infiniteScrollSettings",locale:"locale",pageSettings:"pageSettings",pagerTemplate:"pagerTemplate",parentDetails:"parentDetails",printMode:"printMode",query:"query",queryString:"queryString",resizeSettings:"resizeSettings",rowDropSettings:"rowDropSettings",rowHeight:"rowHeight",rowRenderingMode:"rowRenderingMode",rowTemplate:"rowTemplate",searchSettings:"searchSettings",selectedRowIndex:"selectedRowIndex",selectionSettings:"selectionSettings",showColumnChooser:"showColumnChooser",showColumnMenu:"showColumnMenu",sortSettings:"sortSettings",textWrapSettings:"textWrapSettings",toolbar:"toolbar",toolbarTemplate:"toolbarTemplate",width:"width"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",batchAdd:"batchAdd",batchCancel:"batchCancel",batchDelete:"batchDelete",beforeAutoFill:"beforeAutoFill",beforeBatchAdd:"beforeBatchAdd",beforeBatchDelete:"beforeBatchDelete",beforeBatchSave:"beforeBatchSave",beforeCopy:"beforeCopy",beforeDataBound:"beforeDataBound",beforeExcelExport:"beforeExcelExport",beforeOpenAdaptiveDialog:"beforeOpenAdaptiveDialog",beforeOpenColumnChooser:"beforeOpenColumnChooser",beforePaste:"beforePaste",beforePdfExport:"beforePdfExport",beforePrint:"beforePrint",beginEdit:"beginEdit",cellDeselected:"cellDeselected",cellDeselecting:"cellDeselecting",cellEdit:"cellEdit",cellSave:"cellSave",cellSaved:"cellSaved",cellSelected:"cellSelected",cellSelecting:"cellSelecting",checkBoxChange:"checkBoxChange",columnDataStateChange:"columnDataStateChange",columnDeselected:"columnDeselected",columnDeselecting:"columnDeselecting",columnDrag:"columnDrag",columnDragStart:"columnDragStart",columnDrop:"columnDrop",columnMenuClick:"columnMenuClick",columnMenuOpen:"columnMenuOpen",columnSelected:"columnSelected",columnSelecting:"columnSelecting",commandClick:"commandClick",contextMenuClick:"contextMenuClick",contextMenuOpen:"contextMenuOpen",created:"created",dataBound:"dataBound",dataSourceChanged:"dataSourceChanged",dataStateChange:"dataStateChange",destroyed:"destroyed",detailDataBound:"detailDataBound",excelAggregateQueryCellInfo:"excelAggregateQueryCellInfo",excelExportComplete:"excelExportComplete",excelHeaderQueryCellInfo:"excelHeaderQueryCellInfo",excelQueryCellInfo:"excelQueryCellInfo",exportDetailDataBound:"exportDetailDataBound",exportGroupCaption:"exportGroupCaption",headerCellInfo:"headerCellInfo",keyPressed:"keyPressed",lazyLoadGroupCollapse:"lazyLoadGroupCollapse",lazyLoadGroupExpand:"lazyLoadGroupExpand",load:"load",pdfAggregateQueryCellInfo:"pdfAggregateQueryCellInfo",pdfExportComplete:"pdfExportComplete",pdfHeaderQueryCellInfo:"pdfHeaderQueryCellInfo",pdfQueryCellInfo:"pdfQueryCellInfo",printComplete:"printComplete",queryCellInfo:"queryCellInfo",recordClick:"recordClick",recordDoubleClick:"recordDoubleClick",resizeStart:"resizeStart",resizeStop:"resizeStop",resizing:"resizing",rowDataBound:"rowDataBound",rowDeselected:"rowDeselected",rowDeselecting:"rowDeselecting",rowDrag:"rowDrag",rowDragStart:"rowDragStart",rowDragStartHelper:"rowDragStartHelper",rowDrop:"rowDrop",rowSelected:"rowSelected",rowSelecting:"rowSelecting",toolbarClick:"toolbarClick",dataSourceChange:"dataSourceChange"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();lv([Ht(),av("design:type",Object)],gm.prototype,"rowTemplate",void 0),lv([Ht(),av("design:type",Object)],gm.prototype,"detailTemplate",void 0),lv([Ht(),av("design:type",Object)],gm.prototype,"toolbarTemplate",void 0),lv([Ht(),av("design:type",Object)],gm.prototype,"pagerTemplate",void 0),lv([Ht(),av("design:type",Object)],gm.prototype,"editSettings_template",void 0),lv([Ht(),av("design:type",Object)],gm.prototype,"groupSettings_captionTemplate",void 0),gm=lv([So([nn]),av("design:paramtypes",[mi,_i,$t,pi])],gm);let DN=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})();var kte=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ate=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const P5e=["click","created","dropDownChanged"],L5e=[];let EN=(()=>{let r=class extends Fl{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(P5e),this.addTwoWay.call(this,L5e),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-pager"]],contentQueries:function(t,i,n){if(1&t&&vt(n,_N,5),2&t){let s;ut(s=pt())&&(i.template=s.first)}},inputs:{cssClass:"cssClass",currentPage:"currentPage",customText:"customText",enableExternalMessage:"enableExternalMessage",enablePagerMessage:"enablePagerMessage",enablePersistence:"enablePersistence",enableQueryString:"enableQueryString",enableRtl:"enableRtl",externalMessage:"externalMessage",locale:"locale",pageCount:"pageCount",pageSize:"pageSize",pageSizes:"pageSizes",template:"template",totalRecordsCount:"totalRecordsCount"},outputs:{click:"click",created:"created",dropDownChanged:"dropDownChanged"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();kte([Ht(),Ate("design:type",Object)],EN.prototype,"template",void 0),EN=kte([So([nn]),Ate("design:paramtypes",[mi,_i,$t,pi])],EN);const O5e=["header"],Fte=["content"],Pte=["headerTemplate"],TN=["itemTemplate"],RN=[[["div"]]],kN=["div"],AN=["template"],B5e=["separatorTemplate"],N5e=["indicatorsTemplate"],V5e=["nextButtonTemplate"],H5e=["previousButtonTemplate"],z5e=["playButtonTemplate"],j5e=["headerText"],G5e=["nodeTemplate"],q5e=["*"];var Lte=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ote=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};let W5e=["content","cssClass","disabled","expanded","header","iconCss","id","visible"],U5e=[],$5e=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(U5e),this.directivePropList=W5e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-accordionitem"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,O5e,5),vt(n,Fte,5)),2&t){let s;ut(s=pt())&&(i.header=s.first),ut(s=pt())&&(i.content=s.first)}},inputs:{content:"content",cssClass:"cssClass",disabled:"disabled",expanded:"expanded",header:"header",iconCss:"iconCss",id:"id",visible:"visible"},features:[Gt]}),Lte([Ht(),Ote("design:type",Object)],r.prototype,"header",void 0),Lte([Ht(),Ote("design:type",Object)],r.prototype,"content",void 0),r})(),K5e=(()=>{class r extends rd{constructor(){super("items")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-accordionitems"]],contentQueries:function(t,i,n){if(1&t&&vt(n,$5e,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();var MN=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},FN=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const Y5e=["clicked","created","destroyed","expanded","expanding","expandedIndicesChange"],Q5e=["expandedIndices"];let VR=(()=>{let r=class extends ga{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["items"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(Y5e),this.addTwoWay.call(this,Q5e),ns("currentInstance",this,this.viewContainerRef),this.containerContext=new nn}ngOnInit(){this.containerContext.ngOnInit(this)}ngAfterViewInit(){this.containerContext.ngAfterViewInit(this)}ngOnDestroy(){this.containerContext.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childItems,this.containerContext.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-accordion"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,Pte,5),vt(n,TN,5),vt(n,K5e,5)),2&t){let s;ut(s=pt())&&(i.headerTemplate=s.first),ut(s=pt())&&(i.itemTemplate=s.first),ut(s=pt())&&(i.childItems=s.first)}},inputs:{animation:"animation",dataSource:"dataSource",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",expandMode:"expandMode",expandedIndices:"expandedIndices",headerTemplate:"headerTemplate",height:"height",itemTemplate:"itemTemplate",items:"items",locale:"locale",width:"width"},outputs:{clicked:"clicked",created:"created",destroyed:"destroyed",expanded:"expanded",expanding:"expanding",expandedIndicesChange:"expandedIndicesChange"},features:[Gt],ngContentSelectors:kN,decls:1,vars:0,template:function(t,i){1&t&&(my(RN),vy(0))},encapsulation:2,changeDetection:0}),r})();MN([Ht(),FN("design:type",Object)],VR.prototype,"headerTemplate",void 0),MN([Ht(),FN("design:type",Object)],VR.prototype,"itemTemplate",void 0),VR=MN([So([nn]),FN("design:paramtypes",[mi,_i,$t,pi])],VR);let Z5e=["align","cssClass","disabled","htmlAttributes","id","overflow","prefixIcon","showAlwaysInPopup","showTextOn","suffixIcon","template","text","tooltipText","type","visible","width"],e4e=["click"],Nte=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(e4e),this.directivePropList=Z5e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-item"]],contentQueries:function(t,i,n){if(1&t&&vt(n,AN,5),2&t){let s;ut(s=pt())&&(i.template=s.first)}},inputs:{align:"align",cssClass:"cssClass",disabled:"disabled",htmlAttributes:"htmlAttributes",id:"id",overflow:"overflow",prefixIcon:"prefixIcon",showAlwaysInPopup:"showAlwaysInPopup",showTextOn:"showTextOn",suffixIcon:"suffixIcon",template:"template",text:"text",tooltipText:"tooltipText",type:"type",visible:"visible",width:"width"},outputs:{click:"click"},features:[Gt]}),r})();!function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);n>3&&s&&Object.defineProperty(e,t,s)}([Ht(),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],Nte.prototype,"template",void 0);let t4e=(()=>{class r extends rd{constructor(){super("items")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-items"]],contentQueries:function(t,i,n){if(1&t&&vt(n,Nte,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();const s4e=["beforeCreate","clicked","created","destroyed"],r4e=[""];let Vte=(()=>{let r=class extends Yl{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["items"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(s4e),this.addTwoWay.call(this,r4e),ns("currentInstance",this,this.viewContainerRef),this.containerContext=new nn}ngOnInit(){this.containerContext.ngOnInit(this)}ngAfterViewInit(){this.containerContext.ngAfterViewInit(this)}ngOnDestroy(){this.containerContext.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childItems,this.containerContext.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-toolbar"]],contentQueries:function(t,i,n){if(1&t&&vt(n,t4e,5),2&t){let s;ut(s=pt())&&(i.childItems=s.first)}},inputs:{allowKeyboard:"allowKeyboard",cssClass:"cssClass",enableCollision:"enableCollision",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",height:"height",items:"items",locale:"locale",overflowMode:"overflowMode",scrollStep:"scrollStep",width:"width"},outputs:{beforeCreate:"beforeCreate",clicked:"clicked",created:"created",destroyed:"destroyed"},features:[Gt],ngContentSelectors:kN,decls:1,vars:0,template:function(t,i){1&t&&(my(RN),vy(0))},encapsulation:2,changeDetection:0}),r})();Vte=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([So([nn]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[mi,_i,$t,pi])],Vte);const a4e=["beforeClose","beforeItemRender","beforeOpen","created","onClose","onOpen","select"],c4e=[""];let PN=(()=>{let r=class extends Za{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(a4e),this.addTwoWay.call(this,c4e),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-contextmenu"]],inputs:{animationSettings:"animationSettings",cssClass:"cssClass",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableScrolling:"enableScrolling",fields:"fields",filter:"filter",hoverDelay:"hoverDelay",items:"items",locale:"locale",showItemOnClick:"showItemOnClick",target:"target",template:"template"},outputs:{beforeClose:"beforeClose",beforeItemRender:"beforeItemRender",beforeOpen:"beforeOpen",created:"created",onClose:"onClose",onOpen:"onOpen",select:"select"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();PN=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([So([nn]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[mi,_i,$t,pi])],PN);let LN=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),d4e=["disabled","iconCss","text","url"],h4e=[],u4e=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(h4e),this.directivePropList=d4e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-breadcrumb-item"]],inputs:{disabled:"disabled",iconCss:"iconCss",text:"text",url:"url"},features:[Gt]}),r})(),p4e=(()=>{class r extends rd{constructor(){super("items")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-breadcrumb-items"]],contentQueries:function(t,i,n){if(1&t&&vt(n,u4e,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();var ON=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},BN=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const g4e=["beforeItemRender","created","itemClick","activeItemChange"],f4e=["activeItem"];let HR=(()=>{let r=class extends fa{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["items"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(g4e),this.addTwoWay.call(this,f4e),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childItems,this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-breadcrumb"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,B5e,5),vt(n,TN,5),vt(n,p4e,5)),2&t){let s;ut(s=pt())&&(i.separatorTemplate=s.first),ut(s=pt())&&(i.itemTemplate=s.first),ut(s=pt())&&(i.childItems=s.first)}},inputs:{activeItem:"activeItem",cssClass:"cssClass",disabled:"disabled",enableActiveItemNavigation:"enableActiveItemNavigation",enableNavigation:"enableNavigation",enablePersistence:"enablePersistence",enableRtl:"enableRtl",itemTemplate:"itemTemplate",items:"items",locale:"locale",maxItems:"maxItems",overflowMode:"overflowMode",separatorTemplate:"separatorTemplate",url:"url"},outputs:{beforeItemRender:"beforeItemRender",created:"created",itemClick:"itemClick",activeItemChange:"activeItemChange"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();ON([Ht(),BN("design:type",Object)],HR.prototype,"separatorTemplate",void 0),ON([Ht(),BN("design:type",Object)],HR.prototype,"itemTemplate",void 0),HR=ON([So([nn]),BN("design:paramtypes",[mi,_i,$t,pi])],HR);let y4e=["cssClass","htmlAttributes","interval","template"],x4e=[],jte=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(x4e),this.directivePropList=y4e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-carousel-item"]],contentQueries:function(t,i,n){if(1&t&&vt(n,AN,5),2&t){let s;ut(s=pt())&&(i.template=s.first)}},inputs:{cssClass:"cssClass",htmlAttributes:"htmlAttributes",interval:"interval",template:"template"},features:[Gt]}),r})();!function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);n>3&&s&&Object.defineProperty(e,t,s)}([Ht(),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],jte.prototype,"template",void 0);let C4e=(()=>{class r extends rd{constructor(){super("items")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-carousel-items"]],contentQueries:function(t,i,n){if(1&t&&vt(n,jte,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();var _C=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},SC=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const w4e=["slideChanged","slideChanging","selectedIndexChange"],b4e=["selectedIndex"];let cv=(()=>{let r=class extends eo{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["items"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(w4e),this.addTwoWay.call(this,b4e),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childItems,this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-carousel"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,N5e,5),vt(n,V5e,5),vt(n,H5e,5),vt(n,z5e,5),vt(n,TN,5),vt(n,C4e,5)),2&t){let s;ut(s=pt())&&(i.indicatorsTemplate=s.first),ut(s=pt())&&(i.nextButtonTemplate=s.first),ut(s=pt())&&(i.previousButtonTemplate=s.first),ut(s=pt())&&(i.playButtonTemplate=s.first),ut(s=pt())&&(i.itemTemplate=s.first),ut(s=pt())&&(i.childItems=s.first)}},inputs:{animation:"animation",autoPlay:"autoPlay",buttonsVisibility:"buttonsVisibility",cssClass:"cssClass",dataSource:"dataSource",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableTouchSwipe:"enableTouchSwipe",height:"height",htmlAttributes:"htmlAttributes",indicatorsTemplate:"indicatorsTemplate",interval:"interval",itemTemplate:"itemTemplate",items:"items",locale:"locale",loop:"loop",nextButtonTemplate:"nextButtonTemplate",playButtonTemplate:"playButtonTemplate",previousButtonTemplate:"previousButtonTemplate",selectedIndex:"selectedIndex",showIndicators:"showIndicators",showPlayButton:"showPlayButton",width:"width"},outputs:{slideChanged:"slideChanged",slideChanging:"slideChanging",selectedIndexChange:"selectedIndexChange"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();_C([Ht(),SC("design:type",Object)],cv.prototype,"indicatorsTemplate",void 0),_C([Ht(),SC("design:type",Object)],cv.prototype,"nextButtonTemplate",void 0),_C([Ht(),SC("design:type",Object)],cv.prototype,"previousButtonTemplate",void 0),_C([Ht(),SC("design:type",Object)],cv.prototype,"playButtonTemplate",void 0),_C([Ht(),SC("design:type",Object)],cv.prototype,"itemTemplate",void 0),cv=_C([So([nn]),SC("design:paramtypes",[mi,_i,$t,pi])],cv);var NN=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},VN=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};let _4e=["content","cssClass","disabled","header","headerTemplate","id","visible"],S4e=[],zR=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(S4e),this.directivePropList=_4e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-tabitem"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,Fte,5),vt(n,j5e,5),vt(n,Pte,5)),2&t){let s;ut(s=pt())&&(i.content=s.first),ut(s=pt())&&(i.header_text=s.first),ut(s=pt())&&(i.headerTemplate=s.first)}},inputs:{content:"content",cssClass:"cssClass",disabled:"disabled",header:"header",headerTemplate:"headerTemplate",id:"id",visible:"visible"},features:[Gt]}),r})();NN([Ht(),VN("design:type",Object)],zR.prototype,"content",void 0),NN([Ht(),VN("design:type",Object)],zR.prototype,"header_text",void 0),NN([Ht(),VN("design:type",Object)],zR.prototype,"headerTemplate",void 0);let I4e=(()=>{class r extends rd{constructor(){super("items")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-tabitems"]],contentQueries:function(t,i,n){if(1&t&&vt(n,zR,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();const T4e=["added","adding","created","destroyed","dragged","dragging","onDragStart","removed","removing","selected","selecting"],R4e=[""];let qte=(()=>{let r=class extends Gs{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["items"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(T4e),this.addTwoWay.call(this,R4e),ns("currentInstance",this,this.viewContainerRef),this.containerContext=new nn}ngOnInit(){this.containerContext.ngOnInit(this)}ngAfterViewInit(){this.containerContext.ngAfterViewInit(this)}ngOnDestroy(){this.containerContext.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childItems,this.containerContext.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-tab"]],contentQueries:function(t,i,n){if(1&t&&vt(n,I4e,5),2&t){let s;ut(s=pt())&&(i.childItems=s.first)}},inputs:{allowDragAndDrop:"allowDragAndDrop",animation:"animation",cssClass:"cssClass",dragArea:"dragArea",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",headerPlacement:"headerPlacement",height:"height",heightAdjustMode:"heightAdjustMode",items:"items",loadOn:"loadOn",locale:"locale",overflowMode:"overflowMode",reorderActiveTab:"reorderActiveTab",scrollStep:"scrollStep",selectedItem:"selectedItem",showCloseButton:"showCloseButton",width:"width"},outputs:{added:"added",adding:"adding",created:"created",destroyed:"destroyed",dragged:"dragged",dragging:"dragging",onDragStart:"onDragStart",removed:"removed",removing:"removing",selected:"selected",selecting:"selecting"},features:[Gt],ngContentSelectors:kN,decls:1,vars:0,template:function(t,i){1&t&&(my(RN),vy(0))},encapsulation:2,changeDetection:0}),r})();qte=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([So([nn]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[mi,_i,$t,pi])],qte);var Ute=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},$te=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const k4e=["actionFailure","created","dataBound","dataSourceChanged","destroyed","drawNode","keyPress","nodeChecked","nodeChecking","nodeClicked","nodeCollapsed","nodeCollapsing","nodeDragStart","nodeDragStop","nodeDragging","nodeDropped","nodeEdited","nodeEditing","nodeExpanded","nodeExpanding","nodeSelected","nodeSelecting"],A4e=[""];let HN=(()=>{let r=class extends Yi{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(k4e),this.addTwoWay.call(this,A4e),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-treeview"]],contentQueries:function(t,i,n){if(1&t&&vt(n,G5e,5),2&t){let s;ut(s=pt())&&(i.nodeTemplate=s.first)}},inputs:{allowDragAndDrop:"allowDragAndDrop",allowEditing:"allowEditing",allowMultiSelection:"allowMultiSelection",allowTextWrap:"allowTextWrap",animation:"animation",autoCheck:"autoCheck",checkedNodes:"checkedNodes",cssClass:"cssClass",disabled:"disabled",dragArea:"dragArea",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",expandOn:"expandOn",expandedNodes:"expandedNodes",fields:"fields",fullRowNavigable:"fullRowNavigable",fullRowSelect:"fullRowSelect",loadOnDemand:"loadOnDemand",locale:"locale",nodeTemplate:"nodeTemplate",selectedNodes:"selectedNodes",showCheckBox:"showCheckBox",sortOrder:"sortOrder"},outputs:{actionFailure:"actionFailure",created:"created",dataBound:"dataBound",dataSourceChanged:"dataSourceChanged",destroyed:"destroyed",drawNode:"drawNode",keyPress:"keyPress",nodeChecked:"nodeChecked",nodeChecking:"nodeChecking",nodeClicked:"nodeClicked",nodeCollapsed:"nodeCollapsed",nodeCollapsing:"nodeCollapsing",nodeDragStart:"nodeDragStart",nodeDragStop:"nodeDragStop",nodeDragging:"nodeDragging",nodeDropped:"nodeDropped",nodeEdited:"nodeEdited",nodeEditing:"nodeEditing",nodeExpanded:"nodeExpanded",nodeExpanding:"nodeExpanding",nodeSelected:"nodeSelected",nodeSelecting:"nodeSelecting"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();Ute([Ht(),$te("design:type",Object)],HN.prototype,"nodeTemplate",void 0),HN=Ute([So([nn]),$te("design:paramtypes",[mi,_i,$t,pi])],HN);const P4e=["change","close","created","destroyed","open","isOpenChange"],L4e=["isOpen"];let Yte=(()=>{let r=class extends Zr{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(P4e),this.addTwoWay.call(this,L4e),ns("currentInstance",this,this.viewContainerRef),this.containerContext=new nn}ngOnInit(){this.containerContext.ngOnInit(this)}ngAfterViewInit(){this.containerContext.ngAfterViewInit(this)}ngOnDestroy(){this.containerContext.ngOnDestroy(this)}ngAfterContentChecked(){this.containerContext.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-sidebar"]],inputs:{animate:"animate",closeOnDocumentClick:"closeOnDocumentClick",dockSize:"dockSize",enableDock:"enableDock",enableGestures:"enableGestures",enablePersistence:"enablePersistence",enableRtl:"enableRtl",height:"height",isOpen:"isOpen",locale:"locale",mediaQuery:"mediaQuery",position:"position",showBackdrop:"showBackdrop",target:"target",type:"type",width:"width",zIndex:"zIndex"},outputs:{change:"change",close:"close",created:"created",destroyed:"destroyed",open:"open",isOpenChange:"isOpenChange"},features:[Gt],ngContentSelectors:q5e,decls:1,vars:0,template:function(t,i){1&t&&(my(),vy(0))},encapsulation:2,changeDetection:0}),r})();Yte=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([So([nn]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[mi,_i,$t,pi])],Yte);let O4e=["iconCss","id","items","separator","text","url"],B4e=[],N4e=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(B4e),this.directivePropList=O4e}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-menu-item"]],inputs:{iconCss:"iconCss",id:"id",items:"items",separator:"separator",text:"text",url:"url"},features:[Gt]}),r})(),V4e=(()=>{class r extends rd{constructor(){super("items")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-menu-items"]],contentQueries:function(t,i,n){if(1&t&&vt(n,N4e,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();var Xte=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Jte=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const H4e=["beforeClose","beforeItemRender","beforeOpen","created","onClose","onOpen","select"],z4e=[""];let zN=(()=>{let r=class extends Cu{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["items"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(H4e),this.addTwoWay.call(this,z4e),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childItems,this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-menu"]],contentQueries:function(t,i,n){if(1&t&&(vt(n,AN,5),vt(n,V4e,5)),2&t){let s;ut(s=pt())&&(i.template=s.first),ut(s=pt())&&(i.childItems=s.first)}},inputs:{animationSettings:"animationSettings",cssClass:"cssClass",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableScrolling:"enableScrolling",fields:"fields",filter:"filter",hamburgerMode:"hamburgerMode",hoverDelay:"hoverDelay",items:"items",locale:"locale",orientation:"orientation",showItemOnClick:"showItemOnClick",target:"target",template:"template",title:"title"},outputs:{beforeClose:"beforeClose",beforeItemRender:"beforeItemRender",beforeOpen:"beforeOpen",created:"created",onClose:"onClose",onOpen:"onOpen",select:"select"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();Xte([Ht(),Jte("design:type",Object)],zN.prototype,"template",void 0),zN=Xte([So([nn]),Jte("design:paramtypes",[mi,_i,$t,pi])],zN);const j4e=["treegrid"],G4e=["grid"],q4e=["contextmenu"],W4e=["headercontextmenu"];let U4e=(()=>{class r{constructor(t,i,n){this.api=t,this.http=i,this.socketService=n,this.title="testaskk",this.modal=!0,this.menuItems=[{text:"Save Grid Changes"},{text:"Print Preview"},{text:"Show Summary"},{text:"Paste"}],this.headermenuItems=[{text:"Hide Column",id:"hide"},{text:"UnHide Column",id:"unhide"},{text:"Add Column",id:"addCol"},{text:"Edit Column",id:"editCol"},{text:"View Column",id:"viewCol"}],this.onOpenDialog=()=>{this.DialogObj=lb.confirm({title:"Add Column Details",content:'\n  <input type="text" id="form12" class="form-control" placeholder="Column Name" />\n  <br><br>\n  <div class="dropdown">\n  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n    Dropdown button\n  </button>\n  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">\n  <a class="dropdown-item" href="#">Number</a>\n  <a class="dropdown-item" href="#">String action</a>\n  <a class="dropdown-item" href="#">Boolean</a>\n  </div>\n  <div class="dropdown-menu">\n  <a class="dropdown-item" href="#">Regular link</a>\n  <a class="dropdown-item active" href="#">Active link</a>\n  <a class="dropdown-item" href="#">Another link</a>\n</div>\n</div>\n    ',okButton:{text:"OK"},cancelButton:{text:"Cancel",click:this.cancelClick.bind(this)},showCloseIcon:!0,closeOnEscape:!0,animationSettings:{effect:"Zoom"}})},this.onOpenDialogEdit=()=>{this.DialogObj=lb.confirm({title:"Edit Column Details",content:'\n<input type="text" id="form12" class="form-control" placeholder="Column Name" />\n<br><br>\n<div class="dropdown">\n<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n  Dropdown button\n</button>\n<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">\n<a class="dropdown-item" href="#">Number</a>\n<a class="dropdown-item" href="#">String action</a>\n<a class="dropdown-item" href="#">Boolean</a>\n</div>\n<div class="dropdown-menu">\n<a class="dropdown-item" href="#">Regular link</a>\n<a class="dropdown-item active" href="#">Active link</a>\n<a class="dropdown-item" href="#">Another link</a>\n</div>\n</div>\n  ',okButton:{text:"OK"},cancelButton:{text:"Cancel",click:this.cancelClick.bind(this)},showCloseIcon:!0,closeOnEscape:!0,animationSettings:{effect:"Zoom"}})},this.onOpenDialogView=()=>{this.DialogObj=lb.confirm({title:"View Details",content:"\n<ejs-treegrid [dataSource]='data'></ejs-treegrid>\n  ",okButton:{text:"OK",click:this.okClick.bind(this)},cancelButton:{text:"Cancel",click:this.cancelClick.bind(this)},showCloseIcon:!0,closeOnEscape:!0,animationSettings:{effect:"Zoom"}})},this.contextMenuSettings={showContextMenu:!0,contextMenuItems:["add","edit","delete"]}}ngOnInit(){this.api.getAll().subscribe(t=>{this.data=t.filter(i=>i),console.log("data",this.data)}),this.selectionSettings={type:"Multiple"},this.sortSettings={columns:[{field:"taskName",direction:"Ascending"},{field:"taskID",direction:"Descending"}]},this.pageSettings={pageSize:6},this.editOptions={params:{format:"y/M/d"}},this.editSettings={allowEditing:!0,allowAdding:!0,allowDeleting:!0,mode:"Dialog"},this.toolbar=["Add","Edit","Delete","Update","Cancel","Search"],this.toolbar1=["Add","Edit"],this.editSettings1={allowEditing:!0,allowAdding:!0,mode:"Dialog"},this.orderidrules={required:!0,number:!0},this.customeridrules={required:!0},this.freightrules={required:!0},this.contextMenuItems=["AutoFit","AutoFitAll","SortAscending","SortDescending","Edit","Delete","Save","Cancel","PdfExport","ExcelExport","CsvExport","FirstPage","PrevPage","LastPage","NextPage"],this.selectionSettings={type:"Multiple"},this.socketService.setupSocketConnection(),this.filterSettings={type:"FilterBar",hierarchyMode:"Parent",mode:"Immediate"},this.filterBarTemplate={create:t=>{let i=document.createElement("input");return i.id="duration",i},write:t=>{this.dropDownFilter=new Sn({dataSource:["All","1","3","4","5","6","8","9"],value:"All",change:n=>{let o=this.dropDownFilter.element.id;"All"!==n.value?this.treeGridObj.filterByColumn(o,"equal",+n.value):this.treeGridObj.removeFilteredColsByField(o)}}),this.dropDownFilter.appendTo("#duration")}}}actionComplete(t){if("beginEdit"===t.requestType||"add"===t.requestType){let n=t;t.dialog.height=400,console.log("dialog args val",n)}}getVal(t){alert(t)}dataSourceChanged(t){"add"===t.action&&this.api.addRecord(t).subscribe(()=>{}),"edit"===t.action&&this.api.updateRecord(t,t.data.id).subscribe(()=>{}),"delete"===t.requestType&&this.api.deleteRecord(t,t.data.id).subscribe(()=>{})}beforeOpen(t){this.headercontextmenu.showItems(["Sort Column","Clear Sort","UnHide Column","Hide Column"]),Se(t.event.target,"first",!0)?1==this.grid.getColumnByField("name").visible?this.headercontextmenu.hideItems(["UnHide Column","Sort Column","Clear Sort"]):(this.headercontextmenu.hideItems(["Hide Column","Sort Column","Clear Sort"]),this.headercontextmenu.showItems(["UnHide Column"])):(this.headercontextmenu.hideItems(["UnHide Column","Hide Column"]),this.headercontextmenu.showItems(["Sort Column","Clear Sort"]))}select(t){this.selectitem=t.item.text,"Hide Column"===t.item.text&&(this.grid.getColumnByField("name").visible=!1),"UnHide Column"===t.item.text&&(this.grid.getColumnByField("name").visible=!0),"Add Column"===t.item.text&&(console.log("add"),this.onOpenDialog()),"Edit Column"===t.item.text&&(console.log("edit"),this.onOpenDialogEdit()),"View Column"===t.item.text&&(console.log("view"),this.onOpenDialogView())}itemBeforeEvent(t){var i;if("Edit"!==t.item.text){let n=document.createElement("span"),s=t.item.text;t.element.textContent="",this.inputEle=document.createElement("input"),this.inputEle.type="checkbox",this.inputEle.setAttribute("class","e-checkbox"),n.innerText=s,t.element.appendChild(this.inputEle),t.element.appendChild(n)}if((null===(i=this.inputEle)||void 0===i?void 0:i.checked)&&(console.log("checked"),this.onOpenDialog()),"Hide column"==t.item.text){let n=document.createElement("input");n.type="checkbox",n.setAttribute("class","e-column"),t.element.appendChild(n)}}onSelect(t){if(!t.event.target.classList.contains("e-checkbox")&&"Edit"!==t.item.text){var i=t.element.querySelector(".e-checkbox");i.checked=!i.checked}"Edit"===t.item.text&&(this.grid.getSelectedRecords().length?(this.grid.startEdit(),console.log("checked")):alert("Select any row")),this.selectitem=t.item.text,"Hide Column"===t.item.text&&(this.grid.getColumnByField("name").visible=!1),"UnHide Column"===t.item.text&&(this.grid.getColumnByField("name").visible=!0),"Add Column"===t.item.text&&(null==i?void 0:i.checked)&&(console.log("add column "),this.onOpenDialog()),"Edit Column"===t.item.text&&(this.grid.getColumnByField("name").visible=!0),"View Column"===t.item.text&&(this.grid.getColumnByField("name").visible=!1,this.grid.refreshColumns())}okClick(){alert("you clicked OK button")}cancelClick(){this.DialogObj.hide()}}return r.\u0275fac=function(t){return new(t||r)(Te(Jee),Te(hN),Te(bte))},r.\u0275cmp=Lr({type:r,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&(Lw(j4e,5),Lw(G4e,5),Lw(q4e,5),Lw(W4e,5)),2&t){let n;ut(n=pt())&&(i.treegrid=n.first),ut(n=pt())&&(i.grid=n.first),ut(n=pt())&&(i.contextmenu=n.first),ut(n=pt())&&(i.headercontextmenu=n.first)}},features:[ps([PJ,FJ,LJ])],decls:11,vars:20,consts:[["Save","getVal($event)","idMapping","id","parentIdMapping","parentID","allowSelection","true","itemBeforeEvent","{this.itemBeforeEvent.bind(this)}",3,"dataSource","treeColumnIndex","allowFiltering","sortSettings","allowSorting","pageSettings","height","editSettings","toolbar","contextMenuItems","selectionSettings","filterSettings","actionComplete","dataSourceChanged","beforeOpen","select"],["field","id","headerText","Student ID","textAlign","Centre","width","70","isPrimaryKey","true","type","number",3,"showColumnMenu","validationRules"],["field","name","headerText","Student Name","textAlign","Left","width","200",3,"validationRules"],["field","roll_no","headerText","Roll Number","textAlign","Left","width","90"],["field","class","headerText","Class","textAlign","Left","width","80",3,"filterBarTemplate"],["id","contextmenu","target",".e-content",3,"items","select","beforeItemRender"],["contextmenu",""],["target",".e-gridheader",3,"items","beforeItemRender","select"],["headercontextmenu",""]],template:function(t,i){1&t&&(zm(0,"ejs-treegrid",0),Jc("actionComplete",function(s){return i.dataSourceChanged(s)})("dataSourceChanged",function(s){return i.dataSourceChanged(s)})("beforeOpen",function(s){return i.beforeOpen(s)})("select",function(s){return i.onSelect(s)}),zm(1,"e-columns"),mF(2,"e-column",1)(3,"e-column",2)(4,"e-column",3)(5,"e-column",4),fy()(),zm(6,"ejs-contextmenu",5,6),Jc("select",function(s){return i.onSelect(s)})("beforeItemRender",function(s){return i.itemBeforeEvent(s)}),fy(),zm(8,"div")(9,"ejs-contextmenu",7,8),Jc("beforeItemRender",function(s){return i.itemBeforeEvent(s)})("select",function(s){return i.select(s)}),fy()()),2&t&&(rf("dataSource",i.data)("treeColumnIndex",1)("allowFiltering",!0)("sortSettings",i.sortSettings)("allowSorting",!0)("pageSettings",i.pageSettings)("treeColumnIndex",1)("height",265)("editSettings",i.editSettings)("toolbar",i.toolbar)("contextMenuItems",i.contextMenuItems)("selectionSettings",i.selectionSettings)("allowFiltering",!0)("filterSettings",i.filterSettings),Jv(2),rf("showColumnMenu",!0)("validationRules",i.orderidrules),Jv(1),rf("validationRules",i.customeridrules),Jv(2),rf("filterBarTemplate",i.filterBarTemplate),Jv(1),rf("items",i.menuItems),Jv(3),rf("items",i.headermenuItems))},directives:[Zf,TJ,RJ,Tte,Rte,EJ,H4,pm,G_,PN],styles:[".grid__wrapper[_ngcontent-%COMP%]{margin:10px}e-columns[_ngcontent-%COMP%]:nth-child(even){background-color:#f0f8ff}"]}),r})();const ia=new Ui("NgValueAccessor");const Sa=new Ui("NgValidators");function rie(r){return function fm(r){return null==r||0===r.length}(r.value)?{required:!0}:null}function oie(r){return!0===r.value?null:{required:!0}}function jR(r){return null}let jie=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})();const rV=new Ui("NgModelWithFormControlWarning");let hv=(()=>{class r{constructor(){this._validator=jR}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):jR,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,features:[tp]}),r})();const QBe={provide:Sa,useExisting:jn(()=>hV),multi:!0},XBe={provide:Sa,useExisting:jn(()=>XR),multi:!0};let hV=(()=>{class r extends hv{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function $Be(r){return null!=r&&!1!==r&&"false"!=`${r}`}(t),this.createValidator=t=>rie}enabled(t){return t}}return r.\u0275fac=function(){let e;return function(i){return(e||(e=Nl(r)))(i||r)}}(),r.\u0275dir=Qt({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&Kp("required",i._enabled?"":null)},inputs:{required:"required"},features:[ps([QBe]),Gt]}),r})(),XR=(()=>{class r extends hV{constructor(){super(...arguments),this.createValidator=t=>oie}}return r.\u0275fac=function(){let e;return function(i){return(e||(e=Nl(r)))(i||r)}}(),r.\u0275dir=Qt({type:r,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&Kp("required",i._enabled?"":null)},features:[ps([XBe]),Gt]}),r})(),sne=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[jie]]}),r})(),Gg=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[sne]}),r})(),rne=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:rV,useValue:t.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[sne]}),r})(),uV=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})();const dNe=["focus","blur","change","created","checkedChange","indeterminateChange"],hNe=["checked","indeterminate"];let uv=pV=class extends Gl{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(dNe),this.addTwoWay.call(this,hNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var pV;uv.\u0275fac=function(e){return new(e||uv)(Te(mi),Te(_i),Te($t),Te(pi))},uv.\u0275cmp=Lr({type:uv,selectors:[["ejs-checkbox"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",htmlAttributes:"htmlAttributes",indeterminate:"indeterminate",label:"label",labelPosition:"labelPosition",locale:"locale",name:"name",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",checkedChange:"checkedChange",indeterminateChange:"indeterminateChange"},features:[ps([{provide:ia,useExisting:jn(()=>pV),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),uv.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],uv=pV=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([So([nn,aa]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[mi,_i,$t,pi])],uv);let one=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),uNe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[],imports:[[Kt,one],one]}),r})();const fNe=["focus","blur","change","created","valueChange"],mNe=["value"];let pv=gV=class extends da{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(fNe),this.addTwoWay.call(this,mNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var gV;pv.\u0275fac=function(e){return new(e||pv)(Te(mi),Te(_i),Te($t),Te(pi))},pv.\u0275cmp=Lr({type:pv,selectors:[["ejs-radiobutton"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",htmlAttributes:"htmlAttributes",label:"label",labelPosition:"labelPosition",locale:"locale",name:"name",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",valueChange:"valueChange"},features:[ps([{provide:ia,useExisting:jn(()=>gV),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),pv.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],pv=gV=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([So([nn,aa]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[mi,_i,$t,pi])],pv);const xNe=["focus","blur","change","created","checkedChange"],CNe=["checked"];let gv=fV=class extends bh{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(xNe),this.addTwoWay.call(this,CNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var fV;gv.\u0275fac=function(e){return new(e||gv)(Te(mi),Te(_i),Te($t),Te(pi))},gv.\u0275cmp=Lr({type:gv,selectors:[["ejs-switch"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enablePersistence:"enablePersistence",enableRtl:"enableRtl",locale:"locale",name:"name",offLabel:"offLabel",onLabel:"onLabel",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",checkedChange:"checkedChange"},features:[ps([{provide:ia,useExisting:jn(()=>fV),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),gv.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],gv=fV=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([So([nn,aa]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[mi,_i,$t,pi])],gv);let wNe=["avatarIconCss","avatarText","cssClass","enabled","leadingIconCss","leadingIconUrl","text","trailingIconCss","trailingIconUrl","value"],bNe=[],_Ne=(()=>{class r extends sd{constructor(t){super(),this.viewContainerRef=t,ns("currentInstance",this,this.viewContainerRef),this.registerEvents(bNe),this.directivePropList=wNe}}return r.\u0275fac=function(t){return new(t||r)(Te($t))},r.\u0275dir=Qt({type:r,selectors:[["e-chip"]],inputs:{avatarIconCss:"avatarIconCss",avatarText:"avatarText",cssClass:"cssClass",enabled:"enabled",leadingIconCss:"leadingIconCss",leadingIconUrl:"leadingIconUrl",text:"text",trailingIconCss:"trailingIconCss",trailingIconUrl:"trailingIconUrl",value:"value"},features:[Gt]}),r})(),SNe=(()=>{class r extends rd{constructor(){super("chips")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=Qt({type:r,selectors:[["e-chips"]],contentQueries:function(t,i,n){if(1&t&&vt(n,_Ne,4),2&t){let s;ut(s=pt())&&(i.children=s)}},features:[Gt]}),r})();const ENe=["beforeClick","click","created","delete","deleted"],TNe=[""];let cne=(()=>{let r=class extends il{constructor(t,i,n,s){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=n,this.injector=s,this.tags=["chips"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(ENe),this.addTwoWay.call(this,TNe),ns("currentInstance",this,this.viewContainerRef),this.context=new nn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childChips,this.context.ngAfterContentChecked(this)}};return r.\u0275fac=function(t){return new(t||r)(Te(mi),Te(_i),Te($t),Te(pi))},r.\u0275cmp=Lr({type:r,selectors:[["ejs-chiplist"]],contentQueries:function(t,i,n){if(1&t&&vt(n,SNe,5),2&t){let s;ut(s=pt())&&(i.childChips=s.first)}},inputs:{avatarIconCss:"avatarIconCss",avatarText:"avatarText",chips:"chips",cssClass:"cssClass",enableDelete:"enableDelete",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",leadingIconCss:"leadingIconCss",leadingIconUrl:"leadingIconUrl",locale:"locale",selectedChips:"selectedChips",selection:"selection",text:"text",trailingIconCss:"trailingIconCss",trailingIconUrl:"trailingIconUrl"},outputs:{beforeClick:"beforeClick",click:"click",created:"created",delete:"delete",deleted:"deleted"},features:[Gt],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),r})();cne=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([So([nn]),function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[mi,_i,$t,pi])],cne);const K_=["footerTemplate"],Y_=["headerTemplate"],hne=["valueTemplate"],JR=["groupTemplate"],DC=["itemTemplate"],EC=["noRecordsTemplate"],Q_=["actionFailureTemplate"];var ym=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},xm=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const RNe=["actionBegin","actionComplete","actionFailure","beforeOpen","blur","change","close","created","dataBound","destroyed","filtering","focus","open","select","valueChange"],kNe=["value"];let Hc=mV=class extends Sn{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(RNe),this.addTwoWay.call(this,kNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var mV;Hc.\u0275fac=function(e){return new(e||Hc)(Te(mi),Te(_i),Te($t),Te(pi))},Hc.\u0275cmp=Lr({type:Hc,selectors:[["ejs-dropdownlist"]],contentQueries:function(e,t,i){if(1&e&&(vt(i,K_,5),vt(i,Y_,5),vt(i,hne,5),vt(i,JR,5),vt(i,DC,5),vt(i,EC,5),vt(i,Q_,5)),2&e){let n;ut(n=pt())&&(t.footerTemplate=n.first),ut(n=pt())&&(t.headerTemplate=n.first),ut(n=pt())&&(t.valueTemplate=n.first),ut(n=pt())&&(t.groupTemplate=n.first),ut(n=pt())&&(t.itemTemplate=n.first),ut(n=pt())&&(t.noRecordsTemplate=n.first),ut(n=pt())&&(t.actionFailureTemplate=n.first)}},inputs:{actionFailureTemplate:"actionFailureTemplate",allowFiltering:"allowFiltering",cssClass:"cssClass",dataSource:"dataSource",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",fields:"fields",filterBarPlaceholder:"filterBarPlaceholder",filterType:"filterType",floatLabelType:"floatLabelType",footerTemplate:"footerTemplate",groupTemplate:"groupTemplate",headerTemplate:"headerTemplate",htmlAttributes:"htmlAttributes",ignoreAccent:"ignoreAccent",ignoreCase:"ignoreCase",index:"index",itemTemplate:"itemTemplate",locale:"locale",noRecordsTemplate:"noRecordsTemplate",placeholder:"placeholder",popupHeight:"popupHeight",popupWidth:"popupWidth",query:"query",readonly:"readonly",showClearButton:"showClearButton",sortOrder:"sortOrder",text:"text",value:"value",valueTemplate:"valueTemplate",width:"width",zIndex:"zIndex"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",beforeOpen:"beforeOpen",blur:"blur",change:"change",close:"close",created:"created",dataBound:"dataBound",destroyed:"destroyed",filtering:"filtering",focus:"focus",open:"open",select:"select",valueChange:"valueChange"},features:[ps([{provide:ia,useExisting:jn(()=>mV),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Hc.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],Hc.propDecorators={footerTemplate:[{type:Rs,args:["footerTemplate"]}],headerTemplate:[{type:Rs,args:["headerTemplate"]}],valueTemplate:[{type:Rs,args:["valueTemplate"]}],groupTemplate:[{type:Rs,args:["groupTemplate"]}],itemTemplate:[{type:Rs,args:["itemTemplate"]}],noRecordsTemplate:[{type:Rs,args:["noRecordsTemplate"]}],actionFailureTemplate:[{type:Rs,args:["actionFailureTemplate"]}]},ym([Ht(),xm("design:type",Object)],Hc.prototype,"footerTemplate",void 0),ym([Ht(),xm("design:type",Object)],Hc.prototype,"headerTemplate",void 0),ym([Ht(),xm("design:type",Object)],Hc.prototype,"valueTemplate",void 0),ym([Ht(),xm("design:type",Object)],Hc.prototype,"groupTemplate",void 0),ym([Ht(),xm("design:type",Object)],Hc.prototype,"itemTemplate",void 0),ym([Ht("No records found"),xm("design:type",Object)],Hc.prototype,"noRecordsTemplate",void 0),ym([Ht("Request failed"),xm("design:type",Object)],Hc.prototype,"actionFailureTemplate",void 0),Hc=mV=ym([So([nn,aa]),xm("design:paramtypes",[mi,_i,$t,pi])],Hc);let une=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),ANe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[],imports:[[Kt,une],une]}),r})();var fv=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},mv=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const MNe=["actionBegin","actionComplete","actionFailure","beforeOpen","blur","change","close","created","customValueSpecifier","dataBound","destroyed","filtering","focus","open","select","valueChange"],FNe=["value"];let xd=vV=class extends kr{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(MNe),this.addTwoWay.call(this,FNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var vV;xd.\u0275fac=function(e){return new(e||xd)(Te(mi),Te(_i),Te($t),Te(pi))},xd.\u0275cmp=Lr({type:xd,selectors:[["ejs-combobox"]],contentQueries:function(e,t,i){if(1&e&&(vt(i,K_,5),vt(i,Y_,5),vt(i,JR,5),vt(i,DC,5),vt(i,EC,5),vt(i,Q_,5)),2&e){let n;ut(n=pt())&&(t.footerTemplate=n.first),ut(n=pt())&&(t.headerTemplate=n.first),ut(n=pt())&&(t.groupTemplate=n.first),ut(n=pt())&&(t.itemTemplate=n.first),ut(n=pt())&&(t.noRecordsTemplate=n.first),ut(n=pt())&&(t.actionFailureTemplate=n.first)}},inputs:{actionFailureTemplate:"actionFailureTemplate",allowCustom:"allowCustom",allowFiltering:"allowFiltering",autofill:"autofill",cssClass:"cssClass",dataSource:"dataSource",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",fields:"fields",filterBarPlaceholder:"filterBarPlaceholder",filterType:"filterType",floatLabelType:"floatLabelType",footerTemplate:"footerTemplate",groupTemplate:"groupTemplate",headerTemplate:"headerTemplate",htmlAttributes:"htmlAttributes",ignoreAccent:"ignoreAccent",ignoreCase:"ignoreCase",index:"index",itemTemplate:"itemTemplate",locale:"locale",noRecordsTemplate:"noRecordsTemplate",placeholder:"placeholder",popupHeight:"popupHeight",popupWidth:"popupWidth",query:"query",readonly:"readonly",showClearButton:"showClearButton",sortOrder:"sortOrder",text:"text",value:"value",valueTemplate:"valueTemplate",width:"width",zIndex:"zIndex"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",beforeOpen:"beforeOpen",blur:"blur",change:"change",close:"close",created:"created",customValueSpecifier:"customValueSpecifier",dataBound:"dataBound",destroyed:"destroyed",filtering:"filtering",focus:"focus",open:"open",select:"select",valueChange:"valueChange"},features:[ps([{provide:ia,useExisting:jn(()=>vV),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),xd.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],xd.propDecorators={footerTemplate:[{type:Rs,args:["footerTemplate"]}],headerTemplate:[{type:Rs,args:["headerTemplate"]}],groupTemplate:[{type:Rs,args:["groupTemplate"]}],itemTemplate:[{type:Rs,args:["itemTemplate"]}],noRecordsTemplate:[{type:Rs,args:["noRecordsTemplate"]}],actionFailureTemplate:[{type:Rs,args:["actionFailureTemplate"]}]},fv([Ht(),mv("design:type",Object)],xd.prototype,"footerTemplate",void 0),fv([Ht(),mv("design:type",Object)],xd.prototype,"headerTemplate",void 0),fv([Ht(),mv("design:type",Object)],xd.prototype,"groupTemplate",void 0),fv([Ht(),mv("design:type",Object)],xd.prototype,"itemTemplate",void 0),fv([Ht("No records found"),mv("design:type",Object)],xd.prototype,"noRecordsTemplate",void 0),fv([Ht("Request failed"),mv("design:type",Object)],xd.prototype,"actionFailureTemplate",void 0),xd=vV=fv([So([nn,aa]),mv("design:paramtypes",[mi,_i,$t,pi])],xd);var vv=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},yv=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const PNe=["actionBegin","actionComplete","actionFailure","beforeOpen","blur","change","close","created","customValueSpecifier","dataBound","destroyed","filtering","focus","open","select","valueChange"],LNe=["value"];let Cd=yV=class extends ko{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(PNe),this.addTwoWay.call(this,LNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var yV;Cd.\u0275fac=function(e){return new(e||Cd)(Te(mi),Te(_i),Te($t),Te(pi))},Cd.\u0275cmp=Lr({type:Cd,selectors:[["ejs-autocomplete"]],contentQueries:function(e,t,i){if(1&e&&(vt(i,K_,5),vt(i,Y_,5),vt(i,JR,5),vt(i,DC,5),vt(i,EC,5),vt(i,Q_,5)),2&e){let n;ut(n=pt())&&(t.footerTemplate=n.first),ut(n=pt())&&(t.headerTemplate=n.first),ut(n=pt())&&(t.groupTemplate=n.first),ut(n=pt())&&(t.itemTemplate=n.first),ut(n=pt())&&(t.noRecordsTemplate=n.first),ut(n=pt())&&(t.actionFailureTemplate=n.first)}},inputs:{actionFailureTemplate:"actionFailureTemplate",allowCustom:"allowCustom",allowFiltering:"allowFiltering",autofill:"autofill",cssClass:"cssClass",dataSource:"dataSource",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",fields:"fields",filterBarPlaceholder:"filterBarPlaceholder",filterType:"filterType",floatLabelType:"floatLabelType",footerTemplate:"footerTemplate",groupTemplate:"groupTemplate",headerTemplate:"headerTemplate",highlight:"highlight",htmlAttributes:"htmlAttributes",ignoreAccent:"ignoreAccent",ignoreCase:"ignoreCase",index:"index",itemTemplate:"itemTemplate",locale:"locale",minLength:"minLength",noRecordsTemplate:"noRecordsTemplate",placeholder:"placeholder",popupHeight:"popupHeight",popupWidth:"popupWidth",query:"query",readonly:"readonly",showClearButton:"showClearButton",showPopupButton:"showPopupButton",sortOrder:"sortOrder",suggestionCount:"suggestionCount",text:"text",value:"value",valueTemplate:"valueTemplate",width:"width",zIndex:"zIndex"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",beforeOpen:"beforeOpen",blur:"blur",change:"change",close:"close",created:"created",customValueSpecifier:"customValueSpecifier",dataBound:"dataBound",destroyed:"destroyed",filtering:"filtering",focus:"focus",open:"open",select:"select",valueChange:"valueChange"},features:[ps([{provide:ia,useExisting:jn(()=>yV),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Cd.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],Cd.propDecorators={footerTemplate:[{type:Rs,args:["footerTemplate"]}],headerTemplate:[{type:Rs,args:["headerTemplate"]}],groupTemplate:[{type:Rs,args:["groupTemplate"]}],itemTemplate:[{type:Rs,args:["itemTemplate"]}],noRecordsTemplate:[{type:Rs,args:["noRecordsTemplate"]}],actionFailureTemplate:[{type:Rs,args:["actionFailureTemplate"]}]},vv([Ht(),yv("design:type",Object)],Cd.prototype,"footerTemplate",void 0),vv([Ht(),yv("design:type",Object)],Cd.prototype,"headerTemplate",void 0),vv([Ht(),yv("design:type",Object)],Cd.prototype,"groupTemplate",void 0),vv([Ht(),yv("design:type",Object)],Cd.prototype,"itemTemplate",void 0),vv([Ht("No records found"),yv("design:type",Object)],Cd.prototype,"noRecordsTemplate",void 0),vv([Ht("Request failed"),yv("design:type",Object)],Cd.prototype,"actionFailureTemplate",void 0),Cd=yV=vv([So([nn,aa]),yv("design:paramtypes",[mi,_i,$t,pi])],Cd);var Cm=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},wm=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const ONe=["actionBegin","actionComplete","actionFailure","beforeOpen","beforeSelectAll","blur","change","chipSelection","close","created","customValueSelection","dataBound","destroyed","filtering","focus","open","removed","removing","select","selectedAll","tagging","valueChange"],BNe=["value"];let zc=xV=class extends wi{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let s=this.injector.get("DropDownsCheckBoxSelection");-1===this.injectedModules.indexOf(s)&&this.injectedModules.push(s)}catch(s){}this.registerEvents(ONe),this.addTwoWay.call(this,BNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var xV;zc.\u0275fac=function(e){return new(e||zc)(Te(mi),Te(_i),Te($t),Te(pi))},zc.\u0275cmp=Lr({type:zc,selectors:[["ejs-multiselect"]],contentQueries:function(e,t,i){if(1&e&&(vt(i,K_,5),vt(i,Y_,5),vt(i,hne,5),vt(i,DC,5),vt(i,JR,5),vt(i,EC,5),vt(i,Q_,5)),2&e){let n;ut(n=pt())&&(t.footerTemplate=n.first),ut(n=pt())&&(t.headerTemplate=n.first),ut(n=pt())&&(t.valueTemplate=n.first),ut(n=pt())&&(t.itemTemplate=n.first),ut(n=pt())&&(t.groupTemplate=n.first),ut(n=pt())&&(t.noRecordsTemplate=n.first),ut(n=pt())&&(t.actionFailureTemplate=n.first)}},inputs:{actionFailureTemplate:"actionFailureTemplate",addTagOnBlur:"addTagOnBlur",allowCustomValue:"allowCustomValue",allowFiltering:"allowFiltering",changeOnBlur:"changeOnBlur",closePopupOnSelect:"closePopupOnSelect",cssClass:"cssClass",dataSource:"dataSource",delimiterChar:"delimiterChar",enableGroupCheckBox:"enableGroupCheckBox",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSelectionOrder:"enableSelectionOrder",enabled:"enabled",fields:"fields",filterBarPlaceholder:"filterBarPlaceholder",filterType:"filterType",floatLabelType:"floatLabelType",footerTemplate:"footerTemplate",groupTemplate:"groupTemplate",headerTemplate:"headerTemplate",hideSelectedItem:"hideSelectedItem",htmlAttributes:"htmlAttributes",ignoreAccent:"ignoreAccent",ignoreCase:"ignoreCase",itemTemplate:"itemTemplate",locale:"locale",maximumSelectionLength:"maximumSelectionLength",mode:"mode",noRecordsTemplate:"noRecordsTemplate",openOnClick:"openOnClick",placeholder:"placeholder",popupHeight:"popupHeight",popupWidth:"popupWidth",query:"query",readonly:"readonly",selectAllText:"selectAllText",showClearButton:"showClearButton",showDropDownIcon:"showDropDownIcon",showSelectAll:"showSelectAll",sortOrder:"sortOrder",text:"text",unSelectAllText:"unSelectAllText",value:"value",valueTemplate:"valueTemplate",width:"width",zIndex:"zIndex"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",beforeOpen:"beforeOpen",beforeSelectAll:"beforeSelectAll",blur:"blur",change:"change",chipSelection:"chipSelection",close:"close",created:"created",customValueSelection:"customValueSelection",dataBound:"dataBound",destroyed:"destroyed",filtering:"filtering",focus:"focus",open:"open",removed:"removed",removing:"removing",select:"select",selectedAll:"selectedAll",tagging:"tagging",valueChange:"valueChange"},features:[ps([{provide:ia,useExisting:jn(()=>xV),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),zc.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],zc.propDecorators={footerTemplate:[{type:Rs,args:["footerTemplate"]}],headerTemplate:[{type:Rs,args:["headerTemplate"]}],valueTemplate:[{type:Rs,args:["valueTemplate"]}],itemTemplate:[{type:Rs,args:["itemTemplate"]}],groupTemplate:[{type:Rs,args:["groupTemplate"]}],noRecordsTemplate:[{type:Rs,args:["noRecordsTemplate"]}],actionFailureTemplate:[{type:Rs,args:["actionFailureTemplate"]}]},Cm([Ht(),wm("design:type",Object)],zc.prototype,"footerTemplate",void 0),Cm([Ht(),wm("design:type",Object)],zc.prototype,"headerTemplate",void 0),Cm([Ht(),wm("design:type",Object)],zc.prototype,"valueTemplate",void 0),Cm([Ht(),wm("design:type",Object)],zc.prototype,"itemTemplate",void 0),Cm([Ht(),wm("design:type",Object)],zc.prototype,"groupTemplate",void 0),Cm([Ht("No records found"),wm("design:type",Object)],zc.prototype,"noRecordsTemplate",void 0),Cm([Ht("Request failed"),wm("design:type",Object)],zc.prototype,"actionFailureTemplate",void 0),zc=xV=Cm([So([nn,aa]),wm("design:paramtypes",[mi,_i,$t,pi])],zc);var CV=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},wV=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const VNe=["focus","blur","actionBegin","actionComplete","actionFailure","beforeDrop","beforeItemRender","change","created","dataBound","destroyed","drag","dragStart","drop","filtering","select","valueChange"],HNe=["value"];let Vp=bV=class extends Mr{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let s=this.injector.get("DropDownsCheckBoxSelection");-1===this.injectedModules.indexOf(s)&&this.injectedModules.push(s)}catch(s){}this.registerEvents(VNe),this.addTwoWay.call(this,HNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var bV;Vp.\u0275fac=function(e){return new(e||Vp)(Te(mi),Te(_i),Te($t),Te(pi))},Vp.\u0275cmp=Lr({type:Vp,selectors:[["ejs-listbox"]],contentQueries:function(e,t,i){if(1&e&&(vt(i,DC,5),vt(i,EC,5)),2&e){let n;ut(n=pt())&&(t.itemTemplate=n.first),ut(n=pt())&&(t.noRecordsTemplate=n.first)}},inputs:{actionFailureTemplate:"actionFailureTemplate",allowDragAndDrop:"allowDragAndDrop",allowFiltering:"allowFiltering",cssClass:"cssClass",dataSource:"dataSource",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",fields:"fields",filterBarPlaceholder:"filterBarPlaceholder",filterType:"filterType",groupTemplate:"groupTemplate",height:"height",ignoreAccent:"ignoreAccent",ignoreCase:"ignoreCase",itemTemplate:"itemTemplate",locale:"locale",maximumSelectionLength:"maximumSelectionLength",noRecordsTemplate:"noRecordsTemplate",query:"query",scope:"scope",selectionSettings:"selectionSettings",sortOrder:"sortOrder",toolbarSettings:"toolbarSettings",value:"value",zIndex:"zIndex"},outputs:{focus:"focus",blur:"blur",actionBegin:"actionBegin",actionComplete:"actionComplete",actionFailure:"actionFailure",beforeDrop:"beforeDrop",beforeItemRender:"beforeItemRender",change:"change",created:"created",dataBound:"dataBound",destroyed:"destroyed",drag:"drag",dragStart:"dragStart",drop:"drop",filtering:"filtering",select:"select",valueChange:"valueChange"},features:[ps([{provide:ia,useExisting:jn(()=>bV),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Vp.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],Vp.propDecorators={itemTemplate:[{type:Rs,args:["itemTemplate"]}],noRecordsTemplate:[{type:Rs,args:["noRecordsTemplate"]}]},CV([Ht(),wV("design:type",Object)],Vp.prototype,"itemTemplate",void 0),CV([Ht("No records found"),wV("design:type",Object)],Vp.prototype,"noRecordsTemplate",void 0),Vp=bV=CV([So([nn,aa]),wV("design:paramtypes",[mi,_i,$t,pi])],Vp);var TC=function(r,e,t,i){var o,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},RC=function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};const zNe=["actionFailure","beforeOpen","blur","change","close","created","dataBound","destroyed","filtering","focus","keyPress","open","select","valueChange"],jNe=["value"];let ih=_V=class extends zi{constructor(e,t,i,n){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(zNe),this.addTwoWay.call(this,jNe),ns("currentInstance",this,this.viewContainerRef),this.formContext=new aa,this.formCompContext=new nn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var _V;ih.\u0275fac=function(e){return new(e||ih)(Te(mi),Te(_i),Te($t),Te(pi))},ih.\u0275cmp=Lr({type:ih,selectors:[["ejs-dropdowntree"]],contentQueries:function(e,t,i){if(1&e&&(vt(i,K_,5),vt(i,Y_,5),vt(i,DC,5),vt(i,EC,5),vt(i,Q_,5)),2&e){let n;ut(n=pt())&&(t.footerTemplate=n.first),ut(n=pt())&&(t.headerTemplate=n.first),ut(n=pt())&&(t.itemTemplate=n.first),ut(n=pt())&&(t.noRecordsTemplate=n.first),ut(n=pt())&&(t.actionFailureTemplate=n.first)}},inputs:{actionFailureTemplate:"actionFailureTemplate",allowFiltering:"allowFiltering",allowMultiSelection:"allowMultiSelection",changeOnBlur:"changeOnBlur",cssClass:"cssClass",customTemplate:"customTemplate",delimiterChar:"delimiterChar",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",fields:"fields",filterBarPlaceholder:"filterBarPlaceholder",filterType:"filterType",floatLabelType:"floatLabelType",footerTemplate:"footerTemplate",headerTemplate:"headerTemplate",htmlAttributes:"htmlAttributes",ignoreAccent:"ignoreAccent",ignoreCase:"ignoreCase",itemTemplate:"itemTemplate",locale:"locale",mode:"mode",noRecordsTemplate:"noRecordsTemplate",placeholder:"placeholder",popupHeight:"popupHeight",popupWidth:"popupWidth",readonly:"readonly",selectAllText:"selectAllText",showCheckBox:"showCheckBox",showClearButton:"showClearButton",showDropDownIcon:"showDropDownIcon",showSelectAll:"showSelectAll",sortOrder:"sortOrder",text:"text",treeSettings:"treeSettings",unSelectAllText:"unSelectAllText",value:"value",width:"width",wrapText:"wrapText",zIndex:"zIndex"},outputs:{actionFailure:"actionFailure",beforeOpen:"beforeOpen",blur:"blur",change:"change",close:"close",created:"created",dataBound:"dataBound",destroyed:"destroyed",filtering:"filtering",focus:"focus",keyPress:"keyPress",open:"open",select:"select",valueChange:"valueChange"},features:[ps([{provide:ia,useExisting:jn(()=>_V),multi:!0}]),Gt],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),ih.ctorParameters=()=>[{type:mi},{type:_i},{type:$t},{type:pi}],ih.propDecorators={footerTemplate:[{type:Rs,args:["footerTemplate"]}],headerTemplate:[{type:Rs,args:["headerTemplate"]}],itemTemplate:[{type:Rs,args:["itemTemplate"]}],noRecordsTemplate:[{type:Rs,args:["noRecordsTemplate"]}],actionFailureTemplate:[{type:Rs,args:["actionFailureTemplate"]}]},TC([Ht(),RC("design:type",Object)],ih.prototype,"footerTemplate",void 0),TC([Ht(),RC("design:type",Object)],ih.prototype,"headerTemplate",void 0),TC([Ht(),RC("design:type",Object)],ih.prototype,"itemTemplate",void 0),TC([Ht("No records found"),RC("design:type",Object)],ih.prototype,"noRecordsTemplate",void 0),TC([Ht("Request failed"),RC("design:type",Object)],ih.prototype,"actionFailureTemplate",void 0),ih=_V=TC([So([nn,aa]),RC("design:paramtypes",[mi,_i,$t,pi])],ih);class yne{}const qg="*";function zu(r,e=null){return{type:4,styles:e,timings:r}}function xne(r,e=null){return{type:2,steps:r,options:e}}function $n(r){return{type:6,styles:r,offset:null}}function X_(r){return{type:5,steps:r}}function ft(r,e=null){return{type:8,animation:r,options:e}}function Cne(r){Promise.resolve(null).then(r)}class J_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Cne(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class wne{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0;const s=this.players.length;0==s?Cne(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++n==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const n=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(n)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}_t(596),_t(650);var UNe={2099:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="aaaccessibility-desc aaaccessibility-title"><title id="aaaccessibility-title">Accessibility Icon</title><desc id="aaaccessibility-desc">A picture showing a person in a wheelchair.</desc><path d="M11.445 18h2.206A6 6 0 117 10.09v2.051A3.991 3.991 0 1011.445 18zM12 6a2 2 0 10-2-2 2 2 0 002 2zm6 8h-4v-2h4v-2h-4V8H9v8h8.006l2.869 4.649 1.732-1z"/></svg>'},4888:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="abadd-child-desc abadd-child-title"><title id="abadd-child-title">Add Item Icon</title><desc id="abadd-child-desc">A picture showing an item with a plus sign being added to container.</desc><path d="M22 12H7c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm-8 6h-2v2h-2v-2H8v-2h2v-2h2v2h2v2zm7-14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V5c0-.6.4-1 1-1h19m0-2H2C.9 2 0 2.9 0 4v4c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>'},4100:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="acadd-filter-desc acadd-filter-title"><title id="acadd-filter-title">Add Filter Icon</title><desc id="acadd-filter-desc">A picture showing tree lines and a plus sign.</desc><path d="M19 15v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3zM5 10h10v2H5zM2 5h16v2H2zm6 10h4v2H8z"/></svg>'},4207:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="adadd-row-desc adadd-row-title"><title id="adadd-row-title">Add Row Icon</title><desc id="adadd-row-desc">A picture showing a rectangle with a plus sign.</desc><path d="M22 7H2a2 2 0 00-2 2v6a2 2 0 002 2h20a2 2 0 002-2V9a2 2 0 00-2-2zM9 13H7v2H5v-2H3v-2h2V9h2v2h2z"/></svg>'},3335:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="aeaggregation-desc aeaggregation-title"><title id="aeaggregation-title">Aggregation Icon</title><desc id="aeaggregation-desc">A picture showing tree lines converging into a triangle pointing right.</desc><path d="M24 11.974L18 4v3h-3.586l-5-5h-3.6a3 3 0 100 2h2.77l5 5H18v1.974H5.808a3 3 0 10.016 2H18V15h-4.414l-5 5h-2.77a3 3 0 100 2h3.6l5-5H18v3z"/></svg>'},1156:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="afaids-ribbon-desc afaids-ribbon-title"><title id="afaids-ribbon-title">Aids Ribbon Icon</title><desc id="afaids-ribbon-desc">A picture showing a ribbon.</desc><path d="M10.883 18.323L8.012 22l-2.084-3.051 2.465-3.816zm4.775-6.115S16.6 10.051 17 9.164c.965-2.164.86-5.239-.76-6.127l-.02-.022-.006.009A8.972 8.972 0 0011.953 2 8.994 8.994 0 007.7 3.021L7.686 3l-.036.042C6.039 3.934 6.129 7 7 9.153c1.621 4.008 8.853 13 8.894 12.837l2.084-3.051L9.805 6.285a12.707 12.707 0 014.3 0L12.97 8.047z"/></svg>'},8169:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="agall-desc agall-title"><title id="agall-title">Select All Icon</title><desc id="agall-desc">A picture showing tree lines and a check mark.</desc><path d="M2 14h8v2H2zm0-8h12v2H2zm14 11l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/></svg>'},2563:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ahamazon-desc ahamazon-title"><title id="ahamazon-title">Amazon Icon</title><desc id="ahamazon-desc">A picture showing the Amazon logo.</desc><path d="M13.769 7.753a18.333 18.333 0 00-4.976.92A4.5 4.5 0 005.972 13a3.755 3.755 0 003.96 4.123 5.237 5.237 0 004.362-1.923 6.5 6.5 0 001.518 1.764.553.553 0 00.625-.063l.007.007a111.3 111.3 0 012.029-1.756.5.5 0 00.007-.7 3.617 3.617 0 01-1-2.452V7.869c0-1.746.123-3.35-1.165-4.552A6 6 0 0012.332 2c-2.515 0-5.325.938-5.917 4.049a.469.469 0 00.395.551l2.568.276a.553.553 0 00.457-.476 2.017 2.017 0 012.129-1.589 1.772 1.772 0 011.485.688 3.41 3.41 0 01.32 1.917zm0 2.7a5.173 5.173 0 01-.5 2.805 2.145 2.145 0 01-1.831 1.2c-1.016 0-1.608-.774-1.608-1.916 0-2.255 2.021-2.665 3.934-2.665zM19.567 19a10.881 10.881 0 01-7.807 3 13.133 13.133 0 01-9.347-4.518c-.3-.343.046-.5.249-.373 3.279 2 8.4 5.284 16.657 1.355.35-.146.594.098.248.536zm1.78.1a3.743 3.743 0 01-.953 1.395c-.24.192-.416.118-.288-.171s.855-2.079.569-2.454-1.656-.2-2.145-.152-.584.088-.632-.01c-.093-.26.973-.694 1.683-.779s1.835-.033 2.057.256a3.265 3.265 0 01-.291 1.915z"/></svg>'},6:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="aiambulance-desc aiambulance-title"><title id="aiambulance-title">Ambulance Icon</title><desc id="aiambulance-desc">A picture showing an ambulance.</desc><path d="M18 5h-1a2 2 0 00-4 0H2v13h2a3 3 0 006 0h4a3 3 0 006 0h2v-7zM7 19a1 1 0 111-1 1 1 0 01-1 1zm3-8H8v2H6v-2H4V9h2V7h2v2h2zm7 8a1 1 0 111-1 1 1 0 01-1 1zm-4-8V7h4l3 4z"/></svg>'},8587:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ajamerican-express-desc ajamerican-express-title"><title id="ajamerican-express-title">American Express Icon</title><desc id="ajamerican-express-desc">A picture showing the American Express logo.</desc><path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm-7.213 10h-.9v-2.9L10.65 14h-.9l-1.236-3v3H6.6l-.336-.9H4.35l-.336.9H3l1.688-4h1.238L7.5 13.8V10h1.574l1.126 2.7 1.124-2.7h1.463zM21 14h-1.125l-1.125-1.3-1.125 1.3h-3.6v-4h3.711l.9 1.2 1.126-1.2H21l-1.688 2zM5.25 10.8l.562 1.4H4.688zm11.926.1l.9 1.1-1.012 1.2h-2.138v-.8h2.023v-.8h-2.023v-.7z"/></svg>'},4565:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="akanxiety-desc akanxiety-title"><title id="akanxiety-title">Anxiety Icon</title><desc id="akanxiety-desc">A picture showing a stylized human head with a cloud and lighting inside.</desc><path d="M21 9c0-3-2.449-7-7.893-7C4.646 2 5 9.328 4.793 9.682q-.78 1.338-1.546 2.681a.733.733 0 00.125 1 .923.923 0 00.5.189c.417.027.837.009 1.278.009v.267c-.006 1.272-.013 3.433-.017 4.7a1.306 1.306 0 001.431 1.424c.726 0 3.552.044 3.833.113.462.115.219 1.584.3 1.935H19c.26-4.984 2.541-9 2-13zm-9 7l1.2-3.489h-1.259l1.373-3.548 2.265-.082-1.265 2.583h1.745zm6.247-5h-2.33l1.294-3.179-4.592.166L11.453 11H9a2 2 0 010-4 1.747 1.747 0 011.464.482 3.852 3.852 0 016.856-1.44 2.883 2.883 0 01.569 1.558.068.068 0 00.051.071A1.834 1.834 0 0118.247 11z"/></svg>'},6872:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="alapi-desc alapi-title"><title id="alapi-title">API Icon</title><desc id="alapi-desc">A picture showing a rectangle with the letters A, P, and I written inside.</desc><path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zM7.655 10H8.4l1.54 4h-.75l-.376-1.059h-1.6L6.843 14h-.722zm-.246 2.409h1.222l-.6-1.72h-.017zM11.883 10h1.764a1.68 1.68 0 01.7.123 1.1 1.1 0 01.414.308 1.043 1.043 0 01.2.4 1.694 1.694 0 01.053.4 1.658 1.658 0 01-.053.4 1.045 1.045 0 01-.2.4 1.071 1.071 0 01-.414.3 1.7 1.7 0 01-.7.121h-1.064V14h-.7zm.7 1.893h1.025a.918.918 0 00.24-.033.7.7 0 00.228-.109.567.567 0 00.168-.2.707.707 0 00.064-.317.8.8 0 00-.056-.324.5.5 0 00-.152-.21.544.544 0 00-.218-.1 1.181 1.181 0 00-.264-.028h-1.035zM17.179 10h.7v4h-.7z"/></svg>'},2376:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="amapp-symbol-desc amapp-symbol-title"><title id="amapp-symbol-title">App Symbol Icon</title><desc id="amapp-symbol-desc">A picture showing the word app written inside.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm2.9 15l-.939-2.647H9.97L9.03 17H7.224l3.837-10h1.863l3.852 10zm-4.453-3.977H13.5l-1.5-4.3h-.043z"/></svg>'},1785:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="aoapple-app-store-desc aoapple-app-store-title"><title id="aoapple-app-store-title">Apple App Store icon</title><desc id="aoapple-app-store-desc">A picture showing the Apple AppStore logo.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zM8.518 16.565l-.676 1.171a.894.894 0 11-1.548-.894l.5-.863.046-.079a.738.738 0 01.717-.294s.992.107 1.064.623a.609.609 0 01-.105.339zm5.17-1.205H5.894a.894.894 0 110-1.787h2c.323-.019.4-.206.4-.206l2.615-4.53a.2.2 0 000-.184l-.864-1.5a.894.894 0 011.555-.889l.4.694.4-.692a.894.894 0 111.548.893l-3.639 6.305c-.016.038-.021.1.1.109h2.176v.021a1.462 1.462 0 011.429 1.194s.11.572-.326.572zm4.418 0h-1.065c-.161 0-.134.09-.119.123l.784 1.358a.894.894 0 11-1.548.893l-3.135-5.429a3.033 3.033 0 01-.227-2.4s.352-.867.574-.528l.135.194 2.257 3.909a.312.312 0 00.231.091h2.108a.894.894 0 110 1.787z"/></svg>'},1612:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="apapple-pay-desc apapple-pay-title"><title id="apapple-pay-title">Apple Pay Icon</title><desc id="apapple-pay-desc">A picture showing the Apple Pay logo inside.</desc><path d="M5.794 8.842a1.529 1.529 0 00.349-1.1 1.586 1.586 0 00-1.014.515 1.444 1.444 0 00-.365 1.047 1.193 1.193 0 001.03-.465m.349.565c-.565-.033-1.047.316-1.313.316s-.681-.3-1.13-.3a1.665 1.665 0 00-1.413.864 3.536 3.536 0 00.432 3.441c.283.415.632.881 1.08.864s.6-.283 1.114-.283.665.283 1.13.266.765-.415 1.048-.847a3.361 3.361 0 00.465-.964 1.506 1.506 0 01-.183-2.676 1.547 1.547 0 00-1.23-.682m4.887-1.18a1.977 1.977 0 012.078 2.061A2 2 0 0111 12.366H9.65v2.144h-.98V8.227zm-1.38 3.328h1.114a1.178 1.178 0 001.33-1.246 1.171 1.171 0 00-1.33-1.247h-1.13v2.493zm3.707 1.679c0-.8.615-1.3 1.712-1.363l1.263-.066v-.35c0-.515-.349-.814-.914-.814a.876.876 0 00-.964.665h-.9c.05-.831.765-1.446 1.9-1.446 1.114 0 1.829.582 1.829 1.512v3.158h-.9v-.748h-.017a1.627 1.627 0 01-1.446.832 1.408 1.408 0 01-1.563-1.38zm2.975-.416v-.365l-1.13.066c-.565.034-.881.283-.881.682s.332.665.831.665a1.1 1.1 0 001.18-1.048zm1.779 3.408v-.765a1.759 1.759 0 00.3.017.768.768 0 00.814-.648c0-.017.083-.283.083-.283l-1.663-4.587h1.014l1.164 3.744h.016L21 9.956h1l-1.712 4.836c-.4 1.114-.848 1.463-1.8 1.463-.067-.017-.3-.017-.382-.033z"/></svg>'},8485:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="anapple-desc anapple-title"><title id="anapple-title">Apple Icon</title><desc id="anapple-desc">A picture showing the Apple logo.</desc><path d="M17.458 12.625a4.421 4.421 0 002.684 4.047 10.921 10.921 0 01-1.384 2.845c-.833 1.218-1.7 2.432-3.061 2.457-1.339.025-1.77-.794-3.3-.794s-2.009.769-3.277.819c-1.32.049-2.32-1.318-3.159-2.532-1.717-2.483-3.03-7.016-1.267-10.076a4.9 4.9 0 014.138-2.507c1.292-.025 2.511.869 3.3.869s2.271-1.075 3.829-.917A4.671 4.671 0 0119.62 8.82a4.524 4.524 0 00-2.162 3.805m-2.517-7.432A4.4 4.4 0 0015.982 2a4.48 4.48 0 00-2.946 1.516 4.181 4.181 0 00-1.061 3.093 3.706 3.706 0 002.966-1.416"/></svg>'},6603:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="aqarrow-down-left-desc aqarrow-down-left-title"><title id="aqarrow-down-left-title">Arrow Down Left Icon</title><desc id="aqarrow-down-left-desc">A picture showing an arrow pointing down attached to an arrow pointing left.</desc><path d="M22 15l-4 4-4-4 1.4-1.4 1.6 1.6V7H8.8l1.6 1.6L9 10 5 6l4-4 1.4 1.4L8.9 5H17c1.1 0 1.9.8 2 1.9v8.3l1.6-1.6L22 15z"/></svg>'},7266:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ararrow-down-right-desc ararrow-down-right-title"><title id="ararrow-down-right-title">Arrow Down Right Icon</title><desc id="ararrow-down-right-desc">A picture showing an arrow pointing down attached to an arrow pointing right.</desc><path d="M15 2l4 4-4 4-1.4-1.4L15.2 7H7v8.2l1.6-1.6L10 15l-4 4-4-4 1.4-1.4L5 15.1V7c0-1.1.8-1.9 1.9-2h8.3l-1.6-1.6L15 2z"/></svg>'},8542:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="asarrow-up-left-desc asarrow-up-left-title"><title id="asarrow-up-left-title">Arrow Up Left Icon</title><desc id="asarrow-up-left-desc">A picture showing an arrow pointing up attached to an arrow pointing left.</desc><path d="M9 22l-4-4 4-4 1.4 1.4L8.8 17H17V8.8l-1.6 1.6L14 9l4-4 4 4-1.4 1.4L19 8.9V17c0 1.1-.8 1.9-1.9 2H8.8l1.6 1.6L9 22z"/></svg>'},6461:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="atarrow-up-right-desc atarrow-up-right-title"><title id="atarrow-up-right-title">Arrow Up Right Icon</title><desc id="atarrow-up-right-desc">A picture showing an arrow pointing up attached to an arrow pointing right.</desc><path d="M2 9l4-4 4 4-1.4 1.4L7 8.8V17h8.2l-1.6-1.6L15 14l4 4-4 4-1.4-1.4 1.5-1.6H7c-1.1 0-1.9-.8-2-1.9V8.8l-1.6 1.6L2 9z"/></svg>'},2976:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="avatm-dollar-desc avatm-dollar-title"><title id="avatm-dollar-title">ATM Dollar Icon</title><desc id="avatm-dollar-desc">A picture showing a screen with the Dollar sign and a keypad.</desc><path d="M12.705 13.045V14H11.37v-.965a1.86 1.86 0 01-1.635-1.7h.98c.05.525.41.935 1.325.935.98 0 1.2-.49 1.2-.795 0-.415-.22-.8-1.335-1.07-1.24-.3-2.09-.81-2.09-1.835a1.733 1.733 0 011.555-1.605V6h1.335v.975a1.768 1.768 0 011.425 1.7h-.98c-.025-.555-.32-.935-1.11-.935-.75 0-1.2.34-1.2.82 0 .42.325.7 1.335.955s2.09.7 2.09 1.955c-.005.91-.69 1.41-1.56 1.575zM19.778 3H4.222A2.12 2.12 0 002 5v14a2.12 2.12 0 002.222 2h15.556A2.12 2.12 0 0022 19V5a2.12 2.12 0 00-2.222-2zM7 5h10v10H7zM4 5h2v2H4zm0 4h2v2H4zm0 6v-2h2v2zm14 4H6v-2h12zm2-4h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2z"/></svg>'},4044:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="awatm-euro-desc awatm-euro-title"><title id="awatm-euro-title">ATM Euro Icon</title><desc id="awatm-euro-desc">A picture showing a screen with the Euro symbol and a keypad.</desc><path d="M19.778 3H4.222A2.12 2.12 0 002 5v14a2.12 2.12 0 002.222 2h15.556A2.12 2.12 0 0022 19V5a2.12 2.12 0 00-2.222-2zM7 5h10v10H7zM4 5h2v2H4zm0 4h2v2H4zm0 6v-2h2v2zm14 4H6v-2h12zm2-4h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm-6.674 5.852a2.865 2.865 0 01-2.546-1.547h2.546v-.884h-2.838a2.815 2.815 0 010-.885h2.838v-.884H10.78A2.868 2.868 0 0115.2 7.8l.783-.782a3.973 3.973 0 00-6.4 1.635H8.021v.884h1.353a3.779 3.779 0 000 .885H8.021v.884h1.557a3.973 3.973 0 006.4 1.635l-.787-.782a2.835 2.835 0 01-1.865.693z"/></svg>'},5516:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="axatm-pound-desc axatm-pound-title"><title id="axatm-pound-title">ATM Pound Icon</title><desc id="axatm-pound-desc">A picture showing a screen with the British Pound symbol and a keypad.</desc><path d="M19.778 3H4.222A2.12 2.12 0 002 5v14a2.12 2.12 0 002.222 2h15.556A2.12 2.12 0 0022 19V5a2.12 2.12 0 00-2.222-2zM7 5h10v10H7zM4 5h2v2H4zm0 4h2v2H4zm0 6v-2h2v2zm14 4H6v-2h12zm2-4h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm-9.721 5.987h4.264V14H9.01v-1.174l.062-.016a1.28 1.28 0 00.835-.593 2.726 2.726 0 00.259-1.278h-.92v-.848h.92V8.623a2.269 2.269 0 01.686-1.7 2.511 2.511 0 011.634-.68 3.585 3.585 0 012.5.979l-.642.69a2.837 2.837 0 00-1.728-.649 1.285 1.285 0 00-.95.371 1.584 1.584 0 00-.344 1.08v1.373H13.5v.848h-2.174v.225a1.951 1.951 0 01-.338 1.14 2.5 2.5 0 01-.709.687z"/></svg>'},1249:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ayatm-yen-desc ayatm-yen-title"><title id="ayatm-yen-title">ATM Yen Icon</title><desc id="ayatm-yen-desc">A picture showing a screen with the Japanese Yen symbol and a keypad.</desc><path d="M19.778 3H4.222A2.12 2.12 0 002 5v14a2.12 2.12 0 002.222 2h15.556A2.12 2.12 0 0022 19V5a2.12 2.12 0 00-2.222-2zM7 5h10v10H7zM4 5h2v2H4zm0 4h2v2H4zm0 6v-2h2v2zm14 4H6v-2h12zm2-4h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm-5.371 3.635v.885h-2.02v.554h2.02v.885h-2.02v.97h-1.2v-.97H9.388v-.885h2.02v-.554h-2.02v-.885h2.031v-.141L8.9 6h1.356l1.76 3.335L13.8 6h1.3l-2.5 4.493v.142z"/></svg>'},4134:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="auatm-desc auatm-title"><title id="auatm-title">ATM Icon</title><desc id="auatm-desc">A picture showing an empty screen and a keypad.</desc><path d="M19.778 2H4.222A2.222 2.222 0 002 4.222v15.556A2.222 2.222 0 004.222 22h15.556A2.222 2.222 0 0022 19.778V4.222A2.222 2.222 0 0019.778 2zM8 5h8v10H8zM4 5h2v2H4zm0 4h2v2H4zm0 6v-2h2v2zm13 4H7v-2h10zm3-4h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2z"/></svg>'},2383:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="azauction-desc azauction-title"><title id="azauction-title">Auction Icon</title><desc id="azauction-desc">A picture showing a gavel inside a circle.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm5.812 15.831a.607.607 0 01-.858-.018l-4.76-4.758a8.424 8.424 0 01-2.1 1.332.607.607 0 11-.877.84l-.325-.327-2.378-2.38-.329-.328a.607.607 0 01.838-.878 8.427 8.427 0 014.294-4.291.607.607 0 01.877-.839l.328.328 2.1 2.1.279.278.328.329a.607.607 0 01-.838.877 8.467 8.467 0 01-1.338 2.1l4.759 4.759.018.018a.607.607 0 01-.018.858z"/></svg>'},1169:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="baaward-desc baaward-title"><title id="baaward-title">Award Icon</title><desc id="baaward-desc">A picture depicting a medal with the number 1 written inside.</desc><path d="M22 5l-2-3H4L2 5l5.857 9.2a4.994 4.994 0 108.28.011zm-9 15h-2v-4h-1l1-2h2zm.47-7.751A4.918 4.918 0 0011.993 12a4.911 4.911 0 00-1.465.245L6 5h12z"/></svg>'},862:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bbbaby-bottle-desc bbbaby-bottle-title"><title id="bbbaby-bottle-title">Baby Bottle Icon</title><desc id="bbbaby-bottle-desc">A picture depicting a baby bottle.</desc><path d="M16 7.184V6a1 1 0 00-1-1h-1V4a2 2 0 00-4 0v1H9a1 1 0 00-1 1v1.184A2.99 2.99 0 006 10v9a3 3 0 003 3h6a3 3 0 003-3v-9a2.99 2.99 0 00-2-2.816zM12 19H8v-2h4zm0-4H8v-2h4zm0-4H8V9h4z"/></svg>'},9044:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bcbacteria-desc bcbacteria-title"><title id="bcbacteria-title">Bacteria Icon</title><desc id="bcbacteria-desc">A picture depicting a bacteria.</desc><path d="M20.867 7.664h-1.3a4.439 4.439 0 00-.467-1.157l.914-.915a1.132 1.132 0 00-1.6-1.6l-.915.914a4.477 4.477 0 00-1.157-.478V3.133a1.133 1.133 0 10-2.265 0v1.294a4.491 4.491 0 00-1.157.478L12 3.991a1.132 1.132 0 00-1.6 1.6l.8.8L9.6 8l-.8-.8a1.133 1.133 0 10-1.6 1.6l.8.8-1.6 1.6-.8-.8A1.132 1.132 0 004 12l.914.914a4.453 4.453 0 00-.477 1.157H3.133a1.133 1.133 0 100 2.265h1.3a4.439 4.439 0 00.477 1.157l-.914.915a1.132 1.132 0 001.6 1.6l.915-.914a4.439 4.439 0 001.157.477v1.3a1.133 1.133 0 102.265 0v-1.3a4.453 4.453 0 001.157-.477l.914.914a1.132 1.132 0 001.6-1.6l-.8-.8 1.6-1.6.8.8a1.133 1.133 0 101.6-1.6l-.8-.8 1.6-1.6.8.8a1.132 1.132 0 101.6-1.6l-.914-.914a4.453 4.453 0 00.477-1.157h1.3a1.133 1.133 0 100-2.265zM15 11a2 2 0 112-2 2 2 0 01-2 2zm-5.5 5a1.5 1.5 0 111.5-1.5A1.5 1.5 0 019.5 16z"/></svg>'},4943:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bdbandage-desc bdbandage-title"><title id="bdbandage-title">Bandage Icon</title><desc id="bdbandage-desc">A picture depicting a bandage.</desc><path d="M3.212 10.03a3 3 0 010-4.242l2.576-2.576a3 3 0 014.242 0l.556.556-6.818 6.818zm17.5.334L10.364 20.707a4 4 0 01-5.657 0l-1.414-1.414a4 4 0 010-5.657L13.636 3.293a4 4 0 015.657 0l1.414 1.414a4 4 0 010 5.657zM14 5a1 1 0 101-1 1 1 0 00-1 1zm-2.5 2.5a1 1 0 101-1 1 1 0 00-1 1zM9 10a1 1 0 101-1 1 1 0 00-1 1zm-4 6a1 1 0 10-1-1 1 1 0 001 1zm1.75 2.25a1 1 0 10-1 1 1 1 0 001-1zm.75-4.75a1 1 0 10-1-1 1 1 0 001 1zm.75 3.25a1 1 0 10-1-1 1 1 0 001 1zM10 19a1 1 0 10-1 1 1 1 0 001-1zm.75-4.75a1 1 0 10-1-1 1 1 0 001 1zm1.75 2.25a1 1 0 10-1 1 1 1 0 001-1zm.75-4.75a1 1 0 10-1-1 1 1 0 001 1zM15 14a1 1 0 10-1 1 1 1 0 001-1zm.75-4.75a1 1 0 10-1-1 1 1 0 001 1zm1.75 2.25a1 1 0 10-1 1 1 1 0 001-1zm.75-4.75a1 1 0 10-1-1 1 1 0 001 1zM20 9a1 1 0 10-1 1 1 1 0 001-1zm.232 4.414l-6.818 6.818.556.556a3 3 0 004.242 0l2.576-2.576a3 3 0 000-4.242z"/></svg>'},8333:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bebank-safe-desc bebank-safe-title"><title id="bebank-safe-title">Bank Safe Icon</title><desc id="bebank-safe-desc">A picture depicting a locked safe.</desc><path d="M13.946 7.393a5 5 0 102.661 2.661 4.984 4.984 0 00-2.661-2.661zm-2.363.44h.834v.834h-.834zM9.938 9.348l-.59.59-.589-.59.589-.589zm-1.271 3.069h-.834v-.834h.834zm.681 2.824l-.589-.589.589-.59.59.59zm3.069.926h-.834v-.834h.834zM12 14.5a2.5 2.5 0 112.5-2.5 2.5 2.5 0 01-2.5 2.5zm2.652.741l-.59-.589.59-.59.589.59zm0-5.3l-.59-.59.59-.589.589.589zm1.515 2.479h-.834v-.834h.834zM19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm1 7h-1v5h1v2h-1a2 2 0 01-2 2H7a2 2 0 01-2-2V7a2 2 0 012-2h10a2 2 0 012 2v1h1z"/></svg>'},2703:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bfbarcode-desc bfbarcode-title"><title id="bfbarcode-title">Barcode Icon</title><desc id="bfbarcode-desc">A picture showing 6 vertically aligned rectangles, varying in width.</desc><path d="M22 20V4h-2v16zm-3 0V4h-4v16zm-5 0V4h-2v16zm-3 0V4H9v16zm-3 0V4H5v16zm-4 0V4H2v16z"/></svg>'},8106:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bgbattlenet-desc bgbattlenet-title"><title id="bgbattlenet-title">Battle.net Icon</title><desc id="bgbattlenet-desc">A picture showing the Battle.net logo.</desc><path d="M15.716 21.975a1.329 1.329 0 01-.527-.312 9.193 9.193 0 01-1.236-1.444c-.341-.482-.662-.978-.991-1.468l-.04-.057c-.105.063-.205.125-.307.183a5.487 5.487 0 01-1.591.647 2.123 2.123 0 01-.974.019.818.818 0 01-.65-.843 2.46 2.46 0 01.2-.784c.042-.1.1-.2.146-.293a.109.109 0 00.013-.057l-.1.05a7.461 7.461 0 01-1.723.675 3.779 3.779 0 01-.946.124 1.928 1.928 0 01-.913-.2 1.308 1.308 0 01-.67-.939 2.551 2.551 0 01.007-.918 8.026 8.026 0 01.7-2.162 15.721 15.721 0 011.187-2.115.118.118 0 00.01-.126A14.726 14.726 0 016.5 9.493a6.5 6.5 0 01-.166-1.047c0-.042-.015-.063-.061-.064a17.072 17.072 0 00-4.195.294l-.062.01L2 8.671c.03-.029.059-.058.09-.086.878-.547 3.841-.7 4.1-.7.065 0 .085-.02.087-.086.01-.3.014-.6.041-.9a4.6 4.6 0 01.313-1.4A1.633 1.633 0 016.934 5a.844.844 0 011.2-.1 2.661 2.661 0 01.649.775.185.185 0 00.061.065c0-.075.011-.15.014-.225.027-.644.315-2.826 1.7-3.5 1.3-.428 3.166 2.417 3.623 3.2.213.367.407.744.607 1.119.026.049.06.055.108.063.438.068.877.129 1.312.212a10.631 10.631 0 011.809.506c.142.055.285.112.423.177a.084.084 0 00.127-.04c.125-.21.257-.417.377-.63a22.656 22.656 0 001.136-2.269 4.718 4.718 0 00.288-.849.345.345 0 01.013-.037 1.017 1.017 0 01.029.447 4.507 4.507 0 01-.31 1.075c-.175.461-.36.92-.559 1.372-.162.367-.352.723-.529 1.085-.038.077-.037.076.038.118a6.253 6.253 0 011.568 1.2 2.116 2.116 0 01.509.854 1.045 1.045 0 01.028.448.672.672 0 01-.313.451 1.6 1.6 0 01-.7.241c-.183.024-.369.029-.554.042l-.057.006c.032.025.051.042.072.056a7.61 7.61 0 011.536 1.245 3.249 3.249 0 01.721 1.109 1.471 1.471 0 01.07.875 1.307 1.307 0 01-.5.711 3.468 3.468 0 01-1.174.553 8.064 8.064 0 01-1.27.253 10.726 10.726 0 01-1.241.092c-.544.005-1.089.013-1.634.006a.255.255 0 00-.241.119A13.563 13.563 0 0114.2 17.7a5.665 5.665 0 01-.815.639c-.046.029-.054.053-.027.1a22.758 22.758 0 001.389 2.287c.15.214.306.426.467.633s.331.409.502.616zm-3.476-5.884l-.01.027a12.214 12.214 0 00.67 1.382l.079-.048a10.6 10.6 0 001.263-.982 10.822 10.822 0 001.847-2.1 6.05 6.05 0 001.097-3.17.106.106 0 00-.062-.116c-.357-.179-.708-.373-1.071-.541a22.223 22.223 0 00-3.334-1.2c-.65-.182-1.3-.347-1.967-.475a.073.073 0 01-.069-.089c.005-.1 0-.193.008-.289.011-.126.032-.251.047-.376.005-.035.021-.05.058-.044.209.031.42.053.628.093.679.131 1.36.256 2.035.406a22.9 22.9 0 013.251.968c.019.007.039.01.076.02a4.527 4.527 0 00-1.511-1.815A3.615 3.615 0 0117.089 9.4l.894-1.249-.129-.066a11.825 11.825 0 00-2.085-.761A11.507 11.507 0 0013.4 6.94a5.727 5.727 0 00-3.079.645.12.12 0 00-.078.132c.019.373.388 4.814 1.308 6.645.017.049.012.073-.039.094q-.288.12-.571.249c-.057.026-.082.016-.11-.041a13.742 13.742 0 01-.684-1.7 30.726 30.726 0 01-.942-3.719l-.082-.416h-.025a3.972 3.972 0 00-.785 2.256.351.351 0 01-.014-.046l-.044-.436a2.186 2.186 0 01.053-.716 5.3 5.3 0 01.478-1.237c.011-.022.019-.046.034-.079a206.89 206.89 0 01-1.489-.143c-.041-.005-.057.01-.054.05s.007.109.014.163c.042.3.08.6.13.9A12.54 12.54 0 007.9 11.46a8.914 8.914 0 001.15 2.369 5.02 5.02 0 001.611 1.509.1.1 0 00.125 0c.334-.221.676-.429 1-.66a19.639 19.639 0 001.96-1.613 26.184 26.184 0 002.125-2.18c.037-.043.066-.047.109-.015l.532.383c.047.033.047.059.012.1a24.006 24.006 0 01-2.095 2.42 39.62 39.62 0 01-1.968 1.855l-.149.135.006.02a3.922 3.922 0 001.159-.059 5.644 5.644 0 001.113-.344 1.847 1.847 0 01-.491.347 3.584 3.584 0 01-1.433.356c-.143.017-.285.008-.426.008zm-1.977-8.963a6.8 6.8 0 013.67-.8c-.021-.036-.032-.057-.045-.077a9.652 9.652 0 00-.914-1.232 3.422 3.422 0 00-.73-.655.885.885 0 00-1.244.197 2.315 2.315 0 00-.425.756 5.8 5.8 0 00-.314 1.726.776.776 0 00.002.085zm-.005 8.466a6.484 6.484 0 01-2.522-2.741.152.152 0 00-.021.012.3.3 0 00-.021.033 7.788 7.788 0 00-.674 1.64 2.455 2.455 0 00-.1 1 .775.775 0 00.35.567 1.117 1.117 0 00.559.169 3.787 3.787 0 001.029-.084 4.76 4.76 0 001.346-.555c.018-.012.032-.025.054-.041zm6.2-.664c.036 0 .057.005.078 0 .223-.012.445-.023.667-.039a5.845 5.845 0 001-.159 2.612 2.612 0 00.942-.4.828.828 0 00.341-.916 2.056 2.056 0 00-.428-.818 5.983 5.983 0 00-1.384-1.218.4.4 0 00-.065-.031 6.412 6.412 0 01-1.147 3.581zm-7.5-7.11a12.9 12.9 0 01-.028-.339l-.057-.8a.525.525 0 00-.025-.16 1.236 1.236 0 00-.334-.465.459.459 0 00-.657-.016 1.2 1.2 0 00-.343.482 3.472 3.472 0 00-.224 1.24c0 .068.026.088.086.09l.373.014a4 4 0 001.209-.046zm8.621 2.031c.024.013.037.021.051.027l1.134.546a.179.179 0 00.088.018c.148-.007.3-.011.444-.028a.506.506 0 00.456-.507.873.873 0 00-.2-.556 3.786 3.786 0 00-1.034-.9c-.047-.031-.063 0-.084.031q-.33.533-.663 1.063c-.062.102-.125.2-.192.306zm-5.991 6.487a.29.29 0 00-.028.012l-1.069.75a.218.218 0 00-.071.074 4.67 4.67 0 00-.169.375.54.54 0 00-.024.323.52.52 0 00.358.37 1.156 1.156 0 00.595.033 3.844 3.844 0 001.144-.426c.055-.029.049-.058.024-.1l-.728-1.358c-.009-.021-.02-.036-.032-.053z"/></svg>'},514:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bhbear-market-desc bhbear-market-title"><title id="bhbear-market-title">Bear Market Icon</title><desc id="bhbear-market-desc">A picture depicting a bear.</desc><path d="M13 14l1 1-2 2-2-2 1-1zm9 0l-1 8H3l-1-8 3-7a2.7 2.7 0 01-1-2 3 3 0 013-3 3.312 3.312 0 013 2h4a3.312 3.312 0 013-2 3 3 0 013 3 2.7 2.7 0 01-1 2zm-6 0l-2-3h-4l-2 3 1.966 4.034h4.068z"/></svg>'},9075:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bibehance-desc bibehance-title"><title id="bibehance-title">Behance Icon</title><desc id="bibehance-desc">A picture showing the Behance logo.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-4.5 4.573h4.013v1.2H14.5zm-2.028 6.283c0 2.969-3.09 2.872-3.09 2.872H4.315V7h5.062a2.485 2.485 0 012.752 2.59 1.688 1.688 0 01-1.484 1.851c1.955 0 1.822 2.415 1.822 2.415zm7.507-.158h-5.046a1.582 1.582 0 001.712 1.692c1.617 0 1.56-1.046 1.56-1.046h1.712c0 2.777-3.329 2.587-3.329 2.587a3.451 3.451 0 01-3.738-3.718s0-3.738 3.738-3.738c3.937 0 3.386 4.225 3.386 4.225zm-9.572.037c0 1.138-.766 1.255-1.168 1.264H6.545V12.4h2.832s1.023-.014 1.023 1.335zM9.2 10.9H6.545V8.729h2.832s.688 0 .688 1.012S9.66 10.9 9.2 10.9zm8.909 1.5h-3.2a1.739 1.739 0 011.712-1.5 1.449 1.449 0 011.489 1.5z"/></svg>'},6668:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bjbill-paid-desc bjbill-paid-title"><title id="bjbill-paid-title">Bill Paid Icon</title><desc id="bjbill-paid-desc">A picture depicting a paper bill with a check mark at the end.</desc><path d="M19 14a5 5 0 105 5 5 5 0 00-5-5zm-.5 8l-2.949-2.949 1.4-1.4L18.5 19.2l2.551-2.549 1.4 1.4zM18 2H6a2 2 0 00-2 2v16a2 2 0 002 2h6.685A6.938 6.938 0 0112 19H6v-2h6.3a6.957 6.957 0 01.969-2H6v-2h9.417A6.936 6.936 0 0119 12a7.026 7.026 0 011 .08V4a2 2 0 00-2-2zm-2 9H8V9h8zm2-4H6V5h12z"/></svg>'},6589:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bkbiohazard-desc bkbiohazard-title"><title id="bkbiohazard-title">Biohazard Icon</title><desc id="bkbiohazard-desc">A picture showing the biohazard symbol.</desc><path d="M20.4 12a5.414 5.414 0 00-3.473-1.562 5.443 5.443 0 00-4.014-7.758v.941a3.9 3.9 0 11-1.817.009v-.944a5.444 5.444 0 00-3.987 7.75A5.428 5.428 0 003 19.011l.669-.669a3.9 3.9 0 111.281 1.291l-.666.666A5.443 5.443 0 0012 18.886a5.443 5.443 0 007.716 1.414l-.666-.666a3.9 3.9 0 111.278-1.291l.669.669A5.457 5.457 0 0020.4 12zM12 14.24a1 1 0 111-1 1 1 0 01-1 1zm5-.591a2.646 2.646 0 01.785.131 5.841 5.841 0 01-2.838 4.241 2.673 2.673 0 01-.44-.745 4.966 4.966 0 002.422-3.62c.027-.001.049-.007.071-.007zm-10.764.3A2.562 2.562 0 017 13.82c.029 0 .057.008.086.009a4.981 4.981 0 002.341 3.413 2.549 2.549 0 01-.415.758 5.847 5.847 0 01-2.774-4.053zm3.233-6.241a5.8 5.8 0 015.1.018 2.558 2.558 0 01-.251.844 4.815 4.815 0 00-4.606-.017 2.553 2.553 0 01-.243-.845z"/></svg>'},3468:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="blbitcoin-desc blbitcoin-title"><title id="blbitcoin-title">Bitcoin Icon</title><desc id="blbitcoin-desc">A picture showing the Bitcoin logo.</desc><path d="M14.339 13.513c0 1.4-2.4 1.236-3.161 1.235l.005-2.48c.762.001 3.157-.215 3.156 1.245zm-.519-3.5c0-1.328-2-1.129-2.633-1.129v2.249c.632 0 2.63.152 2.633-1.121zM22 12A10 10 0 1112 2a10 10 0 0110 10zm-7.048-.594a1.744 1.744 0 00.969-1.894C15.8 8.177 14.644 7.728 13.189 7.6V5.749h-1.127v1.8c-.3 0-.6 0-.9.01V5.745h-1.126v1.85a35.16 35.16 0 01-.717.009V7.6H7.765v1.2s.832-.015.819 0a.58.58 0 01.647.494l-.008 5.071a.4.4 0 01-.424.373c.014.013-.819 0-.819 0l-.226 1.345c.554 0 1.734 0 2.271.01v1.873h1.125v-1.853c.309.007.608.01.9.01v1.844h1.127v-1.869c1.895-.106 3.221-.581 3.388-2.359a1.918 1.918 0 00-1.613-2.333z"/></svg>'},1115:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bmblood-desc bmblood-title"><title id="bmblood-title">Blood Icon</title><desc id="bmblood-desc">A picture showing two drops of liquid.</desc><path d="M16.969 5S12 9.444 12 12.634a5.024 5.024 0 001.453 3.522 4.868 4.868 0 003.516 1.363 4.865 4.865 0 003.516-1.363 5.024 5.024 0 001.453-3.522c0-3.19-4.969-7.634-4.969-7.634zm-.441 9h-1.885a2.061 2.061 0 01.009-3h1.894a2.35 2.35 0 00-.018 3zm-4.489 3.57A7.027 7.027 0 0110 12.634c0-2.477 1.9-5.156 3.531-6.995A43.068 43.068 0 0010 2S2 9.1 2 14.2a8 8 0 002.34 5.627A7.867 7.867 0 0010 22a7.867 7.867 0 005.66-2.178c.119-.119.226-.246.336-.371a6.731 6.731 0 01-3.957-1.881zM5 17a4.832 4.832 0 01-.551-5h1.962c-.665 1.6-.532 3.916.589 5z"/></svg>'},6680:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bnblu-ray-desc bnblu-ray-title"><title id="bnblu-ray-title">Blu-Ray Icon</title><desc id="bnblu-ray-desc">A picture showing the Blu-Ray logo.</desc><path d="M11.9 7c-.294 0-.462.011-.462.011a.082.082 0 00-.084.083c0 .083 0 .083.084.083 2.988 0 7.883 1.411 7.717 4.316-.166 2.406-3.9 5.227-12.7 5.227 0 .083-.083.083 0 .249 0 0 15.185.747 15.517-5.394C22.192 7.148 13.959 6.976 11.9 7zm-7.765.841c-.915 1.496-1.413 2.409-1.994 3.571l-.083.165v.083c-.083.083 0 .249 0 .332.332.581 2.158 1.245 6.224 1.245 3.07 0 6.307-.581 6.307-1.66 0-.995-3.154-1.659-6.307-1.659a10.644 10.644 0 00-2.324.249c.249-.5 1.412-2.324 1.412-2.324zm4.232 3.32c1.825 0 2.987.331 2.987.5 0 .249-1.162.5-2.987.5-1.909 0-2.987-.249-2.987-.5s1.076-.498 2.985-.498z"/></svg>'},788:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bobottom-percentile-records-desc bobottom-percentile-records-title"><title id="bobottom-percentile-records-title">Bottom records</title><desc id="bobottom-percentile-records-desc">Shows percentile records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm-4 8h4v-2H8zm0-4h8v-2H8zm10-1a5.976 5.976 0 012 .35V4a2 2 0 00-2-2h-3v2h3zm-5.91 7H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2h6.812a5.945 5.945 0 01-.722-2zm4.872-2.435a.157.157 0 00-.058-.1.213.213 0 00-.2 0 .158.158 0 00-.059.1 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192c.01-.08.01-.186.01-.312s0-.234-.008-.314a.931.931 0 00-.03-.189zm2.393 1.88a.166.166 0 00-.059-.095.22.22 0 00-.2 0 .156.156 0 00-.058.095.954.954 0 00-.028.189q-.009.12-.009.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.028-.189zM22 19a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.778 2.778 0 000-.985.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.778 2.778 0 000 .985.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 17h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.778 2.778 0 000 .985.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>'},2941:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bpbottom-records-desc bpbottom-records-title"><title id="bpbottom-records-title">Bottom records</title><desc id="bpbottom-records-desc">Shows records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm4 2H8v2h8zm-4 4H8v2h4zm-6 6h12a2 2 0 002-2V4a2 2 0 00-2-2h-3v2h3v16H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2z"/></svg>'},2233:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bqbox-desc bqbox-title"><title id="bqbox-title">Box Icon</title><desc id="bqbox-desc">A picture showing the Box logo.</desc><path d="M2.781 6.109A.747.747 0 002 6.891v7.156a3.9 3.9 0 003.844 3.844A4.037 4.037 0 009.312 15.8a3.95 3.95 0 003.469 2.094 3.891 3.891 0 000-7.782A4.04 4.04 0 009.312 12.2a3.861 3.861 0 00-3.468-2.094 3.985 3.985 0 00-2.313.782v-4a.818.818 0 00-.75-.779zm13.657 3.969a.748.748 0 00-.282.125.81.81 0 00-.156 1.063l2.031 2.687L16 16.672a.808.808 0 00.156 1.062.848.848 0 001.094-.156l1.688-2.312 1.687 2.312a.848.848 0 001.094.156.808.808 0 00.156-1.062l-2-2.719 2-2.687a.81.81 0 00-.156-1.063.851.851 0 00-1.094.156l-1.687 2.282-1.688-2.282a.84.84 0 00-.812-.281zM5.844 11.734a2.375 2.375 0 012.312 2.313 2.272 2.272 0 01-2.312 2.312 2.313 2.313 0 110-4.625zm6.937 0a2.322 2.322 0 012.313 2.313 2.375 2.375 0 01-2.313 2.312 2.313 2.313 0 010-4.625z"/></svg>'},3956:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="brbraille-desc brbraille-title"><title id="brbraille-title">Braille Icon</title><desc id="brbraille-desc">A picture showing 6 dots.</desc><path d="M7 1a3 3 0 103 3 3 3 0 00-3-3zm0 5a2 2 0 112-2 2 2 0 01-2 2zm-3 6a3 3 0 113 3 3 3 0 01-3-3zm10 0a3 3 0 113 3 3 3 0 01-3-3zm3 5a3 3 0 103 3 3 3 0 00-3-3zm0 5a2 2 0 112-2 2 2 0 01-2 2zM14 4a3 3 0 113 3 3 3 0 01-3-3zM7 17a3 3 0 103 3 3 3 0 00-3-3zm0 5a2 2 0 112-2 2 2 0 01-2 2z"/></svg>'},9250:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bsbreastfeeding-desc bsbreastfeeding-title"><title id="bsbreastfeeding-title">Breast-feeding Icon</title><desc id="bsbreastfeeding-desc">A picture depicting a woman breastfeeding her child.</desc><path d="M18.62 9.891C18.39 8.872 17.773 8 16.728 8h-1.283A3.955 3.955 0 0016 6a4 4 0 00-8 0 3.955 3.955 0 00.555 2H7.272C6.227 8 5.61 8.872 5.38 9.891c-.382 1.7-1.663 5.4-1.324 7.376a5.609 5.609 0 006.773 4.589c.887-.239 1.779-1.287 1.368-2.149-.65-1.361-1.421.07-3.386-.854C7 18 7 17 7 17a11.721 11.721 0 001.722.174.693.693 0 00.36-1.211c-.513-.581-.856-2.647.491-2.88.86-.148 1.136.268 1.249.6A5.3 5.3 0 0012.11 16.3a3.535 3.535 0 003.409 1.466s-2.283 1.242-1.538 2.612S16.324 21.37 17 21a6.389 6.389 0 002.943-3.733c.34-1.967-.936-5.661-1.323-7.376zM15 16a2 2 0 112-2 2 2 0 01-2 2z"/></svg>'},4774:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="btbrick-wall-desc btbrick-wall-title"><title id="btbrick-wall-title">Brick Wall Icon</title><desc id="btbrick-wall-desc">A picture depicting a wall made of bricks.</desc><path d="M6 5H2V1h4zm10-4H8v4h8zM2 11h8V7H2zm10 0h8V7h-8zM22 1h-4v4h4zM6 13H2v4h4zm10 0H8v4h8zM2 23h8v-4H2zm10 0h8v-4h-8zm10-10h-4v4h4z"/></svg>'},2124:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bubrush-desc bubrush-title"><title id="bubrush-title">Brush Icon</title><desc id="bubrush-desc">A picture showing a painting brush.</desc><path d="M13.093 6.743a1.074 1.074 0 011.306.251l.237.237-6.4 6.4-.242-.231a1.074 1.074 0 01-.251-1.306c.446-.693 1.553-2.516.515-3.554-1.584-1.585-2.225-.94-3.809-2.528S2.714 3 3.354 2.354s2.073-.489 3.658 1.095.943 2.225 2.527 3.809c1.038 1.042 2.861-.069 3.554-.515zm6.93 5.874L15.31 7.9 8.9 14.31l4.433 4.433c-.039.159-.084.327-.137.508 0 0-.8 2.749.8 2.749s.8-2.749.8-2.749a10.75 10.75 0 01-.272-1.14L16.2 16.44a8.944 8.944 0 00-2.072-3.314s.555-.545 3.323 2.063l.811-.811-1.54-2.5 2.5 1.539z"/></svg>'},8205:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bvbucket-desc bvbucket-title"><title id="bvbucket-title">Bucket Icon</title><desc id="bvbucket-desc">A picture showing a bucket.</desc><path d="M14 2.39V2h-4v.369A8.326 8.326 0 005 10c0 .236 1 11 1 11a14.515 14.515 0 006 1 14.515 14.515 0 006-1s1-10.809 1-11a8.486 8.486 0 00-5-7.61zM12 11c-2.761 0-5-.448-5-1s2.239-1 5-1 5 .448 5 1-2.239 1-5 1zm5.679-2.164A17.2 17.2 0 0012 8a16.179 16.179 0 00-5.692.869C6.074 7.451 7.919 4.811 10 3.617V4h4v-.38c2.076 1.194 3.922 3.825 3.679 5.216z"/></svg>'},1803:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bwbudget-spending-desc bwbudget-spending-title"><title id="bwbudget-spending-title">Budget-Spending Icon</title><desc id="bwbudget-spending-desc">A picture showing an encircled dollar sign with arrows at the top, bottom, left, and right sides of it.</desc><path d="M12 6a6 6 0 106 6 6 6 0 00-6-6zm0 10.5a4.5 4.5 0 114.5-4.5 4.5 4.5 0 01-4.5 4.5zM12 0L8 3.99h3V7h2V3.99h3zm0 24l4-3.99h-3V17h-2v3.01H8zm12-12l-3.99-4v3H15v2h5.01v3zM0 12l3.99 4v-3H9v-2H3.99V8zm12.529 2.284V15h-1v-.724A1.4 1.4 0 0110.3 13h.735c.038.394.308.7.994.7.735 0 .9-.367.9-.6 0-.311-.165-.6-1-.8-.93-.225-1.568-.608-1.568-1.377a1.3 1.3 0 011.167-1.2V9h1v.731A1.328 1.328 0 0113.6 11h-.735c-.019-.416-.24-.7-.833-.7-.563 0-.9.255-.9.615 0 .315.244.521 1 .716s1.568.523 1.568 1.469c0 .685-.519 1.06-1.171 1.184z"/></svg>'},7970:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bxbug-desc bxbug-title"><title id="bxbug-title">Bug Icon</title><desc id="bxbug-desc">A picture showing an insect.</desc><path d="M21 9h-3.54a7.251 7.251 0 00-2.56-2.271 2.833 2.833 0 00-.2-2.015l1.007-1.007-1.414-1.414L13.286 3.3a2.906 2.906 0 00-2.572 0L9.707 2.293 8.293 3.707 9.3 4.714a2.833 2.833 0 00-.2 2.015A7.251 7.251 0 006.54 9H3v2h2.514a8.879 8.879 0 00-.454 2H3v2h2.06a8.879 8.879 0 00.454 2H3v2h3.54A6.7 6.7 0 0012 22a6.7 6.7 0 005.46-3H21v-2h-2.514a8.879 8.879 0 00.454-2H21v-2h-2.06a8.879 8.879 0 00-.454-2H21zm-10 7H9v-2h2zm0-4v-2h2v2zm4 4h-2v-2h2z"/></svg>'},5765:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bybuilding-desc bybuilding-title"><title id="bybuilding-title">Building Icon</title><desc id="bybuilding-desc">A picture depicting a building.</desc><path d="M2 2v20h8v-6h4v6h8V2zm6 16H4v-2h4zm0-4H4v-2h4zm0-4H4V8h4zm0-4H4V4h4zm6 8h-4v-2h4zm0-4h-4V8h4zm0-4h-4V4h4zm6 12h-4v-2h4zm0-4h-4v-2h4zm0-4h-4V8h4zm0-4h-4V4h4z"/></svg>'},2374:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bzbull-market-desc bzbull-market-title"><title id="bzbull-market-title">Bull Market Icon</title><desc id="bzbull-market-desc">A picture depicting bull head.</desc><path d="M18 7.98L20 7l2-5-3 3-4.1 2L12 6 9.1 7 5 5.037 2 2l2 5 2 .98L7 9l-4 1s1.113 2 3 2c.04 0 1-1 1-1v3l1 2 1 3.01v2l3 .99 3-.992v-2L16 16l1-2v-3s.96 1 1 1c1.887 0 3-2 3-2l-4-1z"/></svg>'},4827:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cabulldozer-desc cabulldozer-title"><title id="cabulldozer-title">Bulldozer Icon</title><desc id="cabulldozer-desc">A picture depicting a bulldozer.</desc><path d="M22 13.564V5h1V3H13v1l1 1-1 5h-2V8a1 1 0 00-1-1H8l1 1v2a2 2 0 00-2 2v1.141a4 4 0 00-2.946 3.228L2 16.948V13a2 2 0 00-2-2v9h2v-.974l2.262-.638A3.99 3.99 0 008 21h12a3.982 3.982 0 002-7.436zM8 19a2 2 0 112-2 2 2 0 01-2 2zm8-14h4v5h-5zm4 14a2 2 0 112-2 2 2 0 01-2 2z"/></svg>'},9979:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cbbusiness-development-desc cbbusiness-development-title"><title id="cbbusiness-development-title">Business Development Icon</title><desc id="cbbusiness-development-desc">A picture depicting a globe inside a mechanical gear.</desc><path d="M9.412 8.559a7.922 7.922 0 01-1.244-.4 5.44 5.44 0 012.237-1.348 5.273 5.273 0 00-.993 1.748zm2.588.3a11.737 11.737 0 002.015-.178c-.476-1.274-1.208-2.11-2.015-2.11s-1.539.836-2.015 2.108A11.755 11.755 0 0012 8.857zM9.236 9.1a8.293 8.293 0 01-1.471-.49 5.4 5.4 0 00-1.179 3.1h2.278a10.612 10.612 0 01.372-2.61zm-.372 3.184H6.586a5.4 5.4 0 001.179 3.1 8.293 8.293 0 011.471-.49 10.612 10.612 0 01-.372-2.608zm6.968-4.127A5.434 5.434 0 0013.6 6.811a5.273 5.273 0 01.993 1.748 7.922 7.922 0 001.239-.4zm-6.027 6.615a12.086 12.086 0 014.39 0 9.944 9.944 0 00.369-2.486H9.436a9.944 9.944 0 00.369 2.486zM14.2 9.228a12.21 12.21 0 01-2.2.2 12.21 12.21 0 01-2.2-.2 9.944 9.944 0 00-.369 2.486h5.128a9.944 9.944 0 00-.359-2.486zm-.6 7.961a5.434 5.434 0 002.237-1.348 7.922 7.922 0 00-1.244-.4 5.273 5.273 0 01-.993 1.748zm-5.432-1.348a5.44 5.44 0 002.237 1.348 5.273 5.273 0 01-.993-1.748 7.922 7.922 0 00-1.244.4zm13.369-1.216a.468.468 0 01.125.625l-2 3.475a.5.5 0 01-.6.225l-2.474-1a7.541 7.541 0 01-1.676.975l-.4 2.65a.492.492 0 01-.5.425h-4a.507.507 0 01-.5-.425l-.376-2.65a7.171 7.171 0 01-1.7-.975l-2.475 1a.525.525 0 01-.625-.225l-2-3.475a.473.473 0 01.124-.625l2.1-1.65c-.024-.325-.049-.65-.049-.975a6.133 6.133 0 01.1-.975l-2.124-1.65a.494.494 0 01-.124-.65l2-3.45a.492.492 0 01.6-.225l2.5 1a7.962 7.962 0 011.675-.975l.376-2.65a.507.507 0 01.5-.425h4a.51.51 0 01.5.425l.374 2.65a7.49 7.49 0 011.675.975l2.5-1a.482.482 0 01.6.225l2 3.45a.5.5 0 01-.125.65l-2.125 1.65a4.027 4.027 0 01.1.975c0 .325-.026.65-.051.975zM18 12a6 6 0 10-6 6 6.007 6.007 0 006-6zm-3.236-2.9a10.612 10.612 0 01.372 2.612h2.278a5.4 5.4 0 00-1.179-3.1 8.293 8.293 0 01-1.471.488zM12 15.143a11.746 11.746 0 00-2.015.178c.476 1.272 1.208 2.108 2.015 2.108s1.539-.836 2.015-2.108A11.737 11.737 0 0012 15.143zm2.764-.246a8.375 8.375 0 011.471.491 5.4 5.4 0 001.179-3.1h-2.278a10.6 10.6 0 01-.372 2.612z"/></svg>'},6405:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cccaduceus-desc cccaduceus-title"><title id="cccaduceus-title">Caduceus Icon</title><desc id="cccaduceus-desc">A picture depicting two snakes twisted around a poll.</desc><path d="M6.463 4.065c-1.34.277-1.376 1.457-4.441 2.36 0 0 3.277 1.257 5.55.9a2.508 2.508 0 011.611-.465 1.692 1.692 0 01-.2-.781c0-.124.011-.534 0-.625a1.949 1.949 0 00-2.52-1.389zm8.574 1.389c-.011.091 0 .5 0 .625a1.68 1.68 0 01-.2.781 2.51 2.51 0 011.612.468c2.273.354 5.55-.9 5.55-.9-3.065-.9-3.1-2.083-4.441-2.36a1.949 1.949 0 00-2.521 1.386zM13.8 8.345a1.12 1.12 0 011.4-.427c.318.1 2.162 1.043 2.162 2.1a2.257 2.257 0 01-1.477 2.017 6.467 6.467 0 00-1.56-.652c.992-.248 1.791-.683 1.791-1.365a.669.669 0 00-.692-.54 3.011 3.011 0 01-.861-.015c-.604-.189-.944-.69-.763-1.118zm.2 7.194a8.773 8.773 0 00-1.047-.23v-2.352c.138.015.267.031.373.051 1.679.308 1.74 1.063.731 1.721a6.776 6.776 0 01.989.458 1.472 1.472 0 00-.134-2.779 9.4 9.4 0 00-1.959-.562V5.1a1.637 1.637 0 00.942-1.435A1.785 1.785 0 0012 2a1.786 1.786 0 00-1.885 1.667 1.637 1.637 0 00.943 1.433v6.392C9.569 11.258 7.9 11 7.9 10.021a.67.67 0 01.694-.541 2.988 2.988 0 00.863-.014c1.4-.435.755-2.013-.638-1.548-2.692.987-3.078 3.58.276 4.494-2.406.642-1.465 3.081.922 3.127-2.91.8-1.567 2.938.1 3.034-.618.221-1.108.878-.642 1.436.129.155.774.522.861.223.053-.18-.109-.481-.167-.655-.1-.3.326-.47.892-.551v2.141a.95.95 0 001.885 0v-2.174a2.783 2.783 0 01.421.072c.264.071.45.222.462.474 0 .084-.2.731-.077.725.4-.023.9-.229.948-.635a1.013 1.013 0 00-.454-.876 2.89 2.89 0 00-1.3-.436v-2.048c.74.1 1.471.326 1.459.784 0 .171-.022.4-.49.639a4.417 4.417 0 01.792.46 1.277 1.277 0 00.728-1.1c-.049-.933-.649-1.267-1.445-1.513zm-5.046-1.683c.1-.558 1.066-.819 2.1-.909V15c-1.192-.219-2.206-.523-2.1-1.144zm.476 3.227c0-.453.831-.7 1.628-.808V18.1c-.869-.18-1.628-.571-1.628-1.017z"/></svg>'},5156:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cdcalculator-desc cdcalculator-title"><title id="cdcalculator-title">Calculator Icon</title><desc id="cdcalculator-desc">A picture depicting an electronic calculator.</desc><path d="M18 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2zm0 6H6V4h12zM8 12H6v-2h2zm5 0h-2v-2h2zm5 0h-2v-2h2zM8 16H6v-2h2zm5 0h-2v-2h2zm5 0h-2v-2h2zM8 20H6v-2h2zm5 0h-2v-2h2zm5 0h-2v-2h2z"/></svg>'},562:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cecancer-ribbon-desc cecancer-ribbon-title"><title id="cecancer-ribbon-title">Cancer Ribbon Icon</title><desc id="cecancer-ribbon-desc">A picture depicting a ribbon.</desc><path d="M19 19l-1.75.336L16.88 22s-2.283-3.568-4.312-6.708c.61-.943 1.181-1.822 1.642-2.525zM15.9 4.944a4 4 0 00-4.52-2.894c-4.464.83-3.855 6.383-1.509 9.112 0 0 1.454-1.787 1.56-1.939a6.935 6.935 0 01-1.331-3.44c0-1.908 3.792-1.908 3.792 0a7.424 7.424 0 01-1.908 4.3L5.011 19l1.75.336L7.12 22s6.161-9.628 7.233-11.166c1.136-1.634 2.038-3.867 1.547-5.89z"/></svg>'},1046:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cfcandidate-results-desc cfcandidate-results-title"><title id="cfcandidate-results-title">Candidate Results Icon</title><desc id="cfcandidate-results-desc">A picture depicting two people standing next to progress indicators.</desc><path d="M10 10H2V8.321A1.387 1.387 0 013.444 7h5.112A1.387 1.387 0 0110 8.321zM6 6a2 2 0 10-2-2 2 2 0 002 2zm4 16H2v-1.679A1.387 1.387 0 013.444 19h5.112A1.387 1.387 0 0110 20.321zm-4-4a2 2 0 10-2-2 2 2 0 002 2zm6-14v4h10V4zm9 3h-2V5h2zm-9 9v4h10v-4zm9 3h-5v-2h5z"/></svg>'},8760:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cgcase-sensitive-desc cgcase-sensitive-title"><title id="cgcase-sensitive-title">Case Sensitive Icon</title><desc id="cgcase-sensitive-desc">A picture showing the letter A written in both upper and lower case.</desc><path d="M21.2 16.5c0-.2-.1-.5-.1-.7v-4.4c0-.4-.1-.8-.3-1.2-.2-.3-.5-.6-.8-.7-.3-.2-.7-.3-1.1-.3-.4-.1-.8-.1-1.2-.1-.5 0-.9 0-1.4.1-.4.1-.8.3-1.2.5-.3.2-.6.5-.8.9s-.3.9-.3 1.3h1.4c0-.5.2-1 .7-1.3.5-.2 1-.4 1.5-.3.2 0 .5 0 .7.1.2 0 .4.1.6.2.2.1.3.2.5.4.1.2.2.5.2.7s-.1.4-.2.6c-.2.2-.4.3-.6.3-.3.1-.6.1-.9.2-.4 0-.7.1-1.1.2-.4.1-.7.1-1.1.2-.3.1-.7.2-1 .4s-.5.5-.7.8c-.2.4-.3.8-.3 1.2s.1.8.2 1.1c.1.3.4.5.6.7.3.2.6.3.9.4.9.2 1.9.2 2.8-.2.5-.2 1-.6 1.4-1 0 .4.1.7.3 1 .2.2.6.3.9.3.4 0 .7-.1 1-.2v-1.1c-.1 0-.3.1-.4.1-.1.1-.2 0-.2-.2zm-1.5-1.7c0 .2-.1.4-.2.6-.1.2-.3.5-.5.6-.2.2-.5.4-.8.5-.4.1-.8.2-1.2.2-.2 0-.4 0-.6-.1-.2 0-.4-.1-.5-.2-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.1-.6 0-.3.1-.6.2-.8.2-.2.4-.4.6-.5.3-.1.6-.2.9-.2s.7-.1 1-.1.6-.1.9-.1.5-.1.7-.3v1.4zm-9.6-.4l1.3 3.6h1.8L8.5 6H6.7L2 18h1.7L5 14.4h5.1zm-2.5-7l2.1 5.5H5.5l2.1-5.5z"/></svg>'},1786:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="chcash-1-desc chcash-1-title"><title id="chcash-1-title">Cash Icon</title><desc id="chcash-1-desc">A picture depicting a stack of cash.</desc><path d="M20 2H4a2 2 0 00-2 2v8a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 8a2.116 2.116 0 00-1.98 2H5.98A2.135 2.135 0 004 10c-.006-.067-.006-3.937 0-4a2.14 2.14 0 001.98-2h12.04A2.122 2.122 0 0020 6c.006.065.006 3.935 0 4zM9 8a3 3 0 113 3 3 3 0 01-3-3zM6 8a1 1 0 111 1 1 1 0 01-1-1zm10 0a1 1 0 111 1 1 1 0 01-1-1zm5 10H3a1 1 0 01-1-1 1 1 0 011-1h18a1 1 0 011 1 1 1 0 01-1 1zm0 4H3a1 1 0 01-1-1 1 1 0 011-1h18a1 1 0 011 1 1 1 0 01-1 1z"/></svg>'},2353:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cicash-2-desc cicash-2-title"><title id="cicash-2-title">Cash Icon</title><desc id="cicash-2-desc">A picture depicting a stack of cash.</desc><path d="M13.37 17.035V18H6v-8h7.37v.965a1.733 1.733 0 00-1.555 1.605c0 1.025.85 1.535 2.09 1.835 1.115.265 1.335.655 1.335 1.07 0 .3-.22.8-1.2.8-.915 0-1.275-.41-1.325-.935h-.98a1.86 1.86 0 001.635 1.695zM14.705 10v.975a1.768 1.768 0 011.425 1.7h-.98c-.025-.555-.32-.935-1.11-.935-.75 0-1.2.34-1.2.82 0 .42.325.7 1.335.955s2.09.7 2.09 1.955c0 .915-.69 1.415-1.56 1.58V18H22v-8zM20 6H2v10h2V8h16z"/></svg>'},4578:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cjcash-only-desc cjcash-only-title"><title id="cjcash-only-title">Cash-Only Icon</title><desc id="cjcash-only-desc">A picture depicting a crossed-out credit card.</desc><path d="M2.27 18.609A2.481 2.481 0 012 17.5V12h6.879zM15.879 5H4.5A2.5 2.5 0 002 7.5V9h9.879zm6.182.061l-2.122-2.122-17 17 2.122 2.122L7.121 20H19.5a2.5 2.5 0 002.5-2.5V12h-6.879l3-3H22V7.5a2.481 2.481 0 00-.677-1.7z"/></svg>'},4303:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ckcement-mixer-desc ckcement-mixer-title"><title id="ckcement-mixer-title">Cement Mixer Icon</title><desc id="ckcement-mixer-desc">A picture depicting a cement mixer truck.</desc><path d="M23.892 8.076l-1.86 3.483-7.31 3.477-2.792-1.27L10 9.486l.863-3.009L18.173 3l3.789.8zM19.221 16H21v2h-1a3 3 0 01-6 0H7a3 3 0 01-6 0H0v-5l2-5h6v8h6.779a2.966 2.966 0 014.442 0zM5 18a1 1 0 10-1 1 1 1 0 001-1zm1-8H2.9L2 13h4zm12 8a1 1 0 10-1 1 1 1 0 001-1z"/></svg>'},4175:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="clcertificate-desc clcertificate-title"><title id="clcertificate-title">Certificate Icon</title><desc id="clcertificate-desc">A picture depicting a badge of honor.</desc><path d="M18 8a6 6 0 10-6 6 6 6 0 006-6zm-6.968 7.936L8 22l-2-2H3l3.232-6.465a7.974 7.974 0 004.8 2.401zM21 20h-3l-2 2-3.032-6.064a7.974 7.974 0 004.8-2.4z"/></svg>'},1319:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cmcheck-desc cmcheck-title"><title id="cmcheck-title">Check Icon</title><desc id="cmcheck-desc">A picture depicting a check mark.</desc><path d="M19.4 5.3l1.4 1.4-12 12-5.6-5.6 1.4-1.4 4.2 4.2z"/></svg>'},8593:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cnchrome-desc cnchrome-title"><title id="cnchrome-title">Chrome Icon</title><desc id="cnchrome-desc">A picture showing the Chrome browser logo.</desc><path d="M14.8 8.316h6.241a.279.279 0 01.321.221 9.778 9.778 0 01-.823 8.623 9.744 9.744 0 01-6.622 4.654 9.484 9.484 0 01-2.436.177c.037-.078.063-.143.1-.2l4.145-7.132a5.441 5.441 0 00.827-2.266 4.514 4.514 0 00-1.48-3.833l-.273-.244zm-1.168 7.966l-.3.092a4.366 4.366 0 01-2.936-.082 4.723 4.723 0 01-2.414-2.047c-1.248-2.142-2.467-4.3-3.7-6.454L3.6 6.594a9.987 9.987 0 006.79 15.265zm7.123-9.073c-.027-.054-.054-.108-.084-.16A10 10 0 009.757 2.262a9.762 9.762 0 00-5.406 3.3.228.228 0 00-.019.314q1.475 2.583 2.945 5.17c.034.06.072.117.117.191.081-.3.133-.562.226-.813a4.632 4.632 0 014.405-3.1c2.2-.011 4.392 0 6.587 0H20.8c-.022-.061-.032-.089-.044-.115zM8.385 12a3.583 3.583 0 103.567-3.577A3.57 3.57 0 008.385 12z"/></svg>'},3696:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="coclinic-desc coclinic-title"><title id="coclinic-title">Clinic Icon</title><desc id="coclinic-desc">A picture showing a house with the cross symbol in the center.</desc><path d="M12 2L2 10h2v12h16V10h2zm4 13h-3v3h-2v-3H8v-2h3v-3h2v3h3z"/></svg>'},2859:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cqcode-fork-desc cqcode-fork-title"><title id="cqcode-fork-title">Code Fork Icon</title><desc id="cqcode-fork-desc">A picture depicting a line diverging into two separate lines.</desc><path d="M22 5a3 3 0 10-4 2.816V11H6V7.816a3 3 0 10-2 0V13h7v3.184a3 3 0 102 0V13h7V7.816A2.99 2.99 0 0022 5z"/></svg>'},2906:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="crcode-review-desc crcode-review-title"><title id="crcode-review-title">Code Review Icon</title><desc id="crcode-review-desc">A picture showing encircled angle brackets with a dot between them.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zM9 14.207l-1 1L4.793 12 8 8.793l1 1L6.793 12zM12 14a2 2 0 112-2 2 2 0 01-2 2zm4 1.207l-1-1L17.207 12 15 9.793l1-1L19.207 12z"/></svg>'},5536:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cpcode-desc cpcode-title"><title id="cpcode-title">Code Icon</title><desc id="cpcode-desc">A picture showing encircled angle brackets.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm-2 12.207l-1 1L5.793 12 9 8.793l1 1L7.793 12zm5 1l-1-1L16.207 12 14 9.793l1-1L18.207 12z"/></svg>'},2801:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cscommodities-desc cscommodities-title"><title id="cscommodities-title">Commodities Icon</title><desc id="cscommodities-desc">A picture depicting an oil barrel and 3 gold ingots.</desc><path d="M13 11.5c0-.489-.37-.943-1-1.328V6.828c.63-.385 1-.839 1-1.328C13 4.119 10.09 3 6.5 3S0 4.119 0 5.5c0 .489.37.943 1 1.328v3.344c-.63.385-1 .839-1 1.328s.37.943 1 1.328v3.344c-.63.385-1 .839-1 1.328C0 18.881 2.91 20 6.5 20s6.5-1.119 6.5-2.5c0-.489-.37-.943-1-1.328v-3.344c.63-.385 1-.839 1-1.328zM6.283 7.286l-.02.008-.02-.007zM6.5 15a3.5 3.5 0 113.5-3.5A3.5 3.5 0 016.5 15zm1.466-4.537L6.5 9l-1.466 1.463a2.071 2.071 0 102.932 0zM21 19h-6l.944-2.944h4.112zm-3 4h-6l.944-2.944h4.112zm6 0h-6l.944-2.944h4.112z"/></svg>'},1027:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cucondom-used-desc cucondom-used-title"><title id="cucondom-used-title">Condom Used Icon</title><desc id="cucondom-used-desc">A picture depicting a condom with a sperm inside.</desc><path d="M17 21a1 1 0 01-1 1H8a1 1 0 010-2h8a1 1 0 011 1zm-1-2H8V7a3.99 3.99 0 013-3.858V3a1 1 0 012 0v.142A3.99 3.99 0 0116 7zM13.5 8.75c0-1.035-.68-1.865-1.5-1.75a1.888 1.888 0 00-1.152 2.762c1.165 2.194.046 5.755 1.9 6.238a6.25 6.25 0 01-.39-1.821C12.27 13 13.5 9.594 13.5 8.75z"/></svg>'},8603:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ctcondom-desc ctcondom-title"><title id="ctcondom-title">Condom Icon</title><desc id="ctcondom-desc">A picture depicting an empty, open condom.</desc><path d="M16 19H8V7a3.99 3.99 0 013-3.858V3a1 1 0 012 0v.142A3.99 3.99 0 0116 7zm0 1H8a1 1 0 000 2h8a1 1 0 000-2z"/></svg>'},7566:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cvconsole-desc cvconsole-title"><title id="cvconsole-title">Terminal Icon</title><desc id="cvconsole-desc">A picture depicting a computer terminal.</desc><path d="M19 3H5a2.015 2.015 0 00-2 2v14a2.015 2.015 0 002 2h14a2.015 2.015 0 002-2V5a2.015 2.015 0 00-2-2zM6.793 18.207l-1-1L8 15l-2.207-2.207 1-1L10 15zM19 9H5V7h14z"/></svg>'},7909:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cwconstruction-cone-desc cwconstruction-cone-title"><title id="cwconstruction-cone-title">Construction Cone Icon</title><desc id="cwconstruction-cone-desc">A picture depicting a construction cone.</desc><path d="M21 21a1 1 0 01-1 1H4a1 1 0 010-2h2l.667-3h10.666L18 20h2a1 1 0 011 1zM15.111 7H8.889l-.667 3h7.556zM14 2h-4l-.667 3h5.334zm2.222 10H7.778l-.667 3h9.778z"/></svg>'},3960:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cxconstruction-project-desc cxconstruction-project-title"><title id="cxconstruction-project-title">Construction Project Icon</title><desc id="cxconstruction-project-desc">A picture depicting a construction project or an architectural plan, a blueprint.</desc><path d="M2 22H1a1 1 0 01-1-1V5.11a1.487 1.487 0 001 .39h1zM24 2v18H3V4H1a1 1 0 010-2zm-2 8h-4.536L14 4l-3.039 5.263A4.454 4.454 0 009.5 9a4.5 4.5 0 104.38 5.5H15V17h7zm-11.549.147a3.494 3.494 0 102.386 4.353h-4.9zM16.309 10L14 6l-2.13 3.689A4.485 4.485 0 0114 13.5h1V10zm-4.937.552L9.67 13.5H13a3.489 3.489 0 00-1.628-2.948zM16 14.5V16h5v-5h-2.959l2.021 3.5zm2.33-1L16.887 11H16v2.5z"/></svg>'},2642:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="cyconstruction-trolley-desc cyconstruction-trolley-title"><title id="cyconstruction-trolley-title">Construction Trolley Icon</title><desc id="cyconstruction-trolley-desc">A picture depicting a construction trolley.</desc><path d="M9 16a3 3 0 103 3 3 3 0 00-3-3zm0 4a1 1 0 111-1 1 1 0 01-1 1zm13-10v2h-2l-4 7h-3a4 4 0 00-8 0H3l-1-6h15l2-3zM4 12c.767-1.706 3.034-5 6-5 3 0 5 3 5 5z"/></svg>'},7784:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="czcontains-desc czcontains-title"><title id="czcontains-title">Contains Icon</title><desc id="czcontains-desc">A picture showing the lowercase letter A in a square box.</desc><path d="M3 3v18h18V3zm16 16H5V5h14z"/><path d="M12 11.3a4.39 4.39 0 00-2.54.63 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 01-.21-.88 5.57 5.57 0 01-.07-.93v-3.5a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.54 3.54 0 00-2.3.72A1.93 1.93 0 009 10.29h1.71a.93.93 0 01.29-.71 1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 01-.71.77 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9 1.76 1.76 0 011.22-.39z"/></svg>'},2517:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dacontraception-desc dacontraception-title"><title id="dacontraception-title">Contraception Icon</title><desc id="dacontraception-desc">A picture depicting a pill.</desc><path d="M1 2l2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2h22l-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2zm11 17A6.993 6.993 0 015.786 8.786l1.527 1.527A4.947 4.947 0 007 12a5 5 0 105-5 4.95 4.95 0 00-2.375.625L8.154 6.154A7 7 0 1112 19z"/></svg>'},4666:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dbcordless-screwdriver-desc dbcordless-screwdriver-title"><title id="dbcordless-screwdriver-title">Cordless Screwdriver Icon</title><desc id="dbcordless-screwdriver-desc">A picture depicting a cordless screwdriver.</desc><path d="M14 5v3a2 2 0 01-2 2H3L1 8V5a2 2 0 012-2h9a2 2 0 012 2zm3 1V5a1 1 0 00-1-1h-1v5h1a1 1 0 001-1V7h6V6zm-5 7l.5-2H4v6a1 1 0 00-1 1v2a1 1 0 001 1h7a1 1 0 001-1v-2a1 1 0 00-1-1H9l1-4z"/></svg>'},5445:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dccoronavirus-desc dccoronavirus-title"><title id="dccoronavirus-title">Corona Virus Icon</title><desc id="dccoronavirus-desc">A picture depicting a virus cell.</desc><path d="M20.5 10a1.486 1.486 0 00-1.292 1h-1.3a5.958 5.958 0 00-1.023-2.473l.915-.917a1.487 1.487 0 001.625-.21 1.806 1.806 0 00-.354-2.475 1.806 1.806 0 00-2.471-.35 1.487 1.487 0 00-.21 1.625l-.917.917A5.958 5.958 0 0013 6.09v-1.3a1.486 1.486 0 001-1.29c0-.828-.895-1.5-2-1.5s-2 .672-2 1.5a1.486 1.486 0 001 1.292v1.3a5.958 5.958 0 00-2.473 1.021L7.61 6.2a1.487 1.487 0 00-.21-1.625 1.806 1.806 0 00-2.475.354 1.806 1.806 0 00-.35 2.471 1.487 1.487 0 001.625.21l.917.917A5.958 5.958 0 006.09 11h-1.3a1.486 1.486 0 00-1.29-1c-.828 0-1.5.9-1.5 2s.672 2 1.5 2a1.486 1.486 0 001.292-1h1.3a5.964 5.964 0 001.023 2.473l-.915.917a1.487 1.487 0 00-1.621.206 1.806 1.806 0 00.354 2.475 1.806 1.806 0 002.475.354A1.487 1.487 0 007.61 17.8l.917-.917A5.958 5.958 0 0011 17.91v1.3a1.486 1.486 0 00-1 1.29c0 .828.895 1.5 2 1.5s2-.672 2-1.5a1.486 1.486 0 00-1-1.292v-1.3a5.958 5.958 0 002.473-1.023l.917.917a1.487 1.487 0 00.206 1.621 1.806 1.806 0 002.475-.354 1.806 1.806 0 00.354-2.475 1.487 1.487 0 00-1.625-.204l-.917-.917A5.964 5.964 0 0017.91 13h1.3a1.486 1.486 0 001.29 1c.828 0 1.5-.895 1.5-2s-.672-2-1.5-2zM9 15a1 1 0 111-1 1 1 0 01-1 1zm6-4a1 1 0 111-1 1 1 0 01-1 1zm-3.939.061a1.8 1.8 0 01-2.475.353 1.8 1.8 0 01.353-2.475 1.8 1.8 0 012.475-.353 1.8 1.8 0 01-.353 2.475zm4 4a1.8 1.8 0 01-2.475.353 1.8 1.8 0 01.353-2.475 1.8 1.8 0 012.475-.353 1.8 1.8 0 01-.353 2.475z"/></svg>'},7781:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ddcountry-home-desc ddcountry-home-title"><title id="ddcountry-home-title">Country Home Icon</title><desc id="ddcountry-home-desc">A picture depicting a house in the country with a garden and trees.</desc><path d="M21.9 14.35a2.55 2.55 0 01-2.55 2.55H17V22h-2v-5.1h-2.45a2.545 2.545 0 01-1.08-4.852 3.375 3.375 0 01-.62-1.948 1.7 1.7 0 011.7-1.7h.05a2.6 2.6 0 01-.049-.425A3.209 3.209 0 0115.95 5a3.209 3.209 0 013.4 2.975 2.6 2.6 0 01-.05.425h.049a1.7 1.7 0 011.7 1.7 3.375 3.375 0 01-.62 1.948A2.545 2.545 0 0121.9 14.35zM13 22v-3.1h-.45a4.54 4.54 0 01-3.52-7.42 5.359 5.359 0 01-.18-1.38 3.7 3.7 0 011.824-3.188A4.982 4.982 0 0112.9 3.9L11 2 7 6V5H5v3l-3 3h3v11z"/></svg>'},3284:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="decrane-desc decrane-title"><title id="decrane-title">Crane Icon</title><desc id="decrane-desc">A picture depicting a tower crane with a hook.</desc><path d="M6 9H2V7h4zm14.033 1h1v2h-1v.634a1.347 1.347 0 011 1.479 1.51 1.51 0 01-1.509 1.509A1.423 1.423 0 0118.033 14c.886 1.113 2 1 2 .113a.77.77 0 00-1-.85V12h-1v-2h1L19 6h-3v4h-2v8h2v2h2v2H6v-2h2v-2h2v-8H8V6H2V4h6V2h8v2h3.778L22 6h-2zM14 4h-3v3h3z"/></svg>'},676:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dfcredit-cards-desc dfcredit-cards-title"><title id="dfcredit-cards-title">Credit Cards Icon</title><desc id="dfcredit-cards-desc">A picture depicting a credit card.</desc><path d="M8 6a4 4 0 00-4 4v6a2 2 0 01-2-2V6a2 2 0 012-2h12a2 2 0 012 2zm-2 4h16a2 2 0 00-2-2H8a2 2 0 00-2 2zm0 2h16v6a2 2 0 01-2 2H8a2 2 0 01-2-2zm9 4.5a1.494 1.494 0 002.5 1.111 1.5 1.5 0 100-2.222A1.494 1.494 0 0015 16.5z"/></svg>'},7915:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dgcredit-control-desc dgcredit-control-title"><title id="dgcredit-control-title">Credit Control Icon</title><desc id="dgcredit-control-desc">A picture depicting a credit card with an eye in the middle.</desc><path d="M12 14c-4.418 0-8 4-8 4s3.582 4 8 4 8-4 8-4-3.582-4-8-4zm0 6a2 2 0 112-2 2 2 0 01-2 2zM22 5H2V4a2 2 0 012-2h16a2 2 0 012 2zM2 15V7h20v8a1.985 1.985 0 01-.676 1.489C20.513 15.644 16.745 12 12 12s-8.513 3.644-9.324 4.489A1.985 1.985 0 012 15z"/></svg>'},6786:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dhcrowdfunding-desc dhcrowdfunding-title"><title id="dhcrowdfunding-title">Crowd-Funding Icon</title><desc id="dhcrowdfunding-desc">A picture depicting the dollar sign encircled.</desc><path d="M21.409 18.586a2 2 0 11-3.34.9L16.9 18.317a7.964 7.964 0 01-9.785.006L5.935 19.5a2 2 0 11-1.415-1.415l1.174-1.174A7.965 7.965 0 015.686 7.1L4.5 5.914A2 2 0 115.914 4.5L7.1 5.686a7.966 7.966 0 0110.34.46l.635-.635a2 2 0 111.414 1.414l-.76.76a7.964 7.964 0 01-.417 9.219l1.171 1.172a1.993 1.993 0 011.926.51zM15.1 14.007c0-1.726-1.479-2.322-2.863-2.678s-1.829-.733-1.829-1.309c0-.657.616-1.123 1.644-1.123 1.082 0 1.486.52 1.521 1.281h1.342a2.423 2.423 0 00-1.952-2.323V6.52H11v1.322a2.244 2.244 0 00-1.994 2.2c0 1.4 1.165 2.1 2.864 2.514 1.527.363 1.829.9 1.829 1.466 0 .418-.3 1.089-1.644 1.089-1.254 0-1.747-.562-1.816-1.281H8.9a2.421 2.421 0 002.1 2.328v1.322h1.966v-1.308c1.192-.226 2.134-.911 2.134-2.165z"/></svg>'},2558:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dicustom-filter-desc dicustom-filter-title"><title id="dicustom-filter-title">Custom Filter Icon</title><desc id="dicustom-filter-desc">An icon showing that custom filter is applied.</desc><path d="M12.138 21H8.2a1.171 1.171 0 01-1.152-1.188v-5.937L2.123 4.719A1.187 1.187 0 013.153 3h14.694a1.187 1.187 0 011.03 1.719l-3.763 7a2.2 2.2 0 00-.437.642h-.3a2.206 2.206 0 00-1.922 1.11l-.9 1.553-.058.109a2.246 2.246 0 00.212 2.366 2.185 2.185 0 00-.168 2.462zm9.775-2.319a.21.21 0 01.056.281l-.9 1.564a.226.226 0 01-.27.1l-1.113-.449a3.415 3.415 0 01-.754.438l-.18 1.193a.221.221 0 01-.225.191h-1.8a.228.228 0 01-.225-.191l-.169-1.193a3.233 3.233 0 01-.765-.438l-1.114.449a.236.236 0 01-.281-.1l-.9-1.564a.213.213 0 01.056-.281l.945-.742a5.864 5.864 0 01-.022-.439 2.709 2.709 0 01.045-.439l-.956-.742a.224.224 0 01-.057-.293l.9-1.552a.222.222 0 01.27-.1l1.125.45a3.581 3.581 0 01.754-.438l.169-1.193a.228.228 0 01.225-.193h1.8a.23.23 0 01.225.191l.169 1.193a3.348 3.348 0 01.753.438l1.125-.45a.217.217 0 01.27.1l.9 1.552a.225.225 0 01-.056.293l-.956.742A1.8 1.8 0 0121 17.5c0 .146-.011.293-.023.439zM19.236 17.5a1.609 1.609 0 10-1.609 1.609 1.609 1.609 0 001.609-1.609z"/></svg>'},5458:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="djdeafness-desc djdeafness-title"><title id="djdeafness-title">Deafness Icon</title><desc id="djdeafness-desc">A picture depicting a crossed-out human ear.</desc><path d="M11.432 22a3.921 3.921 0 01-3.79-2.635l-.186-.57h1.738l.115.266a2.28 2.28 0 002.123 1.325 2.255 2.255 0 002.243-1.645 4.059 4.059 0 00-.15-1.369 4.012 4.012 0 01-.081-2.062 5.461 5.461 0 011.57-2.277 5.067 5.067 0 001.346-1.844 4.253 4.253 0 00.216-1.337 4.812 4.812 0 00-5-4.593 5.264 5.264 0 00-4.9 3.718 2.84 2.84 0 00-.077.642.845.845 0 11-1.69 0 5.112 5.112 0 01.065-.809 6.627 6.627 0 016.607-5.165 6.467 6.467 0 016.685 6.207 5.96 5.96 0 01-2.1 4.434l-.087.084a3.04 3.04 0 00-1.1 1.551 2.881 2.881 0 00.184 1.174 4.2 4.2 0 01.234 1.254 3.574 3.574 0 01-.918 2.325A4.093 4.093 0 0111.432 22zm0 0a3.921 3.921 0 01-3.79-2.635l-.186-.57h1.738l.115.266a2.28 2.28 0 002.123 1.325 2.255 2.255 0 002.243-1.645 4.059 4.059 0 00-.15-1.369 4.012 4.012 0 01-.081-2.062 5.461 5.461 0 011.57-2.277 5.067 5.067 0 001.346-1.844 4.253 4.253 0 00.216-1.337 4.812 4.812 0 00-5-4.593 5.264 5.264 0 00-4.9 3.718 2.84 2.84 0 00-.077.642.845.845 0 11-1.69 0 5.112 5.112 0 01.065-.809 6.627 6.627 0 016.607-5.165 6.467 6.467 0 016.685 6.207 5.96 5.96 0 01-2.1 4.434l-.087.084a3.04 3.04 0 00-1.1 1.551 2.881 2.881 0 00.184 1.174 4.2 4.2 0 01.234 1.254 3.574 3.574 0 01-.918 2.325A4.093 4.093 0 0111.432 22zm3.495-11.93a3.282 3.282 0 00-3.34-3.212 3.281 3.281 0 00-3.339 3.212.477.477 0 00.954 0 2.387 2.387 0 014.77 0 .478.478 0 00.955 0zM9 11.636l-6 5.776L4.966 19.3l6-5.776zm9.544-5.4l2.441-2.348L19.023 2l-2.235 2.149a6.355 6.355 0 011.76 2.09z"/></svg>'},8758:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dkdebate-desc dkdebate-title"><title id="dkdebate-title">Debate Icon</title><desc id="dkdebate-desc">A picture depicting boxing gloves hitting each other.</desc><path d="M10.453 10.728c-.47-.413-1.986-.329-3.12-.2.575-.172 1.119-.5 1.119-1.111A.458.458 0 007.954 9l-1.42.019a1.023 1.023 0 00-.2.02l-2.034.37a.493.493 0 00-.414.425L3.8 14.268a.429.429 0 00.4.414L6.217 15c.066.012 3.137-.026 3.137-.026 2.646-.002 1.784-3.645 1.099-4.246zM10 13.751a.505.505 0 01-1 0v-1.728a.505.505 0 011 0zm-10-.427v-2.6a.86.86 0 01.859-.859h1.282a.86.86 0 01.859.858v2.6a.86.86 0 01-.859.859H.859A.86.86 0 010 13.324zm14.646 1.648s3.071.038 3.137.026l2.021-.316a.429.429 0 00.4-.414l-.089-4.434a.493.493 0 00-.414-.425l-2.034-.37a1.023 1.023 0 00-.2-.02L16.046 9a.458.458 0 00-.5.421c0 .615.544.939 1.119 1.111-1.134-.133-2.65-.217-3.12.2-.683.597-1.545 4.24 1.101 4.24zM14 12.023a.505.505 0 011 0v1.728a.505.505 0 01-1 0zm7 1.3v-2.6a.86.86 0 01.859-.859h1.282a.86.86 0 01.859.859v2.6a.86.86 0 01-.859.859h-1.282a.86.86 0 01-.859-.858zM12 7a.5.5 0 01-.5-.5v-3A.5.5 0 0112 3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5zm3 0a.5.5 0 01-.183-.683l.866-1.5a.5.5 0 01.683-.183.5.5 0 01.183.683l-.866 1.5A.5.5 0 0115 7zM9 7a.5.5 0 01-.683-.183l-.866-1.5a.5.5 0 01.183-.683.5.5 0 01.683.183l.866 1.5A.5.5 0 019 7zm4 10.5v3a.5.5 0 01-.5.5.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5.5.5 0 01.5.5zm3.183-.317l.741 1.284a.5.5 0 01-.183.683.5.5 0 01-.683-.183l-.741-1.284A.5.5 0 0115.5 17a.5.5 0 01.683.183zm-6.5.5l-.741 1.284a.5.5 0 01-.683.183.5.5 0 01-.183-.683l.741-1.284A.5.5 0 019.5 17a.5.5 0 01.183.683z"/></svg>'},2082:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dldebt-desc dldebt-title"><title id="dldebt-title">Debt Icon</title><desc id="dldebt-desc">A picture depicting a scale weight with the dollar symbol printed on it.</desc><path d="M18 8h-3a1 1 0 010-2h2a2 2 0 000-4H7a2 2 0 000 4h2a1 1 0 010 2H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V10a2 2 0 00-2-2zm-5.119 10.806V20h-1.793v-1.206a2.209 2.209 0 01-1.919-2.125h1.225c.062.656.512 1.169 1.656 1.169 1.225 0 1.5-.613 1.5-.994 0-.519-.275-1.006-1.669-1.338-1.55-.375-2.612-1.012-2.612-2.294a2.048 2.048 0 011.819-2.006V10h1.793v1.219a2.207 2.207 0 011.781 2.118h-1.224c-.032-.693-.4-1.168-1.388-1.168-.938 0-1.5.425-1.5 1.025 0 .525.406.868 1.669 1.193s2.612.869 2.612 2.444c-.006 1.144-.862 1.769-1.95 1.975z"/></svg>'},2600:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dmdelivery-desc dmdelivery-title"><title id="dmdelivery-title">Delivery Icon</title><desc id="dmdelivery-desc">A picture depicting a truck.</desc><path d="M22 14v-2l-2-5h-5V5H2v10h2.184A2.966 2.966 0 004 16a3 3 0 006 0 2.966 2.966 0 00-.184-1h5.368A2.962 2.962 0 0015 16a3 3 0 006 0 2.962 2.962 0 00-.184-1H22v-1zM7 17a1 1 0 111-1 1 1 0 01-1 1zm11 0a1 1 0 111-1 1 1 0 01-1 1zm-1-5V9h2l1 3z"/></svg>'},2138:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dndental-floss-desc dndental-floss-title"><title id="dndental-floss-title">Dental Floss Icon</title><desc id="dndental-floss-desc">A picture  depicting a dental floss container.</desc><path d="M22 4v1H8V4a2 2 0 012-2h10a2 2 0 012 2zm0 3v13a2 2 0 01-2 2H10a2 2 0 01-2-2V9H7a1 1 0 00-1 1v10a2 2 0 01-2 2H2v-2h1a1 1 0 001-1V9a2 2 0 012-2h16zm-3 6.05c0-1.316-.387-2.383-1.733-2.383-.55 0-1.3.48-2.167.48s-1.617-.48-2.167-.48c-1.346 0-1.733 1.067-1.733 2.383a2.355 2.355 0 00.867 1.821V16.3c0 1.212.866 3.033 1.3 3.033 1.3 0 .866-2.6 1.733-2.6s.433 2.6 1.733 2.6c.434 0 1.3-1.821 1.3-3.033v-1.429A2.355 2.355 0 0019 13.05z"/></svg>'},2816:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dodental-implant-desc dodental-implant-title"><title id="dodental-implant-title">Dental Implant Icon</title><desc id="dodental-implant-desc">A picture depicting a tooth crown on a spiral.</desc><path d="M15.256 18H8.744a22.028 22.028 0 01-.348-2H15.6c-.094.727-.21 1.429-.344 2zm-5.719 2A4.307 4.307 0 0011 21.826a2.966 2.966 0 002 0A4.894 4.894 0 0014.449 20zM15.65 2C14 2 14 2.991 12 2.991S10 2 8.35 2C2 2 6 12 8 11.913c0 0 .057.91.17 2.087H10V9a1 1 0 011-1h2a1 1 0 011 1v5h1.83c.113-1.177.17-2.087.17-2.087C18 12 22 2 15.65 2z"/></svg>'},5640:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dpdevelopment-desc dpdevelopment-title"><title id="dpdevelopment-title">Development Icon</title><desc id="dpdevelopment-desc">A picture depicting puzzle pieces.</desc><path d="M2 4V2h8v2H9a2 2 0 000 4h1v2H8v1a2 2 0 01-4 0v-1H2V8h1a2 2 0 000-4zm0 0V2h8v2H9a2 2 0 000 4h1v2H8v1a2 2 0 01-4 0v-1H2V8h1a2 2 0 000-4zm9 12h-1v-2H8v1a2 2 0 01-4 0v-1H2v8h8v-2h1a2 2 0 000-4zm3-14v2h-1a2 2 0 000 4h1v2h2V9a2 2 0 014 0v1h2V2zm8 18v2h-8v-2h1a2 2 0 000-4h-1v-2h2v-1a2 2 0 014 0v1h2v2h-1a2 2 0 000 4z"/></svg>'},9079:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dqdiabetes-desc dqdiabetes-title"><title id="dqdiabetes-title">Diabetes Icon</title><desc id="dqdiabetes-desc">A picture depicting an index finger with a blood drop at the tip.</desc><path d="M9 5.4V3a1.913 1.913 0 011.917-2H11a2 2 0 012 2v2.4c-.124-.191-.24-.379-.387-.58L11 2.618l-1.613 2.2c-.147.201-.263.389-.387.582zm10.888 8.665L14.339 12.3a1.733 1.733 0 00-.66-.134H13v-1.937a3.01 3.01 0 01-4 0v6.714c-4.311-.91-4.244-.9-4.4-.9a1.367 1.367 0 00-.966.4l-.965.977L8.7 23.462A1.841 1.841 0 0010 24h8.3a1.78 1.78 0 001.76-1.564l.917-6.442A1.86 1.86 0 0021 15.75a1.831 1.831 0 00-1.112-1.687zm-7.473-4.643A2.015 2.015 0 0013 8.006a5.512 5.512 0 00-1.193-2.6L11 4.309l-.807 1.1A5.512 5.512 0 009 8.006a2.015 2.015 0 00.584 1.415 2.049 2.049 0 002.831 0z"/></svg>'},2926:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dsdiamond-circled-desc dsdiamond-circled-title"><title id="dsdiamond-circled-title">Diamond Circled Icon</title><desc id="dsdiamond-circled-desc">A picture depicting an encircled diamond.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm0 16l-5-7 2-3h6l2 3z"/></svg>'},1191:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="drdiamond-desc drdiamond-title"><title id="drdiamond-title">Diamond Icon</title><desc id="drdiamond-desc">A picture depicting a diamond.</desc><path d="M22 8zM2.769 9L12 21l9.231-12zM2.8 7H6V3zM8 3v4h8V3zm10 0v4h3.2z"/></svg>'},8147:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dtdiners-club-desc dtdiners-club-title"><title id="dtdiners-club-title">Diners Club Icon</title><desc id="dtdiners-club-desc">A picture showing the Diners Club International logo.</desc><path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zM7.5 15.5A3.5 3.5 0 1111 12a3.5 3.5 0 01-3.5 3.5zm9.031 0h-4.375a4.64 4.64 0 000-7h4.375a3.5 3.5 0 010 7zM7 9.906v4.188a2.152 2.152 0 010-4.188zM9.656 12A2.147 2.147 0 018 14.094V9.906A2.147 2.147 0 019.656 12z"/></svg>'},8901:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dudiscord-desc dudiscord-title"><title id="dudiscord-title">Discord Icon</title><desc id="dudiscord-desc">A picture showing the Discord application logo.</desc><path d="M11.1 12.762a1.275 1.275 0 01-1.21 1.321 1.326 1.326 0 010-2.643 1.268 1.268 0 011.21 1.322zm3.01-1.322a1.326 1.326 0 101.214 1.322 1.268 1.268 0 00-1.214-1.322zM21 5v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14a2 2 0 012 2zm-2.057 10.19a15.943 15.943 0 00-1.714-6.94A5.883 5.883 0 0013.884 7l-.167.191c2.811.97 3.189 1.287 2.964 1.511A11.271 11.271 0 0012 7.505c-2.843 0-4.539 1.339-4.681 1.2-.225-.224.153-.541 2.964-1.511L10.116 7a5.883 5.883 0 00-3.345 1.25 15.943 15.943 0 00-1.714 6.94A4.351 4.351 0 008.7 17s.428-.512.785-.964a6.519 6.519 0 01-1.9-.8c-.27-.2-.321-.361-.183-.559.078-.112.252-.166.494.022a7.856 7.856 0 008.214 0c.242-.188.416-.134.494-.022.138.2.087.361-.183.559a6.519 6.519 0 01-1.9.8c.357.452.785.964.785.964a4.351 4.351 0 003.637-1.81z"/></svg>'},6397:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dvdiscount-desc dvdiscount-title"><title id="dvdiscount-title">Discount Icon</title><desc id="dvdiscount-desc">A picture showing a percent sign enclosed in a star-shaped object.</desc><path d="M21.511 8.91L18.472 7.3l-.594-3.39-3.406.482L12 2 9.528 4.392 6.122 3.91 5.528 7.3 2.489 8.91 4 12l-1.511 3.09 3.039 1.61.594 3.388 3.406-.482L12 22l2.472-2.392 3.406.482.594-3.388 3.039-1.612L20 12zM7 9a2 2 0 112 2 2 2 0 01-2-2zm2.6 7.449l-1.2-.9 6-8 1.2.9zM15 17a2 2 0 112-2 2 2 0 01-2 2zm-6-7a1 1 0 111-1 1 1 0 01-1 1zm7 5a1 1 0 11-1-1 1 1 0 011 1z"/></svg>'},2441:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dwdividents-desc dwdividents-title"><title id="dwdividents-title">Dividents Icon</title><desc id="dwdividents-desc">A picture showing a percent sign encircled in rotating arrows.</desc><path d="M6 8a2 2 0 112 2 2 2 0 01-2-2zm10 10a2 2 0 112-2 2 2 0 01-2 2zm5.475-1.524A10.487 10.487 0 0113 22.445v1.5A11.994 11.994 0 0024 12l-.03-.66-3.81 3.81zM0 12l.03.66 3.81-3.81-1.33-1.33a10.47 10.47 0 018.48-5.96V.055A11.977 11.977 0 000 12zm20.061-5.939l-2.122-2.122-14 14 2.122 2.122z"/></svg>'},7237:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dxdna-desc dxdna-title"><title id="dxdna-title">DNA Icon</title><desc id="dxdna-desc">A picture depicting a spiral.</desc><path d="M15.749 10.82a82.94 82.94 0 00-1.864-1.124c.313-.216.635-.449.956-.7h-2.115a27.407 27.407 0 01-2.07-1.366c-.274-.2-.544-.416-.81-.634h7.208a8.986 8.986 0 001.423-2H7.9c-.32-.542-1.12-2-.9-2h14c0 3.258-2.842 6.044-5.251 7.824zM21 21c0-4.1-4.517-7.465-6.989-9L12 10.869C9.692 9.6 5 6.329 5 3H3c0 4.1 4.517 7.465 6.989 9C7.517 13.535 3 16.9 3 21h2c0-3.329 4.692-6.6 7-7.869A23.28 23.28 0 0114.841 15h-2.115c-.709.432-1.409.876-2.07 1.366-.274.2-.544.416-.81.634h7.206a8.981 8.981 0 011.422 2H7.9c-.32.542-1.12 2-.9 2h14z"/></svg>'},5802:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dydoctor-desc dydoctor-title"><title id="dydoctor-title">Doctor Icon</title><desc id="dydoctor-desc">A picture depicting a person with stethoscope around their neck.</desc><path d="M7 6a5 5 0 115 5 5 5 0 01-5-5zM3 17h3v-5.887c-4 .869-4.031 6.877-4 6.853a7.4 7.4 0 001 1.506zm2 4.17a12.3 12.3 0 004 1.521V19H5zm13-10.057v3.164a2 2 0 11-2 0V11.8L12 15l-4-3.2V17h3v5.962c.35.024.688.038 1 .038 2.98 0 8-1 10-5.034.031.024 0-5.984-4-6.853zM17 17a1 1 0 10-1-1 1 1 0 001 1z"/></svg>'},1494:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="dzdoctors-bag-desc dzdoctors-bag-title"><title id="dzdoctors-bag-title">Doctors Bag Icon</title><desc id="dzdoctors-bag-desc">A picture depicting a bag with a cross in the middle.</desc><path d="M20 7h-4V5a1.993 1.993 0 00-2-2h-4a1.993 1.993 0 00-2 2v2H4a1.985 1.985 0 00-1.99 2L2 19a1.993 1.993 0 002 2h16a1.993 1.993 0 002-2V9a1.993 1.993 0 00-2-2zM10 5h4v2h-4zm6 10h-3v3h-2v-3H8v-2h3v-3h2v3h3z"/></svg>'},1085:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eadoes-not-contain-desc eadoes-not-contain-title"><title id="eadoes-not-contain-title">Does-Not-Contain Icon</title><desc id="eadoes-not-contain-desc">A picture showing the lowercase letter A in a crossed-out square box.</desc><path d="M21 19.74V3H4.26L2.89 1.63 1.63 2.92 3 4.29V21h16.73l1.37 1.37 1.27-1.26zM5 19V6.28l5.28 5.27a3.19 3.19 0 00-.81.38 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1L17.73 19zm5.79-6.23a1.31 1.31 0 01.45-.25l1.37 1.36.28.29a1.57 1.57 0 01-.19.15 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9zm2.6-1.47h-.83l-1.62-1.62.08-.1a1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1zM19 17.74l-3.85-3.85v-3.27a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.64 3.64 0 00-2.24.67L6.26 5H19z"/></svg>'},1544:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ebdoes-not-end-with-desc ebdoes-not-end-with-title"><title id="ebdoes-not-end-with-title">Does-Not-End-With Icon</title><desc id="ebdoes-not-end-with-desc">A picture showing crossed-out lines at the end of a square box.</desc><path d="M20.293 2.293l1.414 1.414-18 18-1.414-1.414zM18 13h-2.757l-2 2H18zm2 8H7.243l-2 2H20a2 2 0 002-2V6.242l-2 2zm-2-4h-6.757l-2 2H18zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2z"/></svg>'},3099:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ecdoes-not-start-with-desc ecdoes-not-start-with-title"><title id="ecdoes-not-start-with-title">Does-Not-Start-With Icon</title><desc id="ecdoes-not-start-with-desc">A picture showing crossed-out lines at the beginning of a square box.</desc><path d="M3.707 21.707l-1.414-1.414 18-18 1.414 1.414zM6 11h2.757l2-2H6zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2zm2 4h6.757l2-2H6zm14 14H7.243l-2 2H20a2 2 0 002-2V6.243l-2 2z"/></svg>'},9154:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eddollar-circled-desc eddollar-circled-title"><title id="eddollar-circled-title">Dollar Circled Icon</title><desc id="eddollar-circled-desc">A picture showing an encircled dollar symbol.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm1 14.568V18h-2v-1.448A2.739 2.739 0 018.6 14h1.471c.075.787.615 1.4 1.987 1.4 1.47 0 1.8-.735 1.8-1.193 0-.622-.33-1.207-2-1.605-1.86-.45-3.135-1.215-3.135-2.752A2.546 2.546 0 0111 7.448V6h2v1.462a2.709 2.709 0 012.2 2.543h-1.47c-.037-.833-.48-1.4-1.665-1.4-1.125 0-1.8.51-1.8 1.23 0 .63.487 1.043 2 1.433S15.4 12.307 15.4 14.2c-.01 1.37-1.095 2.12-2.4 2.368z"/></svg>'},3145:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eedose-desc eedose-title"><title id="eedose-title">Dose Icon</title><desc id="eedose-desc">A picture showing a medicine dropper.</desc><path d="M17.612 8.549l-.729-.707L19.4 5.41a1.954 1.954 0 000-2.825 2.113 2.113 0 00-2.919 0l-2.517 2.432-.729-.706a1.056 1.056 0 00-1.459 0 .977.977 0 000 1.413l.729.706-5.956 5.77c-.658.637-1.387 2.895-.729 3.531s2.99-.069 3.647-.706l5.957-5.765.729.706a1.056 1.056 0 001.459 0 .976.976 0 000-1.417zm-8.145 5.059c-.4.39-1.785 1.1-2.188.706s.326-1.729.729-2.119L9.2 11h2.918zM5.838 16.9S4 19.032 4 20.221A1.805 1.805 0 005.838 22a1.8 1.8 0 001.838-1.779c0-1.189-1.838-3.321-1.838-3.321z"/></svg>'},6637:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="efdribbble-desc efdribbble-title"><title id="efdribbble-title">Dribbble Icon</title><desc id="efdribbble-desc">A picture showing the Dribble website logo.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-1.89 11.5a13.51 13.51 0 01-1.53 2.5 3.14 3.14 0 01-.51.52 1.64 1.64 0 01-2.08.17 6.62 6.62 0 01-.69-.54 11.34 11.34 0 01-.81.9 2.23 2.23 0 01-2.66.39 3.36 3.36 0 01-1.94-2.65 4 4 0 01.36-2.48 2.4 2.4 0 011.57-1.38 2.86 2.86 0 011.73.13c0-.34-.08-.68-.11-1a11.14 11.14 0 01.37-4.26 3 3 0 01.48-1 1.27 1.27 0 011.8-.26 2.69 2.69 0 011 1.46 6.38 6.38 0 01.24 2 18.34 18.34 0 01-1.39 6.82.27.27 0 000 .2 3.23 3.23 0 00.33.49c.14.17.24.17.43.06A4.08 4.08 0 0015.27 15c.21-.37.6-1.11.6-1.11a.71.71 0 01.61-.38.69.69 0 01.69.69.58.58 0 01-.06.3zM13 8.11a17.83 17.83 0 01-.43 4.18c-.1.51-.23 1-.35 1.52h-.06c-.07-.38-.15-.76-.2-1.14a21 21 0 01-.19-3.06 7.84 7.84 0 01.23-2.1 1.93 1.93 0 01.37-.76c.18-.19.29-.17.39.06a3.63 3.63 0 01.24 1.3zm-1.53 7.46a.26.26 0 010 .15c-.22.36-.42.73-.67 1.06a1.4 1.4 0 01-1.22.51 4 4 0 01-.5-.06.92.92 0 01-.68-.57 3 3 0 010-2.5 2.52 2.52 0 01.46-.66 1.38 1.38 0 012 0 .61.61 0 01.09.18z"/></svg>'},7454:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="egdrop-shipping-desc egdrop-shipping-title"><title id="egdrop-shipping-title">Drop Shipping Icon</title><desc id="egdrop-shipping-desc">A picture depicting an open parachute attached to a box.</desc><path d="M12 2c-7 0-8 8-8 8l5 6v6h6v-6l5-6s-1-8-8-8zm1 18h-2v-2h2zm-1-4l-5-6h10z"/></svg>'},1634:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ehdropbox-desc ehdropbox-title"><title id="ehdropbox-title">Dropbox Icon</title><desc id="ehdropbox-desc">A picture showing the Dropbox application logo.</desc><path d="M12.013 6.7L7.007 9.9l5.006 3.2-5.006 3.2L2 13.065 7.007 9.87 2 6.7l5.007-3.195zM6.98 17.3l5.007-3.2 5.006 3.2-5.006 3.2zm5.033-4.235L17.02 9.87 12.013 6.7l4.98-3.195L22 6.7l-5.007 3.2L22 13.092l-5.007 3.2z"/></svg>'},5216:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eidump-truck-desc eidump-truck-title"><title id="eidump-truck-title">Dump Truck Icon</title><desc id="eidump-truck-desc">A picture showing a dump truck.</desc><path d="M18 14a2.986 2.986 0 00-2.388 1.2L13 16l-3-3V6l1 1v5l2 2 11-2-2-6H12l-2-2H4v1h2l-2 6H2l-1 4H0v3h2.184a2.982 2.982 0 005.632 0h7.368A2.995 2.995 0 1018 14zM5 18a1 1 0 111-1 1 1 0 01-1 1zm1-8l1-3h2v3zm12 8a1 1 0 111-1 1 1 0 01-1 1z"/></svg>'},8535:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ejebay-desc ejebay-title"><title id="ejebay-title">Ebay Icon</title><desc id="ejebay-desc">A picture showing the ebay website logo.</desc><path d="M7.03 7.828v4.064a2.2 2.2 0 00-2.441-1.978A2.325 2.325 0 002 12.437a2.263 2.263 0 002.526 2.346c1.959 0 2.314-1.088 2.376-1.391H5.84a1.263 1.263 0 01-1.313.717 1.494 1.494 0 01-1.5-1.415H7.03v2.086h.978v-.629a2.345 2.345 0 001.838.629A2.264 2.264 0 0012.179 13a2.881 2.881 0 00.085-.652 2.3 2.3 0 00-2.4-2.435 2.28 2.28 0 00-1.857.89V7.828zM12.179 13c-.205 1.365.988 1.786 1.92 1.779a2.234 2.234 0 001.92-.8v.8h1.023v-3.02c-.029-.515-.1-1.754-2.275-1.845 0 0-2.079-.2-2.294 1.389h1.062s.088-.714 1.17-.7A1.258 1.258 0 0116.019 12h-1.294c-.525 0-2.272-.065-2.546 1zm4.17-3.087l2.314 4.5-.9 1.76h1.125L22 9.914h-1.063l-1.711 3.478-1.711-3.478zm-11.783.694A1.381 1.381 0 016.006 12H3.024a1.509 1.509 0 011.542-1.392zm5.071 0c1.62-.042 1.565 1.741 1.565 1.741s.026 1.714-1.565 1.737-1.564-1.76-1.564-1.76a1.613 1.613 0 011.564-1.717zm4.879 2.086c.147-.006.251 0 .251 0h1.148s.185 1.46-1.627 1.434c0 0-1.026 0-1.085-.824-.003-.462.877-.583 1.313-.609z"/></svg>'},480:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ekelectoral-votes-desc ekelectoral-votes-title"><title id="ekelectoral-votes-title">Electoral Votes Icon</title><desc id="ekelectoral-votes-desc">A picture depicting a person standing in front of a tribune.</desc><path d="M10.444 16v2a.223.223 0 01-.222.222h-.444v-2.444h.444a.223.223 0 01.222.222zm3.334-.222h-1.222l.2-1.034a.223.223 0 00-.018-.146 1.062 1.062 0 00-.2-.271l-.1-.105-1.418 1.425a.445.445 0 00-.131.315V17.7a.52.52 0 00.52.518h1.8a.447.447 0 00.382-.215l.591-1.367a.434.434 0 00.038-.178v-.24a.446.446 0 00-.442-.44zM19 12l-1 10H6L5 12h1.444C7.392 8.806 8.667 6.444 12 6.444S16.609 8.8 17.556 12zM8.667 12h1.111V9.778zm6.666 4.444A3.333 3.333 0 1012 19.778a3.333 3.333 0 003.333-3.334zm0-4.444l-1.111-2.222V12zM12 6.444a2.222 2.222 0 10-2.222-2.222A2.222 2.222 0 0012 6.444z"/></svg>'},9082:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="elembryo-desc elembryo-title"><title id="elembryo-title">Embryo Icon</title><desc id="elembryo-desc">A picture depicting a baby in its mother&apos;s womb.</desc><path d="M17.527 3.669c-1-.669-2.037.989-1.2 1.824a25.105 25.105 0 011.836 1.974 3.381 3.381 0 01.484 2.85 4.167 4.167 0 01-1.75 2.1c-.535.362-1.035-.5-.5-.863a2.591 2.591 0 001.376-2.379A3.385 3.385 0 0016.045 6.7a2.36 2.36 0 01-1.229-2.813c.273-.441.426-1.118.148-1.435C14.5 1.916 13.032 2 12 2a10.006 10.006 0 105.527 1.669zM18 16.436c-.412.564-2.032-.188-2.032-.188-.3 1.861-3.09 2.8-4.468 2.752A4.555 4.555 0 017 14.5a8.766 8.766 0 01.417-2.961 2.994 2.994 0 113.273-.062 3.438 3.438 0 00.288 1.3 4.167 4.167 0 001.967-1.237c.18-.209.408-.366.66-.253a.83.83 0 01.395.84 3.069 3.069 0 01-2.093 1.859 4.868 4.868 0 001.674.882l.233-.475a.981.981 0 01.729-.526.593.593 0 01.111-.015.882.882 0 01.178 0 .558.558 0 01.078.02.959.959 0 01.243.064l.729.358 1.76.746c.458.311.924.62.358 1.396z"/></svg>'},5346:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="emend-expression-desc emend-expression-title"><title id="emend-expression-title">End Expression Icon</title><desc id="emend-expression-desc">A picture showing three dots followed by a right-pointed chevron.</desc><path d="M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z"/><path d="M11.91 11h2v2h-2zm-4 0h2v2h-2zm-4 0h2v2h-2z"/></svg>'},6312:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="enends-with-desc enends-with-title"><title id="enends-with-title">Ends With Icon</title><desc id="enends-with-desc">A picture showing three dots followed by lowercase a.</desc><path d="M3 14.5h2v2H3zm8 0h2v2h-2zm-4 0h2v2H7zm13.8.3v-3A2.1 2.1 0 0020 10a3 3 0 00-2-.6 3 3 0 00-2 .6 1.7 1.7 0 00-.7 1.5h1.5a.8.8 0 01.3-.7 1.3 1.3 0 01.9-.3 1.3 1.3 0 01.9.4 1.1 1.1 0 01.3.8v.6H18a3.8 3.8 0 00-2.2.6 1.8 1.8 0 00-.8 1.5 2 2 0 00.6 1.6 2.3 2.3 0 001.6.6 2.1 2.1 0 001.2-.4 2.8 2.8 0 00.8-.8 4.3 4.3 0 00.1.5l.1.5H21a4.1 4.1 0 01-.2-.7 5.4 5.4 0 010-1zm-1.6-.5a1.5 1.5 0 01-.6.7 2 2 0 01-1 .2 1.1 1.1 0 01-.8-.2.8.8 0 01-.2-.6 1 1 0 01.3-.8 1.5 1.5 0 011.1-.3h1.2z"/></svg>'},6379:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eoequals-desc eoequals-title"><title id="eoequals-title">Equals Icon</title><desc id="eoequals-desc">A picture showing the equals sign.</desc><path d="M5 13.5h14v2H5zm0-5h14v2H5z"/></svg>'},1075:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="epestate-desc epestate-title"><title id="epestate-title">Estate Icon</title><desc id="epestate-desc">A picture depicting a big house.</desc><path d="M12 2L7 6.5V5H5v3.3L2 11h2v11h6v-7h4v7h6V11h2zM8 19H6v-4h2zm4-7a2 2 0 112-2 2 2 0 01-2 2zm6 7h-2v-4h2z"/></svg>'},3770:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eqethereum-desc eqethereum-title"><title id="eqethereum-title">Ethereum Icon</title><desc id="eqethereum-desc">A picture showing the Ethereum logo.</desc><path d="M12 2l6.139 10.185L12 15.814l-6.14-3.629zm0 20l-6.14-8.65L12 16.976l6.14-3.626z"/></svg>'},2340:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ereu-parliament-desc ereu-parliament-title"><title id="ereu-parliament-title">EU Parliament Icon</title><desc id="ereu-parliament-desc">A picture depicting the European Parliament building.</desc><path d="M4 19v2.152a17.708 17.708 0 01-2-.6V19zm-2-4.515V18h2v-3.886c-.737.115-1.407.24-2 .371zm0-9.776v4.4A16.708 16.708 0 014 8.1V3.589a12.655 12.655 0 00-2 1.12zm0 5.566v3.168a32.413 32.413 0 012-.342V9.178a15.05 15.05 0 00-2 1.097zm20 10.28V19h-2v2.152a17.708 17.708 0 002-.597zM22 18v-3.886c-.616-.1-1.286-.183-2-.261V18zm0-8.892v-3.4a12.655 12.655 0 00-2-1.12v3.5a16.723 16.723 0 012 1.02zm0 3.992v-2.824a15.127 15.127 0 00-2-1.1v3.678a39.88 39.88 0 012 .246zM10.156 2.078c-.053 0-.1.011-.156.015V6.6a21.34 21.34 0 012-.1V3zM14 3v3.5c.674 0 1.341.039 2 .1V2.093c-.052 0-.1-.011-.156-.015zM5 19v2.367c.925.183 1.936.326 3 .432V19zm0-5.027V18h3v-4.321c-1.082.079-2.1.176-3 .294zm0-5.211v4.2c.987-.12 2-.213 3-.283V7.91a18.844 18.844 0 00-3 .852zm0-5.576v4.519A19.855 19.855 0 018 6.9V2.379a18.463 18.463 0 00-3 .807zM9 19v2.882A40.75 40.75 0 0012 22c.34 0 .667-.015 1-.023V19zm0-5.387V18h4v-4.5c-1.442 0-2.766.044-4 .113zM12 7.5a20.306 20.306 0 00-3 .24v4.879a71.74 71.74 0 014-.119V7.545c-.333-.016-.663-.045-1-.045zM14 19v2.95a37.627 37.627 0 003-.265V19zm5 2.367V19h-1v2.543c.341-.055.677-.112 1-.176zm-5-7.856V18h3v-4.387a71.538 71.538 0 00-3-.102zM19 18v-4.247a62.045 62.045 0 00-1-.079V18zM14 7.6v4.908c.924.015 1.945.052 3 .111V8.136a19.955 19.955 0 00-3-.536zm5 5.157v-4a17.812 17.812 0 00-1-.343v4.268c.332.026.665.049 1 .078zm-1-8.571v3.192c.338.1.673.206 1 .325V3.856c-.341.103-.677.211-1 .33z"/></svg>'},3888:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eseuro-circled-desc eseuro-circled-title"><title id="eseuro-circled-title">Euro-Circled Icon</title><desc id="eseuro-circled-desc">A picture showing an encircled euro symbol.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm1 7v2H8.1a5 5 0 000 2H13v2H9.026a4.925 4.925 0 007.129.847 7.049 7.049 0 001.345 1.512A6.989 6.989 0 016.683 15H5v-2h1.08a6.29 6.29 0 010-2H5V9h1.683A6.989 6.989 0 0117.5 6.641a7.049 7.049 0 00-1.345 1.512A4.925 4.925 0 009.026 9z"/></svg>'},4812:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="etexact-match-desc etexact-match-title"><title id="etexact-match-title">Exact Match Icon</title><desc id="etexact-match-desc">A picture depicting an arrow hitting bulls-eye.</desc><path d="M5.683 9a7 7 0 110 6h2.342a5 5 0 100-6zM3.79 7.047a9.6 9.6 0 110 9.906l-1.735 1.735a12 12 0 100-13.376zM0 14.914l1.432 1.414L4.8 13h6.161v2L14 12l-3.037-3v2H4.8L1.432 7.672 0 9.086 2.95 12z"/></svg>'},9753:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="euface-id-desc euface-id-title"><title id="euface-id-title">Face ID Icon</title><desc id="euface-id-desc">A picture showing the Apple Face ID icon.</desc><path d="M5 2a3.015 3.015 0 00-3 3v2h2V5a.984.984 0 011-1h2V2zm12 0v2h2a.984.984 0 011 1v2h2V5a3.015 3.015 0 00-3-3zM6 7v4h2V7zm5 0v5h-1v2h1a2.015 2.015 0 002-2V7zm5 0v4h2V7zM2 17v2a3.015 3.015 0 003 3h2v-2H5a.984.984 0 01-1-1v-2zm18 0v2a.984.984 0 01-1 1h-2v2h2a3.015 3.015 0 003-3v-2zm-4.014-2.014l1.437 1.437a6.995 6.995 0 01-10.846 0l1.437-1.437a4.951 4.951 0 007.972 0z"/></svg>'},3551:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ewfacebook-messenger-desc ewfacebook-messenger-title"><title id="ewfacebook-messenger-title">Facebook Messenger Icon</title><desc id="ewfacebook-messenger-desc">A picture showing the Facebook Messenger logo.</desc><path d="M12 2a9.65 9.65 0 00-10 9.7 9.51 9.51 0 003.14 7.17.83.83 0 01.27.57v1.77a.81.81 0 001.13.71l2-.87a.75.75 0 01.53 0 11 11 0 002.9.38A9.69 9.69 0 1012 2zm6 7.46l-2.93 4.65a1.5 1.5 0 01-2.17.4l-2.34-1.75a.6.6 0 00-.72 0l-3.16 2.4a.47.47 0 01-.68-.63l2.93-4.65a1.5 1.5 0 012.17-.4l2.34 1.75a.6.6 0 00.72 0l3.16-2.39a.47.47 0 01.68.63z"/></svg>'},3772:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="evfacebook-desc evfacebook-title"><title id="evfacebook-title">Facebook Icon</title><desc id="evfacebook-desc">A picture showing the Facebook logo.</desc><path d="M12 22zm0-20a10 10 0 00-1.727 19.841v-7.6h-2.61v-3.018h2.61V8.995A3.641 3.641 0 0114.16 5a21.367 21.367 0 012.332.119v2.7h-1.6c-1.255 0-1.5.6-1.5 1.471v1.929h2.993L16 14.245h-2.6v7.647A9.994 9.994 0 0012 2z"/></svg>'},3921:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="exfemale-candidate-desc exfemale-candidate-title"><title id="exfemale-candidate-title">Female Candidate Icon</title><desc id="exfemale-candidate-desc">A picture showing a woman standing behind a tribune.</desc><path d="M18 15H6v-2.8A2.184 2.184 0 018.166 10h7.668A2.184 2.184 0 0118 12.2zM2 16l1 5h2v-2h14v2h2l1-5zm14.877-8.129l1.212.487a.6.6 0 00.619-.106c.792.2.892.715.892 1V15h.7V8.95c0-.674-.464-.977-1.3-1.355a.6.6 0 00-.376-.566l-1.212-.487a.6.6 0 00-.781.333l-.087.216a.6.6 0 00.333.78zm-1.269-3a2.808 2.808 0 00-3.854-2.7 2.727 2.727 0 00-3.372 2.414c0 1.445.674 2.505.385 4.336a18.817 18.817 0 001.927.053V7.861a2.492 2.492 0 01-.963-2.12A3.226 3.226 0 0013.3 3.333a2.2 2.2 0 011.252 2.312 2.434 2.434 0 01-.963 2.12v1.211c1.013 0 1.782-.007 1.782-.007-.293-1.06.329-1.879.237-4.095z"/></svg>'},4132:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="eyfertilization-desc eyfertilization-title"><title id="eyfertilization-title">Fertilization Icon</title><desc id="eyfertilization-desc">A picture showing a sperm racing towards an egg.</desc><path d="M12 2a10 10 0 00-8.795 14.763 4.024 4.024 0 011.456-.323H4.7v-.15a1.965 1.965 0 011.076-1.625 4.684 4.684 0 011.457-3.039 4.653 4.653 0 013.188-1.468 2.6 2.6 0 011.886.737 2.794 2.794 0 01.665 2.581 4.994 4.994 0 01-1.4 2.492A4.621 4.621 0 018.4 17.427h-.038a2.249 2.249 0 01-.545 1.738 2.133 2.133 0 01-1.6.671 2.676 2.676 0 01-.5-.06A10 10 0 1012 2zm4 8a2 2 0 112-2 2 2 0 01-2 2zm-4.4 1.6c-1.751-1.7-5.591 1.717-4.715 3.848a.959.959 0 00-.685 1.765c.1.124.253.4.171.56s-.409.013-.533-.036a2.868 2.868 0 00-1.154-.3A1.905 1.905 0 002.511 19.5a2.888 2.888 0 00.772 1.554 4.2 4.2 0 01.382-2.267c.413-.652 1.418-.3 2.162 0 1.505.389 2.022-1.371 1.034-2.327.333.114.7.257.909-.136 2.13.859 5.535-2.973 3.83-4.724zm-4.906 4.708l-.015-.01c.009-.006.013.002.015.01zm-.026.149l.022-.014a.023.023 0 01-.022.014z"/></svg>'},5531:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ezfile-changes-desc ezfile-changes-title"><title id="ezfile-changes-title">File Changes Icon</title><desc id="ezfile-changes-desc">A picture depicting a paper document with plus and minus signs drawn inside.</desc><path d="M14 2H6a2 2 0 00-1.99 2L4 20a2 2 0 001.99 2H18a2.006 2.006 0 002-2V8zm2 16H8v-2h8zm0-7h-3v3h-2v-3H8V9h3V6h2v3h3z"/></svg>'},8213:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fafile-tree-desc fafile-tree-title"><title id="fafile-tree-title">File Tree Icon</title><desc id="fafile-tree-desc">A picture showing a vertical line diverging into two separate lines.</desc><path d="M17 15v-1H7v4h10v-1h4v4h-4v-1H5V9H3V3h6v6H7v3h10v-1h4v4z"/></svg>'},5471:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fbfinancial-insurance-desc fbfinancial-insurance-title"><title id="fbfinancial-insurance-title">Financial Insurance Icon</title><desc id="fbfinancial-insurance-desc">A picture showing the dollar sign under an umbrella.</desc><path d="M11 10h2v9a3 3 0 01-6 0h2a1 1 0 002 0v-9zm1-8a10.226 10.226 0 00-10 8h2a2 2 0 014 0h2a2 2 0 014 0h2a2 2 0 014 0h2a10.226 10.226 0 00-10-8zm9.1 16.527c0-1.727-1.48-2.323-2.864-2.679s-1.829-.733-1.829-1.308c0-.658.617-1.124 1.645-1.124 1.082 0 1.486.521 1.52 1.281h1.343a2.421 2.421 0 00-1.952-2.322v-1.336H17v1.322a2.245 2.245 0 00-1.994 2.2c0 1.4 1.165 2.1 2.864 2.514 1.527.363 1.829.9 1.829 1.466 0 .418-.3 1.09-1.644 1.09-1.254 0-1.747-.562-1.816-1.282H14.9a2.423 2.423 0 002.1 2.33V22h1.966v-1.309c1.192-.226 2.134-.911 2.134-2.164z"/></svg>'},5299:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fcfirefox-desc fcfirefox-title"><title id="fcfirefox-title">Firefox Icon</title><desc id="fcfirefox-desc">A picture showing the Firefox browser logo.</desc><path d="M20.986 8.714a5.422 5.422 0 00-1.946-2.451 10.073 10.073 0 01.98 2.937v.02c-1.093-2.735-2.952-3.835-4.47-6.237a8.933 8.933 0 01-.231-.37c-.042-.075-.075-.14-.107-.2a1.78 1.78 0 01-.145-.386.026.026 0 00-.02-.027.036.036 0 00-.025 0v.005h-.008V2a7.069 7.069 0 00-3.282 4.96c-.134-.011-.262-.041-.4-.041a5.07 5.07 0 00-2.666.77 6.67 6.67 0 01.067-1.839A7.181 7.181 0 006.4 7.659a5.234 5.234 0 01-.338-2.427 1.733 1.733 0 00-.325.17 6.956 6.956 0 00-.951.813 8.531 8.531 0 00-.9 1.088 8.189 8.189 0 00-1.3 2.937l-.018.068c-.018.082-.085.51-.095.6v.025a9.236 9.236 0 00-.155 1.336v.05a9.7 9.7 0 0019.25 1.641c.018-.125.03-.25.045-.375a9.974 9.974 0 00-.627-4.871zm-9.652-1.307a4.624 4.624 0 013.8 1.99 3.338 3.338 0 00-1.915-.332 4.013 4.013 0 01-2.281 7.523 4.314 4.314 0 01-1.261-.246q-.143-.054-.285-.117l-.078-.035a4.284 4.284 0 01-.25-.136 4.8 4.8 0 01-.594-.4c-.047-.038-.1-.076-.141-.116a3.86 3.86 0 01-1.389-2.565s.445-1.666 3.2-1.666a2.359 2.359 0 001.168-1.069 14.923 14.923 0 01-2.349-1.4 1.334 1.334 0 01-.227-.632 4.614 4.614 0 012.602-.799z"/></svg>'},348:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fdfitness-watch-desc fdfitness-watch-title"><title id="fdfitness-watch-title">Fitness-Watch Icon</title><desc id="fdfitness-watch-desc">A picture depicting a digital watch with the heart symbol in the middle.</desc><path d="M18 4H6a2 2 0 012-2h8a2 2 0 012 2zM8 22h8a2 2 0 002-2H6a2 2 0 002 2zM20 8v8a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2h12a2 2 0 012 2zm-4.921 3.043a1.677 1.677 0 00-1.693-1.693A1.842 1.842 0 0012 9.994a1.842 1.842 0 00-1.386-.644 1.677 1.677 0 00-1.693 1.693c0 1.164 1.047 2.113 2.633 3.551L12 15l.446-.4c1.586-1.444 2.633-2.393 2.633-3.557z"/></svg>'},4931:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="feforeign-exchange-desc feforeign-exchange-title"><title id="feforeign-exchange-title">Foreign Exchange Icon</title><desc id="feforeign-exchange-desc">A picture showing the euro and dollar symbols encircled in rotating arrows.</desc><path d="M2.515 16.475A10.487 10.487 0 0011 22.445v1.5A11.994 11.994 0 010 12l.03-.66 3.81 3.81zM24 12l-.03.66-3.81-3.81 1.33-1.33a10.47 10.47 0 00-8.48-5.96V.055A11.977 11.977 0 0124 12zM3.374 7.421a3.779 3.779 0 010-.885H2.047C2.032 6.691 2 6.841 2 7s.03.28.042.421zM7 2a4.985 4.985 0 00-4.793 3.652h1.371a3.973 3.973 0 016.4-1.635L9.2 4.8a2.868 2.868 0 00-4.416.853h2.542v.884H4.488a2.815 2.815 0 000 .885h2.838v.884H4.78a2.865 2.865 0 002.546 1.546 2.835 2.835 0 001.866-.694l.787.782a3.973 3.973 0 01-6.4-1.635H2.194A4.991 4.991 0 107 2zm9.213 18.794a2.325 2.325 0 01-2.044-2.125h1.225c.062.656.512 1.168 1.656 1.168 1.225 0 1.5-.612 1.5-.993 0-.519-.275-1.007-1.669-1.338-1.55-.375-2.612-1.012-2.612-2.294a2.168 2.168 0 011.944-2.006v-1.127a4.98 4.98 0 000 9.842zm1.668-8.7v1.13a2.207 2.207 0 011.781 2.118h-1.224c-.032-.693-.4-1.168-1.388-1.168-.938 0-1.5.425-1.5 1.025 0 .525.406.868 1.669 1.194s2.612.868 2.612 2.443c-.006 1.144-.862 1.769-1.95 1.975v1.105a4.987 4.987 0 000-9.822z"/></svg>'},3360:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ffforklift-truck-desc ffforklift-truck-title"><title id="ffforklift-truck-title">Forklift Truck Icon</title><desc id="ffforklift-truck-desc">A picture depicting a forklift truck.</desc><path d="M22 12v-2h-6V2h-2v12h-2l-2-9H4v9H2v5a3 3 0 006 0h3a3 3 0 105-2.221V12zM5 20a1 1 0 111-1 1 1 0 01-1 1zm1-8V7h2l1 5zm8 8a1 1 0 111-1 1 1 0 01-1 1z"/></svg>'},9173:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fgfoundation-desc fgfoundation-title"><title id="fgfoundation-title">Foundation Icon</title><desc id="fgfoundation-desc">A picture depicting a foundation built with bricks.</desc><path d="M17 17v-4H7v4H2v5h20v-5zm-9-3h8v3H8zm3 7H3v-3h8zm10 0h-8v-3h8z"/></svg>'},5487:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fhfountain-desc fhfountain-title"><title id="fhfountain-title">Fountain Icon</title><desc id="fhfountain-desc">A picture depicting a water fountain.</desc><path d="M22 20a2 2 0 01-2 2H4a2 2 0 01-2-2h6v-3.116A6.474 6.474 0 016 15H4v-2h16v2h-2a6.474 6.474 0 01-2 1.884V20zM16 2a4.98 4.98 0 00-4 2.027A4.987 4.987 0 003 7h2a2.992 2.992 0 015.821-.982A4.991 4.991 0 006 11h2a3 3 0 013-3v3h2V8a3 3 0 013 3h2a4.991 4.991 0 00-4.821-4.982A2.992 2.992 0 0119 7h2a5 5 0 00-5-5z"/></svg>'},5963:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="figas-mask-desc figas-mask-title"><title id="figas-mask-title">Gas Mask Icon</title><desc id="figas-mask-desc">A picture depicting a gas mask.</desc><path d="M7 21l-1.813.845a1 1 0 01-1.329-.483l-1.69-3.626a1 1 0 01.484-1.329l1.812-.845zm13.142.362l1.69-3.626a1 1 0 00-.484-1.329l-1.812-.845L17 21l1.813.845a1 1 0 001.329-.483zM12 13a2 2 0 102 2 2 2 0 00-2-2zm4.981 2.053L18 16l-2 4-1.387-.407A9.37 9.37 0 0112 20a8.32 8.32 0 01-2.519-.407L8 20l-2-4 1.113-.947v-1.382c-.987-.789-1.382-1.776-1.382-3.552A9 9 0 017 5c1.184-2.171 3.863-2 5.047-2S15.816 2.829 17 5a9.058 9.058 0 011.363 5.119c0 1.776-.395 2.763-1.382 3.552zM9 11a2 2 0 10-2-2 2 2 0 002 2zm6 4a3 3 0 10-3 3 3 3 0 003-3zm2-6a2 2 0 10-2 2 2 2 0 002-2z"/></svg>'},2943:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fjgift-desc fjgift-title"><title id="fjgift-title">Gift Icon</title><desc id="fjgift-desc">A picture depicting a wrapped box.</desc><path d="M13 13v9h8v-9zm-2 0v9H3v-9zm5.22-6A2.987 2.987 0 0012 2.78 2.987 2.987 0 007.78 7H2v4h20V7zM10 6a1 1 0 111-1 1 1 0 01-1 1zm4 0a1 1 0 111-1 1 1 0 01-1 1z"/></svg>'},1664:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fkgit-branch-desc fkgit-branch-title"><title id="fkgit-branch-title">Git Branch Icon</title><desc id="fkgit-branch-desc">A picture showing a vertical line diverging into two separate lines.</desc><path d="M21 7a3 3 0 10-4 2.816V12H7V7.816a3 3 0 10-2 0v8.368a3 3 0 102 0V14h12V9.816A2.99 2.99 0 0021 7z"/></svg>'},1499:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="flgit-commit-desc flgit-commit-title"><title id="flgit-commit-title">Git Commit Icon</title><desc id="flgit-commit-desc">A picture showing a line with a big circle in the middle.</desc><path d="M22 11h-6.141a3.982 3.982 0 00-7.718 0H2v2h6.141a3.982 3.982 0 007.718 0H22z"/></svg>'},7799:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fmgit-compare-desc fmgit-compare-title"><title id="fmgit-compare-title">Git Compare Icon</title><desc id="fmgit-compare-desc">A picture showing mirroring arrows attached to l-shaped lines.</desc><path d="M22 19a3 3 0 11-4-2.816V6h-4v2l-3-3 3-3v2h6v12.184A2.99 2.99 0 0122 19zm-9 0l-3-3v2H6V7.816a3 3 0 10-2 0V20h6v2z"/></svg>'},7735:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fngit-issue-desc fngit-issue-title"><title id="fngit-issue-title">Git Issue Icon</title><desc id="fngit-issue-desc">A picture showing an encircled exclamation mark symbol.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm1 16h-2v-2h2zm0-4h-2V6h2z"/></svg>'},3790:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fogit-merge-desc fogit-merge-title"><title id="fogit-merge-title">Git Merge Icon</title><desc id="fogit-merge-desc">A picture showing two perpendicular lines.</desc><path d="M18 8a2.99 2.99 0 00-2.816 2H7V7.816a3 3 0 10-2 0v8.368a3 3 0 102 0V12h8.184A2.995 2.995 0 1018 8z"/></svg>'},7292:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fpgithub-desc fpgithub-title"><title id="fpgithub-title">GitHub Icon</title><desc id="fpgithub-desc">A picture showing the GitHub website logo.</desc><path d="M22 12a10 10 0 01-6.675 9.422v-2.349a3.478 3.478 0 00-1.575-2.825c3.324-.35 4.9-2 4.9-4.25a4.054 4.054 0 00-1.1-2.7c.25-.775.525-2.4-.075-3a3.549 3.549 0 00-2.625 1.225 7.576 7.576 0 00-2.424-.4 7.7 7.7 0 00-2.425.4A3.55 3.55 0 007.375 6.3c-.625.625-.325 2.225-.1 3A4.126 4.126 0 006.15 12c0 2.25 1.6 3.9 4.95 4.3a3.1 3.1 0 00-1.326 1.625 10.027 10.027 0 01-1.4.1 1.277 1.277 0 01-1.325-.65A2.617 2.617 0 005.7 16.349c-.275-.025-.475.175-.225.375.825.575.875 1.5 1.2 2.1a1.707 1.707 0 001.575.85H9.5v2A10 10 0 1122 12z"/></svg>'},1500:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fqgold-desc fqgold-title"><title id="fqgold-title">Gold Icon</title><desc id="fqgold-desc">A picture depicting a stack of gold ingots.</desc><path d="M15 9H9l.944-2.944h4.112zm0 8H9l.944-2.944h4.112zm-6 0H3l.944-2.944h4.112zm12 0h-6l.944-2.944h4.112zm-9-4H6l.944-2.944h4.112zm6 0h-6l.944-2.944h4.112z"/></svg>'},7945:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fsgoogle-drive-desc fsgoogle-drive-title"><title id="fsgoogle-drive-title">Google Drive Icon</title><desc id="fsgoogle-drive-desc">A picture showing the Google Drive logo.</desc><path d="M2 14.888l3.334 5.776L12 9.112 8.668 3.336zm16.67 5.776H6.224l3.264-5.6h12.447zm-2.445-6.384L9.561 3.336h5.776L22 14.28z"/></svg>'},3437:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ftgoogle-hangouts-desc ftgoogle-hangouts-title"><title id="ftgoogle-hangouts-title">Google Hangouts Icon</title><desc id="ftgoogle-hangouts-desc">A picture showing the Google Hangouts logo.</desc><path d="M20.444 9.055a8.5 8.5 0 00-2.173-4.334 8.409 8.409 0 00-1.622-1.358 8.508 8.508 0 00-3.64-1.309A4.068 4.068 0 0112.528 2h-1.135c-.012.029-.038.018-.059.02a8.792 8.792 0 00-.871.114 8.453 8.453 0 00-5.177 3.1 8.364 8.364 0 00-1.839 4.713 8.567 8.567 0 00.185 2.529 8.139 8.139 0 00.624 1.79l.073.146a8.608 8.608 0 001.784 2.4 8.521 8.521 0 005.763 2.333c.1 0 .127.026.126.128v2.621c0 .034 0 .068.005.11l.063-.026a18 18 0 004.49-2.966c.267-.243.979-.991 1.084-1.1.163-.175.3-.369.458-.553.177-.212.337-.437.494-.663a11 11 0 00.918-1.575c.132-.279.258-.56.369-.847a.116.116 0 00.011-.016 10.313 10.313 0 00.6-2.439c.036-.292.059-.585.074-.878a8.1 8.1 0 00-.124-1.886zm-9.189 2.819a2.512 2.512 0 01-.84 1.878c-.029.026-.056.054-.084.081a2.686 2.686 0 01-.934.48 3.842 3.842 0 01-.448.085.21.21 0 01-.235-.152v-.968c.054-.124.168-.149.282-.176a1.153 1.153 0 00.962-1.011c.013-.074.055-.152.006-.229H7.922a.644.644 0 01-.174-.018.412.412 0 01-.306-.385V8.372a.432.432 0 01.416-.323h2.981a.409.409 0 01.4.312.4.4 0 01.017.153c.001 1.117.007 2.239-.001 3.36zm5.285 0a2.507 2.507 0 01-.839 1.878c-.029.026-.056.054-.084.081a2.682 2.682 0 01-.935.48 3.786 3.786 0 01-.447.085.21.21 0 01-.235-.152v-.968c.053-.124.167-.149.282-.176a1.154 1.154 0 00.962-1.011c.013-.074.055-.152.006-.229h-2.042a.636.636 0 01-.174-.018.414.414 0 01-.307-.385V8.372a.431.431 0 01.416-.323h2.981a.409.409 0 01.4.312.4.4 0 01.017.153c.002 1.117.008 2.239-.001 3.36z"/></svg>'},6735:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fugoogle-maps-desc fugoogle-maps-title"><title id="fugoogle-maps-title">Google Maps Icon</title><desc id="fugoogle-maps-desc">A picture showing the Google Maps logo.</desc><path d="M7.134 4.044A6.844 6.844 0 0112 2a6.969 6.969 0 011.275.118L9.782 6.271zM9.1 7.076L6.456 4.85a6.831 6.831 0 00-1.273 3.965 8.017 8.017 0 00.37 2.483zm8.778-1.7a6.808 6.808 0 00-3.494-2.941l-2.563 3.054q.09-.006.18-.006a3.346 3.346 0 013.313 2.946zm-9.141 10.87l3.447-4.1h-.18a3.342 3.342 0 01-3.315-2.934L6 12.4a18.889 18.889 0 002.22 3.2c.173.211.344.426.517.646zm4.863 2.311a34.254 34.254 0 012.2-2.985c1.622-2.032 3.021-3.787 3.021-6.757a6.747 6.747 0 00-.436-2.406L9.4 17.1c.392.528.717 1 1.012 1.46C11.147 19.7 10.89 22 12 22s.859-2.3 1.6-3.443z"/></svg>'},3550:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fvgoogle-pay-desc fvgoogle-pay-title"><title id="fvgoogle-pay-title">Google Pay Icon</title><desc id="fvgoogle-pay-desc">A picture showing the Google Pay logo.</desc><path d="M11.459 11.91v2.327h-.739V8.488h1.959a1.765 1.765 0 011.268.5 1.662 1.662 0 010 2.434 1.763 1.763 0 01-1.268.489zm0-2.714V11.2H12.7a1 1 0 00.75-1.683l-.022-.017a.966.966 0 00-.731-.3zm4.72.979a1.831 1.831 0 011.293.438 1.55 1.55 0 01.473 1.2v2.425h-.706v-.546h-.032a1.41 1.41 0 01-1.22.674 1.586 1.586 0 01-1.087-.386 1.232 1.232 0 01-.437-.964 1.17 1.17 0 01.461-.971 1.951 1.951 0 011.233-.361 2.184 2.184 0 011.083.241v-.17a.84.84 0 00-.3-.653 1.047 1.047 0 00-.713-.269 1.13 1.13 0 00-.979.522l-.65-.41a1.808 1.808 0 011.587-.77zm-.956 2.858a.593.593 0 00.245.482.9.9 0 00.574.192 1.174 1.174 0 00.831-.345 1.08 1.08 0 00.367-.811 1.513 1.513 0 00-.964-.275 1.244 1.244 0 00-.75.217.65.65 0 00-.3.54zM22 10.3l-2.466 5.667h-.762l.915-1.983-1.622-3.684h.8l1.172 2.825h.016L21.2 10.3zM8.474 11.4a3.883 3.883 0 00-.057-.672H5.3V12h1.786a1.529 1.529 0 01-.659 1A2 2 0 115.3 9.337a1.792 1.792 0 011.267.5l.944-.943A3.182 3.182 0 005.3 8.029a3.3 3.3 0 000 6.606 3.162 3.162 0 002.19-.8 3.226 3.226 0 00.984-2.428z"/></svg>'},4193:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fwgoogle-play-desc fwgoogle-play-title"><title id="fwgoogle-play-title">Google Play Icon</title><desc id="fwgoogle-play-desc">A picture showing the Google Play logo.</desc><path d="M3.266 2.967v-.56a.427.427 0 01.634-.351l9.974 5.7-2.909 2.909zm0 1.874c.014 3.407.044 9.637.061 13.462l6.7-6.7zm17.467 7.085a.436.436 0 00-.219-.373l-5.45-3.117L11.9 11.6l3.614 3.614 5.012-2.92a.431.431 0 00.211-.368zM3.558 21.942a.425.425 0 00.428 0l10.346-6.034-3.367-3.368-7.629 7.625.007 1.409a.418.418 0 00.215.368z"/></svg>'},2373:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fxgoogle-translate-desc fxgoogle-translate-title"><title id="fxgoogle-translate-title">Google Translate Icon</title><desc id="fxgoogle-translate-desc">A picture showing the Google Translate logo.</desc><path d="M14.426 19.094l-2.578 2.762-.4-2.762zm6.242-13.079h-8.151l1.5 4.74h1.74V9.489h1.226v1.266h3.777v.783h-1.7a7.1 7.1 0 01-1.707 3.089c.571.614 1.348 1.377 2.408 2.338l-.643.644a43.9 43.9 0 01-2.348-2.338c-.482.511-.886.876-1.018.993l.609 1.927a.134.134 0 01-.027.126L13.068 22h7.6A1.324 1.324 0 0022 20.69V7.325a1.324 1.324 0 00-1.332-1.31zm-3.9 7.943a6.915 6.915 0 001.376-2.42H14.26l1.182 3.746c.11-.092.391-.333.736-.687-1.374-1.61-1.416-2.175-1.416-2.175h1.017s.004.378.984 1.536zM15.389 18.2a.36.36 0 01-.05.036l-12.007-.01A1.335 1.335 0 012 16.9V3.332A1.335 1.335 0 013.332 2h6.945l5.112 16.2zm-4.77-8a2.781 2.781 0 00-.074-.637H7.62v1.07h1.823a1.709 1.709 0 01-1.825 1.506 2.008 2.008 0 010-4.015 1.83 1.83 0 011.268.487l.825-.793A3.025 3.025 0 007.618 7a3.126 3.126 0 100 6.251 2.882 2.882 0 003.001-3.059z"/></svg>'},1092:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="frgoogle-desc frgoogle-title"><title id="frgoogle-title">Google Icon</title><desc id="frgoogle-desc">A picture showing the Google logo.</desc><path d="M21.8 12.218a8.891 8.891 0 00-.237-2.039h-9.358V13.6l5.833.006a5.469 5.469 0 01-5.839 4.82 6.424 6.424 0 010-12.846 5.846 5.846 0 014.057 1.558L18.9 4.6A9.68 9.68 0 0012.2 2a10 10 0 000 20c5.781 0 9.6-4.058 9.6-9.782z"/></svg>'},2899:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fzgreater-than-or-equal-desc fzgreater-than-or-equal-title"><title id="fzgreater-than-or-equal-title">Greater Than or Equal Icon</title><desc id="fzgreater-than-or-equal-desc">A picture showing the grater-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/></svg>'},8825:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="fygreater-than-desc fygreater-than-title"><title id="fygreater-than-title">Greater Than Icon</title><desc id="fygreater-than-desc">A picture showing the greater-than symbol.</desc><path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/></svg>'},743:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gagrid-desc gagrid-title"><title id="gagrid-title">Grid Icon</title><desc id="gagrid-desc">A picture depicting a square grid.</desc><path d="M20 2H4a2.015 2.015 0 00-2 2v16a2.015 2.015 0 002 2h16a2.015 2.015 0 002-2V4a2.015 2.015 0 00-2-2zM9 4h6v4H9zm0 6h6v4H9zm0 6h6v4H9zM4 4h3v4H4zm0 6h3v4H4zm0 10v-4h3v4zm16 0h-3v-4h3zm0-6h-3v-4h3zm0-6h-3V4h3z"/></svg>'},9357:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gbhammer-desc gbhammer-title"><title id="gbhammer-title">Hammer Icon</title><desc id="gbhammer-desc">A picture showing a hammer.</desc><path d="M20 3v6h-4V8h-3v14h-3V8H7c-2 0-3 1.172-3 2V8c0-2 0-4 3-4h3V2h3v2h3V3z"/></svg>'},9773:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gchearing-aid-desc gchearing-aid-title"><title id="gchearing-aid-title">Hearing Aid Icon</title><desc id="gchearing-aid-desc">A picture depicting an earphone inserted into a human ear.</desc><path d="M8.681 10.021a2.131 2.131 0 112.129 2.052 2.092 2.092 0 01-2.129-2.052zm7.574-5.093a4.362 4.362 0 00-4.408 1.062l-.345.97.616.2a3.055 3.055 0 012.02 3.894 3.2 3.2 0 01-3.328 2.087v1.019a4.251 4.251 0 004.338-2.783A4.039 4.039 0 0013.172 6.5a3.24 3.24 0 012.649-.311 3.024 3.024 0 012 3.849 5.337 5.337 0 01-.276.586l-4.859 6.419.892.521 5.006-6.664a6.915 6.915 0 00.365-.777 4.079 4.079 0 00-2.694-5.195zm-12.291.74l.863.832a5.16 5.16 0 000 7.486l-.863.832a6.31 6.31 0 010-9.15zm2.79 1.664l.863.832a2.866 2.866 0 000 4.158l-.863.832a4.017 4.017 0 010-5.822zm10.615-5A6.9 6.9 0 009.623 4.89h1.451a5.748 5.748 0 015.941-1.531 5.41 5.41 0 013.574 6.888A9.921 9.921 0 0120.1 11.3l-4.87 7.781a3.723 3.723 0 01-4.377 1.656A3.91 3.91 0 018.476 18H7.318a5.008 5.008 0 003.182 3.762 4.851 4.851 0 005.7-2.144l4.871-7.795a10.643 10.643 0 00.58-1.234 6.484 6.484 0 00-4.282-8.255z"/></svg>'},8314:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gdheart-care-desc gdheart-care-title"><title id="gdheart-care-title">Heart Care Icon</title><desc id="gdheart-care-desc">A picture showing the heart symbol with a check mark drawn inside it.</desc><path d="M16.5 3A5.988 5.988 0 0012 5.09 5.988 5.988 0 007.5 3 5.447 5.447 0 002 8.5c0 3.78 3.4 6.86 8.55 11.53L12 21.35l1.45-1.31C18.6 15.36 22 12.28 22 8.5A5.447 5.447 0 0016.5 3zm-5.2 12.7l-4.6-4.6 1.4-1.4 3.2 3.2 6.6-6.6 1.4 1.4z"/></svg>'},2490:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="geheart-monitor-desc geheart-monitor-title"><title id="geheart-monitor-title">Heart Monitor Icon</title><desc id="geheart-monitor-desc">A picture showing the heart symbol with a cardiogram drawn inside it.</desc><path d="M3 12a7.008 7.008 0 01-1-3.5A5.447 5.447 0 017.5 3 5.988 5.988 0 0112 5.09 5.988 5.988 0 0116.5 3 5.447 5.447 0 0122 8.5a7.019 7.019 0 01-1 3.5h-3.52l-1.6-2h-1.751L12.2 14.183 10.044 7H7.882l-2.5 5zm13.518 2l-1.288-1.612L13.1 17h-2.144L8.767 9.7 6.618 14H2v2h4.241c1.227 1.233 2.678 2.551 4.309 4.03L12 21.35l1.45-1.31A64.8 64.8 0 0019.6 14z"/></svg>'},2203:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gfhorn-desc gfhorn-title"><title id="gfhorn-title">Horn Icon</title><desc id="gfhorn-desc">A picture depicting a loudspeaker.</desc><path d="M9.714 7A7.841 7.841 0 0016 4.167v11.666A7.841 7.841 0 009.714 13H6V7zM3 9v2a2 2 0 002 2V7a2 2 0 00-2 2zm17-1v4a1 1 0 001-1V9a1 1 0 00-1-1zm-1 0V2l-2 1.778v12.444L19 18V8zm-9 6H8v8h2z"/></svg>'},6941:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ghhospital-bed-desc ghhospital-bed-title"><title id="ghhospital-bed-title">Hospital-Bed Icon</title><desc id="ghhospital-bed-desc">A picture depicting a bed with the capital letter H next to it.</desc><path d="M20 15h2v7h-2v-2H4v2H2V8h2v6h3v3h13zm2-13v8h-8V2zm-2 2h-1v1.5h-2V4h-1v4h1V6.5h2V8h1V4z"/></svg>'},8897:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gihospital-sign-desc gihospital-sign-title"><title id="gihospital-sign-title">Hospital Sign Icon</title><desc id="gihospital-sign-desc">A picture showing the capital letter H in a square.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-2 15h-2v-5H9v5H7V6h2v5h6V6h2z"/></svg>'},3143:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gghospital-desc gghospital-title"><title id="gghospital-title">Hospital Icon</title><desc id="gghospital-desc">A picture depicting a house with the capital letter H in the middle.</desc><path d="M12 2L2 8h2v14h16V8h2zm4 16h-2v-3h-4v3H8v-8h2v3h4v-3h2z"/></svg>'},4081:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gjidea-generation-desc gjidea-generation-title"><title id="gjidea-generation-title">Idea Generation Icon</title><desc id="gjidea-generation-desc">A picture showing a light bulb encircled in rotating arrows.</desc><path d="M12 4.029A5.533 5.533 0 009.5 14.5v4.43l.829 1.07h3.342l.833-1.07V14.5A5.533 5.533 0 0012 4.029zM13.582 18h-3.164v-1h3.164zm0-2h-3.164v-1h3.164zM12.5 10.41V13h-1v-2.59L9.67 8.59l.71-.71L12 9.5l1.62-1.62.71.71zm2.645 9.75l1.33 1.32A10.489 10.489 0 0022.031 15H23.6A11.988 11.988 0 0112 24l-.66-.03zM12 0l.66.03-3.815 3.81-1.33-1.33A10.489 10.489 0 001.961 9H.4A11.973 11.973 0 0112 0zm8.162 8.853l1.32-1.33A10.486 10.486 0 0015 1.967V.4A11.987 11.987 0 0124 12l-.03.66zM0 12l.03-.66 3.81 3.81-1.33 1.33A10.493 10.493 0 009 22.036V23.6A11.976 11.976 0 010 12z"/></svg>'},8652:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gkimpact-drill-desc gkimpact-drill-title"><title id="gkimpact-drill-title">Impact Drill Icon</title><desc id="gkimpact-drill-desc">A picture showing an impact drill.</desc><path d="M19 8a1 1 0 00-1-1h-2a2 2 0 00-2-2H4a3 3 0 00-3 3v10a1 1 0 001 1h4a1 1 0 000-2H5v-2h1v-2H5v-1h7v6a1 1 0 001 1h1a1 1 0 001-1v-6.277A1.994 1.994 0 0016 10h2a1 1 0 001-1h4V8z"/></svg>'},6273:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="glinspect-code-desc glinspect-code-title"><title id="glinspect-code-title">Inspect Code Icon</title><desc id="glinspect-code-desc">A picture depicting a magnifying glass with angled brackets inside it.</desc><path d="M14 13l1 1 3-3-3-3-1 1 2.108 2zm-4.108-2L12 9l-1-1-3 3 3 3 1-1zM4 22l3.721-3.721a9.021 9.021 0 10-2-2L2 20zm2-11a7 7 0 117 7 7.008 7.008 0 01-7-7z"/></svg>'},9834:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gminstagram-desc gminstagram-title"><title id="gminstagram-title">Instagram Icon</title><desc id="gminstagram-desc">A picture showing the Instagram application logo.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-7 14.64A5.64 5.64 0 1117.64 12 5.65 5.65 0 0112 17.64zm5.86-10.18a1.32 1.32 0 111.32-1.32 1.32 1.32 0 01-1.32 1.32zM15.66 12A3.66 3.66 0 1112 8.34 3.66 3.66 0 0115.66 12z"/></svg>'},1147:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gninternet-explorer-desc gninternet-explorer-title"><title id="gninternet-explorer-title">Internet Explorer Icon</title><desc id="gninternet-explorer-desc">A picture showing the Internet Explorer browser logo.</desc><path d="M20.658 2.717c-1.5-1.2-4.256-.726-7.434 1.33a9.449 9.449 0 00-1-.055c-4.8 0-8.685 3.624-8.685 8.093v.127c1.957-3.2 4.582-5.412 6.969-6.12a29.277 29.277 0 00-2.274 2.2 26.606 26.606 0 00-4.339 6.1c-1.506 3.019-1.819 5.648-.56 6.891 1.349 1.334 4.173.743 7.3-1.243a9.323 9.323 0 001.588.138 9.419 9.419 0 001.147-.071 8.54 8.54 0 007.178-5.716h-5.761a2.685 2.685 0 01-2.536 1.879 2.716 2.716 0 01-2.676-2.755v-.277h11.25a7.54 7.54 0 00.089-1.153 8.157 8.157 0 00-5.827-7.642c2.381-1.376 4.412-1.755 5.39-.788a2.065 2.065 0 01.5 1.383A23.263 23.263 0 0119.8 9h.2c.095-.416 1.238-2.778 1.425-3.653a2.276 2.276 0 00-.767-2.63zm-10.61 17.2c-2.46 1.463-4.569 1.886-5.572.895-.873-.862-.741-2.629.175-4.778a8.64 8.64 0 005.4 3.883zm-.47-9.244a2.673 2.673 0 115.346 0H9.578"/></svg>'},5030:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="goinvoice-desc goinvoice-title"><title id="goinvoice-title">Invoice Icon</title><desc id="goinvoice-desc">A picture depicting a paper sheet.</desc><path d="M18 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2zm-4 5H6V5h8zm4 0h-2V5h2zm-4 4H6V9h8zm4 0h-2V9h2zm-4 4H6v-2h8zm4 0h-2v-2h2zm0 4h-4v-2h4z"/></svg>'},5631:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gpios-desc gpios-title"><title id="gpios-title">iOS Icon</title><desc id="gpios-desc">A picture showing the iOS logo.</desc><path d="M12.45 11.162a4.12 4.12 0 01-.1 2.048 1.871 1.871 0 01-3.656 0 4.12 4.12 0 01-.1-2.048 2.166 2.166 0 011.448-1.8 2.456 2.456 0 01.959 0 2.164 2.164 0 011.449 1.8zM21 5v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14a2 2 0 012 2zM6.4 10.449H5.047v5.307H6.4zm.047-1.482a.723.723 0 10-.722.723.723.723 0 00.72-.723zm7.483 3.083a3.656 3.656 0 00-1.9-3.454 3.408 3.408 0 00-3.017 0 3.656 3.656 0 00-1.9 3.454 3.523 3.523 0 001.892 3.393 3.462 3.462 0 001.15.3 4.694 4.694 0 00.731 0 3.462 3.462 0 001.15-.3 3.522 3.522 0 001.894-3.393zm5.07 1.5a1.866 1.866 0 00-.544-1.37 3.692 3.692 0 00-1.361-.8c-.977-.4-1.243-.6-1.329-1.016-.121-.664.566-1.04 1.2-1.032a4.241 4.241 0 011.448.323 25.13 25.13 0 00.293-1.036 2.417 2.417 0 00-1.023-.337 5.19 5.19 0 00-1.318 0 2.16 2.16 0 00-1.941 1.733 1.969 1.969 0 00.1.993 2.845 2.845 0 001.825 1.43c.9.335 1.222.607 1.295 1.078a.9.9 0 01-.521.979 3.881 3.881 0 01-2.549-.288c-.013.019-.3 1.085-.292 1.09a4.886 4.886 0 001.608.444 5.719 5.719 0 00.824-.009 2.4 2.4 0 002.1-1.3 1.766 1.766 0 00.185-.884z"/></svg>'},6855:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gqis-after-desc gqis-after-title"><title id="gqis-after-title">Is After Icon</title><desc id="gqis-after-desc">A picture showing a square bracket drawn after a vertical line.</desc><path d="M15 7h4v10h-4v2h6V5h-6v2zm-4-4h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zm0 12h2v2H3zm0-4h2v2H3zm0-4h2v2H3zm4 8h2v2H7z"/></svg>'},1619:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gris-before-desc gris-before-title"><title id="gris-before-title">Is Before Icon</title><desc id="gris-before-desc">A picture showing a square bracket drawn before a vertical line.</desc><path d="M3 19h6v-2H5V7h4V5H3v14zm8-16h2v18h-2zm4 2h2v2h-2zm4 0h2v2h-2zm0 8h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zm0-8h2v2h-2z"/></svg>'},7992:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gsis-empty-desc gsis-empty-title"><title id="gsis-empty-title">Is Empty Icon</title><desc id="gsis-empty-desc">A picture showing a dotted square.</desc><path d="M5 17h2v2H5zm8 0h2v2h-2zm-8-4h2v2H5zm12 4h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zm8-8h2v2h-2zm0 4h2v2h-2zm0-8h2v2h-2zM5 9h2v2H5zm0-4h2v2H5zm4 0h2v2H9z"/></svg>'},8805:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gtis-false-desc gtis-false-title"><title id="gtis-false-title">Is False Icon</title><desc id="gtis-false-desc">A picture showing an encircled X symbol.</desc><path d="M8 5a7 7 0 107 7 7 7 0 00-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7z"/><path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/></svg>'},5124:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="guis-not-null-desc guis-not-null-title"><title id="guis-not-null-title">Is Not Null Icon</title><desc id="guis-not-null-desc">A picture showing a crossed-out circle.</desc><path d="M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 00-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 007.43-12.87zM6.5 12A5.5 5.5 0 0112 6.5a5.65 5.65 0 011.84.32l-5.41 9.36A5.49 5.49 0 016.5 12zm5.5 5.5a5.65 5.65 0 01-1.84-.32l5.41-9.36A5.5 5.5 0 0112 17.5z"/></svg>'},5646:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gvis-null-desc gvis-null-title"><title id="gvis-null-title">Is Null Icon</title><desc id="gvis-null-desc">A picture showing an empty circle.</desc><path d="M12 4.5a7.5 7.5 0 107.5 7.5A7.5 7.5 0 0012 4.5zm0 13a5.5 5.5 0 115.5-5.5 5.5 5.5 0 01-5.5 5.5z"/></svg>'},761:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gwis-true-desc gwis-true-title"><title id="gwis-true-title">is True Icon</title><desc id="gwis-true-desc">A picture showing an encircled check mark symbol.</desc><path d="M19.44 14.22zm-2.88 0zm0 0L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/><path d="M18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7zM8 5a7 7 0 107 7 7 7 0 00-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/></svg>'},1197:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gxjsfiddle-desc gxjsfiddle-title"><title id="gxjsfiddle-title">JSFiddle Icon</title><desc id="gxjsfiddle-desc">A picture showing the JSFiddle website logo.</desc><defs><style>.gxgxgxgxgtgogogofvfvfvfvfvfvfvfvfvfvfvfvfva{fill-rule:evenodd}</style></defs><path class="gxgxgxgxgtgogogofvfvfvfvfvfvfvfvfvfvfvfvfva" d="M19.574 11.352c.423-6.4-8.616-8.564-11.3-2.87a2.749 2.749 0 00-4.3 2.941c-3.45 1.914-2.009 7.4 1.992 7.376.072.007 11.8 0 11.878 0 4.35.31 5.743-5.884 1.728-7.449zM7.369 15.811c-2.72-2.963 1.853-6.017 4.413-3.45.991.851 1.893 2.79 3.326 2.8a1.2 1.2 0 001.228-1.535c-.435-1.091-1.79-1.076-2.632-.205-.059-.068-.864-1.021-.9-1.058 1.785-1.97 5.78-.724 5.15 2.151-.468 2.281-3.61 2.606-5.134 1.092-.392-.344-1.088-1.241-1.446-1.635a2.338 2.338 0 00-2.3-1.133 1.173 1.173 0 00-.542 1.962 1.659 1.659 0 002.34-.276c.051.06.869 1.012.891 1.043a3.293 3.293 0 01-4.394.249z"/></svg>'},4092:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gyjump-down-desc gyjump-down-title"><title id="gyjump-down-title">Jump Down Icon</title><desc id="gyjump-down-desc">A picture showing a bent arrow pointing down towards a line.</desc><path d="M21.5 18.5v2h-16v-2h16zm-8-15c1.6 0 3 .5 4.3 1.2l-1.5 1.5c-.8-.4-1.8-.7-2.8-.7-3.3 0-6 2.7-6 6h3l-4 4-4-4h3c0-1.5.4-2.9 1.2-4.2.6-1 1.4-1.8 2.4-2.5 1.2-.8 2.8-1.3 4.4-1.3z"/></svg>'},2715:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="gzjump-up-desc gzjump-up-title"><title id="gzjump-up-title">Jump Up Icon</title><desc id="gzjump-up-desc">A picture showing a bent arrow pointing up towards a line.</desc><path d="M6.5 8.5l4 4h-3c0 3.3 2.7 6 6 6 1 0 2-.2 2.8-.7l1.5 1.5c-1.2.8-2.7 1.2-4.3 1.2-4.4 0-8-3.6-8-8h-3l4-4zm15-5v2h-16v-2h16z"/></svg>'},2773:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hakeep-away-from-children-desc hakeep-away-from-children-title"><title id="hakeep-away-from-children-title">Keep Away From Children Icon</title><desc id="hakeep-away-from-children-desc">A picture depicting a crossed-out baby head.</desc><path d="M22 12.5a1.5 1.5 0 01-1.5 1.5 1.478 1.478 0 01-.5-.093V14a7.993 7.993 0 01-13.223 6.051l2.493-2.493a4.452 4.452 0 006.607-1.307l-.864-.5a3.457 3.457 0 01-5.03 1.1l4.241-4.241A.983.983 0 0015 13a1 1 0 001-1 .983.983 0 00-.395-.776l2.447-2.447a7.97 7.97 0 011.5 2.573A1.493 1.493 0 0122 12.5zm-1.515-8.985l-3.922 3.922L5.435 18.565l-1.92 1.92L2.1 19.071l2.382-2.382A7.912 7.912 0 014 14v-.093a1.478 1.478 0 01-.5.093 1.5 1.5 0 11.953-2.65 8.015 8.015 0 015.756-5.142 6.321 6.321 0 01-.47-.854 4.974 4.974 0 01-.658-1.407.417.417 0 01.676-.376A19.907 19.907 0 0111.5 5.817V3a.5.5 0 011 0v2.817a19.907 19.907 0 011.743-2.246c.278-.246.787.038.666.4a12.653 12.653 0 01-1.118 2.232 8.025 8.025 0 01.9.271l4.38-4.374zM8.4 12.776L9.776 11.4A.983.983 0 009 11a1 1 0 00-1 1 .983.983 0 00.4.776z"/></svg>'},647:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hbladder-desc hbladder-title"><title id="hbladder-title">Ladder Icon</title><desc id="hbladder-desc">A picture showing a ladder.</desc><path d="M18 2v3H6V2H3v20h3v-3h12v3h3V2zm0 5v4H6V7zM6 17v-4h12v4z"/></svg>'},4212:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hclast-month-desc hclast-month-title"><title id="hclast-month-title">Last Month Icon</title><desc id="hclast-month-desc">A picture depicting a calendar with a back-arrow at the end.</desc><path d="M17.5 14a4.48 4.48 0 104.5 4.5 4.47 4.47 0 00-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>'},5238:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hdlast-quarter-desc hdlast-quarter-title"><title id="hdlast-quarter-title">Last Quarter Icon</title><desc id="hdlast-quarter-desc">A picture depicting a quarter of a circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm18 9h2V8h-2zm-4-8v3h-3v2h3v3l4-4z"/></svg>'},4487:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="helast-week-desc helast-week-title"><title id="helast-week-title">Last Week Icon</title><desc id="helast-week-desc">A picture depicting a square with an arrow pointing down.</desc><path d="M2 20V4a2 2 0 012-2h5v2H4v16h16V4h-5V2h5a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2zm4-2h12v-3H6zm10-9h-3V2h-2v7H8l4 4z"/></svg>'},7356:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hflast-year-desc hflast-year-title"><title id="hflast-year-title">Last Year Icon</title><desc id="hflast-year-desc">A picture depicting a calendar with an back-arrow in the middle.</desc><path d="M21 10v11H7v2h14a2 2 0 002-2V10z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z"/></svg>'},552:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hglegal-document-desc hglegal-document-title"><title id="hglegal-document-title">Legal Document Icon</title><desc id="hglegal-document-desc">A picture depicting a sheet of paper with a badge of honor in the middle.</desc><path d="M14 2H6a2 2 0 00-1.99 2L4 20a2 2 0 001.99 2H18a2.006 2.006 0 002-2V8zM9.2 20L8 18.8H6.2l2.091-4.09a5.955 5.955 0 002.935 1.235zM8 10a4 4 0 114 4 4 4 0 01-4-4zm8 8.8L14.8 20l-2.062-4.05a5.961 5.961 0 002.971-1.24L17.8 18.8z"/></svg>'},8293:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hiless-than-or-equal-desc hiless-than-or-equal-title"><title id="hiless-than-or-equal-title">Less Than or Equal Icon</title><desc id="hiless-than-or-equal-desc">A picture showing the lass-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/></svg>'},9120:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hhless-than-desc hhless-than-title"><title id="hhless-than-title">Less Than Icon</title><desc id="hhless-than-desc">A picture showing the less-than symbol.</desc><path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/></svg>'},3547:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hjlinkedin-desc hjlinkedin-title"><title id="hjlinkedin-title">LinkedIn Icon</title><desc id="hjlinkedin-desc">A picture showing the LinkedIn logo.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zM8.45 17.92h-3V9.71h3zM6.92 8.21A1.4 1.4 0 015.41 6.8 1.43 1.43 0 017 5.4a1.39 1.39 0 011.5 1.4 1.43 1.43 0 01-1.58 1.41zM19 17.92h-2.86v-4.48c0-1.25-.77-1.53-1.05-1.53s-1.24.19-1.24 1.53v4.48h-3V9.71h3v1.15a2.66 2.66 0 012.57-1.15c1.43 0 2.58 1.15 2.58 3.73z"/></svg>'},6857:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hkloan-desc hkloan-title"><title id="hkloan-title">Loan Icon</title><desc id="hkloan-desc">A picture depicting a hand with the dollar symbol above it.</desc><path d="M20 19l-8 3-7-1.98V20H2v-9h4.97l7.26 2.71a1.2 1.2 0 01.77 1.11A1.182 1.182 0 0113.82 16H11l-1.76-.67-.33.94L11 17h7a2.006 2.006 0 012 2zM17.881 2.089v1.13a2.207 2.207 0 011.781 2.118h-1.224c-.032-.693-.4-1.168-1.388-1.168-.938 0-1.5.425-1.5 1.025 0 .525.406.868 1.669 1.193s2.612.869 2.612 2.444c-.006 1.144-.862 1.769-1.95 1.975v1.105a4.987 4.987 0 000-9.822zm-1.793 8.705a2.209 2.209 0 01-1.919-2.125h1.225c.062.656.512 1.169 1.656 1.169 1.225 0 1.5-.613 1.5-.994 0-.519-.275-1.006-1.669-1.338-1.55-.375-2.612-1.012-2.612-2.293a2.049 2.049 0 011.819-2.007V2.092a4.99 4.99 0 000 9.816z"/></svg>'},8422:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hlmaestro-desc hlmaestro-title"><title id="hlmaestro-title">Maestro Icon</title><desc id="hlmaestro-desc">A picture showing the Maestro logo.</desc><path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zM9.536 16A4 4 0 1112 8.85l-.13.093a3.676 3.676 0 000 6.112l.132.094A3.982 3.982 0 019.536 16zM11 12a2.506 2.506 0 011-1.977 2.453 2.453 0 010 3.953A2.5 2.5 0 0111 12zm3.464 4A3.982 3.982 0 0112 15.149l.132-.094a3.676 3.676 0 000-6.112l-.13-.093A4 4 0 1114.464 16z"/></svg>'},9840:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hmmaintenance-desc hmmaintenance-title"><title id="hmmaintenance-title">Maintenance Icon</title><desc id="hmmaintenance-desc">A picture showing a wrench and a screwdriver tools.</desc><path d="M3.462 10.539a5 5 0 01-1.117-5.363L4.17 7A2 2 0 007 4.17L5.176 2.345a4.982 4.982 0 016.763 5.347l1.1 1.1-1.758 1.748-.059-.059A2.07 2.07 0 007.68 11.94a4.978 4.978 0 01-4.218-1.401zm17.513 5.486a3.5 3.5 0 11-5.851 3.345l-3.041-3.041a2.064 2.064 0 001.436-.606 2.085 2.085 0 000-2.945l-.059-.059 1.753-1.753 4.158 4.158a3.472 3.472 0 011.604.901zM19.6 17.641a1.382 1.382 0 100 1.954 1.381 1.381 0 000-1.954zm-9.08-1.859l.766-.766a1.083 1.083 0 001.531-1.531l-.766-.766 6.891-6.891h1.532L22 2.766 21.234 2l-3.062 1.531v1.532l-6.891 6.891-.766-.766a1.083 1.083 0 00-1.531 1.531l-.766.766a1.082 1.082 0 00-1.531 0L2.476 17.7a1.623 1.623 0 000 2.3l1.531 1.531a1.623 1.623 0 002.3 0l4.211-4.211a1.082 1.082 0 00-.003-1.538z"/></svg>'},9849:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hnmale-candidate-desc hnmale-candidate-title"><title id="hnmale-candidate-title">Male Candidate Icon</title><desc id="hnmale-candidate-desc">A picture showing a man behind a tribune.</desc><path d="M18 15H6v-2.8A2.184 2.184 0 018.166 10h7.668A2.184 2.184 0 0118 12.2zM2 16l1 5h2v-2h14v2h2l1-5zm14.877-8.129l1.212.487a.6.6 0 00.619-.106c.792.2.892.715.892 1V15h.7V8.95c0-.674-.464-.977-1.3-1.355a.6.6 0 00-.376-.566l-1.212-.487a.6.6 0 00-.781.333l-.087.216a.6.6 0 00.333.78zM12 9a3 3 0 10-3-3 3 3 0 003 3z"/></svg>'},6138:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="homask-1-desc homask-1-title"><title id="homask-1-title">Mask Icon</title><desc id="homask-1-desc">A picture depicting a face mask.</desc><path d="M21.846 6.583a.526.526 0 10-.744-.745l-2.856 2.856L12 6.91 5.754 8.694 2.9 5.838a.526.526 0 10-.744.745L5.342 9.77a35.636 35.636 0 001.269 4.243l-3.4 3.4a.526.526 0 10.744.745l3.208-3.208c1.307 1.068 3.575 2.486 4.837 2.486s3.529-1.417 4.838-2.485l3.211 3.211a.526.526 0 00.744-.745l-3.432-3.432a33.772 33.772 0 001.293-4.211zm-5.635 4.891L12 10.421l-4.211 1.053v-1.053L12 9.368l4.211 1.053z"/></svg>'},4344:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hpmask-2-desc hpmask-2-title"><title id="hpmask-2-title">Mask Icon</title><desc id="hpmask-2-desc">A picture depicting a face mask.</desc><path d="M19 9V7.5A52.366 52.366 0 0012 6a52.366 52.366 0 00-7 1.5V9a3 3 0 000 6v1.5a52.366 52.366 0 007 1.5 52.366 52.366 0 007-1.5V15a3 3 0 000-6zM5 14a2 2 0 010-4zm12 0H7v-1h10zm0-3H7v-1h10zm2 3v-4a2 2 0 010 4z"/></svg>'},3603:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hqmassage-desc hqmassage-title"><title id="hqmassage-title">Massage Icon</title><desc id="hqmassage-desc">A picture depicting a person giving another person a massage.</desc><path d="M16 5a3 3 0 113 3 3 3 0 01-3-3zm7 4.967A1.674 1.674 0 0020.368 8.7l-8.387 4.108c0 .064.019.124.019.189a3.953 3.953 0 01-.318 1.563c.224.079.426.179.633.273l3.685-1.7V22h7V9.967zm-12.942 5.207a3 3 0 10-4.116 0C2.794 15.732 1 17.67 1 21h5.667c.333 0 .5-2 0-2h-2C4.3 19 4 18.837 4 18.183a.666.666 0 01.667-.666h6.666a.666.666 0 01.667.666c0 .552-.3.817-.667.817h-2c-.5 0-.333 2 0 2H15c0-3.33-1.794-5.268-4.942-5.826z"/></svg>'},5497:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hrmastercard-desc hrmastercard-title"><title id="hrmastercard-title">Mastercard Icon</title><desc id="hrmastercard-desc">A picture showing the MasterCard logo.</desc><path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zM9.536 16A4 4 0 1112 8.85l-.13.093a3.676 3.676 0 000 6.112l.132.094A3.982 3.982 0 019.536 16zm4.928 0A3.982 3.982 0 0112 15.149l.132-.094a3.676 3.676 0 000-6.112l-.13-.093A4 4 0 1114.464 16z"/></svg>'},4013:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hsmatch-desc hsmatch-title"><title id="hsmatch-title">Match Icon</title><desc id="hsmatch-desc">A picture depicting two puzzle pieces fitting together.</desc><path d="M10 8a3.909 3.909 0 011 .13V6H0v12h3.779a3 3 0 104.442 0H11v-2.13a3.909 3.909 0 01-1 .13 4 4 0 010-8z"/><path d="M24 6h-3.779a3 3 0 10-4.442 0H12v3.779a3 3 0 100 4.442V18h3.779a3 3 0 104.442 0H24z"/></svg>'},8695:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="htmedical-book-desc htmedical-book-title"><title id="htmedical-book-title">Medical Book Icon</title><desc id="htmedical-book-desc">A picture depicting a book with the medical cross at the corner of its cover.</desc><path d="M6 22a2 2 0 01-2-2V4a2 2 0 012-2zM20 4v16a2 2 0 01-2 2H8V2h6v6l2-2 2 2V2a2 2 0 012 2zm-3 11h-2v-2h-2v2h-2v2h2v2h2v-2h2z"/></svg>'},1535:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="humedicine-desc humedicine-title"><title id="humedicine-title">Medicine Icon</title><desc id="humedicine-desc">A picture depicting a bottle with the medical cross in the middle.</desc><path d="M20 22H4a2 2 0 01-2-2v-9a2 2 0 012-2h16a2 2 0 012 2v9a2 2 0 01-2 2zm0-18a2 2 0 00-2-2H6a2 2 0 00-2 2v3h16zm-4 10h-3v-3h-2v3H8v2h3v3h2v-3h3z"/></svg>'},3264:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hvmedium-desc hvmedium-title"><title id="hvmedium-title">Medium Icon</title><desc id="hvmedium-desc">A picture showing the Medium website logo in the middle.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-1 4.438l-.958.919a.277.277 0 00-.106.269v6.748a.277.277 0 00.106.269l.936.919v.2h-4.706v-.2l.969-.941c.1-.1.1-.123.1-.269V9.9l-2.695 6.844h-.364L8.14 9.9v4.587a.631.631 0 00.174.526l1.26 1.529v.2H6v-.2l1.26-1.532a.608.608 0 00.163-.526V9.18a.464.464 0 00-.151-.392l-1.121-1.35v-.2H9.63l2.689 5.9 2.365-5.9H18z"/></svg>'},5145:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hwmicroorganisms-desc hwmicroorganisms-title"><title id="hwmicroorganisms-title">Microorganisms Icon</title><desc id="hwmicroorganisms-desc">A picture depicting a single-cell organism.</desc><path d="M5.457 3.92C2.446 5.3-.377 10.72 7.586 17.565 9.574 19.274 11 23 14.4 21.735c4.971-1.852.609-11.39-.373-13.529-1.722-3.75-5.558-5.669-8.57-4.286zm4.393 8.994a3.039 3.039 0 111.5-4.03 3.039 3.039 0 01-1.5 4.03zm3.3 5.256a1 1 0 11.492-1.326 1 1 0 01-.488 1.326zM6 19a2 2 0 11-2-2 2 2 0 012 2zm15 1a1 1 0 11-1-1 1 1 0 011 1zm0-8a1 1 0 01-1-1 7.42 7.42 0 00-4-7c-.494-.247-1-.448-1-1s.476-1.175 1-1c3 1 6 3.953 6 9a1 1 0 01-1 1z"/></svg>'},6934:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hxmicroscope-desc hxmicroscope-title"><title id="hxmicroscope-title">Microscope Icon</title><desc id="hxmicroscope-desc">A picture depicting a microscope.</desc><path d="M8.527 10.137l1.459-1.369-.686-.729L16.592 1.2l1.369 1.459 1.458-1.369 1.369 1.458-1.458 1.364L20.7 5.57l-.512.481a2.978 2.978 0 00-4 3.756l-2.777 2.607-.685-.729-1.458 1.369zM21 8.805a2 2 0 10-2.375 1.962A5.888 5.888 0 0119 12.805 5.985 5.985 0 018.731 17H12v-2H3v2h3.212a8.045 8.045 0 003.161 2.915A1.993 1.993 0 008 21.805V23h10v-1.2a2 2 0 00-1.355-1.885A7.992 7.992 0 0021 12.805a7.9 7.9 0 00-.489-2.7 1.98 1.98 0 00.489-1.3z"/></svg>'},4989:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hymicrosoft-desc hymicrosoft-title"><title id="hymicrosoft-title">Microsoft Icon</title><desc id="hymicrosoft-desc">A picture showing the Microsoft logo.</desc><path d="M11 11H2V2h9zm11-9h-9v9h9zM11 13H2v9h9zm11 0h-9v9h9z"/></svg>'},8463:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="hzmilestone-desc hzmilestone-title"><title id="hzmilestone-title">Milestone Icon</title><desc id="hzmilestone-desc">A picture depicting a road sign.</desc><path d="M19 9h-6v12h-2V9H3V5h8V3h2v2h6l2 2z"/></svg>'},185:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iamodule-desc iamodule-title"><title id="iamodule-title">Code Value Icon</title><desc id="iamodule-desc">A picture depicting a part.</desc><path d="M22 9V7h-3V5h-2V2h-2v3h-2V2h-2v3H9V2H7v3H5v2H2v2h3v2H2v2h3v2H2v2h3v2h2v3h2v-3h2v3h2v-3h2v3h2v-3h2v-2h3v-2h-3v-2h3v-2h-3V9zM9 9h6v6H9z"/></svg>'},1913:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ibmoney-bag-desc ibmoney-bag-title"><title id="ibmoney-bag-title">Money Bag Icon</title><desc id="ibmoney-bag-desc">A picture depicting a bag of coins.</desc><path d="M21 17c0 4-1 5-1 5H4s-1-1-1-5 3-7 6-9h2v1.448a2.546 2.546 0 00-2.278 2.407c0 1.537 1.275 2.3 3.135 2.752 1.673.4 2 .983 2 1.605 0 .458-.33 1.193-1.8 1.193-1.372 0-1.912-.615-1.987-1.4H8.6a2.739 2.739 0 002.4 2.547V20h2v-1.432c1.3-.248 2.39-1 2.4-2.37 0-1.891-1.62-2.543-3.135-2.933s-2-.8-2-1.433c0-.72.675-1.23 1.8-1.23 1.185 0 1.628.57 1.665 1.4h1.47a2.709 2.709 0 00-2.2-2.54V8h2c3 2 6 5 6 9zM13.723 3a1.984 1.984 0 00-3.446 0H8l1 3h6l1-3z"/></svg>'},2418:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="icmonth-desc icmonth-title"><title id="icmonth-title">Month Icon</title><desc id="icmonth-desc">A picture depicting a month calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM11 9H9V7h2zm4 0h-2V7h2zm-8 4H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zM7 17H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4-8h-2V7h2z"/></svg>'},7116:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="idms-edge-desc idms-edge-title"><title id="idms-edge-title">Microsoft Edge Icon</title><desc id="idms-edge-desc">A picture showing the Microsoft Edge browser logo.</desc><path d="M13.476 21.863A5.717 5.717 0 019.4 20.12a6.157 6.157 0 01-1.78-4.371 6.271 6.271 0 011.08-3.407 5.922 5.922 0 001.052 3.1 8.345 8.345 0 006.954 3.435 9.077 9.077 0 003.095-.537c-1.494 1.842-3.618 3.523-6.325 3.523zm3.892-6.839a4.462 4.462 0 003.765-1.862 5.151 5.151 0 00.523-4.749A8.883 8.883 0 0018.4 4.1c-1.783-1.265-3.39-2.2-7.475-1.9a10.335 10.335 0 00-7.786 5.226 8.273 8.273 0 014.873-1.549 7.358 7.358 0 016.355 3.185 4.578 4.578 0 01.9 3.423 3.491 3.491 0 01-.859 1.862c.674.7 2.788.677 2.964.677zM6.412 16.852a7.438 7.438 0 013.729-7.464 5.4 5.4 0 012.564-.5 7.156 7.156 0 00-4.714-1.754 6.222 6.222 0 00-5.362 2.712A5.432 5.432 0 002.1 13.6a10.189 10.189 0 007.268 8.17 7.477 7.477 0 01-2.956-4.918z"/></svg>'},5488:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iems-excel-desc iems-excel-title"><title id="iems-excel-title">Microsoft Excel Icon</title><desc id="iems-excel-desc">A picture showing the Microsoft Excel logo.</desc><path d="M12.833 11.476v-3.6h.994v3.6zm1.993 0H22v-3.6h-7.174zM6.652 3.552v2.734h4.728a1.449 1.449 0 011.161.589h1.284V2.7H7.5a.853.853 0 00-.848.852zm15.338 8.924h-7.164v3.675H22s-.016-2.588-.01-3.675zm-9.758-4.737v8.527a.852.852 0 01-.852.853H2.853A.853.853 0 012 16.266V7.739a.853.853 0 01.853-.853h8.527a.852.852 0 01.852.853zm-2.64 7.035l-1.728-2.795 1.685-2.747H8.336l-.959 1.751q-.1.189-.186.39h-.012a4.283 4.283 0 00-.17-.375l-.9-1.767H4.791L6.434 12 4.64 14.774h1.3l1.067-1.948a1.231 1.231 0 00.12-.251h.015a1.708 1.708 0 00.124.259l1.034 1.94zM21.147 2.7h-6.321v4.175H22V3.553a.853.853 0 00-.853-.853zM7.476 21.3zm13.7 0zm-7.344-4.149v-4.675h-.994v3.79a1.455 1.455 0 01-1.453 1.453H6.652c0 1.154.017 2.391.017 2.822a.8.8 0 00.807.758h13.7a.8.8 0 00.807-.758c0-.526.017-1.481.017-2.822v-.568z"/></svg>'},3508:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ifms-office-desc ifms-office-title"><title id="ifms-office-title">Microsoft Office Icon</title><desc id="ifms-office-desc">A picture showing the Microsoft Office logo.</desc><path d="M20 4v16l-4.965 2-11.029-3.964L15 19.52V5.164L7.944 7v9L4 18.036V6.024L15 2z"/></svg>'},6357:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="igms-outlook-desc igms-outlook-title"><title id="igms-outlook-title">Microsoft Outlook Icon</title><desc id="igms-outlook-desc">A picture showing the Microsoft Outlook logo.</desc><path d="M20.748 8.4h-3.563V5.81h3.562zm-6.374 6.922a.33.33 0 00.263 0l1.548-.882v-1.321H12.8v1.314l1.531.863zm6.374-3.48V9.388h-3.564v2.738h3.058zm0-7.709a.878.878 0 00-.878-.877H9.127a.878.878 0 00-.878.877v.986h12.5zm-4.563 5.26H12.8v2.738h3.381zm1 4.481l1.317-.75h-1.32zM12.6 15.432v.234a1.431 1.431 0 01-1.434 1.434H7v2.717a.937.937 0 00.935.937H21.06a.945.945 0 00.231-.031.4.4 0 00.113-.038.081.081 0 00.037-.012.635.635 0 00.144-.081c.013-.007.019-.007.025-.019zm-1.429.757H2.833A.833.833 0 012 15.356V7.024a.833.833 0 01.833-.833h8.333a.833.833 0 01.834.833v8.332a.833.833 0 01-.834.833zm-1.241-5.06a3.486 3.486 0 00-.35-1.593 2.582 2.582 0 00-1-1.083 2.892 2.892 0 00-1.508-.388 3.1 3.1 0 00-1.631.409 2.606 2.606 0 00-1.024 1.134 3.769 3.769 0 00-.348 1.656 3.409 3.409 0 00.354 1.574 2.631 2.631 0 001.011 1.085 2.956 2.956 0 001.542.392 3 3 0 001.566-.4A2.652 2.652 0 009.57 12.8a3.688 3.688 0 00.36-1.671zm5.2 4.828l6.815 3.882a.879.879 0 00.055-.226V11.8c.146 0-6.872 4.157-6.872 4.157zM7.981 9.389a1.5 1.5 0 00-.954-.3 1.558 1.558 0 00-.923.275 1.708 1.708 0 00-.59.751 2.986 2.986 0 000 2.15 1.7 1.7 0 00.577.746 1.506 1.506 0 00.9.272 1.588 1.588 0 00.963-.281 1.62 1.62 0 00.56-.748 2.886 2.886 0 00.179-1.04 3.145 3.145 0 00-.169-1.054 1.666 1.666 0 00-.543-.771zm8.2-3.579H12.8V8.4h3.381z"/></svg>'},9803:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ihms-powerpoint-desc ihms-powerpoint-title"><title id="ihms-powerpoint-title">Microsoft Powerpoint Icon</title><desc id="ihms-powerpoint-desc">A picture showing the Microsoft Powerpoint logo.</desc><path d="M14.105 3.284A8.781 8.781 0 0122 11.605h-7.895zM12.5 12.413v3.758a1.32 1.32 0 01-1.319 1.319H6.469A8.728 8.728 0 0022 12.413zm0-4.584V11.6h.766v.009h.034V3.243h-.035A8.741 8.741 0 006.469 6.51h4.708A1.32 1.32 0 0112.5 7.829zM6.824 9.844H5.729V11.8h1.055a1.38 1.38 0 00.934-.278.692.692 0 00.315-.642q0-1.036-1.209-1.036zm5.186-2.015v8.342a.833.833 0 01-.834.834H2.834A.833.833 0 012 16.171V7.829A.833.833 0 012.834 7h8.342a.833.833 0 01.834.829zm-2.685 3.005a1.8 1.8 0 00-.6-1.459A2.609 2.609 0 007 8.872H4.5v6.256h1.229v-2.293h1.2a2.853 2.853 0 001.264-.266 1.974 1.974 0 00.841-.742 1.7 1.7 0 00.291-.993z"/></svg>'},7976:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iims-teams-desc iims-teams-title"><title id="iims-teams-title">Microsoft Teams Icon</title><desc id="iims-teams-desc">A picture showing the Microsoft Teams logo.</desc><path d="M17 6a2 2 0 112 2 2 2 0 01-2-2zm4 4h-2.276A1.971 1.971 0 0119 11v6a5.96 5.96 0 01-.338 1.966A2.909 2.909 0 0019 19a3 3 0 003-3v-5a1 1 0 00-1-1zm-5 0h-3v5a2 2 0 01-2 2H7a5 5 0 0010 0v-6a1 1 0 00-1-1zm-4-8a3 3 0 00-3 3h2a2 2 0 012 2v.816A2.993 2.993 0 0012 2zm0 5v8a1 1 0 01-1 1H3a1 1 0 01-1-1V7a1 1 0 011-1h8a1 1 0 011 1zM9 8H5v1h1.5v5h1V9H9z"/></svg>'},2091:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ijms-word-desc ijms-word-title"><title id="ijms-word-title">Microsoft Word Icon</title><desc id="ijms-word-desc">A picture showing the Microsoft Word logo.</desc><path d="M22 7.153h-9.6a1.408 1.408 0 00-1.232-.734H7V4.083a.833.833 0 01.833-.833h13.334a.833.833 0 01.833.833zm0 4.358v-3.39h-9.42v3.39zm0 4.377v-3.409h-9.42v3.409zm-10.834 1.693H7v2.336a.833.833 0 00.833.833h13.334a.833.833 0 00.833-.833v-3.061h-9.607a1.406 1.406 0 01-1.227.725zM12 7.833v8.334a.833.833 0 01-.833.833H2.833A.833.833 0 012 16.167V7.833A.833.833 0 012.833 7h8.334a.833.833 0 01.833.833zm-1.281 1.042H9.656l-.875 4.375L7.531 9h-.937l-1.313 4.25-.875-4.375H3.281l1.25 6.25h1.125l1.375-4.312 1.313 4.312h1.125z"/></svg>'},7666:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iknext-month-desc iknext-month-title"><title id="iknext-month-title">Next Month icon</title><desc id="iknext-month-desc">A picture depicting a calendar with a forward-arrow at the end.</desc><path d="M20 14.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>'},1855:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ilnext-quarter-desc ilnext-quarter-title"><title id="ilnext-quarter-title">Next Quarter Icon</title><desc id="ilnext-quarter-desc">A picture depicting a quarter circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm16 1v3h-4v2h4v3l4-4z"/></svg>'},7675:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="imnext-week-desc imnext-week-title"><title id="imnext-week-title">Next Week Icon</title><desc id="imnext-week-desc">A picture depicting a square with an arrow pointing right.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM18 9H6V6h12zm0 5l-4 4v-3H6v-2h8v-3z"/></svg>'},2367:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="innext-year-desc innext-year-title"><title id="innext-year-title">Next Year icon</title><desc id="innext-year-desc">A picture depicting a calendar with a forward-arrow in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z"/></svg>'},7996:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ionot-empty-desc ionot-empty-title"><title id="ionot-empty-title">Not Empty Icon</title><desc id="ionot-empty-desc">A picture showing a crossed-out dotted square.</desc><path d="M5 9h2v2H5zm4 8h2v2H9zm4 0h2v2h-2zm4-8h2v2h-2zm0-4h2v2h-2zM5 17h2v2H5zm8-12h2v2h-2zm-8 8h2v2H5zm14 2v-2h-2v.47L18.53 15H19zm-8-8V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/></svg>'},9446:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ipnot-equal-desc ipnot-equal-title"><title id="ipnot-equal-title">Not Equal Icon</title><desc id="ipnot-equal-desc">A picture showing a crossed-out equals symbol.</desc><path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/></svg>'},3688:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iqnurse-desc iqnurse-title"><title id="iqnurse-title">Nurse Icon</title><desc id="iqnurse-desc">A picture depicting a female nurse.</desc><path d="M14.032 17.331C16.535 17.458 19 19.5 19 22H5c0-2.5 2.465-4.542 4.968-4.669A5.379 5.379 0 017.368 15H5v-3.39a6.037 6.037 0 011.632-4.041L7.3 8.858h9.448l.641-1.266A6.026 6.026 0 0119 11.61V15h-2.368a5.379 5.379 0 01-2.6 2.331zm3.876-12.982l-1.776 3.509H7.907L6.092 4.349A8.441 8.441 0 0111.983 2a7.745 7.745 0 015.925 2.349zm-4.408.08h-1v-1h-1v1h-1v1h1v1h1v-1h1z"/></svg>'},9151:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="isoil-platform-desc isoil-platform-title"><title id="isoil-platform-title">Oil Platform Icon</title><desc id="isoil-platform-desc">A picture depicting an oil platform/offshore drilling rig at seas.</desc><path d="M17 22a4.53 4.53 0 01-3.126-1.219 2.644 2.644 0 00-3.752 0 4.61 4.61 0 01-6.246 0A2.58 2.58 0 002 20v-2a4.523 4.523 0 013.123 1.219 2.638 2.638 0 003.747 0 4.615 4.615 0 016.25 0 2.646 2.646 0 003.754 0A4.528 4.528 0 0122 18v2a2.588 2.588 0 00-1.877.781A4.528 4.528 0 0117 22zm4-11h-2V6h-4v2h-2V2H9v6H5v3H3v2h3v4.367c.135.1.261.2.373.291a3.938 3.938 0 00.441.328A.764.764 0 007 18a.657.657 0 00.183-.015 3.853 3.853 0 00.442-.327c.113-.091.242-.192.38-.3V13h3v3.077A6.848 6.848 0 0112 16a6.974 6.974 0 011 .078V13h3v4.369c.133.1.258.2.369.287a3.674 3.674 0 00.444.329A.72.72 0 0017 18a.745.745 0 00.185-.015 3.847 3.847 0 00.443-.328c.112-.09.239-.189.375-.292V13h3z"/></svg>'},7802:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iroil-desc iroil-title"><title id="iroil-title">Oil Icon</title><desc id="iroil-desc">A picture depicting an oil barrel.</desc><path d="M20 12c0-.575-.455-1.109-1.231-1.562V6.5C19.545 6.051 20 5.516 20 4.941 20 3.317 16.418 2 12 2S4 3.317 4 4.941c0 .575.455 1.11 1.231 1.563v3.934C4.455 10.891 4 11.425 4 12s.455 1.109 1.231 1.562V17.5C4.455 17.949 4 18.484 4 19.059 4 20.683 7.582 22 12 22s8-1.317 8-2.941c0-.575-.455-1.11-1.231-1.563v-3.934C19.545 13.109 20 12.575 20 12zm-7.534-4.126l-.023.008-.024-.007zM12 16.118A4.217 4.217 0 017.692 12 4.217 4.217 0 0112 7.882 4.217 4.217 0 0116.308 12 4.217 4.217 0 0112 16.118zm1.8-5.338L12 9.059l-1.8 1.721a2.364 2.364 0 000 3.445 2.631 2.631 0 003.608 0 2.364 2.364 0 000-3.445z"/></svg>'},4131:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="itonedrive-desc itonedrive-title"><title id="itonedrive-title">OneDrive Icon</title><desc id="itonedrive-desc">A picture showing the Microsoft OneDrive logo.</desc><path d="M14.525 11.838c1.617-.719 3.724-1.788 5.43-.712a3.9 3.9 0 011.711 4.991zM9.406 9.453a4.829 4.829 0 00-2.549-.723H6.8a4.865 4.865 0 00-4.043 7.424l10.478-4.409zm.3-.5l4.192 2.51c1.189-.444 3.091-1.536 4.4-1.384A6.438 6.438 0 007 8.156a5.4 5.4 0 012.711.8zm4.146 3.163L3.1 16.645a4.865 4.865 0 003.755 1.791h11.256a3.893 3.893 0 003.274-1.807z"/></svg>'},2072:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iuopera-desc iuopera-title"><title id="iuopera-title">Opera Icon</title><desc id="iuopera-desc">A picture showing the Opera browser logo.</desc><path d="M15.265 21.427C8.962 23.738 2.011 18.746 2.013 12 2.016 5.267 9 .234 15.324 2.588 3.316 2.127 3.419 21.77 15.265 21.427zM21.975 12c0-5.289-4.547-10.494-9.919-8.066C19.847 4 19.847 20 12.067 20.08c5.327 2.444 9.911-2.772 9.908-8.08z"/></svg>'},9712:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ivpacifier-desc ivpacifier-title"><title id="ivpacifier-title">Pacifier Icon</title><desc id="ivpacifier-desc">A picture depicting a baby pacifier.</desc><path d="M14.406 3.3a4.448 4.448 0 112.9 7.583l-.806.805L12.309 7.5l.805-.806A4.43 4.43 0 0114.406 3.3zM10.4 18.319a3.746 3.746 0 01-.937 1.611 3.813 3.813 0 01-5.393-5.393 3.75 3.75 0 011.612-.937 6 6 0 01-.1-.963A4.715 4.715 0 003.4 13.863a4.767 4.767 0 006.737 6.737 4.712 4.712 0 001.228-2.19 5.932 5.932 0 01-.965-.091zm6.477-3.108L8.789 7.123A.954.954 0 007.44 8.471l1.349 1.348a3.813 3.813 0 005.392 5.392l1.348 1.349a.954.954 0 101.348-1.349z"/></svg>'},4589:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iwpaint-roller-desc iwpaint-roller-title"><title id="iwpaint-roller-title">Paint Roller Icon</title><desc id="iwpaint-roller-desc">A picture depicting a paint roller.</desc><path d="M21 4h-2V3a1 1 0 00-1-1H4a1 1 0 00-1 1v1a1 1 0 000 2v1a1 1 0 001 1h14a1 1 0 001-1V6h2v4h-9a1 1 0 00-1 1v2a1 1 0 00-1 1v6a2 2 0 004 0v-6a1 1 0 00-1-1v-2h8a1 1 0 001-1V5a1 1 0 00-1-1z"/></svg>'},3076:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ixparliament-1-desc ixparliament-1-title"><title id="ixparliament-1-title">Parliament Icon</title><desc id="ixparliament-1-desc">A picture depicting a parliament building.</desc><path d="M14.315 7h-4.63c0-2.3 1.082-4.315 2.315-4.315S14.315 4.7 14.315 7zM6.09 7H9c0-2.761 1.343-5 3-5a6 6 0 00-5.91 5zM12 2c1.657 0 3 2.239 3 5h2.91A6 6 0 0012 2zm10 9v11H2V11h20zM7 16.5a1.5 1.5 0 00-3 0V21h3zM7 12H4v1h3zm8 5a3 3 0 00-6 0v4h6zm5-.5a1.5 1.5 0 00-3 0V21h3zm0-4.5h-3v1h3zm0-4H4v2h16z"/></svg>'},8243:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="iyparliament-2-desc iyparliament-2-title"><title id="iyparliament-2-title">Parliament Icon</title><desc id="iyparliament-2-desc">A picture depicting a parliament building.</desc><path d="M21 9V8h2V6h-6V5h-4.5V3h-.128v-.246l.056-.009a2.454 2.454 0 001.818-1.49 3.317 3.317 0 00-1.855.727l-.019.007v-.607a.382.382 0 10-.763 0v.6a3.317 3.317 0 00-1.855-.727 2.454 2.454 0 001.818 1.49l.037.006V3H11.5v2H7v1H1v2h2v1h1v11H3v1H1v2h22v-2h-2v-1h-1V9zM7 20H5V9h2zm3 0H8V9h2zm3 0h-2V9h2zm3 0h-2V9h2zm3 0h-2V9h2z"/></svg>'},3931:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="izpay-date-desc izpay-date-title"><title id="izpay-date-title">Paydate Icon</title><desc id="izpay-date-desc">A picture depicting a credit card in front of a calendar.</desc><path d="M5 2v2H4a2.006 2.006 0 00-2 2v14a2.006 2.006 0 002 2h4v-2H4V9h14v2h2V6a2.006 2.006 0 00-2-2h-1V2h-2v2H7V2zm5 14.75h12v3.75a1.5 1.5 0 01-1.5 1.5h-9a1.5 1.5 0 01-1.5-1.5zm12-2.25v.75H10v-.75a1.5 1.5 0 011.5-1.5h9a1.5 1.5 0 011.5 1.5z"/></svg>'},564:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="japaypal-desc japaypal-title"><title id="japaypal-title">Paypal Icon</title><desc id="japaypal-desc">A picture showing the PayPal application logo.</desc><path d="M20.933 7.24a5.16 5.16 0 00-3.069-1.794 4.619 4.619 0 00-4.715-3.44H6.5a1.589 1.589 0 00-1.519 1.121c-.017.044-2.961 13.559-2.969 13.744-.22 2.316 2.744 1.733 4.158 1.792-.026.248-.356 1.5-.334 1.727a1.609 1.609 0 001.6 1.6s2.918-.017 3.8-.017a1.529 1.529 0 001.378-1.242l1-4.293h1.552c5.522.004 8.588-5.61 5.767-9.198zm-16.565 9.2L7.005 4.227h6.144a2.746 2.746 0 012.308 1.125h-5.226a1.59 1.59 0 00-1.514 1.1c-.535 2.48-1.534 7.54-2.077 9.991zm15.289-5.234c-2.13 5.363-7.439 1.138-8.1 4.343l-.989 4.222H8.207l1.411-6.661c5.089.457 8.1-1.9 8.434-5.312a2.846 2.846 0 011.605 3.41z"/></svg>'},8294:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jbpiggy-bank-desc jbpiggy-bank-title"><title id="jbpiggy-bank-title">Piggy Bank Icon</title><desc id="jbpiggy-bank-desc">A picture depicting a piggy bank.</desc><path d="M20 13c-.011 0-.02.006-.032.006A6.613 6.613 0 0018 8l-.692 1.5A4.974 4.974 0 0013.8 7.081 4.2 4.2 0 0013 7a4.908 4.908 0 00-.906.091c-.136.025-.264.066-.4.1s-.281.078-.417.129a5.181 5.181 0 00-.5.219c-.071.036-.14.074-.209.113a5.065 5.065 0 00-.543.348C9.212 7.374 8.477 6.817 6 7l.7 2.526A6.766 6.766 0 005.452 12H4a1 1 0 00-1 1v3a1 1 0 001 1h2l2 5h3v-2h4l-.054 2H17a16.824 16.824 0 002.932-7.014c.023 0 .044.014.068.014a1 1 0 000-2zM9.5 13a1.5 1.5 0 111.5-1.5A1.5 1.5 0 019.5 13zm.652-7.1A2.96 2.96 0 0110 5a3 3 0 016 0 2.96 2.96 0 01-.152.9 4.97 4.97 0 00-5.7 0z"/></svg>'},5788:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jcpill-desc jcpill-title"><title id="jcpill-title">Pill Icon</title><desc id="jcpill-desc">A picture depicting a pill.</desc><path d="M9.879 8.464l4.949-4.949a4 4 0 115.657 5.657l-4.949 4.949zM8.464 9.879l-4.949 4.949a4 4 0 005.657 5.657l4.949-4.949z"/></svg>'},6306:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jdpin-left-desc jdpin-left-title"><title id="jdpin-left-title">Pin Left Icon</title><desc id="jdpin-left-desc">A picture depicting a pin pointed to the left.</desc><path d="M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z"/></svg>'},7530:r=>{r.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-labelledby="jepin-right-desc jepin-right-title"><title id="jepin-right-title">Pin Right Icon</title><desc id="jepin-right-desc">A picture depicting a pin pointed to the right.</desc><path d="M8.9 2L1.8 9.1h2.8l3.5 3.6v4.2l3.5-3.5 5.7 5.7h1.4v-1.4L13 12l3.5-3.5h-4.2L8.9 4.9V2z"/></svg>'},1216:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jfpinterest-desc jfpinterest-title"><title id="jfpinterest-title">Pinterest Icon</title><desc id="jfpinterest-desc">A picture showing the Pinterest logo.</desc><path d="M2 12a9.75 9.75 0 013-7.11A9.83 9.83 0 0112 2a9.74 9.74 0 017.17 3A9.93 9.93 0 0122 12a9.77 9.77 0 01-3 7.09A9.8 9.8 0 0112 22a9.45 9.45 0 01-2.81-.43 10.79 10.79 0 00.54-1 16.37 16.37 0 00.79-2.5c.07-.33.19-.79.35-1.36a2.57 2.57 0 00.94.86 4.1 4.1 0 003.71-.16 6.16 6.16 0 002.81-3.63A7.36 7.36 0 0018.15 9 5.61 5.61 0 0015 5.83 8.7 8.7 0 009.46 6a6.3 6.3 0 00-3.75 3.42 8.07 8.07 0 00-.33 1.78 8.18 8.18 0 00.06 1.72 3.39 3.39 0 00.56 1.5 3 3 0 001.25 1 .36.36 0 00.32 0c.1 0 .2-.26.31-.62a2.25 2.25 0 00.12-.73l-.16-.27a3.82 3.82 0 01-.53-2.8 5 5 0 011.21-2.47 5.46 5.46 0 013.38-1.41 4.45 4.45 0 013.3 1 4.22 4.22 0 011 2.07 6.51 6.51 0 010 2.33 7.27 7.27 0 01-.76 2.09 2.86 2.86 0 01-2.31 1.56 1.73 1.73 0 01-1.27-.6 1.38 1.38 0 01-.29-1.31 16.79 16.79 0 01.43-1.63 9.22 9.22 0 00.43-1.88c-.08-1-.54-1.5-1.37-1.52a1.88 1.88 0 00-1.45.88 3.43 3.43 0 00-.5 1.73 4.39 4.39 0 00.35 1.57c-.29 1.17-.51 2.11-.67 2.81 0 .18-.19.74-.43 1.68A13.13 13.13 0 008 20.05v1.09a10.34 10.34 0 01-4.4-3.73A9.64 9.64 0 012 12z"/></svg>'},4284:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jgpipes-desc jgpipes-title"><title id="jgpipes-title">Pipes Icon</title><desc id="jgpipes-desc">A picture depicting pipes.</desc><path d="M8 13v8H4v-8zm2-10v1H7a3 3 0 00-3 3v3H3v2h6v-2H8V9a1 1 0 011-1h1v1h2V3zm3 1v4h8V4z"/></svg>'},2753:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jhpiping-system-desc jhpiping-system-title"><title id="jhpiping-system-title">Piping System Icon</title><desc id="jhpiping-system-desc">A picture depicting a piping system.</desc><path d="M15 9h-1V6a3 3 0 00-3-3H4V2H2v6h2V7h5a1 1 0 011 1v1H9v2h6zm-6 6h1v3a3 3 0 003 3h7v1h2v-6h-2v1h-5a1 1 0 01-1-1v-1h1v-2H9z"/></svg>'},6864:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jiplastic-surgery-desc jiplastic-surgery-title"><title id="jiplastic-surgery-title">Plastic Surgery Icon</title><desc id="jiplastic-surgery-desc">A picture depicting a marker-marked human torso.</desc><path d="M12.128 6.594c1.872 3.817 6.8 3.227 7.091-.681C19.41 4.237 18.5 3.194 18.081 2H5.919C5.5 3.194 4.59 4.237 4.781 5.913c.527 3.868 5.494 4.509 7.347.681zM16 5a1 1 0 11-1 1 1 1 0 011-1zM8 5a1 1 0 11-1 1 1 1 0 011-1zm10.379 5.4a4.278 4.278 0 01-2.483.772 5.033 5.033 0 01-3.76-1.776 4.968 4.968 0 01-3.78 1.767 4.493 4.493 0 01-2.693-.888C3.435 14.3 3.845 19.122 4.629 22h14.744c.774-2.844 1.19-7.665-.994-11.6zM7.168 12c.2.653.377 1.332.524 2H6.666a30.083 30.083 0 00-.544-2zm-.2 9H5.885a11.977 11.977 0 00.7-2h1.022a14.377 14.377 0 01-.641 2zm1-4h-1c.02-.184.033-.359.038-.517s-.017-.322-.026-.483h1c.008.173.029.355.024.517-.004.145-.022.309-.039.483zm8.752-5h1.046c-.2.644-.387 1.329-.543 2h-1.03c.148-.668.328-1.347.524-2zM12 18a1 1 0 111-1 1 1 0 01-1 1zm3.886-1.483c0-.162.015-.344.023-.517h1c-.008.161-.031.336-.026.483s.019.333.038.517h-1a5.63 5.63 0 01-.035-.483zM16.92 21a14.115 14.115 0 01-.641-2H17.3a11.976 11.976 0 00.7 2z"/></svg>'},2252:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jjpliers-desc jjpliers-title"><title id="jjpliers-title">Pliers Icon</title><desc id="jjpliers-desc">A picture showing a pliers.</desc><path d="M13.205 9.121c-.2-.2-.552-.921-1.3-.907a1.354 1.354 0 00-.171.025 2.546 2.546 0 00-2.277-1.451l-.8-3.061L4.466 2l-.616.617L5.836 4.85a1.383 1.383 0 011.7 1.7l.582.582a2.582 2.582 0 00-.568.418 2.619 2.619 0 00-.419.568l-.581-.581a1.385 1.385 0 01-1.7-1.7L2.617 3.85 2 4.466l1.726 4.193 3.062.8a2.546 2.546 0 001.451 2.273 1.354 1.354 0 00-.025.171c-.014.751.706 1.1.907 1.3.2.553 2.46 9.391 8.662 8.763 1.715-.174.351-1.557-1.155-1.908s-3.164-2.511-3.691-3.892c-.44-1.152-.722-3.66-1.767-4.856.025-.023.054-.04.078-.064s.041-.053.064-.078c1.2 1.045 3.7 1.327 4.856 1.767 1.381.527 3.54 2.184 3.892 3.691s1.734 2.87 1.908 1.155c.632-6.2-8.21-8.46-8.763-8.66zm-3.19.894a.872.872 0 110-1.233.871.871 0 010 1.233z"/></svg>'},8007:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jkplugin-desc jkplugin-title"><title id="jkplugin-title">Plugin Icon</title><desc id="jkplugin-desc">A picture depicting an electrical plug.</desc><path d="M16 9V6h6v3zm6 9v-3h-6v3zm-8 4V2a10 10 0 00-9.8 8H2v4h2.2a10 10 0 009.8 8z"/></svg>'},4783:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jlpneumatic-hammer-drill-desc jlpneumatic-hammer-drill-title"><title id="jlpneumatic-hammer-drill-title">Pneumatic Hammer Drill Icon</title><desc id="jlpneumatic-hammer-drill-desc">A picture depicting a pneumatic hammer drill.</desc><path d="M21 4h-3a.937.937 0 00-.857-1H14a1 1 0 00-1-1h-2a1 1 0 00-1 1H6.857A.937.937 0 006 4H3a1 1 0 000 2h3a.937.937 0 00.857 1H8v3a1 1 0 001 1v4a1 1 0 001 1h1v4l1 2 1-2v-4h1a1 1 0 001-1v-4a1 1 0 001-1V7h1.143A.937.937 0 0018 6h3a1 1 0 000-2zm-6 2H9V4h6z"/></svg>'},623:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jmpoop-desc jmpoop-title"><title id="jmpoop-title">Poop Icon</title><desc id="jmpoop-desc">A picture depicting feces.</desc><path d="M19.5 17h-2a2.5 2.5 0 000-5h-2a2.5 2.5 0 000-5h-.684A2.962 2.962 0 0015 6a3 3 0 00-3-3 2.97 2.97 0 00-1.47.4 2.946 2.946 0 01-.316 3.6H8.5a2.5 2.5 0 000 5h-2a2.5 2.5 0 000 5h-2a2.5 2.5 0 000 5h15a2.5 2.5 0 000-5z"/></svg>'},7587:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jnpopular-votes-desc jnpopular-votes-title"><title id="jnpopular-votes-title">Popular Votes Icon</title><desc id="jnpopular-votes-desc">A picture depicting a hand about to drop a ballot into a voting box.</desc><path d="M22 7h-3V1h3zm-8.151-4.344C11.5 2.656 9 4 8.175 8h2.036c.182-1.331.8-2 1.789-2a1.183 1.183 0 011.135 1.048S9.4 9.86 9.538 11.3c.044.44.548.945.919.705C12.808 10.481 18 5.9 18 5.9V2.635s-3.186.021-4.151.021zM11 12.842a1.385 1.385 0 01-.751.222A1.848 1.848 0 018.543 11.4 3.638 3.638 0 019.574 9H7v7h10V9h-1.07A61.327 61.327 0 0111 12.842zM24 17v4a2 2 0 01-2 2H1.99A2 2 0 010 21v-4l3-3h2v2H3.78L2 18h20l-1.77-2H19v-2h2z"/></svg>'},4171:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jopound-circled-desc jopound-circled-title"><title id="jopound-circled-title">Pound Circled Icon</title><desc id="jopound-circled-desc">A picture showing an encircled British pound symbol.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm2 9v2h-2l-1 2h5v2H8v-2h1l1-2H9v-2h1V9a3 3 0 016 0h-2a1 1 0 00-2 0v2z"/></svg>'},171:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jppregnancy-no-alcohol-desc jppregnancy-no-alcohol-title"><title id="jppregnancy-no-alcohol-title">Pregnancy No Alcohol Icon</title><desc id="jppregnancy-no-alcohol-desc">A picture showing a crossed-out woman drinking wine.</desc><path d="M10.022 5.7c-.015-.181.392-.75.392-.75l-.145-.961-.244.145a1.718 1.718 0 011.7-1.857 2.393 2.393 0 013.426 1.3 2.141 2.141 0 00.228 0c.092-.014.184.144.184.144a.582.582 0 01.514-.144 1.7 1.7 0 011.013.516l-.747.746c-.006-.585-.74-.788-.74-.788l-.027.131-.27.076a2.535 2.535 0 01-.678 1.82 3.336 3.336 0 00-.4.877l-2.216 2.204a2.3 2.3 0 00.377-1.59c-.1-.461-.7-.131-.7-.131a1.465 1.465 0 01-.589.062.5.5 0 01-.356-.618c.066-.224-.3-.094-.361-.156-.182-.175.058-.332.058-.332s-.2.021-.237-.026c-.2-.261.158-.434.158-.434s-.324-.034-.34-.234zM7.346 9.992c-.013-.079-.421-.29-.421-.527 0-.183.291-.476.423-.6a4.418 4.418 0 00.143.837c.171.553.842 2.844.842 2.844l.068.224 1.237-1.236c-.317-.377-.663-.8-.9-1.134-.527-.75-.83-1.343-.7-1.606s.641-.16.724-.343c.02-.043-.105-.158-.105-.158A2.907 2.907 0 009.545 6.7c-.158-.131-1.08-.8-1.08-.8s-.281.2-.546.431c-.131-.023-.21-.035-.2.185l-.039.034c-.121-.021-.19-.017-.177.208l-.009.012c-.145.017-.233.021-.151.251l-.008.018c-.118.017-.176.049-.083.278a2.049 2.049 0 00.055.818s0 .137.012.336a2.139 2.139 0 01-.691.861c-.123.025-.276-.109-.429-.188s-.222.018-.222.018c.079.066 1.255.909 1.255.909s.127 0 .114-.079zm10.659 3.6c.184.292-.521.876-.823 1.126S15 17 15 17a2.583 2.583 0 01.43 1.484 2.751 2.751 0 01-.776 1.844 2.955 2.955 0 00-.63 1.672h-3.373a12.98 12.98 0 00-.132-2.015c-.086-.162-1.448-.521-2.178-1.5L4.929 21.9l-1.414-1.415 4.652-4.652 7-7 5.322-5.322L21.9 4.929l-5.63 5.629c.348.658 1.03 1.916 1.735 3.035zM16 14a18.616 18.616 0 00-1.183-1.988l-1.67 1.669A6.1 6.1 0 0014 16z"/></svg>'},7375:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jqprevious-quarter-desc jqprevious-quarter-title"><title id="jqprevious-quarter-title">Previous Quarter Icon</title><desc id="jqprevious-quarter-desc">A picture depicting a quarter circle with an arrow pointing left.</desc><path d="M12 7v10h10A10 10 0 0012 7zM2 12l4 4v-3h4v-2H6V8z"/></svg>'},8577:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jrprevious-week-desc jrprevious-week-title"><title id="jrprevious-week-title">Next Week Icon</title><desc id="jrprevious-week-desc">A picture depicting a square with an arrow pointing left.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zm-2-2H6v-3h12zM10 6v3h8v2h-8v3l-4-4z"/></svg>'},4894:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jsproject-revenue-desc jsproject-revenue-title"><title id="jsproject-revenue-title">Project Revenue Icon</title><desc id="jsproject-revenue-desc">A picture showing the dollar symbol inside a mechanical gear encircled by rotating arrows.</desc><path d="M17.224 12.682c.017-.227.035-.455.035-.682a2.849 2.849 0 00-.07-.683l1.487-1.155a.351.351 0 00.088-.455l-1.4-2.415a.338.338 0 00-.42-.157l-1.75.7a5.275 5.275 0 00-1.173-.683L13.759 5.3a.356.356 0 00-.35-.3h-2.8a.356.356 0 00-.35.3L10 7.152a5.532 5.532 0 00-1.172.683l-1.75-.7a.344.344 0 00-.42.157l-1.4 2.415a.346.346 0 00.087.455l1.488 1.155a4.293 4.293 0 00-.07.683c0 .227.017.455.035.682l-1.47 1.155a.333.333 0 00-.088.438l1.4 2.432a.368.368 0 00.438.158l1.732-.7a5.024 5.024 0 001.19.682l.263 1.855a.356.356 0 00.35.3h2.8a.344.344 0 00.35-.3l.28-1.855a5.242 5.242 0 001.172-.682l1.733.7a.352.352 0 00.42-.158l1.4-2.432a.329.329 0 00-.088-.438zm-4.5 2.455v.984h-1.373v-.994a1.917 1.917 0 01-1.684-1.752h1.009c.052.541.423.963 1.365.963 1.01 0 1.236-.5 1.236-.819 0-.427-.226-.829-1.375-1.1-1.277-.309-2.153-.834-2.153-1.89a1.786 1.786 0 011.6-1.654v-.996h1.375v1.005a1.821 1.821 0 011.468 1.746h-1.007c-.026-.572-.33-.963-1.144-.963-.772 0-1.236.35-1.236.844 0 .433.335.716 1.375.984s2.153.716 2.153 2.014c-.005.943-.71 1.458-1.607 1.628zm3.746 6.343A10.487 10.487 0 0022.44 13h1.5a11.994 11.994 0 01-11.95 11l-.66-.03 3.81-3.81zM11.99 0l.66.03-3.81 3.81-1.33-1.33a10.47 10.47 0 00-5.96 8.48H.05A11.977 11.977 0 0111.99 0z"/></svg>'},4595:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jtprotester-signs-desc jtprotester-signs-title"><title id="jtprotester-signs-title">Protester Signs Icon</title><desc id="jtprotester-signs-desc">A picture showing two signs.</desc><path d="M12.431 13.063l-4.746-1.244 1.672-6.1L1 7.905l2.225 8.126 4.746-1.244L9.965 21l1.272-3.577-.892-3.258 1.922-.5zm-5.244-.427l-1.693-.977-.978 1.693-.847-.489.978-1.693-1.694-.978.489-.846 1.694.977.977-1.693.847.489-.978 1.693 1.694.978zM11.135 3l-2.226 8.127 4.746 1.244L11.293 21h2.543l2.193-8.007 4.746 1.245L23 6.111zm3.188 8.22l-1.666-3.258 1.074-.673L14.8 9.426l4.606-2.951L20 7.6z"/></svg>'},8280:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jupull-request-desc jupull-request-title"><title id="jupull-request-title">Pull Request Icon</title><desc id="jupull-request-desc">A picture showing an l-shaped arrow pointing towards a vertical line to the left.</desc><path d="M6 7.816v8.368a3 3 0 11-2 0V7.816a3 3 0 112 0zm14 8.368V4h-6V2l-3 3 3 3V6h4v10.184a3 3 0 102 0z"/></svg>'},7982:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jvpulse-desc jvpulse-title"><title id="jvpulse-title">Pulse Icon</title><desc id="jvpulse-desc">A picture depicting a cardiogram.</desc><path d="M18.618 11l-1.5-3h-2.172l-2.704 9.111L10.02 2H7.96L6 11H2v2h5.754L9 8l1.98 14h2.074l3.131-11.394L17.382 13H22v-2h-3.382z"/></svg>'},4183:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jwquarter-four-desc jwquarter-four-title"><title id="jwquarter-four-title">Quarter Four Icon</title><desc id="jwquarter-four-desc">A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M22 15.5a6.5 6.5 0 01-13 0v-.65h5.85V9h.65a6.508 6.508 0 016.5 6.5zm-11.66.65a5.2 5.2 0 105.81-5.81v5.81zM2 13h11V2A11 11 0 002 13zm5-2H6V7h1zm3 0L8 7h1l1 2 1-2h1z"/></svg>'},3480:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jxquarter-one-desc jxquarter-one-title"><title id="jxquarter-one-title">Quarter One Icon</title><desc id="jxquarter-one-desc">A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M8.5 22a6.5 6.5 0 010-13h.65v5.85H15v.65A6.508 6.508 0 018.5 22zm-.65-11.66a5.2 5.2 0 105.81 5.81H7.85zM11 2v11h11A11 11 0 0011 2zm5 8h-1V6h1z"/></svg>'},7564:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jyquarter-three-desc jyquarter-three-title"><title id="jyquarter-three-title">Quarter Three Icon</title><desc id="jyquarter-three-desc">A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M15.5 2a6.5 6.5 0 010 13h-.65V9.15H9V8.5A6.508 6.508 0 0115.5 2zm.65 11.66a5.2 5.2 0 10-5.81-5.81h5.81zM2 11a11 11 0 0011 11V11zm5 6H6v-4h1zm2 0H8v-4h1zm2 0h-1v-4h1z"/></svg>'},563:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jzquarter-two-desc jzquarter-two-title"><title id="jzquarter-two-title">Quarter Two Icon</title><desc id="jzquarter-two-desc">A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M2 8.5a6.5 6.5 0 0113 0v.65H9.15V15H8.5A6.508 6.508 0 012 8.5zm11.66-.65a5.2 5.2 0 10-5.81 5.81V7.85zM11 11v11a11 11 0 0011-11zm4 6h-1v-4h1zm2 0h-1v-4h1z"/></svg>'},4917:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="karadiator-desc karadiator-title"><title id="karadiator-title">Radiator Icon</title><desc id="karadiator-desc">A picture showing a radiator used for heating.</desc><path d="M19.277 8a2 2 0 100-2H18v-.5a1.5 1.5 0 00-3 0V6h-2v-.5a1.5 1.5 0 00-3 0V6H8v-.5a1.5 1.5 0 00-3 0V6H2v2h3v8H2v2h3v.5a1.5 1.5 0 003 0V18h2v.5a1.5 1.5 0 003 0V18h2v.5a1.5 1.5 0 003 0V18h2v1h2v-4h-2v1h-2V8zM8 16V8h2v8zm7 0h-2V8h2z"/></svg>'},7814:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kbradioactive-desc kbradioactive-title"><title id="kbradioactive-title">Radioactive Icon</title><desc id="kbradioactive-desc">A picture showing the radioactive symbol.</desc><path d="M12 0a12 12 0 1012 12A12 12 0 0012 0zm0 21.6a9.6 9.6 0 119.6-9.6 9.6 9.6 0 01-9.6 9.6zM11 12a1 1 0 111 1 1 1 0 01-1-1zm-3.236 6.778a7.984 7.984 0 01-3.75-6.5l5-.175a2.985 2.985 0 001.4 2.432zm.481-13.841a7.993 7.993 0 017.51 0L13.4 9.363a2.889 2.889 0 00-2.8 0zm11.741 7.343a7.984 7.984 0 01-3.75 6.5l-2.65-4.241a2.985 2.985 0 001.4-2.432z"/></svg>'},8629:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kcreddit-desc kcreddit-title"><title id="kcreddit-title">Reddit Icon</title><desc id="kcreddit-desc">A picture showing the Reddit website logo.</desc><path d="M12 2A10 10 0 112 12 10 10 0 0112 2zm6.67 10a1.47 1.47 0 00-1.51-1.41 1.5 1.5 0 00-1 .41 7.09 7.09 0 00-3.85-1.23L13 6.65l2.14.45A1 1 0 1016 6a1 1 0 00-.75.49L12.82 6a.3.3 0 00-.37.23l-.74 3.47a7.14 7.14 0 00-3.9 1.23 1.46 1.46 0 00-2 2.13 1.48 1.48 0 00.39.26 3.23 3.23 0 000 .44c0 2.24 2.61 4.07 5.8 4.07s5.83-1.82 5.83-4.06a3.23 3.23 0 000-.44 1.47 1.47 0 00.84-1.33zm-10 1a1 1 0 111 1 1 1 0 01-1-1zm5.81 2.75a3.79 3.79 0 01-2.47.77 3.79 3.79 0 01-2.47-.77.27.27 0 010-.38.29.29 0 01.35 0A3.28 3.28 0 0012 16a3.27 3.27 0 002.09-.61.28.28 0 01.39.4zM14.3 14a1 1 0 111-1 1 1 0 01-1 1h-.05z"/></svg>'},3293:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kdrepository-desc kdrepository-title"><title id="kdrepository-title">Repository Icon</title><desc id="kdrepository-desc">A picture depicting a file drawer.</desc><path d="M22 21H2V11h20zm-7-7v2h-5v-2H8v4h9v-4zm5-7H4v2h16zm-2-4H6v2h12z"/></svg>'},44:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="keresponsive-layout-desc keresponsive-layout-title"><title id="keresponsive-layout-title">Responsive Layout Icon</title><desc id="keresponsive-layout-desc">A picture depicting a mobile phone in front of a laptop computer.</desc><path d="M12 20H3a1 1 0 01-1-1v-1h3a2 2 0 01-2-2V5a2 2 0 012-2h14a2 2 0 012 2v2h-2V5H5v11h7zm3-11h6a1 1 0 011 1v10a1 1 0 01-1 1h-6a1 1 0 01-1-1V10a1 1 0 011-1zm5 2h-4v8h4z"/></svg>'},425:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kfrestricted-area-desc kfrestricted-area-title"><title id="kfrestricted-area-title">Restricted Area Icon</title><desc id="kfrestricted-area-desc">A picture depicting a restricted area blocked by a barrier or a fence.</desc><path d="M4 15v7H2v-7zm16 7h2v-7h-2zM4 2H2v2h2zm16 0v2h2V2zm2 3v9H2V5zm-5.667 2l-1.667 5h2l1.666-5zm-5 0l-1.667 5h3l1.666-5zm-4 0l-1.667 5h2l1.667-5zM4 7v4l1.333-4zm16 5V8l-1.334 4z"/></svg>'},5099:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kgresults-by-candidates-desc kgresults-by-candidates-title"><title id="kgresults-by-candidates-title">Results by Candidates Icon</title><desc id="kgresults-by-candidates-desc">A picture depicting a pie chart.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M11 12.315V2.062a9.985 9.985 0 105.865 18.631zM7.3 10a1.351 1.351 0 11-1.35 1.35A1.35 1.35 0 017.3 10zm2.7 5.4H4.6v-.676c0-.9 1.8-1.35 2.7-1.35s2.7.452 2.7 1.35zm3-13.34v9.623l5.5 7.863A9.956 9.956 0 0013 2.062zM17 8a1 1 0 11-1 1 1 1 0 011-1zm2 4h-4v-.5c0-.665 1.332-1 2-1s2 .335 2 1z"/></svg>'},8030:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="khresults-piechart-desc khresults-piechart-title"><title id="khresults-piechart-title">Results Pie Chart Icon</title><desc id="khresults-piechart-desc">A picture depicting a pie chart.</desc><path d="M8.5 12.5a.94.94 0 01-1.244.951L4.207 16.5H0v-1h3.793l2.756-2.756A.992.992 0 118.5 12.5zm12.525-4l-3.049 3.049a.988.988 0 00-.244-.049 1 1 0 101 1 .952.952 0 00-.049-.244L21.439 9.5H24v-1zm-6.777-3.807A7.994 7.994 0 003.4 14.482l2.1-2.107A2 2 0 117.625 14.5l-2.7 2.7a7.975 7.975 0 009.323 2.111L11 12zm5.481 7.932a2 2 0 11-2.122-2.125l2.372-2.372a8.026 8.026 0 00-3.731-3.439L13 12l3.248 7.307A8 8 0 0021 12c0-.205-.03-.4-.045-.6z"/></svg>'},5832:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kirh-negative-desc kirh-negative-title"><title id="kirh-negative-title">RH Negative Icon</title><desc id="kirh-negative-desc">A picture depicting a blood drop with the minus sign in the middle.</desc><path d="M12 1.845S4 9 4 14.135a8.088 8.088 0 002.34 5.67A7.834 7.834 0 0012 22a7.834 7.834 0 005.66-2.2A8.088 8.088 0 0020 14.135C20 9 12 1.845 12 1.845zM15 15.5H9v-2h6z"/></svg>'},8:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kjrh-positive-desc kjrh-positive-title"><title id="kjrh-positive-title">RH Positive Icon</title><desc id="kjrh-positive-desc">A picture depicting a blood drop with the plus sign in the middle.</desc><path d="M12 1.845S4 9 4 14.135a8.088 8.088 0 002.34 5.67A7.834 7.834 0 0012 22a7.834 7.834 0 005.66-2.2A8.088 8.088 0 0020 14.135C20 9 12 1.845 12 1.845zM15 15.5h-2v2h-2v-2H9v-2h2v-2h2v2h2z"/></svg>'},3223:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kkroad-roller-desc kkroad-roller-title"><title id="kkroad-roller-title">Road Roller Icon</title><desc id="kkroad-roller-desc">A picture depicting a road roller machine.</desc><path d="M3.277 18H1a1 1 0 010-2h2.277a2 2 0 110 2zM5 13a3.982 3.982 0 00-3.445 2h1.224a3 3 0 110 4H1.555A3.993 3.993 0 105 13zm15.723 5H23a1 1 0 000-2h-2.277a2 2 0 100 2zM15 17a3.988 3.988 0 007.445 2h-1.224a3 3 0 110-4h1.224A3.988 3.988 0 0015 17zm2.567-8h-3.86L12.5 7.793l.707-.707-.707-.707L10.379 8.5l.707.707.707-.707L13 9.707V13a1 1 0 01-2 0v-1l-2-2H7V4h6a1 1 0 00-1-1H6a1 1 0 00-1 1v6a2 2 0 00-2 2v.435A4.924 4.924 0 015 12a5.006 5.006 0 015 5 4.95 4.95 0 01-.424 2h4.857A5 5 0 0121 12.433 3.433 3.433 0 0017.567 9z"/></svg>'},7652:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="klrod-of-asclepius-desc klrod-of-asclepius-title"><title id="klrod-of-asclepius-title">Rod of Ascelepius Icon</title><desc id="klrod-of-asclepius-desc">A picture depicting a snake twisted around a poll.</desc><path d="M18.865 5.035c-.459-.714-2.448-.41-3.131.112a1.016 1.016 0 00-.275 1.27c-.244.16-.488.32-.733.47a7.393 7.393 0 01-.948.508 2.042 2.042 0 01-.882.086v-2.5c.606-.05 1.017-.245 1.017-.983A2.035 2.035 0 009.844 4c0 .738.412.933 1.017.983v2.078l-.168-.042a9.086 9.086 0 00-1.28-.207 2.391 2.391 0 00-1.669.4 1.872 1.872 0 00-.59.822 2.827 2.827 0 00-.149.8 4.478 4.478 0 00.139 1.407 2.926 2.926 0 00.8 1.376 3.3 3.3 0 001.377.758 6.241 6.241 0 001.544.218v1.861a9.03 9.03 0 00-.774.175 3.321 3.321 0 00-1.375.711 2.16 2.16 0 00-.686 1.608 3.328 3.328 0 00.326 1.482 2.195 2.195 0 001.3 1.025 6.374 6.374 0 001.48.242c.15 1.3.382 2.3.743 2.3s.575-.935.725-2.162A5.44 5.44 0 0115.948 22a5.475 5.475 0 00-3.266-2.882c.087-.936.139-1.961.169-2.847-.305.056-.6.1-.888.144-.376.056-.725.114-1.045.186.024.624.06 1.3.11 1.955a9.396 9.396 0 01-.856-.343.815.815 0 01-.456-.447 2.018 2.018 0 01-.088-.787.635.635 0 01.2-.478 1.813 1.813 0 01.716-.33c.11-.03.242-.046.359-.071.575-.121 1.214-.2 1.9-.327.022 0 .045-.011.066-.015a6.164 6.164 0 001.244-.351 2.761 2.761 0 001.287-1.039 2.638 2.638 0 00.353-1.644 1.85 1.85 0 00-.362-.943 1.945 1.945 0 00-.815-.615A4.994 4.994 0 0012.9 10.9V9.287h-.046a11.855 11.855 0 01-1.989-.224v1.82a5.461 5.461 0 01-1.075-.134A1.289 1.289 0 018.737 9.8a2.959 2.959 0 01-.112-.9c0-.3.081-.46.113-.474a.926.926 0 01.587-.1 7.774 7.774 0 011.059.144c.419.068.854.151 1.309.215.071.01.142.018.214.027a8.3 8.3 0 00.94.07 3.359 3.359 0 001.431-.28 8.132 8.132 0 001.092-.668c.2-.142.4-.288.591-.433a1.286 1.286 0 001.58.177c.71-.39 1.808-1.789 1.324-2.543zM12.9 14v-1.417a3.369 3.369 0 011.022.123c.158.1.116.019.16.206a1.052 1.052 0 01-.107.6 1.764 1.764 0 01-1.075.575z"/></svg>'},2471:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kmrulers-desc kmrulers-title"><title id="kmrulers-title">Rulers Icon</title><desc id="kmrulers-desc">A picture depicting different measuring tools.</desc><path d="M8 16V2H2v20h20v-6zm-2 1H3v-1h3zm0-3H3v-1h3zm0-3H3v-1h3zm0-3H3V7h3zm0-3H3V4h3zm2 16H7v-3h1zm3 0h-1v-3h1zm3 0h-1v-3h1zm3 0h-1v-3h1zm3 0h-1v-3h1zm-2-7h-8V6h8zm4-12v12h-2V4H10V2z"/></svg>'},26:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="knsafari-desc knsafari-title"><title id="knsafari-title">Safari Icon</title><desc id="knsafari-desc">A picture showing the Safari browser logo.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm0 1.788zM5.072 16.4l1.789-1.034-.342-.593L4.726 15.8a8.145 8.145 0 01-.564-1.35l2-.536-.176-.661-2 .535a8.226 8.226 0 01-.184-1.45h2.067v-.684H3.806a8.226 8.226 0 01.184-1.45l2 .536.176-.661-2-.537a8.145 8.145 0 01.56-1.342l1.793 1.031.342-.593-1.789-1.033a8.212 8.212 0 01.891-1.158l1.461 1.46.483-.484-1.46-1.46A8.146 8.146 0 017.6 5.072l1.034 1.79.593-.343L8.2 4.726a8.145 8.145 0 011.35-.564l.536 2.005.662-.178-.536-2a8.226 8.226 0 011.45-.184v2.064h.684V3.806a8.238 8.238 0 011.45.184l-.536 2 .661.178.537-2a8.181 8.181 0 011.35.564l-1.04 1.787.594.343 1.038-1.79a8.212 8.212 0 011.158.891l-1.46 1.46.14.139-5.264 3.407-3.393 5.282-.158-.158-1.46 1.46a8.261 8.261 0 01-.891-1.153zm15.122-4.054a8.226 8.226 0 01-.184 1.45l-2-.535-.177.661 2.005.536a8.11 8.11 0 01-.564 1.35l-1.793-1.035-.343.593 1.79 1.034a8.221 8.221 0 01-.891 1.157l-1.459-1.459-.485.482 1.46 1.461a8.212 8.212 0 01-1.158.891l-1.033-1.789-.594.342 1.032 1.789a8.181 8.181 0 01-1.35.564l-.537-2-.661.176.536 2a8.238 8.238 0 01-1.45.184v-2.067h-.684v2.063a8.226 8.226 0 01-1.45-.184l.536-2-.662-.176-.536 2a8.145 8.145 0 01-1.35-.564l1.035-1.793-.593-.342L7.6 18.928a8.261 8.261 0 01-1.157-.891l1.46-1.46-.139-.139 5.263-3.407 3.393-5.282.158.158 1.459-1.46a8.212 8.212 0 01.891 1.158l-1.79 1.033.343.593L19.273 8.2a8.03 8.03 0 01.565 1.35l-2.005.537.177.661 2-.536a8.226 8.226 0 01.184 1.45h-2.063v.684zm.018-.346z"/></svg>'},3877:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kosafety-vest-desc kosafety-vest-title"><title id="kosafety-vest-title">Safety Vest Icon</title><desc id="kosafety-vest-desc">A picture depicting a safety vest.</desc><path d="M21 10v2h-8.5v-2H14V8h-1.5V4c3.778 0 2.833-2 4.722-2a4.017 4.017 0 012.834 1s-.945 1-.945 5c0 1.764 1.843 2.2 1.889 2zm0 7v-4h-8.5v4zm-8.5 1v2a4.065 4.065 0 003.778 2A7.054 7.054 0 0021 20v-2zm-1-1v-4H3v4zM3 18v2a7.054 7.054 0 004.722 2 4.065 4.065 0 003.778-2v-2zm7-8V8h1.5V4C7.722 4 8.667 2 6.778 2a4.017 4.017 0 00-2.834 1s.945 1 .945 5c0 1.764-1.843 2.2-1.889 2v2h8.5v-2z"/></svg>'},1733:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kpsale-desc kpsale-title"><title id="kpsale-title">Sale Icon</title><desc id="kpsale-desc">A picture showing the word sale encircled.</desc><path d="M2 12a10 10 0 1110 10A10 10 0 012 12zm4.1 1.263H5.087v.2a1.445 1.445 0 00.368 1.063 1.671 1.671 0 001.222.371 2.021 2.021 0 001.277-.36 1.374 1.374 0 00.459-1.151 2 2 0 00-.042-.42.989.989 0 00-.151-.347 1.3 1.3 0 00-.29-.294 2.392 2.392 0 00-.47-.263l-.776-.336a.87.87 0 01-.42-.29.717.717 0 01-.1-.388.978.978 0 01.024-.218.465.465 0 01.091-.185.471.471 0 01.178-.129.7.7 0 01.281-.049.462.462 0 01.42.192 1 1 0 01.126.55h.965v-.141a1.476 1.476 0 00-.115-.612 1.107 1.107 0 00-.322-.42 1.311 1.311 0 00-.49-.238 2.461 2.461 0 00-.619-.073 1.653 1.653 0 00-1.134.364 1.393 1.393 0 00-.413 1.1 1.75 1.75 0 00.076.543 1.124 1.124 0 00.242.413 1.556 1.556 0 00.41.312 3.707 3.707 0 00.581.245 3.862 3.862 0 01.423.164 1.069 1.069 0 01.277.179.562.562 0 01.15.22.836.836 0 01.046.29.564.564 0 01-.186.466.646.646 0 01-.416.151.811.811 0 01-.326-.057.514.514 0 01-.206-.153.55.55 0 01-.105-.242 1.64 1.64 0 01-.028-.319zm3.79-3.438l-1.324 5h1.05l.231-1.056h1.33l.231 1.056h1.05l-1.323-5zm.132 3.115l.483-2.247h.015L11 12.94zm2.787 1.883H15.6V14h-1.784V9.825h-1.007zm6.034-5H16.05v5h2.863V14h-1.855v-1.347h1.68v-.826h-1.68v-1.176h1.785z"/></svg>'},4009:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kqsass-desc kqsass-title"><title id="kqsass-title">Sass Icon</title><desc id="kqsass-desc">A picture showing the Sass language logo.</desc><path d="M19.212 13.119a4.107 4.107 0 00-1.812.422 3.772 3.772 0 01-.4-.941 2.506 2.506 0 01-.035-.789 6.644 6.644 0 01.237-.85c0-.036-.044-.207-.447-.21s-.748.078-.789.184a3.888 3.888 0 00-.167.6 14.357 14.357 0 01-1.222 2.351 2.272 2.272 0 01-.311-1.475 6.882 6.882 0 01.236-.85c0-.036-.043-.207-.447-.21s-.748.078-.788.184-.085.356-.167.6-1.059 2.415-1.314 2.979c-.13.287-.244.518-.324.675l-.013.028c-.068.134-.109.208-.109.208-.055.1-.113.19-.142.19a1.256 1.256 0 01.009-.622c.145-.755.494-1.931.49-1.971 0-.021.065-.226-.227-.333a.363.363 0 00-.412.07c-.025 0-.044.062-.044.062s.311-1.321-.614-1.321a2.751 2.751 0 00-1.768 1.2c-.248.135-.779.425-1.342.735l-.647.356-.043-.05c-1.117-1.192-3.183-2.035-3.1-3.638.032-.583.235-2.117 3.969-3.978 3.06-1.525 5.51-1.1 5.932-.175.605 1.328-1.309 3.8-4.486 4.153a2.382 2.382 0 01-1.999-.503c-.167-.184-.192-.192-.254-.157-.1.056-.038.218 0 .315a1.883 1.883 0 001.148.9 6.081 6.081 0 003.724-.368c1.925-.744 3.429-2.816 2.987-4.547-.45-1.765-3.369-2.343-6.133-1.362a13.835 13.835 0 00-4.7 2.7C2.163 9.1 1.92 10.34 2.02 10.858c.355 1.84 2.891 3.038 3.906 3.926-.05.027-.1.053-.14.078-.509.251-2.442 1.263-2.926 2.332-.549 1.212.088 2.082.508 2.2a3.122 3.122 0 003.361-1.363 3.379 3.379 0 00.3-3.106l-.011-.025.4-.236c.26-.151.514-.294.734-.414a4.957 4.957 0 00-.261 1.33 2.779 2.779 0 00.6 1.927.655.655 0 00.482.158c.43 0 .626-.357.841-.78.265-.519.5-1.122.5-1.122s-.294 1.631.509 1.631c.292 0 .587-.38.718-.573l.023-.037.047-.076v-.009c.118-.2.379-.669.77-1.437.5-.993.99-2.235.99-2.235a6.669 6.669 0 00.192.806 7.668 7.668 0 00.417.936 9.754 9.754 0 01-.189.256v.005c-.093.124-.2.258-.308.389a11.323 11.323 0 00-.937 1.174.321.321 0 00.087.43.788.788 0 00.491.079 2.246 2.246 0 00.736-.167 2.448 2.448 0 00.632-.332 1.407 1.407 0 00.6-1.245 2.509 2.509 0 00-.229-.878c.036-.051.071-.1.107-.155a16.753 16.753 0 001.1-1.893 6.72 6.72 0 00.192.806 5.625 5.625 0 00.355.8 3.435 3.435 0 00-1.064 1.378c-.231.665-.05.966.289 1.034a1.047 1.047 0 00.534-.108 2.481 2.481 0 00.673-.342 1.519 1.519 0 00.745-1.236 2.3 2.3 0 00-.17-.731 3.816 3.816 0 011.939-.224c1.74.2 2.081 1.289 2.016 1.743a1.148 1.148 0 01-.553.78c-.121.075-.159.1-.149.157.015.082.071.079.175.061A1.356 1.356 0 0022 15.345c.04-1.066-.98-2.236-2.788-2.226zM5.8 17.638c-.576.629-1.38.867-1.726.667-.372-.216-.225-1.142.482-1.809a9.23 9.23 0 011.357-1.012l.358-.214.039-.022.089-.054a2.5 2.5 0 01-.599 2.444zm4.2-2.853c-.2.489-.62 1.741-.876 1.673-.22-.057-.353-1.009-.044-1.945a4.3 4.3 0 01.683-1.253c.315-.352.661-.467.745-.325a6.391 6.391 0 01-.508 1.85zm3.467 1.655c-.085.044-.163.073-.2.051s.035-.074.035-.074.434-.467.605-.679c.1-.124.214-.27.34-.435v.049a1.449 1.449 0 01-.778 1.088zm2.672-.61c-.063-.045-.053-.19.156-.645a2.428 2.428 0 01.594-.766 1.143 1.143 0 01.06.337 1.1 1.1 0 01-.808 1.074z"/></svg>'},5604:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="krsaw-desc krsaw-title"><title id="krsaw-title">Saw Icon</title><desc id="krsaw-desc">A picture depicting a hand saw.</desc><path d="M20 6h-2a1 1 0 00-1 1v8a1 1 0 001 1h2a3 3 0 003-3V9a3 3 0 00-3-3zm1.5 6a2 2 0 01-2 2h-1V8h1a2 2 0 012 2zM16 8v6l-1.364-.091L14 12l-.609 1.826-1.823-.121L11 12l-.544 1.63L8.5 13.5 8 12l-.478 1.435-2.09-.14L5 12l-.413 1.239-2.224-.148L2 12l-.348 1.043L1 13V8z"/></svg>'},7681:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ksscales-balanced-desc ksscales-balanced-title"><title id="ksscales-balanced-title">Scales Balanced Icon</title><desc id="ksscales-balanced-desc">A picture showing perfectly balanced weight scales.</desc><path d="M19.476 14.23c1.946 0 3.524-.882 3.524-1.969l-2.587-7.178a1.442 1.442 0 00.558-1.132 1.5 1.5 0 00-2.9-.488h-4.148a2 2 0 00-3.846 0H5.928a1.5 1.5 0 00-2.9.488 1.442 1.442 0 00.558 1.132C2.732 7.454 1 12.257 1 12.261c0 1.087 1.578 1.969 3.524 1.969s3.524-.882 3.524-1.969L5.461 5.083a1.461 1.461 0 00.467-.644h4.149A1.949 1.949 0 0011 5.632V18.1H7.016a.976.976 0 100 1.951H5.023a.976.976 0 100 1.951h13.954a.976.976 0 100-1.951h-1.993a.976.976 0 100-1.951H13V5.632a1.949 1.949 0 00.926-1.193h4.149a1.461 1.461 0 00.467.644c-.855 2.371-2.587 7.174-2.587 7.178-.003 1.087 1.575 1.969 3.521 1.969zM2.063 12.244l2.461-6.827 2.462 6.827zm17.413-6.827l2.461 6.827h-4.923z"/></svg>'},1221:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ktscales-unbalanced-desc ktscales-unbalanced-title"><title id="ktscales-unbalanced-title">Scales Unbalanced Icon</title><desc id="ktscales-unbalanced-desc">A picture showing unbalanced weight scales.</desc><path d="M19.476 15.367c1.946 0 3.524-.86 3.524-1.922l-2.587-7.007a1.4 1.4 0 00.558-1.1 1.462 1.462 0 00-1.5-1.428 1.5 1.5 0 00-1.3.736l-4.208-.5A1.959 1.959 0 0012 2.476a1.992 1.992 0 00-1.85 1.2l-4.157-.5A1.475 1.475 0 004.524 2a1.463 1.463 0 00-1.495 1.429 1.4 1.4 0 00.558 1.105A7409.12 7409.12 0 001 11.541c0 1.061 1.578 1.921 3.524 1.921s3.524-.86 3.524-1.921c0-.005-1.732-4.693-2.587-7.007a1.461 1.461 0 00.363-.413l4.208.5A1.892 1.892 0 0011 6.022V18.19H7.016a.953.953 0 100 1.9H5.023a.953.953 0 100 1.905h13.954a.953.953 0 100-1.905h-1.993a.953.953 0 100-1.9H13V6.022a1.933 1.933 0 00.853-.94l4.157.5a1.4 1.4 0 00.532.858c-.855 2.315-2.587 7-2.587 7.007-.003 1.06 1.575 1.92 3.521 1.92zM2.063 11.524L4.524 4.86l2.462 6.664zm17.413-4.759L21.937 13h-4.923z"/></svg>'},2141:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kuscissor-lift-desc kuscissor-lift-title"><title id="kuscissor-lift-title">Scissor Lift Icon</title><desc id="kuscissor-lift-desc">A picture depicting a scissor lift.</desc><path d="M22 2H2v5l8 4-8 4v4a3 3 0 006 0h8a3 3 0 006 0v-4l-8-4 8-4zM5 20a1 1 0 111-1 1 1 0 01-1 1zm14-2a1 1 0 11-1 1 1 1 0 011-1zm-1-3H6l6-3zm-6-5L6 7h12zm8-5H4V3h16z"/></svg>'},2451:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kvscrewdriver-desc kvscrewdriver-title"><title id="kvscrewdriver-title">Screwdriver Icon</title><desc id="kvscrewdriver-desc">A picture showing a screwdriver.</desc><path d="M10.515 15.782l.766-.766a1.083 1.083 0 001.531-1.531l-.766-.766 6.891-6.891h1.532L22 2.766 21.234 2l-3.062 1.531v1.532l-6.891 6.891-.766-.766a1.083 1.083 0 00-1.531 1.531l-.766.766a1.082 1.082 0 00-1.531 0L2.476 17.7a1.623 1.623 0 000 2.3l1.531 1.531a1.623 1.623 0 002.3 0l4.211-4.211a1.082 1.082 0 00-.003-1.538z"/></svg>'},3629:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kwsecurity-1-desc kwsecurity-1-title"><title id="kwsecurity-1-title">Security Icon</title><desc id="kwsecurity-1-desc">A picture depicting a shield-protected briefcase.</desc><path d="M12 13h2c-.194 1.505-.641 2.58-2 3zm-2-2v2h2v-3zm12-3v10a1.993 1.993 0 01-2 2H4a1.993 1.993 0 01-2-2l.01-10A1.985 1.985 0 014 6h4V4a1.993 1.993 0 012-2h4a1.993 1.993 0 012 2v2h4a1.993 1.993 0 012 2zM10 6h4V4h-4zm6 4l-4-2-4 2v2.146C8 14.612 9.707 17.44 12 18c2.293-.56 4-3.388 4-5.854z"/></svg>'},5339:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kxsecurity-2-desc kxsecurity-2-title"><title id="kxsecurity-2-title">Security Icon</title><desc id="kxsecurity-2-desc">A picture depicting a shield-protected briefcase.</desc><path d="M12 12l-4 2v2.146C8 18.612 9.707 21.44 12 22c2.293-.56 4-3.388 4-5.854V14zm.529 7.284V20h-1v-.724A1.4 1.4 0 0110.3 18h.735c.038.394.308.7.994.7.735 0 .9-.367.9-.6 0-.311-.165-.6-1-.8-.93-.225-1.568-.608-1.568-1.376a1.3 1.3 0 011.166-1.2V14h1v.731A1.328 1.328 0 0113.6 16h-.735c-.019-.416-.24-.7-.833-.7-.563 0-.9.255-.9.615 0 .315.244.522 1 .717s1.568.522 1.568 1.468c0 .685-.519 1.06-1.171 1.184zM20 6h-4V4a1.993 1.993 0 00-2-2h-4a1.993 1.993 0 00-2 2v2H4a1.985 1.985 0 00-1.99 2L2 18a1.993 1.993 0 002 2h2.973A8.76 8.76 0 016 16.146V13l6-3 6 3v3.146A8.76 8.76 0 0117.027 20H20a1.993 1.993 0 002-2V8a1.993 1.993 0 00-2-2zm-6 0h-4V4h4z"/></svg>'},8501:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kyseverity-desc kyseverity-title"><title id="kyseverity-title">Severity Icon</title><desc id="kyseverity-desc">A picture depicting a gouge.</desc><path d="M24 20h-7a16.577 16.577 0 00-2.877-6.483l1.816-5.457-5.456 1.818A16.6 16.6 0 004 7V0a20 20 0 0120 20zm-10.222-9.778l-2.121.707-7.146 7.146a2 2 0 101.414 1.414l7.146-7.146z"/></svg>'},6143:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="kzshovel-desc kzshovel-title"><title id="kzshovel-title">Shovel Icon</title><desc id="kzshovel-desc">A picture showing a shovel.</desc><path d="M11.771 15.263l1.612 1.612-3.129 3.13s-3.912 3.911-7.041.782S4 13.746 4 13.746l3.129-3.129 1.608 1.613-2.593 2.593 3.033 3.034zM22 5.231L18.769 2 17.2 3.565l.833.833L7.612 14.823l1.565 1.565L19.6 5.962l.833.833z"/></svg>'},2281:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lasign-language-desc lasign-language-title"><title id="lasign-language-title">Sign Language Icon</title><desc id="lasign-language-desc">A picture depicting two human hands gesticulating.</desc><path d="M7.373 21.181a.848.848 0 01.864-.835l3.2-.029-.006-.552-4.947.045a.828.828 0 11-.017-1.654l4.948-.045-.006-.551-5.53.05a.829.829 0 11-.016-1.655l5.529-.05-.005-.551-4.075.037a.828.828 0 11-.012-1.654l6.932-.063s-1.45-2.342-1.456-2.364a.648.648 0 01-.1-.33.632.632 0 01.164-.437c.011-.022.72-.723.72-.723l4.689 4.286a2.151 2.151 0 01.708 1.565L19 19.7a2.274 2.274 0 01-2.306 2.227L8.254 22a.851.851 0 01-.881-.819zm2.767-8.47l2.26-.021c-.3-.491-.456-.744-.537-.887a1.6 1.6 0 01.134-1.856c.092-.111.282-.3.809-.821l.733-.725 3.97 3.63.637-.616a2.137 2.137 0 00.667-1.581l-.115-6.172s-1.025.021-1.05.029a.7.7 0 00-.442.2.669.669 0 00-.178.3c-.012.02-.735 2.647-.735 2.647l-4.949-4.6a.907.907 0 00-1.234.011.8.8 0 00.011 1.17l2.909 2.7-.408.394-3.953-3.667a.908.908 0 00-1.235.011.8.8 0 00.012 1.17L11.393 7.7l-.407.394-3.532-3.287a.906.906 0 00-1.235.011.8.8 0 00.012 1.17l3.532 3.283-.408.393L7.07 7.54a.908.908 0 00-1.235.011.8.8 0 00.012 1.17z"/></svg>'},1959:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lbskype-desc lbskype-title"><title id="lbskype-title">Skype Icon</title><desc id="lbskype-desc">A picture showing the Microsoft Skype logo.</desc><path d="M22 16.2a5.8 5.8 0 01-7.6 5.515 10.04 10.04 0 007.316-7.315A5.8 5.8 0 0122 16.2zM9.612 2.292h.006a5.8 5.8 0 00-7.327 7.325 10.039 10.039 0 017.321-7.325zm11.834 11.431l.007.015a9.652 9.652 0 01-7.714 7.715l-.016-.007A9.647 9.647 0 012.55 10.3a9.656 9.656 0 017.726-7.748 9.609 9.609 0 0111.17 11.171zm-7.048-1.7c-1.021-.88-3.869-1.187-3.958-2.567.16-1.725 2.59-1.278 3.674-.729a.859.859 0 001-1.363 5.216 5.216 0 00-6.267.536 2.691 2.691 0 00.663 3.915c1.168 1.02 5.371 1.509 3.631 3.608a3.17 3.17 0 01-3.226-.244c-.594-.369-1.653-.207-1.611.649.293 2.194 5.978 1.985 6.929.237a2.877 2.877 0 00-.833-4.039z"/></svg>'},1980:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lcskyscrapers-desc lcskyscrapers-title"><title id="lcskyscrapers-title">Skyscrapers Icon</title><desc id="lcskyscrapers-desc">A picture depicting tall buildings.</desc><path d="M20 21V5l-4-2v3l2 1v1h-2v2h2v1h-2v2h2v1h-2v2h2v1h-2v2h2v1h-4V2H4v19H2v1h20v-1zM6 4h6v1H6zm0 3h6v1H6zm0 3h6v1H6zm0 3h6v1H6zm0 3h6v1H6zm0 3h6v1H6z"/></svg>'},2e3:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ldslack-desc ldslack-title"><title id="ldslack-title">Slack Icon</title><desc id="ldslack-desc">A picture showing the Slack application logo.</desc><path d="M9.368 7.263H4.105a2.106 2.106 0 000 4.211h5.263a2.106 2.106 0 100-4.211zm2.106-3.158v2.106H9.368a2.106 2.106 0 112.106-2.106zM7.263 14.632V19.9a2.106 2.106 0 004.211 0v-5.268a2.106 2.106 0 10-4.211 0zm-3.158-2.106h2.106v2.106a2.106 2.106 0 11-2.106-2.106zm10.527 4.211H19.9a2.106 2.106 0 000-4.211h-5.268a2.106 2.106 0 100 4.211zM12.526 19.9v-2.111h2.106a2.106 2.106 0 11-2.106 2.111zm4.211-10.532V4.105a2.106 2.106 0 00-4.211 0v5.263a2.106 2.106 0 104.211 0zm3.163 2.106h-2.111V9.368a2.106 2.106 0 112.111 2.106z"/></svg>'},635:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lesnapchat-desc lesnapchat-title"><title id="lesnapchat-title">Snapchat Icon</title><desc id="lesnapchat-desc">A picture showing the Snapchat application logo.</desc><path d="M12 2.5c-6 0-6 6-6 6v1s-.035-.029-.063 0C5.218 10.218 4 9.569 4 10.9c0 1.54 1.7 1.6 1.965 1.6H6c0 1-1.652 2.171-2.736 2.442A1.7 1.7 0 002 16.51a1.67 1.67 0 00.106.643c.377.885 1.994 1.947 2.994.947.038 1.44.679 2.4 1.374 2.4a4.559 4.559 0 001.634-.388A5.5 5.5 0 0012 21.5a5.5 5.5 0 003.9-1.388 4.552 4.552 0 001.634.388c.7 0 1.335-.963 1.373-2.4 1 1 2.614-.059 2.991-.944A1.67 1.67 0 0022 16.51a1.7 1.7 0 00-1.264-1.568C19.652 14.671 18 13.5 18 12.5h.035c.265 0 1.965-.06 1.965-1.6 0-1.326-1.219-.677-1.937-1.4-.028-.028-.063 0-.063 0v-1s0-6-6-6z"/></svg>'},5678:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lfsneeze-desc lfsneeze-title"><title id="lfsneeze-title">Sneeze Icon</title><desc id="lfsneeze-desc">A picture depicting a person sneezing.</desc><path d="M12.822 13.358a.926.926 0 01-.5.189c-.416.027-.836.009-1.277.009v.267c.005 1.272.013 3.433.016 4.7a1.3 1.3 0 01-1.43 1.424c-.726 0-3.552.044-3.833.113-.462.115-.219 1.584-.3 1.935H3V2h.087c8.46 0 8.107 7.328 8.314 7.682q.78 1.338 1.546 2.681a.734.734 0 01-.125.995zM21 12a1 1 0 11-1-1 1 1 0 011 1zm-3 2a1 1 0 11-1-1 1 1 0 011 1zm-3 2a1 1 0 11-1-1 1 1 0 011 1zm6 0a1 1 0 11-1-1 1 1 0 011 1zm-3 2a1 1 0 11-1-1 1 1 0 011 1zm3 2a1 1 0 11-1-1 1 1 0 011 1z"/></svg>'},2681:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lgsoftware-architecture-desc lgsoftware-architecture-title"><title id="lgsoftware-architecture-title">Software Architecture Icon</title><desc id="lgsoftware-architecture-desc">A picture depicting a scaffold.</desc><path d="M22 6V2h-4v1H6V2H2v4h1v12H2v4h4v-1h12v1h4v-4h-1V6zm-4 12v1H6v-1H5v-5h4v2h6v-2h4v5zm1-7h-4V9H9v2H5V6h1V5h12v1h1z"/></svg>'},1833:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lhsoftware-installer-desc lhsoftware-installer-title"><title id="lhsoftware-installer-title">Software Installer Icon</title><desc id="lhsoftware-installer-desc">A picture showing an arrow pointing down at a computer hard drive.</desc><path d="M11 2v6H8l4 4 4-4h-3V2zm9 6h-2l1.75 6H4.25L6 8H4l-2 7v5a2 2 0 002 2h16a2 2 0 002-2v-5zM5 19a1 1 0 111-1 1 1 0 01-1 1z"/></svg>'},2160:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lisolar-panel-desc lisolar-panel-title"><title id="lisolar-panel-title">Solar Panel Icon</title><desc id="lisolar-panel-desc">A picture depicting a solar panel.</desc><path d="M0 0v24h24V0zm22 22H2V2h20zM8 8H4V4h4zm6 0h-4V4h4zm6 0h-4V4h4zM8 14H4v-4h4zm6 0h-4v-4h4zm6 0h-4v-4h4zM8 20H4v-4h4zm6 0h-4v-4h4zm6 0h-4v-4h4z"/></svg>'},7531:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ljsoldering-iron-desc ljsoldering-iron-title"><title id="ljsoldering-iron-title">Soldering Iron Icon</title><desc id="ljsoldering-iron-desc">A picture depicting a soldering iron.</desc><path d="M21.7 4.424l-5.185 5.182-1.176 4.005-1.415-1.411-7.772 7.77-.708-.707-2.59 2.591-.708-.708 2.591-2.591-.707-.707 7.77-7.772-1.411-1.415 4.005-1.176L19.576 2.3a1.127 1.127 0 011.57-.157l.708.708a1.127 1.127 0 01-.154 1.573z"/></svg>'},7823:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lksoundcloud-desc lksoundcloud-title"><title id="lksoundcloud-title">Soundcloud Icon</title><desc id="lksoundcloud-desc">A picture showing the Soundcloud application icon.</desc><path d="M13.088 8.805a1.035 1.035 0 011.125-1.137 4.355 4.355 0 014.372 3.952 2.456 2.456 0 012.684 3.994 2.37 2.37 0 01-1.732.719s-4.262-.007-5.77-.007c-.391 0-.679-.16-.679-.787zm-1.1 7.025V8.374a.5.5 0 00-.5-.5h-.111a.5.5 0 00-.5.5v7.456a.5.5 0 00.5.5h.111a.5.5 0 00.5-.5zm-4.435 0V8.961a.5.5 0 00-.5-.5h-.115a.5.5 0 00-.5.5v6.869a.5.5 0 00.5.5h.112a.5.5 0 00.503-.5zm2.218 0V9.86a.5.5 0 00-.5-.5h-.115a.5.5 0 00-.5.5v5.97a.5.5 0 00.5.5h.112a.5.5 0 00.503-.5zm-4.436 0V10.6a.5.5 0 00-.5-.5h-.114a.5.5 0 00-.5.5v5.23a.5.5 0 00.5.5h.111a.5.5 0 00.503-.5zm-2.217-1.1v-2.771a.5.5 0 00-.5-.5H2.5a.5.5 0 00-.5.5v2.771a.5.5 0 00.5.5h.112a.5.5 0 00.506-.5z"/></svg>'},5321:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="llsource-code-desc llsource-code-title"><title id="llsource-code-title">Source Code Icon</title><desc id="llsource-code-desc">A picture showing encircled angle brackets.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zM8 14.207l-1 1L3.793 12 7 8.793l1 1L5.793 12zm9 1l-1-1L18.207 12 16 9.793l1-1L20.207 12zm-5.048 1.876l-1.97-.345 2.066-9.821 1.97.345z"/></svg>'},5105:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lmspotify-desc lmspotify-title"><title id="lmspotify-title">Spotify Icon</title><desc id="lmspotify-desc">A picture showing the Spotify application logo.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm4.586 14.422a.623.623 0 01-.857.208c-2.348-1.435-5.3-1.759-8.785-.964a.624.624 0 01-.277-1.216c3.809-.87 7.076-.495 9.712 1.115a.623.623 0 01.207.857zM17.81 13.7a.78.78 0 01-1.073.257 13.126 13.126 0 00-9.965-1.165.78.78 0 11-.453-1.492 14.586 14.586 0 0111.233 1.328.78.78 0 01.258 1.072zm.105-2.835C14.691 8.951 9.374 8.774 6.3 9.708a.935.935 0 01-.543-1.79c3.533-1.072 9.405-.865 13.115 1.338a.935.935 0 01-.954 1.609z"/></svg>'},6508:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lnstackoverflow-desc lnstackoverflow-title"><title id="lnstackoverflow-title">Stackoverflow Icon</title><desc id="lnstackoverflow-desc">A picture showing the Stackoverflow logo.</desc><path d="M15.313 14.8l-7.656-1.855.371-1.531 7.657 1.857-.372 1.529m.514-1.832L8.811 9.385l.717-1.4 7.016 3.585-.717 1.4m1.08-1.9l-5.933-5.182L12.011 4.7l5.933 5.184-1.037 1.186M18.54 9.4l-4.425-6.515L15.419 2l4.425 6.519-1.3.885m-3.349 7.314l-7.867-.43.086-1.574 7.867.43-.086 1.574m1.631 3.706V13.9H18.4V22H4.156v-8.111h1.576v6.535h11.09M7.3 17.279h7.932v1.575H7.3v-1.575z"/></svg>'},7667:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lostairs-desc lostairs-title"><title id="lostairs-title">Stairs Icon</title><desc id="lostairs-desc">A picture depicting a staircase with railings in a building.</desc><path d="M22 6v16H2v-4h5v-4h5v-4h5V6zm-4.275-4.016L1.992 12.619l.56.828L4 12.468V16h1v-4.208l4-2.7V12h1V8.412l4-2.7V8h1V5.033l3.284-2.221z"/></svg>'},6843:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lpstart-expression-desc lpstart-expression-title"><title id="lpstart-expression-title">Start Expression Icon</title><desc id="lpstart-expression-desc">A picture showing a left chevron followed by three dots.</desc><path d="M18.1 11h2v2h-2zm-8 0h2v2h-2z"/><path d="M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zm3.2 4.2h2v2h-2z"/></svg>'},3898:r=>{r.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-labelledby="lqstarts-with-desc lqstarts-with-title"><title id="lqstarts-with-title">Starts With Icon</title><desc id="lqstarts-with-desc">A picture showing the uppercase letter A followed by three dots.</desc><path d="M5.9 7.5l-3.9 9h1.7l.7-1.8h4.1l.7 1.8H11l-3.9-9H5.9zM5 13.2l1.5-4.1L8 13.2H5zm7 1.3h2v2h-2v-2zm8 0h2v2h-2v-2zm-4 0h2v2h-2v-2z"/></svg>'},1683:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lrstats-desc lrstats-title"><title id="lrstats-title">Stats Icon</title><desc id="lrstats-desc">A picture showing a bar chart on a computer screen.</desc><path d="M21.618 2.05H2.382A1.385 1.385 0 001 3.438v13.174A1.385 1.385 0 002.382 18H10v2H8v2h8v-2h-2v-2h7.618A1.385 1.385 0 0023 16.612V3.438a1.385 1.385 0 00-1.382-1.388zM21 14.879H3V3.982h18zM7 11H5V6h2zm4 0H9V8h2zm8 2H5v-1h14zm-4-2h-2V7h2zm4 0h-2V9h2z"/></svg>'},8473:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lssteam-desc lssteam-title"><title id="lssteam-title">Steam Icon</title><desc id="lssteam-desc">A picture showing the Steam application logo.</desc><path d="M11.983 2a9.945 9.945 0 00-9.875 9.2l5.311 2.216A2.765 2.765 0 019 12.922h.156l2.362-3.455v-.044a3.737 3.737 0 113.737 3.771h-.085l-3.37 2.424v.134a2.8 2.8 0 01-5.555.558l-3.8-1.585A9.924 9.924 0 1011.983 2zM8.318 17.173L7.1 16.666a2.095 2.095 0 003.837-.1 2.13 2.13 0 000-1.626A2.1 2.1 0 009.8 13.785a2.08 2.08 0 00-1.552-.023l1.258.524a1.569 1.569 0 01.834 2.045 1.544 1.544 0 01-2.026.842zm9.489-7.75A2.555 2.555 0 1015.253 12a2.57 2.57 0 002.554-2.577zm-4.469-.005a1.919 1.919 0 111.919 1.936 1.928 1.928 0 01-1.919-1.936z"/></svg>'},2554:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ltstethoscope-desc ltstethoscope-title"><title id="ltstethoscope-title">Stethoscope Icon</title><desc id="ltstethoscope-desc">A picture depicting a stethoscope.</desc><path d="M20.961 7.737V16a6 6 0 01-6 6h-.948a6 6 0 01-6-6v-1C4.7 15 2 10.314 2 7V3h4v2H4.013v2c0 2.206 1.8 6 4 6h1.948c2.205 0 4-3.794 4-6V5H12V3h4v4c0 3.3-2.7 7.957-5.987 8v1a4 4 0 004 4h.948a4 4 0 004-4V7.708a2 2 0 112 .029z"/></svg>'},4592:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lustop-hand-desc lustop-hand-title"><title id="lustop-hand-title">Stop Hand Icon</title><desc id="lustop-hand-desc">A picture depicting a sign with a stop hand.</desc><path d="M12 22a2.577 2.577 0 01-1.828-.756l-7.416-7.416a2.588 2.588 0 010-3.656l7.416-7.416a2.588 2.588 0 013.656 0l7.416 7.416a2.588 2.588 0 010 3.656l-7.416 7.416A2.577 2.577 0 0112 22zm0-18.966a1.549 1.549 0 00-1.1.453L3.487 10.9a1.553 1.553 0 000 2.194l7.413 7.419a1.553 1.553 0 002.194 0l7.419-7.413a1.553 1.553 0 000-2.194L13.1 3.487a1.549 1.549 0 00-1.1-.453zm2.892 8.318v1.706c0 .281-.1.456-.356.456-.275 0-.374-.169-.374-.45V8.328c0-.834-1.052-.859-1.052-.056l-.01 3.446c0 .146.008.251-.423.251a.24.24 0 01-.246-.251v-4.3a.62.62 0 00-1.238 0v4.3a.245.245 0 11-.489 0v-3.78a.62.62 0 00-1.238 0v3.78a.245.245 0 11-.49 0V8.969a.541.541 0 00-.532-.5.553.553 0 00-.582.5v6.149c0 .659.357 1.014 1.089 1.014h5.113c1.263 0 2.07.173 2.07-1.637v-3.143a.623.623 0 00-1.242 0z"/></svg>'},8430:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lvstrategy-desc lvstrategy-title"><title id="lvstrategy-title">Strategy Icon</title><desc id="lvstrategy-desc">A picture depicting a chess rook.</desc><path d="M17 19l-1-9h1V8h-1l1-5h-2v1.492h-2V3h-2v1.492H9V3H7l1 5H7v2h1l-1 9H5v3h14v-3h-2z"/></svg>'},4335:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 0v2H7V0H5v24h2v-2h10v2h2V0zm-5 4a2 2 0 11-2 2 2 2 0 012-2zm5 7h-2v8a1 1 0 01-2 0v-3h-2v3a1 1 0 01-2 0v-8H7V9h10z"/></svg>'},4088:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lxstripe-desc lxstripe-title"><title id="lxstripe-title">Stripe Icon</title><desc id="lxstripe-desc">A picture showing the Stripe application logo.</desc><path d="M3.406 11.1c0-.217.177-.3.472-.3a3.1 3.1 0 011.378.356V9.85a3.676 3.676 0 00-1.378-.256C2.75 9.594 2 10.183 2 11.167c0 1.533 2.111 1.289 2.111 1.95 0 .255-.222.339-.533.339a3.456 3.456 0 01-1.517-.445v1.322a3.84 3.84 0 001.517.317c1.155 0 1.95-.572 1.95-1.567-.006-1.655-2.122-1.361-2.122-1.983zm3.755-2.617l-1.355.289-.006 4.45a1.4 1.4 0 001.439 1.428 2.146 2.146 0 00.972-.183v-1.128c-.178.072-1.055.328-1.055-.5v-1.967h1.055V9.689H7.156zM9.939 10.1l-.089-.411h-1.2v4.861h1.389v-3.294a.979.979 0 011.055-.289V9.689a.942.942 0 00-1.155.411zm1.494-.411h1.395v4.861h-1.395V9.689zm0-.422l1.395-.3V7.839l-1.395.294v1.134zm4.3.327a1.567 1.567 0 00-1.089.434l-.072-.345h-1.228v6.478l1.389-.294.006-1.573a1.56 1.56 0 00.983.35c.995 0 1.9-.8 1.9-2.561 0-1.611-.922-2.489-1.894-2.489zm-.334 3.828a.828.828 0 01-.655-.261l-.011-2.061a.829.829 0 01.661-.272c.506 0 .856.566.856 1.294 0 .745-.344 1.3-.856 1.3zM22 12.139c0-1.422-.689-2.545-2.006-2.545a2.253 2.253 0 00-2.122 2.534 2.213 2.213 0 002.3 2.516 3.1 3.1 0 001.539-.361v-1.111a2.949 2.949 0 01-1.361.306c-.539 0-1.017-.189-1.078-.845h2.717c0-.072.011-.361.011-.494zm-2.744-.528c0-.628.383-.889.733-.889s.7.261.7.889z"/></svg>'},2888:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lysyringe-desc lysyringe-title"><title id="lysyringe-title">Syringe Icon</title><desc id="lysyringe-desc">A picture depicting a syringe.</desc><path d="M20.028 9.629l1.414-1.415-5.656-5.656-1.415 1.414 2.122 2.121-1.415 1.414-2.121-2.121-7.071 7.071-.293 4.536-.414.414a.983.983 0 00-.245.952L2.7 20.589a.5.5 0 00.707.707l2.23-2.23a.983.983 0 00.952-.245l.414-.414 4.536-.293 1.418-1.414-2.121-2.122 1.414-1.414 2.121 2.121 1.415-1.414-2.122-2.121 1.414-1.414 2.122 2.121 1.414-1.414-2.121-2.121 1.414-1.415z"/></svg>'},5364:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="lzsystem-update-desc lzsystem-update-title"><title id="lzsystem-update-title">System Update Icon</title><desc id="lzsystem-update-desc">A picture depicting a computer screen with a reload symbol in the middle.</desc><path d="M20 2H4a2 2 0 00-2 2v12a2 2 0 002 2h6l-2 4h8l-2-4h6a2 2 0 002-2V4a2 2 0 00-2-2zm-8.194 2.923a5.077 5.077 0 104.724 6.923h.982a6.019 6.019 0 11-.237-4.277l.919-.2-.85 2.631-1.85-2.049.857-.184a5.1 5.1 0 00-4.545-2.844zM14 11.424l-.8.8-2-2V6.715h1.139v3.042z"/></svg>'},219:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="matable-saw-blade-desc matable-saw-blade-title"><title id="matable-saw-blade-title">Table Saw Blade Icon</title><desc id="matable-saw-blade-desc">A picture depicting a table saw blade.</desc><path d="M21 21H3a1 1 0 01-1-1v-2a1 1 0 011-1h18a1 1 0 011 1v2a1 1 0 01-1 1zm-1.117-7.944c-.426 1.37-1.368 1.387-2.3 1.149-.027.058-.052.117-.081.174A1.811 1.811 0 0019 15.518a2.323 2.323 0 01-.448.482H5.66a2.013 2.013 0 01.846-1.593c-.028-.056-.052-.115-.079-.171a1.746 1.746 0 00-1.761.587 1.725 1.725 0 011.211-2.339c-.01-.062-.018-.125-.027-.187A1.731 1.731 0 004 12.286c0-1.441.892-1.761 1.845-1.834.008-.062.017-.125.027-.187a1.753 1.753 0 00-1.755-.607c.426-1.37 1.369-1.387 2.3-1.149.027-.058.052-.117.081-.174A1.814 1.814 0 005.005 7.2c.81-1.165 1.712-.879 2.524-.353.042-.046.084-.092.128-.136a1.878 1.878 0 00-1.078-1.569c1.113-.845 1.886-.285 2.5.476.053-.03.109-.054.164-.082A1.935 1.935 0 008.682 3.7c1.312-.445 1.879.341 2.239 1.265.06-.011.12-.019.179-.028A1.946 1.946 0 0011.111 3c1.379 0 1.686.932 1.755 1.927.06.009.12.018.18.029a1.926 1.926 0 00.581-1.834c1.311.445 1.327 1.43 1.1 2.4.055.028.112.054.167.084a1.868 1.868 0 001.09-1.555c1.115.846.841 1.789.338 2.636l.131.134a1.8 1.8 0 001.5-1.126 1.76 1.76 0 01-.456 2.614c.028.055.052.114.079.171a1.749 1.749 0 001.761-.588 1.725 1.725 0 01-1.211 2.339c.01.062.018.125.027.187a1.73 1.73 0 001.85.012c0 1.44-.892 1.76-1.845 1.833a6.074 6.074 0 01-.027.188 1.753 1.753 0 001.752.605zM14 11a2 2 0 10-2 2 2 2 0 002-2z"/></svg>'},8469:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mbtap-water-desc mbtap-water-title"><title id="mbtap-water-title">Tap Water Icon</title><desc id="mbtap-water-desc">A picture depicting tap water.</desc><path d="M22 6v8h-2v-2H9v2H4v-2a4 4 0 014-4h4V7a1 1 0 011-1V4h-1a1 1 0 010-2h5a1 1 0 010 2h-1v2a1 1 0 011 1v1h3V6zM6.5 16s-4.5 6 0 6 0-6 0-6z"/></svg>'},8935:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mctapeline-desc mctapeline-title"><title id="mctapeline-title">Tapeline Icon</title><desc id="mctapeline-desc">A picture depicting a measuring tape.</desc><path d="M16 15v-3l1-1V9l-1-1a3 3 0 00-3-3H5a3 3 0 00-3 3v10h19v1h1v-4zm-7 0a4 4 0 114-4 4 4 0 01-4 4zm2-4a2 2 0 11-2-2 2 2 0 012 2z"/></svg>'},1418:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mdteeth-desc mdteeth-title"><title id="mdteeth-title">Teeth Icon</title><desc id="mdteeth-desc">A picture depicting human teeth.</desc><path d="M19 3H5a3 3 0 00-3 3v4a1 1 0 001 1h18a1 1 0 001-1V6a3 3 0 00-3-3zM6 8.5a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5V7a1 1 0 012 0zm5-.5a1 1 0 01-1 1H9a1 1 0 01-1-1V6.5a1.5 1.5 0 013 0zm5 0a1 1 0 01-1 1h-1a1 1 0 01-1-1V6.5a1.5 1.5 0 013 0zm4 .5a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5V7a1 1 0 012 0zM22 19v-5a1 1 0 00-1-1H3a1 1 0 00-1 1v5a3 3 0 003 3h14a3 3 0 003-3zM5 17a1 1 0 01-2 0v-1.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5zm4 1a1 1 0 01-2 0v-1.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5zm4 0a1 1 0 01-2 0v-1.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5zm8-1a1 1 0 01-2 0v-1.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5zm-4 1a1 1 0 01-2 0v-1.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z"/></svg>'},7934:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="metelegram-desc metelegram-title"><title id="metelegram-title">Telegram Icon</title><desc id="metelegram-desc">A picture showing the Telegram application icon.</desc><path d="M21.517 3.826a1.35 1.35 0 00-1.438-.146L3.177 10.2c-1 .406-1.193.914-1.176 1.269.013.263.161.74 1.007.991l4.125 1.292 2.135 5.7a.463.463 0 00.339.291.5.5 0 00.1.01.462.462 0 00.332-.141l2.486-2.559 4.259 3.138a1.988 1.988 0 00.933.273 1.212 1.212 0 00.514-.111 1.6 1.6 0 00.821-1.219l2.87-13.552a1.674 1.674 0 00-.405-1.756zm-.5 1.549l-2.876 13.563a.816.816 0 01-.3.57.745.745 0 01-.562-.1l-4.9-3.616a.462.462 0 00-.632.077L10.24 17.69l.146-2.916s8.132-8 8.073-8.085c-.089-.133-.249-.183-.64.069L7.427 12.873l-4.148-1.3a2.373 2.373 0 01-.345-.142 1.324 1.324 0 01.584-.37l16.918-6.526a.466.466 0 01.488 0c.155.132.192.447.095.84z"/></svg>'},6282:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mfthermometer-desc mfthermometer-title"><title id="mfthermometer-title">Thermometer Icon</title><desc id="mfthermometer-desc">A picture depicting a thermometer.</desc><path d="M13 18a4 4 0 11-6-3.445V4a2 2 0 014 0v10.555A3.982 3.982 0 0113 18zm0-14v2h6V4zm0 6h6V8h-6zm0 4h6v-2h-6z"/></svg>'},389:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mgthis-month-desc mgthis-month-title"><title id="mgthis-month-title">This Month Icon</title><desc id="mgthis-month-desc">A picture depicting a calendar with an encircled check mark at the end.</desc><path d="M6 9h2v2H6zm0 4h2v2H6zm5 0h2v2h-2zm-5 4h2v2H6zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2zm5 5.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z"/><path d="M5 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H5z"/></svg>'},8826:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mhthis-quarter-desc mhthis-quarter-title"><title id="mhthis-quarter-title">This Quarter Icon</title><desc id="mhthis-quarter-desc">A picture depicting an arrow pointing right to a quarter of a circle.</desc><path d="M12 7v10h10A10 10 0 0012 7zm-2 5l-4 4v-3H2v-2h4V8z"/></svg>'},8961:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mithis-week-desc mithis-week-title"><title id="mithis-week-title">This Quarter Icon</title><desc id="mithis-week-desc">A picture depicting a square with an arrow pointing up.</desc><path d="M22 4v16a2 2 0 01-2 2h-5v-2h5V4H4v16h5v2H4a2 2 0 01-2-2V4a2 2 0 012-2h16a2 2 0 012 2zm-4 2H6v3h12zM8 15h3v7h2v-7h3l-4-4z"/></svg>'},1602:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mjthis-year-desc mjthis-year-title"><title id="mjthis-year-title">This Year Icon</title><desc id="mjthis-year-desc">A picture depicting a stacked calendar with a check mark in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z"/></svg>'},9089:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mktiktok-desc mktiktok-title"><title id="mktiktok-title">TikTok Icon</title><desc id="mktiktok-desc">A picture showing the TikTok application logo.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-1.853 7.853c-.1.009-.2.014-.295.015a3.212 3.212 0 01-2.687-1.452v4.944a3.655 3.655 0 11-3.654-3.654c.076 0 .15.007.225.011v1.8a1.861 1.861 0 10-.225 3.708 1.911 1.911 0 001.94-1.842l.018-8.4h1.721a3.208 3.208 0 002.957 2.865z"/></svg>'},9761:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mltimeline-desc mltimeline-title"><title id="mltimeline-title">Timeline Icon</title><desc id="mltimeline-desc">A picture showing a horizontal line with perpendicular lines across its axis.</desc><path d="M24 13v-2h-3V7.816a3 3 0 10-2 0V11h-6V7.816a3 3 0 10-2 0V11H5V7.816a3 3 0 10-2 0V11H0v2h6v3.184a3 3 0 102 0V13h8v3.184a3 3 0 102 0V13z"/></svg>'},3150:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mmtinder-desc mmtinder-title"><title id="mmtinder-title">Tinder Icon</title><desc id="mmtinder-desc">A picture showing the Tinder application icon.</desc><path d="M8.577 10.081c3.851-1.223 4.462-4.767 3.974-7.946 0 0 0-.183.122-.123C16.4 3.846 20.557 7.7 20.557 13.626A8.388 8.388 0 0112 22c-5.5 0-8.557-3.851-8.557-8.435a8.25 8.25 0 013.973-6.723s.184 0 .184.123a6.131 6.131 0 00.916 3.056z"/></svg>'},2579:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mntoday-desc mntoday-title"><title id="mntoday-title">Today Icon</title><desc id="mntoday-desc">A picture depicting a calendar with a check mark in the middle.</desc><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/><path d="M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z"/></svg>'},3640:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="motoilet-paper-desc motoilet-paper-title"><title id="motoilet-paper-title">Toilet Paper Icon</title><desc id="motoilet-paper-desc">A picture depicting a roll of toilet paper.</desc><path d="M6.5 5.3C7.328 5.3 8 6.509 8 8s-.672 2.7-1.5 2.7S5 9.491 5 8s.672-2.7 1.5-2.7zM7 2h10c2.209 0 4 2.686 4 6v14l-2-2-2 2-2-2-2 2-2-2-2 2v-8H7c-2.209 0-4-2.686-4-6s1.791-6 4-6zm7 10h2v-2h-2zm4 0h2v-2h-2zm-8 0h2v-2h-2zm-3.5.5C7.881 12.5 9 10.485 9 8S7.881 3.5 6.5 3.5 4 5.515 4 8s1.119 4.5 2.5 4.5z"/></svg>'},2625:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mptomorrow-desc mptomorrow-title"><title id="mptomorrow-title">Tomorrow Icon</title><desc id="mptomorrow-desc">A picture depicting a calendar with a right-pointed arrow in the middle.</desc><path d="M13.3 13.6H7.2v1.8h6.1V18l3.5-3.5-3.5-3.5v2.6z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/></svg>'},8183:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mrtooth-cracked-desc mrtooth-cracked-title"><title id="mrtooth-cracked-title">Tooth Cracked Icon</title><desc id="mrtooth-cracked-desc">A picture depicting a chipped human tooth.</desc><path d="M17 2c-1.268 0-3 1.107-5 1.107S8.268 2 7 2a3.416 3.416 0 00-3.376 2H6a3 3 0 010 6H3.622A5.554 5.554 0 005 11.7V15c0 2.8 2 7 3 7 3 0 2-6 4-6s1 6 4 6c1 0 3-4.2 3-7v-3.3a5.438 5.438 0 002-4.2c0-3.038-.894-5.5-4-5.5z"/></svg>'},5828:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mqtooth-desc mqtooth-title"><title id="mqtooth-title">Tooth Icon</title><desc id="mqtooth-desc">A picture depicting a human tooth.</desc><path d="M21 7.5c0-3.038-.894-5.5-4-5.5-1.268 0-3 1.107-5 1.107S8.268 2 7 2C3.893 2 3 4.462 3 7.5a5.438 5.438 0 002 4.2V15c0 2.8 2 7 3 7 3 0 2-6 4-6s1 6 4 6c1 0 3-4.2 3-7v-3.3a5.438 5.438 0 002-4.2z"/></svg>'},1869:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mstop-percentile-records-desc mstop-percentile-records-title"><title id="mstop-percentile-records-title">Top Percentile Records Icon</title><desc id="mstop-percentile-records-desc">Shows percentile records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2 1v9h-3v2h3a2 2 0 002-2v-9.35a5.976 5.976 0 01-2 .35zM6 4h6.09a5.966 5.966 0 01.722-2H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6zm13.355 1.445a.166.166 0 00-.059-.1.22.22 0 00-.2 0 .156.156 0 00-.058.1.954.954 0 00-.028.189q-.01.12-.01.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.027-.189zm-2.393-1.88a.157.157 0 00-.062-.095.213.213 0 00-.2 0 .158.158 0 00-.059.095 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192C17 4.3 17 4.194 17 4.068s0-.234-.008-.314a.931.931 0 00-.03-.189zM22 5a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.4 2.4 0 00.044-.493 2.378 2.378 0 00-.044-.492.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.311 2.311 0 00-.044.492 2.328 2.328 0 00.044.493.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 3h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.328 2.328 0 00-.044.493 2.311 2.311 0 00.044.492.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>'},6703:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mttop-records-desc mttop-records-title"><title id="mttop-records-title">Top Records Icon</title><desc id="mttop-records-desc">Shows records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2-8H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6V4h12v16h-3v2h3a2 2 0 002-2V4a2 2 0 00-2-2z"/></svg>'},5826:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mutouch-id-desc mutouch-id-title"><title id="mutouch-id-title">TouchID Icon</title><desc id="mutouch-id-desc">A picture showing the Apple TouchID logo.</desc><path d="M21.036 9.059a16.675 16.675 0 01-1.055 9.309c-.431.616-.733 2.754-1.912 2.477-.467-.226-.222-.7-.011-1.044a16.173 16.173 0 001.979-7.23c-.077-3.169.026-8.3-4.395-9.328-1.162-.27-.956-1.187.04-1.019a13.218 13.218 0 011.6.591c2.631 1.157 3.4 4.252 3.754 6.244zm-5.294-4.841c-3.284-1.3-7.854.454-8.1 3.363.038.886 1.3.5 1.266-.276.574-2.446 4.84-3.584 6.9-1.817 1.318 1.209 1.313 2.931 1.839 4.423a.539.539 0 00.679.39c.729-.179.407-.8.373-1.2-.269-1.025-1.019-4.116-2.957-4.883zm-3.085 3q-.625.165-.336.889a11.586 11.586 0 01.86 4.67c-.028 3.051-1.437 5.914-3.531 8.612-.138.22-.07.435.216.553a.817.817 0 00.95-.326c2.813-3.5 4.153-7.221 3.548-11.1-.188-1.2-.491-3.563-1.707-3.296zM5.689 9.865c1.508 3.353.323 7.206-2.861 10.112-.35.433.3.675.774.557a10.516 10.516 0 003.519-4.962 8.048 8.048 0 00.009-5.341 5.707 5.707 0 01-.577-2.495c.229-2.636 3.073-4.445 6.175-4.887.933-.555-.161-.993-.908-.805-4.459.89-7.613 4.319-6.131 7.821zm3.648-.186a.553.553 0 00-.721-.339c-.681.179-.354.726-.329 1.1a9.544 9.544 0 01-1.659 8.187c-.235.637-2.345 2.11-1.548 2.559.942.362 1.472-.886 1.982-1.347a11.372 11.372 0 002.679-8.8 9.539 9.539 0 00-.404-1.36zm6.018-3.222c-1.348-1.933-5.179-.939-5.414 1.078-.009 1.436.966 2.715.884 4.178.175.645-.444 2.5.582 2.607a.649.649 0 00.653-.574 10.613 10.613 0 00-.869-5.638c-.658-1.6 2.786-2.484 3.26-.808a13.7 13.7 0 01-1.926 13.585c-.262.335-.578.846.01 1.034a.668.668 0 00.743-.213 15.19 15.19 0 003.26-11.757 12.4 12.4 0 00-1.183-3.492zm-5.091 9.821a18.249 18.249 0 01-3.109 4.973c.8 2.32 4.512-4.567 4.408-5.275-.516-.476-1.158-.376-1.299.302zm7.493-3.817a16.006 16.006 0 01-2.744 8.439c-.446.609.584.925 1.074.371a16.927 16.927 0 002.932-9.149c-.071-.844-1.45-.555-1.262.339z"/></svg>'},133:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mvtow-truck-desc mvtow-truck-title"><title id="mvtow-truck-title">Tow Truck Icon</title><desc id="mvtow-truck-desc">A picture showing a tow truck.</desc><path d="M16.614 6.8A2.991 2.991 0 0022 5h-2a1 1 0 01-2 0V4h-2v.586l-3 3V4h-3V3H8v1H6l-4 6v7h2.05a3.588 3.588 0 00-.05.5 3.5 3.5 0 007 0 3.588 3.588 0 00-.05-.5h2.1a3.588 3.588 0 00-.05.5 3.5 3.5 0 007 0 3.588 3.588 0 00-.05-.5H22v-7h-8.586zM7.5 18.667A1.167 1.167 0 118.667 17.5 1.168 1.168 0 017.5 18.667zM11 10H4l3-4h4zm5.5 6.333a1.167 1.167 0 11-1.167 1.167 1.168 1.168 0 011.167-1.167z"/></svg>'},8238:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mwtowel-rail-desc mwtowel-rail-title"><title id="mwtowel-rail-title">Towel Rail Icon</title><desc id="mwtowel-rail-desc">A picture depicting a towel rail in a bathroom.</desc><path d="M3 22a1 1 0 01-1-1V3a1 1 0 011-1 1 1 0 011 1v18a1 1 0 01-1 1zm16-10v2h1a2 2 0 010 4h-1v2h3v1h-3v1h-9v-1H8a2 2 0 010-4h2v-2H8a2 2 0 010-4h11.706A1.178 1.178 0 0021 10a1.178 1.178 0 00-1.294-1H8a2 2 0 010-4h11.706A1.178 1.178 0 0021 4a1.178 1.178 0 00-1.294-1H6V2h14a2 2 0 010 4H8.294A1.178 1.178 0 007 7a1.178 1.178 0 001.294 1H20a2 2 0 010 4zm-9 6H8.294A1.178 1.178 0 007 19a1.178 1.178 0 001.294 1H10zm9-3v2h.706A1.178 1.178 0 0021 16a1.178 1.178 0 00-1.294-1zm-9-3H8.294A1.178 1.178 0 007 13a1.178 1.178 0 001.294 1H10z"/></svg>'},9588:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mxtractor-desc mxtractor-title"><title id="mxtractor-title">Tractor Icon</title><desc id="mxtractor-desc">A picture depicting a tractor vehicle.</desc><path d="M22 11.537V4a1 1 0 00-1-1h-9a1 1 0 00-1 1v1h2l-1.846 6H7V9h1V8H5v1h1v2H5a2 2 0 00-2 2v1.141A3.991 3.991 0 107.445 20h6.092A5.994 5.994 0 1022 11.537zM4 20a2 2 0 112-2 2 2 0 01-2 2zm9.551-8.016L15.462 5H20v5.349a5.959 5.959 0 00-6.449 1.635zM18 19a3 3 0 113-3 3 3 0 01-3 3z"/></svg>'},8231:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mytrowel-desc mytrowel-title"><title id="mytrowel-title">Trowel Icon</title><desc id="mytrowel-desc">A picture depicting a trowel tool.</desc><path d="M15.885 13H13v3.277A1.994 1.994 0 0114 18v3a2 2 0 01-4 0v-3a1.994 1.994 0 011-1.723V13H8.115a1.154 1.154 0 01-1.028-1.6l3.885-9.685a1.1 1.1 0 012.056 0l3.885 9.685a1.154 1.154 0 01-1.028 1.6z"/></svg>'},1316:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="mztwitch-desc mztwitch-title"><title id="mztwitch-title">Twitch Icon</title><desc id="mztwitch-desc">A picture showing the Twitch application logo.</desc><defs><style>.mzmzmzmzmvmbmbmbkfkfkfkfkfkfkfkfkfkfkfkfkfa{fill-rule:evenodd}</style></defs><path class="mzmzmzmzmvmbmbmbkfkfkfkfkfkfkfkfkfkfkfkfkfa" d="M16.347 19.387h-3.914L9.827 22H7.22v-2.613H2.44V5.48L3.74 2h17.82v12.173zm3.48-6.08V3.74H5.48v12.607h3.913v2.606L12 16.347h4.78l3.047-3.04zM15.04 7.22v5.22h1.74V7.22zm-4.78 5.213H12V7.22h-1.74v5.213z"/></svg>'},8915:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="natwitter-desc natwitter-title"><title id="natwitter-title">Twitter Icon</title><desc id="natwitter-desc">A picture showing the Twitter application logo.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-1.13 6v.39a8.61 8.61 0 01-13.25 7.25 5.69 5.69 0 00.72 0 6 6 0 003.76-1.3 3 3 0 01-2.83-2.1 2.75 2.75 0 00.57.05 3 3 0 00.8-.1 3 3 0 01-2.43-3 3.13 3.13 0 001.37.38 3 3 0 01-.93-4 8.57 8.57 0 006.24 3.17 3.1 3.1 0 01-.08-.74 3 3 0 015.24-2A6.38 6.38 0 0019 6.22a3.07 3.07 0 01-1.36 1.68 6.22 6.22 0 001.74-.48A6.09 6.09 0 0117.87 9z"/></svg>'},5608:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nbungroup-desc nbungroup-title"><title id="nbungroup-title">Ungroup Icon</title><desc id="nbungroup-desc">A picture depicting a broken box with four squares inside it.</desc><path d="M15 15h5v5h-5zm-9-2h5v5H6zm7-7h5v5h-5zM6 6h5v5H6z"/><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h9v-2H4V4h16v9h2V4a2 2 0 00-2-2z"/></svg>'},6936:r=>{r.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-labelledby="ncunpin-left-desc ncunpin-left-title"><title id="ncunpin-left-title">Unpin Left Icon</title><desc id="ncunpin-left-desc">A picture depicting a crossed-out left-pointed pin.</desc><path d="M11.8 14.1l-5.1 5.1H5.3v-1.4l5.1-5.1L2 4.3 3.3 3l18 18-1.3 1.2-8.2-8.1zm4-.5l-5-5h.7L15.1 5V2.2l7.1 7.1h-2.8l-3.5 3.5-.1.8z"/></svg>'},2486:r=>{r.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-labelledby="ndunpin-right-desc ndunpin-right-title"><title id="ndunpin-right-title">Unpin Right Icon</title><desc id="ndunpin-right-desc">A picture depicting a crossed-out right-pointed pin.</desc><path d="M12.4 14.1l5.1 5.1h1.4v-1.4l-5.1-5.1 8.4-8.4L20.9 3l-18 18 1.3 1.2 8.2-8.1zm-4-.5l5-5h-.7L9.1 5V2.2L2 9.3h2.8l3.5 3.5.1.8z"/></svg>'},8858:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="neusa-ca-desc neusa-ca-title"><title id="neusa-ca-title">USA California Icon</title><desc id="neusa-ca-desc">A picture depicting the shape of the state of California.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M8.494 3.285L7.143 8.632l6.338 8.946.519 1.543-1.247 1.748.312.823-.831.308a7.152 7.152 0 00-3.325-.411 13.7 13.7 0 00-.26-2s-.727-.823-1.194-.772c-.143.016-.052-.565-.052-.565l-.624-.1-.935-1.028-1.35-.424.415-1.234L3.247 13l.623-1.132s-.727.309-.727-.719 0-1.543-.52-1.748l.52-.515s-.931 0-1.039-.822c-.156-1.183.519-1.543.519-2.468 0-.511-.623-.203-.623-1.128 0-.617.727-.411 1.039-2.468zM10.542 8.2a3.212 3.212 0 00.7 2.2 2.445 2.445 0 001.932.8 2.3 2.3 0 001.629-.59 2.6 2.6 0 00.797-1.54h-1.2a1.817 1.817 0 01-.3.668 1.128 1.128 0 01-.944.414 1.225 1.225 0 01-1-.483 2.262 2.262 0 01-.392-1.451 2.581 2.581 0 01.371-1.5 1.174 1.174 0 011.014-.529 1.186 1.186 0 01.953.375 1.647 1.647 0 01.295.625h1.2a2.084 2.084 0 00-.394-1.074 2.384 2.384 0 00-2.1-.953 2.367 2.367 0 00-1.77.711 3.182 3.182 0 00-.791 2.327zm5.619 2.832h1.258l.391-1.184h2.12l.38 1.184h1.3l-2.032-5.759h-1.362zm2.723-4.442l.728 2.266h-1.475z"/></svg>'},5134:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nfusa-fl-desc nfusa-fl-title"><title id="nfusa-fl-title">USA Florida Icon</title><desc id="nfusa-fl-desc">A picture depicting the shape of the state of Florida.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M7.927 2.455l.616.909 5.389-.606s.616.606 1.078.454S15.318 2 15.318 2h.615c2 5.152 3.7 5.606 3.7 5.606V8.97a8.284 8.284 0 012.31 4.848 2.06 2.06 0 01-.77 1.364l.462 1.06L20.09 17l-.923-1.818-1.386-.909s-2.31-2.576-2.771-3.182c.615-1.212 0-1.212 0-1.212l-.462.454-.308-.606c.924-2.272-.308-3.03-.308-3.03l-.77-.152A3.906 3.906 0 009.852 4.5l-2 1.515A6.484 6.484 0 005.541 4.2a5.849 5.849 0 00-3.233.3L2 3.439zM2.279 21.516h1.2V19.1h2.55v-1H3.475v-1.323h2.91v-1.011H2.279zm4.887 0h4.078V20.48H8.369v-4.722h-1.2z"/></svg>'},3107:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ngusa-lower-48-states-desc ngusa-lower-48-states-title"><title id="ngusa-lower-48-states-title">USA lower 48 States Icon</title><desc id="ngusa-lower-48-states-desc">A picture depicting the shape of the lower 48 states of the USA.</desc><path d="M20.958 7.877L22 6.916l-.637-1.147h-.405l-.434 1.457-1.274.5-2.2 2.325-.406-.186.174-1.085-.608-.744-.723.31.289 1.271-.463.558-.376-.744L15.111 8l1.1-.31-.058-.372-1.389-.062-.521.4-.9-.031.81-.775A81.465 81.465 0 012.839 5.614L2 9.272l.608 3.317 2.055 1.55 3.241.713.521 1.395.666.434.319-.5.607.124.579 1.736 1.013.341.058-1.054 1.8-1 .832.375.81-.186-.15-.482 1.424-.262 1.187.341.268.965.774 1.112.55-.341-.29-1.829-.666-1.116 1.768-2.405-.261-.713.377-1.087V9.582l1.244-.713-.318-.155z"/></svg>'},5862:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nhusa-ny-desc nhusa-ny-title"><title id="nhusa-ny-title">USA NY icon</title><desc id="nhusa-ny-desc">A picture depicting the shape of the state of New York.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M2.115 2.758h1.261l2.286 4.014V2.758h1.121v5.758H5.58L3.236 4.43v4.086H2.115zm9.082 0h1.364l-1.926 3.6v2.16h-1.2V6.356l-1.993-3.6h1.415l1.2 2.508zM14.366 7.9l-2.443 3.6-.2 2-5.676 1.707a.7.7 0 00-.489.869c.082.266.863.448.665 1.224a4.16 4.16 0 01-2.035 2.4l1.017.8 11.4-2 1.222 1 2.646 1.2.916 1.3.611-1.4-.407-6.2L19.15 7z"/></svg>'},9383:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="niusa-party-democratic-desc niusa-party-democratic-title"><title id="niusa-party-democratic-title">USA Party Democratic Icon</title><desc id="niusa-party-democratic-desc">A picture showing the Democratic Party symbol of a donkey.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M7.156 12.424h13.849l.039-.1c.811-2.053.519-5.74-2.938-5.43-3.551.319-2.487 1.362-6.35 1.424a2.992 2.992 0 00-.358.039A22.473 22.473 0 017.925 4.87S8.2 2 7.2 2c-.73 0-1 1.339-1.277 2.2-.734-.669-2.172-1.827-2.723-1.158s1.351 2.689 1.351 2.689c-1.033.4-.811 1.235-1.895 2.379a1.788 1.788 0 00.346 3c.724.38 3.09-.349 3.338-.771.189.369.47 1.19.816 2.085zm11.7-2.508l.3-.932.3.932h.983l-.8.576.3.933-.8-.577-.8.577.3-.933-.8-.576zm-3.345 0l.3-.932.3.932h.989l-.8.576.3.933-.8-.577-.8.577.3-.933-.8-.576zm-3.345 0l.3-.932.3.932h.983l-.8.576.3.933-.795-.577-.795.577.3-.933-.795-.576zm-3.345 0l.3-.932.3.932h.983l-.795.576.3.933-.795-.577-.795.577.3-.933-.8-.576zM21.833 16.8c-.285.047-.522-.682-.522-.929 0-.226-.509-1.262-.875-1.307a4.6 4.6 0 00.271 1.072 11.076 11.076 0 01.067 4.7c-.3.53-.912 1.457-.912 1.457a2.078 2.078 0 01-1.081.2 1.328 1.328 0 01-.878-.5 3.581 3.581 0 001.419-2.947c.067-1.986-.169-2.847-1.013-3.707s-.507.562-.507.562l.439 1.391-1.284 1.192v1.125a14.91 14.91 0 00-1.486 2.02c-.878.264-1.452.264-1.655-.2s1.858-2.913 1.858-2.913l.371-1.225L15 14.673l-3.884.464a4.58 4.58 0 00-.844 2.549 3.091 3.091 0 001.146 2.114 6 6 0 01-1.283 1.523L9.594 21l-.169.629-2.263.1 1.25-2.119a17.726 17.726 0 00.019-2.043 22.7 22.7 0 00-.19-2.8 10.787 10.787 0 01-.658-1.3h13.041c.312 0 .463 1.331.64 1.518.205.217.632.356.664.6s.189 1.166-.095 1.215z"/></svg>'},4612:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="njusa-party-green-desc njusa-party-green-title"><title id="njusa-party-green-title">USA Party Green Icon</title><desc id="njusa-party-green-desc">A picture showing the Green Party symbol.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M21.361 10.458l-7.819-7.819a2.18 2.18 0 00-3.084 0l-7.819 7.819a2.18 2.18 0 000 3.084l7.819 7.819a2.18 2.18 0 003.084 0l7.819-7.819a2.18 2.18 0 000-3.084zm-4.838 4.127c-.295 1.236-.232 3.127-2.037 2.569l-.07-.894c-8.755 4.272-10.878-10-2.144-10.017 1.532 0 4.814 1.231 3.6 3.239-3.331-2.939-8.5-.694-6.974 4 1.131 2.245 4.766 2.221 6.007.125h-2.7a1.285 1.285 0 01.1-1.355c.878-.387 4.318-.483 4.7-.118-.161.805-.316 1.629-.482 2.451z"/></svg>'},8530:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nkusa-party-libertarian-desc nkusa-party-libertarian-title"><title id="nkusa-party-libertarian-title">USA Party Libertarian Icon</title><desc id="nkusa-party-libertarian-desc">A picture showing the Libertarian Party symbol of a hedgehog.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M21.9 9.034C21.47 8.7 21 8 19.021 9a3.113 3.113 0 01.97-3.367C18 5 16.825 7.047 16.545 8.129 15 6 16.623 4.6 16.864 4 14 4 13.376 7.48 13.355 7.517a1.7 1.7 0 01-1.017-.84 3.026 3.026 0 01.073-2.609 3.481 3.481 0 00-1.622 1.165 3.5 3.5 0 00-.826 2.645 3.96 3.96 0 01-1.794-2.645c-1.222 1-1.278 2.269-.929 3.684a2.9 2.9 0 01-2.728-1.768C4 9 5.116 10.524 5.934 11.758c-.934.242-2-.743-2.962-1.2a2.515 2.515 0 001.349 2.19 1.331 1.331 0 00.592.2q7.627.017 15.255.007c.106 0 .212-.016.331-.026-.658-1.381-.282-2.417 1.401-3.895zm-11.792 3.208l-.93-.678-.905.687c.116-.445.209-.8.3-1.162l-.873-.712 1.11-.059.363-1.111.389 1.122h1l.029.094-.806.667.323 1.152zm3.71.008l-.923-.686-.919.687.309-1.152-.777-.643.01-.1h.991l.374-1.161.383 1.14h.991l.039.1-.8.658c.104.355.197.707.322 1.157zm3.706 0l-.922-.687-.922.691.313-1.157-.863-.711 1.093-.071.369-1.113.381 1.126h1.009l.032.091-.809.668zm3.7 1.75L22 15.192c.182 2.186-2.589 2.377-4.154 2-.375 1.116.54 1.883.934 2.809h-2.453c-.326-2.361-6.415-2.772-3.986 0H9.505C8.493 17.444 6 20 3.77 16.858a3.23 3.23 0 002.692-.665C4.647 16.122 2 15 2 14z"/></svg>'},8568:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nlusa-party-republican-desc nlusa-party-republican-title"><title id="nlusa-party-republican-title">USA Party Republican Icon</title><desc id="nlusa-party-republican-desc">A picture showing the Republican Party symbol of an elephant.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M23 17v1a3 3 0 01-6 0v-2.5a.5.5 0 00-.5-.5h-1a.5.5 0 00-.5.5V21h-4v-4H5v4H1v-9h18v6a1 1 0 002 0v-1zm-4-9.5V10H1V7.5C1 5.015 5.029 3 10 3s9 2.015 9 4.5zm-12.668.227L5.363 7l.36-1.19-.039-.024-.969.732-.989-.724-.03.026.374 1.19-1.017.787h1.263c.135.4.266.794.4 1.184h.041l.373-1.2h1.187zm5.031 0l-.975-.733.365-1.188-.04-.026-.972.732L8.7 5.743 9.1 7l-.958.746.018.046h1.185l.395 1.185h.038l.373-1.207h1.2zm5.117.051l-.976-.732.351-1.2-.035-.022-.969.73-.988-.726-.028.028.369 1.19-.964.754.016.037h1.2c.131.4.26.8.389 1.2l.041-.005.37-1.2h1.209z"/></svg>'},3089:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nmusa-tx-desc nmusa-tx-title"><title id="nmusa-tx-title">USA TX icon</title><desc id="nmusa-tx-desc">A picture depicting the shape of the state of Texas.</desc><path d="M0 0h24v24H0z" fill="none"/><path d="M10.987 2l3.237.235v2.507l1.618.744 2.329.744 1.5-.314 1.461.431.079 1.88L22 9.48l-.158 1.959-1.105.626-1.337 1.019-2.132.548s-.4 2.741.158 3.368l-2.447-.627-.479-1.645-1.974-3.211-1.421-.235-.947 1.253S8.5 11.752 8.342 10.89s-.079-1.41-.868-1.41c-.553-.548-1.263-1.331-1.263-1.331H10.4zM2.469 15.758v1.019H4.2v4.739h1.21v-4.739h1.723v-1.019zm7.442 3.794l1.1 1.964h1.461L10.6 18.535l1.761-2.777h-1.39l-1.06 1.875-1.026-1.875H7.447l1.762 2.824-1.852 2.934h1.4z"/></svg>'},2402:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nnusb-desc nnusb-title"><title id="nnusb-title">USB Icon</title><desc id="nnusb-desc">A picture showing the USB standard logo.</desc><path d="M22 10.478v-.01a1.455 1.455 0 00-.539-1.212 2.44 2.44 0 00-1.51-.4H18.83l.287-1.308h-9.1a5.727 5.727 0 00-5.309 3H2.633L2 13.418h2.264c.332 2.428 2.448 3.034 4.793 3.034h8.1l.287-1.308h1.7a2.974 2.974 0 001.921-.581 2.019 2.019 0 00.725-1.656 1.527 1.527 0 00-.393-1.072 1.571 1.571 0 00.251-.258A1.8 1.8 0 0022 10.478zM8.316 14.861c-1.641-.02-2.322-.81-2.322-1.69a3.747 3.747 0 01.059-.435l.731-3.5h1.68l-.622 2.994a5.3 5.3 0 00-.079.534c0 .168-.05.721.632.7.7.02.919-.612 1.028-1.235l.632-2.994h1.69l-.761 3.627a2.452 2.452 0 01-2.668 1.999zm5.238.02c-1.255-.01-2.392-.583-2.313-1.987h1.611a.831.831 0 00.227.633.962.962 0 00.6.148c.336-.01.741-.178.731-.534.01-.4-.543-.454-1.3-.7-.662-.228-1.3-.583-1.314-1.483.009-1.245 1.2-1.808 2.292-1.818 1.176.01 2.224.445 2.194 1.788H14.72a.512.512 0 00-.178-.454.967.967 0 00-.5-.128c-.277.009-.642.1-.652.454.01.415.83.435 1.354.632.958.336 1.284.85 1.284 1.512-.004 1.314-1.288 1.927-2.474 1.937zm7.026-3.093v.019a1.068 1.068 0 01.8 1.087c.019 1.325-1.038 1.848-2.234 1.839H16l1.136-5.466h2.816c1.187.01 1.631.425 1.641 1.206a1.26 1.26 0 01-1.013 1.315zm-.761-.841c0 .326-.336.435-.6.435h-.958l.178-.83h.861c.3 0 .519.059.519.395zm-.168 1.918c-.019.444-.425.553-.731.553h-1.087l.227-1.028h.929c.346.01.652.07.662.475z"/></svg>'},5199:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="noverified-account-desc noverified-account-title"><title id="noverified-account-title">Verified Account Icon</title><desc id="noverified-account-desc">A picture showing a badge with a check mark in the middle.</desc><path d="M22 12a2.991 2.991 0 00-2.8-2.98 2.986 2.986 0 00-4.22-4.215 2.985 2.985 0 00-5.96 0A2.986 2.986 0 004.805 9.02a2.985 2.985 0 000 5.96A2.986 2.986 0 009.02 19.2a2.985 2.985 0 005.96 0 2.986 2.986 0 004.22-4.22A2.991 2.991 0 0022 12zm-11.5 4.06l-3.707-3.707 1.414-1.413 2.293 2.292 5.293-5.292 1.414 1.414z"/></svg>'},3562:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="npveterinarian-desc npveterinarian-title"><title id="npveterinarian-title">Veterinarian Icon</title><desc id="npveterinarian-desc">A picture depicting a paw footprint with a medical cross inside.</desc><path d="M6.982 7.95c.6 1.648.039 3.365-1.253 3.835S2.9 11.3 2.3 9.653s-.035-3.366 1.257-3.836S6.382 6.3 6.982 7.95zm10.051-.041c-.6 1.648-.013 3.374 1.31 3.856s2.881-.464 3.481-2.112.014-3.375-1.309-3.856-2.882.464-3.482 2.112zM12.011 2c-1.65 0-2.988 1.5-2.988 3.769S10.361 10 12.011 10 15 8.038 15 5.769 13.662 2 12.011 2zM20 19.207C20 23.7 15.2 20.93 12 21c-3.195-.07-7.995 2.7-8-1.793C3.993 13 8.844 12 12 12s8.007 1 8 7.207zM14.5 15.5H13V14h-2v1.5H9.5v2H11V19h2v-1.5h1.5z"/></svg>'},4292:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nqvial-desc nqvial-title"><title id="nqvial-title">Vial Icon</title><desc id="nqvial-desc">A picture depicting a vial.</desc><path d="M21.539 8.539l-6.078-6.078a1 1 0 00-1.414 0l-.459.459a.987.987 0 00-.066 1.314L3.515 14.241a4.415 4.415 0 006.244 6.244l10.007-10.007a.988.988 0 001.314-.066l.459-.459a1 1 0 000-1.414zm-8.659 6.327l-1.873-5.62L14.754 5.5 18.5 9.246z"/></svg>'},7374:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nrviber-desc nrviber-title"><title id="nrviber-title">Viber Icon</title><desc id="nrviber-desc">A picture showing the Viber application logo.</desc><path d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-7.42 3.244c.09-.083.154-.095.468-.085.164 0 .4.025.536.04a5.367 5.367 0 011.786.53 4.832 4.832 0 011.438 1.039 4.664 4.664 0 01.983 1.351 6.448 6.448 0 01.626 2.642c.014.337 0 .412-.073.509a.357.357 0 01-.578-.054.942.942 0 01-.056-.4 6.931 6.931 0 00-.106-1 4.615 4.615 0 00-1.788-2.976 4.7 4.7 0 00-2.71-.958c-.366-.021-.43-.034-.513-.1a.377.377 0 01-.013-.538zm2.3 2.482a3.651 3.651 0 00-1.48-.445.491.491 0 01-.364-.137.351.351 0 01-.036-.436c.1-.156.254-.181.715-.112a3.727 3.727 0 012.669 1.6A3.833 3.833 0 0116 10.9a3.185 3.185 0 010 .717.349.349 0 01-.5.18c-.149-.075-.193-.2-.193-.519a3.1 3.1 0 00-.352-1.434 2.936 2.936 0 00-1.078-1.118zm.651 2.569a.37.37 0 01-.45.009c-.093-.069-.122-.142-.143-.341a1.823 1.823 0 00-.15-.62 1.093 1.093 0 00-.974-.615c-.237-.029-.308-.056-.385-.147a.358.358 0 01.108-.539c.073-.037.1-.041.266-.031a2.683 2.683 0 01.327.04 1.846 1.846 0 01.92.459 1.909 1.909 0 01.572 1.2c.049.338.028.473-.094.59zm2.88 5.062a4.285 4.285 0 01-1.085 1.353 1.544 1.544 0 01-.927.384 1.359 1.359 0 01-.727-.152 15.289 15.289 0 01-6.581-5.069 14.362 14.362 0 01-2.048-3.719C5.771 8.4 5.758 8.078 5.981 7.7a4.322 4.322 0 01.806-.787 2.761 2.761 0 01.91-.545 1.043 1.043 0 01.481.044 1.257 1.257 0 01.232.116 9.362 9.362 0 011.719 2.2 1.23 1.23 0 01.194.852c-.061.219-.163.335-.62.7a3.581 3.581 0 00-.382.341.9.9 0 00-.125.436 3.235 3.235 0 00.484 1.355 5.84 5.84 0 00.967 1.139 5.364 5.364 0 001.27.9c.565.281.91.352 1.162.235a1 1 0 00.153-.085c.019-.017.167-.2.329-.4.312-.393.384-.457.6-.53a1.037 1.037 0 01.829.075c.212.11.675.4.973.6a14.167 14.167 0 011.347 1.1.874.874 0 01.098.911z"/></svg>'},6337:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nsvimeo-desc nsvimeo-title"><title id="nsvimeo-title">Vimeo Icon</title><desc id="nsvimeo-desc">A picture showign the Vimeo website logo.</desc><path d="M21.975 7.366q-.135 2.912-4.076 7.972-4.076 5.286-6.9 5.285-1.746 0-2.956-3.224l-1.609-5.912q-.9-3.225-1.926-3.225A6.179 6.179 0 002.94 9.2L2 7.993Q3.465 6.706 4.911 5.4a6.6 6.6 0 012.956-1.8q2.33-.224 2.866 3.18.582 3.674.806 4.568.672 3.046 1.478 3.046.627 0 1.881-1.971a7.736 7.736 0 001.344-3q.178-1.7-1.344-1.7a3.874 3.874 0 00-1.478.313q1.48-4.789 5.643-4.655 3.092.089 2.912 3.986z"/></svg>'},1920:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nuvirus-protection-desc nuvirus-protection-title"><title id="nuvirus-protection-title">Virus Protection Icon</title><desc id="nuvirus-protection-desc">A picture depicting a shield with a virus on it.</desc><path d="M11.2 12.6a.6.6 0 10.6.6.6.6 0 00-.6-.6zM20 6v4.292C20 15.225 16.587 20.88 12 22c-4.587-1.12-8-6.775-8-11.708V6l8-4zm-2 6c0-.663-.4-1.2-.9-1.2a.892.892 0 00-.775.6h-.779a3.579 3.579 0 00-.614-1.484l.55-.55a.893.893 0 00.973-.124 1.084 1.084 0 00-.212-1.485 1.084 1.084 0 00-1.485-.212.893.893 0 00-.124.973l-.55.55a3.579 3.579 0 00-1.484-.614v-.779a.892.892 0 00.6-.775c0-.5-.537-.9-1.2-.9s-1.2.4-1.2.9a.892.892 0 00.6.775v.779a3.579 3.579 0 00-1.484.614l-.55-.55a.893.893 0 00-.124-.973 1.084 1.084 0 00-1.485.212 1.084 1.084 0 00-.212 1.485.893.893 0 00.973.124l.55.55a3.579 3.579 0 00-.614 1.484h-.779a.892.892 0 00-.775-.6c-.5 0-.9.537-.9 1.2s.4 1.2.9 1.2a.892.892 0 00.775-.6h.779a3.579 3.579 0 00.614 1.484l-.55.55a.893.893 0 00-.973.124 1.084 1.084 0 00.212 1.485 1.084 1.084 0 001.485.212.893.893 0 00.124-.973l.55-.55a3.579 3.579 0 001.484.614v.779a.892.892 0 00-.6.775c0 .5.537.9 1.2.9s1.2-.4 1.2-.9a.892.892 0 00-.6-.775v-.779a3.579 3.579 0 001.484-.614l.55.55a.893.893 0 00.124.973 1.084 1.084 0 001.485-.212 1.084 1.084 0 00.212-1.485.893.893 0 00-.973-.124l-.55-.55a3.579 3.579 0 00.614-1.484h.779a.892.892 0 00.775.6c.5 0 .9-.537.9-1.2zm-5.2-1.8a.6.6 0 10.6.6.6.6 0 00-.6-.6z"/></svg>'},256:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nvvirus-stop-desc nvvirus-stop-title"><title id="nvvirus-stop-title">Virus Stop Icon</title><desc id="nvvirus-stop-desc">A picture depicting a crossed-out virus symbol.</desc><path d="M12 19a1 1 0 11-1 1 1 1 0 011-1zm0-10a3 3 0 00-3 3 2.969 2.969 0 00.3 1.286L13.286 9.3A2.969 2.969 0 0012 9zm-4.168 5.754A4.939 4.939 0 017.1 13H5.723a2 2 0 110-2H7.1a4.939 4.939 0 01.731-1.754L6.44 7.854A2 2 0 117.854 6.44l1.392 1.392A4.939 4.939 0 0111 7.1V5.723a2 2 0 112 0V7.1a4.939 4.939 0 011.754.731l4.99-4.991a11.993 11.993 0 00-16.9 16.9zM12 15a3 3 0 003-3 2.969 2.969 0 00-.3-1.286L10.714 14.7A2.969 2.969 0 0012 15zm1-11a1 1 0 10-1 1 1 1 0 001-1zM5 6a1 1 0 101-1 1 1 0 00-1 1zm16 6a1 1 0 10-1 1 1 1 0 001-1zm-2 6a1 1 0 10-1 1 1 1 0 001-1zM3 12a1 1 0 101-1 1 1 0 00-1 1zm18.159-7.744l-4.991 4.99A4.939 4.939 0 0116.9 11h1.378a2 2 0 110 2H16.9a4.939 4.939 0 01-.731 1.754l1.392 1.392a2 2 0 11-1.414 1.414l-1.392-1.392A4.939 4.939 0 0113 16.9v1.378a2 2 0 11-2 0V16.9a4.939 4.939 0 01-1.754-.731l-4.99 4.991a11.993 11.993 0 0016.9-16.9z"/></svg>'},4437:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ntvirus-desc ntvirus-title"><title id="ntvirus-title">Virus Icon</title><desc id="ntvirus-desc">A picture depicting a corona-shaped virus.</desc><path d="M18.277 13a2 2 0 100-2H16.9a4.939 4.939 0 00-.731-1.754l1.391-1.392a2 2 0 10-1.414-1.414l-1.392 1.392A4.939 4.939 0 0013 7.1V5.723a2 2 0 10-2 0V7.1a4.939 4.939 0 00-1.754.731L7.854 6.44A2 2 0 106.44 7.854l1.392 1.392A4.939 4.939 0 007.1 11H5.723a2 2 0 100 2H7.1a4.939 4.939 0 00.731 1.754L6.44 16.146a2 2 0 101.414 1.414l1.392-1.392A4.939 4.939 0 0011 16.9v1.378a2 2 0 102 0V16.9a4.939 4.939 0 001.754-.731l1.392 1.392a2 2 0 101.414-1.414l-1.392-1.392A4.939 4.939 0 0016.9 13zM11 14a1 1 0 111-1 1 1 0 01-1 1z"/></svg>'},5437:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nwvisa-desc nwvisa-title"><title id="nwvisa-title">Visa Icon</title><desc id="nwvisa-desc">A picture showing the Visa credit card logo.</desc><path d="M18.487 11.54l.068 1.266h-1.172l.5-1.083c.154-.362.5-1.1.585-1.344h.019a11.557 11.557 0 000 1.161zM22 6v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2h16a2 2 0 012 2zM6.839 14.454l2.8-4.939H8.244l-1.2 2.094a5.092 5.092 0 00-.571 1.172h-.021c.021-.439-.04-.978-.046-1.283l-.133-1.983h-2.25L4 9.648a.933.933 0 011.015.885l.439 3.921zm3.339 0l1.5-4.94H10.34l-1.5 4.94zm4.93-1.083c.236-.581.012-1.2-.928-1.8l-.306-.195c-.407-.252-.592-.44-.452-.716a.622.622 0 01.57-.256 1.625 1.625 0 011.036.455L15.76 10a2.99 2.99 0 00-1.738-.6 1.849 1.849 0 00-1.863.986c-.364.877-.029 1.379.745 1.908l.258.168c.522.295.751.468.565.79a.62.62 0 01-.585.281 2.47 2.47 0 01-1.442-.483l-.637.972a3.735 3.735 0 002.017.566 1.936 1.936 0 002.028-1.217zM20 14.454l-.446-4.931h-1.781l-2.632 4.931h1.452l.341-.736H18.6l.037.735H20z"/></svg>'},6913:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nxvisually-impaired-desc nxvisually-impaired-title"><title id="nxvisually-impaired-title">Visually Impaired Icon</title><desc id="nxvisually-impaired-desc">A picture depicting a crossed-out human eye.</desc><path d="M18.365 8.463L21.9 4.929l-1.415-1.414-3.823 3.823-1.834 1.834-1.414 1.414a2 2 0 10-2.828 2.828l-1.414 1.414-1.834 1.834-3.823 3.823L4.929 21.9 9.3 17.527A8.472 8.472 0 0012 18a7.709 7.709 0 00.849-.056l7.642-7.644a19.8 19.8 0 00-2.126-1.837zM12 16a3.926 3.926 0 01-1.023-.149l2.437-2.437 2.437-2.437A3.926 3.926 0 0116 12a4 4 0 01-4 4zm10-4s-3.108 4.149-7.334 5.541l6.514-6.514c.526.581.82.973.82.973zM9.334 6.459l-6.513 6.513C2.3 12.4 2 12 2 12s3.108-4.149 7.334-5.541zm-3.71 9.089A19.434 19.434 0 013.508 13.7l7.643-7.643A7.709 7.709 0 0112 6a8.527 8.527 0 012.7.47l-1.677 1.679A3.926 3.926 0 0012 8a4 4 0 00-4 4 3.926 3.926 0 00.149 1.023z"/></svg>'},8589:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nyvote-desc nyvote-title"><title id="nyvote-title">Vote Icon</title><desc id="nyvote-desc">A picture depicting a voting box with an arrow pointed towards a slid.</desc><path d="M15 6l-3 3-3-3h2V2h2v4zm3 6H6l1-3h10zm-2-1.5a.5.5 0 00-.5-.5h-7a.5.5 0 000 1h7a.5.5 0 00.5-.5zM6 13h12v9H6zm2.5 4.735l2.452 2.715 4.548-4.971-.863-.929-3.685 4.042-1.589-1.786z"/></svg>'},8921:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="nzvs-code-desc nzvs-code-title"><title id="nzvs-code-title">VSCode Icon</title><desc id="nzvs-code-desc">A picture showing the Microsoft VSCode logo.</desc><path d="M7.067 15.018l-2.627 2a.828.828 0 01-1.063-.048l-1.1-1.005a.971.971 0 01-.055-.056.841.841 0 01.057-1.183l2.237-2.052zM22 5a1.013 1.013 0 00-.71-.885l-4.114-1.991a1.243 1.243 0 00-1.423.243c.01-.01.024-.013.034-.023-.009.009-.022.014-.031.023L8.623 8.911l3.224 2.46L17 7.437v9.125L4.443 6.978a.829.829 0 00-1.066.048l-1.1 1.005a.971.971 0 00-.055.056.841.841 0 00.057 1.183l13.477 12.363a1.239 1.239 0 001.42.243l4.116-1.991A1.256 1.256 0 0022 18.753"/></svg>'},3794:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="oawater-boiler-desc oawater-boiler-title"><title id="oawater-boiler-title">Water Boiler Icon</title><desc id="oawater-boiler-desc">A picture depicting a water boiler.</desc><path d="M5 19a2 2 0 002 2h1v1h2v-1h4v1h2v-1h1a2 2 0 002-2v-8H5zm1-4.083A3.307 3.307 0 008 16c2 0 2-1.8 4-1.8s2 1.8 4 1.8a3.319 3.319 0 002-1.087V18a2 2 0 01-2 2H8a2 2 0 01-2-2zM12 5l1 2h-2zm5-3H7a2 2 0 00-2 2v6h14V4a2 2 0 00-2-2zm-5 6a2 2 0 112-2 2 2 0 01-2 2z"/></svg>'},3859:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="obwater-heater-desc obwater-heater-title"><title id="obwater-heater-title">Water Heater Icon</title><desc id="obwater-heater-desc">A picture depicting a water heater.</desc><path d="M12 13l-1-2h2zm5-10h-4V1h-2v2H7a2.978 2.978 0 00-2 .779V1H4v17a2.99 2.99 0 002 2.816V22H5v1h3v-1H7v-1h4v1h-1v1h4v-1h-1v-1h4v1h-1v1h3v-1h-1v-1.184A2.99 2.99 0 0020 18V6a3 3 0 00-3-3zm-5 11a2 2 0 112-2 2 2 0 01-2 2z"/></svg>'},8014:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ocwater-tap-desc ocwater-tap-title"><title id="ocwater-tap-title">Water Tap Icon</title><desc id="ocwater-tap-desc">A picture depicting a water tap.</desc><path d="M22 10v12h-3v-2H5v2H2V10h3v2h3V8a1 1 0 011-1h1V5H7.5a1.5 1.5 0 010-3h9a1.5 1.5 0 010 3H14v2h1a1 1 0 011 1v4h3v-2z"/></svg>'},3864:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="odwechat-desc odwechat-title"><title id="odwechat-title">WeChat Icon</title><desc id="odwechat-desc">A picture showing the WeChat icon.</desc><path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2zM14.7 9.954a3.842 3.842 0 00-.8-2.032 5.136 5.136 0 00-5.611-1.644 4.36 4.36 0 00-3.062 2.989 3.92 3.92 0 001.708 4.4.437.437 0 01.2.577c-.107.355-.167.725-.261 1.147.509-.318.938-.6 1.385-.856a.879.879 0 01.483-.081c.461.038.919.107 1.422.169a3.936 3.936 0 011.223-3.334A4.912 4.912 0 0114.7 9.954zM8.777 9.43a.586.586 0 01-.607.555.57.57 0 01-.564-.591.577.577 0 01.6-.557.593.593 0 01.571.593zm3.09-.594a.576.576 0 11.016 1.151.579.579 0 01-.6-.566.6.6 0 01.58-.585zm5.725 9.142a1.3 1.3 0 00-.08-.3c-.254-.464-.112-.754.285-1.106a3.288 3.288 0 00.38-4.586 4.477 4.477 0 00-5.789-.862 3.375 3.375 0 00-.533 5.505 4.107 4.107 0 003.329 1.086 6.675 6.675 0 011.228-.23 4.367 4.367 0 011.18.5zm-4.639-4.492a.484.484 0 01-.482-.462.489.489 0 01.485-.5.48.48 0 110 .959zm3.46-.458a.473.473 0 11-.945-.041.473.473 0 11.945.041z"/></svg>'},8310:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="oeweight-scale-desc oeweight-scale-title"><title id="oeweight-scale-title">Weight Scale Icon</title><desc id="oeweight-scale-desc">A picture depicting a weight scale.</desc><path d="M19.778 2H4.222A2.222 2.222 0 002 4.222v15.556A2.222 2.222 0 004.222 22h15.556A2.222 2.222 0 0022 19.778V4.222A2.222 2.222 0 0019.778 2zM5 20a1 1 0 111-1 1 1 0 01-1 1zm0-4a1 1 0 111-1 1 1 0 01-1 1zm3 2a1 1 0 111-1 1 1 0 01-1 1zm0-4a1 1 0 111-1 1 1 0 01-1 1zM6 8V4h12v4h-3V6a1 1 0 00-1-1 1 1 0 00-1 1v2zm10 10a1 1 0 111-1 1 1 0 01-1 1zm0-4a1 1 0 111-1 1 1 0 01-1 1zm3 6a1 1 0 111-1 1 1 0 01-1 1zm0-4a1 1 0 111-1 1 1 0 01-1 1z"/></svg>'},2927:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ofwhatsapp-desc ofwhatsapp-title"><title id="ofwhatsapp-title">WhatsApp Icon</title><desc id="ofwhatsapp-desc">A picture showing the WhatsApp application icon.</desc><path d="M19.077 4.928A9.99 9.99 0 003.355 16.977L2 22l5.233-1.237a9.98 9.98 0 004.773 1.216 9.991 9.991 0 007.071-17.051zM16.9 15.554a2.517 2.517 0 01-1.685 1.186c-.458.042-.887.207-2.995-.624a10.236 10.236 0 01-4.263-3.767 4.853 4.853 0 01-1.021-2.581 2.794 2.794 0 01.874-2.081.916.916 0 01.666-.312c.166 0 .333 0 .478.006.178.007.375.016.562.431.222.494.707 1.728.769 1.853a.461.461 0 01.021.437 1.732 1.732 0 01-.249.416c-.125.146-.262.325-.374.437s-.255.26-.11.509a7.508 7.508 0 001.388 1.728 6.856 6.856 0 002.007 1.239c.25.125.395.1.541-.063s.624-.728.79-.978.333-.208.562-.125 1.456.687 1.706.812.416.187.478.291a2.1 2.1 0 01-.145 1.186z"/></svg>'},8352:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ogwhite-house-1-desc ogwhite-house-1-title"><title id="ogwhite-house-1-title">White House Icon</title><desc id="ogwhite-house-1-desc">A picture depicting the famous White House presidential building.</desc><path d="M19 21v-5h1.05v-1H18V9h1v-.961h-1.65a6.476 6.476 0 00-3.613-4.055 2.022 2.022 0 00-1.328-1.2V1h-.718v1.779a2.022 2.022 0 00-1.328 1.205A6.476 6.476 0 006.75 8.039H5V9h1v6H3.95v1H5v5H3v2h18v-2zM8 21H7v-5h1zM7 10h1v4H7zm3 11H9v-5h1zm1-7h-1v-4h1zm1.5 7h-1v-3h1zm1.5-7h-1v-4h1zm1 7h-1v-5h1zm2-7h-1v-4h1zm0 7h-1v-5h1z"/></svg>'},6459:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ohwhite-house-2-desc ohwhite-house-2-title"><title id="ohwhite-house-2-title">White House Icon</title><desc id="ohwhite-house-2-desc">A picture depicting the famous White House presidential building.</desc><path d="M22 5H2l10.036-4zm-1.029 16H3.029v2h17.942zm0-15H3.029v2h17.942zM7 18v-7a1 1 0 011-1V9H4v1a1 1 0 011 1v7a1 1 0 01-1 1v1h4v-1a1 1 0 01-1-1zm6 0v-7a1 1 0 011-1V9h-4v1a1 1 0 011 1v7a1 1 0 01-1 1v1h4v-1a1 1 0 01-1-1zm6 0v-7a1 1 0 011-1V9h-4v1a1 1 0 011 1v7a1 1 0 01-1 1v1h4v-1a1 1 0 01-1-1z"/></svg>'},3207:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="oiwire-transfer-desc oiwire-transfer-title"><title id="oiwire-transfer-title">Wire Transfer Icon</title><desc id="oiwire-transfer-desc">A picture showing the euro and dollar symbols moving in different directions.</desc><path d="M3.1 6.336a2.986 2.986 0 010-.707H2.037C2.026 5.753 2 5.873 2 6s.024.224.034.336zM6 2a3.988 3.988 0 00-3.834 2.922h1.1a3.179 3.179 0 015.117-1.309l-.626.626a2.294 2.294 0 00-3.533.683h2.037v.707h-2.27a2.316 2.316 0 00-.029.354 2.293 2.293 0 00.029.353h2.27v.708H4.224a2.292 2.292 0 002.037 1.237 2.26 2.26 0 001.492-.555l.63.626a3.178 3.178 0 01-5.121-1.308H2.155A3.993 3.993 0 106 2zm11.37 19.019a1.86 1.86 0 01-1.635-1.7h.98c.05.525.41.935 1.325.935.98 0 1.2-.49 1.2-.8 0-.415-.22-.8-1.335-1.07-1.24-.3-2.09-.81-2.09-1.835a1.733 1.733 0 011.555-1.6v-.9a3.984 3.984 0 000 7.873zm1.33-6.964v.9a1.768 1.768 0 011.425 1.7h-.98c-.025-.555-.32-.935-1.11-.935-.75 0-1.2.34-1.2.82 0 .42.325.7 1.335.955s2.09.7 2.09 1.955c0 .915-.69 1.415-1.56 1.58v.884a3.99 3.99 0 000-7.858zM22 6l-3.99-4v3H12v2h6.01v3zM5.99 19H12v-2H5.99v-3L2 18l3.99 4z"/></svg>'},8341:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ojworker-desc ojworker-title"><title id="ojworker-title">Worker Icon</title><desc id="ojworker-desc">A picture depicting a construction worker with a helmet.</desc><path d="M22 22h-3v-6c2 0 3 2.962 3 6zM2 22h3v-6c-2 0-3 2.962-3 6zm5 0h10v-6H7zM17 6h-.059C16.72 4.025 16.25 3.524 15 3l-.7 1.026-.984-.173.3-1.7a8.579 8.579 0 00-3.226 0l.3 1.7-.99.173L9 3c-1.25.524-1.72 1.025-1.941 3H7a1 1 0 000 2h10a1 1 0 000-2zm-8.865 4.98a3.983 3.983 0 007.73 0A.688.688 0 0016 11c1 0 .976-1.843.939-2H7.061C7.024 9.157 7 11 8 11a.688.688 0 00.135-.02z"/></svg>'},5236:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="okworkers-desc okworkers-title"><title id="okworkers-title">Workers Icon</title><desc id="okworkers-desc">A picture depicting a group of construction workers with helmets.</desc><path d="M13 14h-.059c-.221-1.975-.691-2.476-1.941-3l-.7 1.026-.984-.173.3-1.7a8.579 8.579 0 00-3.226 0l.3 1.7-.984.173L5 11c-1.25.524-1.72 1.025-1.941 3H3a1 1 0 000 2h10a1 1 0 000-2zm-8.865 4.98a3.983 3.983 0 007.73 0A.688.688 0 0012 19c1 0 .976-1.843.939-2H3.061C3.024 17.157 3 19 4 19a.688.688 0 00.135-.02zM21 6h-.059C20.72 4.025 20.25 3.524 19 3l-.7 1.026-.984-.173.3-1.7a8.579 8.579 0 00-3.226 0l.3 1.7-.984.173L13 3c-1.25.524-1.72 1.025-1.941 3H11a1 1 0 000 2h10a1 1 0 000-2zm-1 5a.688.688 0 01-.135-.02A3.99 3.99 0 0115.929 14l-.1-.079a7.484 7.484 0 00-2.749-4.349.316.316 0 01.193-.572h7.666c.037.157.061 2-.939 2z"/></svg>'},5274:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="olworkflow-desc olworkflow-title"><title id="olworkflow-title">Workflow Icon</title><desc id="olworkflow-desc">A picture depicting a line diverging into three separate lines.</desc><path d="M21 18v-6h-8V8h2V2H9v6h2v4H3v6H2v4h4v-4H5v-4h6v4h-1v4h4v-4h-1v-4h6v4h-1v4h4v-4h-1z"/></svg>'},4895:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="omwrench-desc omwrench-title"><title id="omwrench-title">Wrench Icon</title><desc id="omwrench-desc">A picture showing a wrench.</desc><path d="M20.975 16.025a3.472 3.472 0 00-1.6-.9l-7.436-7.433a4.982 4.982 0 00-6.763-5.347L7 4.17A2 2 0 014.17 7L2.345 5.176a4.982 4.982 0 005.347 6.763l7.432 7.431a3.494 3.494 0 105.851-3.345zM19.6 19.6a1.382 1.382 0 110-1.954 1.381 1.381 0 010 1.954z"/></svg>'},7349:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM5 10h1.127L7.2 11.58 8.258 10h1.121l-1.7 2.465V14H6.677v-1.558zm5.044.74V10h3.745v.74h-1.37V14h-1.005v-3.26zm6.882-.74a2.667 2.667 0 01.823.123 1.86 1.86 0 01.659.37 1.679 1.679 0 01.435.616 2.205 2.205 0 01.157.868 2.456 2.456 0 01-.128.807 1.7 1.7 0 01-.387.639 1.828 1.828 0 01-.647.423 2.453 2.453 0 01-.912.154h-1.972v-4zm-.07 3.26a1.46 1.46 0 00.422-.061.951.951 0 00.365-.205 1.007 1.007 0 00.256-.372 1.453 1.453 0 00.1-.56 2.054 2.054 0 00-.067-.547 1.046 1.046 0 00-.221-.417.973.973 0 00-.407-.266 1.818 1.818 0 00-.624-.092h-.717v2.52z"/></svg>'},4910:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM7.7 11.634a1.151 1.151 0 00.317-.063.618.618 0 00.243-.152.367.367 0 00.1-.264.429.429 0 00-.2-.379.79.79 0 00-.452-.132.689.689 0 00-.533.2.668.668 0 00-.175.487h-.888a1.428 1.428 0 01.127-.542 1.246 1.246 0 01.321-.42 1.465 1.465 0 01.5-.273A2.022 2.022 0 017.7 10a2.258 2.258 0 01.55.069 1.7 1.7 0 01.5.206 1.21 1.21 0 01.357.336.784.784 0 01.137.456.8.8 0 01-.16.495.815.815 0 01-.482.292v.011a1.04 1.04 0 01.6.308.813.813 0 01.216.567 1.041 1.041 0 01-.14.539 1.238 1.238 0 01-.377.4 1.785 1.785 0 01-.544.242A2.605 2.605 0 017 13.906a1.542 1.542 0 01-.54-.272 1.207 1.207 0 01-.344-.438A1.322 1.322 0 016 12.6h.885a.931.931 0 00.058.294.7.7 0 00.151.243.727.727 0 00.246.162.925.925 0 00.35.06.86.86 0 00.531-.162.524.524 0 00.216-.443.5.5 0 00-.1-.335.59.59 0 00-.259-.168 1.281 1.281 0 00-.344-.061 8.981 8.981 0 00-.357-.008v-.55a2.453 2.453 0 00.323.002zm4.814-.9a.591.591 0 00-.406-.143.684.684 0 00-.416.123.949.949 0 00-.265.3 1.42 1.42 0 00-.144.382 1.989 1.989 0 00-.052.363l.012.011a1.072 1.072 0 01.446-.329 1.685 1.685 0 011.166.008 1.449 1.449 0 01.478.288 1.1 1.1 0 01.269.4 1.306 1.306 0 01.085.457 1.338 1.338 0 01-.115.552 1.3 1.3 0 01-.327.446 1.549 1.549 0 01-.508.3 1.915 1.915 0 01-.655.107 1.877 1.877 0 01-.858-.174 1.491 1.491 0 01-.544-.453 1.7 1.7 0 01-.281-.636 3.3 3.3 0 01-.079-.724 2.713 2.713 0 01.1-.715 1.924 1.924 0 01.315-.646 1.65 1.65 0 01.556-.471 1.752 1.752 0 01.827-.18 2.055 2.055 0 01.55.071 1.517 1.517 0 01.453.207 1.116 1.116 0 01.32.333 1.177 1.177 0 01.164.456h-.884a.638.638 0 00-.21-.335zm-.782 1.257a.627.627 0 00-.233.157.664.664 0 00-.138.228.821.821 0 00-.045.272.732.732 0 00.049.262.7.7 0 00.144.231.706.706 0 00.232.162.783.783 0 00.315.06.692.692 0 00.3-.06.72.72 0 00.219-.16.67.67 0 00.138-.225.773.773 0 00.046-.259.828.828 0 00-.043-.266.683.683 0 00-.128-.232.624.624 0 00-.219-.165.726.726 0 00-.311-.063.836.836 0 00-.329.056zm4.129-1.268l-.183.875.013.01a1.2 1.2 0 01.406-.228 1.783 1.783 0 011.094.036 1.326 1.326 0 01.442.28 1.186 1.186 0 01.275.416 1.355 1.355 0 01.095.509 1.159 1.159 0 01-.137.553 1.456 1.456 0 01-.371.443 1.694 1.694 0 01-.54.288 1.983 1.983 0 01-.655.1 2.7 2.7 0 01-.638-.074 1.725 1.725 0 01-.541-.229 1.226 1.226 0 01-.377-.382 1.054 1.054 0 01-.147-.531h.93a.607.607 0 00.236.421.922.922 0 00.848.093.773.773 0 00.249-.165.706.706 0 00.157-.237.718.718 0 00.056-.277.754.754 0 00-.052-.281.64.64 0 00-.158-.231.738.738 0 00-.248-.154.932.932 0 00-.334-.055.957.957 0 00-.406.074.91.91 0 00-.3.234h-.838l.452-2.129h2.561v.644z"/></svg>'},4289:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="opyen-circled-desc opyen-circled-title"><title id="opyen-circled-title">Yen Circled Icon</title><desc id="opyen-circled-desc">A picture of an encircled Japanese Yen symbol.</desc><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm1 10h3v2h-3v2h3v2h-3v2h-2v-2H8v-2h3v-2H8v-2h3v-.232L7.134 5.34l1.732-1L12 9.5l3.134-5.16 1.732 1L13 11.768z"/></svg>'},1828:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="oqyesterday-desc oqyesterday-title"><title id="oqyesterday-title">Yesterday Icon</title><desc id="oqyesterday-desc">A picture depicting a calendar with a back arrow in the middle.</desc><path d="M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/></svg>'},3495:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="oryoutube-desc oryoutube-title"><title id="oryoutube-title">YouTube Icon</title><desc id="oryoutube-desc">A picture showing the YouTube website logo.</desc><path d="M5.68 2l1.478 5.344v2.562h1.281V7.344L9.938 2H8.646l-.537 2.432Q7.883 5.5 7.818 5.947h-.039q-.095-.631-.291-1.525L6.971 2zm5.752 2.018a1.9 1.9 0 00-1.051.257 1.5 1.5 0 00-.59.825A4.887 4.887 0 009.6 6.6v.84a5.369 5.369 0 00.164 1.478 1.435 1.435 0 00.556.82A1.908 1.908 0 0011.4 10a1.9 1.9 0 001.061-.26 1.453 1.453 0 00.564-.818 5.15 5.15 0 00.175-1.484V6.6a5.073 5.073 0 00-.178-1.493 1.51 1.51 0 00-.566-.824 1.784 1.784 0 00-1.024-.265zm2.447.113v4.314a2.027 2.027 0 00.271 1.178A.978.978 0 0015 10a1.331 1.331 0 001.244-.8h.028l.113.707H17.4V4.131h-1.3v4.588a.634.634 0 01-.231.263.569.569 0 01-.324.1.293.293 0 01-.283-.164 1.291 1.291 0 01-.086-.553V4.131zm-2.479.781a.388.388 0 01.383.287 2.791 2.791 0 01.108.91v1.8a2.827 2.827 0 01-.108.924.389.389 0 01-.381.283.38.38 0 01-.377-.283 2.916 2.916 0 01-.1-.924v-1.8a2.805 2.805 0 01.107-.91.381.381 0 01.368-.287zM5 11a2.006 2.006 0 00-2 2v7a2.006 2.006 0 002 2h14a2.006 2.006 0 002-2v-7a2.006 2.006 0 00-2-2zm7.049 2h1.056v2.568h.008a1.158 1.158 0 01.407-.449 1.017 1.017 0 01.566-.17.86.86 0 01.611.207 1.256 1.256 0 01.323.668 6.462 6.462 0 01.1 1.281v.772a3.683 3.683 0 01-.264 1.6.863.863 0 01-.818.513 1.133 1.133 0 01-.564-.142.931.931 0 01-.383-.391h-.024l-.111.461h-.906zm-6.563.246h3.252v.885h-1.09v5.789H6.576v-5.789h-1.09zM17.1 14.951a1.53 1.53 0 01.867.207 1.12 1.12 0 01.426.645 4.67 4.67 0 01.123 1.209v.836h-1.838v.252a6.418 6.418 0 00.027.7.676.676 0 00.115.342.326.326 0 00.27.107.341.341 0 00.338-.191 1.647 1.647 0 00.1-.635l.948.055a1.6 1.6 0 01.007.175 1.291 1.291 0 01-.371 1.01 1.5 1.5 0 01-1.046.337 1.248 1.248 0 01-1.138-.51 2.971 2.971 0 01-.326-1.574v-.851a2.958 2.958 0 01.337-1.6 1.292 1.292 0 011.161-.514zm-8.688.094h1.1v3.58a1.084 1.084 0 00.072.465.246.246 0 00.238.139.488.488 0 00.276-.088.538.538 0 00.193-.223v-3.873h1.1v4.875h-.862l-.093-.6h-.026a1.124 1.124 0 01-1.053.68.821.821 0 01-.714-.318 1.705 1.705 0 01-.233-.994zm8.664.648a.319.319 0 00-.26.1.665.665 0 00-.111.338 6.525 6.525 0 00-.027.711v.358h.8v-.349a5.934 5.934 0 00-.032-.711.665.665 0 00-.115-.342.319.319 0 00-.257-.105zm-3.482.036a.417.417 0 00-.293.126.7.7 0 00-.192.327v2.767a.489.489 0 00.188.192.511.511 0 00.25.064.336.336 0 00.277-.127.9.9 0 00.149-.43 6.224 6.224 0 00.043-.836v-.626a8.243 8.243 0 00-.035-.883 1.034 1.034 0 00-.127-.444.3.3 0 00-.262-.13z"/></svg>'}},bne={};function L(r){var e=bne[r];if(void 0!==e)return e.exports;var t=bne[r]={exports:{}};return UNe[r](t,t.exports,L),t.exports}L.d=(r,e)=>{for(var t in e)L.o(e,t)&&!L.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},L.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var F={};(()=>{L.d(F,{lTk:()=>kH,Bd$:()=>cA,_im:()=>vce,U_J:()=>g,KJG:()=>f,SAz:()=>m,t1N:()=>Hle,MBC:()=>yce,$6P:()=>xtt,cIv:()=>Ode,ZlE:()=>xce,slj:()=>Bde,huW:()=>Cce,hi0:()=>Nhe,RDp:()=>Vhe,W3x:()=>Hde,hnq:()=>Nde,_wT:()=>Vde,uyw:()=>v,NKz:()=>x,c07:()=>w,wbJ:()=>b,oQ7:()=>Cae,FbX:()=>vae,oGm:()=>yae,bpX:()=>xae,Xae:()=>wae,YP5:()=>bae,R3W:()=>_ae,kc5:()=>wce,QEg:()=>bce,prf:()=>_ce,CaT:()=>Sae,VQQ:()=>Iae,Ncd:()=>zde,Tl5:()=>Dae,oUB:()=>pue,bON:()=>Eae,$ik:()=>Sce,zO6:()=>jde,yLM:()=>Ice,BBm:()=>Gde,dsG:()=>Voe,Hs9:()=>Hoe,BZV:()=>qde,$cm:()=>Dce,SdW:()=>Ece,WqF:()=>Nre,DmU:()=>Vre,neX:()=>Hre,yd1:()=>Tae,jIG:()=>Hhe,__Q:()=>zre,Nli:()=>Rae,Vfi:()=>jre,pkE:()=>kae,T73:()=>Tce,mbq:()=>Aae,LgP:()=>Rce,oNx:()=>zle,u_P:()=>zoe,V7I:()=>Mae,om6:()=>Fae,UPo:()=>Pae,WuY:()=>Gre,qI$:()=>Lae,BF5:()=>joe,e9R:()=>Wde,T4Q:()=>kce,TUN:()=>Ghe,CVw:()=>zhe,ykd:()=>eue,zm5:()=>jhe,Y0L:()=>Oae,qA0:()=>Ace,BuB:()=>Mce,lZ2:()=>Noe,I9y:()=>qre,Yt_:()=>Wre,Kyr:()=>Ure,r3W:()=>Goe,kQN:()=>xe,MWC:()=>Fce,dmx:()=>$re,NHt:()=>Pce,qWE:()=>Kre,XXv:()=>Yre,iNc:()=>Bae,uCe:()=>Nae,EJm:()=>Vae,w9U:()=>qoe,GRX:()=>Lce,IkF:()=>jle,knC:()=>Hae,Z7L:()=>zae,b8$:()=>Oce,_W:()=>Bce,r$P:()=>Whe,YRD:()=>Nce,tfn:()=>Gae,TkW:()=>jae,x7N:()=>Ude,Vie:()=>$de,AlA:()=>qae,aUE:()=>Wae,$Nv:()=>Vce,bWL:()=>zce,TEL:()=>Hce,YQA:()=>Woe,jNO:()=>Uoe,WX1:()=>$oe,oY5:()=>Uae,aGw:()=>jce,NbW:()=>gue,La4:()=>$ae,ul4:()=>Kde,vL8:()=>Qre,CPu:()=>Yde,j6y:()=>Vle,Fjr:()=>mae,hzO:()=>Gle,lcl:()=>Gce,Fcd:()=>Koe,pnn:()=>DH,fS0:()=>EH,VNl:()=>Xre,tHy:()=>Qde,oyk:()=>qle,x9B:()=>Kae,byu:()=>Yoe,uGh:()=>Yae,qv4:()=>mue,FHd:()=>fue,TPc:()=>Wle,oWe:()=>qce,VC8:()=>Uhe,noN:()=>$he,iI$:()=>mce,n0J:()=>Qae,Udi:()=>Xde,_hH:()=>Wce,H1E:()=>Xae,h9L:()=>Jre,_1l:()=>Zre,srP:()=>eoe,IoZ:()=>Uce,gvV:()=>Jae,nb5:()=>Khe,kZe:()=>RH,KEc:()=>ett,q37:()=>Yhe,nKk:()=>Qhe,bWO:()=>vue,EVT:()=>Zae,lkr:()=>nhe,j8b:()=>Jde,POC:()=>Zde,jZX:()=>ehe,dvO:()=>the,Rm7:()=>ihe,XaR:()=>she,tSN:()=>Qoe,Vle:()=>Xoe,eCg:()=>Xhe,jL$:()=>toe,mZq:()=>Lde,vCb:()=>$ce,M20:()=>Kce,Zkw:()=>Yce,RlZ:()=>Ule,hrI:()=>Jce,Vhm:()=>Qce,B5G:()=>Xce,wdp:()=>ece,irC:()=>ioe,TPU:()=>Jhe,CRu:()=>yue,F8i:()=>rhe,v0n:()=>tce,vF$:()=>ohe,AxD:()=>Joe,RRz:()=>Zoe,xbD:()=>TH,mAK:()=>ele,K0_:()=>tle,Ft:()=>ile,oAc:()=>nle,yst:()=>lhe,vPL:()=>I,grx:()=>k,nmN:()=>Zce,zMd:()=>noe,dj:()=>sle,K2e:()=>rle,Oo1:()=>ole,b8L:()=>lle,zHf:()=>ice,QjB:()=>ale,$27:()=>cle,kGB:()=>xue,iJb:()=>nce,UNd:()=>Bhe,dSs:()=>ahe,t7l:()=>soe,XLs:()=>$le,sSH:()=>ede,KYW:()=>tde,OrE:()=>ide,DFD:()=>che,EQD:()=>dle,Tzs:()=>nde,fI_:()=>sde,IV2:()=>Cue,Bzc:()=>rde,ilv:()=>ode,Egz:()=>dhe,hWf:()=>Zhe,Azp:()=>sce,iLZ:()=>hle,zd7:()=>hhe,S5w:()=>uhe,Uhp:()=>phe,$FH:()=>mhe,tsm:()=>ghe,TpQ:()=>fhe,agg:()=>vhe,nDF:()=>ule,HsE:()=>ple,KqL:()=>gle,NJw:()=>fle,Dw5:()=>mle,Quu:()=>vle,QHr:()=>lde,vK1:()=>rce,TJH:()=>roe,cSL:()=>yhe,Pm4:()=>xhe,it7:()=>ade,fmF:()=>ooe,aWJ:()=>Kle,rJt:()=>Yle,xrm:()=>oce,CVQ:()=>Che,gec:()=>lce,$C9:()=>cde,OQV:()=>P,KBg:()=>W,Wsk:()=>wue,qcT:()=>loe,HhS:()=>aoe,mMe:()=>dde,r9J:()=>coe,BA1:()=>tue,ojU:()=>doe,e2R:()=>hde,qIe:()=>Qle,qjt:()=>ace,pcC:()=>ude,ALK:()=>yle,OPA:()=>xle,AV9:()=>uue,LFl:()=>cce,YRr:()=>Xle,ofM:()=>iue,dCx:()=>pde,o0k:()=>Cle,GHz:()=>wle,TZ4:()=>ble,JT3:()=>_le,v1S:()=>hoe,EBv:()=>gde,OdB:()=>bue,cjF:()=>nue,Dt4:()=>sue,emT:()=>uoe,T0N:()=>Jle,fut:()=>Zle,FVL:()=>fde,bab:()=>mde,bgi:()=>poe,yMF:()=>vde,sbn:()=>goe,a13:()=>whe,aP6:()=>foe,yJR:()=>dce,Xgi:()=>bhe,kN4:()=>moe,Ao5:()=>eae,oV1:()=>tae,vHN:()=>voe,YEW:()=>yoe,t7G:()=>hce,axC:()=>uce,td_:()=>Sle,UQh:()=>rue,syb:()=>xoe,ACN:()=>yde,vq6:()=>_he,h0B:()=>Coe,bsC:()=>She,bc2:()=>_ue,dIb:()=>xde,LFI:()=>Aue,$TZ:()=>oue,Tt$:()=>lue,QDF:()=>woe,epd:()=>boe,AWe:()=>Ihe,svs:()=>aue,NAV:()=>Dhe,_nk:()=>Ehe,O$d:()=>_oe,fBX:()=>Ile,Nyw:()=>Dle,otD:()=>iae,f10:()=>The,VGW:()=>Cde,CmW:()=>Soe,knS:()=>pce,C24:()=>wde,AgG:()=>Rhe,GLn:()=>bde,iuE:()=>cue,Vul:()=>Ioe,Cfd:()=>Doe,bdM:()=>Eoe,P1S:()=>_de,wLN:()=>Sue,Eiv:()=>qhe,BsZ:()=>Sde,S7c:()=>Ele,nRM:()=>Tle,Ggf:()=>Rle,xPI:()=>kle,POU:()=>Iue,Z2D:()=>nae,H1N:()=>khe,LgZ:()=>Ale,WEX:()=>Ide,Roi:()=>Nle,xAR:()=>Ede,mY5:()=>Dde,c2U:()=>Fle,sR5:()=>Mle,Tr9:()=>Ahe,A$7:()=>Toe,_CP:()=>Roe,NLz:()=>koe,m3M:()=>Aoe,$Dt:()=>Mhe,kmR:()=>Due,Z8D:()=>Ple,wJO:()=>oe,lQ1:()=>ae,ZTw:()=>sae,iZ_:()=>rae,s5D:()=>oae,ZsF:()=>lae,_2J:()=>aae,THr:()=>cae,EzF:()=>dae,B_v:()=>hae,zOh:()=>uae,Ase:()=>Fhe,$W5:()=>due,iKp:()=>Tde,OTU:()=>Rde,CuM:()=>Eue,h1n:()=>Phe,VMF:()=>Mde,yYn:()=>kde,kN$:()=>Ade,oln:()=>Lhe,G3k:()=>Fde,Nsu:()=>pae,jmd:()=>Ohe,eGZ:()=>Moe,ZJ_:()=>Foe,bRk:()=>Poe,U3_:()=>Tue,Gpw:()=>Pde,ONB:()=>Rue,$kt:()=>gae,gYK:()=>fae,GtC:()=>gce,KK7:()=>Loe,CBM:()=>Ooe,Ldn:()=>hue,UZF:()=>Boe,tyl:()=>Lle,$Sj:()=>Ole,Gf8:()=>fce,CvE:()=>Ble,ZB9:()=>kue});var r=L(4888),e=L(4100),t=L(4207),i=L(6603),n=L(7266),s=L(8542),o=L(6461),l=L(4092),a=L(2715),c=L(6306),d=L(7530),u=L(6936),p=L(2486);const g={name:"add-child",value:r,categories:["content"],keywords:["add","insert","row","child","new","below","under"]},f={name:"add-filter",value:e,categories:["content"],keywords:["add","filter","funnel","leads","new"]},m={name:"add-row",value:t,categories:["content"],keywords:["add","insert","row","new"]},v={name:"arrow-down-left",value:i,categories:["content"],keywords:["arrow","down","left","dimension"]},x={name:"arrow-down-right",value:n,categories:["content"],keywords:["arrow","down","right"]},w={name:"arrow-up-left",value:s,categories:["content"],keywords:["arrow","up","left"]},b={name:"arrow-up-right",value:o,categories:["content"],keywords:["arrow","up","right","axis","coordinate","system"]},I={name:"jump-down",value:l,categories:["content"],keywords:["jump","down","arrow","below","under"]},k={name:"jump-up",value:a,categories:["content"],keywords:["jump","up","arrow","above"]},P={name:"pin-left",value:c,categories:["content"],keywords:["pin","freeze","left","pushpin","nail","marker","attach","tack","thumbtack"]},W={name:"pin-right",value:d,categories:["content"],keywords:["pin","freeze","right","pushpin","nail","marker","attach","tack","thumbtack"]},oe={name:"unpin-left",value:u,categories:["content"],keywords:["unpin","unfreeze","left","pushpin","nail","marker","detach","tack","thumbtack"]},ae={name:"unpin-right",value:p,categories:["content"],keywords:["unpin","unfreeze","right","pushpin","nail","marker","detach","tack","thumbtack"]},xe=[g,f,m,v,x,w,b,I,k,P,W,oe,ae];var z=L(4774),Re=L(2124),ye=L(8205),le=L(5765),ge=L(4827),Y=L(4303),U=L(7909),ce=L(3960),Be=L(2642),Ge=L(4666),jt=L(7781),Wt=L(3284),Mi=L(5216),ri=L(1075),Ai=L(3360),zt=L(9173),ne=L(5487),we=L(9357),ot=L(8652),Vt=L(647),Qi=L(9840),Ci=L(9151),hs=L(4589),Dv=L(4284),Uc=L(2753),SH=L(2252),gS=L(4783),aA=L(4917),IH=L(425),fS=L(3223),tYe=L(2471),iYe=L(3877),nYe=L(5604),sYe=L(2141),rYe=L(2451),oYe=L(6143),lYe=L(1980),aYe=L(2160),cYe=L(7531),dYe=L(7667),hYe=L(4592),uYe=L(219),pYe=L(8469),gYe=L(8935),fYe=L(133),mYe=L(8238),vYe=L(9588),yYe=L(8231),xYe=L(3794),CYe=L(3859),wYe=L(8014),bYe=L(8341),_Ye=L(5236),SYe=L(4895);const Nre={name:"brick-wall",value:z,categories:["construction"],keywords:["brick","wall","block","pattern","architecture","stone","building","construction","house"]},Vre={name:"brush",value:Re,categories:["construction"],keywords:["brush","decoration","interior","paint","painting","roller","wall"]},Hre={name:"bucket",value:ye,categories:["construction"],keywords:["bucket","decoration","interior","paint","water","house","wall","construction"]},zre={name:"building",value:le,categories:["construction"],keywords:["building","home","house","apartments","architecture","structure"]},jre={name:"bulldozer",value:ge,categories:["construction"],keywords:["bulldozer","digging","excavator","machine"]},Gre={name:"cement-mixer",value:Y,categories:["construction"],keywords:["cement","mixer","concrete","construction","machine","truck"]},qre={name:"construction-cone",value:U,categories:["construction"],keywords:["construction","cone","barrier","caution","road","safety"]},Wre={name:"construction-project",value:ce,categories:["construction"],keywords:["construction","project","blueprint","plan","architecture"]},Ure={name:"construction-trolley",value:Be,categories:["construction"],keywords:["construction","trolley","carrier","cart","cement","holder"]},$re={name:"cordless-screwdriver",value:Ge,categories:["construction"],keywords:["cordless","screwdriver","drill","driver","electric","power"]},Kre={name:"country-home",value:jt,categories:["construction"],keywords:["country","home","house","real estate"]},Yre={name:"crane",value:Wt,categories:["construction"],keywords:["crane","construction","hook","machinery","tower"]},Qre={name:"dump-truck",value:Mi,categories:["construction"],keywords:["dump","truck","dumper","garbage","trash","waste","vehicle","transport"]},Xre={name:"estate",value:ri,categories:["construction"],keywords:["estate","building","home","house","architecture"]},Jre={name:"forklift-truck",value:Ai,categories:["construction"],keywords:["forklift","truck","warehouse","industrial","transport","lift","cargo","logistics","loader","machinery"]},Zre={name:"foundation",value:zt,categories:["construction"],keywords:["foundation","wall","architecture","construction"]},eoe={name:"fountain",value:ne,categories:["construction"],keywords:["fountain","garden","splash","park","water"]},toe={name:"hammer",value:we,categories:["construction"],keywords:["hammer","construction","equipment","hardware","repair","tool","work","tools"]},ioe={name:"impact-drill",value:ot,categories:["construction"],keywords:["impact drill","power","tools","driver","construction","tool","work","repair","drill"]},noe={name:"ladder",value:Vt,categories:["construction"],keywords:["ladder","construction","building","climb","height","tool","work","tools"]},soe={name:"maintenance",value:Qi,categories:["construction"],keywords:["maintenance","construction","tools","hardware","equipment","wrench","screwdriver","tool kit","tool box"]},roe={name:"oil-platform",value:Ci,categories:["construction"],keywords:["oil platform","industry","drilling","platform","oil","rig","offshore"]},ooe={name:"paint-roller",value:hs,categories:["construction"],keywords:["paint roller","equipment","house construction","paint","roller","wall paint","tools","tool"]},loe={name:"pipes",value:Dv,categories:["construction"],keywords:["pipes","plumbing","pipe","drain","water"]},aoe={name:"piping-system",value:Uc,categories:["construction"],keywords:["piping system","piping","water","drain","water","industrial"]},coe={name:"pliers",value:SH,categories:["construction"],keywords:["pliers","equipment","tools","tool","repairs","hardware"]},doe={name:"pneumatic-hammer-drill",value:gS,categories:["construction"],keywords:["pneumatic hammer drill","drill","hammer","hydraulic","jack","kit","pneumatic","asphalt"]},hoe={name:"radiator",value:aA,categories:["construction"],keywords:["radiator","heat","warm","interior","heater","heating"]},uoe={name:"restricted-area",value:IH,categories:["construction"],keywords:["restricted area","zone","no entry","warning sign","caution zone","area","military","restricted"]},poe={name:"road-roller",value:fS,categories:["construction"],keywords:["road roller","construction","road","roller","vehicle","roadwork"]},goe={name:"rulers",value:tYe,categories:["construction"],keywords:["rulers","measure","scale","measurement","centimeter","tools"]},foe={name:"safety-vest",value:iYe,categories:["construction"],keywords:["safety vest","construction","engineer","jacket","protect","safety"]},moe={name:"saw",value:nYe,categories:["construction"],keywords:["saw","hand","tools","woodworking","equipment","tool"]},voe={name:"scissor-lift",value:sYe,categories:["construction"],keywords:["scissor lift","lift","scaffolding","scissor","hydraulic","construction","high","factory","industry"]},yoe={name:"screwdriver",value:rYe,categories:["construction"],keywords:["screwdriver","tools","tool","hardware","screw","fixer","repair"]},xoe={name:"shovel",value:oYe,categories:["construction"],keywords:["shovel","digging","tool","spade","equipment"]},Coe={name:"skyscrapers",value:lYe,categories:["construction"],keywords:["skyscrapers","buildings","city","cityscape","downtown","skyline","architecture"]},woe={name:"solar-panel",value:aYe,categories:["construction"],keywords:["solar panel","alternative","energy","electricity","panel","solar"]},boe={name:"soldering-iron",value:cYe,categories:["construction"],keywords:["soldering iron","soldering","iron","tool","copper","manufactoring","electronic"]},_oe={name:"stairs",value:dYe,categories:["construction"],keywords:["stairs","building","climb","height"]},Soe={name:"stop-hand",value:hYe,categories:["construction"],keywords:["stop hand","stop","sign","halt","adblock"]},Ioe={name:"table-saw-blade",value:uYe,categories:["construction"],keywords:["table saw","blade","cut","saw","table"]},Doe={name:"tap-water",value:pYe,categories:["construction"],keywords:["tap water","tap","water","faucet","drip","leak"]},Eoe={name:"tapeline",value:gYe,categories:["construction"],keywords:["tapeline","centimeter","inches tape","measuring tape","meter stick","inches","measure","metre","ruler"]},Toe={name:"tow-truck",value:fYe,categories:["construction"],keywords:["tow truck","repair","service","tow","truck","towing","vehicle","transport"]},Roe={name:"towel-rail",value:mYe,categories:["construction"],keywords:["towel rail","warmer","heated","towel","rail","bathroom","interior","rack"]},koe={name:"tractor",value:vYe,categories:["construction"],keywords:["tractor","vehicle","machinery"]},Aoe={name:"trowel",value:yYe,categories:["construction"],keywords:["trowel","cement","equipment","tool","renovation","maintenance"]},Moe={name:"water-boiler",value:xYe,categories:["construction"],keywords:["water boiler","boiler","heater","water","heating","appliance"]},Foe={name:"water-heater",value:CYe,categories:["construction"],keywords:["water heater","heater","water","tank","appliance","electrical","heating"]},Poe={name:"water-tap",value:wYe,categories:["construction"],keywords:["water tap","tap","faucet","water","plumbing","valve"]},Loe={name:"worker",value:bYe,categories:["construction"],keywords:["worker","builder","engineer","man","labor"]},Ooe={name:"workers",value:_Ye,categories:["construction"],keywords:["workers","crew","builders","engineers","men","constructors"]},Boe={name:"wrench",value:SYe,categories:["construction"],keywords:["wrench","construction","equipment","hardware","metal","tool"]},Noe=[Nre,Vre,Hre,zre,jre,Gre,qre,Wre,Ure,$re,Kre,Yre,Qre,Xre,Jre,Zre,eoe,toe,ioe,noe,soe,roe,ooe,loe,aoe,coe,doe,hoe,uoe,poe,goe,foe,moe,voe,yoe,xoe,Coe,woe,boe,_oe,Soe,Ioe,Doe,Eoe,Toe,Roe,koe,Aoe,Moe,Foe,Poe,Loe,Ooe,Boe];var IYe=L(2941),DYe=L(788),EYe=L(8760),TYe=L(1319),RYe=L(7784),kYe=L(2558),AYe=L(1085),MYe=L(1544),FYe=L(3099),PYe=L(5346),LYe=L(6312),OYe=L(6379),BYe=L(4812),NYe=L(8825),VYe=L(2899),HYe=L(6855),zYe=L(1619),jYe=L(7992),GYe=L(8805),qYe=L(5124),WYe=L(5646),UYe=L(761),$Ye=L(4212),KYe=L(7356),YYe=L(9120),QYe=L(8293),XYe=L(5238),JYe=L(4487),ZYe=L(4013),eQe=L(2418),tQe=L(7666),iQe=L(2367),nQe=L(7675),sQe=L(7996),rQe=L(9446),oQe=L(1855),lQe=L(7375),aQe=L(8577),cQe=L(4183),dQe=L(3480),hQe=L(563),uQe=L(7564),pQe=L(8169),gQe=L(6843),fQe=L(3898),mQe=L(389),vQe=L(1602),yQe=L(8826),xQe=L(8961),CQe=L(2579),wQe=L(6703),bQe=L(1869),_Qe=L(2625),SQe=L(5608),IQe=L(1828),DQe=L(4910),EQe=L(7349);const Voe={name:"bottom-percentile-records",value:DYe,categories:["editor"]},Hoe={name:"bottom-records",value:IYe,categories:["editor"]},zoe={name:"case-sensitive",value:EYe,categories:["editor"],keywords:["case","sensitive","character","text","mode","sentence","style","change","compare","filter"]},joe={name:"check",value:TYe,categories:["editor"],keywords:["check","checked","mark","tick","ok","success"]},Goe={name:"contains",value:RYe,categories:["editor"],keywords:["contains","letter","contain","compare","filter"]},qoe={name:"custom-filter",value:kYe,categories:["editor"],keywords:["custom","filter"]},Woe={name:"does-not-contain",value:AYe,categories:["editor"],keywords:["contains","character","contain","compare","filter"]},Uoe={name:"does-not-end-with",value:MYe,categories:["editor"]},$oe={name:"does-not-start-with",value:FYe,categories:["editor"]},Koe={name:"end-expression",value:PYe,categories:["editor"],keywords:["end","expression","arrow","right"]},DH={name:"ends-with",value:LYe,categories:["editor"],keywords:["end","character","compare","filter"]},EH={name:"equals",value:OYe,categories:["editor"],keywords:["equal","equals","compare","filter","equality","calculation","math"]},Yoe={name:"exact-match",value:BYe,categories:["editor"],keywords:["exact","match","arrow","target","goal","aim","business","dart","bullseye"]},Qoe={name:"greater-than",value:NYe,categories:["editor"],keywords:["greater","more","compare","next","forward","chevron","math","inequalty","arrow"]},Xoe={name:"greater-than-or-equal",value:VYe,categories:["editor"],keywords:["greater","more","equal","equals","compare","math"]},Joe={name:"is-after",value:HYe,categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},Zoe={name:"is-before",value:zYe,categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},TH={name:"is-empty",value:jYe,categories:["editor"],keywords:["empty","box","nothing"]},ele={name:"is-false",value:GYe,categories:["editor"],keywords:["false","true","choice","options","yes","no","check","tick","cross"]},tle={name:"is-not-null",value:qYe,categories:["editor"],keywords:["empty","null","void","problem","number","invalid","inoperative","none","nothing"]},ile={name:"is-null",value:WYe,categories:["editor"],keywords:["null","circle","zero","o"]},nle={name:"is-true",value:UYe,categories:["editor"],keywords:["true","false","choice","options","yes","no","check","tick","cross"]},sle={name:"last-month",value:$Ye,categories:["editor"],keywords:["last","calendar","month","date","day","previous","schedule","arrow","left","page"]},rle={name:"last-quarter",value:XYe,categories:["editor"]},ole={name:"last-week",value:JYe,categories:["editor"]},lle={name:"last-year",value:KYe,categories:["editor"],keywords:["last","calendar","month","date","previous","schedule","arrow","left"]},ale={name:"less-than",value:YYe,categories:["editor"],keywords:["less","smaller","compare","previous","back","chevron","math","inequalty","arrow"]},cle={name:"less-than-or-equal",value:QYe,categories:["editor"],keywords:["less","smaller","equal","equals","compare","math"]},dle={name:"match",value:ZYe,categories:["editor"],keywords:["match","fit","puzzle","pieces","jigsaw","combination","play","game","toy"]},hle={name:"month",value:eQe,categories:["editor"]},ule={name:"next-month",value:tQe,categories:["editor"],keywords:["next","calendar","month","date","day","following","schedule","arrow","right","page"]},ple={name:"next-quarter",value:oQe,categories:["editor"]},gle={name:"next-week",value:nQe,categories:["editor"]},fle={name:"next-year",value:iQe,categories:["editor"],keywords:["next","calendar","month","date","following","schedule","arrow","right"]},mle={name:"not-empty",value:sQe,categories:["editor"],keywords:["empty","full"]},vle={name:"not-equal",value:rQe,categories:["editor"],keywords:["equal","equals","different","compare","filter","equality","calculation","math"]},yle={name:"previous-quarter",value:lQe,categories:["editor"]},xle={name:"previous-week",value:aQe,categories:["editor"]},Cle={name:"quarter-four",value:cQe,categories:["editor"]},wle={name:"quarter-one",value:dQe,categories:["editor"]},ble={name:"quarter-three",value:uQe,categories:["editor"]},_le={name:"quarter-two",value:hQe,categories:["editor"]},Sle={name:"select-all",value:pQe,categories:["editor"],keywords:["all","select","check","multiple"]},Ile={name:"start-expression",value:gQe,categories:["editor"],keywords:["start","expression","arrow","left"]},Dle={name:"starts-with",value:fQe,categories:["editor"],keywords:["start","character","compare","filter"]},Ele={name:"this-month",value:mQe,categories:["editor"],keywords:["this","calendar","month","date","day","current","schedule","check","page","now"]},Tle={name:"this-quarter",value:yQe,categories:["editor"]},Rle={name:"this-week",value:xQe,categories:["editor"]},kle={name:"this-year",value:vQe,categories:["editor"],keywords:["this","calendar","month","date","current","schedule","check","now"]},Ale={name:"today",value:CQe,categories:["editor"],keywords:["today","now","check","date","day","calendar","current","schedule","event"]},Mle={name:"top-records",value:wQe,categories:["editor"]},Fle={name:"top-percentile-records",value:bQe,categories:["editor"]},Ple={name:"ungroup",value:SQe,categories:["editor"],keywords:["ungroup","exclude","extract"]},Lle={name:"year",value:DQe,categories:["editor"]},Ole={name:"year-to-date",value:EQe,categories:["editor"]},Ble={name:"yesterday",value:IQe,categories:["editor"],keywords:["yesterday","date","calendar","left","arrow","past","previous","day"]},Nle={name:"tomorrow",value:_Qe,categories:["editor"],keywords:["tomorrow","date","calendar","right","arrow","future","next","day"]},Vle=[Voe,Hoe,zoe,joe,Goe,qoe,Woe,Uoe,$oe,Koe,DH,EH,Yoe,Qoe,Xoe,Joe,Zoe,TH,ele,tle,ile,nle,sle,rle,ole,lle,ale,cle,dle,hle,ule,ple,gle,fle,mle,vle,yle,xle,Cle,wle,ble,_le,DH,EH,TH,Sle,Ile,Dle,Ele,Tle,Rle,kle,Ale,Fle,Mle,Ple,Ole,Lle,Ble,Nle];var TQe=L(3335),RQe=L(1046),kQe=L(8758),AQe=L(480),MQe=L(2340),FQe=L(3921),PQe=L(2203),LQe=L(9849),OQe=L(3076),BQe=L(8243),NQe=L(7587),VQe=L(4595),HQe=L(5099),zQe=L(8030),jQe=L(7681),GQe=L(1221),qQe=L(1683),WQe=L(9761),UQe=L(8858),$Qe=L(5134),KQe=L(3107),YQe=L(5862),QQe=L(9383),XQe=L(4612),JQe=L(8530),ZQe=L(8568),eXe=L(3089),tXe=L(8589),iXe=L(8352),nXe=L(6459);const Hle={name:"aggregation",value:TQe,categories:["election"],keywords:["aggregation","election results","results","elections","merge","converge"]},zle={name:"candidate-results",value:RQe,categories:["election"],keywords:["front runner","slate","candidate","results","elections"]},jle={name:"debate",value:kQe,categories:["election"],keywords:["discussion","dispute","argument","elections","battle","fight","boxing"]},Gle={name:"electoral-votes",value:AQe,categories:["election"],keywords:["electoral college","electoral","votes","presidential election","elections"]},qle={name:"eu-parliament",value:MQe,categories:["election"],keywords:["European Union","Europe","parliament","EU","government","politics"]},Wle={name:"female-candidate",value:FQe,categories:["election"],keywords:["female","woman","elections","candidate","speaker","presenter"]},Ule={name:"horn",value:PQe,categories:["election"],keywords:["broadcast","megaphone","speaker","volume","elections"]},$le={name:"male-candidate",value:LQe,categories:["election"],keywords:["male","man","elections","candidate","speaker","presenter"]},Kle={name:"parliament-1",value:OQe,categories:["election"],keywords:["parliament","capitol","goverment","house","politics","Europe","temple"]},Yle={name:"parliament-2",value:BQe,categories:["election"],keywords:["parliament","capitol","goverment","house","politics","Berlin","gate","monument"]},Qle={name:"popular-votes",value:NQe,categories:["election"],keywords:["vote","ballot","cast","station","election"]},Xle={name:"protester-signs",value:VQe,categories:["election"],keywords:["protest","protester","demonstration","signs","revolt","turmoil","riot"]},Jle={name:"results-by-candidates",value:HQe,categories:["election"],keywords:["results","chart","pie"]},Zle={name:"results-piechart",value:zQe,categories:["election"],keywords:["results","chart","pie"]},eae={name:"scales-balanced",value:jQe,categories:["election"],keywords:["scales","justice","balance","legal","weight"]},tae={name:"scales-unbalanced",value:GQe,categories:["election"],keywords:["scales","unfair","unbalanced","off-balance","legal","weight"]},iae={name:"stats",value:qQe,categories:["election"],keywords:["statistics","chart","screen","display","monitor"]},nae={name:"timeline",value:WQe,categories:["election"],keywords:["timeline","events"]},sae={name:"usa-ca",value:UQe,categories:["election"],keywords:["USA","state","California","ca"]},rae={name:"usa-fl",value:$Qe,categories:["election"],keywords:["USA","state","Florida","fl"]},oae={name:"usa-lower-48-states",value:KQe,categories:["election"],keywords:["USA","state","lower","48"]},lae={name:"usa-ny",value:YQe,categories:["election"],keywords:["USA","state","New York","ny"]},aae={name:"usa-party-democratic",value:QQe,categories:["election"],keywords:["USA","party","democratic","democrat","democrats","donkey","politics"]},cae={name:"usa-party-green",value:XQe,categories:["election"],keywords:["USA","party","green","politics"]},dae={name:"usa-party-libertarian",value:JQe,categories:["election"],keywords:["USA","party","libertarian","hedgehog","politics"]},hae={name:"usa-party-republican",value:ZQe,categories:["election"],keywords:["USA","party","republican","republicans","elephant","politics"]},uae={name:"usa-tx",value:eXe,categories:["election"],keywords:["USA","state","Texas","tx"]},pae={name:"vote",value:tXe,categories:["election"],keywords:["vote","cast","ballot","box","station","election"]},gae={name:"white-house-1",value:iXe,categories:["election"],keywords:["white house","president","house","government","Washington","DC"]},fae={name:"white-house-2",value:nXe,categories:["election"],keywords:["white house","president","house","government","Washington","DC","Athens","acropolis"]},mae=[Hle,zle,jle,Gle,qle,Wle,Ule,$le,Kle,Yle,Qle,Xle,Jle,Zle,eae,tae,iae,nae,sae,rae,oae,lae,aae,cae,dae,hae,uae,pae,gae,fae];var sXe=L(2976),rXe=L(4044),oXe=L(5516),lXe=L(4134),aXe=L(1249),cXe=L(2383),dXe=L(1169),hXe=L(8333),uXe=L(2703),pXe=L(514),gXe=L(6668),fXe=L(1803),mXe=L(2374),vXe=L(9979),yXe=L(5156),xXe=L(1786),CXe=L(2353),wXe=L(4578),bXe=L(4175),_Xe=L(2801),SXe=L(676),IXe=L(7915),DXe=L(6786),EXe=L(2082),TXe=L(2600),RXe=L(2926),kXe=L(1191),AXe=L(6397),MXe=L(2441),FXe=L(9154),PXe=L(7454),LXe=L(3888),OXe=L(9753),BXe=L(5471),NXe=L(4931),VXe=L(2943),HXe=L(1500),zXe=L(4081),jXe=L(5030),GXe=L(552),qXe=L(6857),WXe=L(1913),UXe=L(7802),$Xe=L(3931),KXe=L(8294),YXe=L(4171),QXe=L(4894),XXe=L(1733),JXe=L(3629),ZXe=L(5339),eJe=L(8430),tJe=L(3207),iJe=L(4289);const vae={name:"atm-dollar",value:sXe,categories:["finance"],keywords:["atm","usd","dollar","bank","cash","money","payment","deposit","withdraw","machine"]},yae={name:"atm-euro",value:rXe,categories:["finance"],keywords:["atm","eur","euro","bank","cash","money","payment","deposit","withdraw","machine"]},xae={name:"atm-pound",value:oXe,categories:["finance"],keywords:["atm","gbp","pound","sterling","bank","cash","money","payment","deposit","withdraw","machine"]},Cae={name:"atm",value:lXe,categories:["finance"],keywords:["atm","bank","cash","money","payment","deposit","withdraw","machine"]},wae={name:"atm-yen",value:aXe,categories:["finance"],keywords:["atm","jpy","yen","bank","cash","money","payment","deposit","withdraw","machine"]},bae={name:"auction",value:cXe,categories:["finance"],keywords:["auction","sale","gavel","law","judge","hammer"]},_ae={name:"award",value:dXe,categories:["finance"],keywords:["award","medal","winner","first","gold","sport"]},Sae={name:"bank-safe",value:hXe,categories:["finance"],keywords:["bank","safe","savings","secure","vault","deposit","locker","safe box"]},Iae={name:"barcode",value:uXe,categories:["finance"],keywords:["barcode","code","scan","marketing","commerce"]},Dae={name:"bear-market",value:pXe,categories:["finance"],keywords:["bear","market","decreasing","financial","economy","animal","stock"]},Eae={name:"bill-paid",value:gXe,categories:["finance"],keywords:["bill","paid","check","invoice","payment","purchase","accounting","billing"]},Tae={name:"budget-spending",value:fXe,categories:["finance"],keywords:["budget","spending","usd","dollar","accounting","expense","investment","management","ballance"]},Rae={name:"bull-market",value:mXe,categories:["finance"],keywords:["bull","market","increasing","financial","economy","animal","stock"]},kae={name:"business-development",value:vXe,categories:["finance"],keywords:["business","development","global","worldwide","solutions","organisation","innovation","management"]},Aae={name:"calculator",value:yXe,categories:["finance"],keywords:["calculator","math","school","business","accounting"]},Mae={name:"cash",value:xXe,categories:["finance"],keywords:["cash","money","notes","bank","pay","payment","banknote","currency"]},Fae={name:"cash-alt",value:CXe,categories:["finance"],keywords:["cash","money","notes","bank","pay","payment","banknote","currency","usd","dollar"]},Pae={name:"cash-only",value:wXe,categories:["finance"],keywords:["cash","no card","payment","money","pay","cash only"]},Lae={name:"certificate",value:bXe,categories:["finance"],keywords:["certificate","medal","badge","seal","prize","award","guarantee","quality","stamp","warranty","collection"]},Oae={name:"commodities",value:_Xe,categories:["finance"],keywords:["commodities","oil","gold","trade","commodity","crude","market","price","invest"]},Bae={name:"credit-cards",value:SXe,categories:["finance"],keywords:["credit","debit","cards","payment","shopping","business","money","cash"]},Nae={name:"credit-control",value:IXe,categories:["finance"],keywords:["credit","control","watch","eye"]},Vae={name:"crowdfunding",value:DXe,categories:["finance"],keywords:["crowdfunding","mutual","fund","contribution","donation","money","usd","dollar","revenue","budget","fundraising"]},Hae={name:"debt",value:EXe,categories:["finance"],keywords:["debt","financial","usd","dollar","money","request"]},zae={name:"delivery",value:TXe,categories:["finance"],keywords:["delivery","truck","logistics","van","courier","shipping","service","vehicle"]},jae={name:"diamond-circled",value:RXe,categories:["finance"],keywords:["diamond","gem","precious","jewellery","circled","jewel","gemstone"]},Gae={name:"diamond",value:kXe,categories:["finance"],keywords:["diamond","gem","precious","jewellery","jewel","gemstone"]},qae={name:"discount",value:AXe,categories:["finance"],keywords:["discount","percent","percentage","sale","badge","off","%","rebate","subsidy"]},Wae={name:"dividents",value:MXe,categories:["finance"],keywords:["dividents","%","percent","percentage","income","rate","cut","intrest","investment"]},Uae={name:"dollar-circled",value:FXe,categories:["finance"],keywords:["usd","dollar","circled","currency"]},$ae={name:"drop-shipping",value:PXe,categories:["finance"],keywords:["drop","shipping","dropshipping","box","parachute","business","logistics","crate","air","supply","airdrop","fortnite","pubg","battle royale","delivery","package"]},Kae={name:"euro-circled",value:LXe,categories:["finance"],keywords:["eur","euro","circled","currency","eu"]},Yae={name:"face-id",value:OXe,categories:["finance"],keywords:["faceid","biometric","identity","security","face"]},Qae={name:"financial-insurance",value:BXe,categories:["finance"],keywords:["financial","insurance","business","money","protection","security"]},Xae={name:"foreign-exchange",value:NXe,categories:["finance"],keywords:["foreign","exchange","currency","forex","swap","trade","bank","dollar","usd","euro","eur","money","rate"]},Jae={name:"gift",value:VXe,categories:["finance"],keywords:["gift","present","box","christmas","bonus","give"]},Zae={name:"gold",value:HXe,categories:["finance"],keywords:[""]},ece={name:"idea-generation",value:zXe,categories:["finance"],keywords:["gold","business","currency","finance","gold bars","treasure","gold blocks","gold cubes","gold bricks","gold ingots","gold biscuits"]},tce={name:"invoice",value:jXe,categories:["finance"],keywords:["invoice","accounting","bill","business","document","file","billing","payment","purchase"]},ice={name:"legal-document",value:GXe,categories:["finance"],keywords:["legal","document","file","contract","paper","law","court"]},nce={name:"loan",value:qXe,categories:["finance"],keywords:["loan","collateral","convinience loan","mortgage","personal loan","lending","money","dollar","usd"]},sce={name:"money-bag",value:WXe,categories:["finance"],keywords:["money","bag","cash","coin","currency","dollar","usd","investment"]},rce={name:"oil",value:UXe,categories:["finance"],keywords:["oil","crude","commodities","barrel","oil container","petroleum"]},oce={name:"pay-date",value:$Xe,categories:["finance"],keywords:["pay date","calendar","salary","card","payday","payment","finance","schedule","plan","direct debit"]},lce={name:"piggy-bank",value:KXe,categories:["finance"],keywords:["piggy bank","money","save","savings","piggybank","business","cash","pig","coin","coins","bank","deposit","piglet"]},ace={name:"pound-circled",value:YXe,categories:["finance"],keywords:["gbp","pound","sterling","circled","currency"]},cce={name:"project-revenue",value:QXe,categories:["finance"],keywords:["project","revenue","turnover","income","dollar","usd","money","capital","earnings","profit","automation","make money"]},dce={name:"sale",value:XXe,categories:["finance"],keywords:["sale","circled","rebate","discount","deal","commerce","shopping","promo","flash","flashsale"]},hce={name:"security",value:JXe,categories:["finance"],keywords:["security","briefcase","case","guard","insurance","protection","shield","bag","luggage","document","save"]},uce={name:"security-alt",value:ZXe,categories:["finance"],keywords:["security","briefcase","usd","dollar","case","guard","insurance","protection","bag","luggage","document","save"]},pce={name:"strategy",value:eJe,categories:["finance"],keywords:["strategy","business","corporate","strategic","management","plan","planning","chess","game","play"]},gce={name:"wire-transfer",value:tJe,categories:["finance"],keywords:["wire","money","transfer","currency","exchange","euro","eur","dollar","usd","bank","payment","trade","transaction"]},fce={name:"yen-circled",value:iJe,categories:["finance"],keywords:["jpy","yen","circled","currency"]},mce=[Cae,vae,yae,xae,wae,bae,_ae,Sae,Iae,Dae,Eae,Tae,Rae,kae,Aae,Mae,Fae,Pae,Lae,Oae,Bae,Nae,Vae,Hae,zae,Gae,jae,qae,Wae,Uae,$ae,Kae,Yae,Qae,Xae,Jae,Zae,ece,tce,ice,nce,sce,rce,oce,lce,ace,cce,dce,hce,uce,pce,gce,fce];var nJe=L(2099),sJe=L(1156),rJe=L(6),oJe=L(4565),lJe=L(862),aJe=L(9044),cJe=L(4943),dJe=L(6589),hJe=L(1115),uJe=L(3956),pJe=L(9250),gJe=L(6405),fJe=L(562),mJe=L(3696),vJe=L(8603),yJe=L(1027),xJe=L(2517),CJe=L(5445),wJe=L(5458),bJe=L(2138),_Je=L(2816),SJe=L(9079),IJe=L(7237),DJe=L(1494),EJe=L(5802),TJe=L(3145),RJe=L(9082),kJe=L(4132),AJe=L(348),MJe=L(5963),FJe=L(9773),PJe=L(8314),LJe=L(2490),OJe=L(6941),BJe=L(8897),NJe=L(3143),VJe=L(2773),HJe=L(6138),zJe=L(4344),jJe=L(3603),GJe=L(8695),qJe=L(1535),WJe=L(5145),UJe=L(6934),$Je=L(3688),KJe=L(9712),YJe=L(5788),QJe=L(6864),XJe=L(623),JJe=L(171),ZJe=L(7982),eZe=L(7814),tZe=L(5832),iZe=L(8),nZe=L(7652),sZe=L(2281),rZe=L(5678),oZe=L(2554),lZe=L(4335),aZe=L(2888),cZe=L(1418),dZe=L(6282),hZe=L(3640),uZe=L(8183),pZe=L(5828),gZe=L(3562),fZe=L(4292),mZe=L(1920),vZe=L(256),yZe=L(4437),xZe=L(6913),CZe=L(8310);const vce={name:"accessibility",value:nJe,categories:["health"],keywords:["accessibility","wheelchair","disabled","handicapped","chairbound","impaired"]},yce={name:"aids-ribbon",value:sJe,categories:["health"],keywords:["aids","ribbon","hiv","care","community"]},xce={name:"ambulance",value:rJe,categories:["health"],keywords:["ambulance","car","medicine","emergency","vehicle","van","healthcare","medical","rescue"]},Cce={name:"anxiety",value:oJe,categories:["health"],keywords:["anxiety","brainstorm","mental","depression","despair","fatigue","pressure","stress","tension","worried"]},wce={name:"baby-bottle",value:lJe,categories:["health"],keywords:["baby","bottle","feeding","milk"]},bce={name:"bacteria",value:aJe,categories:["health"],keywords:["bacteria","virus","covid","coronavirus","microbe","germs","science","biology"]},_ce={name:"bandage",value:cJe,categories:["health"],keywords:["bandage","band","bandaid","plaster","aid","wound","first aid","healing"]},Sce={name:"biohazard",value:dJe,categories:["health"],keywords:["biohazard","waste"]},Ice={name:"blood",value:hJe,categories:["health"],keywords:["blood","drop","donation","droplet"]},Dce={name:"braille",value:uJe,categories:["health"],keywords:["braile","alphabet","blind","read","accessibility","impaired"]},Ece={name:"breastfeeding",value:pJe,categories:["health"],keywords:["breastfeeding","mother","nurse"]},Tce={name:"caduceus",value:gJe,categories:["health"],keywords:["caduceus","medical","asclepiuss","pharmacy","doctor","healthcare"]},Rce={name:"cancer-ribbon",value:fJe,categories:["health"],keywords:["cancer","ribbon","awareness","breast"]},kce={name:"clinic",value:mJe,categories:["health"],keywords:["clinic","hospital","medical","building","therapy","health center"]},Ace={name:"condom",value:vJe,categories:["health"],keywords:["condom","contraceptive","sex","hiv","latex","preservative","healthcare","sexual","safe"]},Mce={name:"condom-used",value:yJe,categories:["health"],keywords:["condom","contraceptive","sex","hiv","latex","preservative","healthcare","sexual","condom used","semen","sperm","safe"]},Fce={name:"contraception",value:xJe,categories:["health"],keywords:[""]},Pce={name:"coronavirus",value:CJe,categories:["health"],keywords:["coronavirus","virus","covid","pandemic","corona","germ","infection"]},Lce={name:"deafness",value:wJe,categories:["health"],keywords:["deafness","deaf","accessibility","hearing","impaired","ear"]},Oce={name:"dental-floss",value:bJe,categories:["health"],keywords:["dental floss","floss","dentist","tooth","care","flossing","oral","hygiene","teeth"]},Bce={name:"dental-implant",value:_Je,categories:["health"],keywords:["dental","dentist","implant","tooth","care","oral"]},Nce={name:"diabetes",value:SJe,categories:["health"],keywords:["diabetes","hand","finger","blood","healtcheck","endocrinology","blood test","blood drop","blood sugar","glucose"]},Vce={name:"dna",value:IJe,categories:["health"],keywords:["dna","genes","genome","biology","genetics"]},Hce={name:"doctors-bag",value:DJe,categories:["health"],keywords:["doctor","bag","briefcase","healthcare","first aid kit","medical box","medicine","emergency","medical","hospital","nurse"]},zce={name:"doctor",value:EJe,categories:["health"],keywords:["doctor","surgeon","physician","md","medical","nurse","gp","general practitioner"]},jce={name:"dose",value:TJe,categories:["health"],keywords:["dose","doseage","dropper","drop","tool","medicine","sample","eyedropper"]},Gce={name:"embryo",value:RJe,categories:["health"],keywords:["embryo","baby","fetus","motherhood","pregnancy","pregnant","maternity","mother"]},qce={name:"fertilization",value:kJe,categories:["health"],keywords:["fertilization","cell","insemination","ovulation","reproduction","sperm","egg"]},Wce={name:"fitness-watch",value:AJe,categories:["health"],keywords:["fitness","watch","smartwatch","fit band","heart rate","wearable","tracker","sport","diet"]},Uce={name:"gas-mask",value:MJe,categories:["health"],keywords:["gas","mask","protection","safety","chemical mask","industrial mask","respirator"]},$ce={name:"hearing-aid",value:FJe,categories:["health"],keywords:["hearing","aid","deaf","deafness","ear","earbuds","sound"]},Kce={name:"heart-care",value:PJe,categories:["health"],keywords:["heart","care","check"]},Yce={name:"heart-monitor",value:LJe,categories:["health"],keywords:["heart","pulse","cardiogram","beat","cardiac","healthcare"]},Qce={name:"hospital-bed",value:OJe,categories:["health"],keywords:["hospital","bed","care","medical"]},Xce={name:"hospital-sign",value:BJe,categories:["health"],keywords:["hospital","sign","medical","road sign"]},Jce={name:"hospital",value:NJe,categories:["health"],keywords:["hospital","clinic","medical","building","therapy","health center"]},Zce={name:"keep-away-from-children",value:VJe,categories:["health"],keywords:["keep away from children","keep away children","not suitable for children","no children","keep away from kids","keep away kids","not suitable for kids","no kids","keep away from babys","keep away babys","not suitable for babys","no babys"]},ede={name:"mask",value:HJe,categories:["health"],keywords:["mask","face mask","medical mask","shield mask","protective mask","dentist mask","covid","prevention"]},tde={name:"mask-alt",value:zJe,categories:["health"],keywords:["mask","face mask","medical mask","shield mask","protective mask","dentist mask","covid","prevention"]},ide={name:"massage",value:jJe,categories:["health"],keywords:["massage","spa","relax","body massage","treatment"]},nde={name:"medical-book",value:GJe,categories:["health"],keywords:["medical","book","notebook","healthcare","cross","medicine book","pharmacy book"]},sde={name:"medicine",value:qJe,categories:["health"],keywords:["medicine","drugs","medical","pill"]},rde={name:"microorganisms",value:WJe,categories:["health"],keywords:["microorganisms","bacteria","microbes","virus","biological","cell","biology"]},ode={name:"microscope",value:UJe,categories:["health"],keywords:["microscope","lab","biology","chemistry","instrument","science","education","learn"]},lde={name:"nurse",value:$Je,categories:["health"],keywords:["nurse","healthcare","medical","medical assistant","nursemaid"]},ade={name:"pacifier",value:KJe,categories:["health"],keywords:["pacifier","baby","child","children","kid","binky","dummy","nipple","soother","teether"]},cde={name:"pill",value:YJe,categories:["health"],keywords:["pill","drugs","medicine","capsule","medical","remedy","medicament","dragee","treatment","aid"]},dde={name:"plastic-surgery",value:QJe,categories:["health"],keywords:["plastic surgery","cosmetic surgery","esthetician"]},hde={name:"poop",value:XJe,categories:["health"],keywords:["poop","shit","crap","poo","faeces"]},ude={name:"pregnancy-no-alcohol",value:JJe,categories:["health"],keywords:["pregnancy","preagnant","no alcohol","no drinking","non-alcoholic","do not drink"]},pde={name:"pulse",value:ZJe,categories:["health"],keywords:["pulse","heartbeat","heartrate"]},gde={name:"radioactive",value:eZe,categories:["health"],keywords:["radioactive","biohazard","danger","radioactivity","radiation","nuke","atomic bomb","atom","nuclear","energy"]},fde={name:"rh-negative",value:tZe,categories:["health"],keywords:["blood","rh","negative","minus","blood group","blood type","rhesus","donorship"]},mde={name:"rh-positive",value:iZe,categories:["health"],keywords:["blood","rh","positive","plus","blood group","blood type","rhesus","donorship"]},vde={name:"rod-of-ascelepius",value:nZe,categories:["health"],keywords:["rod of ascelepius","staff of ascelepius","ascelepius"]},yde={name:"sign-language",value:sZe,categories:["health"],keywords:["sign","language","deaf","asl","deafness","mute","dumb"]},xde={name:"sneeze",value:rZe,categories:["health"],keywords:["sneeze","cough","covid","corona","coronavirus","flu","infection","sick","cold","hayfever"]},Cde={name:"stethoscope",value:oZe,categories:["health"],keywords:["stethoscope","line","doctor","medical","nurse","doctor","healthcare"]},wde={name:"stretcher",value:lZe,categories:["health"],keywords:["stretcher","aid","hospital","patient","medical","bed","cot","ambulance"]},bde={name:"syringe",value:aZe,categories:["health"],keywords:["syringe","medicine","doctor","nurse","drugs","injection","vaccine","vaccination","flu","medical","needle","shot"]},_de={name:"teeth",value:cZe,categories:["health"],keywords:["teeth","false teeth","tooth","set of teeth","dental","dentist","gums","dentistry"]},Sde={name:"thermometer",value:dZe,categories:["health"],keywords:["thermometer","temperature","weather","celsius","fahrenheit","gauge","science","measure","heat","cold","degree"]},Ide={name:"toilet-paper",value:hZe,categories:["health"],keywords:["toilet","paper","napkins","roll"]},Dde={name:"tooth-cracked",value:uZe,categories:["health"],keywords:["tooth","cracked tooth","caries","dental","dentist","broken tooth","damaged tooth","teeth"]},Ede={name:"tooth",value:pZe,categories:["health"],keywords:["tooth","teeth","dental","dentist"]},Tde={name:"veterinarian",value:gZe,categories:["health"],keywords:["veterinarian","vet","pet","animal","clinic","veterinary"]},Rde={name:"vial",value:fZe,categories:["health"],keywords:["vial","test tube","lab","sample","chemistry"]},kde={name:"virus-protection",value:mZe,categories:["health"],keywords:["virus","protection","shield","immunity","corona","coronavirus","covid","bacteria","safety","antivirus","hygiene","stop virus"]},Ade={name:"virus-stop",value:vZe,categories:["health"],keywords:["virus","stop virus","protection","corona","coronavirus","covid","bacteria","safety"]},Mde={name:"virus",value:yZe,categories:["health"],keywords:["virus","corona","coronavirus","covid","bacteria","flu"]},Fde={name:"visually-impaired",value:xZe,categories:["health"],keywords:["visually","impaired","blind","eye","sight"]},Pde={name:"weight-scale",value:CZe,categories:["health"],keywords:["weight","scale","measure","bathroom","bath","overweight","obesity","weighing","fitness","weightloss"]},Lde=[vce,yce,xce,Cce,wce,bce,_ce,Sce,Ice,Dce,Ece,Tce,Rce,kce,Ace,Mce,Fce,Pce,Lce,Oce,Bce,Nce,Vce,zce,Hce,jce,Gce,qce,Wce,Uce,$ce,Kce,Yce,Jce,Qce,Xce,Zce,ede,tde,ide,nde,sde,rde,ode,lde,ade,cde,dde,hde,ude,pde,gde,fde,mde,vde,yde,xde,Cde,wde,bde,_de,Sde,Ide,Ede,Dde,Tde,Rde,Mde,kde,Ade,Fde,Pde];var wZe=L(2563),bZe=L(8587),_Ze=L(1785),SZe=L(1612),IZe=L(8485),DZe=L(8106),EZe=L(3468),TZe=L(6680),RZe=L(2233),kZe=L(8593),AZe=L(8147),MZe=L(8901),FZe=L(1634),PZe=L(8535),LZe=L(3770),OZe=L(5299),BZe=L(7945),NZe=L(3437),VZe=L(6735),HZe=L(3550),zZe=L(4193),jZe=L(1092),GZe=L(2373),qZe=L(1147),WZe=L(5631),UZe=L(1197),$Ze=L(8422),KZe=L(5497),YZe=L(4989),QZe=L(7116),XZe=L(5488),JZe=L(3508),ZZe=L(9803),eet=L(7976),tet=L(6357),iet=L(2091),net=L(4131),set=L(2072),ret=L(564),oet=L(26),aet=L(4009),cet=L(1959),det=L(2e3),het=L(7823),uet=L(5105),pet=L(6508),get=L(8473),fet=L(4088),met=L(3150),vet=L(5826),yet=L(1316),xet=L(2402),Cet=L(6337),wet=L(5437),bet=L(8921);const Ode={name:"amazon",value:wZe,categories:["logos"],keywords:["amazon","ecommerce","online","shopping","logo","brand"]},Bde={name:"american-express",value:bZe,categories:["logos"],keywords:["americanexpress","amex","card","payment","finance","logo","brand"]},Nde={name:"apple-app-store",value:_Ze,categories:["logos"],keywords:["apple","appstore","apps","logo"]},Vde={name:"apple-pay",value:SZe,categories:["logos"],keywords:["apple","pay","payment","finance","logo"]},Hde={name:"apple",value:IZe,categories:["logos"],keywords:["apple","mac","iphone","ipad","iwatch","logo","brand"]},zde={name:"battlenet",value:DZe,categories:["logos"],keywords:["battlenet","bnet","gaming","blizzard","logo"]},jde={name:"bitcoin",value:EZe,categories:["logos","finance"],keywords:["bitcoin","crypto","currency","coin","cryptocurrency","logo"]},Gde={name:"blu-ray",value:TZe,categories:["logos"],keywords:["bluray","ray","entertainment","movie","logo","brand"]},qde={name:"box",value:RZe,categories:["logos"],keywords:["box","cloud","logo"]},Wde={name:"chrome",value:kZe,categories:["logos"],keywords:["chrome","browser","internet","google","logo"]},Ude={name:"diners-club",value:AZe,categories:["logos","finance"],keywords:["diners","club","dinersclub","card","payment","finance","logo","brand"]},$de={name:"discord",value:MZe,categories:["logos"],keywords:["discord","chat","social","logo"]},Kde={name:"dropbox",value:FZe,categories:["logos"],keywords:["dropbox","cloud","logo"]},Yde={name:"ebay",value:PZe,categories:["logos"],keywords:["ebay","ecommerce","online","shopping","marketplace","bidding","logo","brand"]},Qde={name:"ethereum",value:LZe,categories:["logos"],keywords:["ethereum","crypto","currency","coin","cryptocurrency","logo"]},Xde={name:"firefox",value:OZe,categories:["logos"],keywords:["firefox","browser","internet","mozilla","logo"]},Jde={name:"google-drive",value:BZe,categories:["logos"],keywords:["drive","google","googledrive","cloud","logo"]},Zde={name:"google-hangouts",value:NZe,categories:["logos"],keywords:["hangouts","google","googlehangouts","chat","conferencing","logo"]},ehe={name:"google-maps",value:VZe,categories:["logos"],keywords:["google","maps","navigation","logo"]},the={name:"google-pay",value:HZe,categories:["logos"],keywords:["google","pay","payment","finance","logo"]},ihe={name:"google-play",value:zZe,categories:["logos"],keywords:["google","play","store","playstore","apps","logo"]},nhe={name:"google",value:jZe,categories:["logos"],keywords:["google","g","logo","brand"]},she={name:"google-translate",value:GZe,categories:["logos"],keywords:["google","translate","language","logo"]},rhe={name:"internet-explorer",value:qZe,categories:["logos"],keywords:["explorer","browser","internet","microsoft","logo"]},ohe={name:"ios",value:WZe,categories:["logos"],keywords:["apple","ios","iphone","ipad","iwatch","programming","logo"]},lhe={name:"jsfiddle",value:UZe,categories:["logos"],keywords:["jsfiddle","code","programming","editor","snippet","logo"]},ahe={name:"maestro",value:$Ze,categories:["logos","finance"],keywords:["maestro","card","payment","finance","logo","brand"]},che={name:"mastercard",value:KZe,categories:["logos","finance"],keywords:["mastercard","card","payment","finance","logo","brand"]},dhe={name:"microsoft",value:YZe,categories:["logos"],keywords:["microsoft","windows","software","logo","brand"]},hhe={name:"ms-edge",value:QZe,categories:["logos"],keywords:["edge","browser","internet","microsoft","logo"]},uhe={name:"ms-excel",value:XZe,categories:["logos"],keywords:["excel","spreadsheet","microsoft","logo"]},phe={name:"ms-office",value:JZe,categories:["logos"],keywords:["office","365","microsoft","logo"]},ghe={name:"ms-powerpoint",value:ZZe,categories:["logos"],keywords:["powerpoint","slides","presentation","deck","microsoft","logo"]},fhe={name:"ms-teams",value:eet,categories:["logos"],keywords:["teams","communication","chat","conferencing","meeting","microsoft","logo"]},mhe={name:"ms-outlook",value:tet,categories:["logos"],keywords:["outlook","email","communication","microsoft","logo"]},vhe={name:"ms-word",value:iet,categories:["logos"],keywords:["word","microsoft","logo"]},yhe={name:"onedrive",value:net,categories:["logos"],keywords:["onedrive","cloud","microsoft","logo"]},xhe={name:"opera",value:set,categories:["logos"],keywords:["opera","browser","internet","logo","o","circle"]},Che={name:"paypal",value:ret,categories:["logos"],keywords:["paypal","payment","finance","logo"]},whe={name:"safari",value:oet,categories:["logos"],keywords:["safari","browser","internet","apple","logo","compass","dirctions","navigation"]},bhe={name:"sass",value:aet,categories:["logos"],keywords:["sass","logo"]},_he={name:"skype",value:cet,categories:["logos"],keywords:["skype","chat","meeting","conferencing","microsoft","logo"]},She={name:"slack",value:det,categories:["logos"],keywords:["slack","chat","communication","logo"]},Ihe={name:"soundcloud",value:het,categories:["logos"],keywords:["soundcloud","music","social","media","network","logo"]},Dhe={name:"spotify",value:uet,categories:["logos"],keywords:["spotify","music","network","logo"]},Ehe={name:"stackoverflow",value:pet,categories:["logos"],keywords:["stackoverflow","stack","overflow","social","media","programming","logo"]},The={name:"steam",value:get,categories:["logos"],keywords:["steam","gaming","games","social","media","logo"]},Rhe={name:"stripe",value:fet,categories:["logos"],keywords:["stripe","payment","finance","logo"]},khe={name:"tinder",value:met,categories:["logos"],keywords:["tinder","dating","chat","match","social","media","network","logo","flame"]},Ahe={name:"touch-id",value:vet,categories:["logos"],keywords:["touchid","touch","finger","fingerprint","biometric","identity","security","apple","logo"]},Mhe={name:"twitch",value:yet,categories:["logos"],keywords:["twitch","social","media","gaming","logo","cartoon","streaming"]},Fhe={name:"usb",value:xet,categories:["logos"],keywords:["usb","flash","drive","logo"]},Phe={name:"vimeo",value:Cet,categories:["logos"],keywords:["vimeo","video","social","media","network","logo"]},Lhe={name:"visa",value:wet,categories:["logos","finance"],keywords:["visa","card","payment","finance","logo","brand"]},Ohe={name:"vs-code",value:bet,categories:["logos"],keywords:["vscode","ide","programming","microsoft","logo"]},Bhe=[Ode,Bde,Hde,Nde,Vde,zde,jde,Gde,qde,Wde,Ude,$de,Kde,Yde,Qde,Xde,nhe,Jde,Zde,ehe,the,ihe,she,rhe,ohe,lhe,ahe,che,dhe,hhe,uhe,phe,mhe,ghe,fhe,vhe,yhe,xhe,Che,whe,bhe,_he,She,Ihe,Dhe,Ehe,The,Rhe,khe,Ahe,Mhe,Fhe,Phe,Lhe,Ohe];var _et=L(6872),Iet=L(2376),Det=L(7970),Eet=L(2859),Tet=L(2906),Ret=L(5536),ket=L(7566),Aet=L(5640),Met=L(5531),Fet=L(8213),Pet=L(1664),Let=L(1499),Oet=L(7799),Bet=L(7735),Net=L(3790),Vet=L(743),Het=L(6273),zet=L(8463),jet=L(185),Get=L(8007),qet=L(8280),Wet=L(3293),Uet=L(44),$et=L(8501),Ket=L(2681),Yet=L(1833),Qet=L(5321),Xet=L(5364),Jet=L(5199),Zet=L(5274);const Nhe={name:"api",value:_et,categories:["programming"],keywords:["api","development","interface","service","database","programming"]},Vhe={name:"app-symbol",value:Iet,categories:["programming"],keywords:["appsymbol","app","development","programming","circle","a"]},Hhe={name:"bug",value:Det,categories:["programming"],keywords:["bug","animal","insect","virus","malware","security","development","programming"]},zhe={name:"code-fork",value:Eet,categories:["programming"],keywords:["codefork","code","fork","git","github","development","collaboration","control","version","programming"]},jhe={name:"code-review",value:Tet,categories:["programming"],keywords:["codereview","review","software","app","development","programming"]},Ghe={name:"code",value:Ret,categories:["programming"],keywords:["code","script","source","development","programming"]},qhe={name:"terminal",value:ket,categories:["programming"],keywords:["terminal","console","code","bash","cmd","command","sh","shell","development","programming"]},Whe={name:"development",value:Aet,categories:["programming"],keywords:["puzzle","pieces","jigsaw","combination","play","game","toy","development","programming"]},Uhe={name:"file-changes",value:Met,categories:["programming"],keywords:["file","changes","plus","minus","development","programming"]},$he={name:"file-tree",value:Fet,categories:["programming"],keywords:["file","tree","hierarchy","files","system","levels","development","programming","chart","organize","structure","treeview"]},Khe={name:"git-branch",value:Pet,categories:["programming"],keywords:["git","branch","development","programming","commit","fork","split","code","collaboration"]},RH={name:"git-commit",value:Let,categories:["programming"],keywords:["git","commit","development","programming","pull","code","collaboration"]},ett={name:"git-compare",value:Oet,categories:["programming"],keywords:["git","compare","development","programming","code","collaboration"]},Yhe={name:"git-issue",value:Bet,categories:["programming"],keywords:["git","issue","development","programming","warning","exclamation"]},Qhe={name:"git-merge",value:Net,categories:["programming"],keywords:["git","merge","development","programming","code","collaboration"]},Xhe={name:"grid",value:Vet,categories:["programming"],keywords:["grid","table","development","programming","component","datatable"]},Jhe={name:"inspect-code",value:Het,categories:["programming"],keywords:["inspect","code","development","programming","marketing","markup","search","seo","review"]},Zhe={name:"milestone",value:zet,categories:["programming"],keywords:["milestone","sign","development","programming","travel","roadmap","tourism"]},eue={name:"code-value",value:jet,categories:["programming"],keywords:["code","value","development","programming","module","chip","cpu","electronics","equipment","hardware","iot"]},tue={name:"plugin",value:Get,categories:["programming"],keywords:["plugin","plug","development","programming","socket","connector","electricity"]},iue={name:"pull-request",value:qet,categories:["programming"],keywords:["pull","request","development","programming","git","commit","scheme"]},nue={name:"repository",value:Wet,categories:["programming"],keywords:["repo","repository","development","programming","cabinet","document","folder","storage"]},sue={name:"responsive-layout",value:Uet,categories:["programming"],keywords:["responsive","layout","development","programming","device","adaptive","screen","fluid"]},rue={name:"severity",value:$et,categories:["programming"],keywords:["severity","gauge","development","programming","indicator","speed","speedometer"]},oue={name:"software-architecture",value:Ket,categories:["programming"],keywords:["software","architecture","development","programming","horizontal"]},lue={name:"software-installer",value:Yet,categories:["programming"],keywords:["software","installer","development","programming","install","download"]},aue={name:"source-code",value:Qet,categories:["programming"],keywords:["source","code","development","programming","html","web"]},cue={name:"system-update",value:Xet,categories:["programming"],keywords:["system","update","development","programming","software","arrows","refresh","sync"]},due={name:"verified-account",value:Jet,categories:["programming"],keywords:["verified","account","development","programming","certified","verify","check","sign","badge","quality"]},hue={name:"workflow",value:Zet,categories:["programming"],keywords:["workflow","hierarchy","development","programming","organisation","process","diagram"]},uue=[Nhe,Vhe,Hhe,Ghe,zhe,eue,jhe,Whe,Uhe,$he,Khe,RH,RH,Yhe,Qhe,Xhe,Jhe,Zhe,tue,iue,nue,sue,rue,oue,lue,aue,cue,qhe,due,hue];var ttt=L(9075),itt=L(6637),ntt=L(3551),stt=L(3772),rtt=L(7292),ott=L(9834),ltt=L(3547),att=L(3264),ctt=L(1216),dtt=L(8629),htt=L(635),utt=L(7934),ptt=L(9089),gtt=L(8915),ftt=L(7374),mtt=L(3864),vtt=L(2927),ytt=L(3495);const pue={name:"behance",value:ttt,categories:["social media"],keywords:["behance","portfolio","social","media","network","logo","trademark"]},gue={name:"dribbble",value:itt,categories:["social media"],keywords:["dribbble","portfolio","basketball","social","media","network","logo","trademark"]},fue={name:"facebook-messenger",value:ntt,categories:["social media"],keywords:["facebook","messenger","chat","message","social","media","network","logo","trademark"]},mue={name:"facebook",value:stt,categories:["social media"],keywords:["facebook","social","media","network","logo","trademark"]},vue={name:"github",value:rtt,categories:["social media"],keywords:["github","repository","git","programming","social","media","network","logo","trademark"]},yue={name:"instagram",value:ott,categories:["social media"],keywords:["instagram","social","media","network","logo","trademark"]},xue={name:"linkedin",value:ltt,categories:["social media"],keywords:["linkedin","professional","recruiting","job","employment","social","media","network","logo","trademark"]},Cue={name:"medium",value:att,categories:["social media"],keywords:["medium","blog","article","social","media","network","logo","trademark"]},wue={name:"pinterest",value:ctt,categories:["social media"],keywords:["pinterest","social","media","network","logo","trademark"]},bue={name:"reddit",value:dtt,categories:["social media"],keywords:["reddit","social","media","network","logo","trademark"]},_ue={name:"snapchat",value:htt,categories:["logos","social media"],keywords:["snapchat","ghost","social","media","network","logo","trademark"]},Sue={name:"telegram",value:utt,categories:["logos","social media"],keywords:["telegram","messenger","chat","message","social","media","network","logo","trademark"]},Iue={name:"tiktok",value:ptt,categories:["social media"],keywords:["tiktok","social","media","network","logo","trademark"]},Due={name:"twitter",value:gtt,categories:["social media"],keywords:["twitter","social","media","network","logo","trademark"]},Eue={name:"viber",value:ftt,categories:["social media"],keywords:["viber","messenger","chat","message","social","media","network","logo","trademark"]},Tue={name:"wechat",value:mtt,categories:["social media"],keywords:["wechat","messenger","chat","message","social","media","network","logo","trademark"]},Rue={name:"whatsapp",value:vtt,categories:["social media"],keywords:["whatsapp","messenger","chat","message","social","media","network","logo","trademark"]},kue={name:"youtube",value:ytt,categories:["social media"],keywords:["youtube","video","stream","social","media","network","logo","trademark"]},Aue=[pue,gue,fue,mue,vue,yue,xue,Cue,wue,bue,_ue,Sue,Iue,Due,Eue,Tue,Rue,kue];var cA,kH,Ol;(Ol=cA||(cA={}))[Ol.construction=0]="construction",Ol[Ol.content=1]="content",Ol[Ol.editor=2]="editor",Ol[Ol.election=3]="election",Ol[Ol.finance=4]="finance",Ol[Ol.health=5]="health",Ol[Ol.logos=6]="logos",Ol[Ol.programming=7]="programming",Ol[Ol["social media"]=8]="social media",function(Ol){Ol.values=function(){return Object.keys(cA).filter(Ctt=>!function(Mue){const Fue=~~Number(Mue);return String(Fue)===Mue&&Fue>=0}(Ctt))}}(kH||(kH={}));const xtt=[...xe,...Noe,...Vle,...mae,...mce,...Lde,...Bhe,...uue,...Aue]})(),_t(823);var bm=(()=>{return(r=bm||(bm={}))[r.Quad="cubic-bezier(0.550, 0.085, 0.680, 0.530)"]="Quad",r[r.Cubic="cubic-bezier(0.550, 0.055, 0.675, 0.190)"]="Cubic",r[r.Quart="cubic-bezier(0.895, 0.030, 0.685, 0.220)"]="Quart",r[r.Quint="cubic-bezier(0.755, 0.050, 0.855, 0.060)"]="Quint",r[r.Sine="cubic-bezier(0.470, 0.000, 0.745, 0.715)"]="Sine",r[r.Expo="cubic-bezier(0.950, 0.050, 0.795, 0.035)"]="Expo",r[r.Circ="cubic-bezier(0.600, 0.040, 0.980, 0.335)"]="Circ",r[r.Back="cubic-bezier(0.600, -0.280, 0.735, 0.045)"]="Back",bm;var r})(),lc=(()=>{return(r=lc||(lc={}))[r.Quad="cubic-bezier(0.250, 0.460, 0.450, 0.940)"]="Quad",r[r.Cubic="cubic-bezier(0.215, 0.610, 0.355, 1.000)"]="Cubic",r[r.Quart="cubic-bezier(0.165, 0.840, 0.440, 1.000)"]="Quart",r[r.Quint="cubic-bezier(0.230, 1.000, 0.320, 1.000)"]="Quint",r[r.Sine="cubic-bezier(0.390, 0.575, 0.565, 1.000)"]="Sine",r[r.Expo="cubic-bezier(0.190, 1.000, 0.220, 1.000)"]="Expo",r[r.Circ="cubic-bezier(0.075, 0.820, 0.165, 1.000)"]="Circ",r[r.Back="cubic-bezier(0.175, 0.885, 0.320, 1.275)"]="Back",lc;var r})(),ek=(()=>{return(r=ek||(ek={}))[r.Quad="cubic-bezier(0.455, 0.030, 0.515, 0.955)"]="Quad",r[r.Cubic="cubic-bezier(0.645, 0.045, 0.355, 1.000)"]="Cubic",r[r.Quart="cubic-bezier(0.770, 0.000, 0.175, 1.000)"]="Quart",r[r.Quint="cubic-bezier(0.860, 0.000, 0.070, 1.000)"]="Quint",r[r.Sine="cubic-bezier(0.445, 0.050, 0.550, 0.950)"]="Sine",r[r.Expo="cubic-bezier(1.000, 0.000, 0.000, 1.000)"]="Expo",r[r.Circ="cubic-bezier(0.785, 0.135, 0.150, 0.860)"]="Circ",r[r.Back="cubic-bezier(0.680, -0.550, 0.265, 1.550)"]="Back",ek;var r})();const Mne=[$n({opacity:"{{startOpacity}}"}),zu("{{duration}} {{delay}} {{easing}}",$n({opacity:"{{endOpacity}}"}))],_m=(ft(Mne,{params:{delay:"0s",duration:"350ms",easing:lc.Sine,endOpacity:1,startOpacity:0}}),ft(Mne,{params:{delay:"0s",duration:"350ms",easing:lc.Sine,endOpacity:0,startOpacity:1}}),[$n({backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),zu("{{duration}} {{delay}} {{easing}}",X_([$n({offset:0,transform:"translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)"}),$n({offset:1,transform:"translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)"})]))]),Sm={delay:"0s",duration:"600ms",easing:lc.Quad,endAngle:180,endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px"},$r=(ft(_m,{params:Object.assign({},Sm)}),ft(_m,{params:Object.assign(Object.assign({},Sm),{endAngle:-180})}),ft(_m,{params:Object.assign(Object.assign({},Sm),{rotateX:0,rotateY:1})}),ft(_m,{params:Object.assign(Object.assign({},Sm),{endAngle:-180,rotateX:0,rotateY:1})}),ft(_m,{params:Object.assign(Object.assign({},Sm),{endDistance:"170px"})}),ft(_m,{params:Object.assign(Object.assign({},Sm),{endDistance:"-170px"})}),ft(_m,{params:Object.assign(Object.assign({},Sm),{endDistance:"170px",rotateX:0,rotateY:1})}),ft(_m,{params:Object.assign(Object.assign({},Sm),{endDistance:"-170px",rotateX:0,rotateY:1})}),[$n({opacity:"{{startOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),zu("{{duration}} {{delay}} {{easing}}",$n({offset:0,opacity:"{{endOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))]),wd={delay:"0s",duration:"600ms",easing:lc.Quad,endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center"},nh=Object.assign(Object.assign({},wd),{easing:bm.Quad,endOpacity:0,startOpacity:1}),Gu=(ft($r,{params:Object.assign({},wd)}),ft($r,{params:Object.assign({},nh)}),ft($r,{params:Object.assign(Object.assign({},wd),{xPos:"top"})}),ft($r,{params:Object.assign(Object.assign({},nh),{xPos:"top"})}),ft($r,{params:Object.assign(Object.assign({},wd),{xPos:"right"})}),ft($r,{params:Object.assign(Object.assign({},nh),{xPos:"right"})}),ft($r,{params:Object.assign(Object.assign({},wd),{xPos:"bottom"})}),ft($r,{params:Object.assign(Object.assign({},nh),{xPos:"bottom"})}),ft($r,{params:Object.assign(Object.assign({},wd),{xPos:"left"})}),ft($r,{params:Object.assign(Object.assign({},nh),{xPos:"left"})}),ft($r,{params:Object.assign(Object.assign({},wd),{xPos:"right",yPos:"top"})}),ft($r,{params:Object.assign(Object.assign({},nh),{xPos:"right",yPos:"top"})}),ft($r,{params:Object.assign(Object.assign({},wd),{xPos:"right",yPos:"bottom"})}),ft($r,{params:Object.assign(Object.assign({},nh),{xPos:"right",yPos:"bottom"})}),ft($r,{params:Object.assign(Object.assign({},wd),{xPos:"left",yPos:"bottom"})}),ft($r,{params:Object.assign(Object.assign({},nh),{xPos:"left",yPos:"bottom"})}),ft($r,{params:Object.assign(Object.assign({},wd),{xPos:"left",yPos:"top"})}),ft($r,{params:Object.assign(Object.assign({},nh),{xPos:"left",yPos:"top"})}),ft($r,{params:Object.assign(Object.assign({},wd),{rotateX:1,rotateY:1,rotateZ:0})}),ft($r,{params:Object.assign(Object.assign({},nh),{rotateX:1,rotateY:1,rotateZ:0})}),ft($r,{params:Object.assign(Object.assign({},wd),{rotateX:-1,rotateY:1,rotateZ:0})}),ft($r,{params:Object.assign(Object.assign({},nh),{rotateX:-1,rotateY:1,rotateZ:0})}),ft($r,{params:Object.assign(Object.assign({},wd),{rotateX:0,rotateY:1,rotateZ:0})}),ft($r,{params:Object.assign(Object.assign({},nh),{rotateX:0,rotateY:1,rotateZ:0})}),ft($r,{params:Object.assign(Object.assign({},wd),{rotateX:1,rotateY:0,rotateZ:0})}),ft($r,{params:Object.assign(Object.assign({},nh),{rotateX:1,rotateY:0,rotateZ:0})}),[zu("{{duration}} {{delay}} {{easing}}",X_([$n({offset:0,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"}),$n({offset:.1,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})"}),$n({offset:.2,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),$n({offset:.3,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),$n({offset:.4,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),$n({offset:.5,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),$n({offset:.6,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),$n({offset:.7,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),$n({offset:.8,transform:"rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})"}),$n({offset:.9,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})"}),$n({offset:1,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"})]))]),qu={delay:"0s",direction:"X",duration:"800ms",easing:ek.Quad,endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"},xWe=(ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"X"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"top"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"bottom"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"center"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"center"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y",endAngle:8,endDistance:"0",startAngle:10,startDistance:"0",xPos:"center",yPos:"center"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"top"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"bottom"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"bottom"})}),ft(Gu,{params:Object.assign(Object.assign({},qu),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"top"})}),[$n({animationTimingFunction:"ease-out",transform:"scale(1)",transformOrigin:"center center"}),zu("{{duration}} {{delay}} {{easing}}",X_([$n({animationTimingFunction:"ease-in",offset:.1,transform:"scale(0.91)"}),$n({animationTimingFunction:"ease-out",offset:.17,transform:"scale(0.98)"}),$n({animationTimingFunction:"ease-in",offset:.33,transform:"scale(0.87)"}),$n({animationTimingFunction:"ease-out",offset:.45,transform:"scale(1)"})]))]),ese=[zu("{{duration}} {{delay}} {{easing}}",X_([$n({offset:0,transform:"scale({{fromScale}})"}),$n({offset:.5,transform:"scale({{toScale}})"}),$n({offset:1,transform:"scale({{fromScale}})"})]))],tse={delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:1.1},wWe=[zu("{{duration}} {{delay}} {{easing}}",X_([$n({offset:0,opacity:.8,transform:"scale({{fromScale}})"}),$n({offset:.8,opacity:0,transform:"scale({{midScale}})"}),$n({offset:1,opacity:0,transform:"scale({{toScale}})"})]))],Js=(ft(ese,{params:Object.assign({},tse)}),ft(ese,{params:Object.assign(Object.assign({},tse),{toScale:.9})}),ft(xWe,{params:Object.assign({},{delay:"0s",duration:"1.5s",easing:"ease-in-out"})}),ft(wWe,{params:Object.assign({},{delay:"0s",duration:".8s",easing:"ease-in-out",fromScale:.2,midScale:1.2,toScale:2.2})}),[$n({opacity:"{{startOpacity}}",transform:"scale{{direction}}({{fromScale}})",transformOrigin:"{{xPos}} {{yPos}}"}),zu("{{duration}} {{delay}} {{easing}}",$n({opacity:"{{endOpacity}}",transform:"scale{{direction}}({{toScale}})",transformOrigin:"{{xPos}} {{yPos}}"}))]),ac={delay:"0s",direction:"",duration:"350ms",easing:lc.Quad,endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%"},jc=Object.assign(Object.assign({},ac),{easing:lc.Sine,endOpacity:0,fromScale:1,startOpacity:1,toScale:.5}),cc=(ft(Js,{params:ac}),ft(Js,{params:Object.assign(Object.assign({},ac),{xPos:"0",yPos:"100%"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{direction:"Y",fromScale:.4})}),ft(Js,{params:Object.assign(Object.assign({},ac),{xPos:"50%",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{xPos:"0",yPos:"50%"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{direction:"Y",fromScale:.4,xPos:"100%",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{xPos:"100%",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{xPos:"0",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{direction:"Y",fromScale:.4,xPos:"0",yPos:"100%"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{xPos:"100%",yPos:"50%"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{direction:"X",fromScale:.4})}),ft(Js,{params:Object.assign(Object.assign({},ac),{xPos:"100%",yPos:"100%"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{direction:"X",fromScale:.4,xPos:"0",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{xPos:"50%",yPos:"100%"})}),ft(Js,{params:Object.assign(Object.assign({},ac),{direction:"X",fromScale:.4,xPos:"100%",yPos:"100%"})}),ft(Js,{params:jc}),ft(Js,{params:Object.assign(Object.assign({},jc),{xPos:"0",yPos:"100%"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{xPos:"100%",yPos:"100%"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{direction:"Y",toScale:.3})}),ft(Js,{params:Object.assign(Object.assign({},jc),{direction:"Y",toScale:.3,xPos:"100%",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{direction:"Y",toScale:.3,xPos:"0",yPos:"100%"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{xPos:"50%",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{xPos:"0",yPos:"50%"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{xPos:"100%",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{xPos:"0",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{xPos:"100%",yPos:"50%"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{xPos:"50%",yPos:"100%"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{direction:"X",toScale:.3})}),ft(Js,{params:Object.assign(Object.assign({},jc),{direction:"X",toScale:.3,xPos:"0",yPos:"0"})}),ft(Js,{params:Object.assign(Object.assign({},jc),{direction:"X",toScale:.3,xPos:"100%",yPos:"100%"})}),[$n({opacity:"{{startOpacity}}",transform:"{{fromPosition}}"}),zu("{{duration}} {{delay}} {{easing}}",$n({opacity:"{{endOpacity}}",transform:"{{toPosition}}"}))]),tS={delay:"0s",duration:"350ms",easing:lc.Quad,endOpacity:1,fromPosition:"translateY(-500px)",startOpacity:0,toPosition:"translateY(0)"},xv={delay:"0s",duration:"350ms",easing:bm.Quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(-500px)"},dc=(ft(cc,{params:tS}),ft(cc,{params:{delay:"0s",duration:"350ms",easing:lc.Quad,endOpacity:1,fromPosition:"translateX(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),ft(cc,{params:{delay:"0s",duration:"350ms",easing:lc.Quad,endOpacity:1,fromPosition:"translateX(500px)",startOpacity:0,toPosition:"translateY(0)"}}),ft(cc,{params:{delay:"0s",duration:"350ms",easing:lc.Quad,endOpacity:1,fromPosition:"translateY(500px)",startOpacity:0,toPosition:"translateY(0)"}}),ft(cc,{params:Object.assign(Object.assign({},tS),{fromPosition:"translateY(-500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),ft(cc,{params:Object.assign(Object.assign({},tS),{fromPosition:"translateY(-500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),ft(cc,{params:Object.assign(Object.assign({},tS),{fromPosition:"translateY(500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),ft(cc,{params:Object.assign(Object.assign({},tS),{fromPosition:"translateY(500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),ft(cc,{params:xv}),ft(cc,{params:Object.assign(Object.assign({},xv),{toPosition:"translateX(500px)"})}),ft(cc,{params:{delay:"0s",duration:"350ms",easing:bm.Quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(500px)"}}),ft(cc,{params:Object.assign(Object.assign({},xv),{toPosition:"translateX(-500px)"})}),ft(cc,{params:Object.assign(Object.assign({},xv),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(500px)"})}),ft(cc,{params:Object.assign(Object.assign({},xv),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(500px)"})}),ft(cc,{params:Object.assign(Object.assign({},xv),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(-500px)"})}),ft(cc,{params:Object.assign(Object.assign({},xv),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(-500px)"})}),[$n({opacity:"{{startOpacity}}",transform:"rotate{{direction}}({{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),zu("{{duration}} {{delay}} {{easing}}",$n({opacity:"{{endOpacity}}",transform:"rotate{{direction}}({{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))]),Wg={delay:"0s",direction:"X",duration:".5s",easing:lc.Back,endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,xPos:"top",yPos:"center"},Im=Object.assign(Object.assign({},Wg),{duration:".55s",easing:bm.Back,endAngle:70,endOpacity:0,startAngle:0,startOpacity:1}),use=(ft(dc,{params:Object.assign({},Wg)}),ft(dc,{params:Object.assign(Object.assign({},Wg),{direction:"Y",xPos:"center",yPos:"right"})}),ft(dc,{params:Object.assign(Object.assign({},Wg),{startAngle:100,xPos:"bottom"})}),ft(dc,{params:Object.assign(Object.assign({},Wg),{direction:"Y",startAngle:100,xPos:"center",yPos:"left"})}),ft(dc,{params:Object.assign(Object.assign({},Wg),{duration:".6s",startAngle:70})}),ft(dc,{params:Object.assign(Object.assign({},Wg),{direction:"Y",duration:".6s",startAngle:70,xPos:"center",yPos:"right"})}),ft(dc,{params:Object.assign(Object.assign({},Wg),{duration:".6s",startAngle:-70,xPos:"bottom"})}),ft(dc,{params:Object.assign(Object.assign({},Wg),{direction:"Y",duration:".6s",startAngle:-70,xPos:"center",yPos:"left"})}),ft(dc,{params:Object.assign({},Im)}),ft(dc,{params:Object.assign(Object.assign({},Im),{direction:"Y",xPos:"center",yPos:"right"})}),ft(dc,{params:Object.assign(Object.assign({},Im),{endAngle:-70,xPos:"bottom"})}),ft(dc,{params:Object.assign(Object.assign({},Im),{direction:"Y",endAngle:-70,xPos:"center",yPos:"left"})}),ft(dc,{params:Object.assign(Object.assign({},Im),{duration:".45s",endAngle:-100})}),ft(dc,{params:Object.assign(Object.assign({},Im),{direction:"Y",duration:".45s",endAngle:-100,xPos:"center",yPos:"right"})}),ft(dc,{params:Object.assign(Object.assign({},Im),{duration:".45s",endAngle:100,xPos:"bottom"})}),ft(dc,{params:Object.assign(Object.assign({},Im),{direction:"Y",duration:".45s",endAngle:100,xPos:"center",yPos:"left"})}),[$n({opacity:"{{ startOpacity }}",height:"{{ startHeight }}"}),zu("{{duration}} {{delay}} {{easing}}",$n({opacity:"{{ endOpacity }}",height:"{{ endHeight }}"}))]),pse={delay:"0s",duration:"350ms",easing:bm.Quad,startOpacity:0,endOpacity:1,startHeight:"",endHeight:""};ft(use,{params:Object.assign(Object.assign({},pse),{easing:lc.Quad,startOpacity:0,endOpacity:1,startHeight:"0px",endHeight:"*"})}),ft(use,{params:Object.assign(Object.assign({},pse),{easing:lc.Quad,startOpacity:1,endOpacity:0,startHeight:"*",endHeight:"0px"})});let _We=(()=>{class r{constructor(){this.navs={}}add(t,i){this.navs[t]=i}remove(t){delete this.navs[t]}get(t){if(t)return this.navs[t]}toggle(t,...i){if(this.navs[t])return this.navs[t].toggle(...i)}open(t,...i){if(this.navs[t])return this.navs[t].open(...i)}close(t,...i){if(this.navs[t])return this.navs[t].close(...i)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();const Xo=r=>{if(Tk(r))return new Date(r.getTime());if(Array.isArray(r))return[...r];if(r instanceof Map||r instanceof Set)return r;if(kC(r)){const e={};for(const t of Object.keys(r))e[t]=Xo(r[t]);return e}return r},kC=r=>!(!r||"[object Object]"!==r.toString()),Tk=r=>r instanceof Date,mse=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]),MWe=(new Set("up down arrowup arrowdown home end".split(" ")),new Set("right down arrowright arrowdown".split(" ")),new Set("left up arrowleft arrowup".split(" ")),new Set(["+","add","\u2260","\xb1","="])),Dm=(Array.from(mse),Array.from(MWe),Array.from(mse),(r,e)=>{var t;const i=null!==(t=null==e?void 0:e.split("."))&&void 0!==t?t:[];let n=r[i.shift()];return i.forEach(s=>{n&&(n=n[s])}),n}),HWe=new AG(void 0).transform;var AC=(()=>{return(r=AC||(AC={}))[r.None=0]="None",r[r.Asc=1]="Asc",r[r.Desc=2]="Desc",AC;var r})();const Ia_String="string",Ia_Number="number",Ia_Date="date",Ia_DateTime="dateTime",Ia_Time="time",Ia_Currency="currency",Ia_Percent="percent";class Gh{constructor(e,t){this.filteringOperands=[],this.operator=e,this.fieldName=t}static empty(e){return!e||!e.filteringOperands||!e.filteringOperands.length}find(e){const t=this.findIndex(e);return t>-1?this.filteringOperands[t]:null}findIndex(e){let t;for(let i=0;i<this.filteringOperands.length;i++)if(t=this.filteringOperands[i],t instanceof Gh){if(this.isFilteringExpressionsTreeForColumn(t,e))return i}else if(t.fieldName===e)return i;return-1}isFilteringExpressionsTreeForColumn(e,t){if(e.fieldName===t)return!0;for(const i of e.filteringOperands)return i instanceof Gh?this.isFilteringExpressionsTreeForColumn(i,t):i.fieldName===t;return!1}}var MC=(()=>{return(r=MC||(MC={}))[r.And=0]="And",r[r.Or=1]="Or",MC;var r})();let Ise=(()=>{class r extends class UWe{findMatchByExpression(e,t,i,n,s){const o=t.condition,l=this.getFieldValue(e,t.fieldName,i,n,s);return o.logic(l,t.searchVal,t.ignoreCase)}matchRecord(e,t,i){if(t){if(t instanceof Gh){const n=t,s=n.operator;let o;if(n.filteringOperands&&n.filteringOperands.length){for(const l of n.filteringOperands){if(o=this.matchRecord(e,l,i),!o&&s===MC.And)return!1;if(o&&s===MC.Or)return!0}return o}return!0}{const n=t,s=i&&i.getColumnByName(n.fieldName);return this.findMatchByExpression(e,n,!!s&&("date"===s.dataType||"dateTime"===s.dataType),!!s&&"time"===s.dataType,i)}}return!0}getFilterItems(e,t){let i=e.grid.gridAPI.filterDataByExpressions(t);i=e.grid.gridAPI.sortDataByExpressions(i,[{fieldName:e.field,dir:AC.Asc,ignoreCase:e.sortingIgnoreCase}]);const n=e.field;let s=i.map(o=>{let l=Dm(o,n);const a=e.formatter&&this.shouldFormatFilterValues(e);return l=a?e.formatter(l,o):l,{value:l,label:this.getFilterItemLabel(e,l,!a,o)}});return s=this.getUniqueFilterItems(e,s),Promise.resolve(s)}getFilterItemLabel(e,t,i,n){if(e.formatter)return i?e.formatter(t,n):t;const{display:s,format:o,digitsInfo:l,currencyCode:a,timezone:c}=e.pipeArgs,d=e.grid.locale;switch(e.dataType){case Ia_Date:case Ia_DateTime:case Ia_Time:return((r,e,t,i)=>null==r?"":vG(r,e,t,i))(t,o,d,c);case Ia_Currency:return HWe(t,a||function pCe(r){return function ove(r){return xc(r)[oi.CurrencyCode]||null}(r)}(d),s,l,d);case Ia_Number:return function SG(r,e,t){return a3(r,c3(n3(e,ed.Decimal),vh(e,Gi.MinusSign)),e,Gi.Group,Gi.Decimal,t)}(t,d,l);case Ia_Percent:return function _G(r,e,t){return a3(r,c3(n3(e,ed.Percent),vh(e,Gi.MinusSign)),e,Gi.Group,Gi.Decimal,t,!0).replace(new RegExp("%","g"),vh(e,Gi.PercentSign))}(t,d,l);default:return t}}getUniqueFilterItems(e,t){const i=t.reduce((s,o)=>{var l;let a=o.value;if(e.dataType===Ia_String&&e.filteringIgnoreCase)a=null==a?void 0:a.toString().toLowerCase();else if(e.dataType===Ia_DateTime)a=null===(l=o.value)||void 0===l?void 0:l.toString(),o.value=a&&new Date(a);else if(e.dataType===Ia_Time){const c=a&&new Date(a);a=c?(new Date).setHours(c.getHours(),c.getMinutes(),c.getSeconds()):a,o.value=a&&new Date(a)}else if(e.dataType===Ia_Date){const c=a&&new Date(a);a=c?new Date(c.getFullYear(),c.getMonth(),c.getDate()).toISOString():a,o.value=c}return s.has(a)?s:s.set(a,o)},new Map);return Array.from(i.values())}shouldFormatFilterValues(e){return!1}}{constructor(){super()}static instance(){return this._instance||(this._instance=new this)}filter(t,i,n,s){let o,l;const a=t.length,c=[];if(Gh.empty(i)&&Gh.empty(n)||!a)return t;for(o=0;o<a;o++)l=t[o],this.matchRecord(l,i,s)&&this.matchRecord(l,n,s)&&c.push(l);return c}getFieldValue(t,i,n=!1,s=!1,o){const l=null==o?void 0:o.getColumnByName(i);let a=Dm(t,i);return a=(null==l?void 0:l.formatter)&&this.shouldFormatFilterValues(l)?l.formatter(a,t):a&&(n||s)?(r=>Tk(r)?isNaN(r.getTime())?null:r:r?new Date(r):null)(a):a,a}}return r._instance=null,r})(),LC=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[_We]}),r})();new Ui("IgxDropDownBaseToken");let xUe=(()=>{class r{constructor(){this.selection=new Map}get(t){return this.selection.get(t)}set(t,i){if(!t)throw Error("Invalid value for component id!");this.selection.set(t,i)}clear(t){this.selection.set(t,this.get_empty())}size(t){const i=this.get(t);return i?i.size:0}add_item(t,i,n){if(n||(n=new Set(this.get(t))),void 0===n&&(n=this.get_empty()),!i&&0!==i)throw Error("Invalid value for item id!");return n.add(i),n}add_items(t,i,n){let s;return n?s=this.get_empty():i&&0===i.length&&(s=new Set(this.get(t))),i.forEach(o=>s=this.add_item(t,o,s)),s}select_item(t,i,n){this.set(t,this.add_item(t,i,n))}select_items(t,i,n){this.set(t,this.add_items(t,i,n))}delete_item(t,i,n){if(n||(n=new Set(this.get(t))),void 0!==n)return n.delete(i),n}delete_items(t,i){let n;return i.forEach(s=>n=this.delete_item(t,s,n)),n}deselect_item(t,i,n){this.set(t,this.delete_item(t,i,n))}deselect_items(t,i,n){this.set(t,this.delete_items(t,i))}is_item_selected(t,i){const n=this.get(t);return!!n&&n.has(i)}first_item(t){const i=this.get(t);if(i&&i.size>0)return i.values().next().value}are_all_selected(t,i){return i>0&&i===this.size(t)}are_none_selected(t){return 0===this.size(t)}get_all_ids(t,i){return null!=i?t.map(n=>n[i]):t}get_empty(){return new Set}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();new Ui("DisplayDensity");let CUe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),N6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[CUe,Kt]]}),r})(),Mk=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,LC]]}),r})();const hc={GridResStrings:Xo({igx_grid_groupByArea_message:"Drag a column header and drop it here to group by that column.",igx_grid_groupByArea_select_message:"Select all rows in the group with field name {0} and value {1}.",igx_grid_groupByArea_deselect_message:"Deselect all rows in the group with field name {0} and value {1}.",igx_grid_emptyFilteredGrid_message:"No records found.",igx_grid_emptyGrid_message:"Grid has no data.",igx_grid_filter:"Filter",igx_grid_filter_row_close:"Close",igx_grid_filter_row_reset:"Reset",igx_grid_filter_row_placeholder:"Add filter value",igx_grid_filter_row_boolean_placeholder:"All",igx_grid_filter_row_date_placeholder:"Pick up date",igx_grid_filter_row_time_placeholder:"Pick up time",igx_grid_filter_operator_and:"And",igx_grid_filter_operator_or:"Or",igx_grid_complex_filter:"Complex Filter",igx_grid_filter_contains:"Contains",igx_grid_filter_doesNotContain:"Does Not Contain",igx_grid_filter_startsWith:"Starts With",igx_grid_filter_endsWith:"Ends With",igx_grid_filter_equals:"Equals",igx_grid_filter_doesNotEqual:"Does Not Equal",igx_grid_filter_empty:"Empty",igx_grid_filter_notEmpty:"Not Empty",igx_grid_filter_null:"Null",igx_grid_filter_notNull:"Not Null",igx_grid_filter_before:"Before",igx_grid_filter_after:"After",igx_grid_filter_at:"At",igx_grid_filter_not_at:"Not At",igx_grid_filter_at_before:"At or Before",igx_grid_filter_at_after:"At or After",igx_grid_filter_today:"Today",igx_grid_filter_yesterday:"Yesterday",igx_grid_filter_thisMonth:"This Month",igx_grid_filter_lastMonth:"Last Month",igx_grid_filter_nextMonth:"Next Month",igx_grid_filter_thisYear:"This Year",igx_grid_filter_lastYear:"Last Year",igx_grid_filter_nextYear:"Next Year",igx_grid_filter_greaterThan:"Greater Than",igx_grid_filter_lessThan:"Less Than",igx_grid_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_grid_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_grid_filter_true:"True",igx_grid_filter_false:"False",igx_grid_filter_all:"All",igx_grid_filter_condition_placeholder:"Select filter",igx_grid_summary_count:"Count",igx_grid_summary_min:"Min",igx_grid_summary_max:"Max",igx_grid_summary_sum:"Sum",igx_grid_summary_average:"Avg",igx_grid_summary_earliest:"Earliest",igx_grid_summary_latest:"Latest",igx_grid_excel_filter_moving_left:"move left",igx_grid_excel_filter_moving_left_short:"left",igx_grid_excel_filter_moving_right:"move right",igx_grid_excel_filter_moving_right_short:"right",igx_grid_excel_filter_moving_header:"move",igx_grid_excel_filter_sorting_asc:"ascending",igx_grid_excel_filter_sorting_asc_short:"asc",igx_grid_excel_filter_sorting_desc:"descending",igx_grid_excel_filter_sorting_desc_short:"desc",igx_grid_excel_filter_sorting_header:"sort",igx_grid_excel_filter_clear:"Clear column filters",igx_grid_excel_custom_dialog_add:"add filter",igx_grid_excel_custom_dialog_clear:"Clear filter",igx_grid_excel_custom_dialog_header:"Custom auto-filter on column: ",igx_grid_excel_cancel:"cancel",igx_grid_excel_apply:"apply",igx_grid_excel_search_placeholder:"Search",igx_grid_excel_select_all:"Select All",igx_grid_excel_select_all_search_results:"Select all search results",igx_grid_excel_add_to_filter:"Add current selection to filter",igx_grid_excel_blanks:"(Blanks)",igx_grid_excel_hide:"Hide column",igx_grid_excel_show:"Show column",igx_grid_excel_pin:"Pin column",igx_grid_excel_unpin:"Unpin column",igx_grid_excel_select:"Select column",igx_grid_excel_deselect:"Deselect column",igx_grid_excel_text_filter:"Text filter",igx_grid_excel_number_filter:"Number filter",igx_grid_excel_date_filter:"Date filter",igx_grid_excel_boolean_filter:"Boolean filter",igx_grid_excel_currency_filter:"Currency filter",igx_grid_excel_custom_filter:"Custom filter...",igx_grid_excel_no_matches:"No matches",igx_grid_advanced_filter_title:"Advanced Filtering",igx_grid_advanced_filter_and_group:'"And" Group',igx_grid_advanced_filter_or_group:'"Or" Group',igx_grid_advanced_filter_end_group:"End Group",igx_grid_advanced_filter_create_and_group:'Create "And" Group',igx_grid_advanced_filter_create_or_group:'Create "Or" Group',igx_grid_advanced_filter_and_label:"and",igx_grid_advanced_filter_or_label:"or",igx_grid_advanced_filter_add_condition:"Condition",igx_grid_advanced_filter_ungroup:"Ungroup",igx_grid_advanced_filter_delete:"Delete",igx_grid_advanced_filter_delete_filters:"Delete filters",igx_grid_advanced_filter_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_grid_advanced_filter_column_placeholder:"Select column",igx_grid_advanced_filter_value_placeholder:"Value",igx_grid_pinned_row_indicator:"Pinned",igx_grid_hiding_check_all_label:"Show All",igx_grid_hiding_uncheck_all_label:"Hide All",igx_grid_pinning_check_all_label:"Pin All",igx_grid_pinning_uncheck_all_label:"Unpin All",igx_grid_row_edit_btn_done:"Done",igx_grid_row_edit_btn_cancel:"Cancel",igx_grid_toolbar_actions_filter_prompt:"Filter columns list ...",igx_grid_toolbar_pinning_button_tooltip:"Open column pinning dropdown",igx_grid_toolbar_hiding_button_tooltip:"Open column hiding dropdown",igx_grid_toolbar_pinning_title:"Pinned columns",igx_grid_toolbar_hiding_title:"Visible columns",igx_grid_toolbar_advanced_filtering_button_tooltip:"Open advanced filtering dialog",igx_grid_toolbar_advanced_filtering_button_label:"Advanced filtering",igx_grid_toolbar_exporter_button_tooltip:"Open exporter dropdown",igx_grid_toolbar_exporter_button_label:"Export",igx_grid_toolbar_exporter_excel_entry_text:"Export to Excel",igx_grid_toolbar_exporter_csv_entry_text:"Export to CSV",igx_grid_snackbar_addrow_label:"Row added",igx_grid_snackbar_addrow_actiontext:"SHOW",igx_grid_actions_edit_label:"Edit",igx_grid_actions_add_label:"Add",igx_grid_add_row_label:"ADD ROW",igx_grid_actions_add_child_label:"Add Child",igx_grid_actions_delete_label:"Delete",igx_grid_actions_pin_label:"Pin",igx_grid_actions_unpin_label:"Unpin",igx_grid_actions_jumpUp_label:"Jump up",igx_grid_actions_jumpDown_label:"Jump down",igx_grid_pivot_date_dimension_total:"All Periods",igx_grid_pivot_aggregate_count:"Count",igx_grid_pivot_aggregate_min:"Minimum",igx_grid_pivot_aggregate_max:"Maximum",igx_grid_pivot_aggregate_sum:"Sum",igx_grid_pivot_aggregate_avg:"Average",igx_grid_pivot_aggregate_date_latest:"Latest Date",igx_grid_pivot_aggregate_date_earliest:"Earliest Date",igx_grid_pivot_aggregate_time_latest:"Latest Time",igx_grid_pivot_aggregate_time_earliest:"Earliest Time",igx_grid_pivot_empty_row_drop_area:"Drop Row Fields here.",igx_grid_pivot_empty_column_drop_area:"Drop Column Fields here.",igx_grid_pivot_empty_filter_drop_area:"Drop Filter Fields here.",igx_grid_pivot_empty_value_drop_area:"Drop Value Fields here.",igx_grid_pivot_row_drop_chip:"Drop here to use as row",igx_grid_pivot_column_drop_chip:"Drop here to use as column",igx_grid_pivot_filter_drop_chip:"Drop here to use as filter",igx_grid_pivot_value_drop_chip:"Drop here to use as value",igx_grid_pivot_empty_message:"Pivot grid has no dimensions and values.",igx_grid_pivot_selector_filters:"Filters",igx_grid_pivot_selector_rows:"Rows",igx_grid_pivot_selector_columns:"Columns",igx_grid_pivot_selector_values:"Values",igx_grid_pivot_selector_panel_empty:"Drop Items Here"}),PaginatorResStrings:Xo({igx_paginator_label:"Items per page",igx_paginator_pager_text:"of",igx_paginator_first_page_button_text:"Go to first page",igx_paginator_previous_page_button_text:"Previous page",igx_paginator_last_page_button_text:"Go to last page",igx_paginator_next_page_button_text:"Next page"}),TimePickerResStrings:Xo({igx_time_picker_ok:"OK",igx_time_picker_cancel:"Cancel",igx_time_picker_change_time:"Change Time",igx_time_picker_choose_time:"Choose Time"}),CalendarResStrings:Xo({igx_calendar_previous_month:"Previous Month",igx_calendar_next_month:"Next Month",igx_calendar_select_month:"Select Month",igx_calendar_select_year:"Select Year",igx_calendar_range_start:"Range start",igx_calendar_range_end:"Range end",igx_calendar_selected_month_is:"Selected month is ",igx_calendar_first_picker_of:"First picker of {0} starts from",igx_calendar_multi_selection:"Multi selection calendar with {0} date pickers",igx_calendar_range_selection:"Range selection calendar with {0} date pickers",igx_calendar_single_selection:"Calendar with {0} date pickers",igx_calendar_singular_multi_selection:"Multi selection calendar",igx_calendar_singular_range_selection:"Range selection calendar",igx_calendar_singular_single_selection:"Calendar"}),ChipResStrings:Xo({igx_chip_remove:"remove chip",igx_chip_select:"select chip"}),DatePickerResourceStrings:Xo({igx_date_picker_change_date:"Change Date",igx_date_picker_choose_date:"Choose Date"}),DateRangePickerResStrings:Xo({igx_date_range_picker_date_separator:"to",igx_date_range_picker_done_button:"Done"}),CarouselResStrings:Xo({igx_carousel_of:"of",igx_carousel_slide:"slide",igx_carousel_previous_slide:"previous slide",igx_carousel_next_slide:"next slide"}),ListResStrings:Xo({igx_list_no_items:"There are no items in the list.",igx_list_loading:"Loading data from the server..."}),InputResStrings:Xo({igx_input_upload_button:"Upload File",igx_input_clear_button:"clear",igx_input_file_placeholder:"No file chosen"}),TreeResStrings:Xo({igx_expand:"Expand",igx_collapse:"Collapse"}),ActionStripResourceStrings:Xo({igx_action_strip_button_more_title:"More"})};let qh=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),V6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),H6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),Ua=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})();new Ui("InputGroupType");let Uu=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,V6,H6,qh,Ua],V6,H6,qh,Ua]}),r})(),z6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),PUe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),j6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),Ese=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),$u=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})();class qc{constructor(e,t){this.element=e,this.renderer=t,this.groupName="",this.destroy$=new Zs,this._value="",this._div=null,this._observer=null,this._nodeWasRemoved=!1,this._forceEvaluation=!1,this._activeElementIndex=-1,this._defaultCssClass="igx-highlight",this._defaultActiveCssClass="igx-highlight--active",qc.onActiveElementChanged.pipe(function qNe(r){return bn((e,t)=>{Zu(r).subscribe(Es(t,()=>t.complete(),q)),!t.closed&&e.subscribe(t)})}(this.destroy$)).subscribe(i=>{this.groupName===i&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())})}get value(){return this._value}set value(e){this._value=null==e?"":e}get lastSearchInfo(){return this._lastSearchInfo}static setActiveHighlight(e,t){qc.highlightGroupsMap.set(e,t),qc.onActiveElementChanged.emit(e)}static clearActiveHighlight(e){qc.highlightGroupsMap.set(e,{index:-1}),qc.onActiveElementChanged.emit(e)}ngOnDestroy(){this.clearHighlight(),null!==this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete()}ngOnChanges(e){e.value&&!e.value.firstChange?this._valueChanged=!0:(void 0!==e.row&&!e.row.firstChange||void 0!==e.column&&!e.column.firstChange||void 0!==e.page&&!e.page.firstChange)&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}ngAfterViewInit(){this.parentElement=this.renderer.parentNode(this.element.nativeElement),!1===qc.highlightGroupsMap.has(this.groupName)&&qc.highlightGroupsMap.set(this.groupName,{index:-1}),this._lastSearchInfo={searchedText:"",content:this.value,matchCount:0,caseSensitive:!1,exactMatch:!1},this._container=this.parentElement.firstElementChild}ngAfterViewChecked(){this._valueChanged&&(this.highlight(this._lastSearchInfo.searchedText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this.activateIfNecessary(),this._valueChanged=!1)}highlight(e,t,i){const n=!!t,s=!!i;return this.searchNeedsEvaluation(e,n,s)?(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=s,this._lastSearchInfo.content=this.value,""===e||null==e?this.clearHighlight():(this.clearChildElements(!0),this._lastSearchInfo.matchCount=this.getHighlightedText(e,t,i))):this._nodeWasRemoved&&(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=s),this._lastSearchInfo.matchCount}clearHighlight(){this.clearChildElements(!1),this._lastSearchInfo.searchedText="",this._lastSearchInfo.matchCount=0}activateIfNecessary(){const e=qc.highlightGroupsMap.get(this.groupName);e.index>=0&&e.column===this.column&&e.row===this.row&&((r,e)=>{if(!e)return!r;if(r.size!==e.size)return!1;let t=!0;const i=Array.from(e.keys());for(const n of i)if(t=!!r.has(n)&&r.get(n)===e.get(n),!t)break;return t})(this.metadata,e.metadata)&&this.activate(e.index)}observe(){null===this._observer&&(this._observer=new MutationObserver(t=>{t.forEach(i=>{Array.from(i.removedNodes).forEach(o=>{o===this._container&&(this._nodeWasRemoved=!0,this.clearChildElements(!1))}),Array.from(i.addedNodes).forEach(o=>{o===this.parentElement.firstElementChild&&this._nodeWasRemoved&&(this._container=this.parentElement.firstElementChild,this._nodeWasRemoved=!1,this._forceEvaluation=!0,this.highlight(this._lastSearchInfo.searchedText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this._forceEvaluation=!1,this.activateIfNecessary(),this._observer.disconnect(),this._observer=null)})})}),this._observer.observe(this.parentElement,{childList:!0}))}activate(e){if(this.deactivate(),null!==this._div){const t=this._div.querySelectorAll("span");if(this._activeElementIndex=e,t.length<=e)return;const i=t[e];this.renderer.addClass(i,this._defaultActiveCssClass),this.renderer.addClass(i,this.activeCssClass)}}deactivate(){if(-1===this._activeElementIndex)return;const e=this._div.querySelectorAll("span");if(e.length<=this._activeElementIndex)return void(this._activeElementIndex=-1);const t=e[this._activeElementIndex];this.renderer.removeClass(t,this._defaultActiveCssClass),this.renderer.removeClass(t,this.activeCssClass),this._activeElementIndex=-1}clearChildElements(e){this.renderer.setProperty(this.element.nativeElement,"hidden",e),null!==this._div&&(this.renderer.removeChild(this.parentElement,this._div),this._div=null,this._activeElementIndex=-1)}getHighlightedText(e,t,i){this.appendDiv();const n=String(this.value),s=t?n:n.toLowerCase(),o=t?e:e.toLowerCase();let l=0;if(i)s===o?(this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n}</span>`),l++):this.appendText(n);else{let a=s.indexOf(o,0),c=0;for(;-1!==a;){const d=a,u=a+o.length;this.appendText(n.substring(c,d)),this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n.substring(d,u)}</span>`),c=u,l++,a=s.indexOf(o,u)}this.appendText(n.substring(c,n.length))}return l}appendText(e){const t=this.renderer.createText(e);this.renderer.appendChild(this._div,t)}appendSpan(e){const t=this.renderer.createElement("span");this.renderer.appendChild(this._div,t),this.renderer.setProperty(t,"outerHTML",e)}appendDiv(){this._div=this.renderer.createElement("div"),this.containerClass&&this.renderer.addClass(this._div,this.containerClass),this.renderer.appendChild(this.parentElement,this._div)}searchNeedsEvaluation(e,t,i){const n=this._lastSearchInfo.searchedText;return!this._nodeWasRemoved&&(null===n||n!==e||this._lastSearchInfo.content!==this.value||this._lastSearchInfo.caseSensitive!==t||this._lastSearchInfo.exactMatch!==i||this._forceEvaluation)}}qc.highlightGroupsMap=new Map,qc.onActiveElementChanged=new Ho,qc.\u0275fac=function(e){return new(e||qc)(Te(mi),Te(_i))},qc.\u0275dir=Qt({type:qc,selectors:[["","igxTextHighlight",""]],inputs:{cssClass:"cssClass",activeCssClass:"activeCssClass",containerClass:"containerClass",groupName:"groupName",value:"value",row:"row",column:"column",metadata:"metadata"},features:[tp]});let Tse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),Fk=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),Rse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),oS=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})();new Ise;class Pk{static set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}static get resourceStrings(){return this._resourceStrings}static aggregators(){return[{key:"COUNT",label:this.resourceStrings.igx_grid_pivot_aggregate_count,aggregator:Pk.count}]}static count(e){return e.length}}Pk._resourceStrings=hc.GridResStrings;const LUe={provide:Sa,useExisting:jn(()=>OUe),multi:!0};let OUe=(()=>{class r extends XR{}return r.\u0275fac=function(){let e;return function(i){return(e||(e=Nl(r)))(i||r)}}(),r.\u0275dir=Qt({type:r,selectors:[["igx-checkbox","required","","formControlName",""],["igx-checkbox","required","","formControl",""],["igx-checkbox","required","","ngModel",""]],features:[ps([LUe]),Gt]}),r})(),cS=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[$u]]}),r})();new Ui("IgxGridBaseToken"),new Ui("IgxGridServiceBaseToken");let Lse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,Ua]]}),r})();new Ui("IgxExpansionPanelToken");let NUe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,$u,Ua,qh,Lse]]}),r})(),Ose=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,Ua]]}),r})(),q6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[qh,Kt,$u,Ua]]}),r})(),Bse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,Gg,Ua]]}),r})(),U6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,$u,Ua,qh,Lse,z6,V6,H6]]}),r})();new Ui("IgxComboComponentToken");let qUe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,qh,$u,Bse]]}),r})(),$6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),K6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Gg,Kt,Ua,Ese,Bse,Uu,$6,Fk,oS,qUe],$6]}),r})(),Y6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[],imports:[[Kt,oS,Uu,Ua,qh,Ese,LC,Fk],$6,Uu]}),r})(),UUe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,$u]]}),r})();new Ui("dir-doc",{providedIn:"root",factory:function $Ue(){return T8(Zc)}});let zk=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})();new Ui("IgxTreeToken"),new Ui("IgxTreeNodeToken");let KUe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,Gg,Ua,Uu,cS,zk],Ua,Uu,cS,NUe]}),r})(),jk=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[],imports:[[Kt,Gg,qh,Mk,Ua,Uu,$u,LC,rne],Uu]}),r})(),jse=(()=>{class r{constructor(t){this.zone=t,this.resizeCursor=null,this.showResizer=!1}getColumnHeaderRenderedWidth(){return this.column.headerCell.nativeElement.getBoundingClientRect().width}get resizerHeight(){let t=this.column.grid.getVisibleContentHeight(),i=1;return this.column.columnLayoutChild&&(i=this.column.grid.multiRowLayoutRowSize-this.column.rowStart+1),0!==this.column.level&&(t-=this.column.topLevelParent.headerGroup.height-this.column.headerGroup.height*i),t}get restrictResizeMin(){const t=this.getColumnHeaderRenderedWidth();return t-(this.column.minWidthPx<t?this.column.minWidthPx:t)}get restrictResizeMax(){const t=this.getColumnHeaderRenderedWidth();return this.column.maxWidth?this.column.maxWidthPx-t:Number.MAX_SAFE_INTEGER}autosizeColumnOnDblClick(){const t=this.getColumnHeaderRenderedWidth();this.column.width=this.column.getAutoSize(),this.zone.run(()=>{}),this.column.grid.columnResized.emit({column:this.column,prevWidth:t.toString(),newWidth:this.column.width})}resizeColumn(t){this.showResizer=!1;const i=t.clientX-this.startResizePos,n=this.column.width,s=n&&"string"==typeof n&&-1!==n.indexOf("%");let o=parseFloat(n);const l=this.getColumnHeaderRenderedWidth();o=Number.isNaN(o)?parseFloat(l):o,this.column.grid.hasColumnLayouts?this.resizeColumnLayoutFor(this.column,i):s?this._handlePercentageResize(i,this.column):this._handlePixelResize(i,this.column),this.zone.run(()=>{}),o!==parseFloat(this.column.width)&&this.column.grid.columnResized.emit({column:this.column,prevWidth:s?o+"%":o+"px",newWidth:this.column.width}),this.isColumnResizing=!1}_handlePixelResize(t,i){const n=parseFloat(i.width),s=i.minWidthPx,o=i.maxWidthPx;i.width=n+t<s?s+"px":o&&n+t>o?o+"px":n+t+"px"}_handlePercentageResize(t,i){const n=parseFloat(i.width),o=t/i.grid.calcWidth*100,l=i.minWidthPercent,a=i.maxWidthPercent;i.width=n+o<l?l+"%":a&&n+o>a?a+"%":n+o+"%"}getColMinWidth(t){let i=parseFloat(t.width);const n=t.headerCell.nativeElement.getBoundingClientRect().width;i=Number.isNaN(i)||i<n?n:i;const s=parseFloat(t.minWidth);return s<i?s:i}resizeColumnLayoutFor(t,i){const n=t.getResizableColUnderEnd(),s=n.reduce((d,u)=>d+u.spanUsed,0);let o=[...n],l=i,a=s,c=!1;do{c=!1;let d=a;const u=[];o.forEach(p=>{const g=parseFloat(p.target.calcWidth),f=i/a*p.target.gridColumnSpan,m=p.target.width,v=m&&"string"==typeof m&&-1!==m.indexOf("%"),x=p.target.minWidthPx,w=p.target.maxWidthPx;g+f<x?(p.target.width=v?p.target.minWidthPercent+"%":x+"px",l+=g-x,d-=p.spanUsed,c=!0):w&&g+f>w?(p.target.width=v?p.target.maxWidthPercent+"%":p.target.maxWidthPx+"px",l-=w-g,d-=p.spanUsed,c=!0):u.push(p)}),a=d,o=u}while(c);o.forEach(d=>{const u=l/a*d.target.gridColumnSpan,p=d.target.width;p&&"string"==typeof p&&-1!==p.indexOf("%")?this._handlePercentageResize(u,d.target):this._handlePixelResize(u,d.target)})}}return r.\u0275fac=function(t){return new(t||r)(Ji(Ta))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})(),Gse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),qse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})();new Ui("IgxGridTransaction");let Wse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),Cv=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,Gg,qh,K6,Ua,$u,Uu,j6,LC,N6,Rse,Tse,Fk,cS,Ose,U6,z6,Mk,q6,zk,jk,Wse,qse,Y6,oS],Kt,Gg,qh,K6,Ua,$u,Uu,j6,LC,N6,Rse,Tse,Wse,Fk,cS,Ose,U6,z6,Mk,q6,zk,jk,qse,Y6,oS]}),r})(),Use=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),Q6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),wv=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt]]}),r})(),X6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Cv,wv]]}),r})(),JUe=(()=>{class r extends jse{getColumnHeaderRenderedWidth(){return this.rowHeaderGroup.header.nativeElement.getBoundingClientRect().width}_handlePixelResize(t,i){const n=this.rowHeaderGroup.parent.rootDimension;if(!n)return;const s=parseFloat(i.width),o=i.minWidthPx,l=i.maxWidthPx;let a=s;a=s+t<o?o:l&&s+t>l?l:s+t,this.rowHeaderGroup.grid.resizeRowDimensionPixels(n,a)}_handlePercentageResize(t,i){}}return r.\u0275fac=function(){let e;return function(i){return(e||(e=Nl(r)))(i||r)}}(),r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})(),J6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[jse,JUe],imports:[[Kt]]}),r})(),$se=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Cv,X6,Q6,J6,wv]]}),r})(),Kse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:[xUe],imports:[[Kt,Gg,wv,qh,q6,K6,Y6,Ua,$u,Uu,Mk,N6,cS,PUe,LC,UUe,zk,jk,j6,oS,KUe]]}),r})(),Yse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Kt,Gg,qh,Ua,Uu,$u,jk]]}),r})(),Qse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({}),r})(),Xse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[wv,Cv]]}),r})(),Z6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Cv,wv]]}),r})(),Jse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Z6,Cv]]}),r})(),Zse=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Use,$se,Q6,J6,Qse,Xse,Jse,Z6,wv,X6,Kse,Gse,Yse,Cv,U6],Z6,Use,$se,wv,X6,Kse,Gse,Yse,J6,Q6,Qse,Xse,Jse,Cv]}),r})(),ZUe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({imports:[[Zse],Zse]}),r})();const t$e={provide:Sa,useExisting:jn(()=>i$e),multi:!0};let i$e=(()=>{class r extends XR{}return r.\u0275fac=function(){let e;return function(i){return(e||(e=Nl(r)))(i||r)}}(),r.\u0275dir=Qt({type:r,selectors:[["igx-switch","required","","formControlName",""],["igx-switch","required","","formControl",""],["igx-switch","required","","ngModel",""]],features:[ps([t$e]),Gt]}),r})();new Set("right down left up arrowright arrowdown arrowleft arrowup".split(" ")),new Ui("IgxStepperToken"),new Ui("IgxStepToken");const ms=!1;function ere(r){return new hi(3e3,ms)}function O$e(){return"undefined"!=typeof window&&void 0!==window.document}function eH(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Tm(r){switch(r.length){case 0:return new J_;case 1:return r[0];default:return new wne(r)}}function tre(r,e,t,i,n={},s={}){const o=[],l=[];let a=-1,c=null;if(i.forEach(d=>{const u=d.offset,p=u==a,g=p&&c||{};Object.keys(d).forEach(f=>{let m=f,v=d[f];if("offset"!==f)switch(m=e.normalizePropertyName(m,o),v){case"!":v=n[f];break;case qg:v=s[f];break;default:v=e.normalizeStyleValue(f,m,v,o)}g[m]=v}),p||l.push(g),c=g,a=u}),o.length)throw function I$e(r){return new hi(3502,ms)}();return l}function tH(r,e,t,i){switch(e){case"start":r.onStart(()=>i(t&&iH(t,"start",r)));break;case"done":r.onDone(()=>i(t&&iH(t,"done",r)));break;case"destroy":r.onDestroy(()=>i(t&&iH(t,"destroy",r)))}}function iH(r,e,t){const i=t.totalTime,s=nH(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,null==i?r.totalTime:i,!!t.disabled),o=r._data;return null!=o&&(s._data=o),s}function nH(r,e,t,i,n="",s=0,o){return{element:r,triggerName:e,fromState:t,toState:i,phaseName:n,totalTime:s,disabled:!!o}}function lh(r,e,t){let i;return r instanceof Map?(i=r.get(e),i||r.set(e,i=t)):(i=r[e],i||(i=r[e]=t)),i}function ire(r){const e=r.indexOf(":");return[r.substring(1,e),r.substr(e+1)]}let sH=(r,e)=>!1,nre=(r,e,t)=>[],sre=null;function rH(r){const e=r.parentNode||r.host;return e===sre?null:e}(eH()||"undefined"!=typeof Element)&&(O$e()?(sre=(()=>document.documentElement)(),sH=(r,e)=>{for(;e;){if(e===r)return!0;e=rH(e)}return!1}):sH=(r,e)=>r.contains(e),nre=(r,e,t)=>{if(t)return Array.from(r.querySelectorAll(e));const i=r.querySelector(e);return i?[i]:[]});let bv=null,rre=!1;function ore(r){bv||(bv=function N$e(){return"undefined"!=typeof document?document.body:null}()||{},rre=!!bv.style&&"WebkitAppearance"in bv.style);let e=!0;return bv.style&&!function B$e(r){return"ebkit"==r.substring(1,6)}(r)&&(e=r in bv.style,!e&&rre&&(e="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in bv.style)),e}const lre=sH,are=nre;let cre=(()=>{class r{validateStyleProperty(t){return ore(t)}matchesElement(t,i){return!1}containsElement(t,i){return lre(t,i)}getParentElement(t){return rH(t)}query(t,i,n){return are(t,i,n)}computeStyle(t,i,n){return n||""}animate(t,i,n,s,o,l=[],a){return new J_(n,s)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})(),oH=(()=>{class r{}return r.NOOP=new cre,r})();const lH="ng-enter",qk="ng-leave",Wk="ng-trigger",Uk=".ng-trigger",hre="ng-animating",aH=".ng-animating";function _v(r){if("number"==typeof r)return r;const e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cH(parseFloat(e[1]),e[2])}function cH(r,e){return"s"===e?1e3*r:r}function $k(r,e,t){return r.hasOwnProperty("duration")?r:function z$e(r,e,t){let n,s=0,o="";if("string"==typeof r){const l=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(ere()),{duration:0,delay:0,easing:""};n=cH(parseFloat(l[1]),l[2]);const a=l[3];null!=a&&(s=cH(parseFloat(a),l[4]));const c=l[5];c&&(o=c)}else n=r;if(!t){let l=!1,a=e.length;n<0&&(e.push(function n$e(){return new hi(3100,ms)}()),l=!0),s<0&&(e.push(function s$e(){return new hi(3101,ms)}()),l=!0),l&&e.splice(a,0,ere())}return{duration:n,delay:s,easing:o}}(r,e,t)}function NC(r,e={}){return Object.keys(r).forEach(t=>{e[t]=r[t]}),e}function Rm(r,e,t={}){if(e)for(let i in r)t[i]=r[i];else NC(r,t);return t}function pre(r,e,t){return t?e+":"+t+";":""}function gre(r){let e="";for(let t=0;t<r.style.length;t++){const i=r.style.item(t);e+=pre(0,i,r.style.getPropertyValue(i))}for(const t in r.style)r.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=pre(0,q$e(t),r.style[t]));r.setAttribute("style",e)}function zp(r,e,t){r.style&&(Object.keys(e).forEach(i=>{const n=hH(i);t&&!t.hasOwnProperty(i)&&(t[i]=r.style[n]),r.style[n]=e[i]}),eH()&&gre(r))}function Sv(r,e){r.style&&(Object.keys(e).forEach(t=>{const i=hH(t);r.style[i]=""}),eH()&&gre(r))}function uS(r){return Array.isArray(r)?1==r.length?r[0]:xne(r):r}const dH=new RegExp("{{\\s*(.+?)\\s*}}","g");function fre(r){let e=[];if("string"==typeof r){let t;for(;t=dH.exec(r);)e.push(t[1]);dH.lastIndex=0}return e}function Kk(r,e,t){const i=r.toString(),n=i.replace(dH,(s,o)=>{let l=e[o];return e.hasOwnProperty(o)||(t.push(function o$e(r){return new hi(3003,ms)}()),l=""),l.toString()});return n==i?r:n}function Yk(r){const e=[];let t=r.next();for(;!t.done;)e.push(t.value),t=r.next();return e}const G$e=/-+([a-z0-9])/g;function hH(r){return r.replace(G$e,(...e)=>e[1].toUpperCase())}function q$e(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ah(r,e,t){switch(e.type){case 7:return r.visitTrigger(e,t);case 0:return r.visitState(e,t);case 1:return r.visitTransition(e,t);case 2:return r.visitSequence(e,t);case 3:return r.visitGroup(e,t);case 4:return r.visitAnimate(e,t);case 5:return r.visitKeyframes(e,t);case 6:return r.visitStyle(e,t);case 8:return r.visitReference(e,t);case 9:return r.visitAnimateChild(e,t);case 10:return r.visitAnimateRef(e,t);case 11:return r.visitQuery(e,t);case 12:return r.visitStagger(e,t);default:throw function l$e(r){return new hi(3004,ms)}()}}function mre(r,e){return window.getComputedStyle(r)[e]}function Q$e(r,e){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function X$e(r,e,t){if(":"==r[0]){const a=function J$e(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function w$e(r){return new hi(3016,ms)}()),"* => *"}}(r,t);if("function"==typeof a)return void e.push(a);r=a}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function C$e(r){return new hi(3015,ms)}()),e;const n=i[1],s=i[2],o=i[3];e.push(vre(n,o));"<"==s[0]&&!("*"==n&&"*"==o)&&e.push(vre(o,n))}(i,t,e)):t.push(r),t}const Zk=new Set(["true","1"]),eA=new Set(["false","0"]);function vre(r,e){const t=Zk.has(r)||eA.has(r),i=Zk.has(e)||eA.has(e);return(n,s)=>{let o="*"==r||r==n,l="*"==e||e==s;return!o&&t&&"boolean"==typeof n&&(o=n?Zk.has(r):eA.has(r)),!l&&i&&"boolean"==typeof s&&(l=s?Zk.has(e):eA.has(e)),o&&l}}const Z$e=new RegExp("s*:selfs*,?","g");function uH(r,e,t,i){return new eKe(r).build(e,t,i)}class eKe{constructor(e){this._driver=e}build(e,t,i){const n=new nKe(t);this._resetContextStyleTimingState(n);const s=ah(this,uS(e),n);return n.unsupportedCSSPropertiesFound.size&&n.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function c$e(){return new hi(3006,ms)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const a=l,c=a.name;c.toString().split(/\s*,\s*/).forEach(d=>{a.name=d,s.push(this.visitState(a,t))}),a.name=c}else if(1==l.type){const a=this.visitTransition(l,t);i+=a.queryCount,n+=a.depCount,o.push(a)}else t.errors.push(function d$e(){return new hi(3007,ms)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:n,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=n||{};i.styles.forEach(l=>{if(tA(l)){const a=l;Object.keys(a).forEach(c=>{fre(a[c]).forEach(d=>{o.hasOwnProperty(d)||s.add(d)})})}}),s.size&&(Yk(s.values()),t.errors.push(function h$e(r,e){return new hi(3008,ms)}()))}return{type:0,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ah(this,uS(e.animation),t);return{type:1,matchers:Q$e(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Iv(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ah(this,i,t)),options:Iv(e.options)}}visitGroup(e,t){const i=t.currentTime;let n=0;const s=e.steps.map(o=>{t.currentTime=i;const l=ah(this,o,t);return n=Math.max(n,t.currentTime),l});return t.currentTime=n,{type:3,steps:s,options:Iv(e.options)}}visitAnimate(e,t){const i=function rKe(r,e){let t=null;if(r.hasOwnProperty("duration"))t=r;else if("number"==typeof r)return pH($k(r,e).duration,0,"");const i=r;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=pH(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||$k(i,e),pH(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let n,s=e.styles?e.styles:$n({});if(5==s.type)n=this.visitKeyframes(s,t);else{let o=e.styles,l=!1;if(!o){l=!0;const c={};i.easing&&(c.easing=i.easing),o=$n(c)}t.currentTime+=i.duration+i.delay;const a=this.visitStyle(o,t);a.isEmptyStep=l,n=a}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==qg?i.push(o):t.errors.push(function u$e(r){return new hi(3002,ms)}()):i.push(o)}):i.push(e.styles);let n=!1,s=null;return i.forEach(o=>{if(tA(o)){const l=o,a=l.easing;if(a&&(s=a,delete l.easing),!n)for(let c in l)if(l[c].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let n=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(l=>{if(!this._driver.validateStyleProperty(l))return delete o[l],void t.unsupportedCSSPropertiesFound.add(l);const a=t.collectedStyles[t.currentQuerySelector],c=a[l];let d=!0;c&&(s!=n&&s>=c.startTime&&n<=c.endTime&&(t.errors.push(function p$e(r,e,t,i,n){return new hi(3010,ms)}()),d=!1),s=c.startTime),d&&(a[l]={startTime:s,endTime:n}),t.options&&function j$e(r,e,t){const i=e.params||{},n=fre(r);n.length&&n.forEach(s=>{i.hasOwnProperty(s)||t.push(function r$e(r){return new hi(3001,ms)}())})}(o[l],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function g$e(){return new hi(3011,ms)}()),i;let s=0;const o=[];let l=!1,a=!1,c=0;const d=e.steps.map(x=>{const w=this._makeStyleAst(x,t);let b=null!=w.offset?w.offset:function sKe(r){if("string"==typeof r)return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(tA(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(tA(r)&&r.hasOwnProperty("offset")){const t=r;e=parseFloat(t.offset),delete t.offset}return e}(w.styles),I=0;return null!=b&&(s++,I=w.offset=b),a=a||I<0||I>1,l=l||I<c,c=I,o.push(I),w});a&&t.errors.push(function f$e(){return new hi(3012,ms)}()),l&&t.errors.push(function m$e(){return new hi(3200,ms)}());const u=e.steps.length;let p=0;s>0&&s<u?t.errors.push(function v$e(){return new hi(3202,ms)}()):0==s&&(p=1/(u-1));const g=u-1,f=t.currentTime,m=t.currentAnimateTimings,v=m.duration;return d.forEach((x,w)=>{const b=p>0?w==g?1:p*w:o[w],I=b*v;t.currentTime=f+m.delay+I,m.duration=I,this._validateStyleAst(x,t),x.offset=b,i.styles.push(x)}),i}visitReference(e,t){return{type:8,animation:ah(this,uS(e.animation),t),options:Iv(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Iv(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Iv(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function tKe(r){const e=!!r.split(/\s*,\s*/).find(t=>":self"==t);return e&&(r=r.replace(Z$e,"")),r=r.replace(/@\*/g,Uk).replace(/@\w+/g,t=>Uk+"-"+t.substr(1)).replace(/:animating/g,aH),[r,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,lh(t.collectedStyles,t.currentQuerySelector,{});const l=ah(this,uS(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:n.limit||0,optional:!!n.optional,includeSelf:o,animation:l,originalSelector:e.selector,options:Iv(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function y$e(){return new hi(3013,ms)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:$k(e.timings,t.errors,!0);return{type:12,animation:ah(this,uS(e.animation),t),timings:i,options:null}}}class nKe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tA(r){return!Array.isArray(r)&&"object"==typeof r}function Iv(r){return r?(r=NC(r)).params&&(r.params=function iKe(r){return r?NC(r):null}(r.params)):r={},r}function pH(r,e,t){return{duration:r,delay:e,easing:t}}function gH(r,e,t,i,n,s,o=null,l=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:i,duration:n,delay:s,totalTime:n+s,easing:o,subTimeline:l}}class iA{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const aKe=new RegExp(":enter","g"),dKe=new RegExp(":leave","g");function fH(r,e,t,i,n,s={},o={},l,a,c=[]){return(new hKe).buildKeyframes(r,e,t,i,n,s,o,l,a,c)}class hKe{buildKeyframes(e,t,i,n,s,o,l,a,c,d=[]){c=c||new iA;const u=new mH(e,t,c,n,s,d,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),ah(this,i,u);const p=u.timelines.filter(g=>g.containsAnimation());if(Object.keys(l).length){let g;for(let f=p.length-1;f>=0;f--){const m=p[f];if(m.element===t){g=m;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([l],null,u.errors,a)}return p.length?p.map(g=>g.buildKeyframes()):[gH(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const n=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,n,n.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?_v(i.duration):null,l=null!=i.delay?_v(i.delay):null;return 0!==o&&e.forEach(a=>{const c=t.appendInstructionToTimeline(a,o,l);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ah(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let n=t;const s=e.options;if(s&&(s.params||s.delay)&&(n=t.createSubContext(s),n.transformIntoNewTimeline(),null!=s.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=nA);const o=_v(s.delay);n.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ah(this,o,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let n=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?_v(e.options.delay):0;e.steps.forEach(o=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),ah(this,o,l),n=Math.max(n,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return $k(t.params?Kk(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,n=t.currentTimeline.duration,s=i.duration,l=t.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(a=>{l.forwardTime((a.offset||0)*s),l.setStyles(a.styles,a.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(n+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,n=e.options||{},s=n.delay?_v(n.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nA);let o=i;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=l.length;let a=null;l.forEach((c,d)=>{t.currentQueryIndex=d;const u=t.createSubContext(e.options,c);s&&u.delayNextStep(s),c===t.element&&(a=u.currentTimeline),ah(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,u.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,n=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=l-a;break;case"full":a=i.currentStaggerTime}const d=t.currentTimeline;a&&d.delayNextStep(a);const u=d.currentTime;ah(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-u+(n.startTime-i.currentTimeline.startTime)}}const nA={};class mH{constructor(e,t,i,n,s,o,l,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new sA(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let n=this.options;null!=i.duration&&(n.duration=_v(i.duration)),null!=i.delay&&(n.delay=_v(i.delay));const s=i.params;if(s){let o=n.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=Kk(s[l],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(n=>{i[n]=t[n]})}}return e}createSubContext(e=null,t,i){const n=t||this.element,s=new mH(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=nA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new uKe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(s),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,s,o){let l=[];if(n&&l.push(this.element),e.length>0){e=(e=e.replace(aKe,"."+this._enterClassName)).replace(dKe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),l.push(...c)}return!s&&0==l.length&&o.push(function x$e(r){return new hi(3014,ms)}()),l}}class sA{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new sA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||qg,this._currentKeyframe[t]=qg}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&(this._previousKeyframe.easing=t);const s=n&&n.params||{},o=function pKe(r,e){const t={};let i;return r.forEach(n=>{"*"===n?(i=i||Object.keys(e),i.forEach(s=>{t[s]=qg})):Rm(n,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(l=>{const a=Kk(o[l],s,i);this._pendingStyles[l]=a,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:qg),this._updateStyle(l,a)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],n=e._styleSummary[t];(!i||n.time>i.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((l,a)=>{const c=Rm(l,!0);Object.keys(c).forEach(d=>{const u=c[d];"!"==u?e.add(d):u==qg&&t.add(d)}),i||(c.offset=a/this.duration),n.push(c)});const s=e.size?Yk(e.values()):[],o=t.size?Yk(t.values()):[];if(i){const l=n[0],a=NC(l);l.offset=0,a.offset=1,n=[l,a]}return gH(this.element,n,s,o,this.duration,this.startTime,this.easing,!1)}}class uKe extends sA{constructor(e,t,i,n,s,o,l=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,l=t/o,a=Rm(e[0],!1);a.offset=0,s.push(a);const c=Rm(e[0],!1);c.offset=Cre(l),s.push(c);const d=e.length-1;for(let u=1;u<=d;u++){let p=Rm(e[u],!1);p.offset=Cre((t+p.offset*i)/o),s.push(p)}i=o,t=0,n="",e=s}return gH(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}}function Cre(r,e=3){const t=Math.pow(10,e-1);return Math.round(r*t)/t}class vH{}class gKe extends vH{normalizePropertyName(e,t){return hH(e)}normalizeStyleValue(e,t,i,n){let s="";const o=i.toString().trim();if(fKe[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&n.push(function a$e(r,e){return new hi(3005,ms)}())}return o+s}}const fKe=(()=>function mKe(r){const e={};return r.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function wre(r,e,t,i,n,s,o,l,a,c,d,u,p){return{type:0,element:r,triggerName:e,isRemovalTransition:n,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:l,queriedElements:a,preStyleProps:c,postStyleProps:d,totalTime:u,errors:p}}const yH={};class bre{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function vKe(r,e,t,i,n){return r.some(s=>s(e,t,i,n))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){const n=this._stateStyles["*"],s=this._stateStyles[e],o=n?n.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,n,s,o,l,a,c,d){const u=[],p=this.ast.options&&this.ast.options.params||yH,f=this.buildStyles(i,l&&l.params||yH,u),m=a&&a.params||yH,v=this.buildStyles(n,m,u),x=new Set,w=new Map,b=new Map,I="void"===n,k={params:Object.assign(Object.assign({},p),m)},P=d?[]:fH(e,t,this.ast.animation,s,o,f,v,k,c,u);let W=0;if(P.forEach(ae=>{W=Math.max(ae.duration+ae.delay,W)}),u.length)return wre(t,this._triggerName,i,n,I,f,v,[],[],w,b,W,u);P.forEach(ae=>{const xe=ae.element,z=lh(w,xe,{});ae.preStyleProps.forEach(ye=>z[ye]=!0);const Re=lh(b,xe,{});ae.postStyleProps.forEach(ye=>Re[ye]=!0),xe!==t&&x.add(xe)});const oe=Yk(x.values());return wre(t,this._triggerName,i,n,I,f,v,P,oe,w,b,W)}}class yKe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},n=NC(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(n[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(l=>{let a=o[l];a.length>1&&(a=Kk(a,n,t));const c=this.normalizer.normalizePropertyName(l,t);a=this.normalizer.normalizeStyleValue(l,c,a,t),i[c]=a})}}),i}}class CKe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(n=>{this.states[n.name]=new yKe(n.style,n.options&&n.options.params||{},i)}),_re(this.states,"true","1"),_re(this.states,"false","0"),t.transitions.forEach(n=>{this.transitionFactories.push(new bre(e,n,this.states))}),this.fallbackTransition=function wKe(r,e,t){return new bre(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find(o=>o.match(e,t,i,n))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function _re(r,e,t){r.hasOwnProperty(e)?r.hasOwnProperty(t)||(r[t]=r[e]):r.hasOwnProperty(t)&&(r[e]=r[t])}const bKe=new iA;class _Ke{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=uH(this._driver,t,i,[]);if(i.length)throw function D$e(r){return new hi(3503,ms)}();this._animations[e]=s}_buildPlayer(e,t,i){const n=e.element,s=tre(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(n,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const n=[],s=this._animations[e];let o;const l=new Map;if(s?(o=fH(this._driver,t,s,lH,qk,{},{},i,bKe,n),o.forEach(d=>{const u=lh(l,d.element,{});d.postStyleProps.forEach(p=>u[p]=null)})):(n.push(function E$e(){return new hi(3300,ms)}()),o=[]),n.length)throw function T$e(r){return new hi(3504,ms)}();l.forEach((d,u)=>{Object.keys(d).forEach(p=>{d[p]=this._driver.computeStyle(u,p,qg)})});const c=Tm(o.map(d=>{const u=l.get(d.element);return this._buildPlayer(d,{},u)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function R$e(r){return new hi(3301,ms)}();return t}listen(e,t,i,n){const s=nH(t,"","","");return tH(this._getPlayer(e),i,s,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i)return void this.create(e,t,n[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}const Sre="ng-animate-queued",xH="ng-animate-disabled",TKe=[],Ire={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RKe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wh="__ng_removed";class CH{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function FKe(r){return null!=r?r:null}(i?e.value:e),i){const s=NC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(n=>{null==i[n]&&(i[n]=t[n])})}}}const pS="void",wH=new CH(pS);class kKe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Uh(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.hasOwnProperty(t))throw function k$e(r,e){return new hi(3302,ms)}();if(null==i||0==i.length)throw function A$e(r){return new hi(3303,ms)}();if(!function PKe(r){return"start"==r||"done"==r}(i))throw function M$e(r,e){return new hi(3400,ms)}();const s=lh(this._elementListeners,e,[]),o={name:t,phase:i,callback:n};s.push(o);const l=lh(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(Uh(e,Wk),Uh(e,Wk+"-"+t),l[t]=wH),()=>{this._engine.afterFlush(()=>{const a=s.indexOf(o);a>=0&&s.splice(a,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function F$e(r){return new hi(3401,ms)}();return t}trigger(e,t,i,n=!0){const s=this._getTrigger(t),o=new bH(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(Uh(e,Wk),Uh(e,Wk+"-"+t),this._engine.statesByElement.set(e,l={}));let a=l[t];const c=new CH(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),l[t]=c,a||(a=wH),c.value!==pS&&a.value===c.value){if(!function BKe(r,e){const t=Object.keys(r),i=Object.keys(e);if(t.length!=i.length)return!1;for(let n=0;n<t.length;n++){const s=t[n];if(!e.hasOwnProperty(s)||r[s]!==e[s])return!1}return!0}(a.params,c.params)){const m=[],v=s.matchStyles(a.value,a.params,m),x=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Sv(e,v),zp(e,x)})}return}const p=lh(this._engine.playersByElement,e,[]);p.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let g=s.matchTransition(a.value,c.value,e,c.params),f=!1;if(!g){if(!n)return;g=s.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:a,toState:c,player:o,isFallbackTransition:f}),f||(Uh(e,Sre),o.onStart(()=>{VC(e,Sre)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const v=this._engine.playersByElement.get(e);if(v){let x=v.indexOf(o);x>=0&&v.splice(x,1)}}),this.players.push(o),p.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(n=>n.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Uk,!0);i.forEach(n=>{if(n[Wh])return;const s=this._engine.fetchNamespacesByElement(n);s.size?s.forEach(o=>o.triggerLeaveAnimation(n,t,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(e,t,i,n){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const l=[];if(Object.keys(s).forEach(a=>{if(o.set(a,s[a].value),this._triggers[a]){const c=this.trigger(e,a,pS,n);c&&l.push(c)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Tm(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const n=new Set;t.forEach(s=>{const o=s.name;if(n.has(o))return;n.add(o);const a=this._triggers[o].fallbackTransition,c=i[o]||wH,d=new CH(pS),u=new bH(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:a,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)n=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Wh];(!s||s===Ire)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Uh(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==i.triggerName){const a=nH(s,i.triggerName,i.fromState.value,i.toState.value);a._data=e,tH(i.player,l.phase,a,l.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(i)}),this._queue=[],t.sort((i,n)=>{const s=i.transition.ast.depCount,o=n.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class AKe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new kKe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,n=this.namespacesByHostElement,s=i.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let l=this.driver.getParentElement(t);for(;l;){const a=n.get(l);if(a){const c=i.indexOf(a);i.splice(c+1,0,e),o=!0;break}l=this.driver.getParentElement(l)}}else for(let l=s;l>=0;l--)if(this.driver.containsElement(i[l].hostElement,t)){i.splice(l+1,0,e),o=!0;break}o||i.unshift(e)}else i.push(e);return n.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const n=Object.keys(i);for(let s=0;s<n.length;s++){const o=i[n[s]].namespaceId;if(o){const l=this._fetchNamespace(o);l&&t.add(l)}}}return t}trigger(e,t,i,n){if(rA(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!rA(t))return;const s=t[Wh];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Uh(e,xH)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),VC(e,xH))}removeNode(e,t,i,n){if(rA(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,i,n,s){this.collectedLeaveElements.push(t),t[Wh]={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,n,s){return rA(t)?this._fetchNamespace(e).listen(t,i,n,s):()=>{}}_buildInstruction(e,t,i,n,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Uk,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,aH,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Tm(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Wh];if(i&&i.setForRemoval){if(e[Wh]=Ire,i.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(xH))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Uh(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Tm(t).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(e){throw function P$e(r){return new hi(3402,ms)}()}_flushAnimations(e,t){const i=new iA,n=[],s=new Map,o=[],l=new Map,a=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Y=>{d.add(Y);const U=this.driver.query(Y,".ng-animate-queued",!0);for(let ce=0;ce<U.length;ce++)d.add(U[ce])});const u=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=Tre(p,this.collectedEnterElements),f=new Map;let m=0;g.forEach((Y,U)=>{const ce=lH+m++;f.set(U,ce),Y.forEach(Be=>Uh(Be,ce))});const v=[],x=new Set,w=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){const U=this.collectedLeaveElements[Y],ce=U[Wh];ce&&ce.setForRemoval&&(v.push(U),x.add(U),ce.hasAnimation?this.driver.query(U,".ng-star-inserted",!0).forEach(Be=>x.add(Be)):w.add(U))}const b=new Map,I=Tre(p,Array.from(x));I.forEach((Y,U)=>{const ce=qk+m++;b.set(U,ce),Y.forEach(Be=>Uh(Be,ce))}),e.push(()=>{g.forEach((Y,U)=>{const ce=f.get(U);Y.forEach(Be=>VC(Be,ce))}),I.forEach((Y,U)=>{const ce=b.get(U);Y.forEach(Be=>VC(Be,ce))}),v.forEach(Y=>{this.processLeaveNode(Y)})});const k=[],P=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(t).forEach(ce=>{const Be=ce.player,Ge=ce.element;if(k.push(Be),this.collectedEnterElements.length){const ne=Ge[Wh];if(ne&&ne.setForMove){if(ne.previousTriggersValues&&ne.previousTriggersValues.has(ce.triggerName)){const we=ne.previousTriggersValues.get(ce.triggerName),ot=this.statesByElement.get(ce.element);ot&&ot[ce.triggerName]&&(ot[ce.triggerName].value=we)}return void Be.destroy()}}const jt=!u||!this.driver.containsElement(u,Ge),Wt=b.get(Ge),Mi=f.get(Ge),ri=this._buildInstruction(ce,i,Mi,Wt,jt);if(ri.errors&&ri.errors.length)return void P.push(ri);if(jt)return Be.onStart(()=>Sv(Ge,ri.fromStyles)),Be.onDestroy(()=>zp(Ge,ri.toStyles)),void n.push(Be);if(ce.isFallbackTransition)return Be.onStart(()=>Sv(Ge,ri.fromStyles)),Be.onDestroy(()=>zp(Ge,ri.toStyles)),void n.push(Be);const Ai=[];ri.timelines.forEach(ne=>{ne.stretchStartingKeyframe=!0,this.disabledNodes.has(ne.element)||Ai.push(ne)}),ri.timelines=Ai,i.append(Ge,ri.timelines),o.push({instruction:ri,player:Be,element:Ge}),ri.queriedElements.forEach(ne=>lh(l,ne,[]).push(Be)),ri.preStyleProps.forEach((ne,we)=>{const ot=Object.keys(ne);if(ot.length){let Vt=a.get(we);Vt||a.set(we,Vt=new Set),ot.forEach(Qi=>Vt.add(Qi))}}),ri.postStyleProps.forEach((ne,we)=>{const ot=Object.keys(ne);let Vt=c.get(we);Vt||c.set(we,Vt=new Set),ot.forEach(Qi=>Vt.add(Qi))})});if(P.length){const Y=[];P.forEach(U=>{Y.push(function L$e(r,e){return new hi(3505,ms)}())}),k.forEach(U=>U.destroy()),this.reportError(Y)}const W=new Map,oe=new Map;o.forEach(Y=>{const U=Y.element;i.has(U)&&(oe.set(U,U),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,W))}),n.forEach(Y=>{const U=Y.element;this._getPreviousPlayers(U,!1,Y.namespaceId,Y.triggerName,null).forEach(Be=>{lh(W,U,[]).push(Be),Be.destroy()})});const ae=v.filter(Y=>kre(Y,a,c)),xe=new Map;Ere(xe,this.driver,w,c,qg).forEach(Y=>{kre(Y,a,c)&&ae.push(Y)});const Re=new Map;g.forEach((Y,U)=>{Ere(Re,this.driver,new Set(Y),a,"!")}),ae.forEach(Y=>{const U=xe.get(Y),ce=Re.get(Y);xe.set(Y,Object.assign(Object.assign({},U),ce))});const ye=[],le=[],ge={};o.forEach(Y=>{const{element:U,player:ce,instruction:Be}=Y;if(i.has(U)){if(d.has(U))return ce.onDestroy(()=>zp(U,Be.toStyles)),ce.disabled=!0,ce.overrideTotalTime(Be.totalTime),void n.push(ce);let Ge=ge;if(oe.size>1){let Wt=U;const Mi=[];for(;Wt=Wt.parentNode;){const ri=oe.get(Wt);if(ri){Ge=ri;break}Mi.push(Wt)}Mi.forEach(ri=>oe.set(ri,Ge))}const jt=this._buildAnimation(ce.namespaceId,Be,W,s,Re,xe);if(ce.setRealPlayer(jt),Ge===ge)ye.push(ce);else{const Wt=this.playersByElement.get(Ge);Wt&&Wt.length&&(ce.parentPlayer=Tm(Wt)),n.push(ce)}}else Sv(U,Be.fromStyles),ce.onDestroy(()=>zp(U,Be.toStyles)),le.push(ce),d.has(U)&&n.push(ce)}),le.forEach(Y=>{const U=s.get(Y.element);if(U&&U.length){const ce=Tm(U);Y.setRealPlayer(ce)}}),n.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<v.length;Y++){const U=v[Y],ce=U[Wh];if(VC(U,qk),ce&&ce.hasAnimation)continue;let Be=[];if(l.size){let jt=l.get(U);jt&&jt.length&&Be.push(...jt);let Wt=this.driver.query(U,aH,!0);for(let Mi=0;Mi<Wt.length;Mi++){let ri=l.get(Wt[Mi]);ri&&ri.length&&Be.push(...ri)}}const Ge=Be.filter(jt=>!jt.destroyed);Ge.length?LKe(this,U,Ge):this.processLeaveNode(U)}return v.length=0,ye.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();const U=this.players.indexOf(Y);this.players.splice(U,1)}),Y.play()}),ye}elementContainsData(e,t){let i=!1;const n=t[Wh];return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,s){let o=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(o=l)}else{const l=this.playersByElement.get(e);if(l){const a=!s||s==pS;l.forEach(c=>{c.queued||!a&&c.triggerName!=n||o.push(c)})}}return(i||n)&&(o=o.filter(l=>!(i&&i!=l.namespaceId||n&&n!=l.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const a of t.timelines){const c=a.element,d=c!==s,u=lh(i,c,[]);this._getPreviousPlayers(c,d,o,l,t.toState).forEach(g=>{const f=g.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),g.destroy(),u.push(g)})}Sv(s,t.fromStyles)}_buildAnimation(e,t,i,n,s,o){const l=t.triggerName,a=t.element,c=[],d=new Set,u=new Set,p=t.timelines.map(f=>{const m=f.element;d.add(m);const v=m[Wh];if(v&&v.removedBeforeQueried)return new J_(f.duration,f.delay);const x=m!==a,w=function OKe(r){const e=[];return Rre(r,e),e}((i.get(m)||TKe).map(W=>W.getRealPlayer())).filter(W=>!!W.element&&W.element===m),b=s.get(m),I=o.get(m),k=tre(0,this._normalizer,0,f.keyframes,b,I),P=this._buildPlayer(f,k,w);if(f.subTimeline&&n&&u.add(m),x){const W=new bH(e,l,m);W.setRealPlayer(P),c.push(W)}return P});c.forEach(f=>{lh(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function MKe(r,e,t){let i;if(r instanceof Map){if(i=r.get(e),i){if(i.length){const n=i.indexOf(t);i.splice(n,1)}0==i.length&&r.delete(e)}}else if(i=r[e],i){if(i.length){const n=i.indexOf(t);i.splice(n,1)}0==i.length&&delete r[e]}return i}(this.playersByQueriedElement,f.element,f))}),d.forEach(f=>Uh(f,hre));const g=Tm(p);return g.onDestroy(()=>{d.forEach(f=>VC(f,hre)),zp(a,t.toStyles)}),u.forEach(f=>{lh(n,f,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new J_(e.duration,e.delay)}}class bH{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new J_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>tH(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){lh(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rA(r){return r&&1===r.nodeType}function Dre(r,e){const t=r.style.display;return r.style.display=null!=e?e:"none",t}function Ere(r,e,t,i,n){const s=[];t.forEach(a=>s.push(Dre(a)));const o=[];i.forEach((a,c)=>{const d={};a.forEach(u=>{const p=d[u]=e.computeStyle(c,u,n);(!p||0==p.length)&&(c[Wh]=RKe,o.push(c))}),r.set(c,d)});let l=0;return t.forEach(a=>Dre(a,s[l++])),o}function Tre(r,e){const t=new Map;if(r.forEach(l=>t.set(l,[])),0==e.length)return t;const n=new Set(e),s=new Map;function o(l){if(!l)return 1;let a=s.get(l);if(a)return a;const c=l.parentNode;return a=t.has(c)?c:n.has(c)?1:o(c),s.set(l,a),a}return e.forEach(l=>{const a=o(l);1!==a&&t.get(a).push(l)}),t}function Uh(r,e){var t;null===(t=r.classList)||void 0===t||t.add(e)}function VC(r,e){var t;null===(t=r.classList)||void 0===t||t.remove(e)}function LKe(r,e,t){Tm(t).onDone(()=>r.processLeaveNode(e))}function Rre(r,e){for(let t=0;t<r.length;t++){const i=r[t];i instanceof wne?Rre(i.players,e):e.push(i)}}function kre(r,e,t){const i=t.get(r);if(!i)return!1;let n=e.get(r);return n?i.forEach(s=>n.add(s)):e.set(r,i),t.delete(r),!0}class oA{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(n,s)=>{},this._transitionEngine=new AKe(e,t,i),this._timelineEngine=new _Ke(e,t,i),this._transitionEngine.onRemovalComplete=(n,s)=>this.onRemovalComplete(n,s)}registerTrigger(e,t,i,n,s){const o=e+"-"+n;let l=this._triggerCache[o];if(!l){const a=[],d=uH(this._driver,s,a,[]);if(a.length)throw function S$e(r,e){return new hi(3404,ms)}();l=function xKe(r,e,t){return new CKe(r,e,t)}(n,d,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,n,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i,n){this._transitionEngine.removeNode(e,t,n||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){const[s,o]=ire(i);this._timelineEngine.command(s,t,o,n)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,s){if("@"==i.charAt(0)){const[o,l]=ire(i);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(e,t,i,n,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let VKe=(()=>{class r{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let s=r.initialStylesByElement.get(t);s||r.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&zp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zp(this._element,this._initialStyles),this._endStyles&&(zp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Sv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sv(this._element,this._endStyles),this._endStyles=null),zp(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function _H(r){let e=null;const t=Object.keys(r);for(let i=0;i<t.length;i++){const n=t[i];HKe(n)&&(e=e||{},e[n]=r[n])}return e}function HKe(r){return"display"===r||"position"===r}class Are{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:mre(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class zKe{validateStyleProperty(e){return ore(e)}matchesElement(e,t){return!1}containsElement(e,t){return lre(e,t)}getParentElement(e){return rH(e)}query(e,t,i){return are(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,n,s,o=[]){const a={duration:i,delay:n,fill:0==n?"both":"forwards"};s&&(a.easing=s);const c={},d=o.filter(p=>p instanceof Are);(function W$e(r,e){return 0===r||0===e})(i,n)&&d.forEach(p=>{let g=p.currentSnapshot;Object.keys(g).forEach(f=>c[f]=g[f])}),t=function U$e(r,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(l=>{s.hasOwnProperty(l)||o.push(l),s[l]=t[l]}),o.length)for(var n=1;n<e.length;n++){let l=e[n];o.forEach(function(a){l[a]=mre(r,a)})}}return e}(e,t=t.map(p=>Rm(p,!1)),c);const u=function NKe(r,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=_H(e[0]),e.length>1&&(i=_H(e[e.length-1]))):e&&(t=_H(e)),t||i?new VKe(r,t,i):null}(e,t);return new Are(e,t,a,u)}}let jKe=(()=>{class r extends yne{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Yh.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?xne(t):t;return Mre(this._renderer,null,i,"register",[n]),new GKe(i,this._renderer)}}return r.\u0275fac=function(t){return new(t||r)(Ji(Aw),Ji(Zc))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();class GKe extends class GNe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qKe(this._id,e,t||{},this._renderer)}}class qKe{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Mre(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Mre(r,e,t,i,n){return r.setProperty(e,`@@${t}:${i}`,n)}const Fre="@.disabled";let WKe=(()=>{class r{constructor(t,i,n){this.delegate=t,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const l=null==o?void 0:o.parentNode(s);l&&o.removeChild(l,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(s);return d||(d=new Pre("",s,this.engine),this._rendererCache.set(s,d)),d}const o=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,l,t,d.name,d)};return i.data.animation.forEach(a),new UKe(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,n){t>=0&&t<this._microtaskId?this._zone.run(()=>i(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(t){return new(t||r)(Ji(Aw),Ji(oA),Ji(Ta))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();class Pre{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?n=>t.destroyNode(n):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,n=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Fre?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class UKe extends Pre{constructor(e,t,i,n){super(t,i,n),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Fre?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const n=function $Ke(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function KKe(r){const e=r.indexOf(".");return[r.substring(0,e),r.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,n,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(e,t,i)}}let YKe=(()=>{class r extends oA{constructor(t,i,n){super(t.body,i,n)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(t){return new(t||r)(Ji(Zc),Ji(oH),Ji(vH))},r.\u0275prov=xn({token:r,factory:r.\u0275fac}),r})();const Lre=new Ui("AnimationModuleType"),Ore=[{provide:yne,useClass:jKe},{provide:vH,useFactory:function QKe(){return new gKe}},{provide:oA,useClass:YKe},{provide:Aw,useFactory:function XKe(r,e,t){return new WKe(r,e,t)},deps:[JI,oA,Ta]}],Bre=[{provide:oH,useFactory:()=>new zKe},{provide:Lre,useValue:"BrowserAnimations"},...Ore],JKe=[{provide:oH,useClass:cre},{provide:Lre,useValue:"NoopAnimations"},...Ore];let ZKe=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?JKe:Bre}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r}),r.\u0275inj=yt({providers:Bre,imports:[WG]}),r})(),eYe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=wt({type:r,bootstrap:[U4e]}),r.\u0275inj=yt({providers:[Jee,AJ,MJ,kJ,bte],imports:[[WG,z4,DN,Gg,rne,JLe,uV,ANe,uNe,LN,ZUe,ZKe,Kt]]}),r})();(function Vxe(){tG=!1})(),Wwe().bootstrapModule(eYe).catch(r=>console.error(r))},823:()=>{"use strict";function Da(q){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(te){return typeof te}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(q)}function _t(q,N){for(var te=0;te<N.length;te++){var he=N[te];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(q,he.key,he)}}function H(q,N){return!N||"object"!==Da(N)&&"function"!=typeof N?function Z(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(q):N}function fe(q){var N="function"==typeof Map?new Map:void 0;return fe=function(he){if(null===he||!function be(q){return-1!==Function.toString.call(q).indexOf("[native code]")}(he))return he;if("function"!=typeof he)throw new TypeError("Super expression must either be null or a function");if(void 0!==N){if(N.has(he))return N.get(he);N.set(he,Ae)}function Ae(){return Ee(he,arguments,re(this).constructor)}return Ae.prototype=Object.create(he.prototype,{constructor:{value:Ae,enumerable:!1,writable:!0,configurable:!0}}),j(Ae,he)},fe(q)}function Ee(q,N,te){return(Ee=me()?Reflect.construct:function(Ae,Fe,dt){var st=[null];st.push.apply(st,Fe);var nt=new(Function.bind.apply(Ae,st));return dt&&j(nt,dt.prototype),nt}).apply(null,arguments)}function me(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(q){return!1}}function j(q,N){return(j=Object.setPrototypeOf||function(he,Ae){return he.__proto__=Ae,he})(q,N)}function re(q){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)})(q)}var q;"undefined"!=typeof customElements&&(customElements.get("igc-trial-watermark")||(q=function(N){!function K(q,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(N&&N.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),N&&j(q,N)}(he,N);var te=function J(q){var N=me();return function(){var he,te=re(q);if(N){var Ae=re(this).constructor;he=Reflect.construct(te,arguments,Ae)}else he=te.apply(this,arguments);return H(this,he)}}(he);function he(){var Ae;!function _e(q,N){if(!(q instanceof N))throw new TypeError("Cannot call a class as a function")}(this,he);var Fe=(Ae=te.call(this)).attachShadow({mode:"closed"});Ae.__anchor=document.createElement("a"),Ae.__anchor.setAttribute("class","watermark__link"),Ae.__anchor.setAttribute("href","https://www.infragistics.com/how-to-buy/renewal"),Ae.__anchor.setAttribute("target","_blank");var dt=document.createElement("span");dt.setAttribute("class","watermark__background-img");var st=document.createElement("style");return st.textContent=":host{display:block;position:absolute;bottom:0;right:0;width:100%;height:100%;z-index:10000;pointer-events:none}:host .watermark__link{display:inline-flex;align-items:center;position:absolute;bottom:0;right:0;font-family:'Titillium Web', sans-serif;font-size:.875rem;padding:.125rem .25rem;line-height:normal;border:1px solid var(--igx-watermark-border-color, #09f);color:var(--igx-watermark-color, #fff);z-index:10002;background-color:var(--igx-watermark-link-background, #09f);pointer-events:all;text-decoration:none}:host .watermark__link img{margin-right:4px}:host .watermark__background-img{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;pointer-events:none;background-image:var(--igx-watermark-background-image, url(\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDYgMjYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MC4xMjtmaWxsOiMwMDk5RkY7fQo8L3N0eWxlPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJtNC4yIDIuNS0xLjctMC41IDAuNS0xLjctMS4zLTAuMy0wLjUgMS43LTAuNy0wLjItMC4zIDEuMSAwLjggMC4yLTAuOCAyLjhjLTAuMiAwLjgtMC4yIDEuNC0wLjEgMS44IDAuMiAwLjQgMC42IDAuNyAxLjIgMC44IDAuNCAwLjEgMC44IDAuMiAxLjIgMC4ybDAuMi0xLTEtMC4yYy0wLjItMC4xLTAuNC0wLjItMC40LTAuNCAwLTAuMyAwLjEtMC43IDAuMi0xbDAuNy0yLjYgMS43IDAuNCAwLjMtMS4xem0wLjcgNi42IDEuMS00LjFoMC4zYzAuNi0wLjEgMS4yLTAuMiAxLjktMC4xbDAuMy0xLjNjLTAuOC0wLjEtMS41IDAtMi4yIDAuM2wwLjItMC43LTEuNC0wLjMtMS41IDUuOCAxLjMgMC40em00LjMgMS4xIDEuNi01LjktMS4zLTAuNC0xLjYgNS45IDEuMyAwLjR6bTEuOS02LjkgMC40LTEuMy0xLjMtMC40LTAuNCAxLjMgMS4zIDAuNHptNS4xIDIuOGMtMC4yLTAuNC0wLjctMC43LTEuNC0wLjktMC44LTAuMi0xLjYtMC4zLTIuNS0wLjNsLTAuMyAwLjkgMC40IDAuMWMwLjggMC4xIDEuNCAwLjMgMS45IDAuNCAwLjIgMCAwLjQgMC4xIDAuNiAwLjMgMC4xIDAuMiAwLjEgMC41IDAgMC43bC0wLjEgMC40LTEuNS0wLjNjLTAuNS0wLjEtMS4xLTAuMS0xLjYgMC4xLTAuNCAwLjItMC43IDAuNi0wLjggMS4yLTAuMyAxLjIgMC4xIDIgMS4yIDIuNCAwLjcgMC4yIDEuMyAwLjIgMiAwLjEgMC40IDAuNCAwLjkgMC43IDEuNCAwLjlsMC4zLTFjLTAuMS0wLjEtMC4zLTAuMS0wLjMtMC4zLTAuMS0wLjEtMC4xLTAuMyAwLTAuNGwwLjctMi43YzAuMy0wLjcgMC4yLTEuMiAwLTEuNnptLTEuNiAyLjYtMC40IDEuNWgtMC4yYy0wLjQgMC0wLjkgMC0xLjMtMC4yLTAuNS0wLjEtMC42LTAuNS0wLjUtMXMwLjUtMC44IDAuOS0wLjdoMC4xYzAgMC4yIDEuNCAwLjQgMS40IDAuNHptMy41IDMuOSAyLjMtOC40LTEuMy0wLjQtMi4zIDguNCAxLjMgMC40eiIvPgo8L3N2Zz4K\"));background-size:200px 150px;background-position:top left}@media all and (-ms-high-contrast: none){:host .watermark__background-img{background-image:none}}\n",Fe.appendChild(st),Fe.appendChild(Ae.__anchor),Fe.appendChild(dt),document.getElementById("igniteui-watermark-themes")||(Ae.__themes=document.createElement("style"),Ae.__themes.setAttribute("id","igniteui-watermark-themes"),Ae.__themes.textContent=".dark-theme {\n    --igx-watermark-border-color: #72da67;\n    --igx-watermark-color: #fff;\n    --igx-watermark-link-background: #72da67;\n    --igx-watermark-background-image:  url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxODQiIGhlaWdodD0iMTA0IiB2aWV3Qm94PSIwIDAgMTg0IDEwNCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgICAgb3BhY2l0eTogMC4wNTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9InRyaWFsIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xNi43MiwxMC4xNDhMMTAuMyw4LjQzNGwxLjgwNi02LjcyM0w3LjA5LDAuMzY5LDUuMjgzLDcuMDkyLDIuMzA4LDYuMywxLjE1LDEwLjYwOWwyLjk3NSwwLjhMMS4yMzUsMjIuMTYxcS0xLjM0NSw1LjAwNy0uMzY3LDcuMjA3VDUuOCwzMi42MjNhMjguMTYzLDI4LjE2MywwLDAsMCw0LjkuNjY0bDAuODUxLTQuMS0zLjg1LS44OHEtMS43MjEtLjQ2LTEuODg5LTEuNWExMS4xODgsMTEuMTg4LDAsMCwxLC41OTEtMy44NjdsMi43NDEtMTAuMiw2LjQxNiwxLjcxNFpNMTkuNywzNS43OWw0LjM0OC0xNi4xODEsMS4xMzUtLjE0NGEzMy44NzEsMzMuODcxLDAsMCwxLDcuMzgyLS4yMTRMMzMuOTE5LDE0LjJhMjIuOTQxLDIyLjk0MSwwLDAsMC04Ljc4OCwxLjE4TDI1Ljg3OCwxMi42bC01LjAyMS0xLjM0MkwxNC42MjksMzQuNDM2Wm0xNi43ODMsNC40ODUsNi4yMjktMjMuMTgyTDM3LjY0LDE1LjczOCwzMS40MTIsMzguOTIxWm03LjI4Ny0yNy4xMjNMNDUuMiw3LjgyLDQwLjEzMiw2LjQ2NiwzOC43LDExLjhabTIwLjA0MiwxMXEtMS4zOTEtMi4zMzQtNS42NDUtMy40NzFhNDEuOTUxLDQxLjk1MSwwLDAsMC05LjY0NS0xLjI4NWwtMC43NzMsMy42MiwxLjUxMywwLjNxNC41NjMsMC44MjIsNy41MzgsMS42MTdhMy41NjIsMy41NjIsMCwwLDEsMi4yLDEuMzgyLDMuNTI4LDMuNTI4LDAsMCwxLC4xMTYsMi44MTRMNTguNjU4LDMwLjgsNTIuNTI0LDI5LjdhMTAuNjQ1LDEwLjY0NSwwLDAsMC02LjMuMzU0cS0yLjMwNiwxLjA3NC0zLjI1Myw0LjYtMS45ODEsNy4zNzIsNC45NDYsOS4yMjNhMTguMzU3LDE4LjM1NywwLDAsMCw3Ljk0Ni4yODUsMTAuMTM0LDEwLjEzNCwwLDAsMCw1LjcyMiwzLjM2OEw2Mi43Niw0My43MmEyLjY2NSwyLjY2NSwwLDAsMS0xLjM0My0xLjAzLDIuMjczLDIuMjczLDAsMCwxLS4xMy0xLjY1bDIuODQtMTAuNTcxUTY1LjIsMjYuNDgyLDYzLjgwOCwyNC4xNDdaTTU3LjcsMzQuMzY3bC0xLjY1Nyw2LjE2Ni0wLjkxMi4wNTVBMTguNjM1LDE4LjYzNSwwLDAsMSw1MCw0MC4wMTNxLTIuODM2LS43NTgtMS45NzYtMy45NTdhMy4yMzcsMy4yMzcsMCwwLDEsNC4xNDItMi42MlpNNzEuNTMyLDQ5LjY0Mmw4LjgyLTMyLjgyNi01LjA2OC0xLjM1NC04LjgyLDMyLjgyNloiLz4KPC9zdmc+Cg==');\n}\n\n.light-theme {\n    --igx-watermark-border-color: #e41c77;\n    --igx-watermark-color: #fff;\n    --igx-watermark-link-background: #e41c77;\n    --igx-watermark-background-image:  url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjYiIGhlaWdodD0iMjA5IiB2aWV3Qm94PSIwIDAgMzY2IDIwOSI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbC1ydWxlOiBldmVub2RkOwogICAgICAgIG9wYWNpdHk6IDAuMDU7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoIGlkPSJ0cmlhbCIgY2xhc3M9ImNscy0xIiBkPSJNMzMuMzUsMjAuM2wtMTIuOC0zLjQyOSwzLjYtMTMuNDQ2TDE0LjE0MSwwLjczOGwtMy42LDEzLjQ0Nkw0LjYsMTIuNTk0LDIuMjkzLDIxLjIxOGw1LjkzNSwxLjU5TDIuNDYzLDQ0LjMyMVEtMC4yMiw1NC4zMzYsMS43MzIsNTguNzM1dDkuODM0LDYuNTExYTU2LjA2MSw1Ni4wNjEsMCwwLDAsOS43ODEsMS4zMjlsMS43LTguMTkyLTcuNjc4LTEuNzU5cS0zLjQzMi0uOTE5LTMuNzY5LTN0MS4xNzgtNy43MzVsNS40NjYtMjAuNCwxMi44LDMuNDI5Wk0zOS4yODUsNzEuNThsOC42NzEtMzIuMzYyLDIuMjY0LS4yODhBNjcuMzg4LDY3LjM4OCwwLDAsMSw2NC45NDUsMzguNWwyLjcwOC0xMC4xMDdhNDUuNjQyLDQ1LjY0MiwwLDAsMC0xNy41MjgsMi4zNmwxLjQ5MS01LjU2NEw0MS42LDIyLjUwNywyOS4xNzgsNjguODcyWk03Mi43Niw4MC41NUw4NS4xODMsMzQuMTg1LDc1LjA3NiwzMS40NzcsNjIuNjUyLDc3Ljg0MVpNODcuMjk1LDI2LjNsMi44NTctMTAuNjY0TDgwLjA0NSwxMi45MzEsNzcuMTg4LDIzLjU5NVptMzkuOTc0LDIxLjk5MXEtMi43NzUtNC42NjgtMTEuMjU5LTYuOTQzYTgzLjQ1OCw4My40NTgsMCwwLDAtMTkuMjM4LTIuNTcxbC0xLjU0Miw3LjI0LDMuMDE3LDAuNjFxOS4xLDEuNjQ0LDE1LjAzNSwzLjIzNGE3LjEsNy4xLDAsMCwxLDQuMzc4LDIuNzYzcTEuMjI0LDEuOTE5LjIzMiw1LjYyOEwxMTcsNjEuNTkzbC0xMi4yMzUtMi4xODVROTYuOCw1Ny45NzEsOTIuMiw2MC4xMTZUODUuNzEsNjkuMzFxLTMuOTUxLDE0Ljc0NCw5Ljg2NiwxOC40NDZhMzYuNTEzLDM2LjUxMywwLDAsMCwxNS44NDguNTY5cTMuNDM4LDQuNiwxMS40MTQsNi43MzZsMi4zNC03LjYyMkE1LjMxOSw1LjMxOSwwLDAsMSwxMjIuNSw4NS4zOGE0LjU2LDQuNTYsMCwwLDEtLjI1OS0zLjNsNS42NjUtMjEuMTQyUTEzMC4wNDQsNTIuOTY0LDEyNy4yNjksNDguMjk1Wk0xMTUuMDg0LDY4LjczM2wtMy4zMDUsMTIuMzMzLTEuODE4LjEwOWEzNy4wNywzNy4wNywwLDAsMS0xMC4yMjctMS4xNXEtNS42NTctMS41MTYtMy45NDItNy45MTR0OC4yNjItNS4yNFptMjcuNTkyLDMwLjU1LDE3LjU5MS02NS42NTJMMTUwLjE2LDMwLjkyMywxMzIuNTY4LDk2LjU3NVoiLz4KPC9zdmc+Cg==');\n}"),Ae}return function Me(q,N,te){N&&_t(q.prototype,N),te&&_t(q,te)}(he,[{key:"connectedCallback",value:function(){this.__anchor.textContent=this.hasAttribute("text")?this.getAttribute("text"):"Trial version of Ignite UI for Angular";var Fe=document.createElement("img");Fe.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNyA3aC00djJoNGMxLjY1IDAgMyAxLjM1IDMgM3MtMS4zNSAzLTMgM2gtNHYyaDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6bS02IDhIN2MtMS42NSAwLTMtMS4zNS0zLTNzMS4zNS0zIDMtM2g0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0yem0tMy00aDh2Mkg4eiIvPjwvc3ZnPg=="),this.__anchor.prepend(Fe),this.__themes&&this.hasAttribute("theming")&&this.getAttribute("theming")&&document.head.appendChild(this.__themes)}}]),he}(fe(HTMLElement)),customElements.define("igc-trial-watermark",q)))},650:Da=>{Da.exports=function _e(_t,Me,K){function J(fe,Ee){if(!Me[fe]){if(!_t[fe]){if(H)return H(fe,!0);var be=new Error("Cannot find module '"+fe+"'");throw be.code="MODULE_NOT_FOUND",be}var j=Me[fe]={exports:{}};_t[fe][0].call(j.exports,function(re){return J(_t[fe][1][re]||re)},j,j.exports,_e,_t,Me,K)}return Me[fe].exports}for(var H=void 0,Z=0;Z<K.length;Z++)J(K[Z]);return J}({1:[function(_e,_t,Me){"use strict";var K=_e("./utils"),J=_e("./support"),H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Me.encode=function(Z){for(var fe,Ee,me,j,re,V,q=[],N=0,te=Z.length,he=te,Ae="string"!==K.getTypeOf(Z);N<Z.length;)he=te-N,me=Ae?(fe=Z[N++],Ee=N<te?Z[N++]:0,N<te?Z[N++]:0):(fe=Z.charCodeAt(N++),Ee=N<te?Z.charCodeAt(N++):0,N<te?Z.charCodeAt(N++):0),j=(3&fe)<<4|Ee>>4,re=1<he?(15&Ee)<<2|me>>6:64,V=2<he?63&me:64,q.push(H.charAt(fe>>2)+H.charAt(j)+H.charAt(re)+H.charAt(V));return q.join("")},Me.decode=function(Z){var fe,Ee,me,be,j,re,V=0,q=0,N="data:";if(Z.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");var te,he=3*(Z=Z.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(Z.charAt(Z.length-1)===H.charAt(64)&&he--,Z.charAt(Z.length-2)===H.charAt(64)&&he--,he%1!=0)throw new Error("Invalid base64 input, bad content length.");for(te=J.uint8array?new Uint8Array(0|he):new Array(0|he);V<Z.length;)fe=H.indexOf(Z.charAt(V++))<<2|(be=H.indexOf(Z.charAt(V++)))>>4,Ee=(15&be)<<4|(j=H.indexOf(Z.charAt(V++)))>>2,me=(3&j)<<6|(re=H.indexOf(Z.charAt(V++))),te[q++]=fe,64!==j&&(te[q++]=Ee),64!==re&&(te[q++]=me);return te}},{"./support":30,"./utils":32}],2:[function(_e,_t,Me){"use strict";var K=_e("./external"),J=_e("./stream/DataWorker"),H=_e("./stream/Crc32Probe"),Z=_e("./stream/DataLengthProbe");function fe(Ee,me,be,j,re){this.compressedSize=Ee,this.uncompressedSize=me,this.crc32=be,this.compression=j,this.compressedContent=re}fe.prototype={getContentWorker:function(){var Ee=new J(K.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Z("data_length")),me=this;return Ee.on("end",function(){if(this.streamInfo.data_length!==me.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Ee},getCompressedWorker:function(){return new J(K.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},fe.createWorkerFrom=function(Ee,me,be){return Ee.pipe(new H).pipe(new Z("uncompressedSize")).pipe(me.compressWorker(be)).pipe(new Z("compressedSize")).withStreamInfo("compression",me)},_t.exports=fe},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(_e,_t,Me){"use strict";var K=_e("./stream/GenericWorker");Me.STORE={magic:"\0\0",compressWorker:function(J){return new K("STORE compression")},uncompressWorker:function(){return new K("STORE decompression")}},Me.DEFLATE=_e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(_e,_t,Me){"use strict";var K=_e("./utils"),J=function(){for(var H,Z=[],fe=0;fe<256;fe++){H=fe;for(var Ee=0;Ee<8;Ee++)H=1&H?3988292384^H>>>1:H>>>1;Z[fe]=H}return Z}();_t.exports=function(H,Z){return void 0!==H&&H.length?"string"!==K.getTypeOf(H)?function(fe,Ee,me,be){var j=J,re=0+me;fe^=-1;for(var V=0;V<re;V++)fe=fe>>>8^j[255&(fe^Ee[V])];return-1^fe}(0|Z,H,H.length):function(fe,Ee,me,be){var j=J,re=0+me;fe^=-1;for(var V=0;V<re;V++)fe=fe>>>8^j[255&(fe^Ee.charCodeAt(V))];return-1^fe}(0|Z,H,H.length):0}},{"./utils":32}],5:[function(_e,_t,Me){"use strict";Me.base64=!1,Me.binary=!1,Me.dir=!1,Me.createFolders=!0,Me.date=null,Me.compression=null,Me.compressionOptions=null,Me.comment=null,Me.unixPermissions=null,Me.dosPermissions=null},{}],6:[function(_e,_t,Me){"use strict";var K;K="undefined"!=typeof Promise?Promise:_e("lie"),_t.exports={Promise:K}},{lie:37}],7:[function(_e,_t,Me){"use strict";var K="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,J=_e("pako"),H=_e("./utils"),Z=_e("./stream/GenericWorker"),fe=K?"uint8array":"array";function Ee(me,be){Z.call(this,"FlateWorker/"+me),this._pako=null,this._pakoAction=me,this._pakoOptions=be,this.meta={}}Me.magic="\b\0",H.inherits(Ee,Z),Ee.prototype.processChunk=function(me){this.meta=me.meta,null===this._pako&&this._createPako(),this._pako.push(H.transformTo(fe,me.data),!1)},Ee.prototype.flush=function(){Z.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},Ee.prototype.cleanUp=function(){Z.prototype.cleanUp.call(this),this._pako=null},Ee.prototype._createPako=function(){this._pako=new J[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var me=this;this._pako.onData=function(be){me.push({data:be,meta:me.meta})}},Me.compressWorker=function(me){return new Ee("Deflate",me)},Me.uncompressWorker=function(){return new Ee("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(_e,_t,Me){"use strict";function K(j,re){var V,q="";for(V=0;V<re;V++)q+=String.fromCharCode(255&j),j>>>=8;return q}function J(j,re,V,q,N,te){var he,Ae,Fe=j.file,dt=j.compression,st=te!==fe.utf8encode,Rt=H.transformTo("string",te(Fe.name)),nt=H.transformTo("string",fe.utf8encode(Fe.name)),Bt=Fe.comment,Hi=H.transformTo("string",te(Bt)),ve=H.transformTo("string",fe.utf8encode(Bt)),ct=nt.length!==Fe.name.length,B=ve.length!==Bt.length,mt="",Xi="",kt="",vn=Fe.dir,Ft=Fe.date,ji={crc32:0,compressedSize:0,uncompressedSize:0};re&&!V||(ji.crc32=j.crc32,ji.compressedSize=j.compressedSize,ji.uncompressedSize=j.uncompressedSize);var qe=0;re&&(qe|=8),st||!ct&&!B||(qe|=2048);var It,Jo,Ue=0,Ni=0;vn&&(Ue|=16),"UNIX"===N?(Ni=798,Ue|=(Jo=It=Fe.unixPermissions,It||(Jo=vn?16893:33204),(65535&Jo)<<16)):(Ni=20,Ue|=function(It){return 63&(It||0)}(Fe.dosPermissions)),he=Ft.getUTCHours(),he<<=6,he|=Ft.getUTCMinutes(),he<<=5,he|=Ft.getUTCSeconds()/2,Ae=Ft.getUTCFullYear()-1980,Ae<<=4,Ae|=Ft.getUTCMonth()+1,Ae<<=5,Ae|=Ft.getUTCDate(),ct&&(Xi=K(1,1)+K(Ee(Rt),4)+nt,mt+="up"+K(Xi.length,2)+Xi),B&&(kt=K(1,1)+K(Ee(Hi),4)+ve,mt+="uc"+K(kt.length,2)+kt);var di="";return di+="\n\0",di+=K(qe,2),di+=dt.magic,di+=K(he,2),di+=K(Ae,2),di+=K(ji.crc32,4),di+=K(ji.compressedSize,4),di+=K(ji.uncompressedSize,4),di+=K(Rt.length,2),di+=K(mt.length,2),{fileRecord:me.LOCAL_FILE_HEADER+di+Rt+mt,dirRecord:me.CENTRAL_FILE_HEADER+K(Ni,2)+di+K(Hi.length,2)+"\0\0\0\0"+K(Ue,4)+K(q,4)+Rt+mt+Hi}}var H=_e("../utils"),Z=_e("../stream/GenericWorker"),fe=_e("../utf8"),Ee=_e("../crc32"),me=_e("../signature");function be(j,re,V,q){Z.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=re,this.zipPlatform=V,this.encodeFileName=q,this.streamFiles=j,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}H.inherits(be,Z),be.prototype.push=function(j){var re=j.meta.percent||0,V=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(j):(this.bytesWritten+=j.data.length,Z.prototype.push.call(this,{data:j.data,meta:{currentFile:this.currentFile,percent:V?(re+100*(V-q-1))/V:100}}))},be.prototype.openedSource=function(j){this.currentSourceOffset=this.bytesWritten,this.currentFile=j.file.name;var re=this.streamFiles&&!j.file.dir;if(re){var V=J(j,re,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},be.prototype.closedSource=function(j){this.accumulate=!1;var q,re=this.streamFiles&&!j.file.dir,V=J(j,re,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),re)this.push({data:(q=j,me.DATA_DESCRIPTOR+K(q.crc32,4)+K(q.compressedSize,4)+K(q.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},be.prototype.flush=function(){for(var j=this.bytesWritten,re=0;re<this.dirRecords.length;re++)this.push({data:this.dirRecords[re],meta:{percent:100}});var N,te,he,dt,q=(N=this.dirRecords.length,te=this.bytesWritten-j,he=j,dt=H.transformTo("string",(0,this.encodeFileName)(this.zipComment)),me.CENTRAL_DIRECTORY_END+"\0\0\0\0"+K(N,2)+K(N,2)+K(te,4)+K(he,4)+K(dt.length,2)+dt);this.push({data:q,meta:{percent:100}})},be.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},be.prototype.registerPrevious=function(j){this._sources.push(j);var re=this;return j.on("data",function(V){re.processChunk(V)}),j.on("end",function(){re.closedSource(re.previous.streamInfo),re._sources.length?re.prepareNextSource():re.end()}),j.on("error",function(V){re.error(V)}),this},be.prototype.resume=function(){return!!Z.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},be.prototype.error=function(j){var re=this._sources;if(!Z.prototype.error.call(this,j))return!1;for(var V=0;V<re.length;V++)try{re[V].error(j)}catch(q){}return!0},be.prototype.lock=function(){Z.prototype.lock.call(this);for(var j=this._sources,re=0;re<j.length;re++)j[re].lock()},_t.exports=be},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(_e,_t,Me){"use strict";var K=_e("../compressions"),J=_e("./ZipFileWorker");Me.generateWorker=function(H,Z,fe){var Ee=new J(Z.streamFiles,fe,Z.platform,Z.encodeFileName),me=0;try{H.forEach(function(be,j){me++;var re=function(te,he){var Ae=te||he,Fe=K[Ae];if(!Fe)throw new Error(Ae+" is not a valid compression method !");return Fe}(j.options.compression,Z.compression),q=j.dir,N=j.date;j._compressWorker(re,j.options.compressionOptions||Z.compressionOptions||{}).withStreamInfo("file",{name:be,dir:q,date:N,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(Ee)}),Ee.entriesCount=me}catch(be){Ee.error(be)}return Ee}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(_e,_t,Me){"use strict";function K(){if(!(this instanceof K))return new K;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var J=new K;for(var H in this)"function"!=typeof this[H]&&(J[H]=this[H]);return J}}(K.prototype=_e("./object")).loadAsync=_e("./load"),K.support=_e("./support"),K.defaults=_e("./defaults"),K.version="3.10.0",K.loadAsync=function(J,H){return(new K).loadAsync(J,H)},K.external=_e("./external"),_t.exports=K},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(_e,_t,Me){"use strict";var K=_e("./utils"),J=_e("./external"),H=_e("./utf8"),Z=_e("./zipEntries"),fe=_e("./stream/Crc32Probe"),Ee=_e("./nodejsUtils");function me(be){return new J.Promise(function(j,re){var V=be.decompressed.getContentWorker().pipe(new fe);V.on("error",function(q){re(q)}).on("end",function(){V.streamInfo.crc32!==be.decompressed.crc32?re(new Error("Corrupted zip : CRC32 mismatch")):j()}).resume()})}_t.exports=function(be,j){var re=this;return j=K.extend(j||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:H.utf8decode}),Ee.isNode&&Ee.isStream(be)?J.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):K.prepareContent("the loaded zip file",be,!0,j.optimizedBinaryString,j.base64).then(function(V){var q=new Z(j);return q.load(V),q}).then(function(V){var q=[J.Promise.resolve(V)],N=V.files;if(j.checkCRC32)for(var te=0;te<N.length;te++)q.push(me(N[te]));return J.Promise.all(q)}).then(function(V){for(var q=V.shift(),N=q.files,te=0;te<N.length;te++){var he=N[te],Ae=he.fileNameStr,Fe=K.resolve(he.fileNameStr);re.file(Fe,he.decompressed,{binary:!0,optimizedBinaryString:!0,date:he.date,dir:he.dir,comment:he.fileCommentStr.length?he.fileCommentStr:null,unixPermissions:he.unixPermissions,dosPermissions:he.dosPermissions,createFolders:j.createFolders}),he.dir||(re.file(Fe).unsafeOriginalName=Ae)}return q.zipComment.length&&(re.comment=q.zipComment),re})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(_e,_t,Me){"use strict";var K=_e("../utils"),J=_e("../stream/GenericWorker");function H(Z,fe){J.call(this,"Nodejs stream input adapter for "+Z),this._upstreamEnded=!1,this._bindStream(fe)}K.inherits(H,J),H.prototype._bindStream=function(Z){var fe=this;(this._stream=Z).pause(),Z.on("data",function(Ee){fe.push({data:Ee,meta:{percent:0}})}).on("error",function(Ee){fe.isPaused?this.generatedError=Ee:fe.error(Ee)}).on("end",function(){fe.isPaused?fe._upstreamEnded=!0:fe.end()})},H.prototype.pause=function(){return!!J.prototype.pause.call(this)&&(this._stream.pause(),!0)},H.prototype.resume=function(){return!!J.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},_t.exports=H},{"../stream/GenericWorker":28,"../utils":32}],13:[function(_e,_t,Me){"use strict";var K=_e("readable-stream").Readable;function J(H,Z,fe){K.call(this,Z),this._helper=H;var Ee=this;H.on("data",function(me,be){Ee.push(me)||Ee._helper.pause(),fe&&fe(be)}).on("error",function(me){Ee.emit("error",me)}).on("end",function(){Ee.push(null)})}_e("../utils").inherits(J,K),J.prototype._read=function(){this._helper.resume()},_t.exports=J},{"../utils":32,"readable-stream":16}],14:[function(_e,_t,Me){"use strict";_t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(K,J){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(K,J);if("number"==typeof K)throw new Error('The "data" argument must not be a number');return new Buffer(K,J)},allocBuffer:function(K){if(Buffer.alloc)return Buffer.alloc(K);var J=new Buffer(K);return J.fill(0),J},isBuffer:function(K){return Buffer.isBuffer(K)},isStream:function(K){return K&&"function"==typeof K.on&&"function"==typeof K.pause&&"function"==typeof K.resume}}},{}],15:[function(_e,_t,Me){"use strict";function K(Fe,dt,st){var Rt,nt=H.getTypeOf(dt),Bt=H.extend(st||{},Ee);Bt.date=Bt.date||new Date,null!==Bt.compression&&(Bt.compression=Bt.compression.toUpperCase()),"string"==typeof Bt.unixPermissions&&(Bt.unixPermissions=parseInt(Bt.unixPermissions,8)),Bt.unixPermissions&&16384&Bt.unixPermissions&&(Bt.dir=!0),Bt.dosPermissions&&16&Bt.dosPermissions&&(Bt.dir=!0),Bt.dir&&(Fe=N(Fe)),Bt.createFolders&&(Rt=q(Fe))&&te.call(this,Rt,!0),st&&void 0!==st.binary||(Bt.binary=!("string"===nt&&!1===Bt.binary&&!1===Bt.base64)),(dt instanceof me&&0===dt.uncompressedSize||Bt.dir||!dt||0===dt.length)&&(Bt.base64=!1,Bt.binary=!0,dt="",Bt.compression="STORE",nt="string");var ve;ve=dt instanceof me||dt instanceof Z?dt:re.isNode&&re.isStream(dt)?new V(Fe,dt):H.prepareContent(Fe,dt,Bt.binary,Bt.optimizedBinaryString,Bt.base64);var ct=new be(Fe,ve,Bt);this.files[Fe]=ct}var J=_e("./utf8"),H=_e("./utils"),Z=_e("./stream/GenericWorker"),fe=_e("./stream/StreamHelper"),Ee=_e("./defaults"),me=_e("./compressedObject"),be=_e("./zipObject"),j=_e("./generate"),re=_e("./nodejsUtils"),V=_e("./nodejs/NodejsStreamInputAdapter"),q=function(Fe){"/"===Fe.slice(-1)&&(Fe=Fe.substring(0,Fe.length-1));var dt=Fe.lastIndexOf("/");return 0<dt?Fe.substring(0,dt):""},N=function(Fe){return"/"!==Fe.slice(-1)&&(Fe+="/"),Fe},te=function(Fe,dt){return dt=void 0!==dt?dt:Ee.createFolders,Fe=N(Fe),this.files[Fe]||K.call(this,Fe,null,{dir:!0,createFolders:dt}),this.files[Fe]};function he(Fe){return"[object RegExp]"===Object.prototype.toString.call(Fe)}var Ae={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Fe){var dt,st,Rt;for(dt in this.files)Rt=this.files[dt],(st=dt.slice(this.root.length,dt.length))&&dt.slice(0,this.root.length)===this.root&&Fe(st,Rt)},filter:function(Fe){var dt=[];return this.forEach(function(st,Rt){Fe(st,Rt)&&dt.push(Rt)}),dt},file:function(Fe,dt,st){if(1!==arguments.length)return K.call(this,Fe=this.root+Fe,dt,st),this;if(he(Fe)){var Rt=Fe;return this.filter(function(Bt,Hi){return!Hi.dir&&Rt.test(Bt)})}var nt=this.files[this.root+Fe];return nt&&!nt.dir?nt:null},folder:function(Fe){if(!Fe)return this;if(he(Fe))return this.filter(function(nt,Bt){return Bt.dir&&Fe.test(nt)});var st=te.call(this,this.root+Fe),Rt=this.clone();return Rt.root=st.name,Rt},remove:function(Fe){var dt=this.files[Fe=this.root+Fe];if(dt||("/"!==Fe.slice(-1)&&(Fe+="/"),dt=this.files[Fe]),dt&&!dt.dir)delete this.files[Fe];else for(var st=this.filter(function(nt,Bt){return Bt.name.slice(0,Fe.length)===Fe}),Rt=0;Rt<st.length;Rt++)delete this.files[st[Rt].name];return this},generate:function(Fe){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Fe){var dt,st={};try{if((st=H.extend(Fe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:J.utf8encode})).type=st.type.toLowerCase(),st.compression=st.compression.toUpperCase(),"binarystring"===st.type&&(st.type="string"),!st.type)throw new Error("No output type specified.");H.checkSupport(st.type),"darwin"!==st.platform&&"freebsd"!==st.platform&&"linux"!==st.platform&&"sunos"!==st.platform||(st.platform="UNIX"),"win32"===st.platform&&(st.platform="DOS"),dt=j.generateWorker(this,st,st.comment||this.comment||"")}catch(nt){(dt=new Z("error")).error(nt)}return new fe(dt,st.type||"string",st.mimeType)},generateAsync:function(Fe,dt){return this.generateInternalStream(Fe).accumulate(dt)},generateNodeStream:function(Fe,dt){return(Fe=Fe||{}).type||(Fe.type="nodebuffer"),this.generateInternalStream(Fe).toNodejsStream(dt)}};_t.exports=Ae},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(_e,_t,Me){_t.exports=_e("stream")},{stream:void 0}],17:[function(_e,_t,Me){"use strict";var K=_e("./DataReader");function J(H){K.call(this,H);for(var Z=0;Z<this.data.length;Z++)H[Z]=255&H[Z]}_e("../utils").inherits(J,K),J.prototype.byteAt=function(H){return this.data[this.zero+H]},J.prototype.lastIndexOfSignature=function(H){for(var Z=H.charCodeAt(0),fe=H.charCodeAt(1),Ee=H.charCodeAt(2),me=H.charCodeAt(3),be=this.length-4;0<=be;--be)if(this.data[be]===Z&&this.data[be+1]===fe&&this.data[be+2]===Ee&&this.data[be+3]===me)return be-this.zero;return-1},J.prototype.readAndCheckSignature=function(H){var Z=H.charCodeAt(0),fe=H.charCodeAt(1),Ee=H.charCodeAt(2),me=H.charCodeAt(3),be=this.readData(4);return Z===be[0]&&fe===be[1]&&Ee===be[2]&&me===be[3]},J.prototype.readData=function(H){if(this.checkOffset(H),0===H)return[];var Z=this.data.slice(this.zero+this.index,this.zero+this.index+H);return this.index+=H,Z},_t.exports=J},{"../utils":32,"./DataReader":18}],18:[function(_e,_t,Me){"use strict";var K=_e("../utils");function J(H){this.data=H,this.length=H.length,this.index=0,this.zero=0}J.prototype={checkOffset:function(H){this.checkIndex(this.index+H)},checkIndex:function(H){if(this.length<this.zero+H||H<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+H+"). Corrupted zip ?")},setIndex:function(H){this.checkIndex(H),this.index=H},skip:function(H){this.setIndex(this.index+H)},byteAt:function(H){},readInt:function(H){var Z,fe=0;for(this.checkOffset(H),Z=this.index+H-1;Z>=this.index;Z--)fe=(fe<<8)+this.byteAt(Z);return this.index+=H,fe},readString:function(H){return K.transformTo("string",this.readData(H))},readData:function(H){},lastIndexOfSignature:function(H){},readAndCheckSignature:function(H){},readDate:function(){var H=this.readInt(4);return new Date(Date.UTC(1980+(H>>25&127),(H>>21&15)-1,H>>16&31,H>>11&31,H>>5&63,(31&H)<<1))}},_t.exports=J},{"../utils":32}],19:[function(_e,_t,Me){"use strict";var K=_e("./Uint8ArrayReader");function J(H){K.call(this,H)}_e("../utils").inherits(J,K),J.prototype.readData=function(H){this.checkOffset(H);var Z=this.data.slice(this.zero+this.index,this.zero+this.index+H);return this.index+=H,Z},_t.exports=J},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(_e,_t,Me){"use strict";var K=_e("./DataReader");function J(H){K.call(this,H)}_e("../utils").inherits(J,K),J.prototype.byteAt=function(H){return this.data.charCodeAt(this.zero+H)},J.prototype.lastIndexOfSignature=function(H){return this.data.lastIndexOf(H)-this.zero},J.prototype.readAndCheckSignature=function(H){return H===this.readData(4)},J.prototype.readData=function(H){this.checkOffset(H);var Z=this.data.slice(this.zero+this.index,this.zero+this.index+H);return this.index+=H,Z},_t.exports=J},{"../utils":32,"./DataReader":18}],21:[function(_e,_t,Me){"use strict";var K=_e("./ArrayReader");function J(H){K.call(this,H)}_e("../utils").inherits(J,K),J.prototype.readData=function(H){if(this.checkOffset(H),0===H)return new Uint8Array(0);var Z=this.data.subarray(this.zero+this.index,this.zero+this.index+H);return this.index+=H,Z},_t.exports=J},{"../utils":32,"./ArrayReader":17}],22:[function(_e,_t,Me){"use strict";var K=_e("../utils"),J=_e("../support"),H=_e("./ArrayReader"),Z=_e("./StringReader"),fe=_e("./NodeBufferReader"),Ee=_e("./Uint8ArrayReader");_t.exports=function(me){var be=K.getTypeOf(me);return K.checkSupport(be),"string"!==be||J.uint8array?"nodebuffer"===be?new fe(me):J.uint8array?new Ee(K.transformTo("uint8array",me)):new H(K.transformTo("array",me)):new Z(me)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(_e,_t,Me){"use strict";Me.LOCAL_FILE_HEADER="PK\x03\x04",Me.CENTRAL_FILE_HEADER="PK\x01\x02",Me.CENTRAL_DIRECTORY_END="PK\x05\x06",Me.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",Me.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",Me.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(_e,_t,Me){"use strict";var K=_e("./GenericWorker"),J=_e("../utils");function H(Z){K.call(this,"ConvertWorker to "+Z),this.destType=Z}J.inherits(H,K),H.prototype.processChunk=function(Z){this.push({data:J.transformTo(this.destType,Z.data),meta:Z.meta})},_t.exports=H},{"../utils":32,"./GenericWorker":28}],25:[function(_e,_t,Me){"use strict";var K=_e("./GenericWorker"),J=_e("../crc32");function H(){K.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}_e("../utils").inherits(H,K),H.prototype.processChunk=function(Z){this.streamInfo.crc32=J(Z.data,this.streamInfo.crc32||0),this.push(Z)},_t.exports=H},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(_e,_t,Me){"use strict";var K=_e("../utils"),J=_e("./GenericWorker");function H(Z){J.call(this,"DataLengthProbe for "+Z),this.propName=Z,this.withStreamInfo(Z,0)}K.inherits(H,J),H.prototype.processChunk=function(Z){Z&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+Z.data.length),J.prototype.processChunk.call(this,Z)},_t.exports=H},{"../utils":32,"./GenericWorker":28}],27:[function(_e,_t,Me){"use strict";var K=_e("../utils"),J=_e("./GenericWorker");function H(Z){J.call(this,"DataWorker");var fe=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,Z.then(function(Ee){fe.dataIsReady=!0,fe.data=Ee,fe.max=Ee&&Ee.length||0,fe.type=K.getTypeOf(Ee),fe.isPaused||fe._tickAndRepeat()},function(Ee){fe.error(Ee)})}K.inherits(H,J),H.prototype.cleanUp=function(){J.prototype.cleanUp.call(this),this.data=null},H.prototype.resume=function(){return!!J.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,K.delay(this._tickAndRepeat,[],this)),!0)},H.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(K.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},H.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var Z=null,fe=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":Z=this.data.substring(this.index,fe);break;case"uint8array":Z=this.data.subarray(this.index,fe);break;case"array":case"nodebuffer":Z=this.data.slice(this.index,fe)}return this.index=fe,this.push({data:Z,meta:{percent:this.max?this.index/this.max*100:0}})},_t.exports=H},{"../utils":32,"./GenericWorker":28}],28:[function(_e,_t,Me){"use strict";function K(J){this.name=J||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}K.prototype={push:function(J){this.emit("data",J)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(J){this.emit("error",J)}return!0},error:function(J){return!this.isFinished&&(this.isPaused?this.generatedError=J:(this.isFinished=!0,this.emit("error",J),this.previous&&this.previous.error(J),this.cleanUp()),!0)},on:function(J,H){return this._listeners[J].push(H),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(J,H){if(this._listeners[J])for(var Z=0;Z<this._listeners[J].length;Z++)this._listeners[J][Z].call(this,H)},pipe:function(J){return J.registerPrevious(this)},registerPrevious:function(J){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=J.streamInfo,this.mergeStreamInfo(),this.previous=J;var H=this;return J.on("data",function(Z){H.processChunk(Z)}),J.on("end",function(){H.end()}),J.on("error",function(Z){H.error(Z)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var J=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),J=!0),this.previous&&this.previous.resume(),!J},flush:function(){},processChunk:function(J){this.push(J)},withStreamInfo:function(J,H){return this.extraStreamInfo[J]=H,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var J in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(J)&&(this.streamInfo[J]=this.extraStreamInfo[J])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var J="Worker "+this.name;return this.previous?this.previous+" -> "+J:J}},_t.exports=K},{}],29:[function(_e,_t,Me){"use strict";var K=_e("../utils"),J=_e("./ConvertWorker"),H=_e("./GenericWorker"),Z=_e("../base64"),fe=_e("../support"),Ee=_e("../external"),me=null;if(fe.nodestream)try{me=_e("../nodejs/NodejsStreamOutputAdapter")}catch(re){}function j(re,V,q){var N=V;switch(V){case"blob":case"arraybuffer":N="uint8array";break;case"base64":N="string"}try{this._internalType=N,this._outputType=V,this._mimeType=q,K.checkSupport(N),this._worker=re.pipe(new J(N)),re.lock()}catch(te){this._worker=new H("error"),this._worker.error(te)}}j.prototype={accumulate:function(re){return function be(re,V){return new Ee.Promise(function(q,N){var te=[],he=re._internalType,Ae=re._outputType,Fe=re._mimeType;re.on("data",function(dt,st){te.push(dt),V&&V(st)}).on("error",function(dt){te=[],N(dt)}).on("end",function(){try{var dt=function(st,Rt,nt){switch(st){case"blob":return K.newBlob(K.transformTo("arraybuffer",Rt),nt);case"base64":return Z.encode(Rt);default:return K.transformTo(st,Rt)}}(Ae,function(st,Rt){var nt,Bt=0,Hi=null,ve=0;for(nt=0;nt<Rt.length;nt++)ve+=Rt[nt].length;switch(st){case"string":return Rt.join("");case"array":return Array.prototype.concat.apply([],Rt);case"uint8array":for(Hi=new Uint8Array(ve),nt=0;nt<Rt.length;nt++)Hi.set(Rt[nt],Bt),Bt+=Rt[nt].length;return Hi;case"nodebuffer":return Buffer.concat(Rt);default:throw new Error("concat : unsupported type '"+st+"'")}}(he,te),Fe);q(dt)}catch(st){N(st)}te=[]}).resume()})}(this,re)},on:function(re,V){var q=this;return this._worker.on(re,"data"===re?function(N){V.call(q,N.data,N.meta)}:function(){K.delay(V,arguments,q)}),this},resume:function(){return K.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(re){if(K.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new me(this,{objectMode:"nodebuffer"!==this._outputType},re)}},_t.exports=j},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(_e,_t,Me){"use strict";if(Me.base64=!0,Me.array=!0,Me.string=!0,Me.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,Me.nodebuffer="undefined"!=typeof Buffer,Me.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)Me.blob=!1;else{var K=new ArrayBuffer(0);try{Me.blob=0===new Blob([K],{type:"application/zip"}).size}catch(H){try{var J=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);J.append(K),Me.blob=0===J.getBlob("application/zip").size}catch(Z){Me.blob=!1}}}try{Me.nodestream=!!_e("readable-stream").Readable}catch(H){Me.nodestream=!1}},{"readable-stream":16}],31:[function(_e,_t,Me){"use strict";for(var K=_e("./utils"),J=_e("./support"),H=_e("./nodejsUtils"),Z=_e("./stream/GenericWorker"),fe=new Array(256),Ee=0;Ee<256;Ee++)fe[Ee]=252<=Ee?6:248<=Ee?5:240<=Ee?4:224<=Ee?3:192<=Ee?2:1;function me(){Z.call(this,"utf-8 decode"),this.leftOver=null}function be(){Z.call(this,"utf-8 encode")}fe[254]=fe[254]=1,Me.utf8encode=function(j){return J.nodebuffer?H.newBufferFrom(j,"utf-8"):function(re){var V,q,N,te,he,Ae=re.length,Fe=0;for(te=0;te<Ae;te++)55296==(64512&(q=re.charCodeAt(te)))&&te+1<Ae&&56320==(64512&(N=re.charCodeAt(te+1)))&&(q=65536+(q-55296<<10)+(N-56320),te++),Fe+=q<128?1:q<2048?2:q<65536?3:4;for(V=J.uint8array?new Uint8Array(Fe):new Array(Fe),te=he=0;he<Fe;te++)55296==(64512&(q=re.charCodeAt(te)))&&te+1<Ae&&56320==(64512&(N=re.charCodeAt(te+1)))&&(q=65536+(q-55296<<10)+(N-56320),te++),q<128?V[he++]=q:(q<2048?V[he++]=192|q>>>6:(q<65536?V[he++]=224|q>>>12:(V[he++]=240|q>>>18,V[he++]=128|q>>>12&63),V[he++]=128|q>>>6&63),V[he++]=128|63&q);return V}(j)},Me.utf8decode=function(j){return J.nodebuffer?K.transformTo("nodebuffer",j).toString("utf-8"):function(re){var V,q,N,te,he=re.length,Ae=new Array(2*he);for(V=q=0;V<he;)if((N=re[V++])<128)Ae[q++]=N;else if(4<(te=fe[N]))Ae[q++]=65533,V+=te-1;else{for(N&=2===te?31:3===te?15:7;1<te&&V<he;)N=N<<6|63&re[V++],te--;1<te?Ae[q++]=65533:N<65536?Ae[q++]=N:(Ae[q++]=55296|(N-=65536)>>10&1023,Ae[q++]=56320|1023&N)}return Ae.length!==q&&(Ae.subarray?Ae=Ae.subarray(0,q):Ae.length=q),K.applyFromCharCode(Ae)}(j=K.transformTo(J.uint8array?"uint8array":"array",j))},K.inherits(me,Z),me.prototype.processChunk=function(j){var re=K.transformTo(J.uint8array?"uint8array":"array",j.data);if(this.leftOver&&this.leftOver.length){if(J.uint8array){var V=re;(re=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),re.set(V,this.leftOver.length)}else re=this.leftOver.concat(re);this.leftOver=null}var q=function(te,he){var Ae;for((he=he||te.length)>te.length&&(he=te.length),Ae=he-1;0<=Ae&&128==(192&te[Ae]);)Ae--;return Ae<0||0===Ae?he:Ae+fe[te[Ae]]>he?Ae:he}(re),N=re;q!==re.length&&(J.uint8array?(N=re.subarray(0,q),this.leftOver=re.subarray(q,re.length)):(N=re.slice(0,q),this.leftOver=re.slice(q,re.length))),this.push({data:Me.utf8decode(N),meta:j.meta})},me.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Me.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},Me.Utf8DecodeWorker=me,K.inherits(be,Z),be.prototype.processChunk=function(j){this.push({data:Me.utf8encode(j.data),meta:j.meta})},Me.Utf8EncodeWorker=be},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(_e,_t,Me){"use strict";var K=_e("./support"),J=_e("./base64"),H=_e("./nodejsUtils"),Z=_e("./external");function fe(V){return V}function Ee(V,q){for(var N=0;N<V.length;++N)q[N]=255&V.charCodeAt(N);return q}_e("setimmediate"),Me.newBlob=function(V,q){Me.checkSupport("blob");try{return new Blob([V],{type:q})}catch(te){try{var N=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return N.append(V),N.getBlob(q)}catch(he){throw new Error("Bug : can't construct the Blob.")}}};var me={stringifyByChunk:function(V,q,N){var te=[],he=0,Ae=V.length;if(Ae<=N)return String.fromCharCode.apply(null,V);for(;he<Ae;)te.push(String.fromCharCode.apply(null,"array"===q||"nodebuffer"===q?V.slice(he,Math.min(he+N,Ae)):V.subarray(he,Math.min(he+N,Ae)))),he+=N;return te.join("")},stringifyByChar:function(V){for(var q="",N=0;N<V.length;N++)q+=String.fromCharCode(V[N]);return q},applyCanBeUsed:{uint8array:function(){try{return K.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(V){return!1}}(),nodebuffer:function(){try{return K.nodebuffer&&1===String.fromCharCode.apply(null,H.allocBuffer(1)).length}catch(V){return!1}}()}};function be(V){var q=65536,N=Me.getTypeOf(V),te=!0;if("uint8array"===N?te=me.applyCanBeUsed.uint8array:"nodebuffer"===N&&(te=me.applyCanBeUsed.nodebuffer),te)for(;1<q;)try{return me.stringifyByChunk(V,N,q)}catch(he){q=Math.floor(q/2)}return me.stringifyByChar(V)}function j(V,q){for(var N=0;N<V.length;N++)q[N]=V[N];return q}Me.applyFromCharCode=be;var re={};re.string={string:fe,array:function(V){return Ee(V,new Array(V.length))},arraybuffer:function(V){return re.string.uint8array(V).buffer},uint8array:function(V){return Ee(V,new Uint8Array(V.length))},nodebuffer:function(V){return Ee(V,H.allocBuffer(V.length))}},re.array={string:be,array:fe,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return H.newBufferFrom(V)}},re.arraybuffer={string:function(V){return be(new Uint8Array(V))},array:function(V){return j(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:fe,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return H.newBufferFrom(new Uint8Array(V))}},re.uint8array={string:be,array:function(V){return j(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:fe,nodebuffer:function(V){return H.newBufferFrom(V)}},re.nodebuffer={string:be,array:function(V){return j(V,new Array(V.length))},arraybuffer:function(V){return re.nodebuffer.uint8array(V).buffer},uint8array:function(V){return j(V,new Uint8Array(V.length))},nodebuffer:fe},Me.transformTo=function(V,q){if(q=q||"",!V)return q;Me.checkSupport(V);var N=Me.getTypeOf(q);return re[N][V](q)},Me.resolve=function(V){for(var q=V.split("/"),N=[],te=0;te<q.length;te++){var he=q[te];"."===he||""===he&&0!==te&&te!==q.length-1||(".."===he?N.pop():N.push(he))}return N.join("/")},Me.getTypeOf=function(V){return"string"==typeof V?"string":"[object Array]"===Object.prototype.toString.call(V)?"array":K.nodebuffer&&H.isBuffer(V)?"nodebuffer":K.uint8array&&V instanceof Uint8Array?"uint8array":K.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},Me.checkSupport=function(V){if(!K[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},Me.MAX_VALUE_16BITS=65535,Me.MAX_VALUE_32BITS=-1,Me.pretty=function(V){var q,N,te="";for(N=0;N<(V||"").length;N++)te+="\\x"+((q=V.charCodeAt(N))<16?"0":"")+q.toString(16).toUpperCase();return te},Me.delay=function(V,q,N){setImmediate(function(){V.apply(N||null,q||[])})},Me.inherits=function(V,q){function N(){}N.prototype=q.prototype,V.prototype=new N},Me.extend=function(){var V,q,N={};for(V=0;V<arguments.length;V++)for(q in arguments[V])arguments[V].hasOwnProperty(q)&&void 0===N[q]&&(N[q]=arguments[V][q]);return N},Me.prepareContent=function(V,q,N,te,he){return Z.Promise.resolve(q).then(function(Ae){return K.blob&&(Ae instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Ae)))&&"undefined"!=typeof FileReader?new Z.Promise(function(Fe,dt){var st=new FileReader;st.onload=function(Rt){Fe(Rt.target.result)},st.onerror=function(Rt){dt(Rt.target.error)},st.readAsArrayBuffer(Ae)}):Ae}).then(function(Ae){var dt,Fe=Me.getTypeOf(Ae);return Fe?("arraybuffer"===Fe?Ae=Me.transformTo("uint8array",Ae):"string"===Fe&&(he?Ae=J.decode(Ae):N&&!0!==te&&(Ae=Ee(dt=Ae,K.uint8array?new Uint8Array(dt.length):new Array(dt.length)))),Ae):Z.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(_e,_t,Me){"use strict";var K=_e("./reader/readerFor"),J=_e("./utils"),H=_e("./signature"),Z=_e("./zipEntry"),fe=(_e("./utf8"),_e("./support"));function Ee(me){this.files=[],this.loadOptions=me}Ee.prototype={checkSignature:function(me){if(!this.reader.readAndCheckSignature(me)){this.reader.index-=4;var be=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+J.pretty(be)+", expected "+J.pretty(me)+")")}},isSignature:function(me,be){var j=this.reader.index;this.reader.setIndex(me);var re=this.reader.readString(4)===be;return this.reader.setIndex(j),re},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var me=this.reader.readData(this.zipCommentLength),j=J.transformTo(fe.uint8array?"uint8array":"array",me);this.zipComment=this.loadOptions.decodeFileName(j)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var me,be,j,re=this.zip64EndOfCentralSize-44;0<re;)me=this.reader.readInt(2),be=this.reader.readInt(4),j=this.reader.readData(be),this.zip64ExtensibleData[me]={id:me,length:be,value:j}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var me,be;for(me=0;me<this.files.length;me++)this.reader.setIndex((be=this.files[me]).localHeaderOffset),this.checkSignature(H.LOCAL_FILE_HEADER),be.readLocalPart(this.reader),be.handleUTF8(),be.processAttributes()},readCentralDir:function(){var me;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(H.CENTRAL_FILE_HEADER);)(me=new Z({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(me);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var me=this.reader.lastIndexOfSignature(H.CENTRAL_DIRECTORY_END);if(me<0)throw this.isSignature(0,H.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(me);var be=me;if(this.checkSignature(H.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===J.MAX_VALUE_16BITS||this.diskWithCentralDirStart===J.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===J.MAX_VALUE_16BITS||this.centralDirRecords===J.MAX_VALUE_16BITS||this.centralDirSize===J.MAX_VALUE_32BITS||this.centralDirOffset===J.MAX_VALUE_32BITS){if(this.zip64=!0,(me=this.reader.lastIndexOfSignature(H.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(me),this.checkSignature(H.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,H.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(H.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(H.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var re=be-j;if(0<re)this.isSignature(be,H.CENTRAL_FILE_HEADER)||(this.reader.zero=re);else if(re<0)throw new Error("Corrupted zip: missing "+Math.abs(re)+" bytes.")},prepareReader:function(me){this.reader=K(me)},load:function(me){this.prepareReader(me),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},_t.exports=Ee},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(_e,_t,Me){"use strict";var K=_e("./reader/readerFor"),J=_e("./utils"),H=_e("./compressedObject"),Z=_e("./crc32"),fe=_e("./utf8"),Ee=_e("./compressions"),me=_e("./support");function be(j,re){this.options=j,this.loadOptions=re}be.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(j){var re,V;if(j.skip(22),this.fileNameLength=j.readInt(2),V=j.readInt(2),this.fileName=j.readData(this.fileNameLength),j.skip(V),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(re=function(q){for(var N in Ee)if(Ee.hasOwnProperty(N)&&Ee[N].magic===q)return Ee[N];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+J.pretty(this.compressionMethod)+" unknown (inner file : "+J.transformTo("string",this.fileName)+")");this.decompressed=new H(this.compressedSize,this.uncompressedSize,this.crc32,re,j.readData(this.compressedSize))},readCentralPart:function(j){this.versionMadeBy=j.readInt(2),j.skip(2),this.bitFlag=j.readInt(2),this.compressionMethod=j.readString(2),this.date=j.readDate(),this.crc32=j.readInt(4),this.compressedSize=j.readInt(4),this.uncompressedSize=j.readInt(4);var re=j.readInt(2);if(this.extraFieldsLength=j.readInt(2),this.fileCommentLength=j.readInt(2),this.diskNumberStart=j.readInt(2),this.internalFileAttributes=j.readInt(2),this.externalFileAttributes=j.readInt(4),this.localHeaderOffset=j.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");j.skip(re),this.readExtraFields(j),this.parseZIP64ExtraField(j),this.fileComment=j.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==j&&(this.dosPermissions=63&this.externalFileAttributes),3==j&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(j){if(this.extraFields[1]){var re=K(this.extraFields[1].value);this.uncompressedSize===J.MAX_VALUE_32BITS&&(this.uncompressedSize=re.readInt(8)),this.compressedSize===J.MAX_VALUE_32BITS&&(this.compressedSize=re.readInt(8)),this.localHeaderOffset===J.MAX_VALUE_32BITS&&(this.localHeaderOffset=re.readInt(8)),this.diskNumberStart===J.MAX_VALUE_32BITS&&(this.diskNumberStart=re.readInt(4))}},readExtraFields:function(j){var re,V,q,N=j.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});j.index+4<N;)re=j.readInt(2),V=j.readInt(2),q=j.readData(V),this.extraFields[re]={id:re,length:V,value:q};j.setIndex(N)},handleUTF8:function(){var j=me.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=fe.utf8decode(this.fileName),this.fileCommentStr=fe.utf8decode(this.fileComment);else{var re=this.findExtraFieldUnicodePath();if(null!==re)this.fileNameStr=re;else{var V=J.transformTo(j,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var q=this.findExtraFieldUnicodeComment();if(null!==q)this.fileCommentStr=q;else{var N=J.transformTo(j,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var re=K(j.value);return 1!==re.readInt(1)||Z(this.fileName)!==re.readInt(4)?null:fe.utf8decode(re.readData(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var re=K(j.value);return 1!==re.readInt(1)||Z(this.fileComment)!==re.readInt(4)?null:fe.utf8decode(re.readData(j.length-5))}return null}},_t.exports=be},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(_e,_t,Me){"use strict";function K(re,V,q){this.name=re,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=V,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var J=_e("./stream/StreamHelper"),H=_e("./stream/DataWorker"),Z=_e("./utf8"),fe=_e("./compressedObject"),Ee=_e("./stream/GenericWorker");K.prototype={internalStream:function(re){var V=null,q="string";try{if(!re)throw new Error("No output type specified.");var N="string"===(q=re.toLowerCase())||"text"===q;"binarystring"!==q&&"text"!==q||(q="string"),V=this._decompressWorker();var te=!this._dataBinary;te&&!N&&(V=V.pipe(new Z.Utf8EncodeWorker)),!te&&N&&(V=V.pipe(new Z.Utf8DecodeWorker))}catch(he){(V=new Ee("error")).error(he)}return new J(V,q,"")},async:function(re,V){return this.internalStream(re).accumulate(V)},nodeStream:function(re,V){return this.internalStream(re||"nodebuffer").toNodejsStream(V)},_compressWorker:function(re,V){if(this._data instanceof fe&&this._data.compression.magic===re.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new Z.Utf8EncodeWorker)),fe.createWorkerFrom(q,re,V)},_decompressWorker:function(){return this._data instanceof fe?this._data.getContentWorker():this._data instanceof Ee?this._data:new H(this._data)}};for(var me=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],be=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},j=0;j<me.length;j++)K.prototype[me[j]]=be;_t.exports=K},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(_e,_t,Me){(function(K){"use strict";var J,H,Z=K.MutationObserver||K.WebKitMutationObserver;if(Z){var fe=0,Ee=new Z(re),me=K.document.createTextNode("");Ee.observe(me,{characterData:!0}),J=function(){me.data=fe=++fe%2}}else if(K.setImmediate||void 0===K.MessageChannel)J="document"in K&&"onreadystatechange"in K.document.createElement("script")?function(){var V=K.document.createElement("script");V.onreadystatechange=function(){re(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},K.document.documentElement.appendChild(V)}:function(){setTimeout(re,0)};else{var be=new K.MessageChannel;be.port1.onmessage=re,J=function(){be.port2.postMessage(0)}}var j=[];function re(){var V,q;H=!0;for(var N=j.length;N;){for(q=j,j=[],V=-1;++V<N;)q[V]();N=j.length}H=!1}_t.exports=function(V){1!==j.push(V)||H||J()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(_e,_t,Me){"use strict";var K=_e("immediate");function J(){}var H={},Z=["REJECTED"],fe=["FULFILLED"],Ee=["PENDING"];function me(N){if("function"!=typeof N)throw new TypeError("resolver must be a function");this.state=Ee,this.queue=[],this.outcome=void 0,N!==J&&V(this,N)}function be(N,te,he){this.promise=N,"function"==typeof te&&(this.onFulfilled=te,this.callFulfilled=this.otherCallFulfilled),"function"==typeof he&&(this.onRejected=he,this.callRejected=this.otherCallRejected)}function j(N,te,he){K(function(){var Ae;try{Ae=te(he)}catch(Fe){return H.reject(N,Fe)}Ae===N?H.reject(N,new TypeError("Cannot resolve promise with itself")):H.resolve(N,Ae)})}function re(N){var te=N&&N.then;if(N&&("object"==typeof N||"function"==typeof N)&&"function"==typeof te)return function(){te.apply(N,arguments)}}function V(N,te){var he=!1;function Ae(st){he||(he=!0,H.reject(N,st))}function Fe(st){he||(he=!0,H.resolve(N,st))}var dt=q(function(){te(Fe,Ae)});"error"===dt.status&&Ae(dt.value)}function q(N,te){var he={};try{he.value=N(te),he.status="success"}catch(Ae){he.status="error",he.value=Ae}return he}(_t.exports=me).prototype.finally=function(N){if("function"!=typeof N)return this;var te=this.constructor;return this.then(function(he){return te.resolve(N()).then(function(){return he})},function(he){return te.resolve(N()).then(function(){throw he})})},me.prototype.catch=function(N){return this.then(null,N)},me.prototype.then=function(N,te){if("function"!=typeof N&&this.state===fe||"function"!=typeof te&&this.state===Z)return this;var he=new this.constructor(J);return this.state!==Ee?j(he,this.state===fe?N:te,this.outcome):this.queue.push(new be(he,N,te)),he},be.prototype.callFulfilled=function(N){H.resolve(this.promise,N)},be.prototype.otherCallFulfilled=function(N){j(this.promise,this.onFulfilled,N)},be.prototype.callRejected=function(N){H.reject(this.promise,N)},be.prototype.otherCallRejected=function(N){j(this.promise,this.onRejected,N)},H.resolve=function(N,te){var he=q(re,te);if("error"===he.status)return H.reject(N,he.value);var Ae=he.value;if(Ae)V(N,Ae);else{N.state=fe,N.outcome=te;for(var Fe=-1,dt=N.queue.length;++Fe<dt;)N.queue[Fe].callFulfilled(te)}return N},H.reject=function(N,te){N.state=Z,N.outcome=te;for(var he=-1,Ae=N.queue.length;++he<Ae;)N.queue[he].callRejected(te);return N},me.resolve=function(N){return N instanceof this?N:H.resolve(new this(J),N)},me.reject=function(N){var te=new this(J);return H.reject(te,N)},me.all=function(N){var te=this;if("[object Array]"!==Object.prototype.toString.call(N))return this.reject(new TypeError("must be an array"));var he=N.length,Ae=!1;if(!he)return this.resolve([]);for(var Fe=new Array(he),dt=0,st=-1,Rt=new this(J);++st<he;)nt(N[st],st);return Rt;function nt(Bt,Hi){te.resolve(Bt).then(function(ve){Fe[Hi]=ve,++dt!==he||Ae||(Ae=!0,H.resolve(Rt,Fe))},function(ve){Ae||(Ae=!0,H.reject(Rt,ve))})}},me.race=function(N){if("[object Array]"!==Object.prototype.toString.call(N))return this.reject(new TypeError("must be an array"));var he=N.length,Ae=!1;if(!he)return this.resolve([]);for(var Fe=-1,dt=new this(J);++Fe<he;)this.resolve(N[Fe]).then(function(Rt){Ae||(Ae=!0,H.resolve(dt,Rt))},function(Rt){Ae||(Ae=!0,H.reject(dt,Rt))});return dt}},{immediate:36}],38:[function(_e,_t,Me){"use strict";var K={};(0,_e("./lib/utils/common").assign)(K,_e("./lib/deflate"),_e("./lib/inflate"),_e("./lib/zlib/constants")),_t.exports=K},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(_e,_t,Me){"use strict";var K=_e("./zlib/deflate"),J=_e("./utils/common"),H=_e("./utils/strings"),Z=_e("./zlib/messages"),fe=_e("./zlib/zstream"),Ee=Object.prototype.toString;function V(N){if(!(this instanceof V))return new V(N);this.options=J.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},N||{});var te=this.options;te.raw&&0<te.windowBits?te.windowBits=-te.windowBits:te.gzip&&0<te.windowBits&&te.windowBits<16&&(te.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fe,this.strm.avail_out=0;var he=K.deflateInit2(this.strm,te.level,te.method,te.windowBits,te.memLevel,te.strategy);if(0!==he)throw new Error(Z[he]);if(te.header&&K.deflateSetHeader(this.strm,te.header),te.dictionary){var Ae;if(Ae="string"==typeof te.dictionary?H.string2buf(te.dictionary):"[object ArrayBuffer]"===Ee.call(te.dictionary)?new Uint8Array(te.dictionary):te.dictionary,0!==(he=K.deflateSetDictionary(this.strm,Ae)))throw new Error(Z[he]);this._dict_set=!0}}function q(N,te){var he=new V(te);if(he.push(N,!0),he.err)throw he.msg||Z[he.err];return he.result}V.prototype.push=function(N,te){var he,Ae,Fe=this.strm,dt=this.options.chunkSize;if(this.ended)return!1;Ae=te===~~te?te:!0===te?4:0,Fe.input="string"==typeof N?H.string2buf(N):"[object ArrayBuffer]"===Ee.call(N)?new Uint8Array(N):N,Fe.next_in=0,Fe.avail_in=Fe.input.length;do{if(0===Fe.avail_out&&(Fe.output=new J.Buf8(dt),Fe.next_out=0,Fe.avail_out=dt),1!==(he=K.deflate(Fe,Ae))&&0!==he)return this.onEnd(he),!(this.ended=!0);0!==Fe.avail_out&&(0!==Fe.avail_in||4!==Ae&&2!==Ae)||this.onData("string"===this.options.to?H.buf2binstring(J.shrinkBuf(Fe.output,Fe.next_out)):J.shrinkBuf(Fe.output,Fe.next_out))}while((0<Fe.avail_in||0===Fe.avail_out)&&1!==he);return 4===Ae?(he=K.deflateEnd(this.strm),this.onEnd(he),this.ended=!0,0===he):2!==Ae||(this.onEnd(0),!(Fe.avail_out=0))},V.prototype.onData=function(N){this.chunks.push(N)},V.prototype.onEnd=function(N){0===N&&(this.result="string"===this.options.to?this.chunks.join(""):J.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},Me.Deflate=V,Me.deflate=q,Me.deflateRaw=function(N,te){return(te=te||{}).raw=!0,q(N,te)},Me.gzip=function(N,te){return(te=te||{}).gzip=!0,q(N,te)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(_e,_t,Me){"use strict";var K=_e("./zlib/inflate"),J=_e("./utils/common"),H=_e("./utils/strings"),Z=_e("./zlib/constants"),fe=_e("./zlib/messages"),Ee=_e("./zlib/zstream"),me=_e("./zlib/gzheader"),be=Object.prototype.toString;function j(V){if(!(this instanceof j))return new j(V);this.options=J.assign({chunkSize:16384,windowBits:0,to:""},V||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,0===q.windowBits&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||V&&V.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&0==(15&q.windowBits)&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ee,this.strm.avail_out=0;var N=K.inflateInit2(this.strm,q.windowBits);if(N!==Z.Z_OK)throw new Error(fe[N]);this.header=new me,K.inflateGetHeader(this.strm,this.header)}function re(V,q){var N=new j(q);if(N.push(V,!0),N.err)throw N.msg||fe[N.err];return N.result}j.prototype.push=function(V,q){var N,te,he,Ae,Fe,dt,st=this.strm,Rt=this.options.chunkSize,nt=this.options.dictionary,Bt=!1;if(this.ended)return!1;te=q===~~q?q:!0===q?Z.Z_FINISH:Z.Z_NO_FLUSH,st.input="string"==typeof V?H.binstring2buf(V):"[object ArrayBuffer]"===be.call(V)?new Uint8Array(V):V,st.next_in=0,st.avail_in=st.input.length;do{if(0===st.avail_out&&(st.output=new J.Buf8(Rt),st.next_out=0,st.avail_out=Rt),(N=K.inflate(st,Z.Z_NO_FLUSH))===Z.Z_NEED_DICT&&nt&&(dt="string"==typeof nt?H.string2buf(nt):"[object ArrayBuffer]"===be.call(nt)?new Uint8Array(nt):nt,N=K.inflateSetDictionary(this.strm,dt)),N===Z.Z_BUF_ERROR&&!0===Bt&&(N=Z.Z_OK,Bt=!1),N!==Z.Z_STREAM_END&&N!==Z.Z_OK)return this.onEnd(N),!(this.ended=!0);st.next_out&&(0!==st.avail_out&&N!==Z.Z_STREAM_END&&(0!==st.avail_in||te!==Z.Z_FINISH&&te!==Z.Z_SYNC_FLUSH)||("string"===this.options.to?(he=H.utf8border(st.output,st.next_out),Ae=st.next_out-he,Fe=H.buf2string(st.output,he),st.next_out=Ae,st.avail_out=Rt-Ae,Ae&&J.arraySet(st.output,st.output,he,Ae,0),this.onData(Fe)):this.onData(J.shrinkBuf(st.output,st.next_out)))),0===st.avail_in&&0===st.avail_out&&(Bt=!0)}while((0<st.avail_in||0===st.avail_out)&&N!==Z.Z_STREAM_END);return N===Z.Z_STREAM_END&&(te=Z.Z_FINISH),te===Z.Z_FINISH?(N=K.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===Z.Z_OK):te!==Z.Z_SYNC_FLUSH||(this.onEnd(Z.Z_OK),!(st.avail_out=0))},j.prototype.onData=function(V){this.chunks.push(V)},j.prototype.onEnd=function(V){V===Z.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):J.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},Me.Inflate=j,Me.inflate=re,Me.inflateRaw=function(V,q){return(q=q||{}).raw=!0,re(V,q)},Me.ungzip=re},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(_e,_t,Me){"use strict";var K="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;Me.assign=function(Z){for(var fe=Array.prototype.slice.call(arguments,1);fe.length;){var Ee=fe.shift();if(Ee){if("object"!=typeof Ee)throw new TypeError(Ee+"must be non-object");for(var me in Ee)Ee.hasOwnProperty(me)&&(Z[me]=Ee[me])}}return Z},Me.shrinkBuf=function(Z,fe){return Z.length===fe?Z:Z.subarray?Z.subarray(0,fe):(Z.length=fe,Z)};var J={arraySet:function(Z,fe,Ee,me,be){if(fe.subarray&&Z.subarray)Z.set(fe.subarray(Ee,Ee+me),be);else for(var j=0;j<me;j++)Z[be+j]=fe[Ee+j]},flattenChunks:function(Z){var fe,Ee,me,be,j,re;for(fe=me=0,Ee=Z.length;fe<Ee;fe++)me+=Z[fe].length;for(re=new Uint8Array(me),fe=be=0,Ee=Z.length;fe<Ee;fe++)re.set(j=Z[fe],be),be+=j.length;return re}},H={arraySet:function(Z,fe,Ee,me,be){for(var j=0;j<me;j++)Z[be+j]=fe[Ee+j]},flattenChunks:function(Z){return[].concat.apply([],Z)}};Me.setTyped=function(Z){Z?(Me.Buf8=Uint8Array,Me.Buf16=Uint16Array,Me.Buf32=Int32Array,Me.assign(Me,J)):(Me.Buf8=Array,Me.Buf16=Array,Me.Buf32=Array,Me.assign(Me,H))},Me.setTyped(K)},{}],42:[function(_e,_t,Me){"use strict";var K=_e("./common"),J=!0,H=!0;try{String.fromCharCode.apply(null,[0])}catch(me){J=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(me){H=!1}for(var Z=new K.Buf8(256),fe=0;fe<256;fe++)Z[fe]=252<=fe?6:248<=fe?5:240<=fe?4:224<=fe?3:192<=fe?2:1;function Ee(me,be){if(be<65537&&(me.subarray&&H||!me.subarray&&J))return String.fromCharCode.apply(null,K.shrinkBuf(me,be));for(var j="",re=0;re<be;re++)j+=String.fromCharCode(me[re]);return j}Z[254]=Z[254]=1,Me.string2buf=function(me){var be,j,re,V,q,N=me.length,te=0;for(V=0;V<N;V++)55296==(64512&(j=me.charCodeAt(V)))&&V+1<N&&56320==(64512&(re=me.charCodeAt(V+1)))&&(j=65536+(j-55296<<10)+(re-56320),V++),te+=j<128?1:j<2048?2:j<65536?3:4;for(be=new K.Buf8(te),V=q=0;q<te;V++)55296==(64512&(j=me.charCodeAt(V)))&&V+1<N&&56320==(64512&(re=me.charCodeAt(V+1)))&&(j=65536+(j-55296<<10)+(re-56320),V++),j<128?be[q++]=j:(j<2048?be[q++]=192|j>>>6:(j<65536?be[q++]=224|j>>>12:(be[q++]=240|j>>>18,be[q++]=128|j>>>12&63),be[q++]=128|j>>>6&63),be[q++]=128|63&j);return be},Me.buf2binstring=function(me){return Ee(me,me.length)},Me.binstring2buf=function(me){for(var be=new K.Buf8(me.length),j=0,re=be.length;j<re;j++)be[j]=me.charCodeAt(j);return be},Me.buf2string=function(me,be){var j,re,V,q,N=be||me.length,te=new Array(2*N);for(j=re=0;j<N;)if((V=me[j++])<128)te[re++]=V;else if(4<(q=Z[V]))te[re++]=65533,j+=q-1;else{for(V&=2===q?31:3===q?15:7;1<q&&j<N;)V=V<<6|63&me[j++],q--;1<q?te[re++]=65533:V<65536?te[re++]=V:(te[re++]=55296|(V-=65536)>>10&1023,te[re++]=56320|1023&V)}return Ee(te,re)},Me.utf8border=function(me,be){var j;for((be=be||me.length)>me.length&&(be=me.length),j=be-1;0<=j&&128==(192&me[j]);)j--;return j<0||0===j?be:j+Z[me[j]]>be?j:be}},{"./common":41}],43:[function(_e,_t,Me){"use strict";_t.exports=function(K,J,H,Z){for(var fe=65535&K|0,Ee=K>>>16&65535|0,me=0;0!==H;){for(H-=me=2e3<H?2e3:H;Ee=Ee+(fe=fe+J[Z++]|0)|0,--me;);fe%=65521,Ee%=65521}return fe|Ee<<16|0}},{}],44:[function(_e,_t,Me){"use strict";_t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(_e,_t,Me){"use strict";var K=function(){for(var J,H=[],Z=0;Z<256;Z++){J=Z;for(var fe=0;fe<8;fe++)J=1&J?3988292384^J>>>1:J>>>1;H[Z]=J}return H}();_t.exports=function(J,H,Z,fe){var Ee=K,me=fe+Z;J^=-1;for(var be=fe;be<me;be++)J=J>>>8^Ee[255&(J^H[be])];return-1^J}},{}],46:[function(_e,_t,Me){"use strict";var K,J=_e("../utils/common"),H=_e("./trees"),Z=_e("./adler32"),fe=_e("./crc32"),Ee=_e("./messages"),Bt=258,Hi=262;function vn(R,ht){return R.msg=Ee[ht],ht}function Ft(R){return(R<<1)-(4<R?9:0)}function ji(R){for(var ht=R.length;0<=--ht;)R[ht]=0}function qe(R){var ht=R.state,Je=ht.pending;Je>R.avail_out&&(Je=R.avail_out),0!==Je&&(J.arraySet(R.output,ht.pending_buf,ht.pending_out,Je,R.next_out),R.next_out+=Je,ht.pending_out+=Je,R.total_out+=Je,R.avail_out-=Je,ht.pending-=Je,0===ht.pending&&(ht.pending_out=0))}function Ue(R,ht){H._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,ht),R.block_start=R.strstart,qe(R.strm)}function Ni(R,ht){R.pending_buf[R.pending++]=ht}function di(R,ht){R.pending_buf[R.pending++]=ht>>>8&255,R.pending_buf[R.pending++]=255&ht}function It(R,ht){var Je,se,Q=R.max_chain_length,Pe=R.strstart,bt=R.prev_length,Tt=R.nice_match,He=R.strstart>R.w_size-Hi?R.strstart-(R.w_size-Hi):0,Pt=R.window,Xt=R.w_mask,At=R.prev,Fi=R.strstart+Bt,Ks=Pt[Pe+bt-1],Zn=Pt[Pe+bt];R.prev_length>=R.good_match&&(Q>>=2),Tt>R.lookahead&&(Tt=R.lookahead);do{if(Pt[(Je=ht)+bt]===Zn&&Pt[Je+bt-1]===Ks&&Pt[Je]===Pt[Pe]&&Pt[++Je]===Pt[Pe+1]){Pe+=2,Je++;do{}while(Pt[++Pe]===Pt[++Je]&&Pt[++Pe]===Pt[++Je]&&Pt[++Pe]===Pt[++Je]&&Pt[++Pe]===Pt[++Je]&&Pt[++Pe]===Pt[++Je]&&Pt[++Pe]===Pt[++Je]&&Pt[++Pe]===Pt[++Je]&&Pt[++Pe]===Pt[++Je]&&Pe<Fi);if(se=Bt-(Fi-Pe),Pe=Fi-Bt,bt<se){if(R.match_start=ht,Tt<=(bt=se))break;Ks=Pt[Pe+bt-1],Zn=Pt[Pe+bt]}}}while((ht=At[ht&Xt])>He&&0!=--Q);return bt<=R.lookahead?bt:R.lookahead}function Zs(R){var ht,Je,se,Q,Pe,bt,Tt,He,Pt,Xt,At=R.w_size;do{if(Q=R.window_size-R.lookahead-R.strstart,R.strstart>=At+(At-Hi)){for(J.arraySet(R.window,R.window,At,At,0),R.match_start-=At,R.strstart-=At,R.block_start-=At,ht=Je=R.hash_size;se=R.head[--ht],R.head[ht]=At<=se?se-At:0,--Je;);for(ht=Je=At;se=R.prev[--ht],R.prev[ht]=At<=se?se-At:0,--Je;);Q+=At}if(0===R.strm.avail_in)break;if(Tt=R.window,He=R.strstart+R.lookahead,Xt=void 0,(Pt=Q)<(Xt=(bt=R.strm).avail_in)&&(Xt=Pt),Je=0===Xt?0:(bt.avail_in-=Xt,J.arraySet(Tt,bt.input,bt.next_in,Xt,He),1===bt.state.wrap?bt.adler=Z(bt.adler,Tt,Xt,He):2===bt.state.wrap&&(bt.adler=fe(bt.adler,Tt,Xt,He)),bt.next_in+=Xt,bt.total_in+=Xt,Xt),R.lookahead+=Je,R.lookahead+R.insert>=3)for(R.ins_h=R.window[Pe=R.strstart-R.insert],R.ins_h=(R.ins_h<<R.hash_shift^R.window[Pe+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[Pe+3-1])&R.hash_mask,R.prev[Pe&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=Pe,Pe++,R.insert--,!(R.lookahead+R.insert<3)););}while(R.lookahead<Hi&&0!==R.strm.avail_in)}function Jo(R,ht){for(var Je,se;;){if(R.lookahead<Hi){if(Zs(R),R.lookahead<Hi&&0===ht)return 1;if(0===R.lookahead)break}if(Je=0,R.lookahead>=3&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+3-1])&R.hash_mask,Je=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),0!==Je&&R.strstart-Je<=R.w_size-Hi&&(R.match_length=It(R,Je)),R.match_length>=3)if(se=H._tr_tally(R,R.strstart-R.match_start,R.match_length-3),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=3){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+3-1])&R.hash_mask,Je=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,0!=--R.match_length;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else se=H._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(se&&(Ue(R,!1),0===R.strm.avail_out))return 1}return R.insert=R.strstart<2?R.strstart:2,4===ht?(Ue(R,!0),0===R.strm.avail_out?3:4):R.last_lit&&(Ue(R,!1),0===R.strm.avail_out)?1:2}function wn(R,ht){for(var Je,se,Q;;){if(R.lookahead<Hi){if(Zs(R),R.lookahead<Hi&&0===ht)return 1;if(0===R.lookahead)break}if(Je=0,R.lookahead>=3&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+3-1])&R.hash_mask,Je=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=2,0!==Je&&R.prev_length<R.max_lazy_match&&R.strstart-Je<=R.w_size-Hi&&(R.match_length=It(R,Je),R.match_length<=5&&(1===R.strategy||3===R.match_length&&4096<R.strstart-R.match_start)&&(R.match_length=2)),R.prev_length>=3&&R.match_length<=R.prev_length){for(Q=R.strstart+R.lookahead-3,se=H._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-3),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=Q&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+3-1])&R.hash_mask,Je=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),0!=--R.prev_length;);if(R.match_available=0,R.match_length=2,R.strstart++,se&&(Ue(R,!1),0===R.strm.avail_out))return 1}else if(R.match_available){if((se=H._tr_tally(R,0,R.window[R.strstart-1]))&&Ue(R,!1),R.strstart++,R.lookahead--,0===R.strm.avail_out)return 1}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(se=H._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<2?R.strstart:2,4===ht?(Ue(R,!0),0===R.strm.avail_out?3:4):R.last_lit&&(Ue(R,!1),0===R.strm.avail_out)?1:2}function bn(R,ht,Je,se,Q){this.good_length=R,this.max_lazy=ht,this.nice_length=Je,this.max_chain=se,this.func=Q}function Es(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new J.Buf16(1146),this.dyn_dtree=new J.Buf16(122),this.bl_tree=new J.Buf16(78),ji(this.dyn_ltree),ji(this.dyn_dtree),ji(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new J.Buf16(16),this.heap=new J.Buf16(573),ji(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new J.Buf16(573),ji(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pr(R){var ht;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=2,(ht=R.state).pending=0,ht.pending_out=0,ht.wrap<0&&(ht.wrap=-ht.wrap),ht.status=ht.wrap?42:113,R.adler=2===ht.wrap?0:1,ht.last_flush=0,H._tr_init(ht),0):vn(R,-2)}function Lo(R){var Je,ht=Pr(R);return 0===ht&&((Je=R.state).window_size=2*Je.w_size,ji(Je.head),Je.max_lazy_match=K[Je.level].max_lazy,Je.good_match=K[Je.level].good_length,Je.nice_match=K[Je.level].nice_length,Je.max_chain_length=K[Je.level].max_chain,Je.strstart=0,Je.block_start=0,Je.lookahead=0,Je.insert=0,Je.match_length=Je.prev_length=2,Je.match_available=0,Je.ins_h=0),ht}function sa(R,ht,Je,se,Q,Pe){if(!R)return-2;var bt=1;if(-1===ht&&(ht=6),se<0?(bt=0,se=-se):15<se&&(bt=2,se-=16),Q<1||9<Q||8!==Je||se<8||15<se||ht<0||9<ht||Pe<0||4<Pe)return vn(R,-2);8===se&&(se=9);var Tt=new Es;return(R.state=Tt).strm=R,Tt.wrap=bt,Tt.gzhead=null,Tt.w_bits=se,Tt.w_size=1<<Tt.w_bits,Tt.w_mask=Tt.w_size-1,Tt.hash_bits=Q+7,Tt.hash_size=1<<Tt.hash_bits,Tt.hash_mask=Tt.hash_size-1,Tt.hash_shift=~~((Tt.hash_bits+3-1)/3),Tt.window=new J.Buf8(2*Tt.w_size),Tt.head=new J.Buf16(Tt.hash_size),Tt.prev=new J.Buf16(Tt.w_size),Tt.lit_bufsize=1<<Q+6,Tt.pending_buf_size=4*Tt.lit_bufsize,Tt.pending_buf=new J.Buf8(Tt.pending_buf_size),Tt.d_buf=1*Tt.lit_bufsize,Tt.l_buf=3*Tt.lit_bufsize,Tt.level=ht,Tt.strategy=Pe,Tt.method=Je,Lo(R)}K=[new bn(0,0,0,0,function(R,ht){var Je=65535;for(Je>R.pending_buf_size-5&&(Je=R.pending_buf_size-5);;){if(R.lookahead<=1){if(Zs(R),0===R.lookahead&&0===ht)return 1;if(0===R.lookahead)break}R.strstart+=R.lookahead,R.lookahead=0;var se=R.block_start+Je;if((0===R.strstart||R.strstart>=se)&&(R.lookahead=R.strstart-se,R.strstart=se,Ue(R,!1),0===R.strm.avail_out)||R.strstart-R.block_start>=R.w_size-Hi&&(Ue(R,!1),0===R.strm.avail_out))return 1}return R.insert=0,4===ht?(Ue(R,!0),0===R.strm.avail_out?3:4):(R.strstart>R.block_start&&Ue(R,!1),1)}),new bn(4,4,8,4,Jo),new bn(4,5,16,8,Jo),new bn(4,6,32,32,Jo),new bn(4,4,16,16,wn),new bn(8,16,32,32,wn),new bn(8,16,128,128,wn),new bn(8,32,128,256,wn),new bn(32,128,258,1024,wn),new bn(32,258,258,4096,wn)],Me.deflateInit=function(R,ht){return sa(R,ht,8,15,8,0)},Me.deflateInit2=sa,Me.deflateReset=Lo,Me.deflateResetKeep=Pr,Me.deflateSetHeader=function(R,ht){return R&&R.state?2!==R.state.wrap?-2:(R.state.gzhead=ht,0):-2},Me.deflate=function(R,ht){var Je,se,Q,Pe;if(!R||!R.state||5<ht||ht<0)return R?vn(R,-2):-2;if(se=R.state,!R.output||!R.input&&0!==R.avail_in||666===se.status&&4!==ht)return vn(R,0===R.avail_out?-5:-2);if(se.strm=R,Je=se.last_flush,se.last_flush=ht,42===se.status)if(2===se.wrap)R.adler=0,Ni(se,31),Ni(se,139),Ni(se,8),se.gzhead?(Ni(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),Ni(se,255&se.gzhead.time),Ni(se,se.gzhead.time>>8&255),Ni(se,se.gzhead.time>>16&255),Ni(se,se.gzhead.time>>24&255),Ni(se,9===se.level?2:2<=se.strategy||se.level<2?4:0),Ni(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(Ni(se,255&se.gzhead.extra.length),Ni(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(R.adler=fe(R.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(Ni(se,0),Ni(se,0),Ni(se,0),Ni(se,0),Ni(se,0),Ni(se,9===se.level?2:2<=se.strategy||se.level<2?4:0),Ni(se,3),se.status=113);else{var bt=8+(se.w_bits-8<<4)<<8;bt|=(2<=se.strategy||se.level<2?0:se.level<6?1:6===se.level?2:3)<<6,0!==se.strstart&&(bt|=32),bt+=31-bt%31,se.status=113,di(se,bt),0!==se.strstart&&(di(se,R.adler>>>16),di(se,65535&R.adler)),R.adler=1}if(69===se.status)if(se.gzhead.extra){for(Q=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>Q&&(R.adler=fe(R.adler,se.pending_buf,se.pending-Q,Q)),qe(R),Q=se.pending,se.pending!==se.pending_buf_size));)Ni(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>Q&&(R.adler=fe(R.adler,se.pending_buf,se.pending-Q,Q)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(73===se.status)if(se.gzhead.name){Q=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>Q&&(R.adler=fe(R.adler,se.pending_buf,se.pending-Q,Q)),qe(R),Q=se.pending,se.pending===se.pending_buf_size)){Pe=1;break}Pe=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,Ni(se,Pe)}while(0!==Pe);se.gzhead.hcrc&&se.pending>Q&&(R.adler=fe(R.adler,se.pending_buf,se.pending-Q,Q)),0===Pe&&(se.gzindex=0,se.status=91)}else se.status=91;if(91===se.status)if(se.gzhead.comment){Q=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>Q&&(R.adler=fe(R.adler,se.pending_buf,se.pending-Q,Q)),qe(R),Q=se.pending,se.pending===se.pending_buf_size)){Pe=1;break}Pe=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,Ni(se,Pe)}while(0!==Pe);se.gzhead.hcrc&&se.pending>Q&&(R.adler=fe(R.adler,se.pending_buf,se.pending-Q,Q)),0===Pe&&(se.status=103)}else se.status=103;if(103===se.status&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&qe(R),se.pending+2<=se.pending_buf_size&&(Ni(se,255&R.adler),Ni(se,R.adler>>8&255),R.adler=0,se.status=113)):se.status=113),0!==se.pending){if(qe(R),0===R.avail_out)return se.last_flush=-1,0}else if(0===R.avail_in&&Ft(ht)<=Ft(Je)&&4!==ht)return vn(R,-5);if(666===se.status&&0!==R.avail_in)return vn(R,-5);if(0!==R.avail_in||0!==se.lookahead||0!==ht&&666!==se.status){var Tt=2===se.strategy?function(He,Pt){for(var Xt;;){if(0===He.lookahead&&(Zs(He),0===He.lookahead)){if(0===Pt)return 1;break}if(He.match_length=0,Xt=H._tr_tally(He,0,He.window[He.strstart]),He.lookahead--,He.strstart++,Xt&&(Ue(He,!1),0===He.strm.avail_out))return 1}return He.insert=0,4===Pt?(Ue(He,!0),0===He.strm.avail_out?3:4):He.last_lit&&(Ue(He,!1),0===He.strm.avail_out)?1:2}(se,ht):3===se.strategy?function(He,Pt){for(var Xt,At,Fi,Ks,Zn=He.window;;){if(He.lookahead<=Bt){if(Zs(He),He.lookahead<=Bt&&0===Pt)return 1;if(0===He.lookahead)break}if(He.match_length=0,He.lookahead>=3&&0<He.strstart&&(At=Zn[Fi=He.strstart-1])===Zn[++Fi]&&At===Zn[++Fi]&&At===Zn[++Fi]){Ks=He.strstart+Bt;do{}while(At===Zn[++Fi]&&At===Zn[++Fi]&&At===Zn[++Fi]&&At===Zn[++Fi]&&At===Zn[++Fi]&&At===Zn[++Fi]&&At===Zn[++Fi]&&At===Zn[++Fi]&&Fi<Ks);He.match_length=Bt-(Ks-Fi),He.match_length>He.lookahead&&(He.match_length=He.lookahead)}if(He.match_length>=3?(Xt=H._tr_tally(He,1,He.match_length-3),He.lookahead-=He.match_length,He.strstart+=He.match_length,He.match_length=0):(Xt=H._tr_tally(He,0,He.window[He.strstart]),He.lookahead--,He.strstart++),Xt&&(Ue(He,!1),0===He.strm.avail_out))return 1}return He.insert=0,4===Pt?(Ue(He,!0),0===He.strm.avail_out?3:4):He.last_lit&&(Ue(He,!1),0===He.strm.avail_out)?1:2}(se,ht):K[se.level].func(se,ht);if(3!==Tt&&4!==Tt||(se.status=666),1===Tt||3===Tt)return 0===R.avail_out&&(se.last_flush=-1),0;if(2===Tt&&(1===ht?H._tr_align(se):5!==ht&&(H._tr_stored_block(se,0,0,!1),3===ht&&(ji(se.head),0===se.lookahead&&(se.strstart=0,se.block_start=0,se.insert=0))),qe(R),0===R.avail_out))return se.last_flush=-1,0}return 4!==ht?0:se.wrap<=0?1:(2===se.wrap?(Ni(se,255&R.adler),Ni(se,R.adler>>8&255),Ni(se,R.adler>>16&255),Ni(se,R.adler>>24&255),Ni(se,255&R.total_in),Ni(se,R.total_in>>8&255),Ni(se,R.total_in>>16&255),Ni(se,R.total_in>>24&255)):(di(se,R.adler>>>16),di(se,65535&R.adler)),qe(R),0<se.wrap&&(se.wrap=-se.wrap),0!==se.pending?0:1)},Me.deflateEnd=function(R){var ht;return R&&R.state?42!==(ht=R.state.status)&&69!==ht&&73!==ht&&91!==ht&&103!==ht&&113!==ht&&666!==ht?vn(R,-2):(R.state=null,113===ht?vn(R,-3):0):-2},Me.deflateSetDictionary=function(R,ht){var Je,se,Q,Pe,bt,Tt,He,Pt,Xt=ht.length;if(!R||!R.state||2===(Pe=(Je=R.state).wrap)||1===Pe&&42!==Je.status||Je.lookahead)return-2;for(1===Pe&&(R.adler=Z(R.adler,ht,Xt,0)),Je.wrap=0,Xt>=Je.w_size&&(0===Pe&&(ji(Je.head),Je.strstart=0,Je.block_start=0,Je.insert=0),Pt=new J.Buf8(Je.w_size),J.arraySet(Pt,ht,Xt-Je.w_size,Je.w_size,0),ht=Pt,Xt=Je.w_size),bt=R.avail_in,Tt=R.next_in,He=R.input,R.avail_in=Xt,R.next_in=0,R.input=ht,Zs(Je);Je.lookahead>=3;){for(se=Je.strstart,Q=Je.lookahead-2;Je.ins_h=(Je.ins_h<<Je.hash_shift^Je.window[se+3-1])&Je.hash_mask,Je.prev[se&Je.w_mask]=Je.head[Je.ins_h],Je.head[Je.ins_h]=se,se++,--Q;);Je.strstart=se,Je.lookahead=2,Zs(Je)}return Je.strstart+=Je.lookahead,Je.block_start=Je.strstart,Je.insert=Je.lookahead,Je.lookahead=0,Je.match_length=Je.prev_length=2,Je.match_available=0,R.next_in=Tt,R.input=He,R.avail_in=bt,Je.wrap=Pe,0},Me.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(_e,_t,Me){"use strict";_t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(_e,_t,Me){"use strict";_t.exports=function(K,J){var H,Z,fe,Ee,me,be,j,re,V,q,N,te,he,Ae,Fe,dt,st,Rt,nt,Bt,Hi,ve,ct,B,mt;B=K.input,fe=(Z=K.next_in)+(K.avail_in-5),mt=K.output,me=(Ee=K.next_out)-(J-K.avail_out),be=Ee+(K.avail_out-257),j=(H=K.state).dmax,re=H.wsize,V=H.whave,q=H.wnext,N=H.window,te=H.hold,he=H.bits,Ae=H.lencode,Fe=H.distcode,dt=(1<<H.lenbits)-1,st=(1<<H.distbits)-1;e:do{he<15&&(te+=B[Z++]<<he,te+=B[Z++]<<(he+=8),he+=8),Rt=Ae[te&dt];t:for(;;){if(te>>>=nt=Rt>>>24,he-=nt,0==(nt=Rt>>>16&255))mt[Ee++]=65535&Rt;else{if(!(16&nt)){if(0==(64&nt)){Rt=Ae[(65535&Rt)+(te&(1<<nt)-1)];continue t}if(32&nt){H.mode=12;break e}K.msg="invalid literal/length code",H.mode=30;break e}Bt=65535&Rt,(nt&=15)&&(he<nt&&(te+=B[Z++]<<he,he+=8),Bt+=te&(1<<nt)-1,te>>>=nt,he-=nt),he<15&&(te+=B[Z++]<<he,te+=B[Z++]<<(he+=8),he+=8),Rt=Fe[te&st];i:for(;;){if(te>>>=nt=Rt>>>24,he-=nt,!(16&(nt=Rt>>>16&255))){if(0==(64&nt)){Rt=Fe[(65535&Rt)+(te&(1<<nt)-1)];continue i}K.msg="invalid distance code",H.mode=30;break e}if(Hi=65535&Rt,he<(nt&=15)&&(te+=B[Z++]<<he,(he+=8)<nt&&(te+=B[Z++]<<he,he+=8)),j<(Hi+=te&(1<<nt)-1)){K.msg="invalid distance too far back",H.mode=30;break e}if(te>>>=nt,he-=nt,(nt=Ee-me)<Hi){if(V<(nt=Hi-nt)&&H.sane){K.msg="invalid distance too far back",H.mode=30;break e}if(ct=N,(ve=0)===q){if(ve+=re-nt,nt<Bt){for(Bt-=nt;mt[Ee++]=N[ve++],--nt;);ve=Ee-Hi,ct=mt}}else if(q<nt){if(ve+=re+q-nt,(nt-=q)<Bt){for(Bt-=nt;mt[Ee++]=N[ve++],--nt;);if(ve=0,q<Bt){for(Bt-=nt=q;mt[Ee++]=N[ve++],--nt;);ve=Ee-Hi,ct=mt}}}else if(ve+=q-nt,nt<Bt){for(Bt-=nt;mt[Ee++]=N[ve++],--nt;);ve=Ee-Hi,ct=mt}for(;2<Bt;)mt[Ee++]=ct[ve++],mt[Ee++]=ct[ve++],mt[Ee++]=ct[ve++],Bt-=3;Bt&&(mt[Ee++]=ct[ve++],1<Bt&&(mt[Ee++]=ct[ve++]))}else{for(ve=Ee-Hi;mt[Ee++]=mt[ve++],mt[Ee++]=mt[ve++],mt[Ee++]=mt[ve++],2<(Bt-=3););Bt&&(mt[Ee++]=mt[ve++],1<Bt&&(mt[Ee++]=mt[ve++]))}break}}break}}while(Z<fe&&Ee<be);Z-=Bt=he>>3,te&=(1<<(he-=Bt<<3))-1,K.next_in=Z,K.next_out=Ee,K.avail_in=Z<fe?fe-Z+5:5-(Z-fe),K.avail_out=Ee<be?be-Ee+257:257-(Ee-be),H.hold=te,H.bits=he}},{}],49:[function(_e,_t,Me){"use strict";var K=_e("../utils/common"),J=_e("./adler32"),H=_e("./crc32"),Z=_e("./inffast"),fe=_e("./inftrees"),j=-2;function N(ve){return(ve>>>24&255)+(ve>>>8&65280)+((65280&ve)<<8)+((255&ve)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new K.Buf16(320),this.work=new K.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function he(ve){var ct;return ve&&ve.state?(ve.total_in=ve.total_out=(ct=ve.state).total=0,ve.msg="",ct.wrap&&(ve.adler=1&ct.wrap),ct.mode=1,ct.last=0,ct.havedict=0,ct.dmax=32768,ct.head=null,ct.hold=0,ct.bits=0,ct.lencode=ct.lendyn=new K.Buf32(852),ct.distcode=ct.distdyn=new K.Buf32(592),ct.sane=1,ct.back=-1,0):j}function Ae(ve){var ct;return ve&&ve.state?((ct=ve.state).wsize=0,ct.whave=0,ct.wnext=0,he(ve)):j}function Fe(ve,ct){var B,mt;return ve&&ve.state?(mt=ve.state,ct<0?(B=0,ct=-ct):(B=1+(ct>>4),ct<48&&(ct&=15)),ct&&(ct<8||15<ct)?j:(null!==mt.window&&mt.wbits!==ct&&(mt.window=null),mt.wrap=B,mt.wbits=ct,Ae(ve))):j}function dt(ve,ct){var B,mt;return ve?(mt=new te,(ve.state=mt).window=null,0!==(B=Fe(ve,ct))&&(ve.state=null),B):j}var st,Rt,nt=!0;function Bt(ve){if(nt){var ct;for(st=new K.Buf32(512),Rt=new K.Buf32(32),ct=0;ct<144;)ve.lens[ct++]=8;for(;ct<256;)ve.lens[ct++]=9;for(;ct<280;)ve.lens[ct++]=7;for(;ct<288;)ve.lens[ct++]=8;for(fe(1,ve.lens,0,288,st,0,ve.work,{bits:9}),ct=0;ct<32;)ve.lens[ct++]=5;fe(2,ve.lens,0,32,Rt,0,ve.work,{bits:5}),nt=!1}ve.lencode=st,ve.lenbits=9,ve.distcode=Rt,ve.distbits=5}function Hi(ve,ct,B,mt){var Xi,kt=ve.state;return null===kt.window&&(kt.wsize=1<<kt.wbits,kt.wnext=0,kt.whave=0,kt.window=new K.Buf8(kt.wsize)),mt>=kt.wsize?(K.arraySet(kt.window,ct,B-kt.wsize,kt.wsize,0),kt.wnext=0,kt.whave=kt.wsize):(mt<(Xi=kt.wsize-kt.wnext)&&(Xi=mt),K.arraySet(kt.window,ct,B-mt,Xi,kt.wnext),(mt-=Xi)?(K.arraySet(kt.window,ct,B-mt,mt,0),kt.wnext=mt,kt.whave=kt.wsize):(kt.wnext+=Xi,kt.wnext===kt.wsize&&(kt.wnext=0),kt.whave<kt.wsize&&(kt.whave+=Xi))),0}Me.inflateReset=Ae,Me.inflateReset2=Fe,Me.inflateResetKeep=he,Me.inflateInit=function(ve){return dt(ve,15)},Me.inflateInit2=dt,Me.inflate=function(ve,ct){var B,mt,Xi,kt,vn,Ft,ji,qe,Ue,Ni,di,It,Zs,Jo,wn,bn,Es,Pr,Lo,sa,R,ht,Je,se,Q=0,Pe=new K.Buf8(4),bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ve||!ve.state||!ve.output||!ve.input&&0!==ve.avail_in)return j;12===(B=ve.state).mode&&(B.mode=13),vn=ve.next_out,Xi=ve.output,kt=ve.next_in,mt=ve.input,qe=B.hold,Ue=B.bits,Ni=Ft=ve.avail_in,di=ji=ve.avail_out,ht=0;e:for(;;)switch(B.mode){case 1:if(0===B.wrap){B.mode=13;break}for(;Ue<16;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(2&B.wrap&&35615===qe){Pe[B.check=0]=255&qe,Pe[1]=qe>>>8&255,B.check=H(B.check,Pe,2,0),Ue=qe=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&qe)<<8)+(qe>>8))%31){ve.msg="incorrect header check",B.mode=30;break}if(8!=(15&qe)){ve.msg="unknown compression method",B.mode=30;break}if(Ue-=4,R=8+(15&(qe>>>=4)),0===B.wbits)B.wbits=R;else if(R>B.wbits){ve.msg="invalid window size",B.mode=30;break}B.dmax=1<<R,ve.adler=B.check=1,B.mode=512&qe?10:12,Ue=qe=0;break;case 2:for(;Ue<16;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(B.flags=qe,8!=(255&B.flags)){ve.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){ve.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=qe>>8&1),512&B.flags&&(Pe[0]=255&qe,Pe[1]=qe>>>8&255,B.check=H(B.check,Pe,2,0)),Ue=qe=0,B.mode=3;case 3:for(;Ue<32;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}B.head&&(B.head.time=qe),512&B.flags&&(Pe[0]=255&qe,Pe[1]=qe>>>8&255,Pe[2]=qe>>>16&255,Pe[3]=qe>>>24&255,B.check=H(B.check,Pe,4,0)),Ue=qe=0,B.mode=4;case 4:for(;Ue<16;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}B.head&&(B.head.xflags=255&qe,B.head.os=qe>>8),512&B.flags&&(Pe[0]=255&qe,Pe[1]=qe>>>8&255,B.check=H(B.check,Pe,2,0)),Ue=qe=0,B.mode=5;case 5:if(1024&B.flags){for(;Ue<16;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}B.length=qe,B.head&&(B.head.extra_len=qe),512&B.flags&&(Pe[0]=255&qe,Pe[1]=qe>>>8&255,B.check=H(B.check,Pe,2,0)),Ue=qe=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(Ft<(It=B.length)&&(It=Ft),It&&(B.head&&(R=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),K.arraySet(B.head.extra,mt,kt,It,R)),512&B.flags&&(B.check=H(B.check,mt,It,kt)),Ft-=It,kt+=It,B.length-=It),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(0===Ft)break e;for(It=0;R=mt[kt+It++],B.head&&R&&B.length<65536&&(B.head.name+=String.fromCharCode(R)),R&&It<Ft;);if(512&B.flags&&(B.check=H(B.check,mt,It,kt)),Ft-=It,kt+=It,R)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(0===Ft)break e;for(It=0;R=mt[kt+It++],B.head&&R&&B.length<65536&&(B.head.comment+=String.fromCharCode(R)),R&&It<Ft;);if(512&B.flags&&(B.check=H(B.check,mt,It,kt)),Ft-=It,kt+=It,R)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;Ue<16;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(qe!==(65535&B.check)){ve.msg="header crc mismatch",B.mode=30;break}Ue=qe=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),ve.adler=B.check=0,B.mode=12;break;case 10:for(;Ue<32;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}ve.adler=B.check=N(qe),Ue=qe=0,B.mode=11;case 11:if(0===B.havedict)return ve.next_out=vn,ve.avail_out=ji,ve.next_in=kt,ve.avail_in=Ft,B.hold=qe,B.bits=Ue,2;ve.adler=B.check=1,B.mode=12;case 12:if(5===ct||6===ct)break e;case 13:if(B.last){qe>>>=7&Ue,Ue-=7&Ue,B.mode=27;break}for(;Ue<3;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}switch(B.last=1&qe,Ue-=1,3&(qe>>>=1)){case 0:B.mode=14;break;case 1:if(Bt(B),B.mode=20,6!==ct)break;qe>>>=2,Ue-=2;break e;case 2:B.mode=17;break;case 3:ve.msg="invalid block type",B.mode=30}qe>>>=2,Ue-=2;break;case 14:for(qe>>>=7&Ue,Ue-=7&Ue;Ue<32;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if((65535&qe)!=(qe>>>16^65535)){ve.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&qe,Ue=qe=0,B.mode=15,6===ct)break e;case 15:B.mode=16;case 16:if(It=B.length){if(Ft<It&&(It=Ft),ji<It&&(It=ji),0===It)break e;K.arraySet(Xi,mt,kt,It,vn),Ft-=It,kt+=It,ji-=It,vn+=It,B.length-=It;break}B.mode=12;break;case 17:for(;Ue<14;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(B.nlen=257+(31&qe),Ue-=5,B.ndist=1+(31&(qe>>>=5)),Ue-=5,B.ncode=4+(15&(qe>>>=5)),qe>>>=4,Ue-=4,286<B.nlen||30<B.ndist){ve.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;Ue<3;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}B.lens[bt[B.have++]]=7&qe,qe>>>=3,Ue-=3}for(;B.have<19;)B.lens[bt[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,ht=fe(0,B.lens,0,19,B.lencode,0,B.work,Je={bits:B.lenbits}),B.lenbits=Je.bits,ht){ve.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;bn=(Q=B.lencode[qe&(1<<B.lenbits)-1])>>>16&255,Es=65535&Q,!((wn=Q>>>24)<=Ue);){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(Es<16)qe>>>=wn,Ue-=wn,B.lens[B.have++]=Es;else{if(16===Es){for(se=wn+2;Ue<se;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(qe>>>=wn,Ue-=wn,0===B.have){ve.msg="invalid bit length repeat",B.mode=30;break}R=B.lens[B.have-1],It=3+(3&qe),qe>>>=2,Ue-=2}else if(17===Es){for(se=wn+3;Ue<se;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}Ue-=wn,R=0,It=3+(7&(qe>>>=wn)),qe>>>=3,Ue-=3}else{for(se=wn+7;Ue<se;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}Ue-=wn,R=0,It=11+(127&(qe>>>=wn)),qe>>>=7,Ue-=7}if(B.have+It>B.nlen+B.ndist){ve.msg="invalid bit length repeat",B.mode=30;break}for(;It--;)B.lens[B.have++]=R}}if(30===B.mode)break;if(0===B.lens[256]){ve.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,ht=fe(1,B.lens,0,B.nlen,B.lencode,0,B.work,Je={bits:B.lenbits}),B.lenbits=Je.bits,ht){ve.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,ht=fe(2,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Je={bits:B.distbits}),B.distbits=Je.bits,ht){ve.msg="invalid distances set",B.mode=30;break}if(B.mode=20,6===ct)break e;case 20:B.mode=21;case 21:if(6<=Ft&&258<=ji){ve.next_out=vn,ve.avail_out=ji,ve.next_in=kt,ve.avail_in=Ft,B.hold=qe,B.bits=Ue,Z(ve,di),vn=ve.next_out,Xi=ve.output,ji=ve.avail_out,kt=ve.next_in,mt=ve.input,Ft=ve.avail_in,qe=B.hold,Ue=B.bits,12===B.mode&&(B.back=-1);break}for(B.back=0;bn=(Q=B.lencode[qe&(1<<B.lenbits)-1])>>>16&255,Es=65535&Q,!((wn=Q>>>24)<=Ue);){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(bn&&0==(240&bn)){for(Pr=wn,Lo=bn,sa=Es;bn=(Q=B.lencode[sa+((qe&(1<<Pr+Lo)-1)>>Pr)])>>>16&255,Es=65535&Q,!(Pr+(wn=Q>>>24)<=Ue);){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}qe>>>=Pr,Ue-=Pr,B.back+=Pr}if(qe>>>=wn,Ue-=wn,B.back+=wn,B.length=Es,0===bn){B.mode=26;break}if(32&bn){B.back=-1,B.mode=12;break}if(64&bn){ve.msg="invalid literal/length code",B.mode=30;break}B.extra=15&bn,B.mode=22;case 22:if(B.extra){for(se=B.extra;Ue<se;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}B.length+=qe&(1<<B.extra)-1,qe>>>=B.extra,Ue-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;bn=(Q=B.distcode[qe&(1<<B.distbits)-1])>>>16&255,Es=65535&Q,!((wn=Q>>>24)<=Ue);){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(0==(240&bn)){for(Pr=wn,Lo=bn,sa=Es;bn=(Q=B.distcode[sa+((qe&(1<<Pr+Lo)-1)>>Pr)])>>>16&255,Es=65535&Q,!(Pr+(wn=Q>>>24)<=Ue);){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}qe>>>=Pr,Ue-=Pr,B.back+=Pr}if(qe>>>=wn,Ue-=wn,B.back+=wn,64&bn){ve.msg="invalid distance code",B.mode=30;break}B.offset=Es,B.extra=15&bn,B.mode=24;case 24:if(B.extra){for(se=B.extra;Ue<se;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}B.offset+=qe&(1<<B.extra)-1,qe>>>=B.extra,Ue-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){ve.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(0===ji)break e;if(B.offset>(It=di-ji)){if((It=B.offset-It)>B.whave&&B.sane){ve.msg="invalid distance too far back",B.mode=30;break}Zs=It>B.wnext?B.wsize-(It-=B.wnext):B.wnext-It,It>B.length&&(It=B.length),Jo=B.window}else Jo=Xi,Zs=vn-B.offset,It=B.length;for(ji<It&&(It=ji),ji-=It,B.length-=It;Xi[vn++]=Jo[Zs++],--It;);0===B.length&&(B.mode=21);break;case 26:if(0===ji)break e;Xi[vn++]=B.length,ji--,B.mode=21;break;case 27:if(B.wrap){for(;Ue<32;){if(0===Ft)break e;Ft--,qe|=mt[kt++]<<Ue,Ue+=8}if(ve.total_out+=di-=ji,B.total+=di,di&&(ve.adler=B.check=B.flags?H(B.check,Xi,di,vn-di):J(B.check,Xi,di,vn-di)),di=ji,(B.flags?qe:N(qe))!==B.check){ve.msg="incorrect data check",B.mode=30;break}Ue=qe=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;Ue<32;){if(0===Ft)break e;Ft--,qe+=mt[kt++]<<Ue,Ue+=8}if(qe!==(4294967295&B.total)){ve.msg="incorrect length check",B.mode=30;break}Ue=qe=0}B.mode=29;case 29:ht=1;break e;case 30:ht=-3;break e;case 31:return-4;default:return j}return ve.next_out=vn,ve.avail_out=ji,ve.next_in=kt,ve.avail_in=Ft,B.hold=qe,B.bits=Ue,(B.wsize||di!==ve.avail_out&&B.mode<30&&(B.mode<27||4!==ct))&&Hi(ve,ve.output,ve.next_out,di-ve.avail_out)?(B.mode=31,-4):(di-=ve.avail_out,ve.total_in+=Ni-=ve.avail_in,ve.total_out+=di,B.total+=di,B.wrap&&di&&(ve.adler=B.check=B.flags?H(B.check,Xi,di,ve.next_out-di):J(B.check,Xi,di,ve.next_out-di)),ve.data_type=B.bits+(B.last?64:0)+(12===B.mode?128:0)+(20===B.mode||15===B.mode?256:0),(0==Ni&&0===di||4===ct)&&0===ht&&(ht=-5),ht)},Me.inflateEnd=function(ve){if(!ve||!ve.state)return j;var ct=ve.state;return ct.window&&(ct.window=null),ve.state=null,0},Me.inflateGetHeader=function(ve,ct){var B;return ve&&ve.state?0==(2&(B=ve.state).wrap)?j:((B.head=ct).done=!1,0):j},Me.inflateSetDictionary=function(ve,ct){var B,mt=ct.length;return ve&&ve.state?0!==(B=ve.state).wrap&&11!==B.mode?j:11===B.mode&&J(1,ct,mt,0)!==B.check?-3:Hi(ve,ct,mt,mt)?(B.mode=31,-4):(B.havedict=1,0):j},Me.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(_e,_t,Me){"use strict";var K=_e("../utils/common"),J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],H=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],fe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];_t.exports=function(Ee,me,be,j,re,V,q,N){var te,he,Ae,Fe,dt,st,Rt,nt,Bt,Hi=N.bits,ve=0,ct=0,B=0,mt=0,Xi=0,kt=0,vn=0,Ft=0,ji=0,qe=0,Ue=null,Ni=0,di=new K.Buf16(16),It=new K.Buf16(16),Zs=null,Jo=0;for(ve=0;ve<=15;ve++)di[ve]=0;for(ct=0;ct<j;ct++)di[me[be+ct]]++;for(Xi=Hi,mt=15;1<=mt&&0===di[mt];mt--);if(mt<Xi&&(Xi=mt),0===mt)return re[V++]=20971520,re[V++]=20971520,N.bits=1,0;for(B=1;B<mt&&0===di[B];B++);for(Xi<B&&(Xi=B),ve=Ft=1;ve<=15;ve++)if(Ft<<=1,(Ft-=di[ve])<0)return-1;if(0<Ft&&(0===Ee||1!==mt))return-1;for(It[1]=0,ve=1;ve<15;ve++)It[ve+1]=It[ve]+di[ve];for(ct=0;ct<j;ct++)0!==me[be+ct]&&(q[It[me[be+ct]]++]=ct);if(st=0===Ee?(Ue=Zs=q,19):1===Ee?(Ue=J,Ni-=257,Zs=H,Jo-=257,256):(Ue=Z,Zs=fe,-1),ve=B,dt=V,vn=ct=qe=0,Ae=-1,Fe=(ji=1<<(kt=Xi))-1,1===Ee&&852<ji||2===Ee&&592<ji)return 1;for(;;){for(Rt=ve-vn,Bt=q[ct]<st?(nt=0,q[ct]):q[ct]>st?(nt=Zs[Jo+q[ct]],Ue[Ni+q[ct]]):(nt=96,0),te=1<<ve-vn,B=he=1<<kt;re[dt+(qe>>vn)+(he-=te)]=Rt<<24|nt<<16|Bt|0,0!==he;);for(te=1<<ve-1;qe&te;)te>>=1;if(0!==te?(qe&=te-1,qe+=te):qe=0,ct++,0==--di[ve]){if(ve===mt)break;ve=me[be+q[ct]]}if(Xi<ve&&(qe&Fe)!==Ae){for(0===vn&&(vn=Xi),dt+=B,Ft=1<<(kt=ve-vn);kt+vn<mt&&!((Ft-=di[kt+vn])<=0);)kt++,Ft<<=1;if(ji+=1<<kt,1===Ee&&852<ji||2===Ee&&592<ji)return 1;re[Ae=qe&Fe]=Xi<<24|kt<<16|dt-V|0}}return 0!==qe&&(re[dt+qe]=ve-vn<<24|64<<16|0),N.bits=Xi,0}},{"../utils/common":41}],51:[function(_e,_t,Me){"use strict";_t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(_e,_t,Me){"use strict";var K=_e("../utils/common");function Z(Q){for(var Pe=Q.length;0<=--Pe;)Q[Pe]=0}var j=30,q=15,st=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Rt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Hi=new Array(576);Z(Hi);var ve=new Array(60);Z(ve);var ct=new Array(512);Z(ct);var B=new Array(256);Z(B);var mt=new Array(29);Z(mt);var Xi,kt,vn,Ft=new Array(j);function ji(Q,Pe,bt,Tt,He){this.static_tree=Q,this.extra_bits=Pe,this.extra_base=bt,this.elems=Tt,this.max_length=He,this.has_stree=Q&&Q.length}function qe(Q,Pe){this.dyn_tree=Q,this.max_code=0,this.stat_desc=Pe}function Ue(Q){return Q<256?ct[Q]:ct[256+(Q>>>7)]}function Ni(Q,Pe){Q.pending_buf[Q.pending++]=255&Pe,Q.pending_buf[Q.pending++]=Pe>>>8&255}function di(Q,Pe,bt){Q.bi_valid>16-bt?(Q.bi_buf|=Pe<<Q.bi_valid&65535,Ni(Q,Q.bi_buf),Q.bi_buf=Pe>>16-Q.bi_valid,Q.bi_valid+=bt-16):(Q.bi_buf|=Pe<<Q.bi_valid&65535,Q.bi_valid+=bt)}function It(Q,Pe,bt){di(Q,bt[2*Pe],bt[2*Pe+1])}function Zs(Q,Pe){for(var bt=0;bt|=1&Q,Q>>>=1,bt<<=1,0<--Pe;);return bt>>>1}function Jo(Q,Pe,bt){var Tt,He,Pt=new Array(16),Xt=0;for(Tt=1;Tt<=q;Tt++)Pt[Tt]=Xt=Xt+bt[Tt-1]<<1;for(He=0;He<=Pe;He++){var At=Q[2*He+1];0!==At&&(Q[2*He]=Zs(Pt[At]++,At))}}function wn(Q){var Pe;for(Pe=0;Pe<286;Pe++)Q.dyn_ltree[2*Pe]=0;for(Pe=0;Pe<j;Pe++)Q.dyn_dtree[2*Pe]=0;for(Pe=0;Pe<19;Pe++)Q.bl_tree[2*Pe]=0;Q.dyn_ltree[512]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function bn(Q){8<Q.bi_valid?Ni(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function Es(Q,Pe,bt,Tt){var He=2*Pe,Pt=2*bt;return Q[He]<Q[Pt]||Q[He]===Q[Pt]&&Tt[Pe]<=Tt[bt]}function Pr(Q,Pe,bt){for(var Tt=Q.heap[bt],He=bt<<1;He<=Q.heap_len&&(He<Q.heap_len&&Es(Pe,Q.heap[He+1],Q.heap[He],Q.depth)&&He++,!Es(Pe,Tt,Q.heap[He],Q.depth));)Q.heap[bt]=Q.heap[He],bt=He,He<<=1;Q.heap[bt]=Tt}function Lo(Q,Pe,bt){var Tt,He,Pt,Xt,At=0;if(0!==Q.last_lit)for(;Tt=Q.pending_buf[Q.d_buf+2*At]<<8|Q.pending_buf[Q.d_buf+2*At+1],He=Q.pending_buf[Q.l_buf+At],At++,0===Tt?It(Q,He,Pe):(It(Q,(Pt=B[He])+256+1,Pe),0!==(Xt=st[Pt])&&di(Q,He-=mt[Pt],Xt),It(Q,Pt=Ue(--Tt),bt),0!==(Xt=Rt[Pt])&&di(Q,Tt-=Ft[Pt],Xt)),At<Q.last_lit;);It(Q,256,Pe)}function sa(Q,Pe){var bt,Tt,He,Pt=Pe.dyn_tree,Xt=Pe.stat_desc.static_tree,At=Pe.stat_desc.has_stree,Fi=Pe.stat_desc.elems,Ks=-1;for(Q.heap_len=0,Q.heap_max=573,bt=0;bt<Fi;bt++)0!==Pt[2*bt]?(Q.heap[++Q.heap_len]=Ks=bt,Q.depth[bt]=0):Pt[2*bt+1]=0;for(;Q.heap_len<2;)Pt[2*(He=Q.heap[++Q.heap_len]=Ks<2?++Ks:0)]=1,Q.depth[He]=0,Q.opt_len--,At&&(Q.static_len-=Xt[2*He+1]);for(Pe.max_code=Ks,bt=Q.heap_len>>1;1<=bt;bt--)Pr(Q,Pt,bt);for(He=Fi;bt=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],Pr(Q,Pt,1),Tt=Q.heap[1],Q.heap[--Q.heap_max]=bt,Q.heap[--Q.heap_max]=Tt,Pt[2*He]=Pt[2*bt]+Pt[2*Tt],Q.depth[He]=(Q.depth[bt]>=Q.depth[Tt]?Q.depth[bt]:Q.depth[Tt])+1,Pt[2*bt+1]=Pt[2*Tt+1]=He,Q.heap[1]=He++,Pr(Q,Pt,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],function(Zn,Oo){var ch,$c,Ku,Kr,jp,km,dh=Oo.dyn_tree,HC=Oo.max_code,Yu=Oo.stat_desc.static_tree,Am=Oo.stat_desc.has_stree,Ev=Oo.stat_desc.extra_bits,$g=Oo.stat_desc.extra_base,Qu=Oo.stat_desc.max_length,Xu=0;for(Kr=0;Kr<=q;Kr++)Zn.bl_count[Kr]=0;for(dh[2*Zn.heap[Zn.heap_max]+1]=0,ch=Zn.heap_max+1;ch<573;ch++)Qu<(Kr=dh[2*dh[2*($c=Zn.heap[ch])+1]+1]+1)&&(Kr=Qu,Xu++),dh[2*$c+1]=Kr,HC<$c||(Zn.bl_count[Kr]++,jp=0,$g<=$c&&(jp=Ev[$c-$g]),Zn.opt_len+=(km=dh[2*$c])*(Kr+jp),Am&&(Zn.static_len+=km*(Yu[2*$c+1]+jp)));if(0!==Xu){do{for(Kr=Qu-1;0===Zn.bl_count[Kr];)Kr--;Zn.bl_count[Kr]--,Zn.bl_count[Kr+1]+=2,Zn.bl_count[Qu]--,Xu-=2}while(0<Xu);for(Kr=Qu;0!==Kr;Kr--)for($c=Zn.bl_count[Kr];0!==$c;)HC<(Ku=Zn.heap[--ch])||(dh[2*Ku+1]!==Kr&&(Zn.opt_len+=(Kr-dh[2*Ku+1])*dh[2*Ku],dh[2*Ku+1]=Kr),$c--)}}(Q,Pe),Jo(Pt,Ks,Q.bl_count)}function R(Q,Pe,bt){var Tt,He,Pt=-1,Xt=Pe[1],At=0,Fi=7,Ks=4;for(0===Xt&&(Fi=138,Ks=3),Pe[2*(bt+1)+1]=65535,Tt=0;Tt<=bt;Tt++)He=Xt,Xt=Pe[2*(Tt+1)+1],++At<Fi&&He===Xt||(At<Ks?Q.bl_tree[2*He]+=At:0!==He?(He!==Pt&&Q.bl_tree[2*He]++,Q.bl_tree[32]++):At<=10?Q.bl_tree[34]++:Q.bl_tree[36]++,Pt=He,Ks=(At=0)===Xt?(Fi=138,3):He===Xt?(Fi=6,3):(Fi=7,4))}function ht(Q,Pe,bt){var Tt,He,Pt=-1,Xt=Pe[1],At=0,Fi=7,Ks=4;for(0===Xt&&(Fi=138,Ks=3),Tt=0;Tt<=bt;Tt++)if(He=Xt,Xt=Pe[2*(Tt+1)+1],!(++At<Fi&&He===Xt)){if(At<Ks)for(;It(Q,He,Q.bl_tree),0!=--At;);else 0!==He?(He!==Pt&&(It(Q,He,Q.bl_tree),At--),It(Q,16,Q.bl_tree),di(Q,At-3,2)):At<=10?(It(Q,17,Q.bl_tree),di(Q,At-3,3)):(It(Q,18,Q.bl_tree),di(Q,At-11,7));Pt=He,Ks=(At=0)===Xt?(Fi=138,3):He===Xt?(Fi=6,3):(Fi=7,4)}}Z(Ft);var Je=!1;function se(Q,Pe,bt,Tt){var He,Pt,Xt;di(Q,0+(Tt?1:0),3),Pt=Pe,Xt=bt,bn(He=Q),Ni(He,Xt),Ni(He,~Xt),K.arraySet(He.pending_buf,He.window,Pt,Xt,He.pending),He.pending+=Xt}Me._tr_init=function(Q){Je||(function(){var Pe,bt,Tt,He,Pt,Xt=new Array(16);for(He=Tt=0;He<28;He++)for(mt[He]=Tt,Pe=0;Pe<1<<st[He];Pe++)B[Tt++]=He;for(B[Tt-1]=He,He=Pt=0;He<16;He++)for(Ft[He]=Pt,Pe=0;Pe<1<<Rt[He];Pe++)ct[Pt++]=He;for(Pt>>=7;He<j;He++)for(Ft[He]=Pt<<7,Pe=0;Pe<1<<Rt[He]-7;Pe++)ct[256+Pt++]=He;for(bt=0;bt<=q;bt++)Xt[bt]=0;for(Pe=0;Pe<=143;)Hi[2*Pe+1]=8,Pe++,Xt[8]++;for(;Pe<=255;)Hi[2*Pe+1]=9,Pe++,Xt[9]++;for(;Pe<=279;)Hi[2*Pe+1]=7,Pe++,Xt[7]++;for(;Pe<=287;)Hi[2*Pe+1]=8,Pe++,Xt[8]++;for(Jo(Hi,287,Xt),Pe=0;Pe<j;Pe++)ve[2*Pe+1]=5,ve[2*Pe]=Zs(Pe,5);Xi=new ji(Hi,st,257,286,q),kt=new ji(ve,Rt,0,j,q),vn=new ji(new Array(0),nt,0,19,7)}(),Je=!0),Q.l_desc=new qe(Q.dyn_ltree,Xi),Q.d_desc=new qe(Q.dyn_dtree,kt),Q.bl_desc=new qe(Q.bl_tree,vn),Q.bi_buf=0,Q.bi_valid=0,wn(Q)},Me._tr_stored_block=se,Me._tr_flush_block=function(Q,Pe,bt,Tt){var He,Pt,Xt=0;0<Q.level?(2===Q.strm.data_type&&(Q.strm.data_type=function(At){var Fi,Ks=4093624447;for(Fi=0;Fi<=31;Fi++,Ks>>>=1)if(1&Ks&&0!==At.dyn_ltree[2*Fi])return 0;if(0!==At.dyn_ltree[18]||0!==At.dyn_ltree[20]||0!==At.dyn_ltree[26])return 1;for(Fi=32;Fi<256;Fi++)if(0!==At.dyn_ltree[2*Fi])return 1;return 0}(Q)),sa(Q,Q.l_desc),sa(Q,Q.d_desc),Xt=function(At){var Fi;for(R(At,At.dyn_ltree,At.l_desc.max_code),R(At,At.dyn_dtree,At.d_desc.max_code),sa(At,At.bl_desc),Fi=18;3<=Fi&&0===At.bl_tree[2*Bt[Fi]+1];Fi--);return At.opt_len+=3*(Fi+1)+5+5+4,Fi}(Q),(Pt=Q.static_len+3+7>>>3)<=(He=Q.opt_len+3+7>>>3)&&(He=Pt)):He=Pt=bt+5,bt+4<=He&&-1!==Pe?se(Q,Pe,bt,Tt):4===Q.strategy||Pt===He?(di(Q,2+(Tt?1:0),3),Lo(Q,Hi,ve)):(di(Q,4+(Tt?1:0),3),function(At,Fi,Ks,Zn){var Oo;for(di(At,Fi-257,5),di(At,Ks-1,5),di(At,Zn-4,4),Oo=0;Oo<Zn;Oo++)di(At,At.bl_tree[2*Bt[Oo]+1],3);ht(At,At.dyn_ltree,Fi-1),ht(At,At.dyn_dtree,Ks-1)}(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,Xt+1),Lo(Q,Q.dyn_ltree,Q.dyn_dtree)),wn(Q),Tt&&bn(Q)},Me._tr_tally=function(Q,Pe,bt){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=Pe>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&Pe,Q.pending_buf[Q.l_buf+Q.last_lit]=255&bt,Q.last_lit++,0===Pe?Q.dyn_ltree[2*bt]++:(Q.matches++,Pe--,Q.dyn_ltree[2*(B[bt]+256+1)]++,Q.dyn_dtree[2*Ue(Pe)]++),Q.last_lit===Q.lit_bufsize-1},Me._tr_align=function(Q){var Pe;di(Q,2,3),It(Q,256,Hi),16===(Pe=Q).bi_valid?(Ni(Pe,Pe.bi_buf),Pe.bi_buf=0,Pe.bi_valid=0):8<=Pe.bi_valid&&(Pe.pending_buf[Pe.pending++]=255&Pe.bi_buf,Pe.bi_buf>>=8,Pe.bi_valid-=8)}},{"../utils/common":41}],53:[function(_e,_t,Me){"use strict";_t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(_e,_t,Me){(function(K){!function(J,H){"use strict";if(!J.setImmediate){var Z,fe,Ee,me,be=1,j={},re=!1,V=J.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(J);q=q&&q.setTimeout?q:J,Z="[object process]"==={}.toString.call(J.process)?function(Ae){process.nextTick(function(){te(Ae)})}:function(){if(J.postMessage&&!J.importScripts){var Ae=!0,Fe=J.onmessage;return J.onmessage=function(){Ae=!1},J.postMessage("","*"),J.onmessage=Fe,Ae}}()?(me="setImmediate$"+Math.random()+"$",J.addEventListener?J.addEventListener("message",he,!1):J.attachEvent("onmessage",he),function(Ae){J.postMessage(me+Ae,"*")}):J.MessageChannel?((Ee=new MessageChannel).port1.onmessage=function(Ae){te(Ae.data)},function(Ae){Ee.port2.postMessage(Ae)}):V&&"onreadystatechange"in V.createElement("script")?(fe=V.documentElement,function(Ae){var Fe=V.createElement("script");Fe.onreadystatechange=function(){te(Ae),Fe.onreadystatechange=null,fe.removeChild(Fe),Fe=null},fe.appendChild(Fe)}):function(Ae){setTimeout(te,0,Ae)},q.setImmediate=function(Ae){"function"!=typeof Ae&&(Ae=new Function(""+Ae));for(var Fe=new Array(arguments.length-1),dt=0;dt<Fe.length;dt++)Fe[dt]=arguments[dt+1];return j[be]={callback:Ae,args:Fe},Z(be),be++},q.clearImmediate=N}function N(Ae){delete j[Ae]}function te(Ae){if(re)setTimeout(te,0,Ae);else{var Fe=j[Ae];if(Fe){re=!0;try{!function(dt){var st=dt.callback,Rt=dt.args;switch(Rt.length){case 0:st();break;case 1:st(Rt[0]);break;case 2:st(Rt[0],Rt[1]);break;case 3:st(Rt[0],Rt[1],Rt[2]);break;default:st.apply(undefined,Rt)}}(Fe)}finally{N(Ae),re=!1}}}}function he(Ae){Ae.source===J&&"string"==typeof Ae.data&&0===Ae.data.indexOf(me)&&te(+Ae.data.slice(me.length))}}("undefined"==typeof self?void 0===K?this:K:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},596:(Da,_e,_t)=>{Da=_t.nmd(Da);var K="__lodash_hash_undefined__",Z=9007199254740991,fe="[object Arguments]",V="[object Function]",Ae="[object Object]",Ni=/^\[object .+?Constructor\]$/,di=/^(?:0|[1-9]\d*)$/,It={};It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It[fe]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It[V]=It["[object Map]"]=It["[object Number]"]=It[Ae]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;var Zs="object"==typeof global&&global&&global.Object===Object&&global,Jo="object"==typeof self&&self&&self.Object===Object&&self,wn=Zs||Jo||Function("return this")(),bn=_e&&!_e.nodeType&&_e,Es=bn&&Da&&!Da.nodeType&&Da,Pr=Es&&Es.exports===bn,Lo=Pr&&Zs.process,sa=function(){try{return Es&&Es.require&&Es.require("util").types||Lo&&Lo.binding&&Lo.binding("util")}catch(De){}}(),R=sa&&sa.isTypedArray;function ht($,De,Qe){switch(Qe.length){case 0:return $.call(De);case 1:return $.call(De,Qe[0]);case 2:return $.call(De,Qe[0],Qe[1]);case 3:return $.call(De,Qe[0],Qe[1],Qe[2])}return $.apply(De,Qe)}var $,bt=Array.prototype,He=Object.prototype,Pt=wn["__core-js_shared__"],Xt=Function.prototype.toString,At=He.hasOwnProperty,Fi=($=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",Ks=He.toString,Zn=Xt.call(Object),Oo=RegExp("^"+Xt.call(At).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ch=Pr?wn.Buffer:void 0,$c=wn.Symbol,Ku=wn.Uint8Array,Kr=ch?ch.allocUnsafe:void 0,jp=function Pe($,De){return function(Qe){return $(De(Qe))}}(Object.getPrototypeOf,Object),km=Object.create,dh=He.propertyIsEnumerable,HC=bt.splice,Yu=$c?$c.toStringTag:void 0,Am=function(){try{var $=hi(Object,"defineProperty");return $({},"",{}),$}catch(De){}}(),Ev=ch?ch.isBuffer:void 0,$g=Math.max,Qu=Date.now,Xu=hi(wn,"Map"),Kg=hi(Object,"create"),dA=function(){function $(){}return function(De){if(!Qg(De))return{};if(km)return km(De);$.prototype=De;var Qe=new $;return $.prototype=void 0,Qe}}();function Ju($){var De=-1,Qe=null==$?0:$.length;for(this.clear();++De<Qe;){var ui=$[De];this.set(ui[0],ui[1])}}function $h($){var De=-1,Qe=null==$?0:$.length;for(this.clear();++De<Qe;){var ui=$[De];this.set(ui[0],ui[1])}}function uc($){var De=-1,Qe=null==$?0:$.length;for(this.clear();++De<Qe;){var ui=$[De];this.set(ui[0],ui[1])}}function Yg($){var De=this.__data__=new $h($);this.size=De.size}function Rv($,De,Qe){(void 0!==Qe&&!YC($[De],Qe)||void 0===Qe&&!(De in $))&&GC($,De,Qe)}function wA($,De,Qe){var ui=$[De];(!At.call($,De)||!YC(ui,Qe)||void 0===Qe&&!(De in $))&&GC($,De,Qe)}function kv($,De){for(var Qe=$.length;Qe--;)if(YC($[Qe][0],De))return Qe;return-1}function GC($,De,Qe){"__proto__"==De&&Am?Am($,De,{configurable:!0,enumerable:!0,value:Qe,writable:!0}):$[De]=Qe}Ju.prototype.clear=function mS(){this.__data__=Kg?Kg(null):{},this.size=0},Ju.prototype.delete=function vS($){var De=this.has($)&&delete this.__data__[$];return this.size-=De?1:0,De},Ju.prototype.get=function yS($){var De=this.__data__;if(Kg){var Qe=De[$];return Qe===K?void 0:Qe}return At.call(De,$)?De[$]:void 0},Ju.prototype.has=function Zu($){var De=this.__data__;return Kg?void 0!==De[$]:At.call(De,$)},Ju.prototype.set=function hA($,De){var Qe=this.__data__;return this.size+=this.has($)?0:1,Qe[$]=Kg&&void 0===De?K:De,this},$h.prototype.clear=function uA(){this.__data__=[],this.size=0},$h.prototype.delete=function pA($){var De=this.__data__,Qe=kv(De,$);return!(Qe<0||(Qe==De.length-1?De.pop():HC.call(De,Qe,1),--this.size,0))},$h.prototype.get=function xS($){var De=this.__data__,Qe=kv(De,$);return Qe<0?void 0:De[Qe][1]},$h.prototype.has=function gA($){return kv(this.__data__,$)>-1},$h.prototype.set=function fA($,De){var Qe=this.__data__,ui=kv(Qe,$);return ui<0?(++this.size,Qe.push([$,De])):Qe[ui][1]=De,this},uc.prototype.clear=function mA(){this.size=0,this.__data__={hash:new Ju,map:new(Xu||$h),string:new Ju}},uc.prototype.delete=function Tv($){var De=$C(this,$).delete($);return this.size-=De?1:0,De},uc.prototype.get=function vA($){return $C(this,$).get($)},uc.prototype.has=function zC($){return $C(this,$).has($)},uc.prototype.set=function AH($,De){var Qe=$C(this,$),ui=Qe.size;return Qe.set($,De),this.size+=Qe.size==ui?0:1,this},Yg.prototype.clear=function yA(){this.__data__=new $h,this.size=0},Yg.prototype.delete=function jC($){var De=this.__data__,Qe=De.delete($);return this.size=De.size,Qe},Yg.prototype.get=function xA($){return this.__data__.get($)},Yg.prototype.has=function CS($){return this.__data__.has($)},Yg.prototype.set=function CA($,De){var Qe=this.__data__;if(Qe instanceof $h){var ui=Qe.__data__;if(!Xu||ui.length<199)return ui.push([$,De]),this.size=++Qe.size,this;Qe=this.__data__=new uc(ui)}return Qe.set($,De),this.size=Qe.size,this};var bA=function SS($){return function(De,Qe,ui){for(var us=-1,ai=Object(De),vr=ui(De),es=vr.length;es--;){var Ts=vr[$?es:++us];if(!1===Qe(ai[Ts],Ts,ai))break}return De}}();function Mm($){return null==$?void 0===$?"[object Undefined]":"[object Null]":Yu&&Yu in Object($)?function KC($){var De=At.call($,Yu),Qe=$[Yu];try{$[Yu]=void 0;var ui=!0}catch(ai){}var us=Ks.call($);return ui&&(De?$[Yu]=Qe:delete $[Yu]),us}($):function PH($){return Ks.call($)}($)}function bS($){return Mv($)&&Mm($)==fe}function _S($,De,Qe,ui,us){$!==De&&bA(De,function(ai,vr){if(us||(us=new Yg),Qg(ai))!function IA($,De,Qe,ui,us,ai,vr){var es=IS($,Qe),Ts=IS(De,Qe),gc=vr.get(Ts);if(gc)Rv($,Qe,gc);else{var Kc=ai?ai(es,Ts,Qe+"",$,De,vr):void 0,Yc=void 0===Kc;if(Yc){var fc=QC(Ts),kS=!fc&&kA(Ts),MA=!fc&&!kS&&xn(Ts);Kc=Ts,fc||kS||MA?QC(es)?Kc=es:function RA($){return Mv($)&&ES($)}(es)?Kc=function DA($,De){var Qe=-1,ui=$.length;for(De||(De=Array(ui));++Qe<ui;)De[Qe]=$[Qe];return De}(es):kS?(Yc=!1,Kc=function WC($,De){if(De)return $.slice();var Qe=$.length,ui=Kr?Kr(Qe):new $.constructor(Qe);return $.copy(ui),ui}(Ts,!0)):MA?(Yc=!1,Kc=function UC($,De){var Qe=De?function Vs($){var De=new $.constructor($.byteLength);return new Ku(De).set(new Ku($)),De}($.buffer):$.buffer;return new $.constructor(Qe,$.byteOffset,$.length)}(Ts,!0)):Kc=[]:function BH($){if(!Mv($)||Mm($)!=Ae)return!1;var De=jp($);if(null===De)return!0;var Qe=At.call(De,"constructor")&&De.constructor;return"function"==typeof Qe&&Qe instanceof Qe&&Xt.call(Qe)==Zn}(Ts)||DS(Ts)?(Kc=es,DS(es)?Kc=function NH($){return function jn($,De,Qe,ui){var us=!Qe;Qe||(Qe={});for(var ai=-1,vr=De.length;++ai<vr;){var es=De[ai],Ts=ui?ui(Qe[es],$[es],es,Qe,$):void 0;void 0===Ts&&(Ts=$[es]),us?GC(Qe,es,Ts):wA(Qe,es,Ts)}return Qe}($,yt($))}(es):(!Qg(es)||Ea(es))&&(Kc=function Zi($){return"function"!=typeof $.constructor||Fm($)?{}:dA(jp($))}(Ts))):Yc=!1}Yc&&(vr.set(Ts,Kc),us(Kc,Ts,ui,ai,vr),vr.delete(Ts)),Rv($,Qe,Kc)}}($,De,vr,Qe,_S,ui,us);else{var es=ui?ui(IS($,vr),ai,vr+"",$,De,us):void 0;void 0===es&&(es=ai),Rv($,vr,es)}},yt)}var er=Am?function($,De){return Am($,"toString",{configurable:!0,enumerable:!1,value:TS(De),writable:!0})}:RS;function $C($,De){var Qe=$.__data__;return function MH($){var De=typeof $;return"string"==De||"number"==De||"symbol"==De||"boolean"==De?"__proto__"!==$:null===$}(De)?Qe["string"==typeof De?"string":"hash"]:Qe.map}function hi($,De){var Qe=function Q($,De){return null==$?void 0:$[De]}($,De);return function _A($){return!(!Qg($)||function FH($){return!!Fi&&Fi in $}($))&&(Ea($)?Oo:Ni).test(function OH($){if(null!=$){try{return Xt.call($)}catch(De){}try{return $+""}catch(De){}}return""}($))}(Qe)?Qe:void 0}function ra($,De){var Qe=typeof $;return!!(De=null==De?Z:De)&&("number"==Qe||"symbol"!=Qe&&di.test($))&&$>-1&&$%1==0&&$<De}function Fm($){var De=$&&$.constructor;return $===("function"==typeof De&&De.prototype||He)}function IS($,De){if(("constructor"!==De||"function"!=typeof $[De])&&"__proto__"!=De)return $[De]}var Kh=function LH($){var De=0,Qe=0;return function(){var ui=Qu(),us=16-(ui-Qe);if(Qe=ui,us>0){if(++De>=800)return arguments[0]}else De=0;return $.apply(void 0,arguments)}}(er);function YC($,De){return $===De||$!=$&&De!=De}var DS=bS(function(){return arguments}())?bS:function($){return Mv($)&&At.call($,"callee")&&!dh.call($,"callee")},QC=Array.isArray;function ES($){return null!=$&&mr($.length)&&!Ea($)}var kA=Ev||function AA(){return!1};function Ea($){if(!Qg($))return!1;var De=Mm($);return De==V||"[object GeneratorFunction]"==De||"[object AsyncFunction]"==De||"[object Proxy]"==De}function mr($){return"number"==typeof $&&$>-1&&$%1==0&&$<=Z}function Qg($){var De=typeof $;return null!=$&&("object"==De||"function"==De)}function Mv($){return null!=$&&"object"==typeof $}var xn=R?function se($){return function(De){return $(De)}}(R):function Av($){return Mv($)&&mr($.length)&&!!It[Mm($)]};function yt($){return ES($)?function wS($,De){var Qe=QC($),ui=!Qe&&DS($),us=!Qe&&!ui&&kA($),ai=!Qe&&!ui&&!us&&xn($),vr=Qe||ui||us||ai,es=vr?function Je($,De){for(var Qe=-1,ui=Array($);++Qe<$;)ui[Qe]=De(Qe);return ui}($.length,String):[],Ts=es.length;for(var gc in $)(De||At.call($,gc))&&(!vr||!("length"==gc||us&&("offset"==gc||"parent"==gc)||ai&&("buffer"==gc||"byteLength"==gc||"byteOffset"==gc)||ra(gc,Ts)))&&es.push(gc);return es}($,!0):function SA($){if(!Qg($))return function pc($){var De=[];if(null!=$)for(var Qe in Object($))De.push(Qe);return De}($);var De=Fm($),Qe=[];for(var ui in $)"constructor"==ui&&(De||!At.call($,ui))||Qe.push(ui);return Qe}($)}var XC=function yn($){return function qC($,De){return Kh(function TA($,De,Qe){return De=$g(void 0===De?$.length-1:De,0),function(){for(var ui=arguments,us=-1,ai=$g(ui.length-De,0),vr=Array(ai);++us<ai;)vr[us]=ui[De+us];us=-1;for(var es=Array(De+1);++us<De;)es[us]=ui[us];return es[De]=Qe(vr),ht($,this,es)}}($,De,RS),$+"")}(function(De,Qe){var ui=-1,us=Qe.length,ai=us>1?Qe[us-1]:void 0,vr=us>2?Qe[2]:void 0;for(ai=$.length>3&&"function"==typeof ai?(us--,ai):void 0,vr&&function EA($,De,Qe){if(!Qg(Qe))return!1;var ui=typeof De;return!!("number"==ui?ES(Qe)&&ra(De,Qe.length):"string"==ui&&De in Qe)&&YC(Qe[De],$)}(Qe[0],Qe[1],vr)&&(ai=us<3?void 0:ai,us=1),De=Object(De);++ui<us;){var es=Qe[ui];es&&$(De,es,ui,ai)}return De})}(function($,De,Qe,ui){_S($,De,Qe,ui)});function TS($){return function(){return $}}function RS($){return $}Da.exports=XC}},Da=>{Da(Da.s=922)}]);